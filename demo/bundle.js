(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"], function(acequire, exports, module) {
"use strict";
var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var lang = acequire("./lib/lang");
var Range = acequire("./range").Range;
var Anchor = acequire("./anchor").Anchor;
var HashHandler = acequire("./keyboard/hash_handler").HashHandler;
var Tokenizer = acequire("./tokenizer").Tokenizer;
var comparePoints = Range.comparePoints;

var SnippetManager = function() {
    this.snippetMap = {};
    this.snippetNameMap = {};
};

(function() {
    oop.implement(this, EventEmitter);
    
    this.getTokenizer = function() {
        function TabstopToken(str, _, stack) {
            str = str.substr(1);
            if (/^\d+$/.test(str) && !stack.inFormatString)
                return [{tabstopId: parseInt(str, 10)}];
            return [{text: str}];
        }
        function escape(ch) {
            return "(?:[^\\\\" + ch + "]|\\\\.)";
        }
        SnippetManager.$tokenizer = new Tokenizer({
            start: [
                {regex: /:/, onMatch: function(val, state, stack) {
                    if (stack.length && stack[0].expectIf) {
                        stack[0].expectIf = false;
                        stack[0].elseBranch = stack[0];
                        return [stack[0]];
                    }
                    return ":";
                }},
                {regex: /\\./, onMatch: function(val, state, stack) {
                    var ch = val[1];
                    if (ch == "}" && stack.length) {
                        val = ch;
                    }else if ("`$\\".indexOf(ch) != -1) {
                        val = ch;
                    } else if (stack.inFormatString) {
                        if (ch == "n")
                            val = "\n";
                        else if (ch == "t")
                            val = "\n";
                        else if ("ulULE".indexOf(ch) != -1) {
                            val = {changeCase: ch, local: ch > "a"};
                        }
                    }

                    return [val];
                }},
                {regex: /}/, onMatch: function(val, state, stack) {
                    return [stack.length ? stack.shift() : val];
                }},
                {regex: /\$(?:\d+|\w+)/, onMatch: TabstopToken},
                {regex: /\$\{[\dA-Z_a-z]+/, onMatch: function(str, state, stack) {
                    var t = TabstopToken(str.substr(1), state, stack);
                    stack.unshift(t[0]);
                    return t;
                }, next: "snippetVar"},
                {regex: /\n/, token: "newline", merge: false}
            ],
            snippetVar: [
                {regex: "\\|" + escape("\\|") + "*\\|", onMatch: function(val, state, stack) {
                    stack[0].choices = val.slice(1, -1).split(",");
                }, next: "start"},
                {regex: "/(" + escape("/") + "+)/(?:(" + escape("/") + "*)/)(\\w*):?",
                 onMatch: function(val, state, stack) {
                    var ts = stack[0];
                    ts.fmtString = val;

                    val = this.splitRegex.exec(val);
                    ts.guard = val[1];
                    ts.fmt = val[2];
                    ts.flag = val[3];
                    return "";
                }, next: "start"},
                {regex: "`" + escape("`") + "*`", onMatch: function(val, state, stack) {
                    stack[0].code = val.splice(1, -1);
                    return "";
                }, next: "start"},
                {regex: "\\?", onMatch: function(val, state, stack) {
                    if (stack[0])
                        stack[0].expectIf = true;
                }, next: "start"},
                {regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "start"}
            ],
            formatString: [
                {regex: "/(" + escape("/") + "+)/", token: "regex"},
                {regex: "", onMatch: function(val, state, stack) {
                    stack.inFormatString = true;
                }, next: "start"}
            ]
        });
        SnippetManager.prototype.getTokenizer = function() {
            return SnippetManager.$tokenizer;
        };
        return SnippetManager.$tokenizer;
    };

    this.tokenizeTmSnippet = function(str, startState) {
        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {
            return x.value || x;
        });
    };

    this.$getDefaultValue = function(editor, name) {
        if (/^[A-Z]\d+$/.test(name)) {
            var i = name.substr(1);
            return (this.variables[name[0] + "__"] || {})[i];
        }
        if (/^\d+$/.test(name)) {
            return (this.variables.__ || {})[name];
        }
        name = name.replace(/^TM_/, "");

        if (!editor)
            return;
        var s = editor.session;
        switch(name) {
            case "CURRENT_WORD":
                var r = s.getWordRange();
            case "SELECTION":
            case "SELECTED_TEXT":
                return s.getTextRange(r);
            case "CURRENT_LINE":
                return s.getLine(editor.getCursorPosition().row);
            case "PREV_LINE": // not possible in textmate
                return s.getLine(editor.getCursorPosition().row - 1);
            case "LINE_INDEX":
                return editor.getCursorPosition().column;
            case "LINE_NUMBER":
                return editor.getCursorPosition().row + 1;
            case "SOFT_TABS":
                return s.getUseSoftTabs() ? "YES" : "NO";
            case "TAB_SIZE":
                return s.getTabSize();
            case "FILENAME":
            case "FILEPATH":
                return "";
            case "FULLNAME":
                return "Ace";
        }
    };
    this.variables = {};
    this.getVariableValue = function(editor, varName) {
        if (this.variables.hasOwnProperty(varName))
            return this.variables[varName](editor, varName) || "";
        return this.$getDefaultValue(editor, varName) || "";
    };
    this.tmStrFormat = function(str, ch, editor) {
        var flag = ch.flag || "";
        var re = ch.guard;
        re = new RegExp(re, flag.replace(/[^gi]/, ""));
        var fmtTokens = this.tokenizeTmSnippet(ch.fmt, "formatString");
        var _self = this;
        var formatted = str.replace(re, function() {
            _self.variables.__ = arguments;
            var fmtParts = _self.resolveVariables(fmtTokens, editor);
            var gChangeCase = "E";
            for (var i  = 0; i < fmtParts.length; i++) {
                var ch = fmtParts[i];
                if (typeof ch == "object") {
                    fmtParts[i] = "";
                    if (ch.changeCase && ch.local) {
                        var next = fmtParts[i + 1];
                        if (next && typeof next == "string") {
                            if (ch.changeCase == "u")
                                fmtParts[i] = next[0].toUpperCase();
                            else
                                fmtParts[i] = next[0].toLowerCase();
                            fmtParts[i + 1] = next.substr(1);
                        }
                    } else if (ch.changeCase) {
                        gChangeCase = ch.changeCase;
                    }
                } else if (gChangeCase == "U") {
                    fmtParts[i] = ch.toUpperCase();
                } else if (gChangeCase == "L") {
                    fmtParts[i] = ch.toLowerCase();
                }
            }
            return fmtParts.join("");
        });
        this.variables.__ = null;
        return formatted;
    };

    this.resolveVariables = function(snippet, editor) {
        var result = [];
        for (var i = 0; i < snippet.length; i++) {
            var ch = snippet[i];
            if (typeof ch == "string") {
                result.push(ch);
            } else if (typeof ch != "object") {
                continue;
            } else if (ch.skip) {
                gotoNext(ch);
            } else if (ch.processed < i) {
                continue;
            } else if (ch.text) {
                var value = this.getVariableValue(editor, ch.text);
                if (value && ch.fmtString)
                    value = this.tmStrFormat(value, ch);
                ch.processed = i;
                if (ch.expectIf == null) {
                    if (value) {
                        result.push(value);
                        gotoNext(ch);
                    }
                } else {
                    if (value) {
                        ch.skip = ch.elseBranch;
                    } else
                        gotoNext(ch);
                }
            } else if (ch.tabstopId != null) {
                result.push(ch);
            } else if (ch.changeCase != null) {
                result.push(ch);
            }
        }
        function gotoNext(ch) {
            var i1 = snippet.indexOf(ch, i + 1);
            if (i1 != -1)
                i = i1;
        }
        return result;
    };

    this.insertSnippetForSelection = function(editor, snippetText) {
        var cursor = editor.getCursorPosition();
        var line = editor.session.getLine(cursor.row);
        var tabString = editor.session.getTabString();
        var indentString = line.match(/^\s*/)[0];
        
        if (cursor.column < indentString.length)
            indentString = indentString.slice(0, cursor.column);

        var tokens = this.tokenizeTmSnippet(snippetText);
        tokens = this.resolveVariables(tokens, editor);
        tokens = tokens.map(function(x) {
            if (x == "\n")
                return x + indentString;
            if (typeof x == "string")
                return x.replace(/\t/g, tabString);
            return x;
        });
        var tabstops = [];
        tokens.forEach(function(p, i) {
            if (typeof p != "object")
                return;
            var id = p.tabstopId;
            var ts = tabstops[id];
            if (!ts) {
                ts = tabstops[id] = [];
                ts.index = id;
                ts.value = "";
            }
            if (ts.indexOf(p) !== -1)
                return;
            ts.push(p);
            var i1 = tokens.indexOf(p, i + 1);
            if (i1 === -1)
                return;

            var value = tokens.slice(i + 1, i1);
            var isNested = value.some(function(t) {return typeof t === "object"});          
            if (isNested && !ts.value) {
                ts.value = value;
            } else if (value.length && (!ts.value || typeof ts.value !== "string")) {
                ts.value = value.join("");
            }
        });
        tabstops.forEach(function(ts) {ts.length = 0});
        var expanding = {};
        function copyValue(val) {
            var copy = [];
            for (var i = 0; i < val.length; i++) {
                var p = val[i];
                if (typeof p == "object") {
                    if (expanding[p.tabstopId])
                        continue;
                    var j = val.lastIndexOf(p, i - 1);
                    p = copy[j] || {tabstopId: p.tabstopId};
                }
                copy[i] = p;
            }
            return copy;
        }
        for (var i = 0; i < tokens.length; i++) {
            var p = tokens[i];
            if (typeof p != "object")
                continue;
            var id = p.tabstopId;
            var i1 = tokens.indexOf(p, i + 1);
            if (expanding[id]) {
                if (expanding[id] === p)
                    expanding[id] = null;
                continue;
            }
            
            var ts = tabstops[id];
            var arg = typeof ts.value == "string" ? [ts.value] : copyValue(ts.value);
            arg.unshift(i + 1, Math.max(0, i1 - i));
            arg.push(p);
            expanding[id] = p;
            tokens.splice.apply(tokens, arg);

            if (ts.indexOf(p) === -1)
                ts.push(p);
        }
        var row = 0, column = 0;
        var text = "";
        tokens.forEach(function(t) {
            if (typeof t === "string") {
                if (t[0] === "\n"){
                    column = t.length - 1;
                    row ++;
                } else
                    column += t.length;
                text += t;
            } else {
                if (!t.start)
                    t.start = {row: row, column: column};
                else
                    t.end = {row: row, column: column};
            }
        });
        var range = editor.getSelectionRange();
        var end = editor.session.replace(range, text);

        var tabstopManager = new TabstopManager(editor);
        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;
        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);
    };
    
    this.insertSnippet = function(editor, snippetText) {
        var self = this;
        if (editor.inVirtualSelectionMode)
            return self.insertSnippetForSelection(editor, snippetText);
        
        editor.forEachSelection(function() {
            self.insertSnippetForSelection(editor, snippetText);
        }, null, {keepOrder: true});
        
        if (editor.tabstopManager)
            editor.tabstopManager.tabNext();
    };

    this.$getScope = function(editor) {
        var scope = editor.session.$mode.$id || "";
        scope = scope.split("/").pop();
        if (scope === "html" || scope === "php") {
            if (scope === "php" && !editor.session.$mode.inlinePhp) 
                scope = "html";
            var c = editor.getCursorPosition();
            var state = editor.session.getState(c.row);
            if (typeof state === "object") {
                state = state[0];
            }
            if (state.substring) {
                if (state.substring(0, 3) == "js-")
                    scope = "javascript";
                else if (state.substring(0, 4) == "css-")
                    scope = "css";
                else if (state.substring(0, 4) == "php-")
                    scope = "php";
            }
        }
        
        return scope;
    };

    this.getActiveScopes = function(editor) {
        var scope = this.$getScope(editor);
        var scopes = [scope];
        var snippetMap = this.snippetMap;
        if (snippetMap[scope] && snippetMap[scope].includeScopes) {
            scopes.push.apply(scopes, snippetMap[scope].includeScopes);
        }
        scopes.push("_");
        return scopes;
    };

    this.expandWithTab = function(editor, options) {
        var self = this;
        var result = editor.forEachSelection(function() {
            return self.expandSnippetForSelection(editor, options);
        }, null, {keepOrder: true});
        if (result && editor.tabstopManager)
            editor.tabstopManager.tabNext();
        return result;
    };
    
    this.expandSnippetForSelection = function(editor, options) {
        var cursor = editor.getCursorPosition();
        var line = editor.session.getLine(cursor.row);
        var before = line.substring(0, cursor.column);
        var after = line.substr(cursor.column);

        var snippetMap = this.snippetMap;
        var snippet;
        this.getActiveScopes(editor).some(function(scope) {
            var snippets = snippetMap[scope];
            if (snippets)
                snippet = this.findMatchingSnippet(snippets, before, after);
            return !!snippet;
        }, this);
        if (!snippet)
            return false;
        if (options && options.dryRun)
            return true;
        editor.session.doc.removeInLine(cursor.row,
            cursor.column - snippet.replaceBefore.length,
            cursor.column + snippet.replaceAfter.length
        );

        this.variables.M__ = snippet.matchBefore;
        this.variables.T__ = snippet.matchAfter;
        this.insertSnippetForSelection(editor, snippet.content);

        this.variables.M__ = this.variables.T__ = null;
        return true;
    };

    this.findMatchingSnippet = function(snippetList, before, after) {
        for (var i = snippetList.length; i--;) {
            var s = snippetList[i];
            if (s.startRe && !s.startRe.test(before))
                continue;
            if (s.endRe && !s.endRe.test(after))
                continue;
            if (!s.startRe && !s.endRe)
                continue;

            s.matchBefore = s.startRe ? s.startRe.exec(before) : [""];
            s.matchAfter = s.endRe ? s.endRe.exec(after) : [""];
            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : "";
            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : "";
            return s;
        }
    };

    this.snippetMap = {};
    this.snippetNameMap = {};
    this.register = function(snippets, scope) {
        var snippetMap = this.snippetMap;
        var snippetNameMap = this.snippetNameMap;
        var self = this;
        
        if (!snippets) 
            snippets = [];
        
        function wrapRegexp(src) {
            if (src && !/^\^?\(.*\)\$?$|^\\b$/.test(src))
                src = "(?:" + src + ")";

            return src || "";
        }
        function guardedRegexp(re, guard, opening) {
            re = wrapRegexp(re);
            guard = wrapRegexp(guard);
            if (opening) {
                re = guard + re;
                if (re && re[re.length - 1] != "$")
                    re = re + "$";
            } else {
                re = re + guard;
                if (re && re[0] != "^")
                    re = "^" + re;
            }
            return new RegExp(re);
        }

        function addSnippet(s) {
            if (!s.scope)
                s.scope = scope || "_";
            scope = s.scope;
            if (!snippetMap[scope]) {
                snippetMap[scope] = [];
                snippetNameMap[scope] = {};
            }

            var map = snippetNameMap[scope];
            if (s.name) {
                var old = map[s.name];
                if (old)
                    self.unregister(old);
                map[s.name] = s;
            }
            snippetMap[scope].push(s);

            if (s.tabTrigger && !s.trigger) {
                if (!s.guard && /^\w/.test(s.tabTrigger))
                    s.guard = "\\b";
                s.trigger = lang.escapeRegExp(s.tabTrigger);
            }
            
            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)
                return;
            
            s.startRe = guardedRegexp(s.trigger, s.guard, true);
            s.triggerRe = new RegExp(s.trigger, "", true);

            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);
            s.endTriggerRe = new RegExp(s.endTrigger, "", true);
        }

        if (snippets && snippets.content)
            addSnippet(snippets);
        else if (Array.isArray(snippets))
            snippets.forEach(addSnippet);
        
        this._signal("registerSnippets", {scope: scope});
    };
    this.unregister = function(snippets, scope) {
        var snippetMap = this.snippetMap;
        var snippetNameMap = this.snippetNameMap;

        function removeSnippet(s) {
            var nameMap = snippetNameMap[s.scope||scope];
            if (nameMap && nameMap[s.name]) {
                delete nameMap[s.name];
                var map = snippetMap[s.scope||scope];
                var i = map && map.indexOf(s);
                if (i >= 0)
                    map.splice(i, 1);
            }
        }
        if (snippets.content)
            removeSnippet(snippets);
        else if (Array.isArray(snippets))
            snippets.forEach(removeSnippet);
    };
    this.parseSnippetFile = function(str) {
        str = str.replace(/\r/g, "");
        var list = [], snippet = {};
        var re = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;
        var m;
        while (m = re.exec(str)) {
            if (m[1]) {
                try {
                    snippet = JSON.parse(m[1]);
                    list.push(snippet);
                } catch (e) {}
            } if (m[4]) {
                snippet.content = m[4].replace(/^\t/gm, "");
                list.push(snippet);
                snippet = {};
            } else {
                var key = m[2], val = m[3];
                if (key == "regex") {
                    var guardRe = /\/((?:[^\/\\]|\\.)*)|$/g;
                    snippet.guard = guardRe.exec(val)[1];
                    snippet.trigger = guardRe.exec(val)[1];
                    snippet.endTrigger = guardRe.exec(val)[1];
                    snippet.endGuard = guardRe.exec(val)[1];
                } else if (key == "snippet") {
                    snippet.tabTrigger = val.match(/^\S*/)[0];
                    if (!snippet.name)
                        snippet.name = val;
                } else {
                    snippet[key] = val;
                }
            }
        }
        return list;
    };
    this.getSnippetByName = function(name, editor) {
        var snippetMap = this.snippetNameMap;
        var snippet;
        this.getActiveScopes(editor).some(function(scope) {
            var snippets = snippetMap[scope];
            if (snippets)
                snippet = snippets[name];
            return !!snippet;
        }, this);
        return snippet;
    };

}).call(SnippetManager.prototype);


var TabstopManager = function(editor) {
    if (editor.tabstopManager)
        return editor.tabstopManager;
    editor.tabstopManager = this;
    this.$onChange = this.onChange.bind(this);
    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;
    this.$onChangeSession = this.onChangeSession.bind(this);
    this.$onAfterExec = this.onAfterExec.bind(this);
    this.attach(editor);
};
(function() {
    this.attach = function(editor) {
        this.index = 0;
        this.ranges = [];
        this.tabstops = [];
        this.$openTabstops = null;
        this.selectedTabstop = null;

        this.editor = editor;
        this.editor.on("change", this.$onChange);
        this.editor.on("changeSelection", this.$onChangeSelection);
        this.editor.on("changeSession", this.$onChangeSession);
        this.editor.commands.on("afterExec", this.$onAfterExec);
        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
    };
    this.detach = function() {
        this.tabstops.forEach(this.removeTabstopMarkers, this);
        this.ranges = null;
        this.tabstops = null;
        this.selectedTabstop = null;
        this.editor.removeListener("change", this.$onChange);
        this.editor.removeListener("changeSelection", this.$onChangeSelection);
        this.editor.removeListener("changeSession", this.$onChangeSession);
        this.editor.commands.removeListener("afterExec", this.$onAfterExec);
        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
        this.editor.tabstopManager = null;
        this.editor = null;
    };

    this.onChange = function(delta) {
        var changeRange = delta;
        var isRemove = delta.action[0] == "r";
        var start = delta.start;
        var end = delta.end;
        var startRow = start.row;
        var endRow = end.row;
        var lineDif = endRow - startRow;
        var colDiff = end.column - start.column;

        if (isRemove) {
            lineDif = -lineDif;
            colDiff = -colDiff;
        }
        if (!this.$inChange && isRemove) {
            var ts = this.selectedTabstop;
            var changedOutside = ts && !ts.some(function(r) {
                return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;
            });
            if (changedOutside)
                return this.detach();
        }
        var ranges = this.ranges;
        for (var i = 0; i < ranges.length; i++) {
            var r = ranges[i];
            if (r.end.row < start.row)
                continue;

            if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {
                this.removeRange(r);
                i--;
                continue;
            }

            if (r.start.row == startRow && r.start.column > start.column)
                r.start.column += colDiff;
            if (r.end.row == startRow && r.end.column >= start.column)
                r.end.column += colDiff;
            if (r.start.row >= startRow)
                r.start.row += lineDif;
            if (r.end.row >= startRow)
                r.end.row += lineDif;

            if (comparePoints(r.start, r.end) > 0)
                this.removeRange(r);
        }
        if (!ranges.length)
            this.detach();
    };
    this.updateLinkedFields = function() {
        var ts = this.selectedTabstop;
        if (!ts || !ts.hasLinkedRanges)
            return;
        this.$inChange = true;
        var session = this.editor.session;
        var text = session.getTextRange(ts.firstNonLinked);
        for (var i = ts.length; i--;) {
            var range = ts[i];
            if (!range.linked)
                continue;
            var fmt = exports.snippetManager.tmStrFormat(text, range.original);
            session.replace(range, fmt);
        }
        this.$inChange = false;
    };
    this.onAfterExec = function(e) {
        if (e.command && !e.command.readOnly)
            this.updateLinkedFields();
    };
    this.onChangeSelection = function() {
        if (!this.editor)
            return;
        var lead = this.editor.selection.lead;
        var anchor = this.editor.selection.anchor;
        var isEmpty = this.editor.selection.isEmpty();
        for (var i = this.ranges.length; i--;) {
            if (this.ranges[i].linked)
                continue;
            var containsLead = this.ranges[i].contains(lead.row, lead.column);
            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);
            if (containsLead && containsAnchor)
                return;
        }
        this.detach();
    };
    this.onChangeSession = function() {
        this.detach();
    };
    this.tabNext = function(dir) {
        var max = this.tabstops.length;
        var index = this.index + (dir || 1);
        index = Math.min(Math.max(index, 1), max);
        if (index == max)
            index = 0;
        this.selectTabstop(index);
        if (index === 0)
            this.detach();
    };
    this.selectTabstop = function(index) {
        this.$openTabstops = null;
        var ts = this.tabstops[this.index];
        if (ts)
            this.addTabstopMarkers(ts);
        this.index = index;
        ts = this.tabstops[this.index];
        if (!ts || !ts.length)
            return;
        
        this.selectedTabstop = ts;
        if (!this.editor.inVirtualSelectionMode) {        
            var sel = this.editor.multiSelect;
            sel.toSingleRange(ts.firstNonLinked.clone());
            for (var i = ts.length; i--;) {
                if (ts.hasLinkedRanges && ts[i].linked)
                    continue;
                sel.addRange(ts[i].clone(), true);
            }
            if (sel.ranges[0])
                sel.addRange(sel.ranges[0].clone());
        } else {
            this.editor.selection.setRange(ts.firstNonLinked);
        }
        
        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
    };
    this.addTabstops = function(tabstops, start, end) {
        if (!this.$openTabstops)
            this.$openTabstops = [];
        if (!tabstops[0]) {
            var p = Range.fromPoints(end, end);
            moveRelative(p.start, start);
            moveRelative(p.end, start);
            tabstops[0] = [p];
            tabstops[0].index = 0;
        }

        var i = this.index;
        var arg = [i + 1, 0];
        var ranges = this.ranges;
        tabstops.forEach(function(ts, index) {
            var dest = this.$openTabstops[index] || ts;
                
            for (var i = ts.length; i--;) {
                var p = ts[i];
                var range = Range.fromPoints(p.start, p.end || p.start);
                movePoint(range.start, start);
                movePoint(range.end, start);
                range.original = p;
                range.tabstop = dest;
                ranges.push(range);
                if (dest != ts)
                    dest.unshift(range);
                else
                    dest[i] = range;
                if (p.fmtString) {
                    range.linked = true;
                    dest.hasLinkedRanges = true;
                } else if (!dest.firstNonLinked)
                    dest.firstNonLinked = range;
            }
            if (!dest.firstNonLinked)
                dest.hasLinkedRanges = false;
            if (dest === ts) {
                arg.push(dest);
                this.$openTabstops[index] = dest;
            }
            this.addTabstopMarkers(dest);
        }, this);
        
        if (arg.length > 2) {
            if (this.tabstops.length)
                arg.push(arg.splice(2, 1)[0]);
            this.tabstops.splice.apply(this.tabstops, arg);
        }
    };

    this.addTabstopMarkers = function(ts) {
        var session = this.editor.session;
        ts.forEach(function(range) {
            if  (!range.markerId)
                range.markerId = session.addMarker(range, "ace_snippet-marker", "text");
        });
    };
    this.removeTabstopMarkers = function(ts) {
        var session = this.editor.session;
        ts.forEach(function(range) {
            session.removeMarker(range.markerId);
            range.markerId = null;
        });
    };
    this.removeRange = function(range) {
        var i = range.tabstop.indexOf(range);
        range.tabstop.splice(i, 1);
        i = this.ranges.indexOf(range);
        this.ranges.splice(i, 1);
        this.editor.session.removeMarker(range.markerId);
        if (!range.tabstop.length) {
            i = this.tabstops.indexOf(range.tabstop);
            if (i != -1)
                this.tabstops.splice(i, 1);
            if (!this.tabstops.length)
                this.detach();
        }
    };

    this.keyboardHandler = new HashHandler();
    this.keyboardHandler.bindKeys({
        "Tab": function(ed) {
            if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {
                return;
            }

            ed.tabstopManager.tabNext(1);
        },
        "Shift-Tab": function(ed) {
            ed.tabstopManager.tabNext(-1);
        },
        "Esc": function(ed) {
            ed.tabstopManager.detach();
        },
        "Return": function(ed) {
            return false;
        }
    });
}).call(TabstopManager.prototype);



var changeTracker = {};
changeTracker.onChange = Anchor.prototype.onChange;
changeTracker.setPosition = function(row, column) {
    this.pos.row = row;
    this.pos.column = column;
};
changeTracker.update = function(pos, delta, $insertRight) {
    this.$insertRight = $insertRight;
    this.pos = pos; 
    this.onChange(delta);
};

var movePoint = function(point, diff) {
    if (point.row == 0)
        point.column += diff.column;
    point.row += diff.row;
};

var moveRelative = function(point, start) {
    if (point.row == start.row)
        point.column -= start.column;
    point.row -= start.row;
};


acequire("./lib/dom").importCssString("\
.ace_snippet-marker {\
    -moz-box-sizing: border-box;\
    box-sizing: border-box;\
    background: rgba(194, 193, 208, 0.09);\
    border: 1px dotted rgba(211, 208, 235, 0.62);\
    position: absolute;\
}");

exports.snippetManager = new SnippetManager();


var Editor = acequire("./editor").Editor;
(function() {
    this.insertSnippet = function(content, options) {
        return exports.snippetManager.insertSnippet(this, content, options);
    };
    this.expandSnippet = function(options) {
        return exports.snippetManager.expandWithTab(this, options);
    };
}).call(Editor.prototype);

});

ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var Renderer = acequire("../virtual_renderer").VirtualRenderer;
var Editor = acequire("../editor").Editor;
var Range = acequire("../range").Range;
var event = acequire("../lib/event");
var lang = acequire("../lib/lang");
var dom = acequire("../lib/dom");

var $singleLineEditor = function(el) {
    var renderer = new Renderer(el);

    renderer.$maxLines = 4;

    var editor = new Editor(renderer);

    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.renderer.setHighlightGutterLine(false);

    editor.$mouseHandler.$focusWaitTimout = 0;
    editor.$highlightTagPending = true;

    return editor;
};

var AcePopup = function(parentNode) {
    var el = dom.createElement("div");
    var popup = new $singleLineEditor(el);

    if (parentNode)
        parentNode.appendChild(el);
    el.style.display = "none";
    popup.renderer.content.style.cursor = "default";
    popup.renderer.setStyle("ace_autocomplete");

    popup.setOption("displayIndentGuides", false);
    popup.setOption("dragDelay", 150);

    var noop = function(){};

    popup.focus = noop;
    popup.$isFocused = true;

    popup.renderer.$cursorLayer.restartTimer = noop;
    popup.renderer.$cursorLayer.element.style.opacity = 0;

    popup.renderer.$maxLines = 8;
    popup.renderer.$keepTextAreaAtCursor = false;

    popup.setHighlightActiveLine(false);
    popup.session.highlight("");
    popup.session.$searchHighlight.clazz = "ace_highlight-marker";

    popup.on("mousedown", function(e) {
        var pos = e.getDocumentPosition();
        popup.selection.moveToPosition(pos);
        selectionMarker.start.row = selectionMarker.end.row = pos.row;
        e.stop();
    });

    var lastMouseEvent;
    var hoverMarker = new Range(-1,0,-1,Infinity);
    var selectionMarker = new Range(-1,0,-1,Infinity);
    selectionMarker.id = popup.session.addMarker(selectionMarker, "ace_active-line", "fullLine");
    popup.setSelectOnHover = function(val) {
        if (!val) {
            hoverMarker.id = popup.session.addMarker(hoverMarker, "ace_line-hover", "fullLine");
        } else if (hoverMarker.id) {
            popup.session.removeMarker(hoverMarker.id);
            hoverMarker.id = null;
        }
    };
    popup.setSelectOnHover(false);
    popup.on("mousemove", function(e) {
        if (!lastMouseEvent) {
            lastMouseEvent = e;
            return;
        }
        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {
            return;
        }
        lastMouseEvent = e;
        lastMouseEvent.scrollTop = popup.renderer.scrollTop;
        var row = lastMouseEvent.getDocumentPosition().row;
        if (hoverMarker.start.row != row) {
            if (!hoverMarker.id)
                popup.setRow(row);
            setHoverMarker(row);
        }
    });
    popup.renderer.on("beforeRender", function() {
        if (lastMouseEvent && hoverMarker.start.row != -1) {
            lastMouseEvent.$pos = null;
            var row = lastMouseEvent.getDocumentPosition().row;
            if (!hoverMarker.id)
                popup.setRow(row);
            setHoverMarker(row, true);
        }
    });
    popup.renderer.on("afterRender", function() {
        var row = popup.getRow();
        var t = popup.renderer.$textLayer;
        var selected = t.element.childNodes[row - t.config.firstRow];
        if (selected == t.selectedNode)
            return;
        if (t.selectedNode)
            dom.removeCssClass(t.selectedNode, "ace_selected");
        t.selectedNode = selected;
        if (selected)
            dom.addCssClass(selected, "ace_selected");
    });
    var hideHoverMarker = function() { setHoverMarker(-1) };
    var setHoverMarker = function(row, suppressRedraw) {
        if (row !== hoverMarker.start.row) {
            hoverMarker.start.row = hoverMarker.end.row = row;
            if (!suppressRedraw)
                popup.session._emit("changeBackMarker");
            popup._emit("changeHoverMarker");
        }
    };
    popup.getHoveredRow = function() {
        return hoverMarker.start.row;
    };

    event.addListener(popup.container, "mouseout", hideHoverMarker);
    popup.on("hide", hideHoverMarker);
    popup.on("changeSelection", hideHoverMarker);

    popup.session.doc.getLength = function() {
        return popup.data.length;
    };
    popup.session.doc.getLine = function(i) {
        var data = popup.data[i];
        if (typeof data == "string")
            return data;
        return (data && data.value) || "";
    };

    var bgTokenizer = popup.session.bgTokenizer;
    bgTokenizer.$tokenizeRow = function(row) {
        var data = popup.data[row];
        var tokens = [];
        if (!data)
            return tokens;
        if (typeof data == "string")
            data = {value: data};
        if (!data.caption)
            data.caption = data.value || data.name;

        var last = -1;
        var flag, c;
        for (var i = 0; i < data.caption.length; i++) {
            c = data.caption[i];
            flag = data.matchMask & (1 << i) ? 1 : 0;
            if (last !== flag) {
                tokens.push({type: data.className || "" + ( flag ? "completion-highlight" : ""), value: c});
                last = flag;
            } else {
                tokens[tokens.length - 1].value += c;
            }
        }

        if (data.meta) {
            var maxW = popup.renderer.$size.scrollerWidth / popup.renderer.layerConfig.characterWidth;
            var metaData = data.meta;
            if (metaData.length + data.caption.length > maxW - 2) {
                metaData = metaData.substr(0, maxW - data.caption.length - 3) + "\u2026"
            }
            tokens.push({type: "rightAlignedText", value: metaData});
        }
        return tokens;
    };
    bgTokenizer.$updateOnChange = noop;
    bgTokenizer.start = noop;

    popup.session.$computeWidth = function() {
        return this.screenWidth = 0;
    };

    popup.$blockScrolling = Infinity;
    popup.isOpen = false;
    popup.isTopdown = false;

    popup.data = [];
    popup.setData = function(list) {
        popup.setValue(lang.stringRepeat("\n", list.length), -1);
        popup.data = list || [];
        popup.setRow(0);
    };
    popup.getData = function(row) {
        return popup.data[row];
    };

    popup.getRow = function() {
        return selectionMarker.start.row;
    };
    popup.setRow = function(line) {
        line = Math.max(-1, Math.min(this.data.length, line));
        if (selectionMarker.start.row != line) {
            popup.selection.clearSelection();
            selectionMarker.start.row = selectionMarker.end.row = line || 0;
            popup.session._emit("changeBackMarker");
            popup.moveCursorTo(line || 0, 0);
            if (popup.isOpen)
                popup._signal("select");
        }
    };

    popup.on("changeSelection", function() {
        if (popup.isOpen)
            popup.setRow(popup.selection.lead.row);
        popup.renderer.scrollCursorIntoView();
    });

    popup.hide = function() {
        this.container.style.display = "none";
        this._signal("hide");
        popup.isOpen = false;
    };
    popup.show = function(pos, lineHeight, topdownOnly) {
        var el = this.container;
        var screenHeight = window.innerHeight;
        var screenWidth = window.innerWidth;
        var renderer = this.renderer;
        var maxH = renderer.$maxLines * lineHeight * 1.4;
        var top = pos.top + this.$borderSize;
        if (top + maxH > screenHeight - lineHeight && !topdownOnly) {
            el.style.top = "";
            el.style.bottom = screenHeight - top + "px";
            popup.isTopdown = false;
        } else {
            top += lineHeight;
            el.style.top = top + "px";
            el.style.bottom = "";
            popup.isTopdown = true;
        }

        el.style.display = "";
        this.renderer.$textLayer.checkForSizeChanges();

        var left = pos.left;
        if (left + el.offsetWidth > screenWidth)
            left = screenWidth - el.offsetWidth;

        el.style.left = left + "px";

        this._signal("show");
        lastMouseEvent = null;
        popup.isOpen = true;
    };

    popup.getTextLeftOffset = function() {
        return this.$borderSize + this.renderer.$padding + this.$imageSize;
    };

    popup.$imageSize = 0;
    popup.$borderSize = 1;

    return popup;
};

dom.importCssString("\
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\
    background-color: #CAD6FA;\
    z-index: 1;\
}\
.ace_editor.ace_autocomplete .ace_line-hover {\
    border: 1px solid #abbffe;\
    margin-top: -1px;\
    background: rgba(233,233,253,0.4);\
}\
.ace_editor.ace_autocomplete .ace_line-hover {\
    position: absolute;\
    z-index: 2;\
}\
.ace_editor.ace_autocomplete .ace_scroller {\
   background: none;\
   border: none;\
   box-shadow: none;\
}\
.ace_rightAlignedText {\
    color: gray;\
    display: inline-block;\
    position: absolute;\
    right: 4px;\
    text-align: right;\
    z-index: -1;\
}\
.ace_editor.ace_autocomplete .ace_completion-highlight{\
    color: #000;\
    text-shadow: 0 0 0.01em;\
}\
.ace_editor.ace_autocomplete {\
    width: 280px;\
    z-index: 200000;\
    background: #fbfbfb;\
    color: #444;\
    border: 1px lightgray solid;\
    position: fixed;\
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\
    line-height: 1.4;\
}");

exports.AcePopup = AcePopup;

});

ace.define("ace/autocomplete/util",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.parForEach = function(array, fn, callback) {
    var completed = 0;
    var arLength = array.length;
    if (arLength === 0)
        callback();
    for (var i = 0; i < arLength; i++) {
        fn(array[i], function(result, err) {
            completed++;
            if (completed === arLength)
                callback(result, err);
        });
    }
};

var ID_REGEX = /[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;

exports.retrievePrecedingIdentifier = function(text, pos, regex) {
    regex = regex || ID_REGEX;
    var buf = [];
    for (var i = pos-1; i >= 0; i--) {
        if (regex.test(text[i]))
            buf.push(text[i]);
        else
            break;
    }
    return buf.reverse().join("");
};

exports.retrieveFollowingIdentifier = function(text, pos, regex) {
    regex = regex || ID_REGEX;
    var buf = [];
    for (var i = pos; i < text.length; i++) {
        if (regex.test(text[i]))
            buf.push(text[i]);
        else
            break;
    }
    return buf;
};

});

ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"], function(acequire, exports, module) {
"use strict";

var HashHandler = acequire("./keyboard/hash_handler").HashHandler;
var AcePopup = acequire("./autocomplete/popup").AcePopup;
var util = acequire("./autocomplete/util");
var event = acequire("./lib/event");
var lang = acequire("./lib/lang");
var dom = acequire("./lib/dom");
var snippetManager = acequire("./snippets").snippetManager;

var Autocomplete = function() {
    this.autoInsert = false;
    this.autoSelect = true;
    this.exactMatch = false;
    this.gatherCompletionsId = 0;
    this.keyboardHandler = new HashHandler();
    this.keyboardHandler.bindKeys(this.commands);

    this.blurListener = this.blurListener.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.mousedownListener = this.mousedownListener.bind(this);
    this.mousewheelListener = this.mousewheelListener.bind(this);

    this.changeTimer = lang.delayedCall(function() {
        this.updateCompletions(true);
    }.bind(this));

    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);
};

(function() {

    this.$init = function() {
        this.popup = new AcePopup(document.body || document.documentElement);
        this.popup.on("click", function(e) {
            this.insertMatch();
            e.stop();
        }.bind(this));
        this.popup.focus = this.editor.focus.bind(this.editor);
        this.popup.on("show", this.tooltipTimer.bind(null, null));
        this.popup.on("select", this.tooltipTimer.bind(null, null));
        this.popup.on("changeHoverMarker", this.tooltipTimer.bind(null, null));
        return this.popup;
    };

    this.getPopup = function() {
        return this.popup || this.$init();
    };

    this.openPopup = function(editor, prefix, keepPopupPosition) {
        if (!this.popup)
            this.$init();

        this.popup.setData(this.completions.filtered);

        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
        
        var renderer = editor.renderer;
        this.popup.setRow(this.autoSelect ? 0 : -1);
        if (!keepPopupPosition) {
            this.popup.setTheme(editor.getTheme());
            this.popup.setFontSize(editor.getFontSize());

            var lineHeight = renderer.layerConfig.lineHeight;

            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);
            pos.left -= this.popup.getTextLeftOffset();

            var rect = editor.container.getBoundingClientRect();
            pos.top += rect.top - renderer.layerConfig.offset;
            pos.left += rect.left - editor.renderer.scrollLeft;
            pos.left += renderer.gutterWidth;

            this.popup.show(pos, lineHeight);
        } else if (keepPopupPosition && !prefix) {
            this.detach();
        }
    };

    this.detach = function() {
        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
        this.editor.off("changeSelection", this.changeListener);
        this.editor.off("blur", this.blurListener);
        this.editor.off("mousedown", this.mousedownListener);
        this.editor.off("mousewheel", this.mousewheelListener);
        this.changeTimer.cancel();
        this.hideDocTooltip();

        this.gatherCompletionsId += 1;
        if (this.popup && this.popup.isOpen)
            this.popup.hide();

        if (this.base)
            this.base.detach();
        this.activated = false;
        this.completions = this.base = null;
    };

    this.changeListener = function(e) {
        var cursor = this.editor.selection.lead;
        if (cursor.row != this.base.row || cursor.column < this.base.column) {
            this.detach();
        }
        if (this.activated)
            this.changeTimer.schedule();
        else
            this.detach();
    };

    this.blurListener = function(e) {
        var el = document.activeElement;
        var text = this.editor.textInput.getElement();
        var fromTooltip = e.relatedTarget && e.relatedTarget == this.tooltipNode;
        var container = this.popup && this.popup.container;
        if (el != text && el.parentNode != container && !fromTooltip
            && el != this.tooltipNode && e.relatedTarget != text
        ) {
            this.detach();
        }
    };

    this.mousedownListener = function(e) {
        this.detach();
    };

    this.mousewheelListener = function(e) {
        this.detach();
    };

    this.goTo = function(where) {
        var row = this.popup.getRow();
        var max = this.popup.session.getLength() - 1;

        switch(where) {
            case "up": row = row <= 0 ? max : row - 1; break;
            case "down": row = row >= max ? -1 : row + 1; break;
            case "start": row = 0; break;
            case "end": row = max; break;
        }

        this.popup.setRow(row);
    };

    this.insertMatch = function(data, options) {
        if (!data)
            data = this.popup.getData(this.popup.getRow());
        if (!data)
            return false;

        if (data.completer && data.completer.insertMatch) {
            data.completer.insertMatch(this.editor, data);
        } else {
            if (this.completions.filterText) {
                var ranges = this.editor.selection.getAllRanges();
                for (var i = 0, range; range = ranges[i]; i++) {
                    range.start.column -= this.completions.filterText.length;
                    this.editor.session.remove(range);
                }
            }
            if (data.snippet)
                snippetManager.insertSnippet(this.editor, data.snippet);
            else
                this.editor.execCommand("insertstring", data.value || data);
        }
        this.detach();
    };


    this.commands = {
        "Up": function(editor) { editor.completer.goTo("up"); },
        "Down": function(editor) { editor.completer.goTo("down"); },
        "Ctrl-Up|Ctrl-Home": function(editor) { editor.completer.goTo("start"); },
        "Ctrl-Down|Ctrl-End": function(editor) { editor.completer.goTo("end"); },

        "Esc": function(editor) { editor.completer.detach(); },
        "Return": function(editor) { return editor.completer.insertMatch(); },
        "Shift-Return": function(editor) { editor.completer.insertMatch(null, {deleteSuffix: true}); },
        "Tab": function(editor) {
            var result = editor.completer.insertMatch();
            if (!result && !editor.tabstopManager)
                editor.completer.goTo("down");
            else
                return result;
        },

        "PageUp": function(editor) { editor.completer.popup.gotoPageUp(); },
        "PageDown": function(editor) { editor.completer.popup.gotoPageDown(); }
    };

    this.gatherCompletions = function(editor, callback) {
        var session = editor.getSession();
        var pos = editor.getCursorPosition();

        var line = session.getLine(pos.row);
        var prefix = util.retrievePrecedingIdentifier(line, pos.column);

        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);
        this.base.$insertRight = true;

        var matches = [];
        var total = editor.completers.length;
        editor.completers.forEach(function(completer, i) {
            completer.getCompletions(editor, session, pos, prefix, function(err, results) {
                if (!err)
                    matches = matches.concat(results);
                var pos = editor.getCursorPosition();
                var line = session.getLine(pos.row);
                callback(null, {
                    prefix: util.retrievePrecedingIdentifier(line, pos.column, results[0] && results[0].identifierRegex),
                    matches: matches,
                    finished: (--total === 0)
                });
            });
        });
        return true;
    };

    this.showPopup = function(editor) {
        if (this.editor)
            this.detach();

        this.activated = true;

        this.editor = editor;
        if (editor.completer != this) {
            if (editor.completer)
                editor.completer.detach();
            editor.completer = this;
        }

        editor.on("changeSelection", this.changeListener);
        editor.on("blur", this.blurListener);
        editor.on("mousedown", this.mousedownListener);
        editor.on("mousewheel", this.mousewheelListener);

        this.updateCompletions();
    };

    this.updateCompletions = function(keepPopupPosition) {
        if (keepPopupPosition && this.base && this.completions) {
            var pos = this.editor.getCursorPosition();
            var prefix = this.editor.session.getTextRange({start: this.base, end: pos});
            if (prefix == this.completions.filterText)
                return;
            this.completions.setFilter(prefix);
            if (!this.completions.filtered.length)
                return this.detach();
            if (this.completions.filtered.length == 1
            && this.completions.filtered[0].value == prefix
            && !this.completions.filtered[0].snippet)
                return this.detach();
            this.openPopup(this.editor, prefix, keepPopupPosition);
            return;
        }
        var _id = this.gatherCompletionsId;
        this.gatherCompletions(this.editor, function(err, results) {
            var detachIfFinished = function() {
                if (!results.finished) return;
                return this.detach();
            }.bind(this);

            var prefix = results.prefix;
            var matches = results && results.matches;

            if (!matches || !matches.length)
                return detachIfFinished();
            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)
                return;

            this.completions = new FilteredList(matches);

            if (this.exactMatch)
                this.completions.exactMatch = true;

            this.completions.setFilter(prefix);
            var filtered = this.completions.filtered;
            if (!filtered.length)
                return detachIfFinished();
            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)
                return detachIfFinished();
            if (this.autoInsert && filtered.length == 1 && results.finished)
                return this.insertMatch(filtered[0]);

            this.openPopup(this.editor, prefix, keepPopupPosition);
        }.bind(this));
    };

    this.cancelContextMenu = function() {
        this.editor.$mouseHandler.cancelContextMenu();
    };

    this.updateDocTooltip = function() {
        var popup = this.popup;
        var all = popup.data;
        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);
        var doc = null;
        if (!selected || !this.editor || !this.popup.isOpen)
            return this.hideDocTooltip();
        this.editor.completers.some(function(completer) {
            if (completer.getDocTooltip)
                doc = completer.getDocTooltip(selected);
            return doc;
        });
        if (!doc)
            doc = selected;

        if (typeof doc == "string")
            doc = {docText: doc};
        if (!doc || !(doc.docHTML || doc.docText))
            return this.hideDocTooltip();
        this.showDocTooltip(doc);
    };

    this.showDocTooltip = function(item) {
        if (!this.tooltipNode) {
            this.tooltipNode = dom.createElement("div");
            this.tooltipNode.className = "ace_tooltip ace_doc-tooltip";
            this.tooltipNode.style.margin = 0;
            this.tooltipNode.style.pointerEvents = "auto";
            this.tooltipNode.tabIndex = -1;
            this.tooltipNode.onblur = this.blurListener.bind(this);
        }

        var tooltipNode = this.tooltipNode;
        if (item.docHTML) {
            tooltipNode.innerHTML = item.docHTML;
        } else if (item.docText) {
            tooltipNode.textContent = item.docText;
        }

        if (!tooltipNode.parentNode)
            document.body.appendChild(tooltipNode);
        var popup = this.popup;
        var rect = popup.container.getBoundingClientRect();
        tooltipNode.style.top = popup.container.style.top;
        tooltipNode.style.bottom = popup.container.style.bottom;

        if (window.innerWidth - rect.right < 320) {
            tooltipNode.style.right = window.innerWidth - rect.left + "px";
            tooltipNode.style.left = "";
        } else {
            tooltipNode.style.left = (rect.right + 1) + "px";
            tooltipNode.style.right = "";
        }
        tooltipNode.style.display = "block";
    };

    this.hideDocTooltip = function() {
        this.tooltipTimer.cancel();
        if (!this.tooltipNode) return;
        var el = this.tooltipNode;
        if (!this.editor.isFocused() && document.activeElement == el)
            this.editor.focus();
        this.tooltipNode = null;
        if (el.parentNode)
            el.parentNode.removeChild(el);
    };

}).call(Autocomplete.prototype);

Autocomplete.startCommand = {
    name: "startAutocomplete",
    exec: function(editor) {
        if (!editor.completer)
            editor.completer = new Autocomplete();
        editor.completer.autoInsert = false;
        editor.completer.autoSelect = true;
        editor.completer.showPopup(editor);
        editor.completer.cancelContextMenu();
    },
    bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space"
};

var FilteredList = function(array, filterText) {
    this.all = array;
    this.filtered = array;
    this.filterText = filterText || "";
    this.exactMatch = false;
};
(function(){
    this.setFilter = function(str) {
        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)
            var matches = this.filtered;
        else
            var matches = this.all;

        this.filterText = str;
        matches = this.filterCompletions(matches, this.filterText);
        matches = matches.sort(function(a, b) {
            return b.exactMatch - a.exactMatch || b.score - a.score;
        });
        var prev = null;
        matches = matches.filter(function(item){
            var caption = item.snippet || item.caption || item.value;
            if (caption === prev) return false;
            prev = caption;
            return true;
        });

        this.filtered = matches;
    };
    this.filterCompletions = function(items, needle) {
        var results = [];
        var upper = needle.toUpperCase();
        var lower = needle.toLowerCase();
        loop: for (var i = 0, item; item = items[i]; i++) {
            var caption = item.value || item.caption || item.snippet;
            if (!caption) continue;
            var lastIndex = -1;
            var matchMask = 0;
            var penalty = 0;
            var index, distance;

            if (this.exactMatch) {
                if (needle !== caption.substr(0, needle.length))
                    continue loop;
            }else{
                for (var j = 0; j < needle.length; j++) {
                    var i1 = caption.indexOf(lower[j], lastIndex + 1);
                    var i2 = caption.indexOf(upper[j], lastIndex + 1);
                    index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;
                    if (index < 0)
                        continue loop;
                    distance = index - lastIndex - 1;
                    if (distance > 0) {
                        if (lastIndex === -1)
                            penalty += 10;
                        penalty += distance;
                    }
                    matchMask = matchMask | (1 << index);
                    lastIndex = index;
                }
            }
            item.matchMask = matchMask;
            item.exactMatch = penalty ? 0 : 1;
            item.score = (item.score || 0) - penalty;
            results.push(item);
        }
        return results;
    };
}).call(FilteredList.prototype);

exports.Autocomplete = Autocomplete;
exports.FilteredList = FilteredList;

});

ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"], function(acequire, exports, module) {
    var Range = acequire("../range").Range;
    
    var splitRegex = /[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;

    function getWordIndex(doc, pos) {
        var textBefore = doc.getTextRange(Range.fromPoints({row: 0, column:0}, pos));
        return textBefore.split(splitRegex).length - 1;
    }
    function wordDistance(doc, pos) {
        var prefixPos = getWordIndex(doc, pos);
        var words = doc.getValue().split(splitRegex);
        var wordScores = Object.create(null);
        
        var currentWord = words[prefixPos];

        words.forEach(function(word, idx) {
            if (!word || word === currentWord) return;

            var distance = Math.abs(prefixPos - idx);
            var score = words.length - distance;
            if (wordScores[word]) {
                wordScores[word] = Math.max(score, wordScores[word]);
            } else {
                wordScores[word] = score;
            }
        });
        return wordScores;
    }

    exports.getCompletions = function(editor, session, pos, prefix, callback) {
        var wordScore = wordDistance(session, pos, prefix);
        var wordList = Object.keys(wordScore);
        callback(null, wordList.map(function(word) {
            return {
                caption: word,
                value: word,
                score: wordScore[word],
                meta: "local"
            };
        }));
    };
});

ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"], function(acequire, exports, module) {
"use strict";

var snippetManager = acequire("../snippets").snippetManager;
var Autocomplete = acequire("../autocomplete").Autocomplete;
var config = acequire("../config");
var lang = acequire("../lib/lang");
var util = acequire("../autocomplete/util");

var textCompleter = acequire("../autocomplete/text_completer");
var keyWordCompleter = {
    getCompletions: function(editor, session, pos, prefix, callback) {
        if (session.$mode.completer) {
            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);
        }
        var state = editor.session.getState(pos.row);
        var completions = session.$mode.getCompletions(state, session, pos, prefix);
        callback(null, completions);
    }
};

var snippetCompleter = {
    getCompletions: function(editor, session, pos, prefix, callback) {
        var snippetMap = snippetManager.snippetMap;
        var completions = [];
        snippetManager.getActiveScopes(editor).forEach(function(scope) {
            var snippets = snippetMap[scope] || [];
            for (var i = snippets.length; i--;) {
                var s = snippets[i];
                var caption = s.name || s.tabTrigger;
                if (!caption)
                    continue;
                completions.push({
                    caption: caption,
                    snippet: s.content,
                    meta: s.tabTrigger && !s.name ? s.tabTrigger + "\u21E5 " : "snippet",
                    type: "snippet"
                });
            }
        }, this);
        callback(null, completions);
    },
    getDocTooltip: function(item) {
        if (item.type == "snippet" && !item.docHTML) {
            item.docHTML = [
                "<b>", lang.escapeHTML(item.caption), "</b>", "<hr></hr>",
                lang.escapeHTML(item.snippet)
            ].join("");
        }
    }
};

var completers = [snippetCompleter, textCompleter, keyWordCompleter];
exports.setCompleters = function(val) {
    completers = val || [];
};
exports.addCompleter = function(completer) {
    completers.push(completer);
};
exports.textCompleter = textCompleter;
exports.keyWordCompleter = keyWordCompleter;
exports.snippetCompleter = snippetCompleter;

var expandSnippet = {
    name: "expandSnippet",
    exec: function(editor) {
        return snippetManager.expandWithTab(editor);
    },
    bindKey: "Tab"
};

var onChangeMode = function(e, editor) {
    loadSnippetsForMode(editor.session.$mode);
};

var loadSnippetsForMode = function(mode) {
    var id = mode.$id;
    if (!snippetManager.files)
        snippetManager.files = {};
    loadSnippetFile(id);
    if (mode.modes)
        mode.modes.forEach(loadSnippetsForMode);
};

var loadSnippetFile = function(id) {
    if (!id || snippetManager.files[id])
        return;
    var snippetFilePath = id.replace("mode", "snippets");
    snippetManager.files[id] = {};
    config.loadModule(snippetFilePath, function(m) {
        if (m) {
            snippetManager.files[id] = m;
            if (!m.snippets && m.snippetText)
                m.snippets = snippetManager.parseSnippetFile(m.snippetText);
            snippetManager.register(m.snippets || [], m.scope);
            if (m.includeScopes) {
                snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;
                m.includeScopes.forEach(function(x) {
                    loadSnippetFile("ace/mode/" + x);
                });
            }
        }
    });
};

function getCompletionPrefix(editor) {
    var pos = editor.getCursorPosition();
    var line = editor.session.getLine(pos.row);
    var prefix;
    editor.completers.forEach(function(completer) {
        if (completer.identifierRegexps) {
            completer.identifierRegexps.forEach(function(identifierRegex) {
                if (!prefix && identifierRegex)
                    prefix = util.retrievePrecedingIdentifier(line, pos.column, identifierRegex);
            });
        }
    });
    return prefix || util.retrievePrecedingIdentifier(line, pos.column);
}

var doLiveAutocomplete = function(e) {
    var editor = e.editor;
    var hasCompleter = editor.completer && editor.completer.activated;
    if (e.command.name === "backspace") {
        if (hasCompleter && !getCompletionPrefix(editor))
            editor.completer.detach();
    }
    else if (e.command.name === "insertstring") {
        var prefix = getCompletionPrefix(editor);
        if (prefix && !hasCompleter) {
            if (!editor.completer) {
                editor.completer = new Autocomplete();
            }
            editor.completer.autoInsert = false;
            editor.completer.showPopup(editor);
        }
    }
};

var Editor = acequire("../editor").Editor;
acequire("../config").defineOptions(Editor.prototype, "editor", {
    enableBasicAutocompletion: {
        set: function(val) {
            if (val) {
                if (!this.completers)
                    this.completers = Array.isArray(val)? val: completers;
                this.commands.addCommand(Autocomplete.startCommand);
            } else {
                this.commands.removeCommand(Autocomplete.startCommand);
            }
        },
        value: false
    },
    enableLiveAutocompletion: {
        set: function(val) {
            if (val) {
                if (!this.completers)
                    this.completers = Array.isArray(val)? val: completers;
                this.commands.on('afterExec', doLiveAutocomplete);
            } else {
                this.commands.removeListener('afterExec', doLiveAutocomplete);
            }
        },
        value: false
    },
    enableSnippets: {
        set: function(val) {
            if (val) {
                this.commands.addCommand(expandSnippet);
                this.on("changeMode", onChangeMode);
                onChangeMode(null, this);
            } else {
                this.commands.removeCommand(expandSnippet);
                this.off("changeMode", onChangeMode);
            }
        },
        value: false
    }
});
});
                (function() {
                    ace.acequire(["ace/ext/language_tools"], function() {});
                })();
            
},{}],2:[function(require,module,exports){
ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
}

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*\\b";

var JavaScriptHighlightRules = function(options) {
    var keywordMapper = this.createKeywordMapper({
        "variable.language":
            "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|"  + // Constructors
            "Namespace|QName|XML|XMLList|"                                             + // E4X
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|"   +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|"                    +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|"   + // Errors
            "SyntaxError|TypeError|URIError|"                                          +
            "decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|" + // Non-constructor functions
            "isNaN|parseFloat|parseInt|"                                               +
            "JSON|Math|"                                                               + // Other
            "this|arguments|prototype|window|document"                                 , // Pseudo
        "keyword":
            "const|yield|import|get|set|" +
            "break|case|catch|continue|default|delete|do|else|finally|for|function|" +
            "if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|" +
            "__parent__|__count__|escape|unescape|with|__proto__|" +
            "class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
        "storage.type":
            "const|let|var|function",
        "constant.language":
            "null|Infinity|NaN|undefined",
        "support.function":
            "alert",
        "constant.language.boolean": "true|false"
    }, "identifier");
    var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";

    var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|" + // hex
        "u[0-9a-fA-F]{4}|" + // unicode
        "[0-2][0-7]{0,2}|" + // oct
        "3[0-6][0-7]?|" + // oct
        "37[0-7]?|" + // oct
        "[4-7][0-7]?|" + //oct
        ".)";

    this.$rules = {
        "no_regex" : [
            {
                token : "comment",
                regex : "\\/\\/",
                next : "line_comment"
            },
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : /\/\*/,
                next : "comment"
            }, {
                token : "string",
                regex : "'(?=.)",
                next  : "qstring"
            }, {
                token : "string",
                regex : '"(?=.)',
                next  : "qqstring"
            }, {
                token : "constant.numeric", // hex
                regex : /0[xX][0-9a-fA-F]+\b/
            }, {
                token : "constant.numeric", // float
                regex : /[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
            }, {
                token : [
                    "storage.type", "punctuation.operator", "support.function",
                    "punctuation.operator", "entity.name.function", "text","keyword.operator"
                ],
                regex : "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe +")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "keyword.operator", "text", "storage.type",
                    "text", "paren.lparen"
                ],
                regex : "(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "punctuation.operator",
                    "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "text", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "keyword",
                regex : "(?:" + kwBeforeRe + ")\\b",
                next : "start"
            }, {
                token : ["support.constant"],
                regex : /that\b/
            }, {
                token : ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex : /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
            }, {
                token : keywordMapper,
                regex : identifierRe
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/,
                next  : "property"
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|\.{3}|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,
                next  : "start"
            }, {
                token : "punctuation.operator",
                regex : /[?:,;.]/,
                next  : "start"
            }, {
                token : "paren.lparen",
                regex : /[\[({]/,
                next  : "start"
            }, {
                token : "paren.rparen",
                regex : /[\])}]/
            }, {
                token: "comment",
                regex: /^#!.*$/
            }
        ],
        property: [{
                token : "text",
                regex : "\\s+"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/
            }, {
                token : "support.function",
                regex : /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token : "support.function.dom",
                regex : /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token :  "support.constant",
                regex : /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token : "identifier",
                regex : identifierRe
            }, {
                regex: "",
                token: "empty",
                next: "no_regex"
            }
        ],
        "start": [
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : "\\/\\*",
                next : "comment_regex_allowed"
            }, {
                token : "comment",
                regex : "\\/\\/",
                next : "line_comment_regex_allowed"
            }, {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {
                token : "text",
                regex : "\\s+|^$",
                next : "start"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "regex": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "string.regexp",
                regex: "/[sxngimy]*",
                next: "no_regex"
            }, {
                token : "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token : "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
            }, {
                token : "constant.language.delimiter",
                regex: /\|/
            }, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp"
            }
        ],
        "regex_character_class": [
            {
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
            }, {
                token: "constant.language.escape",
                regex: "-"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp.charachterclass"
            }
        ],
        "function_arguments": [
            {
                token: "variable.parameter",
                regex: identifierRe
            }, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {
                token: "punctuation.operator",
                regex: "$"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "comment_regex_allowed" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "\\*\\/", next : "start"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "comment" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "\\*\\/", next : "no_regex"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "line_comment_regex_allowed" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "$|^", next : "start"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "line_comment" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "$|^", next : "no_regex"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "qqstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qqstring"
            }, {
                token : "string",
                regex : '"|$',
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ],
        "qstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qstring"
            }, {
                token : "string",
                regex : "'|$",
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ]
    };
    
    
    if (!options || !options.noES6) {
        this.$rules.no_regex.unshift({
            regex: "[{}]", onMatch: function(val, state, stack) {
                this.next = val == "{" ? this.nextState : "";
                if (val == "{" && stack.length) {
                    stack.unshift("start", state);
                    return "paren";
                }
                if (val == "}" && stack.length) {
                    stack.shift();
                    this.next = stack.shift();
                    if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
                        return "paren.quasi.end";
                }
                return val == "{" ? "paren.lparen" : "paren.rparen";
            },
            nextState: "start"
        }, {
            token : "string.quasi.start",
            regex : /`/,
            push  : [{
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "paren.quasi.start",
                regex : /\${/,
                push  : "start"
            }, {
                token : "string.quasi.end",
                regex : /`/,
                next  : "pop"
            }, {
                defaultToken: "string.quasi"
            }]
        });
        
        if (!options || !options.noJSX)
            JSX.call(this);
    }
    
    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("no_regex") ]);
    
    this.normalizeRules();
};

oop.inherits(JavaScriptHighlightRules, TextHighlightRules);

function JSX() {
    var tagRegex = identifierRe.replace("\\d", "\\d\\-");
    var jsxTag = {
        onMatch : function(val, state, stack) {
            var offset = val.charAt(1) == "/" ? 2 : 1;
            if (offset == 1) {
                if (state != this.nextState)
                    stack.unshift(this.next, this.nextState, 0);
                else
                    stack.unshift(this.next);
                stack[2]++;
            } else if (offset == 2) {
                if (state == this.nextState) {
                    stack[1]--;
                    if (!stack[1] || stack[1] < 0) {
                        stack.shift();
                        stack.shift();
                    }
                }
            }
            return [{
                type: "meta.tag.punctuation." + (offset == 1 ? "" : "end-") + "tag-open.xml",
                value: val.slice(0, offset)
            }, {
                type: "meta.tag.tag-name.xml",
                value: val.substr(offset)
            }];
        },
        regex : "</?" + tagRegex + "",
        next: "jsxAttributes",
        nextState: "jsx"
    };
    this.$rules.start.unshift(jsxTag);
    var jsxJsRule = {
        regex: "{",
        token: "paren.quasi.start",
        push: "start"
    };
    this.$rules.jsx = [
        jsxJsRule,
        jsxTag,
        {include : "reference"},
        {defaultToken: "string"}
    ];
    this.$rules.jsxAttributes = [{
        token : "meta.tag.punctuation.tag-close.xml", 
        regex : "/?>", 
        onMatch : function(value, currentState, stack) {
            if (currentState == stack[0])
                stack.shift();
            if (value.length == 2) {
                if (stack[0] == this.nextState)
                    stack[1]--;
                if (!stack[1] || stack[1] < 0) {
                    stack.splice(0, 2);
                }
            }
            this.next = stack[0] || "start";
            return [{type: this.token, value: value}];
        },
        nextState: "jsx"
    }, 
    jsxJsRule,
    {
        token : "entity.other.attribute-name.xml",
        regex : tagRegex
    }, {
        token : "keyword.operator.attribute-equals.xml",
        regex : "="
    }, {
        token : "text.tag-whitespace.xml",
        regex : "\\s+"
    }, {
        token : "string.attribute-value.xml",
        regex : "'",
        stateName : "jsx_attr_q",
        push : [
            {token : "string.attribute-value.xml", regex: "'", next: "pop"},
            jsxJsRule,
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }, {
        token : "string.attribute-value.xml",
        regex : '"',
        stateName : "jsx_attr_qq",
        push : [
            jsxJsRule,
            {token : "string.attribute-value.xml", regex: '"', next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }];
    this.$rules.reference = [{
        token : "constant.language.escape.reference.xml",
        regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
    }];
}

exports.JavaScriptHighlightRules = JavaScriptHighlightRules;
});

ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];

var context;
var contextCache = {};
var initContext = function(editor) {
    var id = -1;
    if (editor.multiSelect) {
        id = editor.selection.index;
        if (contextCache.rangeCount != editor.multiSelect.rangeCount)
            contextCache = {rangeCount: editor.multiSelect.rangeCount};
    }
    if (contextCache[id])
        return context = contextCache[id];
    context = contextCache[id] = {
        autoInsertedBrackets: 0,
        autoInsertedRow: -1,
        autoInsertedLineEnd: "",
        maybeInsertedBrackets: 0,
        maybeInsertedRow: -1,
        maybeInsertedLineStart: "",
        maybeInsertedLineEnd: ""
    };
};

var getWrapped = function(selection, selected, opening, closing) {
    var rowDiff = selection.end.row - selection.start.row;
    return {
        text: opening + selected + closing,
        selection: [
                0,
                selection.start.column + 1,
                rowDiff,
                selection.end.column + (rowDiff ? 0 : 1)
            ]
    };
};

var CstyleBehaviour = function() {
    this.add("braces", "insertion", function(state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '{', '}');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            initContext(editor);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            initContext(editor);
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar === '}') {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');
                if (!openBracePos)
                     return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
            } else if (closing) {
                var next_indent = this.$getIndent(line);
            } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
            }
            var indent = next_indent + session.getTabString();

            return {
                text: '\n' + indent + '\n' + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
            };
        } else {
            CstyleBehaviour.clearMaybeInsertedClosing();
        }
    });

    this.add("braces", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                context.maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function(state, action, editor, session, text) {
        if (text == '(') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '(', ')');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function(state, action, editor, session, text) {
        if (text == '[') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '[', ']');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            initContext(editor);
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
            } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                
                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                    return null;
                
                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
                
                var pair;
                if (rightChar == quote) {
                    pair = stringBefore !== stringAfter;
                } else {
                    if (stringBefore && !stringAfter)
                        return null; // wrap string with different quote
                    if (stringBefore && stringAfter)
                        return null; // do not pair quotes inside strings
                    var wordRe = session.$mode.tokenRe;
                    wordRe.lastIndex = 0;
                    var isWordBefore = wordRe.test(leftChar);
                    wordRe.lastIndex = 0;
                    var isWordAfter = wordRe.test(leftChar);
                    if (isWordBefore || isWordAfter)
                        return null; // before or after alphanumeric
                    if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                        return null; // there is rightChar and it isn't closing
                    pair = true;
                }
                return {
                    text: pair ? quote + quote : "",
                    selection: [1,1]
                };
            }
        }
    });

    this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};

    
CstyleBehaviour.isSaneInsertion = function(editor, session) {
    var cursor = editor.getCursorPosition();
    var iterator = new TokenIterator(session, cursor.row, cursor.column);
    if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
        if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
            return false;
    }
    iterator.stepForward();
    return iterator.getCurrentTokenRow() !== cursor.row ||
        this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
};

CstyleBehaviour.$matchTokenType = function(token, types) {
    return types.indexOf(token.type || token) > -1;
};

CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
        context.autoInsertedBrackets = 0;
    context.autoInsertedRow = cursor.row;
    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
    context.autoInsertedBrackets++;
};

CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isMaybeInsertedClosing(cursor, line))
        context.maybeInsertedBrackets = 0;
    context.maybeInsertedRow = cursor.row;
    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
    context.maybeInsertedLineEnd = line.substr(cursor.column);
    context.maybeInsertedBrackets++;
};

CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
    return context.autoInsertedBrackets > 0 &&
        cursor.row === context.autoInsertedRow &&
        bracket === context.autoInsertedLineEnd[0] &&
        line.substr(cursor.column) === context.autoInsertedLineEnd;
};

CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
    return context.maybeInsertedBrackets > 0 &&
        cursor.row === context.maybeInsertedRow &&
        line.substr(cursor.column) === context.maybeInsertedLineEnd &&
        line.substr(0, cursor.column) == context.maybeInsertedLineStart;
};

CstyleBehaviour.popAutoInsertedClosing = function() {
    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
    context.autoInsertedBrackets--;
};

CstyleBehaviour.clearMaybeInsertedClosing = function() {
    if (context) {
        context.maybeInsertedBrackets = 0;
        context.maybeInsertedRow = -1;
    }
};



oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = JavaScriptHighlightRules;
    
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start" || state == "no_regex") {
            var match = line.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start" || endState == "no_regex") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/javascript"), "JavaScriptWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("annotate", function(results) {
            session.setAnnotations(results.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/javascript";
}).call(Mode.prototype);

exports.Mode = Mode;
});

},{"../worker/javascript":4}],3:[function(require,module,exports){
ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-monokai";
exports.cssText = ".ace-monokai .ace_gutter {\
background: #2F3129;\
color: #8F908A\
}\
.ace-monokai .ace_print-margin {\
width: 1px;\
background: #555651\
}\
.ace-monokai {\
background-color: #272822;\
color: #F8F8F2\
}\
.ace-monokai .ace_cursor {\
color: #F8F8F0\
}\
.ace-monokai .ace_marker-layer .ace_selection {\
background: #49483E\
}\
.ace-monokai.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #272822;\
}\
.ace-monokai .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-monokai .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #49483E\
}\
.ace-monokai .ace_marker-layer .ace_active-line {\
background: #202020\
}\
.ace-monokai .ace_gutter-active-line {\
background-color: #272727\
}\
.ace-monokai .ace_marker-layer .ace_selected-word {\
border: 1px solid #49483E\
}\
.ace-monokai .ace_invisible {\
color: #52524d\
}\
.ace-monokai .ace_entity.ace_name.ace_tag,\
.ace-monokai .ace_keyword,\
.ace-monokai .ace_meta.ace_tag,\
.ace-monokai .ace_storage {\
color: #F92672\
}\
.ace-monokai .ace_punctuation,\
.ace-monokai .ace_punctuation.ace_tag {\
color: #fff\
}\
.ace-monokai .ace_constant.ace_character,\
.ace-monokai .ace_constant.ace_language,\
.ace-monokai .ace_constant.ace_numeric,\
.ace-monokai .ace_constant.ace_other {\
color: #AE81FF\
}\
.ace-monokai .ace_invalid {\
color: #F8F8F0;\
background-color: #F92672\
}\
.ace-monokai .ace_invalid.ace_deprecated {\
color: #F8F8F0;\
background-color: #AE81FF\
}\
.ace-monokai .ace_support.ace_constant,\
.ace-monokai .ace_support.ace_function {\
color: #66D9EF\
}\
.ace-monokai .ace_fold {\
background-color: #A6E22E;\
border-color: #F8F8F2\
}\
.ace-monokai .ace_storage.ace_type,\
.ace-monokai .ace_support.ace_class,\
.ace-monokai .ace_support.ace_type {\
font-style: italic;\
color: #66D9EF\
}\
.ace-monokai .ace_entity.ace_name.ace_function,\
.ace-monokai .ace_entity.ace_other,\
.ace-monokai .ace_entity.ace_other.ace_attribute-name,\
.ace-monokai .ace_variable {\
color: #A6E22E\
}\
.ace-monokai .ace_variable.ace_parameter {\
font-style: italic;\
color: #FD971F\
}\
.ace-monokai .ace_string {\
color: #E6DB74\
}\
.ace-monokai .ace_comment {\
color: #75715E\
}\
.ace-monokai .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],4:[function(require,module,exports){
module.exports.id = 'ace/mode/javascript_worker';
module.exports.src = "\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/javascript/jshint\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire=\"function\"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error(\"Cannot find module '\"+name+\"'\");throw err.code=\"MODULE_NOT_FOUND\",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire=\"function\"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({\"/node_modules/browserify/node_modules/events/events.js\":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return\"function\"==typeof arg}function isNumber(arg){return\"number\"==typeof arg}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError(\"n must be a positive number\");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),\"error\"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified \"error\" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[type].length),\"function\"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit(\"removeListener\",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit(\"removeListener\",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)\"removeListener\"!==key&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],\"/node_modules/jshint/data/ascii-identifier-data.js\":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],\"/node_modules/jshint/lodash.js\":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return\"function\"==typeof value||!1}function baseToString(value){return\"string\"==typeof value?value:null==value?\"\":value+\"\"}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&\"object\"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return\"function\"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:\"object\"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return\"function\"!=valType&&\"object\"!=valType&&\"function\"!=othType&&\"object\"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,\"__wrapped__\"),othWrapped=othIsObj&&hasOwnProperty.call(other,\"__wrapped__\");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+\"\";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+\"\";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(\"number\"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(\"function\"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for(\"function\"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer=\"function\"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return\"function\"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+\"\"}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor=\"constructor\"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&\"constructor\"in object&&\"constructor\"in other&&!(\"function\"==typeof objCtor&&objCtor instanceof objCtor&&\"function\"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&\"string\"==typeof array[0]&&hasOwnProperty.call(array,\"index\")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return\"function\"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if(\"number\"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq=\"string\"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if(\"string\"==type&&reIsPlainProp.test(value)||\"number\"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return\"number\"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,\"constructor\")&&(Ctor=value.constructor,\"function\"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,\"$1\"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if(\"number\"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&\"number\"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex=\"number\"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,\"string\"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),(\"function\"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if(\"function\"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&\"boolean\"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:\"function\"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer=\"function\"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return\"function\"==type||!!value&&\"object\"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return\"number\"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return\"string\"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto=\"function\"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+\"\";for(var key in object)skipIndexes&&isIndex(key,length)||\"constructor\"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,\"\\\\$&\"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION=\"3.7.0\",FUNC_ERROR_TEXT=\"Expected a function\",argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={\"function\":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&\"object\"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),\"xo\")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames=\"string\"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty(\"length\"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return\"function\"==typeof Ctor&&Ctor.prototype===object||\"function\"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],\"/node_modules/jshint/src/jshint.js\":[function(_dereq_,module,exports){var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),vars=_dereq_(\"./vars.js\"),messages=_dereq_(\"./messages.js\"),Lexer=_dereq_(\"./lex.js\").Lexer,reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,style=_dereq_(\"./style.js\"),options=_dereq_(\"./options.js\"),scopeManager=_dereq_(\"./scope-manager.js\"),JSHINT=function(){\"use strict\";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||\"jslint\"===t.type||_.has(options.removed,name)?!0:(error(\"E001\",t,name),!1)}function isString(obj){return\"[object String]\"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return\"string\"==typeof r||\"number\"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict=\"global\"),state.inES6()||warning(\"W134\",state.tokens.next,\"module\",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict=\"global\"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:\"JSHintError\",line:line,character:chr,message:message+\" (\"+percentage+\"% scanned).\",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},\"(end)\"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:\"(error)\",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||\"\",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit(\"E043\",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:\"(internal)\",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if(\"globals\"===nt.type){body.forEach(function(g,idx){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(\"-\"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}\"-\"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]=\"true\"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}\"exported\"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}state.funct[\"(scope)\"].addExported(e)}),\"members\"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||'\"'!==ch1&&\"'\"!==ch1||(m=m.substr(1,m.length-2).replace('\\\\\"','\"')),membersOnly[m]=!1}));var numvals=[\"maxstatements\",\"maxparams\",\"maxdepth\",\"maxcomplexity\",\"maxerr\",\"maxlen\",\"indent\"];(\"jshint\"===nt.type||\"jslint\"===nt.type)&&(body.forEach(function(g){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if(\"false\"!==val){if(val=+val,\"number\"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error(\"E032\",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]=\"indent\"===key?4:!1;else{if(\"validthis\"===key)return state.funct[\"(global)\"]?void error(\"E009\"):\"true\"!==val&&\"false\"!==val?void error(\"E002\",nt):(state.option.validthis=\"true\"===val,void 0);if(\"quotmark\"!==key)if(\"shadow\"!==key)if(\"unused\"!==key)if(\"latedef\"!==key)if(\"ignore\"!==key)if(\"strict\"!==key){\"module\"===key&&(hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"module\"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if(\"esversion\"===key){switch(val){case\"5\":state.inES5(!0)&&warning(\"I003\");case\"3\":case\"6\":state.option.moz=!1,state.option.esversion=+val;break;case\"2015\":state.option.moz=!1,state.option.esversion=6;break;default:error(\"E002\",nt)}return hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"esversion\"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]=\"-\"===match[1],void 0;var tn;return\"true\"===val||\"false\"===val?(\"jslint\"===nt.type?(tn=options.renamed[key]||key,state.option[tn]=\"true\"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]=\"true\"===val,\"newcap\"===key&&(state.option[\"(explicitNewcap)\"]=!0),void 0):(error(\"E002\",nt),void 0)}switch(val){case\"true\":state.option.moz=!1,state.option.esversion=esversions[key];break;case\"false\":state.option.moz||(state.option.esversion=5);break;default:error(\"E002\",nt)}}else switch(val){case\"true\":state.option.strict=!0;break;case\"false\":state.option.strict=!1;break;case\"func\":case\"global\":case\"implied\":state.option.strict=val;break;default:error(\"E002\",nt)}else switch(val){case\"line\":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.latedef=!0;break;case\"false\":state.option.latedef=!1;break;case\"nofunc\":state.option.latedef=\"nofunc\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.unused=!0;break;case\"false\":state.option.unused=!1;break;case\"vars\":case\"strict\":state.option.unused=val;break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.shadow=!0;break;case\"outer\":state.option.shadow=\"outer\";break;case\"false\":case\"inner\":state.option.shadow=\"inner\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":case\"false\":state.option.quotmark=\"true\"===val;break;case\"double\":case\"single\":state.option.quotmark=val;break;default:error(\"E002\",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||\"(end)\"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while(\"(endline)\"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case\"(number)\":\".\"===state.tokens.next.id&&warning(\"W005\",state.tokens.curr);break;case\"-\":(\"-\"===state.tokens.next.id||\"--\"===state.tokens.next.id)&&warning(\"W006\");break;case\"+\":(\"+\"===state.tokens.next.id||\"++\"===state.tokens.next.id)&&warning(\"W007\")}for(id&&state.tokens.next.id!==id&&(t?\"(end)\"===state.tokens.next.id?error(\"E019\",t,t.id):error(\"E020\",state.tokens.next,id,t.id,t.line,state.tokens.next.value):(\"(identifier)\"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning(\"W116\",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit(\"E041\",state.tokens.curr.line),\"(end)\"===state.tokens.next.id||\"(error)\"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)\"falls through\"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if(\"(endline)\"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return\";\"===next.id||\"}\"===next.id||\":\"===next.id?!0:isInfix(next)===isInfix(curr)||\"yield\"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&\"unary\"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||\"let\"!==state.tokens.next.value||\"(\"!==peek(0).value||(state.inMoz()||warning(\"W118\",state.tokens.next,\"let expressions\"),isLetExpr=!0,state.funct[\"(scope)\"].stack(),advance(\"let\"),advance(\"(\"),state.tokens.prev.fud(),advance(\")\")),\"(end)\"===state.tokens.next.id&&error(\"E006\",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains([\"]\",\")\"],state.tokens.prev.id)&&_.contains([\"[\",\"(\"],state.tokens.curr.id);if(isDangerous&&warning(\"W014\",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct[\"(verb)\"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error(\"E030\",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||\"(template)\"===state.tokens.next.type)&&!isEndOfExpr();)isArray=\"Array\"===state.tokens.curr.value,isObject=\"Object\"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&(\"new\"!==left.value||left.first&&left.first.value&&\".\"===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W009\",state.tokens.curr),isObject&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W010\",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error(\"E033\",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct[\"(scope)\"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning(\"W014\",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning(\"E022\",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning(\"I001\"),comma.first=!1),warning(\"W014\",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(\",\")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case\"break\":case\"case\":case\"catch\":case\"continue\":case\"default\":case\"do\":case\"else\":case\"finally\":case\"for\":case\"if\":case\"in\":case\"instanceof\":case\"return\":case\"switch\":case\"throw\":case\"try\":case\"var\":case\"let\":case\"while\":case\"with\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}if(\"(punctuator)\"===state.tokens.next.type)switch(state.tokens.next.value){case\"}\":case\"]\":case\",\":if(opts.allowTrailing)return!0;case\")\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&\"object\"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud=\"function\"==typeof f?f:function(){return this.arity=\"unary\",this.right=expression(150),(\"++\"===this.id||\"--\"===this.id)&&(state.option.plusplus?warning(\"W016\",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||\".\"===this.right.id||\"[\"===this.right.id||warning(\"W017\",this),this.right&&this.right.isMetaProperty?error(\"E031\",this):this.right&&this.right.identifier&&state.funct[\"(scope)\"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return\"function\"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),\"in\"!==s&&\"instanceof\"!==s||\"!\"!==left.id||warning(\"W018\",left,\"!\"),\"function\"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:\"arrow\",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,\"NaN\")||isIdentifier(right,\"NaN\")?warning(\"W019\",this):f&&f.apply(this,[left,right]),left&&right||quit(\"E041\",state.tokens.curr.line),\"!\"===left.id&&warning(\"W018\",left,\"!\"),\"!\"===right.id&&warning(\"W018\",right,\"!\"),this},x}function isPoorRelation(node){return node&&(\"(number)\"===node.type&&0===+node.value||\"(string)\"===node.type&&\"\"===node.value||\"null\"===node.type&&!state.option.eqnull||\"true\"===node.type||\"false\"===node.type||\"undefined\"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,\"(identifier)\"===right.type&&\"typeof\"===right.value&&\"(string)\"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return\"this\"===left.type&&null===state.funct[\"(context)\"]?isGlobal=!0:\"(identifier)\"===left.type&&(state.option.node&&\"global\"===left.value?isGlobal=!0:!state.option.browser||\"window\"!==left.value&&\"document\"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return\"object\"==typeof obj?\"prototype\"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&\"object\"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=[\"Array\",\"ArrayBuffer\",\"Boolean\",\"Collator\",\"DataView\",\"Date\",\"DateTimeFormat\",\"Error\",\"EvalError\",\"Float32Array\",\"Float64Array\",\"Function\",\"Infinity\",\"Intl\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"Iterator\",\"Number\",\"NumberFormat\",\"Object\",\"RangeError\",\"ReferenceError\",\"RegExp\",\"StopIteration\",\"String\",\"SyntaxError\",\"TypeError\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"URIError\"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning(\"W121\",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct[\"(scope)\"].block.reassign(left.value,left),\".\"===left.id?((!left.left||\"arguments\"===left.left.value&&!state.isStrict())&&warning(\"E031\",assignToken),state.nameStack.set(state.tokens.prev),!0):\"{\"===left.id||\"[\"===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct[\"(scope)\"].block.modify(t.id,t.token)}):\"{\"!==left.id&&left.left?\"arguments\"!==left.left.value||state.isStrict()||warning(\"E031\",assignToken):warning(\"E031\",assignToken),\"[\"===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error(\"E031\",assignToken),!0):left.identifier&&!isReserved(left)?(\"exception\"===state.funct[\"(scope)\"].labeltype(left.value)&&warning(\"W022\",left),state.nameStack.set(left),!0):(left===state.syntax[\"function\"]&&warning(\"W023\",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,\"function\"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error(\"E031\",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led=\"function\"==typeof f?f:function(left){return state.option.bitwise&&warning(\"W016\",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning(\"W016\",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error(\"E031\",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning(\"W016\",this,this.id):left.identifier&&!isReserved(left)||\".\"===left.id||\"[\"===left.id||warning(\"W017\",this),left.isMetaProperty?error(\"E031\",this):left&&left.identifier&&state.funct[\"(scope)\"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&\"undefined\"===val?val:(warning(\"W024\",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if(\"...\"===state.tokens.next.value){if(state.inES6(!0)||warning(\"W119\",state.tokens.next,\"spread/rest operator\",\"6\"),advance(),checkPunctuator(state.tokens.next,\"...\"))for(warning(\"E024\",state.tokens.next,\"...\");checkPunctuator(state.tokens.next,\"...\");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning(\"E024\",state.tokens.curr,\"...\"),void 0)}error(\"E030\",state.tokens.next,state.tokens.next.value),\";\"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(\";\"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while(\"(end)\"!==t.id&&\"(comment)\"===t.id);if(t.reach)return;if(\"(endline)\"!==t.id){if(\"function\"===t.id){state.option.latedef===!0&&warning(\"W026\",t);break}warning(\"W027\",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(\";\"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&\"(end)\"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,\"}\");sameLine&&!blockEnd?errorAt(\"E058\",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt(\"W033\",state.tokens.curr.line,state.tokens.curr.character)}else advance(\";\")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(\";\"===t.id)return advance(\";\"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&\":\"===peek().id&&(warning(\"W024\",t,t.id),res=!1),t.identifier&&!res&&\":\"===peek().id&&(advance(),advance(\":\"),hasOwnScope=!0,state.funct[\"(scope)\"].stack(),state.funct[\"(scope)\"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||\"{\"===state.tokens.next.value||warning(\"W028\",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),\"{\"===t.id){var iscase=\"case\"===state.funct[\"(verb)\"]&&\":\"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&\"function\"===r.value||\"(punctuator)\"===r.type&&r.left&&r.left.identifier&&\"function\"===r.left.value||state.isStrict()||\"global\"!==state.option.strict||warning(\"E007\"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&\"(\"===r.id&&\"new\"===r.left.id&&warning(\"W031\",t):warning(\"W030\",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct[\"(scope)\"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&\"(end)\"!==state.tokens.next.id;)\";\"===state.tokens.next.id?(p=peek(),(!p||\"(\"!==p.id&&\"[\"!==p.id)&&warning(\"W032\"),advance(\";\")):a.push(statement());return a}function directives(){for(var i,p,pn;\"(string)\"===state.tokens.next.id;){if(p=peek(0),\"(endline)\"===p.id){i=1;do pn=peek(i++);while(\"(endline)\"===pn.id);if(\";\"===pn.id)p=pn;else{if(\"[\"===pn.value||\".\"===pn.value)break;state.option.asi&&\"(\"!==pn.value||warning(\"W033\",state.tokens.next)}}else{if(\".\"===p.id||\"[\"===p.id)break;\";\"!==p.id&&warning(\"W033\",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||\"use strict\"===directive&&\"implied\"===state.option.strict)&&warning(\"W034\",state.tokens.curr,directive),state.directive[directive]=!0,\";\"===p.id&&advance(\";\")}state.isStrict()&&(state.option[\"(explicitNewcap)\"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct[\"(metrics)\"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),\"{\"===state.tokens.next.id){if(advance(\"{\"),state.funct[\"(scope)\"].stack(),line=state.tokens.curr.line,\"}\"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance(\"}\",t),isfunc&&(state.funct[\"(scope)\"].validateParams(),m&&(state.directive=m)),state.funct[\"(scope)\"].unstack(),indent=old_indent}else if(ordinary)state.funct[\"(noblockscopedvar)\"]=\"for\"!==state.tokens.next.id,state.funct[\"(scope)\"].stack(),(!stmt||state.option.curly)&&warning(\"W116\",state.tokens.next,\"{\",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct[\"(scope)\"].unstack(),delete state.funct[\"(noblockscopedvar)\"];else if(isfunc){if(state.funct[\"(scope)\"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error(\"W118\",state.tokens.curr,\"function closure expressions\"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\")),state.funct[\"(scope)\"].unstack()}else error(\"E021\",state.tokens.next,\"{\",state.tokens.next.value);switch(state.funct[\"(verb)\"]){case\"break\":case\"continue\":case\"return\":case\"throw\":if(iscase)break;default:state.funct[\"(verb)\"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning(\"W035\",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&\"boolean\"!=typeof membersOnly[m]&&warning(\"W036\",state.tokens.curr,m),\"number\"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct[\"(comparray)\"].stack();var reversed=!1;return\"for\"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning(\"W116\",state.tokens.next,\"for\",state.tokens.next.value),state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"for\"),\"each\"===state.tokens.next.value&&(advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"define\"),res.left=expression(130),_.contains([\"in\",\"of\"],state.tokens.next.value)?advance():error(\"E045\",state.tokens.curr),state.funct[\"(comparray)\"].setState(\"generate\"),expression(10),advance(\")\"),\"if\"===state.tokens.next.value&&(advance(\"if\"),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"filter\"),res.filter=expression(10),advance(\")\")),reversed||(state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"]\"),state.funct[\"(comparray)\"].unstack(),res}function isMethod(){return state.funct[\"(statement)\"]&&\"class\"===state.funct[\"(statement)\"].type||state.funct[\"(context)\"]&&\"class\"===state.funct[\"(context)\"][\"(verb)\"]}function isPropertyName(token){return token.identifier||\"(string)\"===token.id||\"(number)\"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return\"object\"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?\"object\"==typeof id&&(\"(string)\"===id.id||\"(identifier)\"===id.id?id=id.value:\"(number)\"===id.id&&(id=\"\"+id.value)):\"(string)\"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):\"(number)\"===state.tokens.next.id&&(id=\"\"+state.tokens.next.value,preserve||advance()),\"hasOwnProperty\"===id&&warning(\"W001\"),id}function functionparams(options){function addParam(addParamArgs){state.funct[\"(scope)\"].addParam.apply(state.funct[\"(scope)\"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct[\"(scope)\"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance(\"(\"),\")\"===state.tokens.next.id)return advance(\")\"),void 0;for(;;){arity++;var currentParams=[];if(_.contains([\"{\",\"[\"],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,\"...\")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[\",\",\")\"]);)advance();if(pastDefault&&\"=\"!==state.tokens.next.id&&error(\"W138\",state.tokens.current),\"=\"===state.tokens.next.id&&(state.inES6()||warning(\"W119\",state.tokens.next,\"default parameters\",\"6\"),advance(\"=\"),pastDefault=!0,expression(10)),currentParams.forEach(addParam),\",\"!==state.tokens.next.id)return advance(\")\",next),{arity:arity,params:paramsIds};pastRest&&warning(\"W131\",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={\"(name)\":name,\"(breakage)\":0,\"(loopage)\":0,\"(tokens)\":{},\"(properties)\":{},\"(catch)\":!1,\"(global)\":!1,\"(line)\":null,\"(character)\":null,\"(metrics)\":null,\"(statement)\":null,\"(context)\":null,\"(scope)\":null,\"(comparray)\":null,\"(generator)\":null,\"(arrow)\":null,\"(params)\":null};return token&&_.extend(funct,{\"(line)\":token.line,\"(character)\":token.character,\"(metrics)\":createMetrics(token)}),_.extend(funct,overwrites),funct[\"(context)\"]&&(funct[\"(scope)\"]=funct[\"(context)\"][\"(scope)\"],funct[\"(comparray)\"]=funct[\"(context)\"][\"(comparray)\"]),funct}function isFunctor(token){return\"(scope)\"in token}function hasParsedCode(funct){return funct[\"(global)\"]&&!funct[\"(verb)\"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:\"(template)\",type:\"(template)\",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator=\"generator\"===options.type,isArrow=\"arrow\"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{\"(statement)\":statement,\"(context)\":state.funct,\"(arrow)\":isArrow,\"(generator)\":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct[\"(scope)\"].stack(\"functionouter\");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct[\"(scope)\"].block.add(internallyAccessibleName,classExprBinding?\"class\":\"function\",state.tokens.curr,!1),state.funct[\"(scope)\"].stack(\"functionparams\");var paramsInfo=functionparams(options);return paramsInfo?(state.funct[\"(params)\"]=paramsInfo.params,state.funct[\"(metrics)\"].arity=paramsInfo.arity,state.funct[\"(metrics)\"].verifyMaxParametersPerFunction()):state.funct[\"(metrics)\"].arity=0,isArrow&&(state.inES6(!0)||warning(\"W119\",state.tokens.curr,\"arrow function syntax (=>)\",\"6\"),options.loneArg||advance(\"=>\")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&\"yielded\"!==state.funct[\"(generator)\"]&&warning(\"W124\",state.tokens.curr),state.funct[\"(metrics)\"].verifyMaxStatementsPerFunction(),state.funct[\"(metrics)\"].verifyMaxComplexityPerFunction(),state.funct[\"(unusedOption)\"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct[\"(last)\"]=state.tokens.curr.line,state.funct[\"(lastcharacter)\"]=state.tokens.curr.character,state.funct[\"(scope)\"].unstack(),state.funct[\"(scope)\"].unstack(),state.funct=state.funct[\"(context)\"],ignoreLoopFunc||state.option.loopfunc||!state.funct[\"(loopage)\"]||f[\"(isCapturing)\"]&&warning(\"W083\",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning(\"W071\",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning(\"W072\",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning(\"W073\",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning(\"W074\",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct[\"(metrics)\"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,\",\"===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case\"=\":case\"+=\":case\"-=\":case\"*=\":case\"%=\":case\"&=\":case\"|=\":case\"^=\":case\"/=\":paren||state.option.boss||warning(\"W084\")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning(\"W078\",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,\".\")){var left=state.tokens.curr.id;advance(\".\");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error(\"E057\",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning(\"W104\",state.tokens.curr,isAssignment?\"destructuring assignment\":\"destructuring binding\",\"6\"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,[\"[\",\"{\"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,\",\"))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,\"(\")){var is_rest=checkPunctuator(state.tokens.next,\"...\");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning(\"E030\",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance(\"(\"),nextInnerDE(),advance(\")\")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,\"[\")?(advance(\"[\"),expression(10),advance(\"]\"),advance(\":\"),nextInnerDE()):\"(string)\"===state.tokens.next.id||\"(number)\"===state.tokens.next.id?(advance(),advance(\":\"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,\":\")?(advance(\":\"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,\"[\")){openingParsed||advance(\"[\"),checkPunctuator(state.tokens.next,\"]\")&&warning(\"W137\",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,\"]\");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,\",\")&&(warning(\"W130\",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,\"=\")&&(checkPunctuator(state.tokens.prev,\"...\")?advance(\"]\"):advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"]\")||advance(\",\");advance(\"]\")}else if(checkPunctuator(firstToken,\"{\")){for(openingParsed||advance(\"{\"),checkPunctuator(state.tokens.next,\"}\")&&warning(\"W137\",state.tokens.curr);!checkPunctuator(state.tokens.next,\"}\")&&(assignmentProperty(),checkPunctuator(state.tokens.next,\"=\")&&(advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"}\")||(advance(\",\"),!checkPunctuator(state.tokens.next,\"}\"))););advance(\"}\")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning(\"W080\",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet=\"let\"===type,isConst=\"const\"===type;for(state.inES6()||warning(\"W104\",state.tokens.curr,type,\"6\"),isLet&&\"(\"===state.tokens.next.value?(state.inMoz()||warning(\"W118\",state.tokens.next,\"let block\"),advance(\"(\"),state.funct[\"(scope)\"].stack(),letblock=!0):state.funct[\"(noblockscopedvar)\"]&&error(\"E048\",state.tokens.curr,isConst?\"Const\":\"Let\"),statement.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&\"=\"!==state.tokens.next.id&&warning(\"E012\",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct[\"(scope)\"].block.isGlobal()&&predefined[t.id]===!1&&warning(\"W079\",t.token,t.id),t.id&&!state.funct[\"(noblockscopedvar)\"]&&(state.funct[\"(scope)\"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.token.value,t.token)));if(\"=\"===state.tokens.next.id&&(advance(\"=\"),prefix||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),!prefix&&\"=\"===peek(0).id&&state.tokens.next.identifier&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),\",\"!==state.tokens.next.id)break;comma()}return letblock&&(advance(\")\"),block(!0,!0),statement.block=!0,state.funct[\"(scope)\"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning(\"W104\",state.tokens.curr,\"class\",\"6\"),isStatement?(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"class\",token:state.tokens.curr})):state.tokens.next.identifier&&\"extends\"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;\"extends\"===state.tokens.next.value&&(advance(\"extends\"),c.heritage=expression(10)),state.inClassBody=!0,advance(\"{\"),c.body=classbody(c),advance(\"}\"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;\"}\"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,\";\"!==name.id){if(\"*\"===name.id&&(isGenerator=!0,advance(\"*\"),name=state.tokens.next),\"[\"===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning(\"W052\",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&\"static\"===name.value&&(checkPunctuator(state.tokens.next,\"*\")&&(isGenerator=!0,advance(\"*\")),(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,isStatic=!0,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||\"get\"!==name.value&&\"set\"!==name.value||(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,getset=name,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,\"(\")){for(error(\"E054\",state.tokens.next,state.tokens.next.value);\"}\"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,\"(\");)advance();\"(\"!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):(\"constructor\"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&\"constructor\"===name.value){var propDesc=\"get\"===getset.value?\"class getter method\":\"class setter method\";error(\"E049\",name,propDesc,\"constructor\")}else\"prototype\"===name.value&&error(\"E049\",name,\"class method\",\"prototype\");propertyName(name),doFunction({statement:c,type:isGenerator?\"generator\":null,classExprBinding:c.namedExpr?c.name:null})}else warning(\"W032\"),advance(\";\");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=[\"key\",\"class method\",\"static class method\"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&\"__proto__\"!==name?warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName=\"get\"===accessorType?\"getterToken\":\"setterToken\",msg=\"\";isClass?(isStatic&&(msg+=\"static \"),msg+=accessorType+\"ter method\"):msg=\"key\",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&\"__proto__\"!==name&&warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance(\"[\"),state.inES6()||warning(\"W119\",state.tokens.curr,\"computed property names\",\"6\");var value=expression(10);return advance(\"]\"),value}function checkPunctuators(token,values){return\"(punctuator)\"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return\"(punctuator)\"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning(\"W104\",state.tokens.curr,\"destructuring assignment\",\"6\"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance(\"{\"),\"}\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E026\",state.tokens.next,t.line);else{if(\"}\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id?error(\"E028\",state.tokens.next):\"(string)\"!==state.tokens.next.id&&warning(\"W095\",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning(\"W075\",state.tokens.next,\"key\",state.tokens.next.value):\"__proto__\"===state.tokens.next.value&&!state.option.proto||\"__iterator__\"===state.tokens.next.value&&!state.option.iterator?warning(\"W096\",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(\":\"),jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"}\")}function jsonArray(){var t=state.tokens.next;if(advance(\"[\"),\"]\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E027\",state.tokens.next,t.line);else{if(\"]\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id&&error(\"E028\",state.tokens.next)}if(jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"]\")}switch(state.tokens.next.id){case\"{\":jsonObject();break;case\"[\":jsonArray();break;case\"true\":case\"false\":case\"null\":case\"(number)\":case\"(string)\":advance();break;case\"-\":advance(\"-\"),advance(\"(number)\");break;default:error(\"E003\",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={\"<\":!0,\"<=\":!0,\"==\":!0,\"===\":!0,\"!==\":!0,\"!=\":!0,\">\":!0,\">=\":!0,\"+\":!0,\"-\":!0,\"*\":!0,\"/\":!0,\"%\":!0},functionicity=[\"closure\",\"exception\",\"global\",\"label\",\"outer\",\"unused\",\"var\"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=[\"xml\",\"unknown\"],typeofValues.es3=[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"object\"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat(\"symbol\"),type(\"(number)\",function(){return this}),type(\"(string)\",function(){return this}),state.syntax[\"(identifier)\"]={type:\"(identifier)\",lbp:0,identifier:!0,nud:function(){var v=this.value;return\"=>\"===state.tokens.next.id?this:(state.funct[\"(comparray)\"].check(v)||state.funct[\"(scope)\"].block.use(v,state.tokens.curr),this)},led:function(){error(\"E033\",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax[\"(template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template middle)\"]=_.extend({type:\"(template middle)\",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template tail)\"]=_.extend({type:\"(template tail)\",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(no subst template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type(\"(regexp)\",function(){return this}),delim(\"(endline)\"),delim(\"(begin)\"),delim(\"(end)\").reach=!0,delim(\"(error)\").reach=!0,delim(\"}\").reach=!0,delim(\")\"),delim(\"]\"),delim('\"').reach=!0,delim(\"'\").reach=!0,delim(\";\"),delim(\":\").reach=!0,delim(\"#\"),reserve(\"else\"),reserve(\"case\").reach=!0,reserve(\"catch\"),reserve(\"default\").reach=!0,reserve(\"finally\"),reservevar(\"arguments\",function(x){state.isStrict()&&state.funct[\"(global)\"]&&warning(\"E008\",x)}),reservevar(\"eval\"),reservevar(\"false\"),reservevar(\"Infinity\"),reservevar(\"null\"),reservevar(\"this\",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct[\"(statement)\"]&&state.funct[\"(name)\"].charAt(0)>\"Z\"||state.funct[\"(global)\"])&&warning(\"W040\",x)}),reservevar(\"true\"),reservevar(\"undefined\"),assignop(\"=\",\"assign\",20),assignop(\"+=\",\"assignadd\",20),assignop(\"-=\",\"assignsub\",20),assignop(\"*=\",\"assignmult\",20),assignop(\"/=\",\"assigndiv\",20).nud=function(){error(\"E014\")},assignop(\"%=\",\"assignmod\",20),bitwiseassignop(\"&=\"),bitwiseassignop(\"|=\"),bitwiseassignop(\"^=\"),bitwiseassignop(\"<<=\"),bitwiseassignop(\">>=\"),bitwiseassignop(\">>>=\"),infix(\",\",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning(\"W127\"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),\",\"!==state.tokens.next.value||!comma())break}return that},10,!0),infix(\"?\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(\":\"),that[\"else\"]=expression(10),that},30);var orPrecendence=40;infix(\"||\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix(\"&&\",\"and\",50),bitwise(\"|\",\"bitor\",70),bitwise(\"^\",\"bitxor\",80),bitwise(\"&\",\"bitand\",90),relation(\"==\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning(\"W116\",this,\"===\",\"==\");break;case isPoorRelation(left):warning(\"W041\",this,\"===\",left.value);break;case isPoorRelation(right):warning(\"W041\",this,\"===\",right.value);break;case isTypoTypeof(right,left,state):warning(\"W122\",this,right.value);break;case isTypoTypeof(left,right,state):warning(\"W122\",this,left.value)}return this}),relation(\"===\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!=\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning(\"W116\",this,\"!==\",\"!=\")):isPoorRelation(left)?warning(\"W041\",this,\"!==\",left.value):isPoorRelation(right)?warning(\"W041\",this,\"!==\",right.value):isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!==\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"<\"),relation(\">\"),relation(\"<=\"),relation(\">=\"),bitwise(\"<<\",\"shiftleft\",120),bitwise(\">>\",\"shiftright\",120),bitwise(\">>>\",\"shiftrightunsigned\",120),infix(\"in\",\"in\",120),infix(\"instanceof\",\"instanceof\",120),infix(\"+\",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&\"(string)\"===left.id&&\"(string)\"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning(\"W050\",left),left):that},130),prefix(\"+\",\"num\"),prefix(\"+++\",function(){return warning(\"W007\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"+++\",function(left){return warning(\"W007\"),this.left=left,this.right=expression(130),this},130),infix(\"-\",\"sub\",130),prefix(\"-\",\"neg\"),prefix(\"---\",function(){return warning(\"W006\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"---\",function(left){return warning(\"W006\"),this.left=left,this.right=expression(130),this},130),infix(\"*\",\"mult\",140),infix(\"/\",\"div\",140),infix(\"%\",\"mod\",140),suffix(\"++\"),prefix(\"++\",\"preinc\"),state.syntax[\"++\"].exps=!0,suffix(\"--\"),prefix(\"--\",\"predec\"),state.syntax[\"--\"].exps=!0,prefix(\"delete\",function(){var p=expression(10);return p?(\".\"!==p.id&&\"[\"!==p.id&&warning(\"W051\"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix(\"~\",function(){return state.option.bitwise&&warning(\"W016\",this,\"~\"),this.arity=\"unary\",this.right=expression(150),this}),prefix(\"...\",function(){return state.inES6(!0)||warning(\"W119\",this,\"spread/rest operator\",\"6\"),state.tokens.next.identifier||\"(string)\"===state.tokens.next.type||checkPunctuators(state.tokens.next,[\"[\",\"(\"])||error(\"E030\",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix(\"!\",function(){return this.arity=\"unary\",this.right=expression(150),this.right||quit(\"E041\",this.line||0),bang[this.right.id]===!0&&warning(\"W018\",this,\"!\"),this}),prefix(\"typeof\",function(){var p=expression(150);return this.first=this.right=p,p||quit(\"E041\",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix(\"new\",function(){var mp=metaProperty(\"target\",function(){state.inES6(!0)||warning(\"W119\",state.tokens.prev,\"new.target\",\"6\");for(var inFunction,c=state.funct;c&&(inFunction=!c[\"(global)\"],c[\"(arrow)\"]);)c=c[\"(context)\"];inFunction||warning(\"W136\",state.tokens.prev,\"new.target\")});if(mp)return mp;var i,c=expression(155);if(c&&\"function\"!==c.id)if(c.identifier)switch(c[\"new\"]=!0,c.value){case\"Number\":case\"String\":case\"Boolean\":case\"Math\":case\"JSON\":warning(\"W053\",state.tokens.prev,c.value);break;case\"Symbol\":state.inES6()&&warning(\"W053\",state.tokens.prev,c.value);break;case\"Function\":state.option.evil||warning(\"W054\");break;case\"Date\":case\"RegExp\":case\"this\":break;default:\"function\"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&(\"A\">i||i>\"Z\")&&!state.funct[\"(scope)\"].isPredefined(c.value)&&warning(\"W055\",state.tokens.curr))}else\".\"!==c.id&&\"[\"!==c.id&&\"(\"!==c.id&&warning(\"W056\",state.tokens.curr);else state.option.supernew||warning(\"W057\",this);return\"(\"===state.tokens.next.id||state.option.supernew||warning(\"W058\",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax[\"new\"].exps=!0,prefix(\"void\").exps=!0,infix(\".\",function(left,that){var m=identifier(!1,!0);return\"string\"==typeof m&&countMember(m),that.left=left,that.right=m,m&&\"hasOwnProperty\"===m&&\"=\"===state.tokens.next.value&&warning(\"W001\"),!left||\"arguments\"!==left.value||\"callee\"!==m&&\"caller\"!==m?state.option.evil||!left||\"document\"!==left.value||\"write\"!==m&&\"writeln\"!==m||warning(\"W060\",left):state.option.noarg?warning(\"W059\",left,m):state.isStrict()&&error(\"E008\"),state.option.evil||\"eval\"!==m&&\"execScript\"!==m||isGlobalEval(left,state)&&warning(\"W061\"),that},160,!0),infix(\"(\",function(left,that){state.option.immed&&left&&!left.immed&&\"function\"===left.id&&warning(\"W062\");var n=0,p=[];if(left&&\"(identifier)\"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1===\"Array Number String Boolean Date Object Error Symbol\".indexOf(left.value)&&(\"Math\"===left.value?warning(\"W063\",left):state.option.newcap&&warning(\"W064\",left)),\")\"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,\",\"===state.tokens.next.id;)comma();return advance(\")\"),\"object\"==typeof left&&(state.inES5()||\"parseInt\"!==left.value||1!==n||warning(\"W065\",state.tokens.curr),state.option.evil||(\"eval\"===left.value||\"Function\"===left.value||\"execScript\"===left.value?(warning(\"W061\",left),p[0]&&\"(string)\"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||\"(string)\"!==p[0].id||\"setTimeout\"!==left.value&&\"setInterval\"!==left.value?!p[0]||\"(string)\"!==p[0].id||\".\"!==left.value||\"window\"!==left.left.value||\"setTimeout\"!==left.right&&\"setInterval\"!==left.right||(warning(\"W066\",left),addInternalSrc(left,p[0].value)):(warning(\"W066\",left),addInternalSrc(left,p[0].value))),left.identifier||\".\"===left.id||\"[\"===left.id||\"=>\"===left.id||\"(\"===left.id||\"&&\"===left.id||\"||\"===left.id||\"?\"===left.id||state.inES6()&&left[\"(name)\"]||warning(\"W067\",that)),that.left=left,that},155,!0).exps=!0,prefix(\"(\",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do\"(\"===pn.value?parens+=1:\")\"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||\")\"!==pn1.value)&&\";\"!==pn.value&&\"(end)\"!==pn.type);if(\"function\"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),\"=>\"===pn.value)return doFunction({type:\"arrow\",parsedOpening:!0});var exprs=[];if(\")\"!==state.tokens.next.id)for(;exprs.push(expression(10)),\",\"===state.tokens.next.id;)state.option.nocomma&&warning(\"W127\"),comma();return advance(\")\",this),state.option.immed&&exprs[0]&&\"function\"===exprs[0].id&&\"(\"!==state.tokens.next.id&&\".\"!==state.tokens.next.id&&\"[\"!==state.tokens.next.id&&warning(\"W068\",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[\",\"]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&(\"{\"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||\"}\"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||\"{\"===ret.id&&\"=>\"===preceeding.id||\"(number)\"===ret.type&&checkPunctuator(pn,\".\")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning(\"W126\",opening),ret.paren=!0),ret):void 0}),application(\"=>\"),infix(\"[\",function(left,that){var s,e=expression(10);return e&&\"(string)\"===e.type&&(state.option.evil||\"eval\"!==e.value&&\"execScript\"!==e.value||isGlobalEval(left,state)&&warning(\"W061\"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning(\"W069\",state.tokens.prev,e.value))),advance(\"]\",that),e&&\"hasOwnProperty\"===e.value&&\"=\"===state.tokens.next.value&&warning(\"W001\"),that.left=left,that.right=e,that},160,!0),prefix(\"[\",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning(\"W118\",state.tokens.curr,\"array comprehension\"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));\"(end)\"!==state.tokens.next.id;){for(;\",\"===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning(\"W128\");do advance(\",\");while(\",\"===state.tokens.next.id);continue}warning(\"W070\")}advance(\",\")}if(\"]\"===state.tokens.next.id)break;if(this.first.push(expression(10)),\",\"!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),\"]\"===state.tokens.next.id&&!state.inES5()){warning(\"W070\",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance(\"]\",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;\"}\"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||\",\"!==peekIgnoreEOL().id&&\"}\"!==peekIgnoreEOL().id)if(\":\"===peek().id||\"get\"!==nextVal&&\"set\"!==nextVal){if(\"*\"===state.tokens.next.value&&\"(punctuator)\"===state.tokens.next.type?(state.inES6()||warning(\"W104\",state.tokens.next,\"generator functions\",\"6\"),advance(\"*\"),isGeneratorMethod=!0):isGeneratorMethod=!1,\"[\"===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),\"string\"!=typeof i)break;\"(\"===state.tokens.next.value?(state.inES6()||warning(\"W104\",state.tokens.curr,\"concise methods\",\"6\"),doFunction({type:isGeneratorMethod?\"generator\":null})):(advance(\":\"),expression(10))}else advance(nextVal),state.inES5()||error(\"E034\"),i=propertyName(),i||state.inES6()||error(\"E035\"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f[\"(params)\"],\"get\"===nextVal&&i&&p?warning(\"W076\",t,p[0],i):\"set\"!==nextVal||!i||p&&1===p.length||warning(\"W077\",t,i);else state.inES6()||warning(\"W104\",state.tokens.next,\"object short notation\",\"6\"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),\",\"!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),\",\"===state.tokens.next.id?warning(\"W070\",state.tokens.curr):\"}\"!==state.tokens.next.id||state.inES5()||warning(\"W070\",state.tokens.curr)}return b&&(indent-=state.option.indent),advance(\"}\",this),checkProperties(props),this},x.fud=function(){error(\"E036\",state.tokens.curr)}}(delim(\"{\"));var conststatement=stmt(\"const\",function(context){return blockVariableStatement(\"const\",this,context)});conststatement.exps=!0;var letstatement=stmt(\"let\",function(context){return blockVariableStatement(\"let\",this,context)});letstatement.exps=!0;var varstatement=stmt(\"var\",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning(\"W132\",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct[\"(global)\"]&&(predefined[t.id]===!1?warning(\"W079\",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning(\"W129\",t.token,t.id)),t.id&&(\"for\"===implied?(state.funct[\"(scope)\"].has(t.id)||report&&warning(\"W088\",t.token,t.id),state.funct[\"(scope)\"].block.use(t.id,t.token)):(state.funct[\"(scope)\"].addlabel(t.id,{type:\"var\",token:t.token}),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.id,t.token)),names.push(t.token)));if(\"=\"===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance(\"=\"),prefix||!report||state.funct[\"(loopage)\"]||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),\"=\"===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct[\"(params)\"]||-1===state.funct[\"(params)\"].indexOf(state.tokens.next.value))&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),\",\"!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt(\"class\",function(){return classdef.call(this,!0)}),blockstmt(\"function\",function(context){var inexport=context&&context.inexport,generator=!1;\"*\"===state.tokens.next.value&&(advance(\"*\"),state.inES6({strict:!0})?generator=!0:warning(\"W119\",state.tokens.curr,\"function*\",\"6\")),inblock&&warning(\"W082\",state.tokens.curr);var i=optionalidentifier();return state.funct[\"(scope)\"].addlabel(i,{type:\"function\",token:state.tokens.curr}),void 0===i?warning(\"W025\"):inexport&&state.funct[\"(scope)\"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?\"generator\":null,ignoreLoopFunc:inblock}),\"(\"===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error(\"E039\"),this}),prefix(\"function\",function(){var generator=!1;\"*\"===state.tokens.next.value&&(state.inES6()||warning(\"W119\",state.tokens.curr,\"function*\",\"6\"),advance(\"*\"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?\"generator\":null}),this}),blockstmt(\"if\",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance(\"(\");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type=\"(punctuator)\"===expr.type&&\"!\"===expr.value?\"(negative)\":\"(positive)\"),advance(\")\",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&\"(negative)\"===forinifcheck.type&&s&&s[0]&&\"(identifier)\"===s[0].type&&\"continue\"===s[0].value&&(forinifcheck.type=\"(negative-with-continue)\"),\"else\"===state.tokens.next.id&&(advance(\"else\"),\"if\"===state.tokens.next.id||\"switch\"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt(\"try\",function(){function doCatch(){if(advance(\"catch\"),advance(\"(\"),state.funct[\"(scope)\"].stack(\"catchparams\"),checkPunctuators(state.tokens.next,[\"[\",\"{\"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct[\"(scope)\"].addParam(token.id,token,\"exception\")})}else\"(identifier)\"!==state.tokens.next.type?warning(\"E030\",state.tokens.next,state.tokens.next.value):state.funct[\"(scope)\"].addParam(identifier(),state.tokens.curr,\"exception\");\"if\"===state.tokens.next.value&&(state.inMoz()||warning(\"W118\",state.tokens.curr,\"catch filter\"),advance(\"if\"),expression(0)),advance(\")\"),block(!1),state.funct[\"(scope)\"].unstack()}var b;for(block(!0);\"catch\"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning(\"W118\",state.tokens.next,\"multiple catch blocks\"),doCatch(),b=!0;return\"finally\"===state.tokens.next.id?(advance(\"finally\"),block(!0),void 0):(b||error(\"E021\",state.tokens.next,\"catch\",state.tokens.next.value),this)}),blockstmt(\"while\",function(){var t=state.tokens.next;return state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this}).labelled=!0,blockstmt(\"with\",function(){var t=state.tokens.next;return state.isStrict()?error(\"E010\",state.tokens.curr):state.option.withstmt||warning(\"W085\",state.tokens.curr),advance(\"(\"),expression(0),advance(\")\",t),block(!0,!0),this}),blockstmt(\"switch\",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct[\"(breakage)\"]+=1,advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),t=state.tokens.next,advance(\"{\"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case\"case\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"case\":case\"continue\":case\"return\":case\"switch\":case\"throw\":break;default:state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"case\")}advance(\"case\"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(\":\"),state.funct[\"(verb)\"]=\"case\";break;case\"default\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"continue\":case\"return\":case\"throw\":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"default\"))}advance(\"default\"),g=!0,advance(\":\");break;case\"}\":return noindent||(indent-=state.option.indent),advance(\"}\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(verb)\"]=void 0,void 0;case\"(end)\":return error(\"E023\",state.tokens.next,\"}\"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case\",\":return error(\"E040\"),void 0;case\":\":g=!1,statements();break;default:return error(\"E025\",state.tokens.curr),void 0}else{if(\":\"!==state.tokens.curr.id)return error(\"E021\",state.tokens.next,\"case\",state.tokens.next.value),void 0;advance(\":\"),error(\"E024\",state.tokens.curr,\":\"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt(\"debugger\",function(){return state.option.debug||warning(\"W087\",this),this}).exps=!0,function(){var x=stmt(\"do\",function(){state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance(\"while\");var t=state.tokens.next;return advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt(\"for\",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;\"each\"===t.value&&(foreachtok=t,advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),increaseComplexityCount(),advance(\"(\");var nextop,comma,initializer,i=0,inof=[\"in\",\"of\"],level=0;checkPunctuators(state.tokens.next,[\"{\",\"[\"])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,[\"{\",\"[\"])?++level:checkPunctuators(nextop,[\"}\",\"]\"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,\",\")?comma=nextop:!initializer&&checkPunctuator(nextop,\"=\")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&\";\"!==nextop.value&&\"(end)\"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||\"of\"!==nextop.value||warning(\"W104\",nextop,\"for of\",\"6\");var ok=!(initializer||comma);if(initializer&&error(\"W133\",comma,nextop.value,\"initializer is forbidden\"),comma&&error(\"W133\",comma,nextop.value,\"more than one ForBinding\"),\"var\"===state.tokens.next.id?(advance(\"var\"),state.tokens.curr.fud({prefix:!0})):\"let\"===state.tokens.next.id||\"const\"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:\"for\",ignore:!ok}),advance(nextop.value),expression(20),advance(\")\",t),\"in\"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:\"(none)\"})),state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,s=block(!0,!0),\"in\"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&(\"object\"!=typeof s[0]||\"if\"!==s[0].value)||\"(positive)\"===check.type&&s.length>1||\"(negative)\"===check.type)&&warning(\"W089\",this)}state.forinifcheckneeded=!1}state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}else{if(foreachtok&&error(\"E045\",foreachtok),\";\"!==state.tokens.next.id)if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud();else if(\"let\"===state.tokens.next.id)advance(\"let\"),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud();else for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(\";\"),state.funct[\"(loopage)\"]+=1,\";\"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(\";\"),\";\"===state.tokens.next.id&&error(\"E021\",state.tokens.next,\")\",\";\"),\")\"!==state.tokens.next.id)for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();advance(\")\",t),state.funct[\"(breakage)\"]+=1,block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}return letscope&&state.funct[\"(scope)\"].unstack(),this}).labelled=!0,stmt(\"break\",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value):(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"continue\",function(){var v=state.tokens.next.value;return 0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value),state.funct[\"(loopage)\"]||warning(\"W052\",state.tokens.next,this.value),state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"return\",function(){return this.line===startLine(state.tokens.next)?\";\"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)):\"(punctuator)\"===state.tokens.next.type&&[\"[\",\"{\",\"+\",\"-\"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix(\"yield\",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct[\"(generator)\"]?\"(catch)\"===state.funct[\"(name)\"]&&state.funct[\"(context)\"][\"(generator)\"]||error(\"E046\",state.tokens.curr,\"yield\"):state.inES6()||warning(\"W104\",state.tokens.curr,\"yield\",\"6\"),state.funct[\"(generator)\"]=\"yielded\";var delegatingYield=!1;return\"*\"===state.tokens.next.value&&(delegatingYield=!0,advance(\"*\")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||\";\"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)),state.inMoz()&&\")\"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||\"yield\"===prev.id)&&error(\"E050\",this)),this})),stmt(\"throw\",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt(\"import\",function(){if(state.inES6()||warning(\"W119\",state.tokens.curr,\"import\",\"6\"),\"(string)\"===state.tokens.next.type)return advance(\"(string)\"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value)return advance(\"from\"),advance(\"(string)\"),this;advance(\",\")}if(\"*\"===state.tokens.next.id)advance(\"*\"),advance(\"as\"),state.tokens.next.identifier&&(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}));else for(advance(\"{\");;){if(\"}\"===state.tokens.next.value){advance(\"}\");break}var importName;if(\"default\"===state.tokens.next.type?(importName=\"default\",advance(\"default\")):importName=identifier(),\"as\"===state.tokens.next.value&&(advance(\"as\"),importName=identifier()),state.funct[\"(scope)\"].addlabel(importName,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return advance(\"from\"),advance(\"(string)\"),this}).exps=!0,stmt(\"export\",function(){var token,identifier,ok=!0;if(state.inES6()||(warning(\"W119\",state.tokens.curr,\"export\",\"6\"),ok=!1),state.funct[\"(scope)\"].block.isGlobal()||(error(\"E053\",state.tokens.curr),ok=!1),\"*\"===state.tokens.next.value)return advance(\"*\"),advance(\"from\"),advance(\"(string)\"),this;if(\"default\"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance(\"default\");var exportType=state.tokens.next.id;return(\"function\"===exportType||\"class\"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct[\"(scope)\"].addlabel(identifier,{type:exportType,token:token}),state.funct[\"(scope)\"].setExported(identifier,token)),this}if(\"{\"===state.tokens.next.value){advance(\"{\");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),\"as\"===state.tokens.next.value&&(advance(\"as\"),state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance()),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return\"from\"===state.tokens.next.value?(advance(\"from\"),advance(\"(string)\")):ok&&exportedTokens.forEach(function(token){state.funct[\"(scope)\"].setExported(token.value,token)}),this}if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud({inexport:!0});else if(\"let\"===state.tokens.next.id)advance(\"let\"),state.tokens.curr.fud({inexport:!0});else if(\"const\"===state.tokens.next.id)advance(\"const\"),state.tokens.curr.fud({inexport:!0});else if(\"function\"===state.tokens.next.id)this.block=!0,advance(\"function\"),state.syntax[\"function\"].fud({inexport:!0});else if(\"class\"===state.tokens.next.id){this.block=!0,advance(\"class\");var classNameToken=state.tokens.next;state.syntax[\"class\"].fud(),state.funct[\"(scope)\"].setExported(classNameToken.value,classNameToken)}else error(\"E024\",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord(\"abstract\"),FutureReservedWord(\"boolean\"),FutureReservedWord(\"byte\"),FutureReservedWord(\"char\"),FutureReservedWord(\"class\",{es5:!0,nud:classdef}),FutureReservedWord(\"double\"),FutureReservedWord(\"enum\",{es5:!0}),FutureReservedWord(\"export\",{es5:!0}),FutureReservedWord(\"extends\",{es5:!0}),FutureReservedWord(\"final\"),FutureReservedWord(\"float\"),FutureReservedWord(\"goto\"),FutureReservedWord(\"implements\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"import\",{es5:!0}),FutureReservedWord(\"int\"),FutureReservedWord(\"interface\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"long\"),FutureReservedWord(\"native\"),FutureReservedWord(\"package\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"private\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"protected\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"public\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"short\"),FutureReservedWord(\"static\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"super\",{es5:!0}),FutureReservedWord(\"synchronized\"),FutureReservedWord(\"transient\"),FutureReservedWord(\"volatile\");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,[\"[\",\"{\"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,[\"[\",\"{\"])?bracketStack+=1:checkPunctuators(pn,[\"]\",\"}\"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&\"for\"===pn.value&&!checkPunctuator(prev,\".\")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,[\"}\",\"]\"])){if(\"=\"===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if(\".\"===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,\";\")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&\"(end)\"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode=\"use\",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning(\"W098\",v.token,v.raw_text||v.value),v.undef&&state.funct[\"(scope)\"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains([\"use\",\"define\",\"generate\",\"filter\"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&\"use\"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&\"define\"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&\"generate\"===_current.mode?(state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):_current&&\"filter\"===_current.mode?(use(v)&&state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||\"object\"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope=\"(main)\"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;\"-\"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],(\"esversion\"===optionKey&&5===o[optionKey]||\"es5\"===optionKey&&o[optionKey])&&warning(\"I003\"),\"newcap\"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj[\"(explicitNewcap)\"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on(\"warning\",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on(\"error\",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor(\"(global)\",null,{\"(global)\":!0,\"(scope)\":scopeManagerInst,\"(comparray)\":arrayComprehension(),\"(metrics)\":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt(\"E004\",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax[\"(begin)\"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+\"[\\\\s\\\\S]*?\"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,\"ig\"),s=s.replace(reIgnore,function(match){return match.replace(/./g,\" \")}))})),lex=new Lexer(s),lex.on(\"warning\",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"error\",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"fatal\",function(ev){quit(\"E041\",ev.line,ev.from)}),lex.on(\"Identifier\",function(ev){emitter.emit(\"Identifier\",ev)}),lex.on(\"String\",function(ev){emitter.emit(\"String\",ev)}),lex.on(\"Number\",function(ev){emitter.emit(\"Number\",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case\"{\":case\"[\":destructuringAssignOrJsonValue();break;default:directives(),state.directive[\"use strict\"]&&\"global\"!==state.option.strict&&warning(\"W097\",state.tokens.prev),statements()}\"(end)\"!==state.tokens.next.id&&quit(\"E041\",state.tokens.curr.line),state.funct[\"(scope)\"].unstack()}catch(err){if(!err||\"JSHintError\"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:\"(main)\",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if(\"(main)\"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct[\"(scope)\"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct[\"(scope)\"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f[\"(name)\"],fu.param=f[\"(params)\"],fu.line=f[\"(line)\"],fu.character=f[\"(character)\"],fu.last=f[\"(last)\"],fu.lastcharacter=f[\"(lastcharacter)\"],fu.metrics={complexity:f[\"(metrics)\"].ComplexityCount,parameters:f[\"(metrics)\"].arity,statements:f[\"(metrics)\"].statementCount},data.functions.push(fu)}var unuseds=state.funct[\"(scope)\"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if(\"number\"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();\"object\"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./lex.js\":\"/node_modules/jshint/src/lex.js\",\"./messages.js\":\"/node_modules/jshint/src/messages.js\",\"./options.js\":\"/node_modules/jshint/src/options.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./scope-manager.js\":\"/node_modules/jshint/src/scope-manager.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",\"./style.js\":\"/node_modules/jshint/src/style.js\",\"./vars.js\":\"/node_modules/jshint/src/vars.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/lex.js\":[function(_dereq_,module,exports){\"use strict\";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;\"string\"==typeof lines&&(lines=lines.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\")),lines[0]&&\"#!\"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf(\"node\")&&(state.option.node=!0),lines[0]=\"\"),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input=\"\",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=\" \";this.ignoreLinterErrors=!1}var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,unicodeData=_dereq_(\"../data/ascii-identifier-data.js\"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(\" \").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case\".\":if(/^[0-9]$/.test(this.peek(1)))return null;if(\".\"===this.peek(1)&&\".\"===this.peek(2))return{type:Token.Punctuator,value:\"...\"};case\"(\":case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"~\":case\"?\":return{type:Token.Punctuator,value:ch1};case\"{\":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case\"}\":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case\"#\":return{type:Token.Punctuator,value:ch1};case\"\":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),\">\"===ch1&&\">\"===ch2&&\">\"===ch3&&\"=\"===ch4?{type:Token.Punctuator,value:\">>>=\"}:\"=\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"===\"}:\"!\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"!==\"}:\">\"===ch1&&\">\"===ch2&&\">\"===ch3?{type:Token.Punctuator,value:\">>>\"}:\"<\"===ch1&&\"<\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"<<=\"}:\">\"===ch1&&\">\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\">>=\"}:\"=\"===ch1&&\">\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&\"+-<>&|\".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:\"<>=!+-*%&|^\".indexOf(ch1)>=0?\"=\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:\"/\"===ch1?\"=\"===ch2?{type:Token.Punctuator,value:\"/=\"}:{type:Token.Punctuator,value:\"/\"}:null},scanComments:function(){function commentToken(label,body,opt){var special=[\"jshint\",\"jslint\",\"members\",\"member\",\"globals\",\"global\",\"exported\"],isSpecial=!1,value=label+body,commentType=\"plain\";return opt=opt||{},opt.isMultiline&&(value+=\"*/\"),body=body.replace(/\\n/g,\" \"),\"/*\"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType=\"falls through\"),special.forEach(function(str){if(!isSpecial&&(\"//\"!==label||\"jshint\"===str)&&(\" \"===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||\" \"!==body.charAt(0)||\" \"!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+\" \"+str,body=body.substr(str.length+1)),isSpecial))switch(str){case\"member\":commentType=\"members\";break;case\"global\":commentType=\"globals\";break;default:var options=body.split(\":\").map(function(v){return v.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")});if(2===options.length)switch(options[0]){case\"ignore\":switch(options[1]){case\"start\":self.ignoringLinterErrors=!0,isSpecial=!1;break;case\"end\":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if(\"*\"===ch1&&\"/\"===ch2)return this.trigger(\"error\",{code:\"E018\",line:startLine,character:startChar}),this.skip(2),null;if(\"/\"!==ch1||\"*\"!==ch2&&\"/\"!==ch2)return null;if(\"/\"===ch2)return this.skip(this.input.length),commentToken(\"//\",rest);var body=\"\";if(\"*\"===ch2){for(this.inComment=!0,this.skip(2);\"*\"!==this.peek()||\"/\"!==this.peek(1);)if(\"\"===this.peek()){if(body+=\"\\n\",!this.nextLine())return this.trigger(\"error\",{code:\"E017\",line:startLine,character:startChar}),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=[\"if\",\"in\",\"do\",\"var\",\"for\",\"new\",\"try\",\"let\",\"this\",\"else\",\"case\",\"void\",\"with\",\"enum\",\"while\",\"break\",\"catch\",\"throw\",\"const\",\"yield\",\"class\",\"super\",\"return\",\"typeof\",\"delete\",\"switch\",\"export\",\"import\",\"default\",\"finally\",\"extends\",\"function\",\"continue\",\"debugger\",\"instanceof\"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id=\"\",index=0,readUnicodeEscapeSequence=function(){if(index+=1,\"u\"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,\"\\\\u\"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case\"true\":case\"false\":type=Token.BooleanLiteral;break;case\"null\":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return\"$\"===ch||\"_\"===ch||\"\\\\\"===ch||ch>=\"a\"&&\"z\">=ch||ch>=\"A\"&&\"Z\">=ch}var bad,index=0,value=\"\",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if(\".\"!==char&&!isDecimalDigit(char))return null;if(\".\"!==char){for(value=this.peek(index),index+=1,char=this.peek(index),\"0\"===value&&((\"x\"===char||\"X\"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),(\"o\"===char||\"O\"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Octal integer literal\",\"6\"]}),index+=1,value+=char),(\"b\"===char||\"B\"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Binary integer literal\",\"6\"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if(\".\"===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if(\"e\"===char||\"E\"===char){if(value+=char,index+=1,char=this.peek(index),(\"+\"===char||\"-\"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case\"'\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\'\"]},checks,function(){return state.jsonMode});break;case\"b\":char=\"\\\\b\";break;case\"f\":char=\"\\\\f\";break;case\"n\":char=\"\\\\n\";break;case\"r\":char=\"\\\\r\";break;case\"t\":char=\"\\\\t\";break;case\"0\":char=\"\\\\0\";var n=parseInt(this.peek(1),10);this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case\"u\":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger(\"warning\",{code:\"W052\",line:this.line,character:this.char,data:[\"u\"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case\"v\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\v\"]},checks,function(){return state.jsonMode}),char=\"\u000b\";break;case\"x\":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\x-\"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case\"\\\\\":char=\"\\\\\\\\\";break;case'\"':char='\\\\\"';break;case\"/\":break;case\"\":allowNewLine=!0,char=\"\"}return{\"char\":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value=\"\",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if(\"`\"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,\"char\":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||\"}\"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;\"`\"!==this.peek();){for(;\"\"===(ch=this.peek());)if(value+=\"\\n\",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger(\"error\",{code:\"E052\",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if(\"$\"===ch&&\"{\"===this.peek(1))return value+=\"${\",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif(\"\\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else\"`\"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if('\"'!==quote&&\"'\"!==quote)return null;this.triggerAsync(\"warning\",{code:\"W108\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&'\"'!==quote});var value=\"\",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(\"\"===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync(\"warning\",{code:\"W043\",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync(\"warning\",{code:\"W042\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger(\"warning\",{code:\"W112\",line:this.line,character:this.char}),!this.nextLine())return this.trigger(\"error\",{code:\"E029\",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(\" \">char&&this.trigger(\"warning\",{code:\"W113\",line:this.line,character:this.char,data:[\"<non-printable>\"]}),\"\\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body=\"\",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){\" \">char&&(malformed=!0,this.trigger(\"warning\",{code:\"W048\",line:this.line,character:this.char})),\"<\"===char&&(malformed=!0,this.trigger(\"warning\",{code:\"W049\",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||\"/\"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)\"]\"===char&&(\"\\\\\"!==this.peek(index-1)||\"\\\\\"===this.peek(index-2))&&(isCharSet=!1),\"\\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if(\"\\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),\"/\"===char){index+=1;continue}if(\"[\"===char){index+=1;continue}}if(\"[\"!==char){if(\"/\"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger(\"error\",{code:\"E015\",line:this.line,character:this.from}),void this.trigger(\"fatal\",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(\"\"))}catch(err){malformed=!0,this.trigger(\"error\",{code:\"E016\",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith(\"/*\",\"//\")||this.inComment&&endsWith(\"*/\")||(this.input=\"\")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger(\"warning\",{code:\"W125\",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger(\"warning\",{code:\"W100\",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,\"//\")||startsWith.call(inputTrimmed,\"/*\"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger(\"warning\",{code:\"W101\",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if(\"(endline)\"!==type&&\"(end)\"!==type&&(this.prereg=!1),\"(punctuator)\"===type){switch(value){case\".\":case\")\":case\"~\":case\"#\":case\"]\":case\"++\":case\"--\":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"])}return\"(identifier)\"===type&&((\"return\"===value||\"case\"===value||\"typeof\"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"]),isReserved(obj,isProperty&&\"(identifier)\"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier=\"(identifier)\"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create(\"(endline)\",\"\"):this.exhausted?null:(this.exhausted=!0,create(\"(end)\",\"\"));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync(\"String\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create(\"(string)\",token.value,null,token);case Token.TemplateHead:return this.trigger(\"TemplateHead\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template)\",token.value,null,token);case Token.TemplateMiddle:return this.trigger(\"TemplateMiddle\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template middle)\",token.value,null,token);case Token.TemplateTail:return this.trigger(\"TemplateTail\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template tail)\",token.value,null,token);case Token.NoSubstTemplate:return this.trigger(\"NoSubstTemplate\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(no subst template)\",token.value,null,token);case Token.Identifier:this.triggerAsync(\"Identifier\",{line:this.line,\"char\":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:\".\"===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create(\"(identifier)\",token.value,\".\"===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger(\"warning\",{code:\"W045\",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"0x-\"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger(\"Number\",{line:this.line,\"char\":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create(\"(number)\",token.value);case Token.RegExp:return create(\"(regexp)\",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:\"(comment)\",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case\"\":break;default:return create(\"(punctuator)\",token.value)}else this.input.length&&(this.trigger(\"error\",{code:\"E024\",line:this.line,character:this.char,data:[this.peek()]}),this.input=\"\")}}},exports.Lexer=Lexer,exports.Context=Context},{\"../data/ascii-identifier-data.js\":\"/node_modules/jshint/data/ascii-identifier-data.js\",\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/messages.js\":[function(_dereq_,module,exports){\"use strict\";var _=_dereq_(\"../lodash\"),errors={E001:\"Bad option: '{a}'.\",E002:\"Bad option value.\",E003:\"Expected a JSON value.\",E004:\"Input is neither a string nor an array of strings.\",E005:\"Input is empty.\",E006:\"Unexpected early end of program.\",E007:'Missing \"use strict\" statement.',E008:\"Strict violation.\",E009:\"Option 'validthis' can't be used in a global scope.\",E010:\"'with' is not allowed in strict mode.\",E011:\"'{a}' has already been declared.\",E012:\"const '{a}' is initialized to 'undefined'.\",E013:\"Attempting to override '{a}' which is a constant.\",E014:\"A regular expression literal can be confused with '/='.\",E015:\"Unclosed regular expression.\",E016:\"Invalid regular expression.\",E017:\"Unclosed comment.\",E018:\"Unbegun comment.\",E019:\"Unmatched '{a}'.\",E020:\"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",E021:\"Expected '{a}' and instead saw '{b}'.\",E022:\"Line breaking error '{a}'.\",E023:\"Missing '{a}'.\",E024:\"Unexpected '{a}'.\",E025:\"Missing ':' on a case clause.\",E026:\"Missing '}' to match '{' from line {a}.\",E027:\"Missing ']' to match '[' from line {a}.\",E028:\"Illegal comma.\",E029:\"Unclosed string.\",E030:\"Expected an identifier and instead saw '{a}'.\",E031:\"Bad assignment.\",E032:\"Expected a small integer or 'false' and instead saw '{a}'.\",E033:\"Expected an operator and instead saw '{a}'.\",E034:\"get/set are ES5 features.\",E035:\"Missing property name.\",E036:\"Expected to see a statement and instead saw a block.\",E037:null,E038:null,E039:\"Function declarations are not invocable. Wrap the whole function invocation in parens.\",E040:\"Each value should have its own case label.\",E041:\"Unrecoverable syntax error.\",E042:\"Stopping.\",E043:\"Too many errors.\",E044:null,E045:\"Invalid for each loop.\",E046:\"A yield statement shall be within a generator function (with syntax: `function*`)\",E047:null,E048:\"{a} declaration not directly within block.\",E049:\"A {a} cannot be named '{b}'.\",E050:\"Mozilla acequires the yield expression to be parenthesized here.\",E051:null,E052:\"Unclosed template literal.\",E053:\"Export declaration must be in global scope.\",E054:\"Class properties must be methods. Expected '(' but instead saw '{a}'.\",E055:\"The '{a}' option cannot be set after any executable code.\",E056:\"'{a}' was used before it was declared, which is illegal for '{b}' variables.\",E057:\"Invalid meta property: '{a}.{b}'.\",E058:\"Missing semicolon.\"},warnings={W001:\"'hasOwnProperty' is a really bad name.\",W002:\"Value of '{a}' may be overwritten in IE 8 and earlier.\",W003:\"'{a}' was used before it was defined.\",W004:\"'{a}' is already defined.\",W005:\"A dot following a number can be confused with a decimal point.\",W006:\"Confusing minuses.\",W007:\"Confusing plusses.\",W008:\"A leading decimal point can be confused with a dot: '{a}'.\",W009:\"The array literal notation [] is preferable.\",W010:\"The object literal notation {} is preferable.\",W011:null,W012:null,W013:null,W014:\"Bad line breaking before '{a}'.\",W015:null,W016:\"Unexpected use of '{a}'.\",W017:\"Bad operand.\",W018:\"Confusing use of '{a}'.\",W019:\"Use the isNaN function to compare with NaN.\",W020:\"Read only.\",W021:\"Reassignment of '{a}', which is is a {b}. Use 'var' or 'let' to declare bindings that may change.\",W022:\"Do not assign to the exception parameter.\",W023:\"Expected an identifier in an assignment and instead saw a function invocation.\",W024:\"Expected an identifier and instead saw '{a}' (a reserved word).\",W025:\"Missing name in function declaration.\",W026:\"Inner functions should be listed at the top of the outer function.\",W027:\"Unreachable '{a}' after '{b}'.\",W028:\"Label '{a}' on {b} statement.\",W030:\"Expected an assignment or function call and instead saw an expression.\",W031:\"Do not use 'new' for side effects.\",W032:\"Unnecessary semicolon.\",W033:\"Missing semicolon.\",W034:'Unnecessary directive \"{a}\".',W035:\"Empty block.\",W036:\"Unexpected /*member '{a}'.\",W037:\"'{a}' is a statement label.\",W038:\"'{a}' used out of scope.\",W039:\"'{a}' is not allowed.\",W040:\"Possible strict violation.\",W041:\"Use '{a}' to compare with '{b}'.\",W042:\"Avoid EOL escaping.\",W043:\"Bad escaping of EOL. Use option multistr if needed.\",W044:\"Bad or unnecessary escaping.\",W045:\"Bad number '{a}'.\",W046:\"Don't use extra leading zeros '{a}'.\",W047:\"A trailing decimal point can be confused with a dot: '{a}'.\",W048:\"Unexpected control character in regular expression.\",W049:\"Unexpected escaped character '{a}' in regular expression.\",W050:\"JavaScript URL.\",W051:\"Variables should not be deleted.\",W052:\"Unexpected '{a}'.\",W053:\"Do not use {a} as a constructor.\",W054:\"The Function constructor is a form of eval.\",W055:\"A constructor name should start with an uppercase letter.\",W056:\"Bad constructor.\",W057:\"Weird construction. Is 'new' necessary?\",W058:\"Missing '()' invoking a constructor.\",W059:\"Avoid arguments.{a}.\",W060:\"document.write can be a form of eval.\",W061:\"eval can be harmful.\",W062:\"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.\",W063:\"Math is not a function.\",W064:\"Missing 'new' prefix when invoking a constructor.\",W065:\"Missing radix parameter.\",W066:\"Implied eval. Consider passing a function instead of a string.\",W067:\"Bad invocation.\",W068:\"Wrapping non-IIFE function literals in parens is unnecessary.\",W069:\"['{a}'] is better written in dot notation.\",W070:\"Extra comma. (it breaks older versions of IE)\",W071:\"This function has too many statements. ({a})\",W072:\"This function has too many parameters. ({a})\",W073:\"Blocks are nested too deeply. ({a})\",W074:\"This function's cyclomatic complexity is too high. ({a})\",W075:\"Duplicate {a} '{b}'.\",W076:\"Unexpected parameter '{a}' in get {b} function.\",W077:\"Expected a single parameter in set {a} function.\",W078:\"Setter is defined without getter.\",W079:\"Redefinition of '{a}'.\",W080:\"It's not necessary to initialize '{a}' to 'undefined'.\",W081:null,W082:\"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.\",W083:\"Don't make functions within a loop.\",W084:\"Assignment in conditional expression\",W085:\"Don't use 'with'.\",W086:\"Expected a 'break' statement before '{a}'.\",W087:\"Forgotten 'debugger' statement?\",W088:\"Creating global 'for' variable. Should be 'for (var {a} ...'.\",W089:\"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.\",W090:\"'{a}' is not a statement label.\",W091:null,W093:\"Did you mean to return a conditional instead of an assignment?\",W094:\"Unexpected comma.\",W095:\"Expected a string and instead saw {a}.\",W096:\"The '{a}' key may produce unexpected results.\",W097:'Use the function form of \"use strict\".',W098:\"'{a}' is defined but never used.\",W099:null,W100:\"This character may get silently deleted by one or more browsers.\",W101:\"Line is too long.\",W102:null,W103:\"The '{a}' property is deprecated.\",W104:\"'{a}' is available in ES{b} (use 'esversion: {b}') or Mozilla JS extensions (use moz).\",W105:\"Unexpected {a} in '{b}'.\",W106:\"Identifier '{a}' is not in camel case.\",W107:\"Script URL.\",W108:\"Strings must use doublequote.\",W109:\"Strings must use singlequote.\",W110:\"Mixed double and single quotes.\",W112:\"Unclosed string.\",W113:\"Control character in string: {a}.\",W114:\"Avoid {a}.\",W115:\"Octal literals are not allowed in strict mode.\",W116:\"Expected '{a}' and instead saw '{b}'.\",W117:\"'{a}' is not defined.\",W118:\"'{a}' is only available in Mozilla JavaScript extensions (use moz option).\",W119:\"'{a}' is only available in ES{b} (use 'esversion: {b}').\",W120:\"You might be leaking a variable ({a}) here.\",W121:\"Extending prototype of native object: '{a}'.\",W122:\"Invalid typeof value '{a}'\",W123:\"'{a}' is already defined in outer scope.\",W124:\"A generator function shall contain a yield statement.\",W125:\"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp\",W126:\"Unnecessary grouping operator.\",W127:\"Unexpected use of a comma operator.\",W128:\"Empty array elements acequire elision=true.\",W129:\"'{a}' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.\",W130:\"Invalid element after rest element.\",W131:\"Invalid parameter after rest parameter.\",W132:\"`var` declarations are forbidden. Use `let` or `const` instead.\",W133:\"Invalid for-{a} loop left-hand-side: {b}.\",W134:\"The '{a}' option is only available when linting ECMAScript {b} code.\",W135:\"{a} may not be supported by non-browser environments.\",W136:\"'{a}' must be in function scope.\",W137:\"Empty destructuring.\",W138:\"Regular parameters should not come after default parameters.\"},info={I001:\"Comma warnings can be turned off with 'laxcomma'.\",I002:null,I003:\"ES5 option is now set per default\"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{\"../lodash\":\"/node_modules/jshint/lodash.js\"}],\"/node_modules/jshint/src/name-stack.js\":[function(_dereq_,module){\"use strict\";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,\"length\",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix=\"\";return nameToken&&\"class\"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,\"(string)\"!==type&&\"(number)\"!==type&&\"(identifier)\"!==type&&\"default\"!==type?\"(expression)\":(nameToken.accessorType&&(prefix=nameToken.accessorType+\" \"),prefix+nameToken.value)):\"(empty)\"},module.exports=NameStack},{}],\"/node_modules/jshint/src/options.js\":[function(_dereq_,module,exports){\"use strict\";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:\"eqeqeq\",windows:\"wsh\",sloppy:\"strict\"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],\"/node_modules/jshint/src/reg.js\":[function(_dereq_,module,exports){\"use strict\";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],\"/node_modules/jshint/src/scope-manager.js\":[function(_dereq_,module){\"use strict\";var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={\"(labels)\":Object.create(null),\"(usages)\":Object.create(null),\"(breakLabels)\":Object.create(null),\"(parent)\":_current,\"(type)\":type,\"(params)\":\"functionparams\"===type||\"catchparams\"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current[\"(usages)\"][labelName]||(_current[\"(usages)\"][labelName]={\"(modified)\":[],\"(reassigned)\":[],\"(tokens)\":[]})}function _checkForUnused(){if(\"functionparams\"===_current[\"(type)\"])return _checkParams(),void 0;var curentLabels=_current[\"(labels)\"];for(var labelName in curentLabels)curentLabels[labelName]&&\"exception\"!==curentLabels[labelName][\"(type)\"]&&curentLabels[labelName][\"(unused)\"]&&_warnUnused(labelName,curentLabels[labelName][\"(token)\"],\"var\")}function _checkParams(){var params=_current[\"(params)\"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current[\"(labels)\"][param];if(unused_opt=_getUnusedOption(state.funct[\"(unusedOption)\"]),\"undefined\"===param)return;if(label[\"(unused)\"])_warnUnused(param,label[\"(token)\"],\"param\",state.funct[\"(unusedOption)\"]);else if(\"last-param\"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i][\"(labels)\"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(usages)\"][labelName])return current[\"(usages)\"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if(\"outer\"===state.option.shadow)for(var isGlobal=\"global\"===_currentFunctBody[\"(type)\"],isNewFunction=\"functionparams\"===_current[\"(type)\"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem[\"(labels)\"][labelName]&&warning(\"W123\",token,labelName),stackItem[\"(breakLabels)\"][labelName]&&warning(\"W123\",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&\"function\"===type||\"function\"!==type)&&warning(\"W003\",token,labelName)}var _current,_scopeStack=[];_newScope(\"global\"),_current[\"(predefined)\"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt=\"last-param\"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:[\"var\"],\"last-param\":[\"var\",\"param\"],strict:[\"var\",\"param\",\"last-param\"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning(\"W098\",{line:line,from:chr},raw_name),(unused_opt||\"var\"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0][\"(predefined)\"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||\"functionparams\"!==previousScope[\"(type)\"]||(_current[\"(isFuncBody)\"]=!0,_current[\"(context)\"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams=\"functionparams\"===_current[\"(type)\"],isUnstackingFunctionOuter=\"functionouter\"===_current[\"(type)\"],currentUsages=_current[\"(usages)\"],currentLabels=_current[\"(labels)\"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf(\"__proto__\")&&usedLabelNameList.push(\"__proto__\"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel[\"(type)\"];if(usedLabel[\"(useOutsideOfScope)\"]&&!state.option.funcscope){var usedTokens=usage[\"(tokens)\"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel[\"(function)\"]===usedTokens[j][\"(function)\"]&&error(\"W038\",usedTokens[j],usedLabelName)}if(_current[\"(labels)\"][usedLabelName][\"(unused)\"]=!1,\"const\"===usedLabelType&&usage[\"(modified)\"])for(j=0;usage[\"(modified)\"].length>j;j++)error(\"E013\",usage[\"(modified)\"][j],usedLabelName);if((\"function\"===usedLabelType||\"class\"===usedLabelType)&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)error(\"W021\",usage[\"(reassigned)\"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct[\"(isCapturing)\"]=!0),subScope)if(subScope[\"(usages)\"][usedLabelName]){var subScopeUsage=subScope[\"(usages)\"][usedLabelName];subScopeUsage[\"(modified)\"]=subScopeUsage[\"(modified)\"].concat(usage[\"(modified)\"]),subScopeUsage[\"(tokens)\"]=subScopeUsage[\"(tokens)\"].concat(usage[\"(tokens)\"]),subScopeUsage[\"(reassigned)\"]=subScopeUsage[\"(reassigned)\"].concat(usage[\"(reassigned)\"]),subScopeUsage[\"(onlyUsedSubFunction)\"]=!1}else subScope[\"(usages)\"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope[\"(usages)\"][usedLabelName][\"(onlyUsedSubFunction)\"]=!0);else if(\"boolean\"==typeof _current[\"(predefined)\"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current[\"(predefined)\"][usedLabelName]===!1&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)warning(\"W020\",usage[\"(reassigned)\"][j])}else if(usage[\"(tokens)\"])for(j=0;usage[\"(tokens)\"].length>j;j++){var undefinedToken=usage[\"(tokens)\"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning(\"W117\",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],\"var\")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName][\"(blockscoped)\"]||\"exception\"===currentLabels[defLabelName][\"(type)\"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope[\"(labels)\"][defLabelName]=currentLabels[defLabelName],\"global\"!==_currentFunctBody[\"(type)\"]&&(subScope[\"(labels)\"][defLabelName][\"(useOutsideOfScope)\"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope[\"(isFuncBody)\"]||\"global\"===scope[\"(type)\"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||\"param\",\"exception\"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&\"exception\"!==previouslyDefinedLabelType&&(state.option.node||warning(\"W002\",state.tokens.next,labelName))}if(_.has(_current[\"(labels)\"],labelName)?_current[\"(labels)\"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":token,\"(unused)\":!0},_current[\"(params)\"].push(labelName)),_.has(_current[\"(usages)\"],labelName)){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}},validateParams:function(){if(\"global\"!==_currentFunctBody[\"(type)\"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody[\"(parent)\"];currentFunctParamScope[\"(params)\"]&&currentFunctParamScope[\"(params)\"].forEach(function(labelName){var label=currentFunctParamScope[\"(labels)\"][labelName];label&&label.duplicated&&(isStrict?warning(\"E011\",label[\"(token)\"],labelName):state.option.shadow!==!0&&warning(\"W004\",label[\"(token)\"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf(\"__proto__\")&&list.push(\"__proto__\"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return\"__proto__\"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName][\"(type)\"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0][\"(labels)\"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName][\"(unused)\"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope[\"(type)\"])break;if(_.has(scope[\"(labels)\"],labelName)&&!scope[\"(labels)\"][labelName][\"(blockscoped)\"])return scope[\"(labels)\"][labelName][\"(unused)\"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped=\"let\"===type||\"const\"===type||\"class\"===type,isexported=\"global\"===(isblockscoped?_current:_currentFunctBody)[\"(type)\"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current[\"(labels)\"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||\"global\"===_current[\"(type)\"]||(declaredInCurrentScope=!!_currentFunctBody[\"(parent)\"][\"(labels)\"][labelName]),!declaredInCurrentScope&&_current[\"(usages)\"][labelName]){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}declaredInCurrentScope?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning(\"W004\",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning(\"E011\",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&\"__proto__\"!==labelName&&\"global\"!==_currentFunctBody[\"(type)\"]&&warning(\"W004\",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),\"global\"===_currentFunctBody[\"(type)\"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current[\"(labels)\"][labelName]&&(!onlyBlockscoped||current[\"(labels)\"][labelName][\"(blockscoped)\"]))return current[\"(labels)\"][labelName][\"(type)\"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&\"functionparams\"===scopeCheck[\"(type)\"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(breakLabels)\"][labelName])return!0;if(\"functionparams\"===current[\"(type)\"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!1,\"(function)\":_currentFunctBody,\"(unused)\":unused}}},block:{isGlobal:function(){return\"global\"===_current[\"(type)\"]},use:function(labelName,token){var paramScope=_currentFunctBody[\"(parent)\"];paramScope&&paramScope[\"(labels)\"][labelName]&&\"param\"===paramScope[\"(labels)\"][labelName][\"(type)\"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope[\"(labels)\"][labelName][\"(unused)\"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token[\"(function)\"]=_currentFunctBody,_current[\"(usages)\"][labelName][\"(tokens)\"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current[\"(usages)\"][labelName][\"(reassigned)\"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current[\"(usages)\"][labelName][\"(modified)\"].push(token)},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!0,\"(unused)\":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning(\"W004\",token,labelName):_checkOuterShadow(labelName,token)),_current[\"(breakLabels)\"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{\"../lodash\":\"/node_modules/jshint/lodash.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/state.js\":[function(_dereq_,module,exports){\"use strict\";var NameStack=_dereq_(\"./name-stack.js\"),state={syntax:{},isStrict:function(){return this.directive[\"use strict\"]||this.inClassBody||this.option.module||\"implied\"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab=\"\",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{\"./name-stack.js\":\"/node_modules/jshint/src/name-stack.js\"}],\"/node_modules/jshint/src/style.js\":[function(_dereq_,module,exports){\"use strict\";exports.register=function(linter){linter.on(\"Identifier\",function(data){linter.getOption(\"proto\")||\"__proto__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name,\"6\"]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"iterator\")||\"__iterator__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"camelcase\")&&data.name.replace(/^_+|_+$/g,\"\").indexOf(\"_\")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn(\"W106\",{line:data.line,\"char\":data.from,data:[data.name]})}),linter.on(\"String\",function(data){var code,quotmark=linter.getOption(\"quotmark\");quotmark&&(\"single\"===quotmark&&\"'\"!==data.quote&&(code=\"W109\"),\"double\"===quotmark&&'\"'!==data.quote&&(code=\"W108\"),quotmark===!0&&(linter.getCache(\"quotmark\")||linter.setCache(\"quotmark\",data.quote),linter.getCache(\"quotmark\")!==data.quote&&(code=\"W110\")),code&&linter.warn(code,{line:data.line,\"char\":data.char}))}),linter.on(\"Number\",function(data){\".\"===data.value.charAt(0)&&linter.warn(\"W008\",{line:data.line,\"char\":data.char,data:[data.value]}),\".\"===data.value.substr(data.value.length-1)&&linter.warn(\"W047\",{line:data.line,\"char\":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn(\"W046\",{line:data.line,\"char\":data.char,data:[data.value]})}),linter.on(\"String\",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption(\"scripturl\")||re.test(data.value)&&linter.warn(\"W107\",{line:data.line,\"char\":data.char})})}},{}],\"/node_modules/jshint/src/vars.js\":[function(_dereq_,module,exports){\"use strict\";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,\"throws\":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},[\"/node_modules/jshint/src/jshint.js\"])}),ace.define(\"ace/mode/javascript_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/javascript/jshint\"],function(acequire,exports,module){\"use strict\";function startRegex(arr){return RegExp(\"^(\"+arr.join(\"|\")+\")\")}var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,lint=acequire(\"./javascript/jshint\").JSHINT,disabledWarningsRe=startRegex([\"Bad for in variable '(.+)'.\",'Missing \"use strict\"']),errorsRe=startRegex([\"Unexpected\",\"Expected \",\"Confusing (plus|minus)\",\"\\\\{a\\\\} unterminated regular expression\",\"Unclosed \",\"Unmatched \",\"Unbegun comment\",\"Bad invocation\",\"Missing space after\",\"Missing operator at\"]),infoRe=startRegex([\"Expected an assignment\",\"Bad escapement of EOL\",\"Unexpected comma\",\"Unexpected space\",\"Missing radix parameter.\",\"A leading decimal point can\",\"\\\\['{a}'\\\\] is better written in dot notation.\",\"'{a}' used out of scope\"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval(\"throw 0;\"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,\"\\n\"),!value)return this.sender.emit(\"annotate\",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?\"warning\":\"error\";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type=\"warning\";if(\"Missing semicolon.\"==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),\"error\"==maxErrorLevel&&str&&/[\\w\\d{(['\"]/.test(str)?(error.reason='Missing \";\" before statement',type=\"error\"):type=\"info\"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type=\"info\":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):\"'{a}' is not defined.\"==raw?type=\"warning\":\"'{a}' is defined but never used.\"==raw&&(type=\"info\")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit(\"annotate\",errors)}}.call(JavaScriptWorker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r \\u2028\\u2029\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";
},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _threeOrbitControls = require('three-orbit-controls');

var _threeOrbitControls2 = _interopRequireDefault(_threeOrbitControls);

var _ThreeRenderer = require('./ThreeRenderer.jsx');

var _ThreeRenderer2 = _interopRequireDefault(_ThreeRenderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OrbitControls = (0, _threeOrbitControls2.default)(_three2.default);

var OrbitThreeView = function (_React$Component) {
  _inherits(OrbitThreeView, _React$Component);

  function OrbitThreeView(props) {
    _classCallCheck(this, OrbitThreeView);

    // Setup OrbitControls camera
    var _this = _possibleConstructorReturn(this, (OrbitThreeView.__proto__ || Object.getPrototypeOf(OrbitThreeView)).call(this, props));

    var canvasSize = {
      width: 512,
      height: 512
    };
    var aspect = canvasSize.width / canvasSize.height;
    var camera = new _three2.default.PerspectiveCamera(70.0 /*deg*/, aspect, 0.1, 10000.0);
    camera.position.set(0, 0, 10);
    camera.updateMatrix();
    camera.updateMatrixWorld();
    _this.ctrlsCam = camera;
    // Initialize state
    _this.state = {
      canvasSize: canvasSize,
      camera: camera,
      zoom: 70.0
    };
    // Initialize bound methods
    _this.updateSizeState = _this.updateSizeState.bind(_this);
    return _this;
  }

  _createClass(OrbitThreeView, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      window.addEventListener("resize", this.updateSizeState);
      this.updateSizeState();

      var orbitControls = new OrbitControls(this.ctrlsCam, _reactDom2.default.findDOMNode(this.refs["anchor"]));
      orbitControls.addEventListener("change", function () {
        _this2.ctrlsCam.updateMatrix();
        _this2.ctrlsCam.updateMatrixWorld();
        _this2.setState({ camera: _this2.ctrlsCam.clone() });
      });
      this.orbitControls = orbitControls;
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener("resize", this.updateSizeState);
    }
  }, {
    key: 'updateSizeState',
    value: function updateSizeState() {
      var _refs$anchor$getBound = this.refs["anchor"].getBoundingClientRect(),
          width = _refs$anchor$getBound.width,
          height = _refs$anchor$getBound.height;

      this.ctrlsCam.aspect = width / height;
      this.ctrlsCam.updateProjectionMatrix();
      this.setState({
        canvasSize: { width: width, height: height }
      });
    }
  }, {
    key: 'getCurrentCamera',
    value: function getCurrentCamera() {
      return this.state.camera;
    }
  }, {
    key: 'updateZoom',
    value: function updateZoom(delta) {
      var zoom = this.state.zoom;

      var camera = this.ctrlsCam;
      var newZoom = zoom + delta;
      if (newZoom <= 0) {
        return;
      } else {
        camera.fov = newZoom;
        camera.updateProjectionMatrix();
        this.setState({
          zoom: newZoom,
          camera: camera.clone()
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var zoomPaletteStyle = {
        zIndex: 10,
        position: "absolute",
        top: 0,
        left: 0
      };
      var containerStyle = {
        position: "relative"
      };
      return _react2.default.createElement(
        'div',
        { ref: 'anchor', style: containerStyle },
        _react2.default.createElement(_ThreeRenderer2.default, {
          width: this.state.canvasSize.width,
          height: this.state.canvasSize.height,
          scene: this.props.scene,
          camera: this.state.camera }),
        _react2.default.createElement(
          'div',
          { style: zoomPaletteStyle },
          _react2.default.createElement(
            'button',
            { onClick: function onClick() {
                return _this3.updateZoom(-5.0);
              } },
            '+'
          ),
          _react2.default.createElement(
            'button',
            { onClick: function onClick() {
                return _this3.updateZoom(5.0);
              } },
            '-'
          ),
          _react2.default.createElement(
            'span',
            null,
            'FOV: ',
            this.state.zoom,
            ' degrees'
          )
        )
      );
    }
  }]);

  return OrbitThreeView;
}(_react2.default.Component);

exports.default = OrbitThreeView;

},{"./ThreeRenderer.jsx":9,"react":"react","react-dom":"react-dom","three":"three","three-orbit-controls":"three-orbit-controls"}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeNodeDecoration = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lodash = require('lodash');

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _brace = require('brace');

var _brace2 = _interopRequireDefault(_brace);

var _reactAce = require('react-ace');

var _reactAce2 = _interopRequireDefault(_reactAce);

require('brace/mode/javascript');

require('brace/theme/monokai');

require('brace/ext/language_tools');

var _program = require('../Runner/Parsing/program.js');

var _programQueries = require('../Runner/Parsing/program-queries.js');

var _astUtils = require('../Runner/Parsing/ast-utils.js');

var _dragManager = require('./drag-manager.js');

var dragmanager = _interopRequireWildcard(_dragManager);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Range = _brace2.default.acequire('ace/range').Range; // this module is imported to get rid of "mispelled options" warning from react-ace

/*
ProgramEditor
  A component responsible for the UI of editing a program.
  It has to have a way of communicating/signaling that it produced a new version of the program.
  It is just a top-level/abstract component as it doesn't impose any specific way of editing the program.
  CompositeEditor
    Edits a part of a program using other editors.
  TextFragmentEditor
    Edits a part of a program using the normal text editor.
  LockedView
    A part of the editor that is not being edited right now.
Cursors
  Does it have cursors controlled by the keyboard?
  Does it have mouse interaction?
  If there are multiple types of editors, how do we manage cursors and mouse interaction?
*/
// TODO Handle syntactically invalid text programs.
// TODO Hide ace editor disorientation when the program is updated.
//   Adding text by pasting or typing on top of a selection will cause 
//  two change events instead of one.
// TODO Remove loop of ace editor changes.
//  AceEditor calls onChange both when the user changes the editor and when React re-renders
//  It emits a "delete everything" change followed by a "this is the new contents" change.
//  This behavior breaks Ace's javascript linting.
// TODO Convert ace editor changes into program changes.
// TODO Figure out how to keep the changes made by using Ace Editor without
//sending a syntatically invalid program to the onValidProgram callback.

var ProgramEditor = function (_React$Component) {
  _inherits(ProgramEditor, _React$Component);

  _createClass(ProgramEditor, [{
    key: 'render',

    /*
      Props:
        - program
        - nodeDecorations {Array.<NodeDecoration>}
        - onValidProgram
        - onHoveredNode
        - onClickedNode
      State:
        - ast
        - dragging
    */
    value: function render() {
      var _state = this.state,
          ast = _state.ast,
          dragging = _state.dragging;

      return _react2.default.createElement(
        'div',
        {
          onMouseMove: ast !== null ? this.handleMouseMove : _lodash.noop,
          onMouseDown: ast !== null ? this.handleMouseDown : _lodash.noop,
          onClick: ast !== null ? this.handleClick : _lodash.noop },
        _react2.default.createElement(_reactAce2.default, {
          ref: 'aceEditor',
          onChange: this.handleChange,
          value: this.props.program,
          mode: 'javascript',
          theme: 'monokai',
          width: '100%',
          height: '100%',
          fontSize: 16,
          editorProps: { $blockScrolling: Infinity },
          setOptions: { dragEnabled: false },
          className: dragging ? 'prog-editor-no-selection' : '' })
      );
    }
  }]);

  function ProgramEditor(props) {
    _classCallCheck(this, ProgramEditor);

    var _this = _possibleConstructorReturn(this, (ProgramEditor.__proto__ || Object.getPrototypeOf(ProgramEditor)).call(this, props));

    _this.state = {
      ast: (0, _program.validSource)(props.program) ? (0, _program.sourceToAst)(props.program) : null,
      dragging: false
    };
    // Initialize state.
    _this.initializeDecorations();
    _this.initializeSliderMarkers();
    // Initialize bound methods.
    _this.handleChange = _this.handleChange.bind(_this);
    _this.handleMouseMove = _this.handleMouseMove.bind(_this);
    _this.handleMouseDown = _this.handleMouseDown.bind(_this);
    _this.handleClick = _this.handleClick.bind(_this);
    return _this;
  }

  _createClass(ProgramEditor, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.aceEditor = this.refs["aceEditor"].editor;
      this.updateSliderMarkers();
      this.updateDecorations(this.props.nodeDecorations);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(newProps) {
      var program = newProps.program;

      this.setState({
        ast: (0, _program.validSource)(program) ? (0, _program.sourceToAst)(program) : null
      });
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.updateSliderMarkers();
      this.updateDecorations(this.props.nodeDecorations);
    }
  }, {
    key: 'handleMouseDown',
    value: function handleMouseDown(mouseDownEvent) {
      // Begin slider behavior when necessary.
      this.tryStartConstantAdjustment(mouseDownEvent);
    }
  }, {
    key: 'handleMouseMove',
    value: function handleMouseMove(mouseMoveEvent) {
      var programCoords = this.mouseEventToEsprimaCoords(mouseMoveEvent);

      var _nodesContainingCoord = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          deepestNode = _nodesContainingCoord.deepestNode,
          bottomUpNodes = _nodesContainingCoord.bottomUpNodes;

      this.props.onHoveredNode({
        node: deepestNode,
        path: bottomUpNodes
      });
    }
  }, {
    key: 'handleClick',
    value: function handleClick(clickEvent) {
      var programCoords = this.mouseEventToEsprimaCoords(clickEvent);

      var _nodesContainingCoord2 = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          deepestNode = _nodesContainingCoord2.deepestNode,
          bottomUpNodes = _nodesContainingCoord2.bottomUpNodes;

      this.props.onClickedNode({
        node: deepestNode,
        path: bottomUpNodes
      });
    }
  }, {
    key: 'handleChange',
    value: function handleChange(newSource) {
      this.props.onProgramChange(newSource);
      if ((0, _program.validSource)(newSource)) {
        this.props.onValidProgram(newSource);
      }
    }
  }, {
    key: 'initializeDecorations',
    value: function initializeDecorations() {
      this.decorationsToMarkers = new Map();
    }
  }, {
    key: 'updateDecorations',
    value: function updateDecorations(newDecorations) {
      var _this2 = this;

      var currentDecorations = Array.from(this.decorationsToMarkers.keys());
      var leavingDecorations = (0, _lodash.difference)(currentDecorations, newDecorations);
      var keepingDecorations = (0, _lodash.difference)(currentDecorations, leavingDecorations);
      var enteringDecorations = (0, _lodash.difference)(newDecorations, keepingDecorations);
      //Remove leaving.
      leavingDecorations.map(function (dec) {
        return _this2.decorationsToMarkers.get(dec);
      }).forEach(function (marker) {
        _this2.aceEditor.getSession().removeMarker(marker);
      });
      leavingDecorations.forEach(function (dec) {
        _this2.decorationsToMarkers.delete(dec);
      });
      //Add entering.
      enteringDecorations.forEach(function (dec) {
        var nodeRange = getNodeRange(dec.node);
        var marker = addColoredMarker(_this2.aceEditor, nodeRange, dec.color);
        _this2.decorationsToMarkers.set(dec, marker);
      });
    }
  }, {
    key: 'initializeSliderMarkers',
    value: function initializeSliderMarkers() {
      this.sliderMarkers = [];
    }
  }, {
    key: 'updateSliderMarkers',
    value: function updateSliderMarkers() {
      var _this3 = this;

      // Remove previous markers.
      this.sliderMarkers.forEach(function (marker) {
        _this3.aceEditor.getSession().removeMarker(marker);
      });
      this.sliderMarkers = [];
      // Add current markers.
      var numericLiterals = this.state.ast !== null ? (0, _programQueries.signedLiteralNodes)(this.state.ast) : [];
      numericLiterals.forEach(function (literal) {
        var range = getNodeRange(literal);
        var marker = _this3.aceEditor.getSession().addMarker(range, "adjustable-hint", "text", false);
        _this3.sliderMarkers.push(marker);
      });
    }
  }, {
    key: 'tryStartConstantAdjustment',
    value: function tryStartConstantAdjustment(mouseDownEvent) {
      var _this4 = this;

      var programCoords = this.mouseEventToEsprimaCoords(mouseDownEvent);

      var _nodesContainingCoord3 = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          bottomUpNodes = _nodesContainingCoord3.bottomUpNodes,
          pathToDeepest = _nodesContainingCoord3.pathToDeepest;

      var shouldStart = _astUtils.recognizers.isNumericLiteral(bottomUpNodes[0]);
      if (shouldStart) {
        (function () {
          // Update state
          _this4.setState({ dragging: true });
          // Setup text adjustment
          var pathToNode = _astUtils.recognizers.isSignedNumericLiteral(bottomUpNodes[1]) ? pathToDeepest.slice(0, -1) : pathToDeepest;
          var initialTargetNode = (0, _programQueries.nodeAtPath)(_this4.state.ast, pathToNode);
          var literalText = literalSourceCode(initialTargetNode);
          var componentExtractor = /^(\+|\-)?([0-9]*)(?:\.([0-9]+))?$/; // Not handling 0x 0o 0b

          var _componentExtractor$e = componentExtractor.exec(literalText),
              _componentExtractor$e2 = _slicedToArray(_componentExtractor$e, 4),
              _componentExtractor$e3 = _componentExtractor$e2[1],
              signStr = _componentExtractor$e3 === undefined ? "" : _componentExtractor$e3,
              intStr = _componentExtractor$e2[2],
              _componentExtractor$e4 = _componentExtractor$e2[3],
              fracStr = _componentExtractor$e4 === undefined ? "" : _componentExtractor$e4;

          var fracDigitsNum = fracStr.length;
          var startingInt = Number.parseInt(signStr + intStr + fracStr);
          var startX = mouseDownEvent.clientX;
          var onMove = function onMove(mouseMoveEvent) {
            var deltaX = mouseMoveEvent.clientX - startX;
            var deltaInt = Math.round(deltaX / 5);
            var newInt = startingInt + deltaInt;

            var targetNode = (0, _programQueries.nodeAtPath)(_this4.state.ast, pathToNode);
            var doc = _this4.aceEditor.getSession().getDocument();
            doc.replace(getNodeRange(targetNode), literalTextFromInt(newInt, fracDigitsNum));
          };
          var onUp = function onUp() {
            _this4.setState({ dragging: false });
          };
          dragmanager.start(mouseDownEvent, { onMove: onMove, onUp: onUp });
        })();
      }
    }
  }, {
    key: 'mouseEventToEsprimaCoords',
    value: function mouseEventToEsprimaCoords(mouseEvent) {
      //this.aceEditor
      var clientX = mouseEvent.clientX,
          clientY = mouseEvent.clientY;

      var screenCoords = this.aceEditor.renderer.pixelToScreenCoordinates(clientX, clientY);
      var documentCoords = this.aceEditor.getSession().screenToDocumentPosition(screenCoords.row, screenCoords.column);
      var programCoords = documentCoordsToEsprimaCoords(documentCoords);
      return programCoords;
    }
  }]);

  return ProgramEditor;
}(_react2.default.Component);

var NodeDecoration = function NodeDecoration(node, color) {
  _classCallCheck(this, NodeDecoration);

  this.node = node;
  this.color = color;
};

function makeNodeDecoration(node, color) {
  return new NodeDecoration(node, color);
}

exports.default = ProgramEditor;
exports.makeNodeDecoration = makeNodeDecoration;


ProgramEditor.propTypes = {
  program: _react.PropTypes.string.isRequired,
  nodeDecorations: _react.PropTypes.arrayOf(_react.PropTypes.instanceOf(NodeDecoration)).isRequired,
  onProgramChange: _react.PropTypes.func,
  onValidProgram: _react.PropTypes.func,
  onHoveredNode: _react.PropTypes.func,
  onClickedNode: _react.PropTypes.func
};

// Adjustable constants helper functions.
function literalSourceCode(node) {
  if (_astUtils.recognizers.isUnaryExpression(node)) {
    return node.operator + node.argument.raw;
  } else {
    return node.raw;
  }
}

function absoluteValueTextFromInt(int, fracDigitsNum) {
  function getDigits(int) {
    var intDigits = [];
    var currentInt = Math.abs(int);
    while (currentInt !== 0) {
      var digit = currentInt % 10;
      intDigits.unshift(digit);
      currentInt = Math.floor(currentInt / 10);
    }
    return intDigits;
  }
  var intDigits = getDigits(int);
  var neededDigits = fracDigitsNum + 1; // e.g. X.XXX (fracDigitsNum=3)
  var allDigits = [].concat(_toConsumableArray((0, _lodash.times)(Math.max(neededDigits - intDigits.length), (0, _lodash.constant)("0"))), _toConsumableArray(intDigits));
  var needsDecimalPoint = fracDigitsNum > 0;
  var completeStr = needsDecimalPoint ? [].concat(_toConsumableArray(allDigits.slice(0, -fracDigitsNum)), ["."], _toConsumableArray(allDigits.slice(-fracDigitsNum))).join("") : allDigits.join("");
  return completeStr;
}

function numericLiteralFromInt(int, fracDigitsNum) {
  var absStr = absoluteValueTextFromInt(int, fracDigitsNum);
  var isNegative = int < 0;
  return isNegative ? _astUtils.constructors.unaryExpr("-", _astUtils.constructors.literal(Number.parseFloat(absStr), absStr)) : _astUtils.constructors.literal(Number.parseFloat(absStr), absStr);
}

function literalTextFromInt(int, fracDigitsNum) {
  var absStr = absoluteValueTextFromInt(int, fracDigitsNum);
  var signStr = int < 0 ? "-" : "";
  return signStr + absStr;
}

// dependencies: Program + ace
function getNodeRange(astNode) {
  var _astNode$loc = astNode.loc,
      start = _astNode$loc.start,
      end = _astNode$loc.end;

  return new Range(start.line - 1, start.column, end.line - 1, end.column);
}

function documentCoordsToEsprimaCoords(documentCoords) {
  return {
    line: documentCoords.row + 1,
    column: documentCoords.column
  };
}

function esprimaCoordsToDocumentCoords(esprimaCoords) {
  return {
    row: esprimaCoords.line - 1,
    column: esprimaCoords.column
  };
}

// dependencies: ace + THREE.Color
function addColoredMarker(aceEditor, range, color) {
  var marker = aceEditor.getSession().addDynamicMarker({
    range: range,
    update: _lodash.noop,
    renderer: drawColoredMarker,
    color: color.getStyle(),
    editor: aceEditor
  });
  return marker.id;
}

function drawColoredMarker(htmlStringArray, range, left, top, config) {
  //Based on: ace/layer/marker - drawTextMarker().
  //push html string into htmlstringarray that represents the marker as DOM objects.
  function drawLine(range, clazz, extraLength, extraStyle) {
    var height = lineHeight;
    var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;

    var top = getTop(range.start.row, config);
    var left = padding + range.start.column * characterWidth;

    htmlStringArray.push("<div class='", clazz, "' style='", "height:", height, "px;", "width:", width, "px;", "top:", top, "px;", "left:", left, "px;", extraStyle || "", "'></div>");
  }
  var characterWidth = config.characterWidth,
      lineHeight = config.lineHeight;

  var padding = left - range.start.column * characterWidth;
  var session = this.editor.getSession();
  var start = range.start.row;
  var end = range.end.row;
  var row = start;
  var prev = 0;
  var curr = 0;
  var next = start != end ? session.getScreenLastRowColumn(row) : range.end.column;
  var lineRange = new Range(row, range.start.column, row, curr);
  for (; row <= end; row++) {
    lineRange.start.row = lineRange.end.row = row;
    lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
    lineRange.end.column = next;
    prev = curr;
    curr = next;
    next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
    drawLine(lineRange, (row == start ? " ace_start" : "") + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), row == end ? 0 : 1, "background-color:" + this.color + ";" + "position: absolute;" + "opacity: 0.4;");
  }
}

function getBorderClass(tl, tr, br, bl) {
  return "ace_br" + ((tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0));
}

function getTop(row, layerConfig) {
  return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
}

},{"../Runner/Parsing/ast-utils.js":14,"../Runner/Parsing/program-queries.js":17,"../Runner/Parsing/program.js":18,"./drag-manager.js":10,"brace":"brace","brace/ext/language_tools":1,"brace/mode/javascript":2,"brace/theme/monokai":3,"lodash":"lodash","react":"react","react-ace":"react-ace"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.makeResultOcorrencesDecoration = exports.makeResultInstanceDecoration = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _OrbitThreeView = require('./OrbitThreeView.jsx');

var _OrbitThreeView2 = _interopRequireDefault(_OrbitThreeView);

var _run = require('../Runner/run.js');

var _toThree = require('../SceneGraph/to-three.js');

var _toThree2 = _interopRequireDefault(_toThree);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _lodash = require('lodash');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//8888888b.                            888 888            888     888 d8b                        
//888   Y88b                           888 888            888     888 Y8P                        
//888    888                           888 888            888     888                            
//888   d88P .d88b.  .d8888b  888  888 888 888888 .d8888b Y88b   d88P 888  .d88b.  888  888  888 
//8888888P" d8P  Y8b 88K      888  888 888 888    88K      Y88b d88P  888 d8P  Y8b 888  888  888 
//888 T88b  88888888 "Y8888b. 888  888 888 888    "Y8888b.  Y88o88P   888 88888888 888  888  888 
//888  T88b Y8b.          X88 Y88b 888 888 Y88b.       X88   Y888P    888 Y8b.     Y88b 888 d88P 
//888   T88b "Y8888   88888P'  "Y88888 888  "Y888  88888P'    Y8P     888  "Y8888   "Y8888888P"  
//                                                                                               
//                                                                                               
//                                                                                               

var ResultsView = function (_React$Component) {
	_inherits(ResultsView, _React$Component);

	/*
 	Responsibility: 
 		Display a controlable 3D view containing program results to the user; 
 		Render 3D objects which may have decorations applied;
 		Provide hooks to react to what is pointed.
 	Props:
 		- results: a list of the top level results of a program
 		- resultDecorations: a list of decorations to change appearence of some result instances
 		- onHoveredResultInstance: a function to be called when the current hovered result instance changes
 		- onClick: a callback receiving an object with structure {type, path, resultInstance}. 
 			Called when ResultsView is clicked
 	State:
 		- threeConvertedResults {ThreeConvertedResults}
 		- handleMouseMove {Function} either noop or detect result instance below mouse
 */
	function ResultsView(props) {
		_classCallCheck(this, ResultsView);

		//Initialize bound methods.
		var _this = _possibleConstructorReturn(this, (ResultsView.__proto__ || Object.getPrototypeOf(ResultsView)).call(this, props));

		_this.handleMouseMove = (0, _lodash.throttle)(_this.handleMouseMove.bind(_this), 100 /*msec*/);
		_this.handleClick = _this.handleClick.bind(_this);
		//Initialize state.
		_this.initializeResultDecorations();
		_this.state = _this.computeState({ resultDecorations: [] }, props);
		return _this;
	}

	_createClass(ResultsView, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(newProps) {
			var oldProps = this.props;
			this.setState(this.computeState(oldProps, newProps));
		}

		//888     888               888          888            
		//888     888               888          888            
		//888     888               888          888            
		//888     888 88888b.   .d88888  8888b.  888888 .d88b.  
		//888     888 888 "88b d88" 888     "88b 888   d8P  Y8b 
		//888     888 888  888 888  888 .d888888 888   88888888 
		//Y88b. .d88P 888 d88P Y88b 888 888  888 Y88b. Y8b.     
		// "Y88888P"  88888P"   "Y88888 "Y888888  "Y888 "Y8888  
		//            888                                       
		//            888                                       
		//            888                                       

	}, {
		key: 'computeState',
		value: function computeState(oldProps, newProps) {
			// Compute threeObjects and relations between threeObjects and results.
			var shouldComputeObjects = oldProps.results !== newProps.results;
			var programResults = newProps.results.results.topLevelExprResults.values();
			var threeConvertedResults = shouldComputeObjects ? (0, _time2.default)("three convertion", function () {
				return _toThree2.default.convert.keepingCorrespondence(programResults);
			}) : this.state.threeConvertedResults;

			// Apply resultInstance decorations.
			// Update if prev and curr are not equal
			// nextDecs - intersection !== empty
			var lengthsDiffer = newProps.resultDecorations.length !== oldProps.resultDecorations.length;
			var interDecs = (0, _lodash.intersectionWith)(newProps.resultDecorations, oldProps.resultDecorations, isDecorationEqual);
			var shouldUpdateDecorations = lengthsDiffer || !(0, _lodash.isEmpty)((0, _lodash.differenceWith)(newProps.resultDecorations, interDecs, isDecorationEqual));
			if (shouldUpdateDecorations) {
				this.updateResultDecorations(threeConvertedResults, newProps.resultDecorations);
			}

			var threeScene = shouldComputeObjects || shouldUpdateDecorations ? this.computeThreeScene(threeConvertedResults.threeObjects) : this.state.threeScene;

			// Return the new complete state.
			var shouldHandleHovers = !!newProps.onHoveredResultInstance;
			var shouldHandleClicks = !!newProps.onClick;
			return {
				threeConvertedResults: threeConvertedResults,
				threeScene: threeScene,
				handleMouseMove: shouldHandleHovers ? this.handleMouseMove : _lodash.noop,
				handleClick: shouldHandleClicks ? this.handleClick : _lodash.noop
			};
		}
	}, {
		key: 'computeThreeScene',
		value: function computeThreeScene(threeObjects) {
			var scene = new _three2.default.Scene();
			scene.add(this.computeStaticThreeObjects(), this.computeResultInstanceThreeObjects(threeObjects)); // or threeConvertedResults.getObjects()
			return scene;
		}
	}, {
		key: 'computeResultInstanceThreeObjects',
		value: function computeResultInstanceThreeObjects(threeObjects) {
			// The program's results are in Z is up coordinates.
			// They need to be rotated back into Y is up coordinates to fit OpenGL's standard.
			// We do this by rotating all results -pi/2 radians around the x axis.
			var objectGroup = new _three2.default.Object3D();
			objectGroup.add.apply(objectGroup, [new _three2.default.Object3D()].concat(_toConsumableArray(threeObjects)));
			objectGroup.rotateOnAxis(new _three2.default.Vector3(1.0, 0.0, 0.0), -Math.PI / 2.0);
			return objectGroup;
		}
	}, {
		key: 'computeStaticThreeObjects',
		value: function computeStaticThreeObjects() {
			// create lights
			var sunLight = new _three2.default.DirectionalLight(0xffffca, 0.5);
			sunLight.position.set(0.2, 1, 0.3);
			var belowLight = new _three2.default.DirectionalLight(0xffffca, 0.1);
			belowLight.position.set(-0.1, -1, -0.4);
			var hemiLight = new _three2.default.HemisphereLight(0xffffbb, 0x080820, 0.4);
			// create global coordinates helpers
			var gridHelper = new _three2.default.GridHelper(100, 1);
			gridHelper.setColors(0x888888, 0x444444);
			var axisHelper = new _three2.default.AxisHelper(5);
			axisHelper.quaternion.setFromAxisAngle(new _three2.default.Vector3(1, 0, 0), -Math.PI / 2.0);
			var staticRoot = new _three2.default.Object3D();
			staticRoot.add(sunLight, belowLight, hemiLight, gridHelper, axisHelper);
			return staticRoot;
		}
	}, {
		key: 'initializeResultDecorations',
		value: function initializeResultDecorations() {
			this.decorationToObjects = new Map();
			this.objectToOldMaterial = new WeakMap();
		}
	}, {
		key: 'updateResultDecorations',
		value: function updateResultDecorations(threeConvertedResults, decorations) {
			//threeConvertedResults.addDecoration()
			//threeConvertedResults.removeDecoration()

			var decorationToObjects = this.decorationToObjects;
			var objectToOldMaterial = this.objectToOldMaterial;

			var prevDecorations = Array.from(decorationToObjects.keys());
			var enteringDecorations = (0, _lodash.differenceWith)(decorations, prevDecorations, isDecorationEqual);
			var leavingDecorations = (0, _lodash.differenceWith)(prevDecorations, decorations, isDecorationEqual);

			(0, _lodash.forEach)(leavingDecorations, function (d) {
				//Restore decoration's objects materials.
				(0, _lodash.forEach)(decorationToObjects.get(d), function (obj) {
					obj.material = objectToOldMaterial.get(obj);
				});
				//Clear decorationToObjects entry.
				decorationToObjects.delete(d);
			});

			(0, _lodash.forEach)(enteringDecorations, function (d) {
				//Get objects affected by decoration.
				var decMeshes = (0, _lodash.flatten)((0, _lodash.map)(threeObjectsForDecoration(d, threeConvertedResults), getMeshes));
				//Add decorationToObjects entry.
				decorationToObjects.set(d, decMeshes);
				//Save decoration's objects original materials.
				(0, _lodash.forEach)(decMeshes, function (mesh) {
					if (!objectToOldMaterial.has(mesh)) {
						objectToOldMaterial.set(mesh, mesh.material);
					}
				});
				//Set affected objects' materials to the one from the decoration.
				var decMaterial = decorationMaterial(d);
				(0, _lodash.forEach)(decMeshes, function (mesh) {
					mesh.material = decMaterial;
				});
			});
		}

		//8888888b.  d8b          888      d8b                   
		//888   Y88b Y8P          888      Y8P                   
		//888    888              888                            
		//888   d88P 888  .d8888b 888  888 888 88888b.   .d88b.  
		//8888888P"  888 d88P"    888 .88P 888 888 "88b d88P"88b 
		//888        888 888      888888K  888 888  888 888  888 
		//888        888 Y88b.    888 "88b 888 888  888 Y88b 888 
		//888        888  "Y8888P 888  888 888 888  888  "Y88888 
		//                                                   888 
		//                                              Y8b d88P 
		//                                               "Y88P"  

	}, {
		key: 'handleMouseMove',
		value: function handleMouseMove(mouseMoveEvent) {
			var coords = mouseEventNormalizedDeviceCoords(mouseMoveEvent);
			var pickResult = this.pick(coords);
			this.props.onHoveredResultInstance(pickResult);
		}
	}, {
		key: 'handleClick',
		value: function handleClick(clickEvent) {
			var coords = mouseEventNormalizedDeviceCoords(clickEvent);
			var pickResult = this.pick(coords);
			this.props.onClick({
				type: pickResult.path.length === 0 ? ResultsView.VoidClick : ResultsView.ResultInstanceClick,
				resultInstance: pickResult.resultInstance,
				path: pickResult.path
			});
		}
	}, {
		key: 'pick',
		value: function pick(normDevCoords) {
			var objectBelowMouse = pickClosest(normDevCoords, this.getCamera(), this.state.threeConvertedResults.threeObjects);
			var path = buildResultInstancePath(objectBelowMouse, this.state.threeConvertedResults.threeObjectToResult);
			return {
				resultInstance: path[0],
				path: path
			};
		}

		//8888888b.                        888                  
		//888   Y88b                       888                  
		//888    888                       888                  
		//888   d88P .d88b.  88888b.   .d88888  .d88b.  888d888 
		//8888888P" d8P  Y8b 888 "88b d88" 888 d8P  Y8b 888P"   
		//888 T88b  88888888 888  888 888  888 88888888 888     
		//888  T88b Y8b.     888  888 Y88b 888 Y8b.     888     
		//888   T88b "Y8888  888  888  "Y88888  "Y8888  888     
		//                                                      
		//                                                      
		//                                                      

	}, {
		key: 'getCamera',
		value: function getCamera() {
			return this.refs["threeview"].getCurrentCamera();
		}
	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ onMouseMove: this.state.handleMouseMove,
					onClick: this.state.handleClick },
				_react2.default.createElement(_OrbitThreeView2.default, {
					ref: 'threeview',
					scene: this.state.threeScene })
			);
		}
	}]);

	return ResultsView;
}(_react2.default.Component);

//88888888888 888                                     .d88888b.  888       d8b          
//    888     888                                    d88P" "Y88b 888       Y8P          
//    888     888                                    888     888 888                    
//    888     88888b.  888d888 .d88b.   .d88b.       888     888 88888b.  8888 .d8888b  
//    888     888 "88b 888P"  d8P  Y8b d8P  Y8b      888     888 888 "88b "888 88K      
//    888     888  888 888    88888888 88888888      888     888 888  888  888 "Y8888b. 
//    888     888  888 888    Y8b.     Y8b.          Y88b. .d88P 888 d88P  888      X88 
//    888     888  888 888     "Y8888   "Y8888        "Y88888P"  88888P"   888  88888P' 
//                                                                         888          
//                                                                        d88P          
//                                                                      888P"           

function parentChain(threeObject) {
	var res = [];
	var curThreeObj = threeObject;
	while (curThreeObj) {
		res.push(curThreeObj);
		curThreeObj = curThreeObj.parent;
	}
	return res;
}
function getMeshes(threeObject) {
	var res = [];
	threeObject.traverse(function (obj) {
		if (obj instanceof _three2.default.Mesh) {
			res.push(obj);
		}
	});
	return res;
}

//8888888b.                          d88P 88888888888 888                               
//888   Y88b                        d88P      888     888                               
//888    888                       d88P       888     888                               
//888   d88P .d88b.  .d8888b      d88P        888     88888b.  888d888 .d88b.   .d88b.  
//8888888P" d8P  Y8b 88K         d88P         888     888 "88b 888P"  d8P  Y8b d8P  Y8b 
//888 T88b  88888888 "Y8888b.   d88P          888     888  888 888    88888888 88888888 
//888  T88b Y8b.          X88  d88P           888     888  888 888    Y8b.     Y8b.     
//888   T88b "Y8888   88888P' d88P            888     888  888 888     "Y8888   "Y8888  
//                                                                                      
//                                                                                      
//                                                                                      

/**
	@typedef ThreeConvertedResults
	@type {object}
	@property {Array.<ProgramResult>} results
	@property {Array.<THREE.Object3D>} threeObjects
	@property {Map<ProgramResult,Array.<THREE.Object3D>>} resultToThreeObjects
	@property {Map<THREE.Object3D,ProgramResult>} threeObjectToResult
*/
/*
 ThreeConvertedResults: Holds all data from converting a set of ProgramResults
 	to a set of THREE.Object3D.
 */

/**
	@param {THREE.Object3D} threeObject
	@param {Map<THREE.Object3D,ProgramResult>} threeObjToResult
	@returns {Array.<ProgramResult>}
*/
function buildResultInstancePath(threeObject, threeObjToResult) {
	//build the chain of results up to the top level result.
	return parentChain(threeObject).filter(function (o) {
		return threeObjToResult.has(o);
	}).map(function (o) {
		return threeObjToResult.get(o);
	});
}

/**
	@param {THREE.Vector2} coord Ray origin in normalized device coordinates.
	@param {THREE.Camera} camera
	@param {Array<THREE.Object3D>} threeObjects
	@returns {?THREE.Object3D}
*/
function pickClosest(coords, camera, threeObjects) {
	var raycaster = new _three2.default.Raycaster();
	raycaster.setFromCamera(coords, camera);
	var intersections = raycaster.intersectObjects(threeObjects, true /*recursive*/);
	return intersections.length > 0 ? intersections[0].object : null;
}

/**
	@param {ResultDecoration} dec
	@param {ThreeConvertedResults} threeConvertedResults
	@returns {Array.<THREE.Object3D>}
 */
function threeObjectsForDecoration(dec, _ref) {
	var threeObjects = _ref.threeObjects,
	    resultToTHREEObjects = _ref.resultToTHREEObjects,
	    threeObjectToResult = _ref.threeObjectToResult;

	function threeObjectsFromPath(path) {
		function hasAssociatedResult(threeObject) {
			return threeObjectToResult.has(threeObject);
		}

		function getResult(threeObject) {
			return threeObjectToResult.get(threeObject);
		}

		var belongsToPath = function belongsToPath(path) {
			return function (threeObject) {
				//threeObject parents match each path's elements three objects
				var parents = parentChain(threeObject).filter(hasAssociatedResult);
				return (0, _lodash.isEqual)(parents.map(getResult), path);
			};
		};

		var leafResult = path[0];
		var leafObjects = resultToTHREEObjects.get(leafResult);
		return leafObjects.filter(belongsToPath(path));
	}

	function threeObjectsFromResult(result) {
		return resultToTHREEObjects.get(result);
	}

	if (dec instanceof ResultInstanceDecoration) {
		return threeObjectsFromPath(dec.path);
	} else if (dec instanceof ResultOcorrencesDecoration) {
		return threeObjectsFromResult(dec.result);
	} else {
		throw new Error("Unknown ResultDecoration type.");
	}
}

//8888888b.                                            888    d8b                            
//888  "Y88b                                           888    Y8P                            
//888    888                                           888                                   
//888    888  .d88b.   .d8888b .d88b.  888d888 8888b.  888888 888  .d88b.  88888b.  .d8888b  
//888    888 d8P  Y8b d88P"   d88""88b 888P"      "88b 888    888 d88""88b 888 "88b 88K      
//888    888 88888888 888     888  888 888    .d888888 888    888 888  888 888  888 "Y8888b. 
//888  .d88P Y8b.     Y88b.   Y88..88P 888    888  888 Y88b.  888 Y88..88P 888  888      X88 
//8888888P"   "Y8888   "Y8888P "Y88P"  888    "Y888888  "Y888 888  "Y88P"  888  888  88888P' 
//                                                                                           
//                                                                                           
//                                                                                           


var ResultDecoration = function ResultDecoration() {
	_classCallCheck(this, ResultDecoration);
};

var ResultInstanceDecoration = function (_ResultDecoration) {
	_inherits(ResultInstanceDecoration, _ResultDecoration);

	function ResultInstanceDecoration(path, color) {
		_classCallCheck(this, ResultInstanceDecoration);

		var _this2 = _possibleConstructorReturn(this, (ResultInstanceDecoration.__proto__ || Object.getPrototypeOf(ResultInstanceDecoration)).call(this));

		_this2.path = path;
		_this2.color = color;
		return _this2;
	}

	return ResultInstanceDecoration;
}(ResultDecoration);

var ResultOcorrencesDecoration = function (_ResultDecoration2) {
	_inherits(ResultOcorrencesDecoration, _ResultDecoration2);

	function ResultOcorrencesDecoration(result, color) {
		_classCallCheck(this, ResultOcorrencesDecoration);

		var _this3 = _possibleConstructorReturn(this, (ResultOcorrencesDecoration.__proto__ || Object.getPrototypeOf(ResultOcorrencesDecoration)).call(this));

		_this3.result = result;
		_this3.color = color;
		return _this3;
	}

	return ResultOcorrencesDecoration;
}(ResultDecoration);

function makeResultInstanceDecoration(path, color) {
	return new ResultInstanceDecoration(path, color);
}
function makeResultOcorrencesDecoration(result, color) {
	return new ResultOcorrencesDecoration(result, color);
}

function decorationMaterial(decoration) {
	var mat = new _three2.default.MeshPhongMaterial();
	mat.emissive.set(decoration.color);
	mat.transparent = true;
	mat.opacity = 0.6;
	mat.depthTest = false;
	mat.depthWrite = false;
	mat.side = _three2.default.DoubleSide;
	return mat;
}

function isDecorationEqual(dec1, dec2) {
	var areInstanceDecs = dec1 instanceof ResultInstanceDecoration && dec2 instanceof ResultInstanceDecoration;
	var areOcorrenceDecs = dec1 instanceof ResultOcorrencesDecoration && dec2 instanceof ResultOcorrencesDecoration;
	if (areInstanceDecs) {
		return (0, _lodash.isEqual)(dec1.path, dec2.path) && dec1.color.equals(dec2.color);
	}
	if (areOcorrenceDecs) {
		return dec1.result === dec2.result && dec1.color.equals(dec2.color);
	}
	return false;
}

//888b     d888 d8b                   
//8888b   d8888 Y8P                   
//88888b.d88888                       
//888Y88888P888 888 .d8888b   .d8888b 
//888 Y888P 888 888 88K      d88P"    
//888  Y8P  888 888 "Y8888b. 888      
//888   "   888 888      X88 Y88b.    
//888       888 888  88888P'  "Y8888P 
//                                    
//                                    
//                                    

function mouseEventNormalizedDeviceCoords(mouseEvent) {
	var _mouseEvent$nativeEve = mouseEvent.nativeEvent,
	    offsetX = _mouseEvent$nativeEve.offsetX,
	    offsetY = _mouseEvent$nativeEve.offsetY;

	var _mouseEvent$target$ge = mouseEvent.target.getBoundingClientRect(),
	    width = _mouseEvent$target$ge.width,
	    height = _mouseEvent$target$ge.height;

	var res = new _three2.default.Vector2(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);
	return res;
}

//8888888888                                    888    
//888                                           888    
//888                                           888    
//8888888    888  888 88888b.   .d88b.  888d888 888888 
//888        `Y8bd8P' 888 "88b d88""88b 888P"   888    
//888          X88K   888  888 888  888 888     888    
//888        .d8""8b. 888 d88P Y88..88P 888     Y88b.  
//8888888888 888  888 88888P"   "Y88P"  888      "Y888 
//                    888                              
//                    888                              
//                    888                              

exports.makeResultInstanceDecoration = makeResultInstanceDecoration;
exports.makeResultOcorrencesDecoration = makeResultOcorrencesDecoration;
exports.default = ResultsView;


ResultsView.propTypes = {
	onHoveredResultInstance: _react2.default.PropTypes.func,
	onClick: _react2.default.PropTypes.func,
	results: _react2.default.PropTypes.instanceOf(_run.ProgramResults),
	resultDecorations: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.instanceOf(ResultDecoration))
};

ResultsView.VoidClick = Symbol("VoidClick");
ResultsView.ResultInstanceClick = Symbol("ResultInstanceClick");

},{"../Runner/run.js":23,"../SceneGraph/to-three.js":36,"../utils/time.js":44,"./OrbitThreeView.jsx":5,"lodash":"lodash","react":"react","three":"three"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _color = require('../SceneGraph/color.js');

var _color2 = _interopRequireDefault(_color);

var _generic = require('./generic.jsx');

var _ProgramEditor = require('./ProgramEditor.jsx');

var _ProgramEditor2 = _interopRequireDefault(_ProgramEditor);

var _ResultsView = require('./ResultsView.jsx');

var _ResultsView2 = _interopRequireDefault(_ResultsView);

var _run = require('../Runner/run.js');

var _runQueries = require('../Runner/run-queries.js');

var _program = require('../Runner/Parsing/program.js');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//       d8888          888                      888 
//      d88888          888                      888 
//     d88P888          888                      888 
//    d88P 888  .d8888b 888888 888  888  8888b.  888 
//   d88P  888 d88P"    888    888  888     "88b 888 
//  d88P   888 888      888    888  888 .d888888 888 
// d8888888888 Y88b.    Y88b.  Y88b 888 888  888 888 
//d88P     888  "Y8888P  "Y888  "Y88888 "Y888888 888 
//                                                   
//                                                   
//                                                   

var RunningControlsBar = function RunningControlsBar(_ref) {
  var autorun = _ref.autorun,
      traceability = _ref.traceability,
      onAutorunClick = _ref.onAutorunClick,
      onTraceabilityClick = _ref.onTraceabilityClick,
      onRunClick = _ref.onRunClick;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(_generic.Checkbox, { label: 'Run Automatically', checked: autorun, onClick: onAutorunClick }),
    _react2.default.createElement(_generic.Checkbox, { label: 'Capture Trace', checked: traceability, onClick: onTraceabilityClick }),
    _react2.default.createElement(
      'button',
      { onClick: onRunClick },
      'Run Now'
    )
  );
};

var StatusBar = function StatusBar(_ref2) {
  var status = _ref2.status;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(
      'span',
      null,
      status
    )
  );
};

// .d8888b.                                     8888888888     888 d8b 888                    
//d88P  Y88b                                    888            888 Y8P 888                    
//Y88b.                                         888            888     888                    
// "Y888b.   888  888 88888b.   .d88b.  888d888 8888888    .d88888 888 888888 .d88b.  888d888 
//    "Y88b. 888  888 888 "88b d8P  Y8b 888P"   888       d88" 888 888 888   d88""88b 888P"   
//      "888 888  888 888  888 88888888 888     888       888  888 888 888   888  888 888     
//Y88b  d88P Y88b 888 888 d88P Y8b.     888     888       Y88b 888 888 Y88b. Y88..88P 888     
// "Y8888P"   "Y88888 88888P"   "Y8888  888     8888888888 "Y88888 888  "Y888 "Y88P"  888     
//                    888                                                                     
//                    888                                                                     
//                    888                                                                     

/*
  Running automatically and capturing trace were joined in this component. 
  Whether to run automatically and/or capture trace can be controlled 
by the user.
*/

var SuperEditor = function (_React$Component) {
  _inherits(SuperEditor, _React$Component);

  /*
    Props:
      - program
      - onProgramChange
    State:
      - currentProgram: the current, possibly modified, version of program
      - results
      - runAutomatically
      - captureTrace
        - traceabilityInfo
        - nodeDecorations
        - resultDecorations
  */
  function SuperEditor(props) {
    _classCallCheck(this, SuperEditor);

    // Initialize bound methods.
    var _this = _possibleConstructorReturn(this, (SuperEditor.__proto__ || Object.getPrototypeOf(SuperEditor)).call(this, props));

    _this.toggleRunAutomatically = _this.toggleRunAutomatically.bind(_this);
    _this.toggleCaptureTrace = _this.toggleCaptureTrace.bind(_this);
    _this.handleRun = _this.handleRun.bind(_this);
    _this.handleProgramChange = _this.handleProgramChange.bind(_this);
    _this.handleClickedNode = _this.handleClickedNode.bind(_this);
    _this.handleHoveredResultInstance = _this.handleHoveredResultInstance.bind(_this);
    _this.handleResultsViewClick = _this.handleResultsViewClick.bind(_this);
    _this.performRun = _this.performRun.bind(_this);
    _this.scheduleRun = (0, _lodash.debounce)(_this.performRun, 100 /*msec*/);
    // Initialize state.
    _this.state = {
      currentProgram: props.program,
      runAutomatically: true,
      captureTrace: true,
      nodeDecorations: [],
      resultDecorations: [],
      programResults: _run.emptyResults,
      status: 'idle'
    };

    _this.scheduleRun();
    return _this;
  }

  _createClass(SuperEditor, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        _generic.RowSplit,
        null,
        _react2.default.createElement(RunningControlsBar, {
          autorun: this.state.runAutomatically,
          traceability: this.state.captureTrace,
          onAutorunClick: this.toggleRunAutomatically,
          onTraceabilityClick: this.toggleCaptureTrace,
          onRunClick: this.handleRun }),
        _react2.default.createElement(
          _generic.ColumnSplit,
          { height: 'calc(100% - 6em)' },
          _react2.default.createElement(_ProgramEditor2.default, {
            program: this.state.currentProgram,
            onProgramChange: this.handleProgramChange,
            onValidProgram: _lodash.noop,
            nodeDecorations: this.state.captureTrace ? this.state.nodeDecorations : [],
            onHoveredNode: _lodash.noop,
            onClickedNode: this.handleClickedNode }),
          _react2.default.createElement(_ResultsView2.default, {
            results: this.state.programResults,
            resultDecorations: this.state.captureTrace ? this.state.resultDecorations : [],
            onClick: this.state.captureTrace ? this.handleResultsViewClick : null })
        ),
        _react2.default.createElement(StatusBar, { status: this.state.status })
      );
      //onHoveredResultInstance={this.state.captureTrace ? this.handleHoveredResultInstance : null}
    }
  }, {
    key: 'toggleRunAutomatically',
    value: function toggleRunAutomatically() {
      this.setState({ runAutomatically: !this.state.runAutomatically });
    }
  }, {
    key: 'toggleCaptureTrace',
    value: function toggleCaptureTrace() {
      this.setState({ captureTrace: !this.state.captureTrace });
    }
  }, {
    key: 'handleRun',
    value: function handleRun() {
      this.scheduleRun();
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(newProps) {
      if (this.props.program !== newProps.program) {
        this.setState({ currentProgram: newProps.program });
      }
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(newProps, newState) {
      var programChanged = this.state.currentProgram !== newState.currentProgram;
      var captureTraceChanged = this.state.captureTrace !== newState.captureTrace;
      var captureTraceNeeded = captureTraceChanged && newState.captureTrace;
      var programIsValid = (0, _program.validSource)(newState.currentProgram);
      var shouldScheduleRun = newState.runAutomatically && programIsValid && (programChanged || captureTraceNeeded);
      if (shouldScheduleRun) {
        this.scheduleRun();
      }
    }
  }, {
    key: 'handleProgramChange',
    value: function handleProgramChange(program) {
      var stateChanges = {};
      // update status
      stateChanges = Object.assign({}, stateChanges, {
        status: (0, _program.validSource)(program) ? 'changed' : 'invalid'
      });
      // update the current program
      stateChanges = Object.assign({}, stateChanges, { currentProgram: program });
      this.setState(stateChanges);
      // propagate change to owner component
      this.props.onProgramChange(program);
    }
  }, {
    key: 'handleClickedNode',
    value: function handleClickedNode(_ref3) {
      var node = _ref3.node,
          path = _ref3.path;

      // iff captureTrace -> highlight node (or parent) and its results
      if (this.state.captureTrace) {
        // Copied from: TraceabilityView.jsx
        var isHoveringSomething = path.length > 1; //[Program, SomeNode,...]
        if (isHoveringSomething) {
          var nodeColor = _color2.default.hsl(100.0 / 360.0, 0.5, 0.5);
          var nodeResults = (0, _runQueries.getNodeResults)(node, path, this.state.programResults);
          this.setState({
            nodeDecorations: [(0, _ProgramEditor.makeNodeDecoration)(node, nodeColor)],
            resultDecorations: nodeResults.map((0, _lodash.partial)(_ResultsView.makeResultOcorrencesDecoration, _lodash2.default, nodeColor))
          });
        } else {
          // Clicked somewhere in Program.
          this.setState({
            nodeDecorations: [],
            resultDecorations: []
          });
        }
      }
    }
  }, {
    key: 'handleHoveredResultInstance',
    value: function handleHoveredResultInstance(_ref4) {
      var resultInstance = _ref4.resultInstance,
          path = _ref4.path;

      // Copied from: TraceabilityView.jsx
      var isHoveringSomething = path.length !== 0;
      if (isHoveringSomething) {
        var creatorNode = (0, _runQueries.getResultCreatorNode)(resultInstance, path, this.state.programResults, this.state.currentProgram);
        var decColor = _color2.default.hsl(50.0 / 360.0, 0.5, 0.5);
        this.setState({
          nodeDecorations: [(0, _ProgramEditor.makeNodeDecoration)(creatorNode, decColor)],
          resultDecorations: [(0, _ResultsView.makeResultInstanceDecoration)(path, decColor)]
        });
      } else {
        this.setState({
          nodeDecorations: [],
          resultDecorations: []
        });
      }
    }
  }, {
    key: 'handleResultsViewClick',
    value: function handleResultsViewClick(resClickEvent) {
      switch (resClickEvent.type) {
        case _ResultsView2.default.VoidClick:
          this.setState({
            nodeDecorations: [],
            resultDecorations: []
          });
          break;
        case _ResultsView2.default.ResultInstanceClick:
          this.handleHoveredResultInstance(resClickEvent);
          break;
        default:
          throw new Error("Unhandled ResultsView event.");
      }
    }
  }, {
    key: 'performRun',
    value: function performRun() {
      var _this2 = this;

      this.setState({ status: 'running' });
      try {
        if (this.state.captureTrace) {
          var programResults = (0, _time2.default)("Traceability", function () {
            return (0, _run.runWithTraceability)(_this2.state.currentProgram);
          });
          this.setState({
            programResults: programResults
          });
        } else {
          var _programResults = (0, _time2.default)("Bare run", function () {
            return (0, _run.runNormally)(_this2.state.currentProgram);
          });
          this.setState({
            programResults: _programResults
          });
        }
        this.setState({ status: 'idle' });
      } catch (e) {
        this.setState({ status: 'error:' + e.message });
      }
      this.setState({
        nodeDecorations: [],
        resultDecorations: []
      });
    }
  }]);

  return SuperEditor;
}(_react2.default.Component);

SuperEditor.propTypes = {
  program: _react.PropTypes.string.isRequired,
  onProgramChange: _react.PropTypes.func.isRequired
};

exports.default = SuperEditor;

},{"../Runner/Parsing/program.js":18,"../Runner/run-queries.js":22,"../Runner/run.js":23,"../SceneGraph/color.js":30,"../utils/time.js":44,"./ProgramEditor.jsx":6,"./ResultsView.jsx":7,"./generic.jsx":11,"lodash":"lodash","react":"react"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
  A component that renders whatever camera and scene using a THREE.WebGLRenderer.
*/

var ThreeRenderer = function (_React$PureComponent) {
  _inherits(ThreeRenderer, _React$PureComponent);

  function ThreeRenderer() {
    _classCallCheck(this, ThreeRenderer);

    return _possibleConstructorReturn(this, (ThreeRenderer.__proto__ || Object.getPrototypeOf(ThreeRenderer)).apply(this, arguments));
  }

  _createClass(ThreeRenderer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var canvas = _reactDom2.default.findDOMNode(this.refs["canvas"]);
      var renderer = new _three2.default.WebGLRenderer({
        canvas: canvas, antialias: true, alpha: true
      });
      this._renderer = renderer;
      this._draw();
    }
  }, {
    key: 'componentWillUmmount',
    value: function componentWillUmmount() {
      this._renderer = null;
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var _props = this.props,
          width = _props.width,
          height = _props.height;

      this._renderer.setViewport(0, 0, width, height);
      this._draw();
    }
  }, {
    key: '_draw',
    value: function _draw() {
      this._renderer.render(this.props.scene, this.props.camera);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement('canvas', {
        ref: 'canvas',
        width: this.props.width,
        height: this.props.height,
        style: styles.canvas
      });
    }
  }, {
    key: 'renderToImage',
    value: function renderToImage() {
      this._draw();
      var img = new Image();
      img.src = this._renderer.domElement.toDataURL("image/png");
      return img;
    }
  }]);

  return ThreeRenderer;
}(_react2.default.PureComponent);

var styles = {
  canvas: {
    width: "100%",
    height: "100%"
  }
};

exports.default = ThreeRenderer;

},{"react":"react","react-dom":"react-dom","three":"three"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.start = start;

/**
  @param {MouseDownEvent} mouseDown The mousedown event that starts the drag
  @param {Object} drag
  @param {Function} drag.onMove
  @param {Function} drag.onUp
*/
function start(mouseDown, drag) {
  currentDrag = drag;
}

function onMouseMove(mouseMove) {
  currentDrag && currentDrag.onMove && currentDrag.onMove(mouseMove);
}

function onMouseUp(mouseUp) {
  currentDrag && currentDrag.onUp && currentDrag.onUp(mouseUp);
  currentDrag = null;
}

// Initialization.
var currentDrag = null;

window.addEventListener("mousemove", onMouseMove);
window.addEventListener("mouseup", onMouseUp);

},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Drawer = exports.IconButton = exports.Spacer = exports.VerticalIconBar = exports.Checkbox = exports.HorizontalBar = exports.RowSplit = exports.ColumnSplit = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ColumnSplit = exports.ColumnSplit = function ColumnSplit(_ref) {
  var children = _ref.children,
      _ref$height = _ref.height,
      height = _ref$height === undefined ? '100%' : _ref$height;
  return _react2.default.createElement(
    'div',
    { className: 'column-split', style: { height: height } },
    _react.Children.map(children, function (c) {
      return _react2.default.createElement(
        'div',
        { style: { width: 100 / _react.Children.count(children) + '%', height: '100%' } },
        c
      );
    })
  );
};

var RowSplit = exports.RowSplit = function RowSplit(_ref2) {
  var children = _ref2.children;
  return _react2.default.createElement(
    'div',
    { className: 'row-split' },
    children
  );
};

var HorizontalBar = exports.HorizontalBar = function HorizontalBar(_ref3) {
  var children = _ref3.children;
  return _react2.default.createElement(
    'div',
    { className: 'horizontal-bar' },
    _react2.default.createElement(
      'div',
      null,
      children
    )
  );
};

var Checkbox = exports.Checkbox = function Checkbox(_ref4) {
  var label = _ref4.label,
      checked = _ref4.checked,
      onClick = _ref4.onClick;
  return _react2.default.createElement(
    'label',
    { className: 'checkbox', onChange: onClick },
    _react2.default.createElement('input', { type: 'checkbox', checked: checked }),
    _react2.default.createElement(
      'span',
      null,
      label
    )
  );
};

var VerticalIconBar = exports.VerticalIconBar = function VerticalIconBar(_ref5) {
  var children = _ref5.children;
  return _react2.default.createElement(
    'div',
    { className: 'vertical-icon-bar' },
    children
  );
};

var Spacer = exports.Spacer = function Spacer(_ref6) {
  var width = _ref6.width,
      height = _ref6.height;
  return _react2.default.createElement('div', { style: { width: width, height: height } });
};

var IconButton = exports.IconButton = function IconButton(_ref7) {
  var icon = _ref7.icon,
      onClick = _ref7.onClick;
  return _react2.default.createElement('img', { className: 'icon-button', onClick: onClick, src: icon });
};

var Drawer = exports.Drawer = function Drawer(_ref8) {
  var open = _ref8.open,
      children = _ref8.children;
  return _react2.default.createElement(
    'div',
    { className: 'drawer', style: { display: open ? 'block' : 'none' } },
    children
  );
};

},{"react":"react"}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.transform = undefined;

var _astUtils = require('../Parsing/ast-utils.js');

var _nodeId = require('../Parsing/node-id.js');

var saveTopLevelExprsTransform = {
	select: function select(node, parent) {
		return _astUtils.recognizers.isExpressionStatement(node) && _astUtils.recognizers.isProgram(parent);
	},
	transform: function transform(node, ctxId) {
		return _astUtils.constructors.exprStmt(_astUtils.constructors.callExpr(_astUtils.constructors.memberExpr(_astUtils.constructors.id(ctxId), _astUtils.constructors.id("saveTopLevelResult"), false), [_astUtils.constructors.literal((0, _nodeId.nodeId)(node)), node.expression]));
	},
	makeContext: function makeContext() {
		return {
			saveTopLevelResult: function saveTopLevelResult(nodeId, value) {
				this.topLevelExprResults.set(nodeId, value);
			},
			topLevelExprResults: new Map()
		};
	}
};

exports.transform = saveTopLevelExprsTransform;

},{"../Parsing/ast-utils.js":14,"../Parsing/node-id.js":16}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.transform = undefined;

var _astUtils = require('../Parsing/ast-utils.js');

var _idGenerator = require('../id-generator.js');

var _nodeId = require('../Parsing/node-id.js');

var traceCallTransform = {
	/*
 	foo.bar(a, b, c) -> 
 	(function($1, $2, $3){
 		var $$ = foo.bar($1, $2, $3);
 		traceCall(nodeId, [$1, $2, $3], $$);
 		return $$;
 	})(a, b, c)
 */
	select: function select(node, parent) {
		return _astUtils.recognizers.isCallExpression(node);
	},
	transform: function transform(node, ctxId) {
		var uuid = "" + _idGenerator.idGenerator.next();
		var argIds = node.arguments.map(function (a, i) {
			return "$" + i + "_" + uuid;
		}).map(function (name) {
			return _astUtils.constructors.id(name);
		});
		var resId = _astUtils.constructors.id("$$" + uuid);
		return _astUtils.constructors.callExpr(_astUtils.constructors.funcExpr(null, argIds, _astUtils.constructors.block([_astUtils.constructors.varDeclaration([_astUtils.constructors.varDeclarator(resId, _astUtils.constructors.callExpr(node.callee, argIds))], "var"), _astUtils.constructors.callExpr(_astUtils.constructors.memberExpr(_astUtils.constructors.id(ctxId), _astUtils.constructors.id("traceCall")), [_astUtils.constructors.literal((0, _nodeId.nodeId)(node)), _astUtils.constructors.arrExpr(argIds), resId]), _astUtils.constructors.retStmt(resId)])), node.arguments);
	},
	makeContext: function makeContext() {
		return {
			traceCall: function traceCall(nodeId, callArgs, callRes) {
				if (!this.callTraces.has(nodeId)) {
					this.callTraces.set(nodeId, []);
				}
				var traceEntry = {
					nodeId: nodeId,
					arguments: callArgs,
					result: callRes
				};
				this.callTraces.get(nodeId).push(traceEntry);
			},
			callTraces: new Map()
		};
	}
};

exports.transform = traceCallTransform;

},{"../Parsing/ast-utils.js":14,"../Parsing/node-id.js":16,"../id-generator.js":20}],14:[function(require,module,exports){
"use strict";

var isExpression = function () {
	var exprTypes = new Set(["ThisExpression", "ArrayExpression", "ObjectExpression", "FunctionExpression", "UnaryExpression", "UpdateExpression", "BinaryExpression", "AssignmentExpression", "LogicalExpression", "MemberExpression", "ConditionalExpression", "CallExpression", "NewExpression", "SequenceExpression", "Literal", "Identifier"]);
	return function isExpression(node) {
		return exprTypes.has(node.type);
	};
}();

function isMemberExpression(node) {
	return node.type === "MemberExpression";
}

function isVariableDeclarator(node) {
	return node.type === "VariableDeclarator";
}

function isUpdateExpression(node) {
	return node.type === "UpdateExpression";
}

function isExpressionStatement(node) {
	return node.type === "ExpressionStatement";
}

function isCallExpression(node) {
	return node.type === "CallExpression";
}

function isReturn(node) {
	return node.type === "ReturnStatement";
}

function isFunction(node) {
	return node.type === "FunctionExpression" || node.type === "FunctionDeclaration";
}

function isProgram(node) {
	return node.type === "Program";
}

function isLiteral(node) {
	return node.type === "Literal";
}

function isUnaryExpression(node) {
	return node.type === "UnaryExpression";
}

function isSignUnaryExpression(node) {
	return isUnaryExpression(node) && (node.operator === "-" || node.operator === "+");
}

function isNumericLiteral(node) {
	return isLiteral(node) && typeof node.value === "number";
}

function isSignedNumericLiteral(node) {
	return isNumericLiteral(node) || isSignUnaryExpression(node) && isNumericLiteral(node.argument);
}

var u = {
	isExpression: isExpression,
	isMemberExpression: isMemberExpression,
	isVariableDeclarator: isVariableDeclarator,
	isUpdateExpression: isUpdateExpression,
	isExpressionStatement: isExpressionStatement,
	isCallExpression: isCallExpression,
	isReturn: isReturn,
	isFunction: isFunction,
	isProgram: isProgram,
	isUnaryExpression: isUnaryExpression,
	isSignUnaryExpression: isSignUnaryExpression,
	isLiteral: isLiteral,
	isNumericLiteral: isNumericLiteral,
	isSignedNumericLiteral: isSignedNumericLiteral
};

var n = {
	exprStmt: function exprStmt(expr) {
		return {
			type: "ExpressionStatement",
			expression: expr
		};
	},
	callExpr: function callExpr(calleeExpr, argExprs) {
		return {
			type: "CallExpression",
			callee: calleeExpr,
			arguments: argExprs
		};
	},
	id: function id(name) {
		return {
			type: "Identifier",
			name: name
		};
	},
	literal: function literal(value, raw) {
		return {
			type: "Literal",
			value: value,
			raw: raw
		};
	},
	block: function block(stms) {
		return {
			type: "BlockStatement",
			body: stms
		};
	},
	funcExpr: function funcExpr(id, params, body) {
		return {
			type: "FunctionExpression",
			id: id,
			params: params,
			body: body
		};
	},
	seqExpr: function seqExpr(exprs) {
		return {
			type: "SequenceExpression",
			expressions: exprs
		};
	},
	assignExpr: function assignExpr(op, left, right) {
		return {
			type: "AssignmentExpression",
			operator: op,
			left: left,
			right: right
		};
	},
	varDeclaration: function varDeclaration(declarations, kind) {
		return {
			type: "VariableDeclaration",
			declarations: declarations,
			kind: kind
		};
	},
	varDeclarator: function varDeclarator(id, init) {
		return {
			type: "VariableDeclarator",
			id: id,
			init: init
		};
	},
	retStmt: function retStmt(expr) {
		return {
			type: "ReturnStatement",
			argument: expr
		};
	},
	arrExpr: function arrExpr(elems) {
		return {
			type: "ArrayExpression",
			elements: elems
		};
	},
	memberExpr: function memberExpr(obj, prop, computed) {
		return {
			type: "MemberExpression",
			object: obj,
			property: prop,
			computed: computed
		};
	},
	unaryExpr: function unaryExpr(operator, argument) {
		var prefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

		return {
			type: "UnaryExpression",
			operator: operator,
			argument: argument,
			prefix: prefix
		};
	}
};

module.exports = {
	recognizers: u,
	constructors: n
};

},{}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getNodeById = getNodeById;

var _estraverse = require('estraverse');

var _nodeId = require('./node-id.js');

var _program = require('./program.js');

/*
	Searches for a EsprimaNode in Program's AST that has nodeId as its id.
	@param {Program} program The program to perform the search.
	@param {string} nodeId The id of the node.
	@returns {EsprimaNode|null}
*/
function getNodeById(program, nodeId) {
	var searchResult = null;
	(0, _estraverse.traverse)((0, _program.sourceToAst)(program), {
		enter: function enter(node, parent) {
			if ((0, _nodeId.nodeId)(node) === nodeId) {
				searchResult = node;
				return _estraverse.VisitorOption.Break;
			}
		}
	});
	return searchResult;
}

},{"./node-id.js":16,"./program.js":18,"estraverse":"estraverse"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

//TODO Make module for managing(manipulating, querying) ast nodes and/or programs.
//TODO Make module for managing programs and their results.

function nodeId(node) {
	return JSON.stringify(node.loc);
}

exports.nodeId = nodeId;

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.nodesContainingCoords = nodesContainingCoords;
exports.nodeContainsCoord = nodeContainsCoord;
exports.programNodes = programNodes;
exports.signedLiteralNodes = signedLiteralNodes;
exports.nodeAtPath = nodeAtPath;

var _estraverse = require('estraverse');

var _lodash = require('lodash');

var _traversal = require('./traversal.js');

var _astUtils = require('./ast-utils.js');

var _program = require('./program.js');

function nodesContainingCoords(ast, esprimaCoords) {
  var coordsInside = nodeContainsCoord(ast, esprimaCoords);
  if (coordsInside) {
    var _ret = function () {
      var bottomUpNodes = [];
      var pathToDeepest = null;
      (0, _traversal.traverse)(ast, {
        enter: function enter(node, path) {
          if (nodeContainsCoord(node, esprimaCoords)) {
            bottomUpNodes.push(node);
            pathToDeepest = path;
          }
        }
      });
      bottomUpNodes.reverse();
      return {
        v: {
          bottomUpNodes: bottomUpNodes,
          pathToDeepest: pathToDeepest,
          deepestNode: nodeAtPath(ast, pathToDeepest)
        }
      };
    }();

    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
  } else {
    return {
      bottomUpNodes: [ast],
      pathToDeepest: [],
      deepestNode: ast
    };
  }
}

function _estraverse_nodesContainingCoords(ast, esprimaCoords) {
  var path = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      if (nodeContainsCoord(node, esprimaCoords)) {
        path.push(node);
      }
    }
  });
  path.reverse();
  return {
    path: path,
    deepestNode: path[0]
  };
}

function nodeContainsCoord(node, esprimaCoords) {
  function ifThen(premise, consequence) {
    return !premise || consequence;
  }
  var _node$loc = node.loc,
      start = _node$loc.start,
      end = _node$loc.end;

  var betweenLines = esprimaCoords.line >= start.line && esprimaCoords.line <= end.line;
  var onStartLine = esprimaCoords.line === start.line;
  var onEndLine = esprimaCoords.line === end.line;
  return betweenLines && ifThen(onStartLine, esprimaCoords.column >= start.column) && ifThen(onEndLine, esprimaCoords.column <= end.column);
}

function programNodes(ast) {
  var nodes = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      nodes.push(node);
    }
  });
  return nodes;
}

function signedLiteralNodes(ast) {
  var nodes = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      if (_astUtils.recognizers.isSignedNumericLiteral(node)) {
        nodes.push(node);
        return _estraverse.VisitorOption.Skip;
      }
    }
  });
  return nodes;
}

function nodeAtPath(ast, path) {
  if (path.length !== 0) {
    return (0, _lodash.property)(path)(ast);
  } else {
    return ast;
  }
}

},{"./ast-utils.js":14,"./program.js":18,"./traversal.js":19,"estraverse":"estraverse","lodash":"lodash"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.sourceToAst = undefined;
exports.validSource = validSource;
exports.astToSource = astToSource;

var _esprima = require('esprima');

var _esprima2 = _interopRequireDefault(_esprima);

var _escodegen = require('escodegen');

var _escodegen2 = _interopRequireDefault(_escodegen);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO Define the model of the programs.
/*
  Immutable data structures?
    This would be cool and enforce that programs are values.
  Understand comments and integrate them in the representations.
  How to support text and structural editing?
    Keep only one representation?
    Keep both representations and keep them in sync?
    In the end there is always a valid structure.
    Only syntactically correct programs can be objects of these classes?
      Intermediate versions belong to different classes?
      Intermediate versions are handled by UI?
        Text fragments -> validate -> Program fragments
  Have a wrapper, a facade, for working with programs?
  Program
    Script
  How does the running algorithm and programs communicate?
    Running algorithm queries program about ast
    Running algorithm creates a new program with some modifications from the original
      Basically it would be a map over the program which creates a new program that is the one that will be evaluated.
      In most cases, it does have to collect some information before actually creating the new program.
  How is the running algorithm used?
    It is used to know things about the program that only become available when it runs.
      The results it generates.
      The entire execution control flow.
      The entire execution data flow.
  What can we know by looking at a program?
    The variable scoping information.
    The functions it uses, both in expression and declaration form.
    Partial information about control flow and data flow.
    How it should be run.
    We can infer types.
*/

function sourceToAst(sourceCode) {
  var ast = _esprima2.default.parse(sourceCode, { loc: true, comment: true });
  return ast;
}

var codeToAst = new Map();

function memoizedSourceToAst(sourceCode) {
  if (codeToAst.has(sourceCode)) {
    return codeToAst.get(sourceCode);
  } else {
    var ast = sourceToAst(sourceCode);
    codeToAst.set(sourceCode, ast);
    return ast;
  }
}

exports.sourceToAst = memoizedSourceToAst;
function validSource(sourceCode) {
  try {
    sourceToAst(sourceCode);
    return true;
  } catch (e) {
    return false;
  }
}

function astToSource(ast) {
  return _escodegen2.default.generate(ast);
}

},{"escodegen":"escodegen","esprima":"esprima"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.traverse = traverse;

var _lodash = require('lodash');

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
// My estree traverse
// Pass in a path to the node instead of (node, parent).


// Copied from: https://github.com/estools/estraverse/blob/master/estraverse.js#L218
var VisitKeys = {
  AssignmentExpression: ['left', 'right'],
  AssignmentPattern: ['left', 'right'],
  ArrayExpression: ['elements'],
  ArrayPattern: ['elements'],
  ArrowFunctionExpression: ['params', 'body'],
  AwaitExpression: ['argument'], // CAUTION: It's deferred to ES7.
  BlockStatement: ['body'],
  BinaryExpression: ['left', 'right'],
  BreakStatement: ['label'],
  CallExpression: ['callee', 'arguments'],
  CatchClause: ['param', 'body'],
  ClassBody: ['body'],
  ClassDeclaration: ['id', 'superClass', 'body'],
  ClassExpression: ['id', 'superClass', 'body'],
  ComprehensionBlock: ['left', 'right'], // CAUTION: It's deferred to ES7.
  ComprehensionExpression: ['blocks', 'filter', 'body'], // CAUTION: It's deferred to ES7.
  ConditionalExpression: ['test', 'consequent', 'alternate'],
  ContinueStatement: ['label'],
  DebuggerStatement: [],
  DirectiveStatement: [],
  DoWhileStatement: ['body', 'test'],
  EmptyStatement: [],
  ExportAllDeclaration: ['source'],
  ExportDefaultDeclaration: ['declaration'],
  ExportNamedDeclaration: ['declaration', 'specifiers', 'source'],
  ExportSpecifier: ['exported', 'local'],
  ExpressionStatement: ['expression'],
  ForStatement: ['init', 'test', 'update', 'body'],
  ForInStatement: ['left', 'right', 'body'],
  ForOfStatement: ['left', 'right', 'body'],
  FunctionDeclaration: ['id', 'params', 'body'],
  FunctionExpression: ['id', 'params', 'body'],
  GeneratorExpression: ['blocks', 'filter', 'body'], // CAUTION: It's deferred to ES7.
  Identifier: [],
  IfStatement: ['test', 'consequent', 'alternate'],
  ImportDeclaration: ['specifiers', 'source'],
  ImportDefaultSpecifier: ['local'],
  ImportNamespaceSpecifier: ['local'],
  ImportSpecifier: ['imported', 'local'],
  Literal: [],
  LabeledStatement: ['label', 'body'],
  LogicalExpression: ['left', 'right'],
  MemberExpression: ['object', 'property'],
  MetaProperty: ['meta', 'property'],
  MethodDefinition: ['key', 'value'],
  ModuleSpecifier: [],
  NewExpression: ['callee', 'arguments'],
  ObjectExpression: ['properties'],
  ObjectPattern: ['properties'],
  Program: ['body'],
  Property: ['key', 'value'],
  RestElement: ['argument'],
  ReturnStatement: ['argument'],
  SequenceExpression: ['expressions'],
  SpreadElement: ['argument'],
  Super: [],
  SwitchStatement: ['discriminant', 'cases'],
  SwitchCase: ['test', 'consequent'],
  TaggedTemplateExpression: ['tag', 'quasi'],
  TemplateElement: [],
  TemplateLiteral: ['quasis', 'expressions'],
  ThisExpression: [],
  ThrowStatement: ['argument'],
  TryStatement: ['block', 'handler', 'finalizer'],
  UnaryExpression: ['argument'],
  UpdateExpression: ['argument'],
  VariableDeclaration: ['declarations'],
  VariableDeclarator: ['id', 'init'],
  WhileStatement: ['test', 'body'],
  WithStatement: ['object', 'body'],
  YieldExpression: ['argument']
};

function traverse(ast, _ref) {
  var _ref$enter = _ref.enter,
      enter = _ref$enter === undefined ? _lodash.noop : _ref$enter,
      _ref$leave = _ref.leave,
      leave = _ref$leave === undefined ? _lodash.noop : _ref$leave;

  function visit(thing, path) {
    if (Array.isArray(thing)) {
      visitArray(thing, path);
    } else {
      visitNode(thing, path);
    }
  }

  function visitNode(node, path) {
    var keys = VisitKeys[node.type];
    enter(node, path);
    (0, _lodash.forEach)(keys, function (key) {
      if (node[key]) {
        // Some node attributes can be null on a valid ast.
        visit(node[key], [].concat(_toConsumableArray(path), [key]));
      }
    });
    leave(node, path);
  }

  function visitArray(array, path) {
    (0, _lodash.forEach)(array, function (el, i) {
      visit(el, [].concat(_toConsumableArray(path), [i]));
    });
  }

  visit(ast, []);
}

},{"lodash":"lodash"}],20:[function(require,module,exports){
"use strict";

var idIndex = 0;

module.exports = {
	idGenerator: {
		next: function next() {
			idIndex += 1;
			return "$" + idIndex;
		}
	}
};

},{}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.selectCads = exports.clearCad = exports.runInCad = exports.resultsToCAD = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _primitives = require("../SceneGraph/primitives.js");

var _runningIdea = require("./running-idea.js");

var _saveTopLevelTransform = require("./Instrumentation/save-top-level-transform.js");

var _lodash = require("lodash");

var _lodash2 = _interopRequireDefault(_lodash);

var _three = require("three");

var _three2 = _interopRequireDefault(_three);

var _sequence = require("../SceneGraph/Predefs/sequence.js");

var _sequence2 = _interopRequireDefault(_sequence);

var _pointVectorMatrix = require("../SceneGraph/Predefs/point-vector-matrix.js");

var _random = require("../SceneGraph/Predefs/random.js");

var _random2 = _interopRequireDefault(_random);

var _math = require("../SceneGraph/Predefs/math.js");

var _math2 = _interopRequireDefault(_math);

var _functional = require("../SceneGraph/Predefs/functional.js");

var _functional2 = _interopRequireDefault(_functional);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function synchronousHttpRequest(url, params) {
	var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "POST";

	// prepare request
	var req = new XMLHttpRequest();
	req.open(method, url, false);
	req.setRequestHeader("Content-type", "application/json; charset=utf-8");
	req.send(JSON.stringify(params));
	return JSON.parse(req.response);
}

//
//function primitive(args)
//This code is called in a user's program to make a primitive's instance.
//
//function primitive.realize()
//This code is called to make another realization of the primitive's instance in the CAD.
//We do this because everything we call in the CAD will be displayed.


function isPrimitive(result) {
	return isSomething(result) && renderableFunctions[result[_primitives.PrimitiveProp]] !== undefined;
}
function isSomething(result) {
	return result !== undefined && result !== null;
}
//to-three -> to-cad
//to-cad(array) -> array.map(to-cad)
//to-cad(primitive) -> primitive.realize()
function resultsToCAD(results) {
	var cadRefs = [];
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = results[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var result = _step.value;

			cadRefs.push(toCAD(result));
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return { cadRefs: cadRefs };
}
function toCAD(result) {
	var cadRef = void 0;
	if (isPrimitive(result)) {
		cadRef = renderableFunctions[result[_primitives.PrimitiveProp]](result);
	} else if (Array.isArray(result)) {
		cadRef = arrayToCAD(result);
	} else {
		cadRef = nullCADObj();
	}
	return cadRef;
}
function nullCADObj() {
	return null;
}
function arrayToCAD(array) {
	return array.map(function (r) {
		return toCAD(r);
	});
}

var renderableFunctions = {
	cornersBox: cornersBox,
	centerSphere: centerSphere,
	centersCylinder: centersCylinder,
	rightCuboid: rightCuboid,
	coneFrustum: coneFrustumRealizer,
	polygon: polygonRealizer,
	extrusion: extrusionRealizer,
	move: move,
	rotate: rotateRealizer
};

function packPoint(p) {
	return [p.x, p.y, p.z];
}

function cornersBox(_ref) {
	var p1 = _ref.p1,
	    p2 = _ref.p2;

	return synchronousHttpRequest("corners-box", {
		p1: packPoint(p1),
		p2: packPoint(p2)
	});
}
function centerSphere(_ref2) {
	var center = _ref2.center,
	    radius = _ref2.radius;

	return synchronousHttpRequest("center-sphere", {
		center: packPoint(center),
		radius: radius
	});
}
function centersCylinder(_ref3) {
	var p1 = _ref3.p1,
	    p2 = _ref3.p2,
	    radius = _ref3.radius;

	return synchronousHttpRequest("centers-cylinder", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		radius: radius
	});
}
function rightCuboid(_ref4) {
	var p1 = _ref4.p1,
	    p2 = _ref4.p2,
	    width = _ref4.width,
	    height = _ref4.height;

	return synchronousHttpRequest("right-cuboid", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		width: width,
		height: height
	});
}
function coneFrustumRealizer(_ref5) {
	var p1 = _ref5.p1,
	    p2 = _ref5.p2,
	    radTop = _ref5.radTop,
	    radBot = _ref5.radBot;

	return synchronousHttpRequest("cone-frustum", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		radBot: radBot,
		radTop: radTop
	});
}
function polygonRealizer(_ref6) {
	var vertices = _ref6.vertices;

	return synchronousHttpRequest("polygon", {
		vertices: vertices.map(packPoint)
	});
}
function extrusionRealizer(_ref7) {
	var shape = _ref7.shape,
	    vec = _ref7.vec;

	return synchronousHttpRequest("extrusion", {
		shape: toCAD(shape),
		vec: packPoint(vec)
	});
}
function move(_ref8) {
	var shape = _ref8.shape,
	    vec = _ref8.vec;

	return synchronousHttpRequest("move", {
		shape: toCAD(shape),
		vec: packPoint(vec)
	});
}
function rotateRealizer(_ref9) {
	var shape = _ref9.shape,
	    ang = _ref9.ang,
	    p = _ref9.p,
	    vec = _ref9.vec;

	return synchronousHttpRequest("rotate", {
		shape: toCAD(shape),
		ang: ang,
		p: packPoint(p),
		vec: packPoint(vec)
	});
}

exports.resultsToCAD = resultsToCAD;


function centersCylinderPrimitive(p1, p2, radius) {
	var _ref10;

	return _ref10 = {}, _defineProperty(_ref10, _primitives.PrimitiveProp, "centersCylinder"), _defineProperty(_ref10, "p1", p1), _defineProperty(_ref10, "p2", p2), _defineProperty(_ref10, "radius", radius), _ref10;
}
function centerSpherePrimitive(center, radius) {
	var _ref11;

	return _ref11 = {}, _defineProperty(_ref11, _primitives.PrimitiveProp, "centerSphere"), _defineProperty(_ref11, "center", center), _defineProperty(_ref11, "radius", radius), _ref11;
}
function cornersBoxPrimitive(p1, p2) {
	var _ref12;

	return _ref12 = {}, _defineProperty(_ref12, _primitives.PrimitiveProp, "cornersBox"), _defineProperty(_ref12, "p1", p1), _defineProperty(_ref12, "p2", p2), _ref12;
}
function rightCuboidPrimitive(p1, width, height, p2) {
	var _ref13;

	return _ref13 = {}, _defineProperty(_ref13, _primitives.PrimitiveProp, "rightCuboid"), _defineProperty(_ref13, "p1", p1), _defineProperty(_ref13, "width", width), _defineProperty(_ref13, "height", height), _defineProperty(_ref13, "p2", p2), _ref13;
}
function coneFrustumPrimitive(p1, radBot, radTop, p2) {
	var _ref14;

	return _ref14 = {}, _defineProperty(_ref14, _primitives.PrimitiveProp, "coneFrustum"), _defineProperty(_ref14, "p1", p1), _defineProperty(_ref14, "radBot", radBot), _defineProperty(_ref14, "radTop", radTop), _defineProperty(_ref14, "p2", p2), _ref14;
}
function polygonPrimitive(verts) {
	var _ref15;

	return _ref15 = {}, _defineProperty(_ref15, _primitives.PrimitiveProp, "polygon"), _defineProperty(_ref15, "vertices", verts), _ref15;
}
function extrusionPrimitive(shape, vec) {
	var _ref16;

	return _ref16 = {}, _defineProperty(_ref16, _primitives.PrimitiveProp, "extrusion"), _defineProperty(_ref16, "shape", shape), _defineProperty(_ref16, "vec", vec), _ref16;
}
function translatePrimitive(shape, vec) {
	var _ref17;

	return _ref17 = {}, _defineProperty(_ref17, _primitives.PrimitiveProp, "move"), _defineProperty(_ref17, "shape", shape), _defineProperty(_ref17, "vec", vec), _ref17;
}
function rotatePrimitive(shape, ang, p, vec) {
	var _ref18;

	return _ref18 = {}, _defineProperty(_ref18, _primitives.PrimitiveProp, "rotate"), _defineProperty(_ref18, "shape", shape), _defineProperty(_ref18, "ang", ang), _defineProperty(_ref18, "p", p), _defineProperty(_ref18, "vec", vec), _ref18;
}

var cylinder = {};
cylinder.byCentersRadius = function (_ref19, radius) {
	var _ref20 = _slicedToArray(_ref19, 2),
	    c1 = _ref20[0],
	    c2 = _ref20[1];

	return centersCylinderPrimitive(c1, c2, radius);
};
cylinder.byBottomRadiusHeight = function (bottom, radius, height) {
	var top = _pointVectorMatrix.vector.add(bottom, _pointVectorMatrix.vector.byXYZ(0, 0, height));
	return centersCylinderPrimitive(bottom, top, radius);
};

var sphere = {};
sphere.byCenterRadius = function (center, radius) {
	return centerSpherePrimitive(center, radius);
};

var box = {};
box.byCorners = function (_ref21) {
	var _ref22 = _slicedToArray(_ref21, 2),
	    c1 = _ref22[0],
	    c2 = _ref22[1];

	return cornersBoxPrimitive(c1, c2);
};
box.byCornerXYZ = function (c, _ref23) {
	var _ref24 = _slicedToArray(_ref23, 3),
	    dx = _ref24[0],
	    dy = _ref24[1],
	    dz = _ref24[2];

	return cornersBoxPrimitive(c, _pointVectorMatrix.vector.add(c, _pointVectorMatrix.vector.byXYZ(dx, dy, dz)));
};
box.byBottomWidthHeightZ = function (p, _ref25, z) {
	var _ref26 = _slicedToArray(_ref25, 2),
	    width = _ref26[0],
	    height = _ref26[1];

	return rightCuboidPrimitive(p, width, height, _pointVectorMatrix.vector.add(p, _pointVectorMatrix.vector.byZ(z)));
};
box.byCentersWidthHeight = function (_ref27, _ref28) {
	var _ref30 = _slicedToArray(_ref27, 2),
	    c1 = _ref30[0],
	    c2 = _ref30[1];

	var _ref29 = _slicedToArray(_ref28, 2),
	    width = _ref29[0],
	    height = _ref29[1];

	return rightCuboidPrimitive(c1, width, height, c2);
};
box.byWidthHeightDepth = function (width, height, depth) {
	return rightCuboidPrimitive(_pointVectorMatrix.vector.byZ(-depth / 2.0), width, height, _pointVectorMatrix.vector.byZ(depth / 2.0));
};

var coneFrustum = {};
coneFrustum.byBottomTopRadiusesHeight = function (p, radBot, radTop, height) {
	return coneFrustumPrimitive(p, radBot, radTop, _pointVectorMatrix.point.add(p, _pointVectorMatrix.vector.byZ(height)));
};
coneFrustum.byBottomRadiusTopRadius = function (p1, r1, p2, r2) {
	return coneFrustumPrimitive(p1, r1, r2, p2);
};

var polygon = {};
polygon.surface = {};
polygon.surface.byVertices = function (verts) {
	return polygonPrimitive(verts);
};

var extrusion = {};
extrusion.bySurfaceVector = function (surf, vec) {
	return extrusionPrimitive(surf, vec);
};

var translate = function translate(object) {
	return {
		byVector: function byVector(vec) {
			return translatePrimitive(object, vec);
		},
		byXYZ: function byXYZ(x, y, z) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byXYZ(x, y, z));
		},
		byX: function byX(x) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byX(x));
		},
		byY: function byY(y) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byY(y));
		},
		byZ: function byZ(z) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byZ(z));
		}
	};
};
translate.byVector = function (vec) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, vec);
};
translate.byXYZ = function (x, y, z) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byXYZ(x, y, z));
};
translate.byX = function (x) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byX(x));
};
translate.byY = function (y) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byY(y));
};
translate.byZ = function (z) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byZ(z));
};

var origin = _pointVectorMatrix.vector.byZ(0);
var rotate = function rotate(object) {
	return {
		aroundAxisByAngle: function aroundAxisByAngle(axis, radians) {
			return rotatePrimitive(object, radians, axis.center, axis.vector);
		},
		aroundAxisVectorByAngle: function aroundAxisVectorByAngle(axisVector, radians) {
			return rotatePrimitive(object, radians, origin, axisVector);
		},
		aroundXByAngle: function aroundXByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byX(1));
		},
		aroundYByAngle: function aroundYByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byY(1));
		},
		aroundZByAngle: function aroundZByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byZ(1));
		},
		aligningAxes: function aligningAxes(fromAxis, toAxis) {
			var dot = fromAxis.dot(toAxis),
			    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
			    crossLength = cross.length();
			if (dot === 0.0) {
				return object;
			} else {
				return rotatePrimitive(object, Math.acos(dot), origin, cross.multiplyScalar(1 / crossLength));
			}
		}
	};
};
rotate.aroundAxisVectorByAngle = function (axis, radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, axis);
	};
};
rotate.aroundXByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byX(1));
	};
};
rotate.aroundYByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byY(1));
	};
};
rotate.aroundZByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byZ(1));
	};
};
rotate.aligningAxes = function (fromAxis, toAxis) {
	return function (object) {
		var dot = fromAxis.dot(toAxis),
		    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
		    crossLength = cross.length();
		if (dot === 0.0) {
			return object;
		} else {
			return rotatePrimitive(object, Math.acos(dot), origin, cross.multiplyScalar(1 / crossLength));
		}
	};
};

var predefinedBindings = [{ name: "sequence", value: _sequence2.default }, { name: "box", value: box }, { name: "cylinder", value: cylinder }, { name: "sphere", value: sphere }, { name: "coneFrustum", value: coneFrustum }, { name: "polygon", value: polygon }, { name: "extrusion", value: extrusion }, { name: "point", value: _pointVectorMatrix.point }, { name: "vector", value: _pointVectorMatrix.vector }, { name: "random", value: _random2.default }, { name: "math", value: _math2.default }, { name: "functional", value: _functional2.default }, { name: "translate", value: translate }, { name: "rotate", value: rotate }];

//
// Runner
//

function runInCad(program) {
	// use different predefined functions and primitives (primitives)
	var _runProgramPrime = (0, _runningIdea.runProgramPrime2)(program, [_saveTopLevelTransform.transform], predefinedBindings),
	    _runProgramPrime2 = _slicedToArray(_runProgramPrime, 1),
	    saveTopLevelContext = _runProgramPrime2[0];

	var results = saveTopLevelContext.topLevelExprResults.values();
	// execute the top-level results with the CAD API (to-three)

	var _resultsToCAD = resultsToCAD(results),
	    cadRefs = _resultsToCAD.cadRefs;
}

function clearCad() {
	synchronousHttpRequest("erase-all", {}, "GET");
}

function selectCads(cads) {
	synchronousHttpRequest("active-backends", {
		backends: cads
	}, "PUT");
}

exports.runInCad = runInCad;
exports.clearCad = clearCad;
exports.selectCads = selectCads;

},{"../SceneGraph/Predefs/functional.js":25,"../SceneGraph/Predefs/math.js":26,"../SceneGraph/Predefs/point-vector-matrix.js":27,"../SceneGraph/Predefs/random.js":28,"../SceneGraph/Predefs/sequence.js":29,"../SceneGraph/primitives.js":35,"./Instrumentation/save-top-level-transform.js":12,"./running-idea.js":24,"lodash":"lodash","three":"three"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getNodeResults = exports.getResultCreatorNode = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _nodeId = require('./Parsing/node-id.js');

var _getNodeById = require('./Parsing/getNodeById.js');

var _program = require('./Parsing/program.js');

// dependencies: run.withTraceability + Program

/*
  ========Run captured information:=============
  toplevelresults :: AstNode -> ProgramResult
  tracecall :: AstNode -> [CallTraceElement]
    CallTraceElement :: (AstNode, [ProgramResult], ProgramResult)
*/
/*
  I got a path to a specific use of a result. 
  path: [leaf, father, grandfather]
  I want to know which AstNode was the creator of the result closest to leaf.
  
  It is garantied to have been returned by a node, unless it is a 
predefined or primitive value.

  The path may contain results that were not returned by themselves 
but through their parents.
  We have to find the first result of path that was returned by a node.
  There may be several nodes that returned the result. We want to return
the first node that returned it.

  Javascript Map iteration follows insertion order. This leads to:
    - When iterating through traceabilityInfo.callTraces, we visit nodes 
  ordered by the first time they were executed. 
      - In a function call: arguments -> body -> return
    - Each node's callTraces are visited by criation/execution order.
*/
function getResultCreatorNode(resultInstance, path, traceabilityResults, program) {
  function returnerNodes(result) {
    var returnsResult = function returnsResult(_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          node = _ref2[0],
          callTraces = _ref2[1];

      return callTraces.some(function (c) {
        return c.result === result;
      });
    };
    var nodesCallTraces = Array.from(traceabilityResults.traceabilityInfo.callTraces.entries());
    return nodesCallTraces.filter(returnsResult).map(function (_ref3) {
      var _ref4 = _slicedToArray(_ref3, 2),
          node = _ref4[0],
          callTrace = _ref4[1];

      return (0, _getNodeById.getNodeById)(program, node);
    });
  }
  function wasReturnedByNode(result) {
    return returnerNodes(result).length !== 0;
  }
  //Find the first result of path that was returned nodes.
  //Return the first node that returned that result.
  //TODO FIXME Garanty that the returned node is actually the one that created the result.
  var currentResultIdx = 0;
  while (currentResultIdx < path.length) {
    var currentResult = path[currentResultIdx];
    var returners = returnerNodes(currentResult);
    if (returners.length !== 0) {
      return returners[0];
    }
    currentResultIdx++;
  }
  //Otherwise, default to the node that represent the whole program.
  return (0, _program.sourceToAst)(program);
}

function getNodeResults(node, path, traceabilityResults) {
  //TODO getNodeResults() -> Get results of more than call expressions.
  var nodeIdToCallTraces = traceabilityResults.traceabilityInfo.callTraces;
  var nodesWithResults = path.filter(function (node) {
    return nodeIdToCallTraces.has((0, _nodeId.nodeId)(node));
  });
  if (nodesWithResults.length > 0) {
    var callTracesOfFirst = nodeIdToCallTraces.get((0, _nodeId.nodeId)(nodesWithResults[0]));
    var resultsOfFirst = callTracesOfFirst.map(function (callTrace) {
      return callTrace.result;
    });
    return resultsOfFirst;
  } else {
    return [];
  }
}

exports.getResultCreatorNode = getResultCreatorNode;
exports.getNodeResults = getNodeResults;

},{"./Parsing/getNodeById.js":15,"./Parsing/node-id.js":16,"./Parsing/program.js":18}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.emptyResults = exports.ProgramResults = exports.runWithTraceability = exports.runNormally = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _runningIdea = require('./running-idea.js');

var _runningIdea2 = _interopRequireDefault(_runningIdea);

var _traceCallTransform = require('./Instrumentation/trace-call-transform.js');

var _saveTopLevelTransform = require('./Instrumentation/save-top-level-transform.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//
// TODO Increase cohesion of running programs. 
//	Ex: Don't return TransformRunningContexts. Return an adapter, or similar, that exposes only relevant information.
//

function runWithTraceability(program) {
	var _runProgram = (0, _runningIdea2.default)(program, [_saveTopLevelTransform.transform, _traceCallTransform.transform]),
	    _runProgram2 = _slicedToArray(_runProgram, 2),
	    results = _runProgram2[0],
	    traceabilityInfo = _runProgram2[1];

	return new ProgramResults(results, traceabilityInfo);
}

//
// Run just for results.
// The results of a program are the values of its top-level expressions.
//
function run(program) {
	var _runProgram3 = (0, _runningIdea2.default)(program, [_saveTopLevelTransform.transform]),
	    _runProgram4 = _slicedToArray(_runProgram3, 1),
	    results = _runProgram4[0];

	return new ProgramResults(results);
}

/**
	@constructor
 */
function ProgramResults(results, traceabilityInfo) {
	this.results = results;
	this.traceabilityInfo = traceabilityInfo;
}

exports.runNormally = run;
exports.runWithTraceability = runWithTraceability;
exports.ProgramResults = ProgramResults;
var emptyResults = exports.emptyResults = new ProgramResults({ topLevelExprResults: new Map() }, { callTraces: new Map() });

},{"./Instrumentation/save-top-level-transform.js":12,"./Instrumentation/trace-call-transform.js":13,"./running-idea.js":24}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.runProgramPrime2 = undefined;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _esprima = require('esprima');

var _esprima2 = _interopRequireDefault(_esprima);

var _estraverse = require('estraverse');

var _estraverse2 = _interopRequireDefault(_estraverse);

var _escodegen = require('escodegen');

var _escodegen2 = _interopRequireDefault(_escodegen);

var _astUtils = require('./Parsing/ast-utils.js');

var _program = require('./Parsing/program.js');

var _idGenerator = require('./id-generator.js');

var _primitives = require('../SceneGraph/primitives.js');

var _primitives2 = _interopRequireDefault(_primitives);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function generatePrimitiveImportCode(primitives) {
	return "var " + primitives.map(function (primitive, i) {
		return "" + primitive.name + "=" + "primitives[" + i + "].value";
	}).join(",") + ";\n";
}

//
// ***************
// Main function!!
// ***************
//
function runProgramPrime2(program, transforms) {
	var predefinedBindings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _primitives2.default;

	//
	// TODO: Map nodeIds to AstNodes.
	//       - Option 1: Convert nodeIds to AstNodes after running.
	//       - Option 2: Provide a function to get the AstNode when running the program.
	//       - Option 3: Provide a function and an array with AstNodes in preorder.
	// TODO: Handle runtime exceptions.
	//
	var programAst = _lodash2.default.cloneDeep((0, _program.sourceToAst)(program));

	//gather nodes affected by each transform
	var nodesToInstrument = new Map(transforms.map(function (t) {
		return [t, new Set()];
	}));
	transforms.forEach(function (t) {
		var transformSet = nodesToInstrument.get(t);
		_estraverse2.default.traverse(programAst, {
			enter: function enter(node, parent) {
				if (t.select(node, parent)) {
					transformSet.add(node);
				}
			}
		});
	});

	var contextIds = new Map(transforms.map(function (t) {
		return [t, "ctx_" + _idGenerator.idGenerator.next()];
	}));
	//apply transformations, passing contextId to each for access to their context
	transforms.forEach(function (t) {
		var transformSet = nodesToInstrument.get(t);
		_estraverse2.default.replace(programAst, {
			leave: function leave(node) {
				if (transformSet.has(node)) {
					return t.transform(node, contextIds.get(t));
				}
			}
		});
	});

	// generate program code
	var primitiveImportCode = generatePrimitiveImportCode(predefinedBindings);
	var instrumentedProgram = _escodegen2.default.generate(programAst);

	var body = primitiveImportCode + instrumentedProgram;

	//create contexts
	var contexts = transforms.map(function (t) {
		return t.makeContext();
	});
	var args = Array.from(contextIds.values()).concat("primitives");
	var programFunction = new Function(args, body);
	programFunction.apply(null, contexts.concat([predefinedBindings]));
	return contexts;
}

exports.default = runProgramPrime2;
exports.runProgramPrime2 = runProgramPrime2;

},{"../SceneGraph/primitives.js":35,"./Parsing/ast-utils.js":14,"./Parsing/program.js":18,"./id-generator.js":20,"escodegen":"escodegen","esprima":"esprima","estraverse":"estraverse","lodash":"lodash"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var functional = {};
functional.compose = function () {
  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {
    fns[_key] = arguments[_key];
  }

  return function () {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return fns.reduceRight(function (prev, fn) {
      return fn.apply(null, [prev]);
    }, args);
  };
};

/*
  @param {[boolean, thunk]} condPairs
*/
functional.cond = function cond(condPairs) {
  var i = 0;
  while (i < condPairs.length) {
    if (condPairs[i][0]) {
      return condPairs[i][1]();
    }
    i++;
  }
};

exports.default = functional;

},{}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var math = {};
math.lerp = function lerp(a, b, t) {
  return a + (b - a) * t;
};

exports.default = math;

},{}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.matrix = exports.point = exports.vector = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var matrix = {};
matrix.identity = new _three2.default.Matrix4();
matrix.translation = function (x, y, z) {
	return new _three2.default.Matrix4().makeTranslation(x, y, z);
};
matrix.rotation = function (axisVector, radians) {
	return new _three2.default.Matrix4().makeRotationAxis(axisVector, radians);
};
matrix.scaling = function (xFactor, yFactor, zFactor) {
	return new _three2.default.Matrix4().makeScale(xFactor, yFactor, zFactor);
};
matrix.multiply = function (m1, m2) {
	return m1.clone().multiply(m2);
};
matrix.basis = function (xVector, yVector, zVector) {
	var origin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : point.byXYZ(0, 0, 0);

	var tmp = new _three2.default.Matrix4();
	tmp.makeBasis(xVector, yVector, zVector);
	tmp.setPosition(origin);
	return tmp;
};
matrix.axisCosSinAngle = function (axisVector, cosAngle, sinAngle) {
	//Based on http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToMatrix/index.htm
	var a = axisVector,
	    c = cosAngle,
	    s = sinAngle;
	var t = 1.0 - c;

	var tmp1 = a.x * a.y * t,
	    tmp2 = a.z * s,
	    tmp3 = a.x * a.z * t,
	    tmp4 = a.y * s,
	    tmp5 = a.y * a.z * t,
	    tmp6 = a.x * s;

	var matr = new _three2.default.Matrix4();
	matr.set(c + a.x * a.x * t, tmp1 - tmp2, tmp3 + tmp4, 0.0, tmp1 + tmp2, c + a.y * a.y * t, tmp5 - tmp6, 0.0, tmp3 - tmp4, tmp5 + tmp6, c + a.z * a.z * t, 0.0, 0.0, 0.0, 0.0, 1.0);

	return matr;
};
matrix.alignFromAxisToAxis = function (fromAxis, toAxis) {
	var dot = fromAxis.dot(toAxis),
	    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
	    crossLength = cross.length();
	//TODO Improve vector colinearity check. Use approximate equality.
	var areColinear = crossLength === 0.0;
	if (areColinear) {
		var axis = new _three2.default.Vector4(1.0, 0.0, 0.0, 0.0);
		return dot < 0.0 ? matrix.axisCosSinAngle(axis, -1.0, 0.0) : matrix.axisCosSinAngle(axis, 1.0, 0.0);
	} else {
		var _axis = cross.clone().multiplyScalar(1.0 / crossLength);
		return matrix.axisCosSinAngle(_axis, dot, crossLength);
	}
};

var vector = {};
vector.byXYZ = function (x, y, z) {
	return new _three2.default.Vector4(x, y, z, 0.0);
};
vector.byXY = function (x, y) {
	return vector.byXYZ(x, y, 0);
};
vector.byYZ = function (y, z) {
	return vector.byXYZ(0, y, z);
};
vector.byX = function (x) {
	return vector.byXYZ(x, 0.0, 0.0);
};
vector.byY = function (y) {
	return vector.byXYZ(0.0, y, 0.0);
};
vector.byZ = function (z) {
	return vector.byXYZ(0.0, 0.0, z);
};
vector.byPolar = function (radius, theta) {
	return vector.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), 0);
};
vector.byCylindrical = function (radius, theta, height) {
	return vector.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), height);
};
vector.bySpherical = function (radius, azimuthAngle, polarAngle) {
	var sinPolar = Math.sin(polarAngle);
	return vector.byXYZ(radius * Math.cos(azimuthAngle) * sinPolar, radius * Math.sin(azimuthAngle) * sinPolar, radius * Math.cos(polarAngle));
};
vector.add = function (v1, v2) {
	return v1.clone().add(v2);
};
vector.sub = function (v1, v2) {
	return v1.clone().sub(v2);
};
vector.dot = function (v1, v2) {
	return v1.dot(v2);
};
vector.cross = function (v1, v2) {
	var vec3Result = new _three2.default.Vector3().crossVectors(v1, v2);
	return new _three2.default.Vector4(vec3Result.x, vec3Result.y, vec3Result.z, 0.0);
};
vector.scale = function (vec, scalar) {
	return vec.clone().multiplyScalar(scalar);
};
vector.length = function (vec) {
	return vec.length();
};
vector.normalized = function (vec) {
	return vec.clone().normalize();
};

var point = {};
point.byXYZ = function (x, y, z) {
	return new _three2.default.Vector4(x, y, z, 1.0);
};
point.byXY = function (x, y) {
	return point.byXYZ(x, y, 0);
};
point.byXZ = function (x, z) {
	return point.byXYZ(x, 0, z);
};
point.byYZ = function (y, z) {
	return point.byXYZ(0, y, z);
};
point.byX = function (x) {
	return point.byXYZ(x, 0.0, 0.0);
};
point.byY = function (y) {
	return point.byXYZ(0.0, y, 0.0);
};
point.byZ = function (z) {
	return point.byXYZ(0.0, 0.0, z);
};
point.byCylindrical = function (radius, theta, height) {
	return point.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), height);
};
point.bySpherical = function (radius, azimuthAngle, polarAngle) {
	var sinPolar = Math.sin(polarAngle);
	return point.byXYZ(radius * Math.cos(azimuthAngle) * sinPolar, radius * Math.sin(azimuthAngle) * sinPolar, radius * Math.cos(polarAngle));
};
point.x = function (pt) {
	return pt.x;
};
point.y = function (pt) {
	return pt.y;
};
point.z = function (pt) {
	return pt.z;
};
point.origin = function () {
	return point.byXYZ(0, 0, 0);
};
point.add = function (point, vec) {
	return point.clone().add(vec);
};
point.addX = function (pt, x) {
	return point.add(pt, vector.byXYZ(x, 0, 0));
};
point.addXZ = function (pt, x, z) {
	return point.add(pt, vector.byXYZ(x, 0, z));
};
point.addZ = function (pt, z) {
	return point.add(pt, vector.byXYZ(0, 0, z));
};
point.sub = function (p1, p2) {
	return p1.clone().sub(p2);
};
point.subZ = function (pt, z) {
	return point.sub(pt, vector.byXYZ(0, 0, z));
};
point.pointPlusVector = point.add;
point.pointMinusPoint = point.sub;

exports.vector = vector;
exports.point = point;
exports.matrix = matrix;

},{"three":"three"}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var random = {};
random.inRange = function (lower, upper) {
	return _lodash2.default.random(lower, upper);
};
random.integer = function (upper) {
	return _lodash2.default.random(Math.trunc(upper));
};
random.integer.inRange = function (lower, upper) {
	return _lodash2.default.random(Math.trunc(lower), Math.trunc(upper));
};
random.real = function (upper) {
	return _lodash2.default.random(upper, true);
};
random.real.inRange = function (lower, upper) {
	return _lodash2.default.random(lower, upper, true);
};

exports.default = random;

},{"lodash":"lodash"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var sequence = {};
sequence.map = function (fn, seq) {
	return seq.map(fn);
};
sequence.reduce = function (fn, seq, initialValue) {
	return seq.reduce(fn, initialValue);
};
/**
	Split the [start, end] interval into _divisions_ intervals.
	Take the starting values of each interval.
	If _last_ then take end value of last interval.
	@returns {Array} An array containing numbers spliting the interval
		[start,end] into _divisions_ equally sized parts, including _end_ if 
		_last_ is true.
*/
sequence.division = function (start, end, divisions) {
	var last = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

	var space = (end - start) / divisions;
	return sequence.count(last ? divisions + 1 : divisions).map(function (i) {
		return start + space * i;
	});
};
/**
	Same as division(a, b, n+1, true).
	@returns {Array} An array containing [a, evenlySpacedVals(n), b].
*/
sequence.cutInterval = function (a, b, n) {
	function cuts(times) {
		var spacing = (b - a) / (n + 1);
		return sequence.count(times).map(function (i) {
			return a + (i + 1) * spacing;
		});
	}

	return [a].concat(_toConsumableArray(cuts(n)), [b]);
};
/**
	Same as cutInterval but n includes _a_ and _b_, that is, cutInterval(a, b, n-2).
	Length of return is _n_.
	Same as division(a, b, n-1, true).
*/
sequence.intervalDivision = function (a, b, n) {
	//[x_1=start, ..., x_n=end]
	// a = 0, b = 10
	//  n = 0
	// []
	//  n = 1
	// [NaN]
	//  n = 2
	// [0, 10]
	//  n = 3
	// [0, 5, 10]
	var spacing = (b - a) / (n - 1);
	var res = [];
	for (var i = 0; i < n; i++) {
		res.push(a + i * spacing);
	}
	return res;
};
/**
	Same as intervalDivision except with n=1 -> [(a+b)*0.5].
*/
sequence.evenValsBetween = function (a, b, n) {
	if (n == 1) {
		return [a + (b - a) * 0.5];
	}

	return sequence.count(n).map(function (i) {
		return a + i * (b - a) / (n - 1);
	});
};
/**
	@returns {Array} An array containing the middle of all segments 
		from cutting [a, b] into _segs_ segments.
*/
sequence.intervalMiddles = function (a, b, segs) {
	var totalSpace = b - a;
	var segmentSpace = totalSpace / segs;
	var cutPosition = segmentSpace / 2;
	return sequence.count(segs).map(function (i) {
		return a + cutPosition + i * segmentSpace;
	});
};
sequence.count = function (n) {
	var arr = [];
	var i = 0;
	while (i < n) {
		arr.push(i);
		i++;
	}
	return arr;
};
sequence.zip = function () {
	for (var _len = arguments.length, lists = Array(_len), _key = 0; _key < _len; _key++) {
		lists[_key] = arguments[_key];
	}

	var smallerLength = Math.min.apply(Math, _toConsumableArray(lists.map(function (lst) {
		return lst.length;
	})));
	var arr = [];
	var i = 0;
	while (i < smallerLength) {
		arr.push(lists.map(function (lst) {
			return lst[i];
		}));
		i++;
	}
	return arr;
};
/**
	@returns {Array} An array containing all the tuples from applying
		the cartesian product to _lists_.
*/
sequence.cartesianProduct = function () {
	function cartAux() {
		for (var _len2 = arguments.length, lists = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			lists[_key2] = arguments[_key2];
		}

		if (lists.length > 1) {
			var _ret = function () {
				var lst = lists[0],
				    rest = lists.slice(1);

				var smallerCartProd = cartAux.apply(undefined, _toConsumableArray(rest));
				return {
					v: smallerCartProd.map(function (tuple) {
						return lst.map(function (el) {
							return [el].concat(_toConsumableArray(tuple));
						});
					}).reduce(function (prev, cur) {
						return [].concat(_toConsumableArray(cur), _toConsumableArray(prev));
					}, [])
				};
			}();

			if ((typeof _ret === "undefined" ? "undefined" : _typeof(_ret)) === "object") return _ret.v;
		} else {
			return lists[0].map(function (el) {
				return [el];
			});
		}
	}

	return cartAux.apply(undefined, arguments);
	/*
 // This code should be equivalent to the above when lsts.length === 2.
 var arr = [];
 for(let i=0; i<l1.length; i++) {
 	for(let j=0; j<l2.length; j++) {
 		arr.push([l1[i], l2[j]]);
 	}
 }
 return arr;
 */
};
sequence.rotate = function (lst, offset) {
	function posModulo(dividend, divisor) {
		return (dividend % divisor + divisor) % divisor;
	}
	var arr = [];
	for (var i = 0; i < lst.length; i++) {
		arr.push(lst[posModulo(i + offset, lst.length)]);
	}
	return arr;
};
sequence.rotateLeft = sequence.rotate;
sequence.repeatTimes = function (elem, n) {
	var i = 0;
	var arr = [];
	while (i < n) {
		arr.push(elem);
		i++;
	}
	return arr;
};
/**
	@returns {Array} An Array containing the elements of all _lists_
		following the order l1[0], ..., ln[0], ..., l1[m], ..., lk[m],
		where lk is the list before first list that lacks the mth element.
*/
sequence.interleave = function interleave() {
	var res = [];

	for (var _len3 = arguments.length, lists = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
		lists[_key3] = arguments[_key3];
	}

	var smallestLength = Math.min.apply(null, lists.map(function (lst) {
		return lst.length;
	}));
	for (var j = 0; j < smallestLength; j++) {
		for (var i = 0; i < lists.length; i++) {
			res.push(lists[i][j]);
		}
	}
	for (var _i = 0; lists[_i].length !== smallestLength; _i++) {
		res.push(lists[_i][smallestLength]);
	}
	return res;
};
sequence.concat = function () {
	var _ref;

	return (_ref = []).concat.apply(_ref, arguments);
};
sequence.length = function (lst) {
	return lst.length;
};
sequence.drop = function (lst, n) {
	return lst.slice(n);
};
sequence.dropRight = function (lst, n) {
	return lst.slice(0, lst.length - n);
};

exports.default = sequence;

},{}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _three = require('three');

function randomColor() {
  var c = new _three.Color();
  c.setHSL(Math.random(), 0.8, 0.5);
  return c;
}
function colorByHSL(hue, saturation, lightness) {
  var c = new _three.Color();
  c.setHSL(hue, saturation, lightness);
  return c;
}
var color = {};
color.random = randomColor;
color.hsl = colorByHSL;

exports.default = color;

},{"three":"three"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.surfaceMat = exports.solidMat = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var solidMat = exports.solidMat = new _three2.default.MeshPhongMaterial();
var surfaceMat = exports.surfaceMat = new _three2.default.MeshPhongMaterial();
surfaceMat.side = _three2.default.DoubleSide;

},{"three":"three"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.extrusion = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _lodash = require('lodash');

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _defaultMaterials = require('./default-materials.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// naive version:
//   assumes extrudable has vertices property
//   assumes surface extrudable (always closed)
//   assumes standard winding (CCW)
//   assumes convex extrudable

function boundarySection(vertices) {
  return { vertices: vertices };
}

function boundarySectionsFromBoundaryVertices(vertices) {
  // duplicar vertices para cada smooth group
  // em extruso poligonal todos os lados tm smooth group diferente
  // Note: Currenly only for a polygon surface.
  var sections = [];
  for (var sec = 0; sec < vertices.length; sec++) {
    sections.push(boundarySection([vertices[sec], vertices[(sec + 1) % vertices.length]]));
  }
  return sections;
}

function extrudableBoundary(extrudable) {
  var verts = extrudable.args.vertices;
  return {
    vertices: verts,
    sections: boundarySectionsFromBoundaryVertices(verts),
    addVector: function addVector(vector) {
      var newVertices = this.vertices.map(function (v) {
        return v.clone().add(vector);
      });
      return {
        vertices: newVertices,
        sections: boundarySectionsFromBoundaryVertices(newVertices),
        addVector: this.addVector
      };
    }
  };
}

function boundarySurfaceNormal(boundary) {
  var verts = boundary.vertices;
  var v0_1 = verts[1].clone().sub(verts[0]);
  var v0_2 = verts[2].clone().sub(verts[0]);
  return new _three2.default.Vector3().crossVectors(v0_1, v0_2);
}

function triangleFanFaces(vertexNum, reversed, offset) {
  var faces = [];
  for (var v0 = 0, v1 = v0 + 1, v2 = v0 + 2; v2 < vertexNum; v1++, v2++) {
    if (!reversed) {
      faces.push(new _three2.default.Face3(v0 + offset, v1 + offset, v2 + offset));
    } else {
      faces.push(new _three2.default.Face3(v0 + offset, v2 + offset, v1 + offset));
    }
  }
  return faces;
}

/*
    Generates array of THREE.Face3 for a quad strip connecting two separate
  line strips.
*/
function quadStripFaces(vertNum, reversed, offset1, offset2) {
  var faces = [];
  for (var quad = 0; quad < vertNum - 1; quad++) {
    var v1 = offset1 + quad,
        v2 = offset1 + quad + 1,
        v3 = offset2 + quad + 1,
        v4 = offset2 + quad;
    if (!reversed) {
      faces.push(new _three2.default.Face3(v1, v2, v3));
      faces.push(new _three2.default.Face3(v3, v4, v1));
    } else {
      faces.push(new _three2.default.Face3(v1, v3, v2));
      faces.push(new _three2.default.Face3(v3, v1, v4));
    }
  }
  return faces;
}

function extrusionGeometry(extrudable, displacement) {
  var geom = new _three2.default.Geometry();
  // set vertices
  var startBoundary = extrudableBoundary(extrudable);
  var endBoundary = startBoundary.addVector(displacement);
  var startVertices = startBoundary.vertices;
  var endVertices = endBoundary.vertices;
  var startSections = startBoundary.sections;
  var endSections = endBoundary.sections;
  var sectionPairs = (0, _lodash.zip)(startSections, endSections);
  var sectionPairVertices = sectionPairs.map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        s1 = _ref2[0],
        s2 = _ref2[1];

    return [].concat(_toConsumableArray(s1.vertices), _toConsumableArray(s2.vertices));
  });
  var allSectionVertices = (0, _lodash.flatten)(sectionPairVertices);

  geom.vertices = [].concat(_toConsumableArray(startVertices), _toConsumableArray(endVertices), _toConsumableArray(allSectionVertices));

  var startCapNormal = boundarySurfaceNormal(startBoundary);
  var startCapReversed = startCapNormal.dot(displacement) > 0;
  var startCapFaces = triangleFanFaces(startVertices.length, startCapReversed, 0);
  var endCapFaces = triangleFanFaces(endVertices.length, !startCapReversed, startVertices.length);

  var sectionPairStartingOffset = startVertices.length + endVertices.length;
  var sectionPairVerticeOffsets = sectionPairs.map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        s1 = _ref4[0],
        s2 = _ref4[1];

    return s1.vertices.length + s2.vertices.length;
  }).reduce(function (prev, curr) {
    return [].concat(_toConsumableArray(prev), [prev[prev.length - 1] + curr]);
  }, [sectionPairStartingOffset]); // this is a scan
  var sectionPairFaces = sectionPairs.map(function (_ref5, idx) {
    var _ref6 = _slicedToArray(_ref5, 2),
        s1 = _ref6[0],
        s2 = _ref6[1];

    var baseOffset = sectionPairVerticeOffsets[idx];
    return quadStripFaces(s1.vertices.length, !startCapReversed, baseOffset, baseOffset + s1.vertices.length);
  });
  var sideFaces = (0, _lodash.flatten)(sectionPairFaces);

  geom.faces = [].concat(_toConsumableArray(startCapFaces), _toConsumableArray(endCapFaces), _toConsumableArray(sideFaces));

  // compute normals
  geom.computeFaceNormals();
  geom.computeVertexNormals();
  // compute bounding sphere
  geom.computeBoundingSphere();
  return geom;
}

// extrude.surface
// extrude.path
function toThreeExtrusion(result) {
  var extrudable = result.args.extrudable;
  var displacement = result.args.displacement;
  var geom = extrusionGeometry(extrudable, displacement);
  var obj = new _three2.default.Mesh(geom, _defaultMaterials.solidMat);
  return obj;
}

exports.extrusion = toThreeExtrusion;

},{"./default-materials.js":31,"lodash":"lodash","three":"three"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeMatrixTransformedObject3D(matrix) {
	var object = new _three2.default.Object3D();
	object.matrixAutoUpdate = false;
	object.matrix = matrix;
	return object;
}

exports.default = makeMatrixTransformedObject3D;

},{"three":"three"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.polygonSurface = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _defaultMaterials = require('./default-materials.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// naive version:
//  assumes that a convex polygon is provided
//  assumes that all vertices are coplanar

function polygonSurfaceGeometry(vertices) {
  var geom = new _three2.default.Geometry();
  // set vertices
  geom.vertices = vertices;
  // set faces (GL_TRIANGLE_FAN)
  var v0 = 0;
  for (var v1 = 1, v2 = 2; v2 < vertices.length; v1++, v2++) {
    geom.faces.push(new _three2.default.Face3(v0, v1, v2));
  }
  // set normals
  geom.computeFaceNormals();
  geom.computeVertexNormals();
  // set bounding sphere
  geom.computeBoundingSphere();
  return geom;
}

function toThreePolygonSurface(result) {
  var vertices = result.args.vertices;
  var geom = polygonSurfaceGeometry(vertices);
  var obj = new _three2.default.Mesh(geom, _defaultMaterials.surfaceMat);
  return obj;
}

exports.polygonSurface = toThreePolygonSurface;

},{"./default-materials.js":31,"three":"three"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.PrimitiveProp = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _lodash = require("lodash");

var _lodash2 = _interopRequireDefault(_lodash);

var _pointVectorMatrix = require("./Predefs/point-vector-matrix.js");

var _sequence = require("./Predefs/sequence.js");

var _sequence2 = _interopRequireDefault(_sequence);

var _random = require("./Predefs/random.js");

var _random2 = _interopRequireDefault(_random);

var _functional = require("./Predefs/functional.js");

var _functional2 = _interopRequireDefault(_functional);

var _math = require("./Predefs/math.js");

var _math2 = _interopRequireDefault(_math);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//This file defines the set of primitives that programs written in the IDE can use.

//ASCII art font is Colossal
//Generated using http://patorjk.com/software/taag/

//- Provide mechanism
//- Declaration of placeholders for objects that are spawned later in to-three and to-cad
//- User program API specification
//   - points, vectors, translation, rotation
//   - APIs for creating objects


//8888888b.                           d8b      888          
//888   Y88b                          Y8P      888          
//888    888                                   888          
//888   d88P 888d888 .d88b.  888  888 888  .d88888  .d88b.  
//8888888P"  888P"  d88""88b 888  888 888 d88" 888 d8P  Y8b 
//888        888    888  888 Y88  88P 888 888  888 88888888 
//888        888    Y88..88P  Y8bd8P  888 Y88b 888 Y8b.     
//888        888     "Y88P"    Y88P   888  "Y88888  "Y8888  
//
//
//

var PrimitiveProp = Symbol("PrimitiveName");

var registry = {
	primitives: [],
	provide: function provide(name, value) {
		this.primitives.push({
			name: name,
			value: value
		});
	},
	defPrimitive: function defPrimitive(name, args) {
		return function () {
			var _ref;

			var realArguments = arguments;
			var callArgs = {};
			args.forEach(function (paramName, i) {
				callArgs[paramName] = i < realArguments.length ? realArguments[i] : undefined;
			});
			return _ref = {}, _defineProperty(_ref, PrimitiveProp, name), _defineProperty(_ref, "args", callArgs), _ref;
		};
	},
	defPrimitiveAndProvide: function defPrimitiveAndProvide(name, args) {
		var primitive = this.defPrimitive(name, args);
		this.provide(name, primitive);
		return primitive;
	}
};

exports.default = registry.primitives;
exports.PrimitiveProp = PrimitiveProp;

//No points when creating things
//Functional behavior


//888     888 d8b                              .d88888b.  888       d8b          
//888     888 Y8P                             d88P" "Y88b 888       Y8P          
//888     888                                 888     888 888                    
//Y88b   d88P 888  .d88b.  888  888  888      888     888 88888b.  8888 .d8888b  
// Y88b d88P  888 d8P  Y8b 888  888  888      888     888 888 "88b "888 88K      
//  Y88o88P   888 88888888 888  888  888      888     888 888  888  888 "Y8888b. 
//   Y888P    888 Y8b.     Y88b 888 d88P      Y88b. .d88P 888 d88P  888      X88 
//    Y8P     888  "Y8888   "Y8888888P"        "Y88888P"  88888P"   888  88888P' 
//                                                                  888          
//                                                                 d88P          
//                                                               888P"           


//TODO Define more primitives.
//primitives

var boxPrimitive = registry.defPrimitive("box", ["width", "height", "depth"]);
var spherePrimitive = registry.defPrimitive("sphere", ["radius"]);
var cylinderPrimitive = registry.defPrimitive("cylinder", ["radius", "height"]);
var rectanglePrimitive = registry.defPrimitive("rectangle", ["width", "height"]);
var polygonSurfacePrimitive = registry.defPrimitive("polygonSurface", ["vertices"]);
var extrusionPrimitive = registry.defPrimitive("extrusion", ["extrudable", "displacement"]);
var transformObjectPrimitive = registry.defPrimitiveAndProvide("transformObjectWith", ["object", "transform"]);
//registry.defPrimitiveAndProvide("cone", ["radius", "height"]);
var coneFrustumPrimitive = registry.defPrimitive("coneFrustum", ["bottomRadius", "topRadius", "height"]);
//registry.defPrimitiveAndProvide("regularPyramid", ["sides", "height"]);

//registry.defPrimitiveAndProvide("line", ["origin", "direction"]);
//registry.defPrimitiveAndProvide("polyline", ["coordinates", "closed"]);
//registry.defPrimitiveAndProvide("spline", ["coordinates", "closed"]);
//registry.defPrimitiveAndProvide("arc", ["radius", "angle"]);

//registry.defPrimitiveAndProvide("circle", ["radius"]);
//registry.defPrimitiveAndProvide("plane", ["origin", "normal"]);
//registry.defPrimitiveAndProvide("polygon", ["coordinates"]);
//registry.defPrimitiveAndProvide("regularPolygon", ["radius", "sides"]);


//8888888b.          d8b          888                         d8888          d8b          
//888   Y88b         Y8P          888                        d88888          Y8P          
//888    888                      888                       d88P888                       
//888   d88P .d88b.  888 88888b.  888888 .d8888b           d88P 888 888  888 888 .d8888b  
//8888888P" d88""88b 888 888 "88b 888    88K              d88P  888 `Y8bd8P' 888 88K      
//888       888  888 888 888  888 888    "Y8888b.        d88P   888   X88K   888 "Y8888b. 
//888       Y88..88P 888 888  888 Y88b.       X88       d8888888888 .d8""8b. 888      X88 
//888        "Y88P"  888 888  888  "Y888  88888P'      d88P     888 888  888 888  88888P' 
//                                                                                        
//                                                                                        
//                                                                                        

registry.provide("vector", _pointVectorMatrix.vector);
registry.provide("point", _pointVectorMatrix.point);
//TODO Check if all vector operations are implemented and available.


var axis = {};
axis.byPointVector = function (point, vec) {
	return {
		origin: point,
		vector: vec,
		direction: _pointVectorMatrix.vector.normalized(vec)
	};
};
axis.x = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 0, 0));
axis.y = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 1, 0));
axis.z = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 0, 1));
axis.xy = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 1, 0));
axis.xz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 0, 1));
axis.yz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 1, 1));
axis.xyz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 1, 1));
registry.provide("axis", axis);

// shapes                                 
// .d8888b.  888                                          
//d88P  Y88b 888                                          
//Y88b.      888                                          
// "Y888b.   88888b.   8888b.  88888b.   .d88b.  .d8888b  
//    "Y88b. 888 "88b     "88b 888 "88b d8P  Y8b 88K      
//      "888 888  888 .d888888 888  888 88888888 "Y8888b. 
//Y88b  d88P 888  888 888  888 888 d88P Y8b.          X88 
// "Y8888P"  888  888 "Y888888 88888P"   "Y8888   88888P' 
//                             888                        
//                             888                        
//                             888                        
var box = {};
box.byWidthHeightDepth = function (width, height, depth) {
	return boxPrimitive(width, height, depth);
};
box.byCentersAxes = function (_ref2, _ref3) {
	var _ref5 = _slicedToArray(_ref2, 2),
	    baseCenter = _ref5[0],
	    topCenter = _ref5[1];

	var _ref4 = _slicedToArray(_ref3, 2),
	    xVector = _ref4[0],
	    yVector = _ref4[1];

	var translateBaseToOrigin = _pointVectorMatrix.matrix.translation(0.0, 0.0, 0.5);

	var zVector = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var basisTransform = _pointVectorMatrix.matrix.basis(xVector, yVector, zVector);

	var translateToBaseCenter = _pointVectorMatrix.matrix.translation(baseCenter.x, baseCenter.y, baseCenter.z);

	var completeTransform = _pointVectorMatrix.matrix.multiply(translateToBaseCenter, _pointVectorMatrix.matrix.multiply(basisTransform, translateBaseToOrigin));
	//transform: move base to wanted base * apply basis * move base to origin

	return transformObjectPrimitive(boxPrimitive(1.0, 1.0, 1.0), completeTransform);
};
box.byCentersWidthHeight = function (_ref6, _ref7) {
	var _ref9 = _slicedToArray(_ref6, 2),
	    baseCenter = _ref9[0],
	    topCenter = _ref9[1];

	var _ref8 = _slicedToArray(_ref7, 2),
	    width = _ref8[0],
	    height = _ref8[1];

	function sphPhi(vec) {
		var x = vec.x,
		    y = vec.y;

		if (x == 0 && y == 0) {
			return 0;
		} else {
			return Math.atan2(y, x);
		}
	}

	var boxAxis = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var worldXAxis = _pointVectorMatrix.vector.byCylindrical(1, sphPhi(boxAxis) + Math.PI / 2, 0);
	var worldYAxis = _pointVectorMatrix.vector.normalized(_pointVectorMatrix.vector.cross(boxAxis, worldXAxis));
	//let worldZAxis = vector.normalized(boxAxis);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(baseCenter, _pointVectorMatrix.vector.scale(_pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter), 0.5));

	var transformation = _pointVectorMatrix.matrix.basis(worldXAxis, worldYAxis, boxAxis, midPoint);

	var box = boxPrimitive(width, height, 1.0);
	return transformObjectPrimitive(box, transformation);
};
box.byBottomWidthHeightZ = function (baseCenter, _ref10, z) {
	var _ref11 = _slicedToArray(_ref10, 2),
	    width = _ref11[0],
	    height = _ref11[1];

	var prim = boxPrimitive(width, height, z);
	var transform = _pointVectorMatrix.matrix.translation(baseCenter.x, baseCenter.y, baseCenter.z + z / 2.0);
	return transformObjectPrimitive(prim, transform);
};
box.byCorners = function (_ref12) {
	var _ref13 = _slicedToArray(_ref12, 2),
	    pt1 = _ref13[0],
	    pt2 = _ref13[1];

	var dimsVec = _pointVectorMatrix.point.sub(pt2, pt1);
	var box = boxPrimitive(Math.abs(dimsVec.x), Math.abs(dimsVec.y), Math.abs(dimsVec.z));
	var centerPt = _pointVectorMatrix.point.add(pt1, _pointVectorMatrix.vector.scale(dimsVec, 0.5));
	var transformation = _pointVectorMatrix.matrix.translation(centerPt.x, centerPt.y, centerPt.z);
	return transformObjectPrimitive(box, transformation);
};
box.byCornerXYZ = function (pt, _ref14) {
	var _ref15 = _slicedToArray(_ref14, 3),
	    x = _ref15[0],
	    y = _ref15[1],
	    z = _ref15[2];

	var p2 = _pointVectorMatrix.point.add(pt, _pointVectorMatrix.vector.byXYZ(x, y, z));
	return box.byCorners([pt, p2]);
};
registry.provide("box", box);

var sphere = {};
sphere.byRadius = function (radius) {
	return spherePrimitive(radius);
};
sphere.byCenterRadius = function (vec, radius) {
	var translation = _pointVectorMatrix.matrix.translation(vec.x, vec.y, vec.z);
	return transformObjectPrimitive(spherePrimitive(radius), translation);
};
registry.provide("sphere", sphere);

var cylinder = {};
cylinder.byRadiusHeight = function (radius, height) {
	return cylinderPrimitive(radius, height);
};
cylinder.byBottomRadiusHeight = function (bottom, radius, height) {
	var cylinder = cylinderPrimitive(radius, height);
	var transformation = _pointVectorMatrix.matrix.translation(bottom.x, bottom.y, bottom.z + height / 2.0);
	return transformObjectPrimitive(cylinder, transformation);
};
cylinder.byCentersRadius = function (_ref16, radius) {
	var _ref17 = _slicedToArray(_ref16, 2),
	    baseCenter = _ref17[0],
	    topCenter = _ref17[1];

	var cylinderAxis = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var worldZAxis = _pointVectorMatrix.vector.byXYZ(0.0, 0.0, 1.0);
	var orientAxisTransform = _pointVectorMatrix.matrix.alignFromAxisToAxis(worldZAxis, _pointVectorMatrix.vector.normalized(cylinderAxis));

	var worldOrigin = _pointVectorMatrix.point.byXYZ(0.0, 0.0, 0.0);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(baseCenter, _pointVectorMatrix.vector.scale(_pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter), 0.5));
	var translationVector = _pointVectorMatrix.point.pointMinusPoint(midPoint, worldOrigin);
	var translationTransform = _pointVectorMatrix.matrix.translation(translationVector.x, translationVector.y, translationVector.z);

	var transformation = _pointVectorMatrix.matrix.multiply(translationTransform, orientAxisTransform);
	var cylinder = cylinderPrimitive(radius, _pointVectorMatrix.vector.length(cylinderAxis));
	return transformObjectPrimitive(cylinder, transformation);
};
registry.provide("cylinder", cylinder);

var rectangle = {};
rectangle.surface = {};
rectangle.surface.byCornerWidthHeight = function (corner, _ref18) {
	var _ref19 = _slicedToArray(_ref18, 2),
	    width = _ref19[0],
	    height = _ref19[1];

	var rect = rectanglePrimitive(width, height);
	var transformation = _pointVectorMatrix.matrix.translation(width * 0.5 + corner.x, height * 0.5 + corner.y, corner.z);
	return transformObjectPrimitive(rect, transformation);
};
registry.provide("rectangle", rectangle);

var polygon = {};
polygon.surface = {};
polygon.surface.byVertices = function (vertices) {
	return polygonSurfacePrimitive(vertices);
};
registry.provide("polygon", polygon);

var extrusion = {};
extrusion.bySurfaceVector = function (surface, displacementVector) {
	return extrusionPrimitive(surface, displacementVector);
};
registry.provide("extrusion", extrusion);

var coneFrustum = {};
coneFrustum.byBottomRadiusTopRadius = function (bottom, botRadius, top, topRadius) {
	var bottomToTop = _pointVectorMatrix.vector.sub(top, bottom);
	var worldZAxis = _pointVectorMatrix.vector.byXYZ(0.0, 0.0, 1.0);
	var orientAxisTransform = _pointVectorMatrix.matrix.alignFromAxisToAxis(worldZAxis, _pointVectorMatrix.vector.normalized(bottomToTop));

	var worldOrigin = _pointVectorMatrix.point.byXYZ(0.0, 0.0, 0.0);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(bottom, _pointVectorMatrix.vector.scale(bottomToTop, 0.5));
	var translationVector = _pointVectorMatrix.point.pointMinusPoint(midPoint, worldOrigin);
	var translationTransform = _pointVectorMatrix.matrix.translation(translationVector.x, translationVector.y, translationVector.z);

	var transformation = _pointVectorMatrix.matrix.multiply(translationTransform, orientAxisTransform);

	var height = _pointVectorMatrix.vector.length(bottomToTop);
	var frustum = coneFrustumPrimitive(botRadius, topRadius, height);

	return transformObjectPrimitive(frustum, transformation);
};
coneFrustum.byRadiusesHeight = function (botRadius, topRadius, height) {
	return coneFrustumPrimitive(botRadius, topRadius, height);
};
coneFrustum.byBottomTopRadiusesHeight = function (bottom, botRadius, topRadius, height) {
	var transformation = _pointVectorMatrix.matrix.translation(bottom.x, bottom.y, bottom.z + height * 0.5);
	return transformObjectPrimitive(coneFrustumPrimitive(botRadius, topRadius, height), transformation);
};
registry.provide("coneFrustum", coneFrustum);

//88888888888                                 .d888                                        
//    888                                    d88P"                                         
//    888                                    888                                           
//    888  888d888 8888b.  88888b.  .d8888b  888888 .d88b.  888d888 88888b.d88b.  .d8888b  
//    888  888P"      "88b 888 "88b 88K      888   d88""88b 888P"   888 "888 "88b 88K      
//    888  888    .d888888 888  888 "Y8888b. 888   888  888 888     888  888  888 "Y8888b. 
//    888  888    888  888 888  888      X88 888   Y88..88P 888     888  888  888      X88 
//    888  888    "Y888888 888  888  88888P' 888    "Y88P"  888     888  888  888  88888P' 
//
//
//

//TODO Make shapes objects that can have methods.
//TODO Consider whether to extend shape objects with methods to transform them.
/*
shape.scale.uniform(scale)
shape.mirror.byPlane
*/

//TODO Add transform to rotate from one axis to other axis.
//TODO Make transforms functions that can be applied to objects.
var transform = {};
transform.translation = {};
transform.translation.byVector = function (vector) {
	return _pointVectorMatrix.matrix.translation(vector.x, vector.y, vector.z);
};
transform.rotation = {};
transform.rotation.aroundAxisByAngle = function (axis, radians) {
	var axisOrig = axis.origin;
	var axisToWorldOriginMatrix = _pointVectorMatrix.matrix.translation(-axisOrig.x, -axisOrig.y, -axisOrig.z);
	var rotationMatrix = _pointVectorMatrix.matrix.rotation(axis.vector, radians);
	var repositionAxisMatrix = _pointVectorMatrix.matrix.translation(axisOrig.x, axisOrig.y, axisOrig.z);
	return _pointVectorMatrix.matrix.multiply(repositionAxisMatrix, _pointVectorMatrix.matrix.multiply(rotationMatrix, axisToWorldOriginMatrix));
};
transform.rotation.aroundAxisVectorByAngle = function (axisVector, radians) {
	var normalizedAxis = axisVector.clone().normalize();
	return _pointVectorMatrix.matrix.rotation(normalizedAxis, radians);
};
transform.rotation.aroundXByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byX(1.0), radians);
};
transform.rotation.aroundYByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byY(1.0), radians);
};
transform.rotation.aroundZByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byZ(1.0), radians);
};
transform.scaling = {};
transform.scaling.byFactor = function (scaleFactor) {
	return _pointVectorMatrix.matrix.scaling(scaleFactor, scaleFactor, scaleFactor);
};
transform.compose = function (t1, t2) {
	return _pointVectorMatrix.matrix.multiply(t1, t2);
};
registry.provide("transform", transform);

function translateAux(object, vec) {
	return transformObjectPrimitive(object, transform.translation.byVector(vec));
}
var translate = function translate(object) {
	return {
		byVector: function byVector(vec) {
			return translateAux(object, vec);
		},
		byXYZ: function byXYZ(x, y, z) {
			return translateAux(object, _pointVectorMatrix.vector.byXYZ(x, y, z));
		},
		byX: function byX(x) {
			return translateAux(object, _pointVectorMatrix.vector.byX(x));
		},
		byY: function byY(y) {
			return translateAux(object, _pointVectorMatrix.vector.byY(y));
		},
		byZ: function byZ(z) {
			return translateAux(object, _pointVectorMatrix.vector.byZ(z));
		}
	};
};
translate.byVector = function (vec) {
	return _lodash2.default.partial(translateAux, _lodash2.default, vec);
};
translate.byXYZ = function (x, y, z) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byXYZ(x, y, z));
};
translate.byX = function (x) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byX(x));
};
translate.byY = function (y) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byY(y));
};
translate.byZ = function (z) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byZ(z));
};
registry.provide("translate", translate);

var rotate = function rotate(object) {
	return {
		aroundAxisByAngle: function aroundAxisByAngle(axis, radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundAxisByAngle(axis, radians));
		},
		aroundAxisVectorByAngle: function aroundAxisVectorByAngle(axis, radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundAxisVectorByAngle(axis, radians));
		},
		aroundXByAngle: function aroundXByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundXByAngle(radians));
		},
		aroundYByAngle: function aroundYByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundYByAngle(radians));
		},
		aroundZByAngle: function aroundZByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundZByAngle(radians));
		},
		aligningAxes: function aligningAxes(fromAxis, toAxis) {
			return transformObjectPrimitive(object, _pointVectorMatrix.matrix.alignFromAxisToAxis(fromAxis.direction, toAxis.direction));
		}
	};
};
rotate.aroundAxisVectorByAngle = function (axis, radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundAxisVectorByAngle(axis, radians));
	};
};
rotate.aroundXByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundXByAngle(radians));
	};
};
rotate.aroundYByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundYByAngle(radians));
	};
};
rotate.aroundZByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundZByAngle(radians));
	};
};
rotate.aligningAxes = function (fromAxis, toAxis) {
	return function (object) {
		return transformObjectPrimitive(object, _pointVectorMatrix.matrix.alignFromAxisToAxis(fromAxis.direction, toAxis.direction));
	};
};
registry.provide("rotate", rotate);

//888b     d888 d8b                   
//8888b   d8888 Y8P                   
//88888b.d88888                       
//888Y88888P888 888 .d8888b   .d8888b 
//888 Y888P 888 888 88K      d88P"    
//888  Y8P  888 888 "Y8888b. 888      
//888   "   888 888      X88 Y88b.    
//888       888 888  88888P'  "Y8888P 
//
//
//


registry.provide("sequence", _sequence2.default);

registry.provide("random", _random2.default);

registry.provide("functional", _functional2.default);

registry.provide("math", _math2.default);

},{"./Predefs/functional.js":25,"./Predefs/math.js":26,"./Predefs/point-vector-matrix.js":27,"./Predefs/random.js":28,"./Predefs/sequence.js":29,"lodash":"lodash"}],36:[function(require,module,exports){
'use strict';

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _primitives = require('./primitives.js');

var _makeMatrixTransformedObject3D = require('./makeMatrixTransformedObject3D.js');

var _makeMatrixTransformedObject3D2 = _interopRequireDefault(_makeMatrixTransformedObject3D);

var _defaultMaterials = require('./default-materials.js');

var _polygonSurface = require('./polygon-surface.js');

var _extrusion = require('./extrusion.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
	THREE representation generation code.
*/
function isRenderable(result) {
	return isPrimitive(result) || isArrayOfRenderables(result);
}

function isPrimitive(result) {
	return isSomething(result) && renderableFunctions[result[_primitives.PrimitiveProp]] !== undefined;
}

function isSomething(result) {
	return result !== undefined && result !== null;
}

function isArrayOfRenderables(result) {
	return Array.isArray(result) && result.every(isRenderable);
}

// The THREEObject generated for non-renderable results.
function nullThreeObj() {
	return new _three2.default.Object3D();
}

function resultToThree(result, callback) {
	var threeObj;
	if (isPrimitive(result)) {
		threeObj = renderableFunctions[result[_primitives.PrimitiveProp]](result, callback);
	} else if (Array.isArray(result)) {
		threeObj = arrayToThree(result, callback);
	} else {
		threeObj = nullThreeObj();
	}
	callback({ result: result, threeObj: threeObj });
	return threeObj;
}

function arrayToThree(array, callback) {
	var objs = array.map(function (r) {
		return resultToThree(r, callback);
	});
	var parent = new _three2.default.Object3D();
	if (objs.length !== 0) {
		parent.add.apply(parent, objs);
	}
	return parent;
}

var renderableFunctions = {
	sphere: sphere,
	cylinder: cylinder,
	box: box,
	rectangle: rectangle,
	transformObjectWith: transformObjectWith,
	polygonSurface: _polygonSurface.polygonSurface,
	extrusion: _extrusion.extrusion,
	coneFrustum: coneFrustum
};

// All geometries need to be rotated so that Z is their up axis.
// They are defined with Y as their up axis so they need to be rotated -pi/2 around X.
// This way Z becomes their up axis.
var yUpToZUpRotation = new _three2.default.Matrix4().makeRotationAxis(new _three2.default.Vector3(1.0, 0.0, 0.0), -Math.PI / 2.0);

var sphereGeom = new _three2.default.SphereGeometry(1, 32, 32);
sphereGeom.applyMatrix(yUpToZUpRotation);
function sphere(result, callback) {
	var radius = result.args.radius;
	var obj = new _three2.default.Mesh(sphereGeom, _defaultMaterials.solidMat);
	obj.scale.set(radius, radius, radius);
	return obj;
}
var cylinderGeom = new _three2.default.CylinderGeometry(1, 1, 1, 32);
cylinderGeom.applyMatrix(yUpToZUpRotation);
function cylinder(result, callback) {
	var radius = result.args.radius;
	var height = result.args.height;
	var obj = new _three2.default.Mesh(cylinderGeom, _defaultMaterials.solidMat);
	obj.scale.set(radius, radius, height);
	return obj;
}
var boxGeom = new _three2.default.BoxGeometry(1, 1, 1);
boxGeom.applyMatrix(yUpToZUpRotation);
function box(result, callback) {
	var width = result.args.width,
	    height = result.args.height,
	    depth = result.args.depth;
	var obj = new _three2.default.Mesh(boxGeom, _defaultMaterials.solidMat);
	obj.scale.set(width, height, depth);
	return obj;
}
var rectangleGeom = new _three2.default.PlaneGeometry(1, 1);
//rectangleGeom.applyMatrix(yUpToZUpRotation);
function rectangle(result, callback) {
	var width = result.args.width,
	    height = result.args.height;
	var obj = new _three2.default.Mesh(rectangleGeom, _defaultMaterials.surfaceMat);
	obj.scale.set(width, height, 1);
	return obj;
}
function transformObjectWith(result, callback) {
	var objToTransform = resultToThree(result.args.object, callback);
	var matrix = result.args.transform;
	var obj = (0, _makeMatrixTransformedObject3D2.default)(matrix);
	obj.add(objToTransform);
	return obj;
}
function coneFrustum(result, callback) {
	var _result$args = result.args,
	    bottomRadius = _result$args.bottomRadius,
	    topRadius = _result$args.topRadius,
	    height = _result$args.height;

	var geom = new _three2.default.CylinderGeometry(bottomRadius, topRadius, height, 32);
	var obj = new _three2.default.Mesh(geom, _defaultMaterials.solidMat);
	geom.applyMatrix(yUpToZUpRotation);
	return obj;
}

//
// 
//
function convertKeepingCorrespondence(resultsIterable) {

	var resultToTHREEObjects = new Map();
	var threeObjectToResult = new Map();
	function keepCorrespondence(_ref) {
		var result = _ref.result,
		    threeObj = _ref.threeObj;

		if (!resultToTHREEObjects.has(result)) {
			resultToTHREEObjects.set(result, []);
		}
		resultToTHREEObjects.get(result).push(threeObj);
		threeObjectToResult.set(threeObj, result);
	}

	var threeObjects = [];
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = resultsIterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var result = _step.value;

			var threeObj = resultToThree(result, keepCorrespondence);
			threeObjects.push(threeObj);
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return {
		threeObjects: threeObjects,
		resultToTHREEObjects: resultToTHREEObjects,
		threeObjectToResult: threeObjectToResult
	};
}

function convertNormally(resultsIterable) {
	var threeObjects = [];
	var _iteratorNormalCompletion2 = true;
	var _didIteratorError2 = false;
	var _iteratorError2 = undefined;

	try {
		for (var _iterator2 = resultsIterable[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
			var result = _step2.value;

			threeObjects.push(resultToThree(result, function (_ref2) {
				var result = _ref2.result,
				    threeObj = _ref2.threeObj;
			}));
		}
	} catch (err) {
		_didIteratorError2 = true;
		_iteratorError2 = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion2 && _iterator2.return) {
				_iterator2.return();
			}
		} finally {
			if (_didIteratorError2) {
				throw _iteratorError2;
			}
		}
	}

	return { threeObjects: threeObjects };
}

module.exports = {
	isRenderable: isRenderable,
	convert: {
		keepingCorrespondence: convertKeepingCorrespondence,
		normally: convertNormally
	}
};

},{"./default-materials.js":31,"./extrusion.js":32,"./makeMatrixTransformedObject3D.js":33,"./polygon-surface.js":34,"./primitives.js":35,"three":"three"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CurrentProgramEditor = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _generic = require('../ReactComponents/generic.jsx');

var _SuperEditor = require('../ReactComponents/SuperEditor.jsx');

var _SuperEditor2 = _interopRequireDefault(_SuperEditor);

var _actionsReducers = require('./actions-reducers.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProgramName = function ProgramName(_ref) {
  var name = _ref.name;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(
      'h1',
      null,
      name
    )
  );
};

var ProgramNameContainer = (0, _reactRedux.connect)(function (state) {
  return { name: state.activeProgram.name };
})(ProgramName);

var SuperEditorContainer = (0, _reactRedux.connect)(function (state) {
  return {
    program: state.activeProgram.program
  };
}, function (dispatch) {
  return {
    onProgramChange: function onProgramChange(program) {
      return dispatch((0, _actionsReducers.changeProgram)(program));
    }
  };
})(_SuperEditor2.default);

var CurrentProgramEditor = exports.CurrentProgramEditor = function CurrentProgramEditor() {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'div',
      { style: {} },
      _react2.default.createElement(ProgramNameContainer, null)
    ),
    _react2.default.createElement(
      'div',
      { style: { width: '100%', height: 'calc(100% - 3em)' } },
      _react2.default.createElement(SuperEditorContainer, null)
    )
  );
};

exports.default = CurrentProgramEditor;

},{"../ReactComponents/SuperEditor.jsx":8,"../ReactComponents/generic.jsx":11,"./actions-reducers.js":39,"react":"react","react-redux":"react-redux"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _components = require('./components.jsx');

var _components2 = _interopRequireDefault(_components);

var _CurrentProgramEditor = require('./CurrentProgramEditor.jsx');

var _CurrentProgramEditor2 = _interopRequireDefault(_CurrentProgramEditor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EditorPage = function EditorPage() {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'div',
      { style: {
          position: 'absolute',
          width: '80px',
          height: '100%',
          zIndex: '2' } },
      _react2.default.createElement(_components2.default, null)
    ),
    _react2.default.createElement(
      'div',
      { style: {
          position: 'absolute',
          left: '80px',
          width: 'calc(100% - 80px)',
          height: '100%',
          zIndex: '1' } },
      _react2.default.createElement(_CurrentProgramEditor2.default, null)
    )
  );
};

exports.default = EditorPage;

},{"./CurrentProgramEditor.jsx":37,"./components.jsx":41,"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setExportCads = setExportCads;
exports.doExportToCads = doExportToCads;
exports.doClearCads = doClearCads;
exports.createProgram = createProgram;
exports.selectProgram = selectProgram;
exports.changeProgram = changeProgram;

var _redux = require('redux');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

var _examples = require('../example-programs/examples.js');

var _runInCad = require('../Runner/run-in-cad.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var nullProgram = { name: 'untitled', program: '' };

// .d8888b.           888                   888                             
//d88P  Y88b          888                   888                             
//Y88b.               888                   888                             
// "Y888b.    .d88b.  888  .d88b.   .d8888b 888888 .d88b.  888d888 .d8888b  
//    "Y88b. d8P  Y8b 888 d8P  Y8b d88P"    888   d88""88b 888P"   88K      
//      "888 88888888 888 88888888 888      888   888  888 888     "Y8888b. 
//Y88b  d88P Y8b.     888 Y8b.     Y88b.    Y88b. Y88..88P 888          X88 
// "Y8888P"   "Y8888  888  "Y8888   "Y8888P  "Y888 "Y88P"  888      88888P' 
//                                                                          
//                                                                          
//                                                                          
function activeCads(state) {
  return state.exportCads;
}

//8888888888                                    888    
//888                                           888    
//888                                           888    
//8888888    888  888 88888b.   .d88b.  888d888 888888 
//888        `Y8bd8P' 888 "88b d88""88b 888P"   888    
//888          X88K   888  888 888  888 888     888    
//888        .d8""8b. 888 d88P Y88..88P 888     Y88b.  
//8888888888 888  888 88888P"   "Y88P"  888      "Y888 
//                    888                              
//                    888                              
//                    888                              

/**
  Actions
 */
var SET_EXPORT_CADS = 'SET_EXPORT_CADS';
var EXPORT_TO_CADS = 'EXPORT_TO_CADS';
var CLEAR_EXPORT_CADS = 'CLEAR_EXPORT_CADS';

var EXPORT_DONE = 'EXPORT_DONE'; // Not following the imperative mood...
var EXPORT_FAILED = 'EXPORT_FAILED';

/**
  Action creators
 */
function setExportCads(exportCads) {
  return {
    type: SET_EXPORT_CADS,
    exportCads: exportCads
  };
}

function exportToCads() {
  return {
    type: EXPORT_TO_CADS
  };
}

function clearCads() {
  return {
    type: CLEAR_EXPORT_CADS
  };
}

function doExportToCads() {
  return function (dispatch, getState) {
    dispatch(exportToCads());
    setTimeout(function () {
      try {
        (0, _runInCad.selectCads)(getState().exportCads);
        (0, _time2.default)("CAD export", function () {
          return (0, _runInCad.runInCad)(getState().activeProgram.program);
        });
        dispatch({
          type: EXPORT_DONE
        });
      } catch (e) {
        dispatch({
          type: EXPORT_FAILED,
          error: e
        });
      }
    }, 0);
  };
}

function doClearCads() {
  return function (dispatch, getState) {
    dispatch(clearCads());
    setTimeout(function () {
      try {
        (0, _runInCad.selectCads)(getState().exportCads);
        (0, _runInCad.clearCad)();
        dispatch({
          type: EXPORT_DONE
        });
      } catch (e) {
        dispatch({
          type: EXPORT_FAILED,
          error: e
        });
      }
    }, 0);
  };
}

/**
 Reducers 
 */
function availableCads() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['autocad', 'sketchup'];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    default:
      return state;
  }
}

function exportCads() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case SET_EXPORT_CADS:
      return action.exportCads;
    default:
      return state;
  }
}

function exportingToCAD() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case EXPORT_TO_CADS:
    case CLEAR_EXPORT_CADS:
      return true;
    case EXPORT_DONE:
    case EXPORT_FAILED:
      return false;
    default:
      return state;
  }
}

//8888888b.                                                                  
//888   Y88b                                                                 
//888    888                                                                 
//888   d88P 888d888 .d88b.   .d88b.  888d888 8888b.  88888b.d88b.  .d8888b  
//8888888P"  888P"  d88""88b d88P"88b 888P"      "88b 888 "888 "88b 88K      
//888        888    888  888 888  888 888    .d888888 888  888  888 "Y8888b. 
//888        888    Y88..88P Y88b 888 888    888  888 888  888  888      X88 
//888        888     "Y88P"   "Y88888 888    "Y888888 888  888  888  88888P' 
//                                888                                        
//                           Y8b d88P                                        
//                            "Y88P"                                         

/**
  Program management logic module.
 */

/**
  Actions
 */
var CREATE_PROGRAM = 'CREATE_PROGRAM';
var SAVE_PROGRAM = 'SAVE_PROGRAM';

var SELECT_PROGRAM = 'SELECT_PROGRAM'; // Change the active program
var CHANGE_PROGRAM = 'CHANGE_PROGRAM'; // Make a change to the program's source code

/**
  Action creators
 */
function createProgram(name) {
  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  return {
    type: CREATE_PROGRAM,
    name: name,
    source: source
  };
}

function selectProgram(name, program) {
  return {
    type: SELECT_PROGRAM,
    name: name,
    program: program
  };
}

function changeProgram(program) {
  return {
    type: CHANGE_PROGRAM,
    program: program
  };
}

/**
 Reducers 
 */
function programs() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _examples.examples;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    // Do program storage stuff.
    case CREATE_PROGRAM:
      return [{ name: action.name, program: action.source }].concat(_toConsumableArray(_examples.examples));
    case SAVE_PROGRAM:
      return [{ name: action.name, program: action.program }].concat(_toConsumableArray(state.filter(function (_ref) {
        var name = _ref.name;
        return name !== action.name;
      })));
    default:
      return state;
  }
}

function activeProgram() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : nullProgram;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case SELECT_PROGRAM:
      return {
        name: action.name,
        program: action.program
      };
    case CHANGE_PROGRAM:
      return {
        name: state.name,
        program: action.program
      };
    default:
      return state;
  }
}

//8888888888     888 d8b 888                    
//888            888 Y8P 888                    
//888            888     888                    
//8888888    .d88888 888 888888 .d88b.  888d888 
//888       d88" 888 888 888   d88""88b 888P"   
//888       888  888 888 888   888  888 888     
//888       Y88b 888 888 Y88b. Y88..88P 888     
//8888888888 "Y88888 888  "Y888 "Y88P"  888     
//                                              
//                                              
//                                              

/**
 Program editing logic.
 */

var REQUEST_PROGRAM_RUN = 'REQUEST_PROGRAM_RUN';
var PROGRAM_RUN_SUCCESS = 'PROGRAM_RUN_SUCCESS';
var PROGRAM_RUN_ERROR = 'PROGRAM_RUN_ERROR';
var PROGRAM_RUN_TIMEOUT = 'PROGRAM_RUN_TIMEOUT';

function runningStatus() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'idle';
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    // 
    default:
      return state;
  }
}

function activeProgramResults() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {

    default:
      return state;
  }
}

// .d8888b.                         888      8888888b.               888          
//d88P  Y88b                        888      888   Y88b              888          
//888    888                        888      888    888              888          
//888         .d88b.  88888b.d88b.  88888b.  888   d88P .d88b.   .d88888 888  888 
//888        d88""88b 888 "888 "88b 888 "88b 8888888P" d8P  Y8b d88" 888 888  888 
//888    888 888  888 888  888  888 888  888 888 T88b  88888888 888  888 888  888 
//Y88b  d88P Y88..88P 888  888  888 888 d88P 888  T88b Y8b.     Y88b 888 Y88b 888 
// "Y8888P"   "Y88P"  888  888  888 88888P"  888   T88b "Y8888   "Y88888  "Y88888 
//                                                                                
//                                                                                
//                                                                                

exports.default = (0, _redux.combineReducers)({
  availableCads: availableCads,
  exportCads: exportCads,
  exportingToCAD: exportingToCAD,
  programs: programs,
  activeProgram: activeProgram,
  activeProgramResults: activeProgramResults,
  runningStatus: runningStatus
});

},{"../Runner/run-in-cad.js":21,"../example-programs/examples.js":42,"../utils/time.js":44,"redux":"redux"}],40:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _redux = require('redux');

var _reactRedux = require('react-redux');

var _reduxThunk = require('redux-thunk');

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

var _reduxLogger = require('redux-logger');

var _reduxLogger2 = _interopRequireDefault(_reduxLogger);

var _actionsReducers = require('./actions-reducers.js');

var _actionsReducers2 = _interopRequireDefault(_actionsReducers);

var _EditorPage = require('./EditorPage.jsx');

var _EditorPage2 = _interopRequireDefault(_EditorPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var loggerMiddleware = (0, _reduxLogger2.default)();

var store = (0, _redux.createStore)(_actionsReducers2.default, (0, _redux.applyMiddleware)(_reduxThunk2.default, loggerMiddleware));

(0, _reactDom.render)(_react2.default.createElement(
  _reactRedux.Provider,
  { store: store },
  _react2.default.createElement(_EditorPage2.default, null)
), document.getElementById('container'));

},{"./EditorPage.jsx":38,"./actions-reducers.js":39,"react":"react","react-dom":"react-dom","react-redux":"react-redux","redux":"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _reactSelect = require('react-select');

var _reactSelect2 = _interopRequireDefault(_reactSelect);

var _generic = require('../ReactComponents/generic.jsx');

var _actionsReducers = require('./actions-reducers.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//8888888b.                                                          .d8888b.           888 
//888   Y88b                                                        d88P  Y88b          888 
//888    888                                                        Y88b.               888 
//888   d88P 888d888 .d88b.   .d88b.  888d888 8888b.  88888b.d88b.   "Y888b.    .d88b.  888 
//8888888P"  888P"  d88""88b d88P"88b 888P"      "88b 888 "888 "88b     "Y88b. d8P  Y8b 888 
//888        888    888  888 888  888 888    .d888888 888  888  888       "888 88888888 888 
//888        888    Y88..88P Y88b 888 888    888  888 888  888  888 Y88b  d88P Y8b.     888 
//888        888     "Y88P"   "Y88888 888    "Y888888 888  888  888  "Y8888P"   "Y8888  888 
//                                888                                                       
//                           Y8b d88P                                                       
//                            "Y88P"                                                        


var ProgramSelectionItem = function ProgramSelectionItem(_ref) {
  var program = _ref.program,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'p',
    { onClick: onClick },
    program.name
  );
};

var ProgramSelectionPanel = function ProgramSelectionPanel(_ref2) {
  var programs = _ref2.programs,
      onProgramClick = _ref2.onProgramClick;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'h3',
      null,
      'All Programs'
    ),
    programs.map(function (program) {
      return _react2.default.createElement(ProgramSelectionItem, {
        key: program.name,
        program: program,
        onClick: function onClick() {
          return onProgramClick(program);
        } });
    }),
    _react2.default.createElement(
      'h3',
      null,
      'Search'
    ),
    _react2.default.createElement(
      'h3',
      null,
      'Recent'
    ),
    _react2.default.createElement(
      'h3',
      null,
      'Examples'
    )
  );
};

var ProgramSelectionContainer = (0, _reactRedux.connect)(function (state) {
  return { programs: state.programs };
}, function (dispatch) {
  return { onProgramClick: function onProgramClick(program) {
      return dispatch((0, _actionsReducers.selectProgram)(program.name, program.program));
    } };
})(ProgramSelectionPanel);

// .d8888b.        d8888 8888888b.   .d8888b.           888 
//d88P  Y88b      d88888 888  "Y88b d88P  Y88b          888 
//888    888     d88P888 888    888 Y88b.               888 
//888           d88P 888 888    888  "Y888b.    .d88b.  888 
//888          d88P  888 888    888     "Y88b. d8P  Y8b 888 
//888    888  d88P   888 888    888       "888 88888888 888 
//Y88b  d88P d8888888888 888  .d88P Y88b  d88P Y8b.     888 
// "Y8888P" d88P     888 8888888P"   "Y8888P"   "Y8888  888 
//                                                          
//                                                          
//                                                          

var ActiveCadsSelector = function ActiveCadsSelector(_ref3) {
  var availableCads = _ref3.availableCads,
      activeCads = _ref3.activeCads,
      onActiveCadsChange = _ref3.onActiveCadsChange;
  return _react2.default.createElement(_reactSelect2.default, {
    multi: true,
    options: availableCads.map(function (cadName) {
      return { label: cadName, value: cadName };
    }),
    value: activeCads,
    onChange: function onChange(vals) {
      return onActiveCadsChange(vals ? vals.map(function (_ref4) {
        var value = _ref4.value;
        return value;
      }) : []);
    },
    placeholder: 'destination CADs'
  });
};

var RunInCadPanel = function RunInCadPanel(_ref5) {
  var availableCads = _ref5.availableCads,
      activeCads = _ref5.activeCads,
      onActiveCadsChange = _ref5.onActiveCadsChange,
      onRunInCadClicked = _ref5.onRunInCadClicked,
      onClearCadClicked = _ref5.onClearCadClicked;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'h3',
      null,
      'Export to CAD'
    ),
    _react2.default.createElement(ActiveCadsSelector, {
      activeCads: activeCads,
      availableCads: availableCads,
      onActiveCadsChange: onActiveCadsChange }),
    _react2.default.createElement(
      'button',
      { onClick: onRunInCadClicked },
      'Run in CAD'
    ),
    _react2.default.createElement(
      'button',
      { onClick: onClearCadClicked },
      'Clear CAD'
    )
  );
};

var RunInCadContainer = (0, _reactRedux.connect)(function (state) {
  return {
    availableCads: state.availableCads,
    activeCads: state.exportCads
  };
}, function (dispatch) {
  return {
    onActiveCadsChange: function onActiveCadsChange(activeCads) {
      return dispatch((0, _actionsReducers.setExportCads)(activeCads));
    },
    onRunInCadClicked: function onRunInCadClicked() {
      return dispatch((0, _actionsReducers.doExportToCads)());
    },
    onClearCadClicked: function onClearCadClicked() {
      return dispatch((0, _actionsReducers.doClearCads)());
    }
  };
})(RunInCadPanel);

// .d8888b.  d8b      888          8888888b.                            888 
//d88P  Y88b Y8P      888          888   Y88b                           888 
//Y88b.               888          888    888                           888 
// "Y888b.   888  .d88888  .d88b.  888   d88P 8888b.  88888b.   .d88b.  888 
//    "Y88b. 888 d88" 888 d8P  Y8b 8888888P"     "88b 888 "88b d8P  Y8b 888 
//      "888 888 888  888 88888888 888       .d888888 888  888 88888888 888 
//Y88b  d88P 888 Y88b 888 Y8b.     888       888  888 888  888 Y8b.     888 
// "Y8888P"  888  "Y88888  "Y8888  888       "Y888888 888  888  "Y8888  888 
//                                                                          
//                                                                          
//                                                                          

var topBarHeight = '80px';
var programSelectionIcon = 'icons/program-selection.svg';
var runInCadIcon = 'icons/run-in-cad.svg';

var SidePanel = function SidePanel(_ref6) {
  var onProgramSelectionIconClicked = _ref6.onProgramSelectionIconClicked,
      onRunInCadIconClicked = _ref6.onRunInCadIconClicked;
  return _react2.default.createElement(
    _generic.VerticalIconBar,
    null,
    _react2.default.createElement(_generic.Spacer, { width: '100%', height: topBarHeight }),
    _react2.default.createElement(_generic.IconButton, { icon: programSelectionIcon, onClick: onProgramSelectionIconClicked }),
    _react2.default.createElement(_generic.IconButton, { icon: runInCadIcon, onClick: onRunInCadIconClicked })
  );
};

var SidePanelDrawers = function SidePanelDrawers(_ref7) {
  var activePanel = _ref7.activePanel;
  return _react2.default.createElement(
    'div',
    { className: 'drawer-container' },
    _react2.default.createElement(
      _generic.Drawer,
      { open: activePanel === 'programSelection' },
      _react2.default.createElement(ProgramSelectionContainer, null)
    ),
    _react2.default.createElement(
      _generic.Drawer,
      { open: activePanel === 'runInCad' },
      _react2.default.createElement(RunInCadContainer, null)
    )
  );
};

var SidePanels = function (_React$Component) {
  _inherits(SidePanels, _React$Component);

  function SidePanels(props) {
    _classCallCheck(this, SidePanels);

    var _this = _possibleConstructorReturn(this, (SidePanels.__proto__ || Object.getPrototypeOf(SidePanels)).call(this, props));

    _this.state = {
      activePanel: null
    };
    return _this;
  }

  _createClass(SidePanels, [{
    key: 'toggleOrMakeActive',
    value: function toggleOrMakeActive(panel) {
      var activePanel = this.state.activePanel;

      this.setState({
        activePanel: activePanel === panel ? null : panel
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var activePanel = this.state.activePanel;

      var activateProgSelectPanel = function activateProgSelectPanel() {
        return _this2.toggleOrMakeActive('programSelection');
      };
      var activateRunInCadPanel = function activateRunInCadPanel() {
        return _this2.toggleOrMakeActive('runInCad');
      };
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(SidePanel, {
          onProgramSelectionIconClicked: activateProgSelectPanel,
          onRunInCadIconClicked: activateRunInCadPanel }),
        _react2.default.createElement(SidePanelDrawers, { activePanel: activePanel })
      );
    }
  }]);

  return SidePanels;
}(_react2.default.Component);

exports.default = SidePanels;

},{"../ReactComponents/generic.jsx":11,"./actions-reducers.js":39,"react":"react","react-redux":"react-redux","react-select":"react-select"}],42:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var exampleData = [["atomium.js", "\r\n\r\nconst {map, zip, concat, repeatTimes, rotateLeft} = sequence;\r\nconst xyz = point.byXYZ;\r\n\r\nfunction atomiumSpheres(cs, r) {\r\n\treturn map(c => sphere.byCenterRadius(c, r), cs);\r\n}\r\n\r\nfunction atomiumTubes(c0, upCs, downCs, r) {\r\n\treturn [\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(upCs, rotateLeft(upCs, 1))),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(downCs, rotateLeft(downCs, 1))),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(upCs, downCs)),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(repeatTimes(c0, 8), concat(upCs, downCs)))\r\n\t];\r\n}\r\n\r\nfunction atomiumTube(p1, p2, r) {\r\n\treturn cylinder.byCentersRadius([p1, p2], r);\r\n}\r\n\r\nfunction atomiumFrame(sphereR, frameW, tubeR) {\r\n\tlet c0 = xyz(0,0,0),\r\n\t\tc1 = xyz(-frameW, -frameW, +frameW),\r\n\t\tc2 = xyz(+frameW, -frameW, +frameW),\r\n\t\tc3 = xyz(+frameW, +frameW, +frameW),\r\n\t\tc4 = xyz(-frameW, +frameW, +frameW),\r\n\t\tc5 = xyz(-frameW, -frameW, -frameW),\r\n\t\tc6 = xyz(+frameW, -frameW, -frameW),\r\n\t\tc7 = xyz(+frameW, +frameW, -frameW),\r\n\t\tc8 = xyz(-frameW, +frameW, -frameW);\r\n\treturn [\r\n\t\tatomiumSpheres([c0,c1,c2,c3,c4,c5,c6,c7,c8], sphereR),\r\n\t\tatomiumTubes(c0, [c1,c2,c3,c4], [c5,c6,c7,c8], tubeR)\r\n\t];\r\n}\r\n\r\nfunction atomium(sphereR, frameW, tubeR) {\r\n\treturn rotate(atomiumFrame(sphereR, frameW, tubeR))\r\n\t\t.aligningAxes(axis.z, axis.xyz);\r\n}\r\n\r\natomium(9, 32, 1.5);\r\n\r\n"], ["edificio_carmo.js", "\r\nconst {map, cartesianProduct, division} = sequence;\r\n\r\nconst buildingLength = 90.600,\r\n  buildingWidth = 33.600,\r\n  buildingHeight = 13.500,\r\n  buildingFloors = 4,\r\n  slabHeight = 0.500,\r\n  columnWidth = 0.600,\r\n  barThickness = 0.200;\r\n\r\nfunction floorPlans() {\r\n  let slab = translate(\r\n    box.byWidthHeightDepth(buildingLength, buildingWidth, slabHeight)\r\n  ).byZ(slabHeight*0.5);\r\n  return map(translate(slab).byZ,\r\n    division(0, buildingHeight, buildingFloors));\r\n}\r\n\r\nfloorPlans();\r\n\r\nfunction columns(n, m) {\r\n  let column = translate(\r\n    box.byWidthHeightDepth(columnWidth, columnWidth, buildingHeight))\r\n    .byZ(buildingHeight*0.5);\r\n  let cols = map(\r\n    ([x,y])=>translate(column).byXYZ(x, y, 0),\r\n    cartesianProduct(\r\n      division(0, buildingLength - columnWidth, n),\r\n      division(0, buildingWidth - columnWidth, m)));\r\n  return translate(cols)\r\n    .byXYZ(\r\n      -(buildingLength - columnWidth)*0.5,\r\n      -(buildingWidth - columnWidth)*0.5,\r\n      0);\r\n}\r\n\r\ncolumns(11, 6);\r\n\r\nfunction facade(length, height, n, m) {\r\n  let elementLength = length/n,\r\n    elementHeight = height/m;\r\n  return map(\r\n    ([r, z])=>\r\n        translate(\r\n          facadeElement(elementLength, elementHeight,\r\n            2.000 + (1.000*Math.cos((z*(1.0/height)*2*Math.PI) + (r*(1.0/length)*4*Math.PI))))\r\n        ).byXYZ(r, 0, z + elementHeight/2.0),\r\n    cartesianProduct(\r\n      division(0, length - elementLength, n),\r\n      division(0, height - elementHeight, m)));\r\n}\r\n\r\nfunction facadeElement(width, height, dist) {\r\n  let e = height/2.0;\r\n  let p = point.byXYZ(0,0,0);\r\n  let b1, b2;\r\n  {\r\n    let p0 = p,\r\n      p1 = point.add(p, vector.byXYZ(width/2.0, -dist, 0));\r\n    let v = vector.normalized(point.sub(p1, p0));\r\n    let pa = point.add(p0, vector.scale(v, -e/2)),\r\n      pb = point.add(p1, vector.scale(v, e/2));\r\n    b1 = box.byCentersWidthHeight([pa, pb], [e, e]);\r\n  }\r\n  {\r\n    let p0 = point.add(p, vector.byXYZ(width, 0, e)),\r\n      p1 = point.add(p, vector.byXYZ(width/2.0, -dist, e));\r\n    let v = vector.normalized(point.sub(p1, p0));\r\n    let pa = point.add(p0, vector.scale(v, -e/2)),\r\n      pb = point.add(p1, vector.scale(v, e/2));\r\n    b2 = box.byCentersWidthHeight([pa, pb], [e, e]);\r\n  }\r\n  return [b1, b2];\r\n}\r\n\r\nfunction facades(length, width, height, n0, n1, m) {\r\n  function rotateMove(obj, vec, angle) {\r\n    return translate(rotate(obj).aroundZByAngle(angle)).byVector(vec);\r\n  }\r\n  return [\r\n    rotateMove(\r\n      facade(length, height, n0, m),\r\n      vector.byXYZ(-length/2, -width/2, 0),\r\n      0),\r\n    rotateMove(\r\n      facade(width, height, n1, m),\r\n      vector.byXYZ(length/2, -width/2, 0),\r\n      Math.PI/2),\r\n    rotateMove(\r\n      facade(length, height, n0, m),\r\n      vector.byXYZ(length/2, width/2, 0),\r\n      Math.PI),\r\n    rotateMove(\r\n      facade(width, height, n1, m),\r\n      vector.byXYZ(-length/2, width/2, 0),\r\n      3*Math.PI/2)\r\n  ];\r\n}\r\n\r\nfacades(buildingLength, buildingWidth, buildingHeight, 50, 20, 40);\r\n"], ["ex6_trelica_mobius.js", "\r\nconst {\r\n  map, reduce, zip, intervalDivision, \r\n  drop, dropRight, concat, interleave } = sequence;\r\n\r\nconst mapInInterval = (fn, a, b, n) =>\r\n  map(fn, intervalDivision(a, b, n));\r\nconst enumerateN = mapInInterval;\r\nconst enumerateMN = function(fn, u1, u2, m, v1, v2, n) {\r\n  return enumerateN((u) =>\r\n    enumerateN((v) => fn(u, v), v1, v2, n),\r\n    u1, u2, m);\r\n};\r\nconst distance = (p1, p2) => vector.length(point.pointMinusPoint(p2, p1));\r\n\r\n\r\n\r\nfunction trussKnots(pts, radius) {\r\n  return map((pt) => sphere.byCenterRadius(pt, radius), pts);\r\n}\r\n\r\nfunction trussBars(ps, qs, radius) {\r\n  return map(([p, q]) => cylinder.byCentersRadius([p, q], radius), zip(ps, qs));\r\n}\r\n\r\nfunction spatialTruss(curves, knotRadius, barRadius) {\r\n  let as = curves[0];\r\n  let bs = curves[1];\r\n  let cs = curves[2];\r\n\r\n  return [\r\n    trussKnots(as, knotRadius),\r\n    trussKnots(bs, knotRadius),\r\n    trussBars(as, cs, barRadius),\r\n    trussBars(bs, dropRight(as, 1), barRadius),\r\n    trussBars(bs, dropRight(cs, 1), barRadius),\r\n    trussBars(bs, drop(as, 1), barRadius),\r\n    trussBars(bs, drop(cs, 1), barRadius),\r\n    trussBars(drop(as, 1), dropRight(as, 1), barRadius),\r\n    trussBars(drop(bs, 1), dropRight(bs, 1), barRadius),\r\n    curves.length === 3 ?\r\n      [\r\n        trussKnots(cs, knotRadius),\r\n        trussBars(drop(cs, 1), dropRight(cs, 1), barRadius)\r\n      ]\r\n      : [\r\n        trussBars(bs, curves[3], barRadius),\r\n        spatialTruss(drop(curves, 2), knotRadius, barRadius)\r\n      ]\r\n  ];\r\n}\r\n\r\n\r\n\r\nfunction crossProducts(vecs) {\r\n  let crosses = map(([v1, v2]) => vector.cross(v1, v2),\r\n    zip(vecs, drop(vecs, 1)));\r\n  return reduce((vec, prev) => vector.add(vec, prev),\r\n    crosses, vector.byXYZ(0, 0, 0));\r\n}\r\n\r\nfunction polygonNormal(pts) {\r\n  let loopedPts = concat(pts, [pts[0]]);\r\n  let sideVecs = map(([p1, p2]) => point.pointMinusPoint(p2, p1),\r\n    zip(loopedPts, drop(loopedPts, 1)));\r\n  return vector.scale(\r\n    vector.normalized(\r\n      crossProducts(sideVecs)),\r\n    -1);\r\n}\r\n\r\nfunction midCoord(c1, c2) {\r\n  // This is an hack since c1 and c2 should be points.\r\n  // The result of vector.add will be (x,y,z,2) which is invalid.\r\n  // On top of computing the middle coordinates, vector.scale also corrects the invalid value.\r\n  return vector.scale(vector.add(c1, c2), 0.5);\r\n}\r\n\r\nfunction quadCenter(c1, c2, c3, c4) {\r\n  return midCoord(midCoord(c1, c2), midCoord(c3, c4));\r\n}\r\n\r\nfunction quadNormal(c1, c2, c3, c4) {\r\n  return polygonNormal([c1, c2, c3, c4]);\r\n}\r\n\r\nfunction quadPyramidApex(c1, c2, c3, c4) {\r\n  let h = (distance(c1, c2) + distance(c2, c3)\r\n    + distance(c3, c4) + distance(c4, c1))/(4*Math.sqrt(2));\r\n  return vector.add(\r\n    quadCenter(c1, c2, c3, c4),\r\n    vector.scale(quadNormal(c1, c2, c3, c4), h));\r\n}\r\n\r\nfunction insertPyramidApex2Curves(cs1, cs2) {\r\n  let pts1 = cs1,\r\n    pts2 = cs2,\r\n    pts3 = drop(cs2, 1),\r\n    pts4 = drop(cs1, 1);\r\n  return map(\r\n    ([p1, p2, p3, p4]) => quadPyramidApex(p1, p2, p3, p4),\r\n    zip(pts1, pts2, pts3, pts4));\r\n\r\n  /*\r\n  let res = [];\r\n  for (let baseIndex=0; baseIndex < cs1.length - 1; baseIndex += 1) {\r\n    res.push(\r\n      quadPyramidApex(\r\n          cs1[baseIndex],\r\n          cs2[baseIndex],\r\n          cs2[baseIndex+1],\r\n          cs1[baseIndex+1]));\r\n  }\r\n  return res;\r\n  */\r\n}\r\n\r\nfunction insertPyramidApexCurves(curves) {\r\n  let css1 = curves,\r\n    css2 = drop(curves, 1);\r\n  let apexess = map(\r\n    ([cs1, cs2]) => insertPyramidApex2Curves(cs1, cs2),\r\n    zip(css1, css2));\r\n  return interleave(css1, apexess);\r\n}\r\n\r\nfunction spatialTrussInsertApex(cs) {\r\n  let c1 = (cs[0])[0];\r\n  let c2 = (cs[1])[0];\r\n  let c4 = (cs[0])[1];\r\n\r\n  let d = Math.min(distance(c1, c2), distance(c1, c4));\r\n\r\n  let knotRadius = d/5;\r\n  let barRadius = d/15;\r\n\r\n  return spatialTruss(insertPyramidApexCurves(cs), knotRadius, barRadius);\r\n}\r\n\r\n\r\nconst cylindrical = vector.byCylindrical;\r\n\r\nfunction moebiusCs(r, u1, u2, m, v1, v2, n) {\r\n  return enumerateMN(function(u, v) {\r\n    return cylindrical(\r\n      r*(1 + (v*Math.cos(u/2))),//radius\r\n      u,//angle\r\n      r*(v*Math.sin(u/2)));//z\r\n  }, u1, u2, m, v1, v2, n);\r\n}\r\n\r\nfunction moebiusTruss(r, u1, u2, m, v1, v2, n) {\r\n  return spatialTrussInsertApex(moebiusCs(r, u1, u2, m, v1, v2, n));\r\n}\r\n\r\nmoebiusTruss(10, 0, Math.PI*4, 160, 0, 0.3, 10);\r\n\r\n\r\n\r\n\r\n\r\nconst add = vector.add;\r\nconst xyz = vector.byXYZ;\r\nconst spherical = vector.bySpherical;\r\nconst polar = vector.byPolar;\r\n\r\nfunction arcCs(p, r, phi, psi0, psi1, n) {\r\n  return map(psi => add(p, spherical(r, phi, psi)),\r\n    intervalDivision(psi0, psi1, n));\r\n}\r\n\r\nfunction arcTrussCs(p, apexR, baseR, phi, psi0, psi1, e, n) {\r\n  let dpsi = (psi1 - psi0)/n;\r\n  return [\r\n    arcCs(add(p, polar(e/2, phi + Math.PI/2)), apexR, phi, psi0, psi1, n),//base arc\r\n    arcCs(p, baseR, phi, psi0 + dpsi/2, psi1 - dpsi/2, n-1),//apex arc\r\n    arcCs(add(p, polar(e/2, phi - Math.PI/2)), apexR, phi, psi0, psi1, n)//base arc\r\n  ];\r\n}\r\n\r\nfunction arcTruss(p, apexR, baseR, phi, psi0, psi1, e, n) {\r\n  return spatialTruss(\r\n    arcTrussCs(p, apexR, baseR, phi, psi0, psi1, e, n), \r\n    0.3, 0.1);\r\n}\r\n\r\n\r\n//arcTruss(xyz(0,0,0), 10, 8, 0.0*Math.PI, -1.0*Math.PI/2, 1.0*Math.PI/2, 1.5, 10);\r\n\r\n\r\n\r\n\r\n\r\nfunction waveTrussCs(p, apexR, baseR, l, phi, psi0, psi1, dpsi, alpha0, alpha1, dAlpha, rAmpl) {\r\n  let n = Math.floor((psi1-psi0) / dpsi);\r\n  //caso final - ultimo arcCs\r\n  if(alpha0 >= alpha1) {\r\n    return [\r\n      arcCs(\r\n        add(p, polar(l/2.0, phi - Math.PI/2)), \r\n        apexR + rAmpl * Math.sin(alpha0),\r\n        phi, psi0, psi1, n\r\n      )\r\n    ];\r\n  } else {\r\n    return concat(\r\n      [\r\n        arcCs(\r\n          add(p, polar(l/2.0, phi - Math.PI/2)),\r\n          apexR + rAmpl * Math.sin(alpha0),\r\n          phi, psi0, psi1, n\r\n        ),\r\n        arcCs(\r\n          p, baseR + rAmpl * Math.sin(alpha0),\r\n          phi, psi0 + dpsi/2.0, psi1 - dpsi/2.0, n\r\n        )\r\n      ],\r\n      waveTrussCs(\r\n        add(p, polar(l, phi + Math.PI/2)),\r\n        apexR, baseR, l, phi, psi0, psi1, dpsi,\r\n        alpha0 + dAlpha, alpha1, dAlpha, rAmpl\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\nspatialTruss(\r\n  waveTrussCs(\r\n    xyz(0, 0, 0), 10, 8, 1.5, 0.0*Math.PI, \r\n    -1.0*Math.PI/2, 1.0*Math.PI/2, 0.1*Math.PI, \r\n    0.0*Math.PI, 2.0*Math.PI, 0.1*Math.PI, 4.0\r\n  ),\r\n  0.2, 0.1\r\n);\r\n*/\r\n\r\n\r\n\r\nconst {count} = sequence;\r\n\r\nfunction wavyCs(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl) {\r\n  return map(\r\n    ([i, alpha]) => arcCs(\r\n      add(p, polar(i*l, phi + Math.PI/2)), \r\n      baseR + rAmpl*Math.sin(alpha), phi, psi0, psi1, psiN\r\n    ),\r\n    zip(count(alphaN), intervalDivision(alpha0, alpha1, alphaN))\r\n  );\r\n}\r\n\r\nfunction wavyTruss(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl) {\r\n  return spatialTrussInsertApex(wavyCs(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl));\r\n}\r\n\r\n/*\r\nwavyTruss(xyz(0, 0, 0),\r\n  10, 1.5, 0.0*Math.PI,\r\n  -1.0*Math.PI/2, 1.0*Math.PI/2, 15,\r\n  0.0*Math.PI, 2.0*Math.PI, 30,\r\n  4.0);\r\n*/"], ["initialProgram.js", "\r\nfunction house(width, height, depth) {\r\n\treturn [\r\n\t\tbox.byWidthHeightDepth(width, height, depth), \r\n\t\tsphere.byCenterRadius(\r\n\t\t\tpoint.byXYZ(0.0, 0.0, height/2.0), \r\n\t\t\tMath.min(width, height)/2.0)\r\n\t];\r\n}\r\n\r\ntranslate(house(10, 20, 10)).byZ(30);\r\n\r\nvar c1 = cylinder.byRadiusHeight(2, 5);\r\nvar s1 = sphere.byRadius(5);\r\ntranslate.byZ(10)(s1);\r\nvar b1 = box.byWidthHeightDepth(4, 4, 4);\r\nvar s2 = sphere.byRadius(2.5);\r\nvar gr1 = [b1, s2];\r\ntranslate.byXYZ(10, 0, 10)(gr1);\r\nc1;\r\n20;\r\ntranslate.byY(4)(c1);\r\n\r\nvar side = 500;\r\nvar num = 5000;\r\nvar cyls = [];\r\nvar i = 0;\r\nwhile(i<num) {\r\n\tcyls.push(\r\n\t\ttranslate(cylinder.byRadiusHeight(2,2))\r\n\t\t\t.byXYZ(\r\n\t\t\t\tMath.random()*side - side*0.5, \r\n\t\t\t\tMath.random()*side - side*0.5, \r\n\t\t\t\tMath.random()*side - side*0.5));\r\n\ti++;\r\n}\r\ncyls;\r\n\r\n\r\nvar b3 = box.byWidthHeightDepth(5, 5, 5);\r\ntranslate(b3).byX(20);\r\ntranslate(b3).byY(30);\r\n"], ["ines-wall.js", "\r\n//;Medidas convertidas no REVIT\r\nconst cRevit = 1.93333;\r\nconst hRevit = 0.64444;\r\nconst eRevit = 0.322;\r\n\r\nfunction rightCuboid(bottom, width, height, z) {\r\n\tlet p = brickMovement(bottom);\r\n\tlet c1 = point.add(p, vector.byXY(-width / 2 , -height / 2 + 0.01));\r\n\tlet c2 = point.add(p, vector.byXYZ(width / 2, height / 2, z - 0.01));\r\n\treturn box.byCorners([c1, c2]);\r\n}\r\n\r\n\r\nconst j = 0;\r\nconst salienciaRevit = 0.062;\r\nfunction brickMovement(pt) {\r\n\treturn random.integer(4) === 0\r\n\t\t? point.add(pt, vector.byX(salienciaRevit))\r\n\t\t: pt;\r\n}\r\n\r\n//;FUNCAO QUE CRIA QUATRO TIJOLO PEQUENOS NO ESPAO DE 1 TIJOLO GRANDE (30x10cm)\r\nfunction brick4(p, lado, alt, e) {\r\n\tconst lado2 = (lado - j) / 2.0;\r\n\tconst alt2 = (alt - j) / 2.0;\r\n\tconst pp = point.add(p, vector.byXY(e / 2.0, lado2 / 2.0 + j));\r\n\tconst p1 = point.add(pp, vector.byY(lado2));\r\n\tconst p2 = point.add(pp, vector.byZ(alt2));\r\n\tconst p3 = point.add(pp, vector.byYZ(lado2, alt2));\r\n\treturn [\r\n\t\trightCuboid(pp, e, lado2, alt2),\r\n\t\trightCuboid(p1, e, lado2, alt2),\r\n\t\trightCuboid(p2, e, lado2, alt2),\r\n\t\trightCuboid(p3, e, lado2, alt2)\r\n\t];\r\n}\r\n\r\n//;FUNCOES QUE CRIAM SO TRES TIJOLOS PEQUENOS NO ESPAO DE UM GRANDE\r\nfunction brick3(p, lado, alt, e) {\r\n\tconst lado2 = (lado - j) / 2.0;\r\n\tconst alt2 = (alt - j) / 2.0;\r\n\tconst pp = point.add(p, vector.byXY(e / 2.0, lado2/2.0 + j));\r\n\tconst p1 = point.add(pp, vector.byY(lado2));\r\n\t//const p2 = point.add(pp, vector.byZ(alt2));\r\n\tconst p3 = point.add(pp, vector.byYZ(lado2, alt2));\r\n\treturn [\r\n\t\trightCuboid(pp, e, lado2, alt2),\r\n\t\trightCuboid(p1, e, lado2, alt2),\r\n\t\trightCuboid(p3, e, lado2, alt2)\r\n\t];\r\n}\r\n\r\n//;FACHADA NORTE\r\n//;DIMENSOES\r\nconst length = 12.8;\r\nconst height = 10.8;\r\n//;;DIMENSOES BRICKS\r\nconst cBrick = 0.6;//;largura dos tijolos grandes\r\nconst hBrick = 0.2;//;altura dos tijolos grandes\r\nconst eBrick = 0.03;//;espessura dos tijolos\r\nconst nBricks = 21;//;numero em x\r\nconst mBricks = 54;//;numero em z\r\n//;;FATORES DENSIDADE\r\nconst r50 = 2;//;para as zonas de opacidade 100%\r\nconst r100 = 4;\r\n\r\n//;ZONA OPACA 100%\r\n//;0m-3m dos 12.6m-17.4m e dos 25.8m-28.8m\r\nconst a1P = 5 / cBrick;\r\n\r\n//;ZONA OPACIDADE 80%\r\n//;dos 3-6.6m dos 9.6-12.6m dos 17.4-20.4m dos22.8-25.8m\r\nconst b0P = 7.2 / cBrick;\r\nconst b1P = 8.4 / cBrick;\r\nconst b2P = 10.2 / cBrick;\r\nconst b3P = 11.4 / cBrick;\r\n\r\n//;FUNO PARA FAZER A PRIMEIRA E ULTIMA FILEIRA DA FACHADA\r\nfunction rectExt(p, lado, alt, e, n) {\r\n\tconst pts = sequence.map(\r\n\t\ti => point.add(p, vector.byY(lado * i)),\r\n\t\tsequence.count(n));\r\n\treturn sequence.map(p => brick4(p, lado, alt, e), pts);\r\n}\r\n\r\n\r\nfunction rect(p, lado, alt, e, n) {\r\n\tconst lado1 = lado - j;\r\n\tconst alt1 = alt - j;\r\n\tconst pp = point.add(p, vector.byXY(e/2.0, (j + lado)/2.0));\r\n\tconst nextPoint = point.add(p, vector.byY(lado));\r\n\tif (n === 0) {\r\n\t\treturn [];\r\n\t} else if (n < a1P) {\r\n\t\treturn random.inRange(0, r50) < 1 \r\n\t\t\t? [\r\n\t\t\t\trightCuboid(pp, e, lado1, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t] \r\n\t\t\t: random.inRange(0, 6) < 1\r\n\t\t\t\t? [\r\n\t\t\t\t\tbrick3(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t]\r\n\t\t\t\t: [\r\n\t\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t];\r\n\t} else if ((n >= b0P && n <= b1P) || (n >= b2P && n <= b3P)) {\r\n\t\treturn random.inRange(0, r100) < 1\r\n\t\t\t? [\r\n\t\t\t\trightCuboid(pp, e, lado1, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t]\r\n\t\t\t: random.inRange(0, 6) <= 4\r\n\t\t\t\t? [\r\n\t\t\t\t\tbrick3(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t]\r\n\t\t\t\t: [\r\n\t\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t];\r\n\t} else {\r\n\t\treturn random.inRange(0, r50) < 1\r\n\t\t\t? [\r\n\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t]\r\n\t\t\t: [\r\n\t\t\t\trightCuboid(pp, e, lado, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t];\r\n\t}\r\n}\r\n\r\n\r\nfunction rects(p, lado, alt, e, n, m, mMax) {\r\n\tif (m === 1) {\r\n\t\treturn rectExt(p, lado, alt, e, n);\r\n\t} else if (m === mMax) {\r\n\t\treturn [\r\n\t\t\trectExt(p, lado, alt, e, n),\r\n\t\t\trects(point.add(p, vector.byZ(alt)), lado, alt, e, n, m-1, mMax)\r\n\t\t];\r\n\t} else {\r\n\t\treturn [\r\n\t\t\trect(p, lado, alt, e, n),\r\n\t\t\trects(point.add(p, vector.byZ(alt)), lado, alt, e, n, m-1, mMax)\r\n\t\t];\r\n\t}\r\n}\r\n\r\n\r\nrects(point.byZ(0), cRevit, hRevit, eRevit, nBricks, mBricks, mBricks);\r\n"], ["nolan-facade.js", "\r\n//nolan facade\r\n\r\nconst lQuads = 1, //aresta dos quadrados\r\n\tm = lQuads/5, //margens laterais dos paineis\r\n\ti = lQuads/10, //margens entre quadrados\r\n\tnQuad = 30, //numero de quadrados\r\n\twidth = m + m +  3*i + 4*lQuads, //altura dos paineis\r\n\theight = nQuad*lQuads + (nQuad - 1)*i; //largura de cada painel\r\n\r\nconst surfaceRectangle = rectangle.surface.byCornerWidthHeight;\r\nconst zAxisAt = pt => axis.byPointVector(pt, vector.byZ(1));\r\nconst yAxisAt = pt => axis.byPointVector(pt, vector.byY(1));\r\n\r\nfunction nolanFaixa(p, n, l, angMax) {\r\n  const freq = 0.06, //Se for > que 0.07 a rotao  comea-se a notar a 1/2 dos paineis.Caso seja < nota-se antes do meio\r\n        a = Math.min(0,\r\n               Math.max(-Math.PI/2,\r\n                    -angMax * Math.sin(Math.PI/2 - freq*n))),\r\n        p1 = point.add(p, vector.byX(m)),\r\n        p11 = point.add(p, vector.byXY(m, l)),\r\n        p2 = point.add(p1, vector.byX(l + i)),\r\n        p3 = point.add(p2, vector.byX(l + i)),\r\n        p4 = point.add(p3, vector.byX(l + i));\r\n    return n === 0\r\n        ? []\r\n        : [\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p1, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p1), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p1, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p2, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p2), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p2, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p3, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p3), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p3, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p4, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p4), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p4, vector.byXY(l/2, l /2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\tnolanFaixa(point.add(p, vector.byY(l+i)), n-1, l, angMax)\r\n\t\t];\r\n}\r\n\r\nfunction nolanPainel(p, n, l, angMax) {\r\n\treturn [\r\n\t\tbox.byCorners([p, point.add(p, vector.byXYZ(width, height, -width))]),\r\n\t\tnolanFaixa(p, n, l, angMax)\r\n\t];\r\n}\r\n\r\n\r\nfunction nolanPattern(p, n, nFaixas, l, angMax) {\r\n\tconst d = l/2,\r\n\t\tampSinusoide = 0.01, //amplitude varies between 0.01 and 0.15\r\n\t\tfreqSinusoide = 0.5,\r\n  \t\taSinusoide = ampSinusoide + ampSinusoide*Math.sin(freqSinusoide*nFaixas);\r\n    return nFaixas === 0\r\n        ? []\r\n        : [\r\n\t\t\trotate(nolanPainel(p, n, l, angMax))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\taxis.byPointVector(p, vector.byX(1)), \r\n\t\t\t\t\taSinusoide),\r\n\t\t\tnolanPattern(point.add(p, vector.byX(width + d)), n, nFaixas - 1, l, angMax)\r\n        ];\r\n}\r\n\r\n\r\nrotate(nolanPattern(point.byXYZ(0, 0, 0), nQuad, 25, lQuads, Math.PI/6))\r\n\t.aroundAxisByAngle(\r\n\t\taxis.byPointVector(point.byXYZ(0,0,0), vector.byX(1)), \r\n\t\tMath.PI/2);\r\n"], ["sheung-wan-hotel-v3.js", "\r\nconst {cond} = functional;\r\n\r\n/*\r\n  @param {List<List<a>>} divisions\r\n  @returns \r\n  @example\r\n  mapDivisions(identity, [0, 1, 2])\r\n  -> [[0], [1], [2]]\r\n  mapDivisions(identity, [[0, 1, 2], [3, 4, 5]])\r\n  -> [[[0,3], [0,4], [0,5]], \r\n      [[1,3], [1,4], [1,5]],\r\n      [[2,3], [2,4], [2,5]]]\r\n  mapDivisions(identity, [[0], [1, 2, 3], [4, 5, 6]])\r\n  -> [[[[0, 1, 4], [0, 1, 5], [0, 1, 6]],\r\n       [[0, 1, 4], [0, 1, 5], [0, 1, 6]],\r\n       [[0, 1, 4], [0, 1, 5], [0, 1, 6]]]]\r\n*/\r\nfunction mapDivisions(fn, divisions) {\r\n  if (divisions.length === 1) {\r\n    return sequence.map(fn, divisions[0]);\r\n  } else {\r\n    return sequence.map(\r\n      el => mapDivisions(fn.bind(null, el), sequence.drop(divisions, 1)), \r\n      divisions[0]);\r\n  }\r\n}\r\n\r\n/*\r\n  @param {List<List<Point>>} pointGrid\r\n  @param {(Point, Point, Point, Point) -> a} fn\r\n  @returns {List<List<a>>} lists of results of each quad strip of pointGrid\r\n*/\r\nfunction iteraQuads(fn, pointGrid) {\r\n  let quadStrips = sequence.zip(pointGrid, sequence.drop(pointGrid, 1));\r\n  return sequence.map(([pts0, pts1]) => \r\n    sequence.map(\r\n      ([p1, p2, p3, p4]) => fn(p1, p2, p3, p4),\r\n      sequence.zip(\r\n        pts0, \r\n        pts1, \r\n        sequence.drop(pts1, 1), \r\n        sequence.drop(pts0, 1))),\r\n    quadStrips);\r\n}\r\n\r\n// Point lerp.\r\nfunction intermediatePoint(p0, p1, f) {\r\n  return point.add(p0, vector.scale(point.sub(p1, p0), f));\r\n}\r\n\r\n// Paralelogram area by three points.\r\nfunction area(p0, p1, p3) {\r\n  let p0To1 = point.sub(p1, p0);\r\n  let p0To3 = point.sub(p3, p0);\r\n  return vector.length(vector.cross(p0To1, p0To3));\r\n}\r\n\r\nconst r1 = 0.1,\r\n  r2 = 0.6,\r\n  r = 0.7,\r\n  h = 75,\r\n  l = 20;\r\nfunction sub(p0, p1, p2, p3) {\r\n  let f1 = random.inRange(0.2, 0.8),\r\n    f2 = random.inRange(0.2, 0.8),\r\n    p01 = intermediatePoint(p0, p1, f1),\r\n    p03 = intermediatePoint(p0, p3, f2),\r\n    p32 = intermediatePoint(p3, p2, f1),\r\n    p12 = intermediatePoint(p1, p2, f2),\r\n    p = intermediatePoint(p03, p12, f1);\r\n    return point.z(p0) > h / 3\r\n      ? block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)\r\n      : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r, r);\r\n}\r\n\r\n\r\n//(define white (create-layer \"white\"))\r\n//(define glass (create-layer \"glass\"))\r\n\r\n//const extrusion = (obj, displacement) => obj;\r\nfunction block(p0, p1, p2, p3, r) {\r\n  let d = -0.01;\r\n  return extrusion.bySurfaceVector(\r\n      polygon.surface.byVertices([\r\n        p0,\r\n        point.addX(p1, d),\r\n        point.addXZ(p2, d, d),\r\n        point.addZ(p3, d),\r\n        p0\r\n      ]),\r\n      vector.byY(-r));\r\n}\r\n\r\nfunction block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2) {\r\n  return [\r\n   block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n   block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n   block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n   block(p03, p, p32, p3, random.inRange(r1, r2))\r\n  ];\r\n}\r\n\r\nfunction hotel(p0, p1, p2, p3) { //fazer rugosidades na parte lisa\r\n  let f1 = random.inRange(0.2, 0.8),\r\n    f2 = random.inRange(0.2, 0.8),\r\n    p01 = intermediatePoint(p0, p1, f1),\r\n    p03 = intermediatePoint(p0, p3, f2),\r\n    p32 = intermediatePoint(p3, p2, f1),\r\n    p12 = intermediatePoint(p1, p2, f2),\r\n    p = intermediatePoint(p03, p12, f1),\r\n    i = area(p0, p1, p2) / 2;\r\n    return point.z(p0) > h / 5\r\n      || (point.x(p0) > l * random.inRange(0.42, 0.65)\r\n        && point.x(p0) < l * random.inRange(0.65, 0.94))\r\n      ? // parte rugosa\r\n        cond([[area(p0, p01, p) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p0, p01, p, p03),\r\n                    block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n                    block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n                    block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [area(p01, p1, p12) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p01, p1, p12, p),\r\n                    block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n                    block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n                    block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [area(p, p12, p2) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                      sub(p, p12, p2, p32),\r\n                      block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n                      block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n                      block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [true, () => \r\n                block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)]])\r\n      : //parte lisa\r\n        cond([[area(p0, p01, p) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p0, p01, p, p03),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [area(p01, p1, p12) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p01, p1, p12, p),\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [area(p, p12, p2) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p, p12, p2, p32),\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [true, () => \r\n                [\r\n                  block(p0, p01, p, p03, r),\r\n                  block(p01, p1, p12, p, r),\r\n                  block(p, p12, p2, p32, r),\r\n                  block(p03, p, p32, p3, r)\r\n                ]]]);\r\n}\r\n\r\nconst us = sequence.division(0, l, 16);\r\nconst vs = sequence.division(0, h, 45);\r\nconst quads = mapDivisions((i, j) => point.byXZ(i, j), [us, vs]);\r\n\r\niteraQuads(hotel, quads);\r\n\r\n"], ["dom-ino-frame.js", "\r\nconst {map, division, cartesianProduct, count} = sequence;\r\nconst {compose} = functional;\r\n\r\nconst floors = 3;\r\nconst floorWidth = 13.0;\r\nconst floorDepth = 7.0;\r\nconst floorToCeiling = 2.5;\r\nconst slabThickness = 0.3;\r\nconst stairWidth = 1.0;\r\nconst stairStepNum = 18;\r\n\r\n//columns + foundations\r\nconst spacesBetweenColumns = 3;\r\nconst backColumnDistanceToEdge = 0.20;\r\nconst frontColumnDistanceToEdge = 0.4;\r\nconst columnToSide = 0.20;\r\nconst columnSide = 0.20;\r\nconst foundationSide = 1.0;\r\nconst foundationHeight = 0.5;\r\n\r\ndomIno();\r\n\r\nfunction domIno() {\r\n  return [\r\n    slabs(),\r\n    columns(),\r\n    stairs()\r\n  ];\r\n}\r\n\r\n\r\nfunction slabs() {\r\n  let floorSlab = [\r\n    box.byCorners([ // living area portion\r\n      point.byXYZ(0, 0, 0),\r\n      point.byXYZ(floorWidth, floorDepth, slabThickness)\r\n    ]),\r\n    box.byCorners([ // stair landing extension\r\n      point.byXYZ(floorWidth, 0, 0),\r\n      point.byXYZ(floorWidth + stairWidth, stairWidth, slabThickness)\r\n    ]),\r\n    box.byCornerXYZ( // stair landing\r\n        point.byXYZ(floorWidth, stairWidth, 0),\r\n        [2*stairWidth, stairWidth, slabThickness])\r\n  ];\r\n  return map(\r\n    i => translate(floorSlab).byZ(i*(slabThickness + floorToCeiling)),\r\n    count(floors + 1));\r\n}\r\n\r\n\r\nfunction columns() {\r\n  let backColumnPositions = map(\r\n    ([x, y]) => point.byXY(x,y),\r\n    cartesianProduct(\r\n      division(columnToSide, floorWidth - columnToSide, spacesBetweenColumns),\r\n      [backColumnDistanceToEdge]));\r\n  let frontColumnPositions = map(\r\n    ([x, y]) => point.byXY(x,y),\r\n    cartesianProduct(\r\n      division(columnToSide, floorWidth - columnToSide, spacesBetweenColumns),\r\n      [floorDepth - frontColumnDistanceToEdge]));\r\n  return [\r\n    map(column, backColumnPositions),\r\n    map(column, frontColumnPositions)\r\n  ];\r\n}\r\n\r\nfunction column(pos) {\r\n  const height = slabThickness + (slabThickness + floorToCeiling)*floors;\r\n  return [\r\n    box.byBottomWidthHeightZ(pos, [columnSide, columnSide], height),\r\n    box.byCentersWidthHeight(\r\n      [pos, point.subZ(pos, foundationHeight)],\r\n      [foundationSide, foundationSide])\r\n  ];\r\n}\r\n\r\n\r\nfunction stairs() {\r\n  return map(\r\n    i => translate(\r\n      uShapedStairs(\r\n        stairWidth,\r\n        stairStepNum,\r\n        stairWidth,\r\n        stairStepNum*0.15,\r\n        floorToCeiling + slabThickness))\r\n      .byXYZ(floorWidth, 2*stairWidth, slabThickness + i*(slabThickness + floorToCeiling)),\r\n    count(floors))\r\n}\r\n\r\nfunction straightStairs(width, runLength, riseHeight, steps) {\r\n  const stepLength = runLength/steps;\r\n  const stepHeight = riseHeight/steps;\r\n  const translateVector = vector.byYZ(stepLength, stepHeight);\r\n  const bottomLeftCorner = point.byXYZ(0, 0, 0);\r\n  const topRightCorner = point.byXYZ(width, stepLength, stepHeight);\r\n  const stepsGeom = map(i =>\r\n    box.byCorners([\r\n      point.add(bottomLeftCorner, vector.scale(translateVector, i)),\r\n      point.add(topRightCorner, vector.scale(translateVector, i))\r\n    ]),\r\n    count(steps));\r\n  const underneathAngle = Math.atan2(stepHeight, stepLength);\r\n  const underneathHeight = stepLength*Math.sin(underneathAngle);\r\n  const underneathLength = (steps - 1)*stepLength/Math.cos(underneathAngle);\r\n  const underneath = compose(\r\n    translate.byXYZ(0, stepLength, 0),\r\n    rotate.aroundXByAngle(underneathAngle)\r\n  )(box.byCornerXYZ(point.byXYZ(0,0,0), [width, underneathLength, underneathHeight]));\r\n  return [\r\n    stepsGeom,\r\n    underneath\r\n  ];\r\n}\r\n\r\nfunction uShapedStairs(flightWidth, steps, turnStepLength, straightLength, riseHeight) {\r\n  const stepHeight = riseHeight/steps;\r\n  const straightStepsNum = steps - 1;\r\n  const bottomStepsNum = Math.floor(straightStepsNum/2);\r\n  const topStepsNum = Math.ceil(straightStepsNum/2);\r\n  const bottomRiseHeight = stepHeight*bottomStepsNum;\r\n  const topRiseHeight = stepHeight*topStepsNum;\r\n\r\n  const bottomFlight = straightStairs(flightWidth, straightLength, bottomRiseHeight, bottomStepsNum);\r\n  const turnStep = box.byCorners([\r\n    point.byXYZ(0, straightLength, bottomRiseHeight),\r\n    point.byXYZ(\r\n      2*flightWidth,\r\n      straightLength + turnStepLength,\r\n      bottomRiseHeight + stepHeight)\r\n  ]);\r\n  const topFlight = compose(\r\n    translate.byXYZ(2*flightWidth, straightLength, bottomRiseHeight + stepHeight),\r\n    rotate.aroundZByAngle(Math.PI)\r\n  )(straightStairs(flightWidth, straightLength, topRiseHeight, topStepsNum));\r\n\r\n  return [\r\n    bottomFlight,\r\n    turnStep,\r\n    topFlight\r\n  ];\r\n}\r\n"], ["cruzeta.js", "\r\nconst cFrustum = coneFrustum.byBottomRadiusTopRadius;\r\nconst xyz = point.byXYZ;\r\nconst addP = point.add;\r\nconst vec = vector;\r\n\r\nfunction cruzeta(p, rb, rt, c) {\r\n  return [\r\n    cFrustum(p, rb, vec.add(p, vec.byX(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byY(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byZ(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byX(-c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byY(-c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byZ(-c)), rt)\r\n  ];\r\n}\r\n\r\n\r\ncruzeta(xyz(0, 0, 0), 0.2, 0.4, 0.8);\r\n"], ["column.js", "\r\nconst xyz = point.byXYZ;\r\nconst add = point.add;\r\nconst z = vector.byZ;\r\n\r\nfunction abacus(p, height, side) {\r\n  return box.byBottomWidthHeightZ(p, [side, side], height);\r\n}\r\n\r\nfunction echinus(p, height, side, neckSide) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(p, neckSide/2, side/2, height);\r\n}\r\n\r\nfunction shaft(p, height, side, neckSide) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(p, side/2, neckSide/2, height);\r\n}\r\n\r\nfunction column(p, shaftH, shaftBaseD, echinusH, echinusBaseD, abacusH, abacusS) {\r\n  return [\r\n    abacus(add(p, z(shaftH + echinusH)), abacusH, abacusS),\r\n    echinus(add(p, z(shaftH)), echinusH, abacusS, echinusBaseD),\r\n    shaft(p, shaftH, shaftBaseD, echinusBaseD)\r\n  ];\r\n}\r\n\r\ncolumn(xyz(0, 0, 0), 6.00, 0.8, 0.2, 0.7, 0.1, 0.9);\r\n"], ["coneSphere.js", "\r\nconst {intervalMiddles, cartesianProduct, map} = sequence;\r\nconst {lerp} = math;\r\nconst sph = point.bySpherical;\r\nconst xyz = point.byXYZ;\r\n\r\nfunction coneSphere(p, sphR, equatorConeR, poleConeR, parallelsNum, meridiansNum) {\r\n  return map(([phi, th]) => {\r\n      let baseP = sph(sphR, th, phi);\r\n      let baseR = sphSurfToRadius(phi, th, equatorConeR, poleConeR);\r\n      return coneFrustum.byBottomRadiusTopRadius(baseP, baseR, p, 0.01);\r\n    },\r\n    sphSurfCoords(parallelsNum, meridiansNum));  \r\n}\r\n\r\nfunction sphSurfCoords(parallelsNum, meridiansNum) {\r\n  let parallelPhis = intervalMiddles(0, Math.PI, parallelsNum);\r\n  let meridianThetas = intervalMiddles(0, 2*Math.PI, meridiansNum);\r\n  return cartesianProduct(parallelPhis, meridianThetas);\r\n}\r\n\r\nfunction sphSurfToRadius(phi, theta, equatorConeR, poleConeR) {\r\n  return lerp(poleConeR, equatorConeR, Math.sin(phi));\r\n}\r\n\r\n\r\nconeSphere(xyz(0, 0, 0), 10, 1, 0.1, 10, 15);\r\n\r\n"], ["cities.js", "\r\nconst {intervalDivision, map, cartesianProduct, count} = sequence;\r\nconst {scale, add} = vector;\r\nconst xyz = vector.byXYZ;\r\nconst x = vector.byX;\r\nconst y = vector.byY;\r\nconst z = vector.byZ;\r\n\r\n\r\n\r\n\r\nfunction coordinateGrid(p, uu, vv, m, n) {\r\n  return map(\r\n    ([u, v]) => add(p,\r\n      add(scale(uu, u), scale(vv, v))),\r\n    cartesianProduct(count(m), count(n))\r\n  );\r\n}\r\n\r\nfunction building1(p) {\r\n  return random.real(3) < 1\r\n    ? cylinder.byCentersRadius(\r\n      [p, add(p, z(75))], 10)\r\n    : box.byBottomWidthHeightZ(\r\n      p, [20, 20], 60);\r\n}\r\n\r\nfunction city1(p) {\r\n  return map(building1,\r\n    coordinateGrid(p, x(25), y(25),\r\n      10, 10));\r\n}\r\n\r\ncity1(xyz(0, 0, 0));\r\n\r\n\r\n\r\n\r\nfunction building2(p) {\r\n  return random.real(3) < 1\r\n    ? cylinder.byCentersRadius(\r\n      [p, add(p,\r\n        z(random.real.inRange(10, 75)))],\r\n      10)\r\n    : box.byBottomWidthHeightZ(p, [20, 20],\r\n      random.real.inRange(5, 60));\r\n}\r\n\r\nfunction city2(p) {\r\n  return map(building2,\r\n    coordinateGrid(p, x(25), y(25),\r\n      10, 10));\r\n}\r\n\r\ncity2(xyz(0, 0, 0));\r\n\r\n\r\n\r\nfunction city3(p, buildingFns) {\r\n  return map(pt =>\r\n    buildingFns[random.integer(buildingFns.length - 1)](pt),\r\n    coordinateGrid(p, x(25), y(25), 10, 10));\r\n}\r\n\r\nfunction cylBuilding(p) {\r\n  return cylinder.byCentersRadius(\r\n    [p, add(p, z(random.real.inRange(10, 75)))],\r\n    10);\r\n}\r\nfunction boxBuilding(p) {\r\n  return box.byBottomWidthHeightZ(p, [20, 20],\r\n    random.real.inRange(5, 60));\r\n}\r\nfunction coneBuilding(p) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(\r\n    p, 10, random.real.inRange(0, 8),\r\n    random.real.inRange(5, 60)\r\n  );\r\n}\r\n\r\n\r\ncity3(xyz(0, 0, 0),\r\n  [cylBuilding, boxBuilding, coneBuilding]);\r\n"]];

var examples = exampleData.map(function (_ref) {
	var _ref2 = _slicedToArray(_ref, 2),
	    name = _ref2[0],
	    sourceCode = _ref2[1];

	return {
		name: name,
		program: sourceCode
	};
});

module.exports.examples = examples;

},{}],43:[function(require,module,exports){
'use strict';

//require('./page');

require('./actions-reducers/components-test.jsx');

},{"./actions-reducers/components-test.jsx":40}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

function time(label, thunk) {
	var t0 = performance.now();
	var res = thunk();
	var t1 = performance.now();
	console.log(label, t1 - t0);
	return res;
}

exports.default = time;

},{}]},{},[43])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzLmpzIiwibm9kZV9tb2R1bGVzL2JyYWNlL21vZGUvamF2YXNjcmlwdC5qcyIsIm5vZGVfbW9kdWxlcy9icmFjZS90aGVtZS9tb25va2FpLmpzIiwibm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9qYXZhc2NyaXB0LmpzIiwic3JjXFxSZWFjdENvbXBvbmVudHNcXE9yYml0VGhyZWVWaWV3LmpzeCIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxQcm9ncmFtRWRpdG9yLmpzeCIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxSZXN1bHRzVmlldy5qc3giLCJzcmNcXFJlYWN0Q29tcG9uZW50c1xcU3VwZXJFZGl0b3IuanN4Iiwic3JjXFxSZWFjdENvbXBvbmVudHNcXFRocmVlUmVuZGVyZXIuanN4Iiwic3JjXFxSZWFjdENvbXBvbmVudHNcXGRyYWctbWFuYWdlci5qcyIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxnZW5lcmljLmpzeCIsInNyY1xcUnVubmVyXFxJbnN0cnVtZW50YXRpb25cXHNhdmUtdG9wLWxldmVsLXRyYW5zZm9ybS5qcyIsInNyY1xcUnVubmVyXFxJbnN0cnVtZW50YXRpb25cXHRyYWNlLWNhbGwtdHJhbnNmb3JtLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXGFzdC11dGlscy5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxnZXROb2RlQnlJZC5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxub2RlLWlkLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXHByb2dyYW0tcXVlcmllcy5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxwcm9ncmFtLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXHRyYXZlcnNhbC5qcyIsInNyY1xcUnVubmVyXFxpZC1nZW5lcmF0b3IuanMiLCJzcmNcXFJ1bm5lclxccnVuLWluLWNhZC5qcyIsInNyY1xcUnVubmVyXFxydW4tcXVlcmllcy5qcyIsInNyY1xcUnVubmVyXFxydW4uanMiLCJzcmNcXFJ1bm5lclxccnVubmluZy1pZGVhLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxmdW5jdGlvbmFsLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxtYXRoLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxwb2ludC12ZWN0b3ItbWF0cml4LmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxyYW5kb20uanMiLCJzcmNcXFNjZW5lR3JhcGhcXFByZWRlZnNcXHNlcXVlbmNlLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxjb2xvci5qcyIsInNyY1xcU2NlbmVHcmFwaFxcZGVmYXVsdC1tYXRlcmlhbHMuanMiLCJzcmNcXFNjZW5lR3JhcGhcXGV4dHJ1c2lvbi5qcyIsInNyY1xcU2NlbmVHcmFwaFxcbWFrZU1hdHJpeFRyYW5zZm9ybWVkT2JqZWN0M0QuanMiLCJzcmNcXFNjZW5lR3JhcGhcXHBvbHlnb24tc3VyZmFjZS5qcyIsInNyY1xcU2NlbmVHcmFwaFxccHJpbWl0aXZlcy5qcyIsInNyY1xcU2NlbmVHcmFwaFxcdG8tdGhyZWUuanMiLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXEN1cnJlbnRQcm9ncmFtRWRpdG9yLmpzeCIsInNyY1xcYWN0aW9ucy1yZWR1Y2Vyc1xcRWRpdG9yUGFnZS5qc3giLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGFjdGlvbnMtcmVkdWNlcnMuanMiLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGNvbXBvbmVudHMtdGVzdC5qc3giLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGNvbXBvbmVudHMuanN4Iiwic3JjXFxleGFtcGxlLXByb2dyYW1zXFxleGFtcGxlcy5qcyIsInNyY1xcaW5kZXguanMiLCJzcmNcXHV0aWxzXFx0aW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFmLEdBQTBCLFFBQTFCOzs7OztBQ3ZCQTs7QUFFQSxRQUFRLHdDQUFSOzs7Ozs7Ozs7QUNGQSxTQUFTLElBQVQsQ0FBYyxLQUFkLEVBQXFCLEtBQXJCLEVBQTRCO0FBQzNCLEtBQUksS0FBSyxZQUFZLEdBQVosRUFBVDtBQUNBLEtBQUksTUFBTSxPQUFWO0FBQ0EsS0FBSSxLQUFLLFlBQVksR0FBWixFQUFUO0FBQ0EsU0FBUSxHQUFSLENBQVksS0FBWixFQUFtQixLQUFHLEVBQXRCO0FBQ0EsUUFBTyxHQUFQO0FBQ0E7O2tCQUVjLEkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiYWNlLmRlZmluZShcImFjZS9zbmlwcGV0c1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9hbmNob3JcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS90b2tlbml6ZXJcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvZWRpdG9yXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBvb3AgPSBhY2VxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBFdmVudEVtaXR0ZXIgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQW5jaG9yID0gYWNlcXVpcmUoXCIuL2FuY2hvclwiKS5BbmNob3I7XG52YXIgSGFzaEhhbmRsZXIgPSBhY2VxdWlyZShcIi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIpLkhhc2hIYW5kbGVyO1xudmFyIFRva2VuaXplciA9IGFjZXF1aXJlKFwiLi90b2tlbml6ZXJcIikuVG9rZW5pemVyO1xudmFyIGNvbXBhcmVQb2ludHMgPSBSYW5nZS5jb21wYXJlUG9pbnRzO1xuXG52YXIgU25pcHBldE1hbmFnZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNuaXBwZXRNYXAgPSB7fTtcbiAgICB0aGlzLnNuaXBwZXROYW1lTWFwID0ge307XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIFxuICAgIHRoaXMuZ2V0VG9rZW5pemVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIFRhYnN0b3BUb2tlbihzdHIsIF8sIHN0YWNrKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKDEpO1xuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3Qoc3RyKSAmJiAhc3RhY2suaW5Gb3JtYXRTdHJpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt7dGFic3RvcElkOiBwYXJzZUludChzdHIsIDEwKX1dO1xuICAgICAgICAgICAgcmV0dXJuIFt7dGV4dDogc3RyfV07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIoPzpbXlxcXFxcXFxcXCIgKyBjaCArIFwiXXxcXFxcXFxcXC4pXCI7XG4gICAgICAgIH1cbiAgICAgICAgU25pcHBldE1hbmFnZXIuJHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIoe1xuICAgICAgICAgICAgc3RhcnQ6IFtcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC86Lywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCAmJiBzdGFja1swXS5leHBlY3RJZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbMF0uZXhwZWN0SWYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrWzBdLmVsc2VCcmFuY2ggPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbc3RhY2tbMF1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjpcIjtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC9cXFxcLi8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaCA9IHZhbFsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09IFwifVwiICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gY2g7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmIChcImAkXFxcXFwiLmluZGV4T2YoY2gpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFjay5pbkZvcm1hdFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09IFwiblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcInRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBcIlxcblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJ1bFVMRVwiLmluZGV4T2YoY2gpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0ge2NoYW5nZUNhc2U6IGNoLCBsb2NhbDogY2ggPiBcImFcIn07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbF07XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvfS8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc3RhY2subGVuZ3RoID8gc3RhY2suc2hpZnQoKSA6IHZhbF07XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFwkKD86XFxkK3xcXHcrKS8sIG9uTWF0Y2g6IFRhYnN0b3BUb2tlbn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFwkXFx7W1xcZEEtWl9hLXpdKy8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHN0ciwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gVGFic3RvcFRva2VuKHN0ci5zdWJzdHIoMSksIHN0YXRlLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodFswXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH0sIG5leHQ6IFwic25pcHBldFZhclwifSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC9cXG4vLCB0b2tlbjogXCJuZXdsaW5lXCIsIG1lcmdlOiBmYWxzZX1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzbmlwcGV0VmFyOiBbXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIlxcXFx8XCIgKyBlc2NhcGUoXCJcXFxcfFwiKSArIFwiKlxcXFx8XCIsIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWzBdLmNob2ljZXMgPSB2YWwuc2xpY2UoMSwgLTEpLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogXCIvKFwiICsgZXNjYXBlKFwiL1wiKSArIFwiKykvKD86KFwiICsgZXNjYXBlKFwiL1wiKSArIFwiKikvKShcXFxcdyopOj9cIixcbiAgICAgICAgICAgICAgICAgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gc3RhY2tbMF07XG4gICAgICAgICAgICAgICAgICAgIHRzLmZtdFN0cmluZyA9IHZhbDtcblxuICAgICAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLnNwbGl0UmVnZXguZXhlYyh2YWwpO1xuICAgICAgICAgICAgICAgICAgICB0cy5ndWFyZCA9IHZhbFsxXTtcbiAgICAgICAgICAgICAgICAgICAgdHMuZm10ID0gdmFsWzJdO1xuICAgICAgICAgICAgICAgICAgICB0cy5mbGFnID0gdmFsWzNdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogXCJgXCIgKyBlc2NhcGUoXCJgXCIpICsgXCIqYFwiLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5jb2RlID0gdmFsLnNwbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIH0sIG5leHQ6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIlxcXFw/XCIsIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFja1swXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrWzBdLmV4cGVjdElmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogXCIoW146fVxcXFxcXFxcXXxcXFxcXFxcXC4pKjo/XCIsIHRva2VuOiBcIlwiLCBuZXh0OiBcInN0YXJ0XCJ9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZm9ybWF0U3RyaW5nOiBbXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIi8oXCIgKyBlc2NhcGUoXCIvXCIpICsgXCIrKS9cIiwgdG9rZW46IFwicmVnZXhcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIlwiLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5pbkZvcm1hdFN0cmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSwgbmV4dDogXCJzdGFydFwifVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgU25pcHBldE1hbmFnZXIucHJvdG90eXBlLmdldFRva2VuaXplciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIFNuaXBwZXRNYW5hZ2VyLiR0b2tlbml6ZXI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTbmlwcGV0TWFuYWdlci4kdG9rZW5pemVyO1xuICAgIH07XG5cbiAgICB0aGlzLnRva2VuaXplVG1TbmlwcGV0ID0gZnVuY3Rpb24oc3RyLCBzdGFydFN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuaXplcigpLmdldExpbmVUb2tlbnMoc3RyLCBzdGFydFN0YXRlKS50b2tlbnMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4LnZhbHVlIHx8IHg7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXREZWZhdWx0VmFsdWUgPSBmdW5jdGlvbihlZGl0b3IsIG5hbWUpIHtcbiAgICAgICAgaWYgKC9eW0EtWl1cXGQrJC8udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgdmFyIGkgPSBuYW1lLnN1YnN0cigxKTtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy52YXJpYWJsZXNbbmFtZVswXSArIFwiX19cIl0gfHwge30pW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMudmFyaWFibGVzLl9fIHx8IHt9KVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9eVE1fLywgXCJcIik7XG5cbiAgICAgICAgaWYgKCFlZGl0b3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzID0gZWRpdG9yLnNlc3Npb247XG4gICAgICAgIHN3aXRjaChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiQ1VSUkVOVF9XT1JEXCI6XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBzLmdldFdvcmRSYW5nZSgpO1xuICAgICAgICAgICAgY2FzZSBcIlNFTEVDVElPTlwiOlxuICAgICAgICAgICAgY2FzZSBcIlNFTEVDVEVEX1RFWFRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRUZXh0UmFuZ2Uocik7XG4gICAgICAgICAgICBjYXNlIFwiQ1VSUkVOVF9MSU5FXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0TGluZShlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3cpO1xuICAgICAgICAgICAgY2FzZSBcIlBSRVZfTElORVwiOiAvLyBub3QgcG9zc2libGUgaW4gdGV4dG1hdGVcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRMaW5lKGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyAtIDEpO1xuICAgICAgICAgICAgY2FzZSBcIkxJTkVfSU5ERVhcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCkuY29sdW1uO1xuICAgICAgICAgICAgY2FzZSBcIkxJTkVfTlVNQkVSXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyArIDE7XG4gICAgICAgICAgICBjYXNlIFwiU09GVF9UQUJTXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0VXNlU29mdFRhYnMoKSA/IFwiWUVTXCIgOiBcIk5PXCI7XG4gICAgICAgICAgICBjYXNlIFwiVEFCX1NJWkVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRUYWJTaXplKCk7XG4gICAgICAgICAgICBjYXNlIFwiRklMRU5BTUVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJGSUxFUEFUSFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgY2FzZSBcIkZVTExOQU1FXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQWNlXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudmFyaWFibGVzID0ge307XG4gICAgdGhpcy5nZXRWYXJpYWJsZVZhbHVlID0gZnVuY3Rpb24oZWRpdG9yLCB2YXJOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnZhcmlhYmxlcy5oYXNPd25Qcm9wZXJ0eSh2YXJOYW1lKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhcmlhYmxlc1t2YXJOYW1lXShlZGl0b3IsIHZhck5hbWUpIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiB0aGlzLiRnZXREZWZhdWx0VmFsdWUoZWRpdG9yLCB2YXJOYW1lKSB8fCBcIlwiO1xuICAgIH07XG4gICAgdGhpcy50bVN0ckZvcm1hdCA9IGZ1bmN0aW9uKHN0ciwgY2gsIGVkaXRvcikge1xuICAgICAgICB2YXIgZmxhZyA9IGNoLmZsYWcgfHwgXCJcIjtcbiAgICAgICAgdmFyIHJlID0gY2guZ3VhcmQ7XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChyZSwgZmxhZy5yZXBsYWNlKC9bXmdpXS8sIFwiXCIpKTtcbiAgICAgICAgdmFyIGZtdFRva2VucyA9IHRoaXMudG9rZW5pemVUbVNuaXBwZXQoY2guZm10LCBcImZvcm1hdFN0cmluZ1wiKTtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGZvcm1hdHRlZCA9IHN0ci5yZXBsYWNlKHJlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9zZWxmLnZhcmlhYmxlcy5fXyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHZhciBmbXRQYXJ0cyA9IF9zZWxmLnJlc29sdmVWYXJpYWJsZXMoZm10VG9rZW5zLCBlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGdDaGFuZ2VDYXNlID0gXCJFXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpICA9IDA7IGkgPCBmbXRQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaCA9IGZtdFBhcnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2ggPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpXSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaC5jaGFuZ2VDYXNlICYmIGNoLmxvY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZtdFBhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIHR5cGVvZiBuZXh0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2guY2hhbmdlQ2FzZSA9PSBcInVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm10UGFydHNbaV0gPSBuZXh0WzBdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpXSA9IG5leHRbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpICsgMV0gPSBuZXh0LnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5jaGFuZ2VDYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnQ2hhbmdlQ2FzZSA9IGNoLmNoYW5nZUNhc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdDaGFuZ2VDYXNlID09IFwiVVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gY2gudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdDaGFuZ2VDYXNlID09IFwiTFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gY2gudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm10UGFydHMuam9pbihcIlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFyaWFibGVzLl9fID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZXNvbHZlVmFyaWFibGVzID0gZnVuY3Rpb24oc25pcHBldCwgZWRpdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbmlwcGV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSBzbmlwcGV0W2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2gpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2ggIT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5za2lwKSB7XG4gICAgICAgICAgICAgICAgZ290b05leHQoY2gpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5wcm9jZXNzZWQgPCBpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoLnRleHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhcmlhYmxlVmFsdWUoZWRpdG9yLCBjaC50ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgY2guZm10U3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMudG1TdHJGb3JtYXQodmFsdWUsIGNoKTtcbiAgICAgICAgICAgICAgICBjaC5wcm9jZXNzZWQgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChjaC5leHBlY3RJZiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ290b05leHQoY2gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaC5za2lwID0gY2guZWxzZUJyYW5jaDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RvTmV4dChjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC50YWJzdG9wSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2guY2hhbmdlQ2FzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdvdG9OZXh0KGNoKSB7XG4gICAgICAgICAgICB2YXIgaTEgPSBzbmlwcGV0LmluZGV4T2YoY2gsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChpMSAhPSAtMSlcbiAgICAgICAgICAgICAgICBpID0gaTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdGhpcy5pbnNlcnRTbmlwcGV0Rm9yU2VsZWN0aW9uID0gZnVuY3Rpb24oZWRpdG9yLCBzbmlwcGV0VGV4dCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIHRhYlN0cmluZyA9IGVkaXRvci5zZXNzaW9uLmdldFRhYlN0cmluZygpO1xuICAgICAgICB2YXIgaW5kZW50U3RyaW5nID0gbGluZS5tYXRjaCgvXlxccyovKVswXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjdXJzb3IuY29sdW1uIDwgaW5kZW50U3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIGluZGVudFN0cmluZyA9IGluZGVudFN0cmluZy5zbGljZSgwLCBjdXJzb3IuY29sdW1uKTtcblxuICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy50b2tlbml6ZVRtU25pcHBldChzbmlwcGV0VGV4dCk7XG4gICAgICAgIHRva2VucyA9IHRoaXMucmVzb2x2ZVZhcmlhYmxlcyh0b2tlbnMsIGVkaXRvcik7XG4gICAgICAgIHRva2VucyA9IHRva2Vucy5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgaWYgKHggPT0gXCJcXG5cIilcbiAgICAgICAgICAgICAgICByZXR1cm4geCArIGluZGVudFN0cmluZztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiB4LnJlcGxhY2UoL1xcdC9nLCB0YWJTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdGFic3RvcHMgPSBbXTtcbiAgICAgICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24ocCwgaSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIGlkID0gcC50YWJzdG9wSWQ7XG4gICAgICAgICAgICB2YXIgdHMgPSB0YWJzdG9wc1tpZF07XG4gICAgICAgICAgICBpZiAoIXRzKSB7XG4gICAgICAgICAgICAgICAgdHMgPSB0YWJzdG9wc1tpZF0gPSBbXTtcbiAgICAgICAgICAgICAgICB0cy5pbmRleCA9IGlkO1xuICAgICAgICAgICAgICAgIHRzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cy5pbmRleE9mKHApICE9PSAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cy5wdXNoKHApO1xuICAgICAgICAgICAgdmFyIGkxID0gdG9rZW5zLmluZGV4T2YocCwgaSArIDEpO1xuICAgICAgICAgICAgaWYgKGkxID09PSAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRva2Vucy5zbGljZShpICsgMSwgaTEpO1xuICAgICAgICAgICAgdmFyIGlzTmVzdGVkID0gdmFsdWUuc29tZShmdW5jdGlvbih0KSB7cmV0dXJuIHR5cGVvZiB0ID09PSBcIm9iamVjdFwifSk7ICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGlzTmVzdGVkICYmICF0cy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCAmJiAoIXRzLnZhbHVlIHx8IHR5cGVvZiB0cy52YWx1ZSAhPT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICB0cy52YWx1ZSA9IHZhbHVlLmpvaW4oXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0YWJzdG9wcy5mb3JFYWNoKGZ1bmN0aW9uKHRzKSB7dHMubGVuZ3RoID0gMH0pO1xuICAgICAgICB2YXIgZXhwYW5kaW5nID0ge307XG4gICAgICAgIGZ1bmN0aW9uIGNvcHlWYWx1ZSh2YWwpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gdmFsW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBhbmRpbmdbcC50YWJzdG9wSWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBqID0gdmFsLmxhc3RJbmRleE9mKHAsIGkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGNvcHlbal0gfHwge3RhYnN0b3BJZDogcC50YWJzdG9wSWR9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3B5W2ldID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGlkID0gcC50YWJzdG9wSWQ7XG4gICAgICAgICAgICB2YXIgaTEgPSB0b2tlbnMuaW5kZXhPZihwLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kaW5nW2lkXSkge1xuICAgICAgICAgICAgICAgIGlmIChleHBhbmRpbmdbaWRdID09PSBwKVxuICAgICAgICAgICAgICAgICAgICBleHBhbmRpbmdbaWRdID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHRzID0gdGFic3RvcHNbaWRdO1xuICAgICAgICAgICAgdmFyIGFyZyA9IHR5cGVvZiB0cy52YWx1ZSA9PSBcInN0cmluZ1wiID8gW3RzLnZhbHVlXSA6IGNvcHlWYWx1ZSh0cy52YWx1ZSk7XG4gICAgICAgICAgICBhcmcudW5zaGlmdChpICsgMSwgTWF0aC5tYXgoMCwgaTEgLSBpKSk7XG4gICAgICAgICAgICBhcmcucHVzaChwKTtcbiAgICAgICAgICAgIGV4cGFuZGluZ1tpZF0gPSBwO1xuICAgICAgICAgICAgdG9rZW5zLnNwbGljZS5hcHBseSh0b2tlbnMsIGFyZyk7XG5cbiAgICAgICAgICAgIGlmICh0cy5pbmRleE9mKHApID09PSAtMSlcbiAgICAgICAgICAgICAgICB0cy5wdXNoKHApO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3cgPSAwLCBjb2x1bW4gPSAwO1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmICh0WzBdID09PSBcIlxcblwiKXtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uID0gdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICByb3cgKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiArPSB0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdC5zdGFydClcbiAgICAgICAgICAgICAgICAgICAgdC5zdGFydCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdC5lbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB2YXIgZW5kID0gZWRpdG9yLnNlc3Npb24ucmVwbGFjZShyYW5nZSwgdGV4dCk7XG5cbiAgICAgICAgdmFyIHRhYnN0b3BNYW5hZ2VyID0gbmV3IFRhYnN0b3BNYW5hZ2VyKGVkaXRvcik7XG4gICAgICAgIHZhciBzZWxlY3Rpb25JZCA9IGVkaXRvci5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlICYmIGVkaXRvci5zZWxlY3Rpb24uaW5kZXg7XG4gICAgICAgIHRhYnN0b3BNYW5hZ2VyLmFkZFRhYnN0b3BzKHRhYnN0b3BzLCByYW5nZS5zdGFydCwgZW5kLCBzZWxlY3Rpb25JZCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmluc2VydFNuaXBwZXQgPSBmdW5jdGlvbihlZGl0b3IsIHNuaXBwZXRUZXh0KSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKGVkaXRvci5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKVxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuaW5zZXJ0U25pcHBldEZvclNlbGVjdGlvbihlZGl0b3IsIHNuaXBwZXRUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGVkaXRvci5mb3JFYWNoU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbnNlcnRTbmlwcGV0Rm9yU2VsZWN0aW9uKGVkaXRvciwgc25pcHBldFRleHQpO1xuICAgICAgICB9LCBudWxsLCB7a2VlcE9yZGVyOiB0cnVlfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWRpdG9yLnRhYnN0b3BNYW5hZ2VyKVxuICAgICAgICAgICAgZWRpdG9yLnRhYnN0b3BNYW5hZ2VyLnRhYk5leHQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0U2NvcGUgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gZWRpdG9yLnNlc3Npb24uJG1vZGUuJGlkIHx8IFwiXCI7XG4gICAgICAgIHNjb3BlID0gc2NvcGUuc3BsaXQoXCIvXCIpLnBvcCgpO1xuICAgICAgICBpZiAoc2NvcGUgPT09IFwiaHRtbFwiIHx8IHNjb3BlID09PSBcInBocFwiKSB7XG4gICAgICAgICAgICBpZiAoc2NvcGUgPT09IFwicGhwXCIgJiYgIWVkaXRvci5zZXNzaW9uLiRtb2RlLmlubGluZVBocCkgXG4gICAgICAgICAgICAgICAgc2NvcGUgPSBcImh0bWxcIjtcbiAgICAgICAgICAgIHZhciBjID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBlZGl0b3Iuc2Vzc2lvbi5nZXRTdGF0ZShjLnJvdyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5zdWJzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuc3Vic3RyaW5nKDAsIDMpID09IFwianMtXCIpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gXCJqYXZhc2NyaXB0XCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuc3Vic3RyaW5nKDAsIDQpID09IFwiY3NzLVwiKVxuICAgICAgICAgICAgICAgICAgICBzY29wZSA9IFwiY3NzXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuc3Vic3RyaW5nKDAsIDQpID09IFwicGhwLVwiKVxuICAgICAgICAgICAgICAgICAgICBzY29wZSA9IFwicGhwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBY3RpdmVTY29wZXMgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy4kZ2V0U2NvcGUoZWRpdG9yKTtcbiAgICAgICAgdmFyIHNjb3BlcyA9IFtzY29wZV07XG4gICAgICAgIHZhciBzbmlwcGV0TWFwID0gdGhpcy5zbmlwcGV0TWFwO1xuICAgICAgICBpZiAoc25pcHBldE1hcFtzY29wZV0gJiYgc25pcHBldE1hcFtzY29wZV0uaW5jbHVkZVNjb3Blcykge1xuICAgICAgICAgICAgc2NvcGVzLnB1c2guYXBwbHkoc2NvcGVzLCBzbmlwcGV0TWFwW3Njb3BlXS5pbmNsdWRlU2NvcGVzKTtcbiAgICAgICAgfVxuICAgICAgICBzY29wZXMucHVzaChcIl9cIik7XG4gICAgICAgIHJldHVybiBzY29wZXM7XG4gICAgfTtcblxuICAgIHRoaXMuZXhwYW5kV2l0aFRhYiA9IGZ1bmN0aW9uKGVkaXRvciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciByZXN1bHQgPSBlZGl0b3IuZm9yRWFjaFNlbGVjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmV4cGFuZFNuaXBwZXRGb3JTZWxlY3Rpb24oZWRpdG9yLCBvcHRpb25zKTtcbiAgICAgICAgfSwgbnVsbCwge2tlZXBPcmRlcjogdHJ1ZX0pO1xuICAgICAgICBpZiAocmVzdWx0ICYmIGVkaXRvci50YWJzdG9wTWFuYWdlcilcbiAgICAgICAgICAgIGVkaXRvci50YWJzdG9wTWFuYWdlci50YWJOZXh0KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmV4cGFuZFNuaXBwZXRGb3JTZWxlY3Rpb24gPSBmdW5jdGlvbihlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbGluZSA9IGVkaXRvci5zZXNzaW9uLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciBiZWZvcmUgPSBsaW5lLnN1YnN0cmluZygwLCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdmFyIGFmdGVyID0gbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG5cbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSB0aGlzLnNuaXBwZXRNYXA7XG4gICAgICAgIHZhciBzbmlwcGV0O1xuICAgICAgICB0aGlzLmdldEFjdGl2ZVNjb3BlcyhlZGl0b3IpLnNvbWUoZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBzbmlwcGV0cyA9IHNuaXBwZXRNYXBbc2NvcGVdO1xuICAgICAgICAgICAgaWYgKHNuaXBwZXRzKVxuICAgICAgICAgICAgICAgIHNuaXBwZXQgPSB0aGlzLmZpbmRNYXRjaGluZ1NuaXBwZXQoc25pcHBldHMsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuICEhc25pcHBldDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGlmICghc25pcHBldClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kcnlSdW4pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24uZG9jLnJlbW92ZUluTGluZShjdXJzb3Iucm93LFxuICAgICAgICAgICAgY3Vyc29yLmNvbHVtbiAtIHNuaXBwZXQucmVwbGFjZUJlZm9yZS5sZW5ndGgsXG4gICAgICAgICAgICBjdXJzb3IuY29sdW1uICsgc25pcHBldC5yZXBsYWNlQWZ0ZXIubGVuZ3RoXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy52YXJpYWJsZXMuTV9fID0gc25pcHBldC5tYXRjaEJlZm9yZTtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMuVF9fID0gc25pcHBldC5tYXRjaEFmdGVyO1xuICAgICAgICB0aGlzLmluc2VydFNuaXBwZXRGb3JTZWxlY3Rpb24oZWRpdG9yLCBzbmlwcGV0LmNvbnRlbnQpO1xuXG4gICAgICAgIHRoaXMudmFyaWFibGVzLk1fXyA9IHRoaXMudmFyaWFibGVzLlRfXyA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRNYXRjaGluZ1NuaXBwZXQgPSBmdW5jdGlvbihzbmlwcGV0TGlzdCwgYmVmb3JlLCBhZnRlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gc25pcHBldExpc3QubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNuaXBwZXRMaXN0W2ldO1xuICAgICAgICAgICAgaWYgKHMuc3RhcnRSZSAmJiAhcy5zdGFydFJlLnRlc3QoYmVmb3JlKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChzLmVuZFJlICYmICFzLmVuZFJlLnRlc3QoYWZ0ZXIpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFzLnN0YXJ0UmUgJiYgIXMuZW5kUmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHMubWF0Y2hCZWZvcmUgPSBzLnN0YXJ0UmUgPyBzLnN0YXJ0UmUuZXhlYyhiZWZvcmUpIDogW1wiXCJdO1xuICAgICAgICAgICAgcy5tYXRjaEFmdGVyID0gcy5lbmRSZSA/IHMuZW5kUmUuZXhlYyhhZnRlcikgOiBbXCJcIl07XG4gICAgICAgICAgICBzLnJlcGxhY2VCZWZvcmUgPSBzLnRyaWdnZXJSZSA/IHMudHJpZ2dlclJlLmV4ZWMoYmVmb3JlKVswXSA6IFwiXCI7XG4gICAgICAgICAgICBzLnJlcGxhY2VBZnRlciA9IHMuZW5kVHJpZ2dlclJlID8gcy5lbmRUcmlnZ2VyUmUuZXhlYyhhZnRlcilbMF0gOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zbmlwcGV0TWFwID0ge307XG4gICAgdGhpcy5zbmlwcGV0TmFtZU1hcCA9IHt9O1xuICAgIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihzbmlwcGV0cywgc2NvcGUpIHtcbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSB0aGlzLnNuaXBwZXRNYXA7XG4gICAgICAgIHZhciBzbmlwcGV0TmFtZU1hcCA9IHRoaXMuc25pcHBldE5hbWVNYXA7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIGlmICghc25pcHBldHMpIFxuICAgICAgICAgICAgc25pcHBldHMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBSZWdleHAoc3JjKSB7XG4gICAgICAgICAgICBpZiAoc3JjICYmICEvXlxcXj9cXCguKlxcKVxcJD8kfF5cXFxcYiQvLnRlc3Qoc3JjKSlcbiAgICAgICAgICAgICAgICBzcmMgPSBcIig/OlwiICsgc3JjICsgXCIpXCI7XG5cbiAgICAgICAgICAgIHJldHVybiBzcmMgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBndWFyZGVkUmVnZXhwKHJlLCBndWFyZCwgb3BlbmluZykge1xuICAgICAgICAgICAgcmUgPSB3cmFwUmVnZXhwKHJlKTtcbiAgICAgICAgICAgIGd1YXJkID0gd3JhcFJlZ2V4cChndWFyZCk7XG4gICAgICAgICAgICBpZiAob3BlbmluZykge1xuICAgICAgICAgICAgICAgIHJlID0gZ3VhcmQgKyByZTtcbiAgICAgICAgICAgICAgICBpZiAocmUgJiYgcmVbcmUubGVuZ3RoIC0gMV0gIT0gXCIkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJlID0gcmUgKyBcIiRcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmUgPSByZSArIGd1YXJkO1xuICAgICAgICAgICAgICAgIGlmIChyZSAmJiByZVswXSAhPSBcIl5cIilcbiAgICAgICAgICAgICAgICAgICAgcmUgPSBcIl5cIiArIHJlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkU25pcHBldChzKSB7XG4gICAgICAgICAgICBpZiAoIXMuc2NvcGUpXG4gICAgICAgICAgICAgICAgcy5zY29wZSA9IHNjb3BlIHx8IFwiX1wiO1xuICAgICAgICAgICAgc2NvcGUgPSBzLnNjb3BlO1xuICAgICAgICAgICAgaWYgKCFzbmlwcGV0TWFwW3Njb3BlXSkge1xuICAgICAgICAgICAgICAgIHNuaXBwZXRNYXBbc2NvcGVdID0gW107XG4gICAgICAgICAgICAgICAgc25pcHBldE5hbWVNYXBbc2NvcGVdID0ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBtYXAgPSBzbmlwcGV0TmFtZU1hcFtzY29wZV07XG4gICAgICAgICAgICBpZiAocy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZCA9IG1hcFtzLm5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChvbGQpXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudW5yZWdpc3RlcihvbGQpO1xuICAgICAgICAgICAgICAgIG1hcFtzLm5hbWVdID0gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNuaXBwZXRNYXBbc2NvcGVdLnB1c2gocyk7XG5cbiAgICAgICAgICAgIGlmIChzLnRhYlRyaWdnZXIgJiYgIXMudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGlmICghcy5ndWFyZCAmJiAvXlxcdy8udGVzdChzLnRhYlRyaWdnZXIpKVxuICAgICAgICAgICAgICAgICAgICBzLmd1YXJkID0gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgIHMudHJpZ2dlciA9IGxhbmcuZXNjYXBlUmVnRXhwKHMudGFiVHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcy50cmlnZ2VyICYmICFzLmd1YXJkICYmICFzLmVuZFRyaWdnZXIgJiYgIXMuZW5kR3VhcmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzLnN0YXJ0UmUgPSBndWFyZGVkUmVnZXhwKHMudHJpZ2dlciwgcy5ndWFyZCwgdHJ1ZSk7XG4gICAgICAgICAgICBzLnRyaWdnZXJSZSA9IG5ldyBSZWdFeHAocy50cmlnZ2VyLCBcIlwiLCB0cnVlKTtcblxuICAgICAgICAgICAgcy5lbmRSZSA9IGd1YXJkZWRSZWdleHAocy5lbmRUcmlnZ2VyLCBzLmVuZEd1YXJkLCB0cnVlKTtcbiAgICAgICAgICAgIHMuZW5kVHJpZ2dlclJlID0gbmV3IFJlZ0V4cChzLmVuZFRyaWdnZXIsIFwiXCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNuaXBwZXRzICYmIHNuaXBwZXRzLmNvbnRlbnQpXG4gICAgICAgICAgICBhZGRTbmlwcGV0KHNuaXBwZXRzKTtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzbmlwcGV0cykpXG4gICAgICAgICAgICBzbmlwcGV0cy5mb3JFYWNoKGFkZFNuaXBwZXQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwicmVnaXN0ZXJTbmlwcGV0c1wiLCB7c2NvcGU6IHNjb3BlfSk7XG4gICAgfTtcbiAgICB0aGlzLnVucmVnaXN0ZXIgPSBmdW5jdGlvbihzbmlwcGV0cywgc2NvcGUpIHtcbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSB0aGlzLnNuaXBwZXRNYXA7XG4gICAgICAgIHZhciBzbmlwcGV0TmFtZU1hcCA9IHRoaXMuc25pcHBldE5hbWVNYXA7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlU25pcHBldChzKSB7XG4gICAgICAgICAgICB2YXIgbmFtZU1hcCA9IHNuaXBwZXROYW1lTWFwW3Muc2NvcGV8fHNjb3BlXTtcbiAgICAgICAgICAgIGlmIChuYW1lTWFwICYmIG5hbWVNYXBbcy5uYW1lXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBuYW1lTWFwW3MubmFtZV07XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHNuaXBwZXRNYXBbcy5zY29wZXx8c2NvcGVdO1xuICAgICAgICAgICAgICAgIHZhciBpID0gbWFwICYmIG1hcC5pbmRleE9mKHMpO1xuICAgICAgICAgICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICAgICAgICAgIG1hcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNuaXBwZXRzLmNvbnRlbnQpXG4gICAgICAgICAgICByZW1vdmVTbmlwcGV0KHNuaXBwZXRzKTtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzbmlwcGV0cykpXG4gICAgICAgICAgICBzbmlwcGV0cy5mb3JFYWNoKHJlbW92ZVNuaXBwZXQpO1xuICAgIH07XG4gICAgdGhpcy5wYXJzZVNuaXBwZXRGaWxlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHIvZywgXCJcIik7XG4gICAgICAgIHZhciBsaXN0ID0gW10sIHNuaXBwZXQgPSB7fTtcbiAgICAgICAgdmFyIHJlID0gL14jLip8Xih7W1xcc1xcU10qfSlcXHMqJHxeKFxcUyspICguKikkfF4oKD86XFxuKlxcdC4qKSspL2dtO1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgd2hpbGUgKG0gPSByZS5leGVjKHN0cikpIHtcbiAgICAgICAgICAgIGlmIChtWzFdKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldCA9IEpTT04ucGFyc2UobVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaChzbmlwcGV0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfSBpZiAobVs0XSkge1xuICAgICAgICAgICAgICAgIHNuaXBwZXQuY29udGVudCA9IG1bNF0ucmVwbGFjZSgvXlxcdC9nbSwgXCJcIik7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIHNuaXBwZXQgPSB7fTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IG1bMl0sIHZhbCA9IG1bM107XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGd1YXJkUmUgPSAvXFwvKCg/OlteXFwvXFxcXF18XFxcXC4pKil8JC9nO1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0Lmd1YXJkID0gZ3VhcmRSZS5leGVjKHZhbClbMV07XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQudHJpZ2dlciA9IGd1YXJkUmUuZXhlYyh2YWwpWzFdO1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LmVuZFRyaWdnZXIgPSBndWFyZFJlLmV4ZWModmFsKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldC5lbmRHdWFyZCA9IGd1YXJkUmUuZXhlYyh2YWwpWzFdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IFwic25pcHBldFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQudGFiVHJpZ2dlciA9IHZhbC5tYXRjaCgvXlxcUyovKVswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzbmlwcGV0Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmlwcGV0Lm5hbWUgPSB2YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldFtrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U25pcHBldEJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUsIGVkaXRvcikge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE5hbWVNYXA7XG4gICAgICAgIHZhciBzbmlwcGV0O1xuICAgICAgICB0aGlzLmdldEFjdGl2ZVNjb3BlcyhlZGl0b3IpLnNvbWUoZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBzbmlwcGV0cyA9IHNuaXBwZXRNYXBbc2NvcGVdO1xuICAgICAgICAgICAgaWYgKHNuaXBwZXRzKVxuICAgICAgICAgICAgICAgIHNuaXBwZXQgPSBzbmlwcGV0c1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiAhIXNuaXBwZXQ7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gc25pcHBldDtcbiAgICB9O1xuXG59KS5jYWxsKFNuaXBwZXRNYW5hZ2VyLnByb3RvdHlwZSk7XG5cblxudmFyIFRhYnN0b3BNYW5hZ2VyID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgaWYgKGVkaXRvci50YWJzdG9wTWFuYWdlcilcbiAgICAgICAgcmV0dXJuIGVkaXRvci50YWJzdG9wTWFuYWdlcjtcbiAgICBlZGl0b3IudGFic3RvcE1hbmFnZXIgPSB0aGlzO1xuICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuJG9uQ2hhbmdlU2VsZWN0aW9uID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uQ2hhbmdlU2VsZWN0aW9uLmJpbmQodGhpcykpLnNjaGVkdWxlO1xuICAgIHRoaXMuJG9uQ2hhbmdlU2Vzc2lvbiA9IHRoaXMub25DaGFuZ2VTZXNzaW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kb25BZnRlckV4ZWMgPSB0aGlzLm9uQWZ0ZXJFeGVjLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hdHRhY2goZWRpdG9yKTtcbn07XG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hdHRhY2ggPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgICAgIHRoaXMudGFic3RvcHMgPSBbXTtcbiAgICAgICAgdGhpcy4kb3BlblRhYnN0b3BzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRhYnN0b3AgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLmVkaXRvci5vbihcImNoYW5nZVwiLCB0aGlzLiRvbkNoYW5nZSk7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIHRoaXMuJG9uQ2hhbmdlU2VsZWN0aW9uKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oXCJjaGFuZ2VTZXNzaW9uXCIsIHRoaXMuJG9uQ2hhbmdlU2Vzc2lvbik7XG4gICAgICAgIHRoaXMuZWRpdG9yLmNvbW1hbmRzLm9uKFwiYWZ0ZXJFeGVjXCIsIHRoaXMuJG9uQWZ0ZXJFeGVjKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIodGhpcy5rZXlib2FyZEhhbmRsZXIpO1xuICAgIH07XG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50YWJzdG9wcy5mb3JFYWNoKHRoaXMucmVtb3ZlVGFic3RvcE1hcmtlcnMsIHRoaXMpO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudGFic3RvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFic3RvcCA9IG51bGw7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25DaGFuZ2VTZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLmVkaXRvci5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVNlc3Npb25cIiwgdGhpcy4kb25DaGFuZ2VTZXNzaW9uKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tbWFuZHMucmVtb3ZlTGlzdGVuZXIoXCJhZnRlckV4ZWNcIiwgdGhpcy4kb25BZnRlckV4ZWMpO1xuICAgICAgICB0aGlzLmVkaXRvci5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLnRhYnN0b3BNYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIGNoYW5nZVJhbmdlID0gZGVsdGE7XG4gICAgICAgIHZhciBpc1JlbW92ZSA9IGRlbHRhLmFjdGlvblswXSA9PSBcInJcIjtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGVuZFJvdyA9IGVuZC5yb3c7XG4gICAgICAgIHZhciBsaW5lRGlmID0gZW5kUm93IC0gc3RhcnRSb3c7XG4gICAgICAgIHZhciBjb2xEaWZmID0gZW5kLmNvbHVtbiAtIHN0YXJ0LmNvbHVtbjtcblxuICAgICAgICBpZiAoaXNSZW1vdmUpIHtcbiAgICAgICAgICAgIGxpbmVEaWYgPSAtbGluZURpZjtcbiAgICAgICAgICAgIGNvbERpZmYgPSAtY29sRGlmZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuJGluQ2hhbmdlICYmIGlzUmVtb3ZlKSB7XG4gICAgICAgICAgICB2YXIgdHMgPSB0aGlzLnNlbGVjdGVkVGFic3RvcDtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VkT3V0c2lkZSA9IHRzICYmICF0cy5zb21lKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZVBvaW50cyhyLnN0YXJ0LCBzdGFydCkgPD0gMCAmJiBjb21wYXJlUG9pbnRzKHIuZW5kLCBlbmQpID49IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkT3V0c2lkZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPCBzdGFydC5yb3cpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChpc1JlbW92ZSAmJiBjb21wYXJlUG9pbnRzKHN0YXJ0LCByLnN0YXJ0KSA8IDAgJiYgY29tcGFyZVBvaW50cyhlbmQsIHIuZW5kKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJhbmdlKHIpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHIuc3RhcnQucm93ID09IHN0YXJ0Um93ICYmIHIuc3RhcnQuY29sdW1uID4gc3RhcnQuY29sdW1uKVxuICAgICAgICAgICAgICAgIHIuc3RhcnQuY29sdW1uICs9IGNvbERpZmY7XG4gICAgICAgICAgICBpZiAoci5lbmQucm93ID09IHN0YXJ0Um93ICYmIHIuZW5kLmNvbHVtbiA+PSBzdGFydC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgci5lbmQuY29sdW1uICs9IGNvbERpZmY7XG4gICAgICAgICAgICBpZiAoci5zdGFydC5yb3cgPj0gc3RhcnRSb3cpXG4gICAgICAgICAgICAgICAgci5zdGFydC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPj0gc3RhcnRSb3cpXG4gICAgICAgICAgICAgICAgci5lbmQucm93ICs9IGxpbmVEaWY7XG5cbiAgICAgICAgICAgIGlmIChjb21wYXJlUG9pbnRzKHIuc3RhcnQsIHIuZW5kKSA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSYW5nZShyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVMaW5rZWRGaWVsZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRzID0gdGhpcy5zZWxlY3RlZFRhYnN0b3A7XG4gICAgICAgIGlmICghdHMgfHwgIXRzLmhhc0xpbmtlZFJhbmdlcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kaW5DaGFuZ2UgPSB0cnVlO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZWRpdG9yLnNlc3Npb247XG4gICAgICAgIHZhciB0ZXh0ID0gc2Vzc2lvbi5nZXRUZXh0UmFuZ2UodHMuZmlyc3ROb25MaW5rZWQpO1xuICAgICAgICBmb3IgKHZhciBpID0gdHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0c1tpXTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UubGlua2VkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGZtdCA9IGV4cG9ydHMuc25pcHBldE1hbmFnZXIudG1TdHJGb3JtYXQodGV4dCwgcmFuZ2Uub3JpZ2luYWwpO1xuICAgICAgICAgICAgc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCBmbXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGluQ2hhbmdlID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLm9uQWZ0ZXJFeGVjID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5jb21tYW5kICYmICFlLmNvbW1hbmQucmVhZE9ubHkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmtlZEZpZWxkcygpO1xuICAgIH07XG4gICAgdGhpcy5vbkNoYW5nZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWRpdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgbGVhZCA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5sZWFkO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmFuY2hvcjtcbiAgICAgICAgdmFyIGlzRW1wdHkgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5yYW5nZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZXNbaV0ubGlua2VkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5zTGVhZCA9IHRoaXMucmFuZ2VzW2ldLmNvbnRhaW5zKGxlYWQucm93LCBsZWFkLmNvbHVtbik7XG4gICAgICAgICAgICB2YXIgY29udGFpbnNBbmNob3IgPSBpc0VtcHR5IHx8IHRoaXMucmFuZ2VzW2ldLmNvbnRhaW5zKGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5zTGVhZCAmJiBjb250YWluc0FuY2hvcilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuICAgIHRoaXMub25DaGFuZ2VTZXNzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcbiAgICB0aGlzLnRhYk5leHQgPSBmdW5jdGlvbihkaXIpIHtcbiAgICAgICAgdmFyIG1heCA9IHRoaXMudGFic3RvcHMubGVuZ3RoO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4ICsgKGRpciB8fCAxKTtcbiAgICAgICAgaW5kZXggPSBNYXRoLm1pbihNYXRoLm1heChpbmRleCwgMSksIG1heCk7XG4gICAgICAgIGlmIChpbmRleCA9PSBtYXgpXG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIHRoaXMuc2VsZWN0VGFic3RvcChpbmRleCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFRhYnN0b3AgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICB0aGlzLiRvcGVuVGFic3RvcHMgPSBudWxsO1xuICAgICAgICB2YXIgdHMgPSB0aGlzLnRhYnN0b3BzW3RoaXMuaW5kZXhdO1xuICAgICAgICBpZiAodHMpXG4gICAgICAgICAgICB0aGlzLmFkZFRhYnN0b3BNYXJrZXJzKHRzKTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0cyA9IHRoaXMudGFic3RvcHNbdGhpcy5pbmRleF07XG4gICAgICAgIGlmICghdHMgfHwgIXRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWJzdG9wID0gdHM7XG4gICAgICAgIGlmICghdGhpcy5lZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkgeyAgICAgICAgXG4gICAgICAgICAgICB2YXIgc2VsID0gdGhpcy5lZGl0b3IubXVsdGlTZWxlY3Q7XG4gICAgICAgICAgICBzZWwudG9TaW5nbGVSYW5nZSh0cy5maXJzdE5vbkxpbmtlZC5jbG9uZSgpKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICBpZiAodHMuaGFzTGlua2VkUmFuZ2VzICYmIHRzW2ldLmxpbmtlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHRzW2ldLmNsb25lKCksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbC5yYW5nZXNbMF0pXG4gICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHNlbC5yYW5nZXNbMF0uY2xvbmUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2UodHMuZmlyc3ROb25MaW5rZWQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmVkaXRvci5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgfTtcbiAgICB0aGlzLmFkZFRhYnN0b3BzID0gZnVuY3Rpb24odGFic3RvcHMsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRvcGVuVGFic3RvcHMpXG4gICAgICAgICAgICB0aGlzLiRvcGVuVGFic3RvcHMgPSBbXTtcbiAgICAgICAgaWYgKCF0YWJzdG9wc1swXSkge1xuICAgICAgICAgICAgdmFyIHAgPSBSYW5nZS5mcm9tUG9pbnRzKGVuZCwgZW5kKTtcbiAgICAgICAgICAgIG1vdmVSZWxhdGl2ZShwLnN0YXJ0LCBzdGFydCk7XG4gICAgICAgICAgICBtb3ZlUmVsYXRpdmUocC5lbmQsIHN0YXJ0KTtcbiAgICAgICAgICAgIHRhYnN0b3BzWzBdID0gW3BdO1xuICAgICAgICAgICAgdGFic3RvcHNbMF0uaW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSB0aGlzLmluZGV4O1xuICAgICAgICB2YXIgYXJnID0gW2kgKyAxLCAwXTtcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMucmFuZ2VzO1xuICAgICAgICB0YWJzdG9wcy5mb3JFYWNoKGZ1bmN0aW9uKHRzLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGRlc3QgPSB0aGlzLiRvcGVuVGFic3RvcHNbaW5kZXhdIHx8IHRzO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gdHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhwLnN0YXJ0LCBwLmVuZCB8fCBwLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBtb3ZlUG9pbnQocmFuZ2Uuc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICBtb3ZlUG9pbnQocmFuZ2UuZW5kLCBzdGFydCk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uub3JpZ2luYWwgPSBwO1xuICAgICAgICAgICAgICAgIHJhbmdlLnRhYnN0b3AgPSBkZXN0O1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzdCAhPSB0cylcbiAgICAgICAgICAgICAgICAgICAgZGVzdC51bnNoaWZ0KHJhbmdlKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGRlc3RbaV0gPSByYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAocC5mbXRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubGlua2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5oYXNMaW5rZWRSYW5nZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRlc3QuZmlyc3ROb25MaW5rZWQpXG4gICAgICAgICAgICAgICAgICAgIGRlc3QuZmlyc3ROb25MaW5rZWQgPSByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdC5maXJzdE5vbkxpbmtlZClcbiAgICAgICAgICAgICAgICBkZXN0Lmhhc0xpbmtlZFJhbmdlcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRlc3QgPT09IHRzKSB7XG4gICAgICAgICAgICAgICAgYXJnLnB1c2goZGVzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kb3BlblRhYnN0b3BzW2luZGV4XSA9IGRlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZFRhYnN0b3BNYXJrZXJzKGRlc3QpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhcmcubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFic3RvcHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGFyZy5wdXNoKGFyZy5zcGxpY2UoMiwgMSlbMF0pO1xuICAgICAgICAgICAgdGhpcy50YWJzdG9wcy5zcGxpY2UuYXBwbHkodGhpcy50YWJzdG9wcywgYXJnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFkZFRhYnN0b3BNYXJrZXJzID0gZnVuY3Rpb24odHMpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLmVkaXRvci5zZXNzaW9uO1xuICAgICAgICB0cy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAgKCFyYW5nZS5tYXJrZXJJZClcbiAgICAgICAgICAgICAgICByYW5nZS5tYXJrZXJJZCA9IHNlc3Npb24uYWRkTWFya2VyKHJhbmdlLCBcImFjZV9zbmlwcGV0LW1hcmtlclwiLCBcInRleHRcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVUYWJzdG9wTWFya2VycyA9IGZ1bmN0aW9uKHRzKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5lZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgdHMuZm9yRWFjaChmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIocmFuZ2UubWFya2VySWQpO1xuICAgICAgICAgICAgcmFuZ2UubWFya2VySWQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgaSA9IHJhbmdlLnRhYnN0b3AuaW5kZXhPZihyYW5nZSk7XG4gICAgICAgIHJhbmdlLnRhYnN0b3Auc3BsaWNlKGksIDEpO1xuICAgICAgICBpID0gdGhpcy5yYW5nZXMuaW5kZXhPZihyYW5nZSk7XG4gICAgICAgIHRoaXMucmFuZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2Vzc2lvbi5yZW1vdmVNYXJrZXIocmFuZ2UubWFya2VySWQpO1xuICAgICAgICBpZiAoIXJhbmdlLnRhYnN0b3AubGVuZ3RoKSB7XG4gICAgICAgICAgICBpID0gdGhpcy50YWJzdG9wcy5pbmRleE9mKHJhbmdlLnRhYnN0b3ApO1xuICAgICAgICAgICAgaWYgKGkgIT0gLTEpXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzdG9wcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMudGFic3RvcHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5rZXlib2FyZEhhbmRsZXIgPSBuZXcgSGFzaEhhbmRsZXIoKTtcbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlci5iaW5kS2V5cyh7XG4gICAgICAgIFwiVGFiXCI6IGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICBpZiAoZXhwb3J0cy5zbmlwcGV0TWFuYWdlciAmJiBleHBvcnRzLnNuaXBwZXRNYW5hZ2VyLmV4cGFuZFdpdGhUYWIoZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlZC50YWJzdG9wTWFuYWdlci50YWJOZXh0KDEpO1xuICAgICAgICB9LFxuICAgICAgICBcIlNoaWZ0LVRhYlwiOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgZWQudGFic3RvcE1hbmFnZXIudGFiTmV4dCgtMSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiRXNjXCI6IGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICBlZC50YWJzdG9wTWFuYWdlci5kZXRhY2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJSZXR1cm5cIjogZnVuY3Rpb24oZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkuY2FsbChUYWJzdG9wTWFuYWdlci5wcm90b3R5cGUpO1xuXG5cblxudmFyIGNoYW5nZVRyYWNrZXIgPSB7fTtcbmNoYW5nZVRyYWNrZXIub25DaGFuZ2UgPSBBbmNob3IucHJvdG90eXBlLm9uQ2hhbmdlO1xuY2hhbmdlVHJhY2tlci5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgdGhpcy5wb3Mucm93ID0gcm93O1xuICAgIHRoaXMucG9zLmNvbHVtbiA9IGNvbHVtbjtcbn07XG5jaGFuZ2VUcmFja2VyLnVwZGF0ZSA9IGZ1bmN0aW9uKHBvcywgZGVsdGEsICRpbnNlcnRSaWdodCkge1xuICAgIHRoaXMuJGluc2VydFJpZ2h0ID0gJGluc2VydFJpZ2h0O1xuICAgIHRoaXMucG9zID0gcG9zOyBcbiAgICB0aGlzLm9uQ2hhbmdlKGRlbHRhKTtcbn07XG5cbnZhciBtb3ZlUG9pbnQgPSBmdW5jdGlvbihwb2ludCwgZGlmZikge1xuICAgIGlmIChwb2ludC5yb3cgPT0gMClcbiAgICAgICAgcG9pbnQuY29sdW1uICs9IGRpZmYuY29sdW1uO1xuICAgIHBvaW50LnJvdyArPSBkaWZmLnJvdztcbn07XG5cbnZhciBtb3ZlUmVsYXRpdmUgPSBmdW5jdGlvbihwb2ludCwgc3RhcnQpIHtcbiAgICBpZiAocG9pbnQucm93ID09IHN0YXJ0LnJvdylcbiAgICAgICAgcG9pbnQuY29sdW1uIC09IHN0YXJ0LmNvbHVtbjtcbiAgICBwb2ludC5yb3cgLT0gc3RhcnQucm93O1xufTtcblxuXG5hY2VxdWlyZShcIi4vbGliL2RvbVwiKS5pbXBvcnRDc3NTdHJpbmcoXCJcXFxuLmFjZV9zbmlwcGV0LW1hcmtlciB7XFxcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4gICAgYmFja2dyb3VuZDogcmdiYSgxOTQsIDE5MywgMjA4LCAwLjA5KTtcXFxuICAgIGJvcmRlcjogMXB4IGRvdHRlZCByZ2JhKDIxMSwgMjA4LCAyMzUsIDAuNjIpO1xcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcXG59XCIpO1xuXG5leHBvcnRzLnNuaXBwZXRNYW5hZ2VyID0gbmV3IFNuaXBwZXRNYW5hZ2VyKCk7XG5cblxudmFyIEVkaXRvciA9IGFjZXF1aXJlKFwiLi9lZGl0b3JcIikuRWRpdG9yO1xuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5zZXJ0U25pcHBldCA9IGZ1bmN0aW9uKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuc25pcHBldE1hbmFnZXIuaW5zZXJ0U25pcHBldCh0aGlzLCBjb250ZW50LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHRoaXMuZXhwYW5kU25pcHBldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuc25pcHBldE1hbmFnZXIuZXhwYW5kV2l0aFRhYih0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xufSkuY2FsbChFZGl0b3IucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvYXV0b2NvbXBsZXRlL3BvcHVwXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvdmlydHVhbF9yZW5kZXJlclwiLFwiYWNlL2VkaXRvclwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJlbmRlcmVyID0gYWNlcXVpcmUoXCIuLi92aXJ0dWFsX3JlbmRlcmVyXCIpLlZpcnR1YWxSZW5kZXJlcjtcbnZhciBFZGl0b3IgPSBhY2VxdWlyZShcIi4uL2VkaXRvclwiKS5FZGl0b3I7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIGV2ZW50ID0gYWNlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xuXG52YXIgJHNpbmdsZUxpbmVFZGl0b3IgPSBmdW5jdGlvbihlbCkge1xuICAgIHZhciByZW5kZXJlciA9IG5ldyBSZW5kZXJlcihlbCk7XG5cbiAgICByZW5kZXJlci4kbWF4TGluZXMgPSA0O1xuXG4gICAgdmFyIGVkaXRvciA9IG5ldyBFZGl0b3IocmVuZGVyZXIpO1xuXG4gICAgZWRpdG9yLnNldEhpZ2hsaWdodEFjdGl2ZUxpbmUoZmFsc2UpO1xuICAgIGVkaXRvci5zZXRTaG93UHJpbnRNYXJnaW4oZmFsc2UpO1xuICAgIGVkaXRvci5yZW5kZXJlci5zZXRTaG93R3V0dGVyKGZhbHNlKTtcbiAgICBlZGl0b3IucmVuZGVyZXIuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZShmYWxzZSk7XG5cbiAgICBlZGl0b3IuJG1vdXNlSGFuZGxlci4kZm9jdXNXYWl0VGltb3V0ID0gMDtcbiAgICBlZGl0b3IuJGhpZ2hsaWdodFRhZ1BlbmRpbmcgPSB0cnVlO1xuXG4gICAgcmV0dXJuIGVkaXRvcjtcbn07XG5cbnZhciBBY2VQb3B1cCA9IGZ1bmN0aW9uKHBhcmVudE5vZGUpIHtcbiAgICB2YXIgZWwgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB2YXIgcG9wdXAgPSBuZXcgJHNpbmdsZUxpbmVFZGl0b3IoZWwpO1xuXG4gICAgaWYgKHBhcmVudE5vZGUpXG4gICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBwb3B1cC5yZW5kZXJlci5jb250ZW50LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xuICAgIHBvcHVwLnJlbmRlcmVyLnNldFN0eWxlKFwiYWNlX2F1dG9jb21wbGV0ZVwiKTtcblxuICAgIHBvcHVwLnNldE9wdGlvbihcImRpc3BsYXlJbmRlbnRHdWlkZXNcIiwgZmFsc2UpO1xuICAgIHBvcHVwLnNldE9wdGlvbihcImRyYWdEZWxheVwiLCAxNTApO1xuXG4gICAgdmFyIG5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgICBwb3B1cC5mb2N1cyA9IG5vb3A7XG4gICAgcG9wdXAuJGlzRm9jdXNlZCA9IHRydWU7XG5cbiAgICBwb3B1cC5yZW5kZXJlci4kY3Vyc29yTGF5ZXIucmVzdGFydFRpbWVyID0gbm9vcDtcbiAgICBwb3B1cC5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcblxuICAgIHBvcHVwLnJlbmRlcmVyLiRtYXhMaW5lcyA9IDg7XG4gICAgcG9wdXAucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yID0gZmFsc2U7XG5cbiAgICBwb3B1cC5zZXRIaWdobGlnaHRBY3RpdmVMaW5lKGZhbHNlKTtcbiAgICBwb3B1cC5zZXNzaW9uLmhpZ2hsaWdodChcIlwiKTtcbiAgICBwb3B1cC5zZXNzaW9uLiRzZWFyY2hIaWdobGlnaHQuY2xhenogPSBcImFjZV9oaWdobGlnaHQtbWFya2VyXCI7XG5cbiAgICBwb3B1cC5vbihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBwb3MgPSBlLmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgcG9wdXAuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgIHNlbGVjdGlvbk1hcmtlci5zdGFydC5yb3cgPSBzZWxlY3Rpb25NYXJrZXIuZW5kLnJvdyA9IHBvcy5yb3c7XG4gICAgICAgIGUuc3RvcCgpO1xuICAgIH0pO1xuXG4gICAgdmFyIGxhc3RNb3VzZUV2ZW50O1xuICAgIHZhciBob3Zlck1hcmtlciA9IG5ldyBSYW5nZSgtMSwwLC0xLEluZmluaXR5KTtcbiAgICB2YXIgc2VsZWN0aW9uTWFya2VyID0gbmV3IFJhbmdlKC0xLDAsLTEsSW5maW5pdHkpO1xuICAgIHNlbGVjdGlvbk1hcmtlci5pZCA9IHBvcHVwLnNlc3Npb24uYWRkTWFya2VyKHNlbGVjdGlvbk1hcmtlciwgXCJhY2VfYWN0aXZlLWxpbmVcIiwgXCJmdWxsTGluZVwiKTtcbiAgICBwb3B1cC5zZXRTZWxlY3RPbkhvdmVyID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICBob3Zlck1hcmtlci5pZCA9IHBvcHVwLnNlc3Npb24uYWRkTWFya2VyKGhvdmVyTWFya2VyLCBcImFjZV9saW5lLWhvdmVyXCIsIFwiZnVsbExpbmVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoaG92ZXJNYXJrZXIuaWQpIHtcbiAgICAgICAgICAgIHBvcHVwLnNlc3Npb24ucmVtb3ZlTWFya2VyKGhvdmVyTWFya2VyLmlkKTtcbiAgICAgICAgICAgIGhvdmVyTWFya2VyLmlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcG9wdXAuc2V0U2VsZWN0T25Ib3ZlcihmYWxzZSk7XG4gICAgcG9wdXAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWxhc3RNb3VzZUV2ZW50KSB7XG4gICAgICAgICAgICBsYXN0TW91c2VFdmVudCA9IGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RNb3VzZUV2ZW50LnggPT0gZS54ICYmIGxhc3RNb3VzZUV2ZW50LnkgPT0gZS55KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGFzdE1vdXNlRXZlbnQgPSBlO1xuICAgICAgICBsYXN0TW91c2VFdmVudC5zY3JvbGxUb3AgPSBwb3B1cC5yZW5kZXJlci5zY3JvbGxUb3A7XG4gICAgICAgIHZhciByb3cgPSBsYXN0TW91c2VFdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICBpZiAoaG92ZXJNYXJrZXIuc3RhcnQucm93ICE9IHJvdykge1xuICAgICAgICAgICAgaWYgKCFob3Zlck1hcmtlci5pZClcbiAgICAgICAgICAgICAgICBwb3B1cC5zZXRSb3cocm93KTtcbiAgICAgICAgICAgIHNldEhvdmVyTWFya2VyKHJvdyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwb3B1cC5yZW5kZXJlci5vbihcImJlZm9yZVJlbmRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGxhc3RNb3VzZUV2ZW50ICYmIGhvdmVyTWFya2VyLnN0YXJ0LnJvdyAhPSAtMSkge1xuICAgICAgICAgICAgbGFzdE1vdXNlRXZlbnQuJHBvcyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgcm93ID0gbGFzdE1vdXNlRXZlbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdztcbiAgICAgICAgICAgIGlmICghaG92ZXJNYXJrZXIuaWQpXG4gICAgICAgICAgICAgICAgcG9wdXAuc2V0Um93KHJvdyk7XG4gICAgICAgICAgICBzZXRIb3Zlck1hcmtlcihyb3csIHRydWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcG9wdXAucmVuZGVyZXIub24oXCJhZnRlclJlbmRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHBvcHVwLmdldFJvdygpO1xuICAgICAgICB2YXIgdCA9IHBvcHVwLnJlbmRlcmVyLiR0ZXh0TGF5ZXI7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHQuZWxlbWVudC5jaGlsZE5vZGVzW3JvdyAtIHQuY29uZmlnLmZpcnN0Um93XTtcbiAgICAgICAgaWYgKHNlbGVjdGVkID09IHQuc2VsZWN0ZWROb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodC5zZWxlY3RlZE5vZGUpXG4gICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModC5zZWxlY3RlZE5vZGUsIFwiYWNlX3NlbGVjdGVkXCIpO1xuICAgICAgICB0LnNlbGVjdGVkTm9kZSA9IHNlbGVjdGVkO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpXG4gICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3Moc2VsZWN0ZWQsIFwiYWNlX3NlbGVjdGVkXCIpO1xuICAgIH0pO1xuICAgIHZhciBoaWRlSG92ZXJNYXJrZXIgPSBmdW5jdGlvbigpIHsgc2V0SG92ZXJNYXJrZXIoLTEpIH07XG4gICAgdmFyIHNldEhvdmVyTWFya2VyID0gZnVuY3Rpb24ocm93LCBzdXBwcmVzc1JlZHJhdykge1xuICAgICAgICBpZiAocm93ICE9PSBob3Zlck1hcmtlci5zdGFydC5yb3cpIHtcbiAgICAgICAgICAgIGhvdmVyTWFya2VyLnN0YXJ0LnJvdyA9IGhvdmVyTWFya2VyLmVuZC5yb3cgPSByb3c7XG4gICAgICAgICAgICBpZiAoIXN1cHByZXNzUmVkcmF3KVxuICAgICAgICAgICAgICAgIHBvcHVwLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICAgICAgcG9wdXAuX2VtaXQoXCJjaGFuZ2VIb3Zlck1hcmtlclwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcG9wdXAuZ2V0SG92ZXJlZFJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaG92ZXJNYXJrZXIuc3RhcnQucm93O1xuICAgIH07XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihwb3B1cC5jb250YWluZXIsIFwibW91c2VvdXRcIiwgaGlkZUhvdmVyTWFya2VyKTtcbiAgICBwb3B1cC5vbihcImhpZGVcIiwgaGlkZUhvdmVyTWFya2VyKTtcbiAgICBwb3B1cC5vbihcImNoYW5nZVNlbGVjdGlvblwiLCBoaWRlSG92ZXJNYXJrZXIpO1xuXG4gICAgcG9wdXAuc2Vzc2lvbi5kb2MuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwb3B1cC5kYXRhLmxlbmd0aDtcbiAgICB9O1xuICAgIHBvcHVwLnNlc3Npb24uZG9jLmdldExpbmUgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBkYXRhID0gcG9wdXAuZGF0YVtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgcmV0dXJuIChkYXRhICYmIGRhdGEudmFsdWUpIHx8IFwiXCI7XG4gICAgfTtcblxuICAgIHZhciBiZ1Rva2VuaXplciA9IHBvcHVwLnNlc3Npb24uYmdUb2tlbml6ZXI7XG4gICAgYmdUb2tlbml6ZXIuJHRva2VuaXplUm93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBkYXRhID0gcG9wdXAuZGF0YVtyb3ddO1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZGF0YSA9IHt2YWx1ZTogZGF0YX07XG4gICAgICAgIGlmICghZGF0YS5jYXB0aW9uKVxuICAgICAgICAgICAgZGF0YS5jYXB0aW9uID0gZGF0YS52YWx1ZSB8fCBkYXRhLm5hbWU7XG5cbiAgICAgICAgdmFyIGxhc3QgPSAtMTtcbiAgICAgICAgdmFyIGZsYWcsIGM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jYXB0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjID0gZGF0YS5jYXB0aW9uW2ldO1xuICAgICAgICAgICAgZmxhZyA9IGRhdGEubWF0Y2hNYXNrICYgKDEgPDwgaSkgPyAxIDogMDtcbiAgICAgICAgICAgIGlmIChsYXN0ICE9PSBmbGFnKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IGRhdGEuY2xhc3NOYW1lIHx8IFwiXCIgKyAoIGZsYWcgPyBcImNvbXBsZXRpb24taGlnaGxpZ2h0XCIgOiBcIlwiKSwgdmFsdWU6IGN9KTtcbiAgICAgICAgICAgICAgICBsYXN0ID0gZmxhZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS52YWx1ZSArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEubWV0YSkge1xuICAgICAgICAgICAgdmFyIG1heFcgPSBwb3B1cC5yZW5kZXJlci4kc2l6ZS5zY3JvbGxlcldpZHRoIC8gcG9wdXAucmVuZGVyZXIubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICB2YXIgbWV0YURhdGEgPSBkYXRhLm1ldGE7XG4gICAgICAgICAgICBpZiAobWV0YURhdGEubGVuZ3RoICsgZGF0YS5jYXB0aW9uLmxlbmd0aCA+IG1heFcgLSAyKSB7XG4gICAgICAgICAgICAgICAgbWV0YURhdGEgPSBtZXRhRGF0YS5zdWJzdHIoMCwgbWF4VyAtIGRhdGEuY2FwdGlvbi5sZW5ndGggLSAzKSArIFwiXFx1MjAyNlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbnMucHVzaCh7dHlwZTogXCJyaWdodEFsaWduZWRUZXh0XCIsIHZhbHVlOiBtZXRhRGF0YX0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfTtcbiAgICBiZ1Rva2VuaXplci4kdXBkYXRlT25DaGFuZ2UgPSBub29wO1xuICAgIGJnVG9rZW5pemVyLnN0YXJ0ID0gbm9vcDtcblxuICAgIHBvcHVwLnNlc3Npb24uJGNvbXB1dGVXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5XaWR0aCA9IDA7XG4gICAgfTtcblxuICAgIHBvcHVwLiRibG9ja1Njcm9sbGluZyA9IEluZmluaXR5O1xuICAgIHBvcHVwLmlzT3BlbiA9IGZhbHNlO1xuICAgIHBvcHVwLmlzVG9wZG93biA9IGZhbHNlO1xuXG4gICAgcG9wdXAuZGF0YSA9IFtdO1xuICAgIHBvcHVwLnNldERhdGEgPSBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgIHBvcHVwLnNldFZhbHVlKGxhbmcuc3RyaW5nUmVwZWF0KFwiXFxuXCIsIGxpc3QubGVuZ3RoKSwgLTEpO1xuICAgICAgICBwb3B1cC5kYXRhID0gbGlzdCB8fCBbXTtcbiAgICAgICAgcG9wdXAuc2V0Um93KDApO1xuICAgIH07XG4gICAgcG9wdXAuZ2V0RGF0YSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gcG9wdXAuZGF0YVtyb3ddO1xuICAgIH07XG5cbiAgICBwb3B1cC5nZXRSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbk1hcmtlci5zdGFydC5yb3c7XG4gICAgfTtcbiAgICBwb3B1cC5zZXRSb3cgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGxpbmUgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4odGhpcy5kYXRhLmxlbmd0aCwgbGluZSkpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uTWFya2VyLnN0YXJ0LnJvdyAhPSBsaW5lKSB7XG4gICAgICAgICAgICBwb3B1cC5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHNlbGVjdGlvbk1hcmtlci5zdGFydC5yb3cgPSBzZWxlY3Rpb25NYXJrZXIuZW5kLnJvdyA9IGxpbmUgfHwgMDtcbiAgICAgICAgICAgIHBvcHVwLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICAgICAgcG9wdXAubW92ZUN1cnNvclRvKGxpbmUgfHwgMCwgMCk7XG4gICAgICAgICAgICBpZiAocG9wdXAuaXNPcGVuKVxuICAgICAgICAgICAgICAgIHBvcHVwLl9zaWduYWwoXCJzZWxlY3RcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcG9wdXAub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwb3B1cC5pc09wZW4pXG4gICAgICAgICAgICBwb3B1cC5zZXRSb3cocG9wdXAuc2VsZWN0aW9uLmxlYWQucm93KTtcbiAgICAgICAgcG9wdXAucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICB9KTtcblxuICAgIHBvcHVwLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJoaWRlXCIpO1xuICAgICAgICBwb3B1cC5pc09wZW4gPSBmYWxzZTtcbiAgICB9O1xuICAgIHBvcHVwLnNob3cgPSBmdW5jdGlvbihwb3MsIGxpbmVIZWlnaHQsIHRvcGRvd25Pbmx5KSB7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB2YXIgc2NyZWVuV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIG1heEggPSByZW5kZXJlci4kbWF4TGluZXMgKiBsaW5lSGVpZ2h0ICogMS40O1xuICAgICAgICB2YXIgdG9wID0gcG9zLnRvcCArIHRoaXMuJGJvcmRlclNpemU7XG4gICAgICAgIGlmICh0b3AgKyBtYXhIID4gc2NyZWVuSGVpZ2h0IC0gbGluZUhlaWdodCAmJiAhdG9wZG93bk9ubHkpIHtcbiAgICAgICAgICAgIGVsLnN0eWxlLnRvcCA9IFwiXCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5ib3R0b20gPSBzY3JlZW5IZWlnaHQgLSB0b3AgKyBcInB4XCI7XG4gICAgICAgICAgICBwb3B1cC5pc1RvcGRvd24gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvcCArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgICAgICAgZWwuc3R5bGUuYm90dG9tID0gXCJcIjtcbiAgICAgICAgICAgIHBvcHVwLmlzVG9wZG93biA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5yZW5kZXJlci4kdGV4dExheWVyLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKTtcblxuICAgICAgICB2YXIgbGVmdCA9IHBvcy5sZWZ0O1xuICAgICAgICBpZiAobGVmdCArIGVsLm9mZnNldFdpZHRoID4gc2NyZWVuV2lkdGgpXG4gICAgICAgICAgICBsZWZ0ID0gc2NyZWVuV2lkdGggLSBlbC5vZmZzZXRXaWR0aDtcblxuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJzaG93XCIpO1xuICAgICAgICBsYXN0TW91c2VFdmVudCA9IG51bGw7XG4gICAgICAgIHBvcHVwLmlzT3BlbiA9IHRydWU7XG4gICAgfTtcblxuICAgIHBvcHVwLmdldFRleHRMZWZ0T2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRib3JkZXJTaXplICsgdGhpcy5yZW5kZXJlci4kcGFkZGluZyArIHRoaXMuJGltYWdlU2l6ZTtcbiAgICB9O1xuXG4gICAgcG9wdXAuJGltYWdlU2l6ZSA9IDA7XG4gICAgcG9wdXAuJGJvcmRlclNpemUgPSAxO1xuXG4gICAgcmV0dXJuIHBvcHVwO1xufTtcblxuZG9tLmltcG9ydENzc1N0cmluZyhcIlxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0NBRDZGQTtcXFxuICAgIHotaW5kZXg6IDE7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX2xpbmUtaG92ZXIge1xcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FiYmZmZTtcXFxuICAgIG1hcmdpbi10b3A6IC0xcHg7XFxcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzMywyMzMsMjUzLDAuNCk7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX2xpbmUtaG92ZXIge1xcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcXG4gICAgei1pbmRleDogMjtcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2Vfc2Nyb2xsZXIge1xcXG4gICBiYWNrZ3JvdW5kOiBub25lO1xcXG4gICBib3JkZXI6IG5vbmU7XFxcbiAgIGJveC1zaGFkb3c6IG5vbmU7XFxcbn1cXFxuLmFjZV9yaWdodEFsaWduZWRUZXh0IHtcXFxuICAgIGNvbG9yOiBncmF5O1xcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcXG4gICAgcmlnaHQ6IDRweDtcXFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xcXG4gICAgei1pbmRleDogLTE7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX2NvbXBsZXRpb24taGlnaGxpZ2h0e1xcXG4gICAgY29sb3I6ICMwMDA7XFxcbiAgICB0ZXh0LXNoYWRvdzogMCAwIDAuMDFlbTtcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIHtcXFxuICAgIHdpZHRoOiAyODBweDtcXFxuICAgIHotaW5kZXg6IDIwMDAwMDtcXFxuICAgIGJhY2tncm91bmQ6ICNmYmZiZmI7XFxcbiAgICBjb2xvcjogIzQ0NDtcXFxuICAgIGJvcmRlcjogMXB4IGxpZ2h0Z3JheSBzb2xpZDtcXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXFxuICAgIGJveC1zaGFkb3c6IDJweCAzcHggNXB4IHJnYmEoMCwwLDAsLjIpO1xcXG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcXFxufVwiKTtcblxuZXhwb3J0cy5BY2VQb3B1cCA9IEFjZVBvcHVwO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGUvdXRpbFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMucGFyRm9yRWFjaCA9IGZ1bmN0aW9uKGFycmF5LCBmbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgY29tcGxldGVkID0gMDtcbiAgICB2YXIgYXJMZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGFyTGVuZ3RoID09PSAwKVxuICAgICAgICBjYWxsYmFjaygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJMZW5ndGg7IGkrKykge1xuICAgICAgICBmbihhcnJheVtpXSwgZnVuY3Rpb24ocmVzdWx0LCBlcnIpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlZCsrO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCA9PT0gYXJMZW5ndGgpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0LCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG52YXIgSURfUkVHRVggPSAvW2EtekEtWl8wLTlcXCRcXC1cXHUwMEEyLVxcdUZGRkZdLztcblxuZXhwb3J0cy5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIgPSBmdW5jdGlvbih0ZXh0LCBwb3MsIHJlZ2V4KSB7XG4gICAgcmVnZXggPSByZWdleCB8fCBJRF9SRUdFWDtcbiAgICB2YXIgYnVmID0gW107XG4gICAgZm9yICh2YXIgaSA9IHBvcy0xOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAocmVnZXgudGVzdCh0ZXh0W2ldKSlcbiAgICAgICAgICAgIGJ1Zi5wdXNoKHRleHRbaV0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGJ1Zi5yZXZlcnNlKCkuam9pbihcIlwiKTtcbn07XG5cbmV4cG9ydHMucmV0cmlldmVGb2xsb3dpbmdJZGVudGlmaWVyID0gZnVuY3Rpb24odGV4dCwgcG9zLCByZWdleCkge1xuICAgIHJlZ2V4ID0gcmVnZXggfHwgSURfUkVHRVg7XG4gICAgdmFyIGJ1ZiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSBwb3M7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChyZWdleC50ZXN0KHRleHRbaV0pKVxuICAgICAgICAgICAgYnVmLnB1c2godGV4dFtpXSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvYXV0b2NvbXBsZXRlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2Uva2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIsXCJhY2UvYXV0b2NvbXBsZXRlL3BvcHVwXCIsXCJhY2UvYXV0b2NvbXBsZXRlL3V0aWxcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi9kb21cIixcImFjZS9zbmlwcGV0c1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBIYXNoSGFuZGxlciA9IGFjZXF1aXJlKFwiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuSGFzaEhhbmRsZXI7XG52YXIgQWNlUG9wdXAgPSBhY2VxdWlyZShcIi4vYXV0b2NvbXBsZXRlL3BvcHVwXCIpLkFjZVBvcHVwO1xudmFyIHV0aWwgPSBhY2VxdWlyZShcIi4vYXV0b2NvbXBsZXRlL3V0aWxcIik7XG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4vbGliL2V2ZW50XCIpO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgZG9tID0gYWNlcXVpcmUoXCIuL2xpYi9kb21cIik7XG52YXIgc25pcHBldE1hbmFnZXIgPSBhY2VxdWlyZShcIi4vc25pcHBldHNcIikuc25pcHBldE1hbmFnZXI7XG5cbnZhciBBdXRvY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmF1dG9JbnNlcnQgPSBmYWxzZTtcbiAgICB0aGlzLmF1dG9TZWxlY3QgPSB0cnVlO1xuICAgIHRoaXMuZXhhY3RNYXRjaCA9IGZhbHNlO1xuICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnNJZCA9IDA7XG4gICAgdGhpcy5rZXlib2FyZEhhbmRsZXIgPSBuZXcgSGFzaEhhbmRsZXIoKTtcbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlci5iaW5kS2V5cyh0aGlzLmNvbW1hbmRzKTtcblxuICAgIHRoaXMuYmx1ckxpc3RlbmVyID0gdGhpcy5ibHVyTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gdGhpcy5jaGFuZ2VMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubW91c2Vkb3duTGlzdGVuZXIgPSB0aGlzLm1vdXNlZG93bkxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIgPSB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lci5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5jaGFuZ2VUaW1lciA9IGxhbmcuZGVsYXllZENhbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcGxldGlvbnModHJ1ZSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMudG9vbHRpcFRpbWVyID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLnVwZGF0ZURvY1Rvb2x0aXAuYmluZCh0aGlzKSwgNTApO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnBvcHVwID0gbmV3IEFjZVBvcHVwKGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5wb3B1cC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0TWF0Y2goKTtcbiAgICAgICAgICAgIGUuc3RvcCgpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnBvcHVwLmZvY3VzID0gdGhpcy5lZGl0b3IuZm9jdXMuYmluZCh0aGlzLmVkaXRvcik7XG4gICAgICAgIHRoaXMucG9wdXAub24oXCJzaG93XCIsIHRoaXMudG9vbHRpcFRpbWVyLmJpbmQobnVsbCwgbnVsbCkpO1xuICAgICAgICB0aGlzLnBvcHVwLm9uKFwic2VsZWN0XCIsIHRoaXMudG9vbHRpcFRpbWVyLmJpbmQobnVsbCwgbnVsbCkpO1xuICAgICAgICB0aGlzLnBvcHVwLm9uKFwiY2hhbmdlSG92ZXJNYXJrZXJcIiwgdGhpcy50b29sdGlwVGltZXIuYmluZChudWxsLCBudWxsKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVwO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFBvcHVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVwIHx8IHRoaXMuJGluaXQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcGVuUG9wdXAgPSBmdW5jdGlvbihlZGl0b3IsIHByZWZpeCwga2VlcFBvcHVwUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCF0aGlzLnBvcHVwKVxuICAgICAgICAgICAgdGhpcy4kaW5pdCgpO1xuXG4gICAgICAgIHRoaXMucG9wdXAuc2V0RGF0YSh0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkKTtcblxuICAgICAgICBlZGl0b3Iua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIodGhpcy5rZXlib2FyZEhhbmRsZXIpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gZWRpdG9yLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLnBvcHVwLnNldFJvdyh0aGlzLmF1dG9TZWxlY3QgPyAwIDogLTEpO1xuICAgICAgICBpZiAoIWtlZXBQb3B1cFBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnNldFRoZW1lKGVkaXRvci5nZXRUaGVtZSgpKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc2V0Rm9udFNpemUoZWRpdG9yLmdldEZvbnRTaXplKCkpO1xuXG4gICAgICAgICAgICB2YXIgbGluZUhlaWdodCA9IHJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciBwb3MgPSByZW5kZXJlci4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbih0aGlzLmJhc2UsIHRydWUpO1xuICAgICAgICAgICAgcG9zLmxlZnQgLT0gdGhpcy5wb3B1cC5nZXRUZXh0TGVmdE9mZnNldCgpO1xuXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGVkaXRvci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBwb3MudG9wICs9IHJlY3QudG9wIC0gcmVuZGVyZXIubGF5ZXJDb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgcG9zLmxlZnQgKz0gcmVjdC5sZWZ0IC0gZWRpdG9yLnJlbmRlcmVyLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICBwb3MubGVmdCArPSByZW5kZXJlci5ndXR0ZXJXaWR0aDtcblxuICAgICAgICAgICAgdGhpcy5wb3B1cC5zaG93KHBvcywgbGluZUhlaWdodCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2VlcFBvcHVwUG9zaXRpb24gJiYgIXByZWZpeCkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVkaXRvci5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZihcImNoYW5nZVNlbGVjdGlvblwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKFwiYmx1clwiLCB0aGlzLmJsdXJMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKFwibW91c2V3aGVlbFwiLCB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY2hhbmdlVGltZXIuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuaGlkZURvY1Rvb2x0aXAoKTtcblxuICAgICAgICB0aGlzLmdhdGhlckNvbXBsZXRpb25zSWQgKz0gMTtcbiAgICAgICAgaWYgKHRoaXMucG9wdXAgJiYgdGhpcy5wb3B1cC5pc09wZW4pXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmhpZGUoKTtcblxuICAgICAgICBpZiAodGhpcy5iYXNlKVxuICAgICAgICAgICAgdGhpcy5iYXNlLmRldGFjaCgpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25zID0gdGhpcy5iYXNlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5sZWFkO1xuICAgICAgICBpZiAoY3Vyc29yLnJvdyAhPSB0aGlzLmJhc2Uucm93IHx8IGN1cnNvci5jb2x1bW4gPCB0aGlzLmJhc2UuY29sdW1uKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFjdGl2YXRlZClcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlVGltZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuXG4gICAgdGhpcy5ibHVyTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5lZGl0b3IudGV4dElucHV0LmdldEVsZW1lbnQoKTtcbiAgICAgICAgdmFyIGZyb21Ub29sdGlwID0gZS5yZWxhdGVkVGFyZ2V0ICYmIGUucmVsYXRlZFRhcmdldCA9PSB0aGlzLnRvb2x0aXBOb2RlO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5wb3B1cCAmJiB0aGlzLnBvcHVwLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKGVsICE9IHRleHQgJiYgZWwucGFyZW50Tm9kZSAhPSBjb250YWluZXIgJiYgIWZyb21Ub29sdGlwXG4gICAgICAgICAgICAmJiBlbCAhPSB0aGlzLnRvb2x0aXBOb2RlICYmIGUucmVsYXRlZFRhcmdldCAhPSB0ZXh0XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm1vdXNlZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG5cbiAgICB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nb1RvID0gZnVuY3Rpb24od2hlcmUpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucG9wdXAuZ2V0Um93KCk7XG4gICAgICAgIHZhciBtYXggPSB0aGlzLnBvcHVwLnNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxO1xuXG4gICAgICAgIHN3aXRjaCh3aGVyZSkge1xuICAgICAgICAgICAgY2FzZSBcInVwXCI6IHJvdyA9IHJvdyA8PSAwID8gbWF4IDogcm93IC0gMTsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZG93blwiOiByb3cgPSByb3cgPj0gbWF4ID8gLTEgOiByb3cgKyAxOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOiByb3cgPSAwOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjogcm93ID0gbWF4OyBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9wdXAuc2V0Um93KHJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuaW5zZXJ0TWF0Y2ggPSBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLnBvcHVwLmdldERhdGEodGhpcy5wb3B1cC5nZXRSb3coKSk7XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoZGF0YS5jb21wbGV0ZXIgJiYgZGF0YS5jb21wbGV0ZXIuaW5zZXJ0TWF0Y2gpIHtcbiAgICAgICAgICAgIGRhdGEuY29tcGxldGVyLmluc2VydE1hdGNoKHRoaXMuZWRpdG9yLCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRpb25zLmZpbHRlclRleHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmdldEFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByYW5nZTsgcmFuZ2UgPSByYW5nZXNbaV07IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gLT0gdGhpcy5jb21wbGV0aW9ucy5maWx0ZXJUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2Vzc2lvbi5yZW1vdmUocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnNuaXBwZXQpXG4gICAgICAgICAgICAgICAgc25pcHBldE1hbmFnZXIuaW5zZXJ0U25pcHBldCh0aGlzLmVkaXRvciwgZGF0YS5zbmlwcGV0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5leGVjQ29tbWFuZChcImluc2VydHN0cmluZ1wiLCBkYXRhLnZhbHVlIHx8IGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5jb21tYW5kcyA9IHtcbiAgICAgICAgXCJVcFwiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5nb1RvKFwidXBcIik7IH0sXG4gICAgICAgIFwiRG93blwiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5nb1RvKFwiZG93blwiKTsgfSxcbiAgICAgICAgXCJDdHJsLVVwfEN0cmwtSG9tZVwiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5nb1RvKFwic3RhcnRcIik7IH0sXG4gICAgICAgIFwiQ3RybC1Eb3dufEN0cmwtRW5kXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJlbmRcIik7IH0sXG5cbiAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21wbGV0ZXIuZGV0YWNoKCk7IH0sXG4gICAgICAgIFwiUmV0dXJuXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyByZXR1cm4gZWRpdG9yLmNvbXBsZXRlci5pbnNlcnRNYXRjaCgpOyB9LFxuICAgICAgICBcIlNoaWZ0LVJldHVyblwiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5pbnNlcnRNYXRjaChudWxsLCB7ZGVsZXRlU3VmZml4OiB0cnVlfSk7IH0sXG4gICAgICAgIFwiVGFiXCI6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVkaXRvci5jb21wbGV0ZXIuaW5zZXJ0TWF0Y2goKTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0ICYmICFlZGl0b3IudGFic3RvcE1hbmFnZXIpXG4gICAgICAgICAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5nb1RvKFwiZG93blwiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIFwiUGFnZVVwXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLnBvcHVwLmdvdG9QYWdlVXAoKTsgfSxcbiAgICAgICAgXCJQYWdlRG93blwiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5wb3B1cC5nb3RvUGFnZURvd24oKTsgfVxuICAgIH07XG5cbiAgICB0aGlzLmdhdGhlckNvbXBsZXRpb25zID0gZnVuY3Rpb24oZWRpdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5nZXRTZXNzaW9uKCk7XG4gICAgICAgIHZhciBwb3MgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcblxuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShwb3Mucm93KTtcbiAgICAgICAgdmFyIHByZWZpeCA9IHV0aWwucmV0cmlldmVQcmVjZWRpbmdJZGVudGlmaWVyKGxpbmUsIHBvcy5jb2x1bW4pO1xuXG4gICAgICAgIHRoaXMuYmFzZSA9IHNlc3Npb24uZG9jLmNyZWF0ZUFuY2hvcihwb3Mucm93LCBwb3MuY29sdW1uIC0gcHJlZml4Lmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYmFzZS4kaW5zZXJ0UmlnaHQgPSB0cnVlO1xuXG4gICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgIHZhciB0b3RhbCA9IGVkaXRvci5jb21wbGV0ZXJzLmxlbmd0aDtcbiAgICAgICAgZWRpdG9yLmNvbXBsZXRlcnMuZm9yRWFjaChmdW5jdGlvbihjb21wbGV0ZXIsIGkpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVycilcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG1hdGNoZXMuY29uY2F0KHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIHZhciBwb3MgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShwb3Mucm93KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeDogdXRpbC5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbiwgcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmlkZW50aWZpZXJSZWdleCksXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoZXMsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkOiAoLS10b3RhbCA9PT0gMClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd1BvcHVwID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICBpZiAoZWRpdG9yLmNvbXBsZXRlciAhPSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAoZWRpdG9yLmNvbXBsZXRlcilcbiAgICAgICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmRldGFjaCgpO1xuICAgICAgICAgICAgZWRpdG9yLmNvbXBsZXRlciA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy5jaGFuZ2VMaXN0ZW5lcik7XG4gICAgICAgIGVkaXRvci5vbihcImJsdXJcIiwgdGhpcy5ibHVyTGlzdGVuZXIpO1xuICAgICAgICBlZGl0b3Iub24oXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgIGVkaXRvci5vbihcIm1vdXNld2hlZWxcIiwgdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQ29tcGxldGlvbnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKGtlZXBQb3B1cFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChrZWVwUG9wdXBQb3NpdGlvbiAmJiB0aGlzLmJhc2UgJiYgdGhpcy5jb21wbGV0aW9ucykge1xuICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gdGhpcy5lZGl0b3Iuc2Vzc2lvbi5nZXRUZXh0UmFuZ2Uoe3N0YXJ0OiB0aGlzLmJhc2UsIGVuZDogcG9zfSk7XG4gICAgICAgICAgICBpZiAocHJlZml4ID09IHRoaXMuY29tcGxldGlvbnMuZmlsdGVyVGV4dClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRpb25zLnNldEZpbHRlcihwcmVmaXgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXRhY2goKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkLmxlbmd0aCA9PSAxXG4gICAgICAgICAgICAmJiB0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkWzBdLnZhbHVlID09IHByZWZpeFxuICAgICAgICAgICAgJiYgIXRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWRbMF0uc25pcHBldClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXRhY2goKTtcbiAgICAgICAgICAgIHRoaXMub3BlblBvcHVwKHRoaXMuZWRpdG9yLCBwcmVmaXgsIGtlZXBQb3B1cFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2lkID0gdGhpcy5nYXRoZXJDb21wbGV0aW9uc0lkO1xuICAgICAgICB0aGlzLmdhdGhlckNvbXBsZXRpb25zKHRoaXMuZWRpdG9yLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHZhciBkZXRhY2hJZkZpbmlzaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRzLmZpbmlzaGVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHZhciBwcmVmaXggPSByZXN1bHRzLnByZWZpeDtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gcmVzdWx0cyAmJiByZXN1bHRzLm1hdGNoZXM7XG5cbiAgICAgICAgICAgIGlmICghbWF0Y2hlcyB8fCAhbWF0Y2hlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaElmRmluaXNoZWQoKTtcbiAgICAgICAgICAgIGlmIChwcmVmaXguaW5kZXhPZihyZXN1bHRzLnByZWZpeCkgIT09IDAgfHwgX2lkICE9IHRoaXMuZ2F0aGVyQ29tcGxldGlvbnNJZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgRmlsdGVyZWRMaXN0KG1hdGNoZXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5leGFjdE1hdGNoKVxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGlvbnMuZXhhY3RNYXRjaCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGlvbnMuc2V0RmlsdGVyKHByZWZpeCk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkO1xuICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaElmRmluaXNoZWQoKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT0gMSAmJiBmaWx0ZXJlZFswXS52YWx1ZSA9PSBwcmVmaXggJiYgIWZpbHRlcmVkWzBdLnNuaXBwZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaElmRmluaXNoZWQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9JbnNlcnQgJiYgZmlsdGVyZWQubGVuZ3RoID09IDEgJiYgcmVzdWx0cy5maW5pc2hlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNYXRjaChmaWx0ZXJlZFswXSk7XG5cbiAgICAgICAgICAgIHRoaXMub3BlblBvcHVwKHRoaXMuZWRpdG9yLCBwcmVmaXgsIGtlZXBQb3B1cFBvc2l0aW9uKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jYW5jZWxDb250ZXh0TWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVkaXRvci4kbW91c2VIYW5kbGVyLmNhbmNlbENvbnRleHRNZW51KCk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlRG9jVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcG9wdXAgPSB0aGlzLnBvcHVwO1xuICAgICAgICB2YXIgYWxsID0gcG9wdXAuZGF0YTtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gYWxsICYmIChhbGxbcG9wdXAuZ2V0SG92ZXJlZFJvdygpXSB8fCBhbGxbcG9wdXAuZ2V0Um93KCldKTtcbiAgICAgICAgdmFyIGRvYyA9IG51bGw7XG4gICAgICAgIGlmICghc2VsZWN0ZWQgfHwgIXRoaXMuZWRpdG9yIHx8ICF0aGlzLnBvcHVwLmlzT3BlbilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVEb2NUb29sdGlwKCk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmNvbXBsZXRlcnMuc29tZShmdW5jdGlvbihjb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZXIuZ2V0RG9jVG9vbHRpcClcbiAgICAgICAgICAgICAgICBkb2MgPSBjb21wbGV0ZXIuZ2V0RG9jVG9vbHRpcChzZWxlY3RlZCk7XG4gICAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFkb2MpXG4gICAgICAgICAgICBkb2MgPSBzZWxlY3RlZDtcblxuICAgICAgICBpZiAodHlwZW9mIGRvYyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZG9jID0ge2RvY1RleHQ6IGRvY307XG4gICAgICAgIGlmICghZG9jIHx8ICEoZG9jLmRvY0hUTUwgfHwgZG9jLmRvY1RleHQpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZURvY1Rvb2x0aXAoKTtcbiAgICAgICAgdGhpcy5zaG93RG9jVG9vbHRpcChkb2MpO1xuICAgIH07XG5cbiAgICB0aGlzLnNob3dEb2NUb29sdGlwID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoIXRoaXMudG9vbHRpcE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuY2xhc3NOYW1lID0gXCJhY2VfdG9vbHRpcCBhY2VfZG9jLXRvb2x0aXBcIjtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuc3R5bGUubWFyZ2luID0gMDtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS50YWJJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5vbmJsdXIgPSB0aGlzLmJsdXJMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdGhpcy50b29sdGlwTm9kZTtcbiAgICAgICAgaWYgKGl0ZW0uZG9jSFRNTCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuaW5uZXJIVE1MID0gaXRlbS5kb2NIVE1MO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZG9jVGV4dCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUudGV4dENvbnRlbnQgPSBpdGVtLmRvY1RleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvb2x0aXBOb2RlLnBhcmVudE5vZGUpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvb2x0aXBOb2RlKTtcbiAgICAgICAgdmFyIHBvcHVwID0gdGhpcy5wb3B1cDtcbiAgICAgICAgdmFyIHJlY3QgPSBwb3B1cC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnRvcCA9IHBvcHVwLmNvbnRhaW5lci5zdHlsZS50b3A7XG4gICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLmJvdHRvbSA9IHBvcHVwLmNvbnRhaW5lci5zdHlsZS5ib3R0b207XG5cbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCA8IDMyMCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUucmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLmxlZnQgPSBcIlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUubGVmdCA9IChyZWN0LnJpZ2h0ICsgMSkgKyBcInB4XCI7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5yaWdodCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5oaWRlRG9jVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRvb2x0aXBUaW1lci5jYW5jZWwoKTtcbiAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXBOb2RlKSByZXR1cm47XG4gICAgICAgIHZhciBlbCA9IHRoaXMudG9vbHRpcE5vZGU7XG4gICAgICAgIGlmICghdGhpcy5lZGl0b3IuaXNGb2N1c2VkKCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PSBlbClcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgIHRoaXMudG9vbHRpcE5vZGUgPSBudWxsO1xuICAgICAgICBpZiAoZWwucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgIH07XG5cbn0pLmNhbGwoQXV0b2NvbXBsZXRlLnByb3RvdHlwZSk7XG5cbkF1dG9jb21wbGV0ZS5zdGFydENvbW1hbmQgPSB7XG4gICAgbmFtZTogXCJzdGFydEF1dG9jb21wbGV0ZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAoIWVkaXRvci5jb21wbGV0ZXIpXG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyID0gbmV3IEF1dG9jb21wbGV0ZSgpO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyLmF1dG9JbnNlcnQgPSBmYWxzZTtcbiAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5hdXRvU2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5zaG93UG9wdXAoZWRpdG9yKTtcbiAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5jYW5jZWxDb250ZXh0TWVudSgpO1xuICAgIH0sXG4gICAgYmluZEtleTogXCJDdHJsLVNwYWNlfEN0cmwtU2hpZnQtU3BhY2V8QWx0LVNwYWNlXCJcbn07XG5cbnZhciBGaWx0ZXJlZExpc3QgPSBmdW5jdGlvbihhcnJheSwgZmlsdGVyVGV4dCkge1xuICAgIHRoaXMuYWxsID0gYXJyYXk7XG4gICAgdGhpcy5maWx0ZXJlZCA9IGFycmF5O1xuICAgIHRoaXMuZmlsdGVyVGV4dCA9IGZpbHRlclRleHQgfHwgXCJcIjtcbiAgICB0aGlzLmV4YWN0TWF0Y2ggPSBmYWxzZTtcbn07XG4oZnVuY3Rpb24oKXtcbiAgICB0aGlzLnNldEZpbHRlciA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IHRoaXMuZmlsdGVyVGV4dCAmJiBzdHIubGFzdEluZGV4T2YodGhpcy5maWx0ZXJUZXh0LCAwKSA9PT0gMClcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gdGhpcy5maWx0ZXJlZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSB0aGlzLmFsbDtcblxuICAgICAgICB0aGlzLmZpbHRlclRleHQgPSBzdHI7XG4gICAgICAgIG1hdGNoZXMgPSB0aGlzLmZpbHRlckNvbXBsZXRpb25zKG1hdGNoZXMsIHRoaXMuZmlsdGVyVGV4dCk7XG4gICAgICAgIG1hdGNoZXMgPSBtYXRjaGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGIuZXhhY3RNYXRjaCAtIGEuZXhhY3RNYXRjaCB8fCBiLnNjb3JlIC0gYS5zY29yZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwcmV2ID0gbnVsbDtcbiAgICAgICAgbWF0Y2hlcyA9IG1hdGNoZXMuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgdmFyIGNhcHRpb24gPSBpdGVtLnNuaXBwZXQgfHwgaXRlbS5jYXB0aW9uIHx8IGl0ZW0udmFsdWU7XG4gICAgICAgICAgICBpZiAoY2FwdGlvbiA9PT0gcHJldikgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcHJldiA9IGNhcHRpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJlZCA9IG1hdGNoZXM7XG4gICAgfTtcbiAgICB0aGlzLmZpbHRlckNvbXBsZXRpb25zID0gZnVuY3Rpb24oaXRlbXMsIG5lZWRsZSkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICB2YXIgdXBwZXIgPSBuZWVkbGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgdmFyIGxvd2VyID0gbmVlZGxlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxvb3A6IGZvciAodmFyIGkgPSAwLCBpdGVtOyBpdGVtID0gaXRlbXNbaV07IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhcHRpb24gPSBpdGVtLnZhbHVlIHx8IGl0ZW0uY2FwdGlvbiB8fCBpdGVtLnNuaXBwZXQ7XG4gICAgICAgICAgICBpZiAoIWNhcHRpb24pIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGxhc3RJbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIG1hdGNoTWFzayA9IDA7XG4gICAgICAgICAgICB2YXIgcGVuYWx0eSA9IDA7XG4gICAgICAgICAgICB2YXIgaW5kZXgsIGRpc3RhbmNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5leGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRsZSAhPT0gY2FwdGlvbi5zdWJzdHIoMCwgbmVlZGxlLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5lZWRsZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaTEgPSBjYXB0aW9uLmluZGV4T2YobG93ZXJbal0sIGxhc3RJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaTIgPSBjYXB0aW9uLmluZGV4T2YodXBwZXJbal0sIGxhc3RJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IChpMSA+PSAwKSA/ICgoaTIgPCAwIHx8IGkxIDwgaTIpID8gaTEgOiBpMikgOiBpMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gaW5kZXggLSBsYXN0SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5hbHR5ICs9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuYWx0eSArPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaE1hc2sgPSBtYXRjaE1hc2sgfCAoMSA8PCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0ubWF0Y2hNYXNrID0gbWF0Y2hNYXNrO1xuICAgICAgICAgICAgaXRlbS5leGFjdE1hdGNoID0gcGVuYWx0eSA/IDAgOiAxO1xuICAgICAgICAgICAgaXRlbS5zY29yZSA9IChpdGVtLnNjb3JlIHx8IDApIC0gcGVuYWx0eTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9O1xufSkuY2FsbChGaWx0ZXJlZExpc3QucHJvdG90eXBlKTtcblxuZXhwb3J0cy5BdXRvY29tcGxldGUgPSBBdXRvY29tcGxldGU7XG5leHBvcnRzLkZpbHRlcmVkTGlzdCA9IEZpbHRlcmVkTGlzdDtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvYXV0b2NvbXBsZXRlL3RleHRfY29tcGxldGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgICB2YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuICAgIFxuICAgIHZhciBzcGxpdFJlZ2V4ID0gL1teYS16QS1aXzAtOVxcJFxcLVxcdTAwQzAtXFx1MUZGRlxcdTJDMDAtXFx1RDdGRlxcd10rLztcblxuICAgIGZ1bmN0aW9uIGdldFdvcmRJbmRleChkb2MsIHBvcykge1xuICAgICAgICB2YXIgdGV4dEJlZm9yZSA9IGRvYy5nZXRUZXh0UmFuZ2UoUmFuZ2UuZnJvbVBvaW50cyh7cm93OiAwLCBjb2x1bW46MH0sIHBvcykpO1xuICAgICAgICByZXR1cm4gdGV4dEJlZm9yZS5zcGxpdChzcGxpdFJlZ2V4KS5sZW5ndGggLSAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3b3JkRGlzdGFuY2UoZG9jLCBwb3MpIHtcbiAgICAgICAgdmFyIHByZWZpeFBvcyA9IGdldFdvcmRJbmRleChkb2MsIHBvcyk7XG4gICAgICAgIHZhciB3b3JkcyA9IGRvYy5nZXRWYWx1ZSgpLnNwbGl0KHNwbGl0UmVnZXgpO1xuICAgICAgICB2YXIgd29yZFNjb3JlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgY3VycmVudFdvcmQgPSB3b3Jkc1twcmVmaXhQb3NdO1xuXG4gICAgICAgIHdvcmRzLmZvckVhY2goZnVuY3Rpb24od29yZCwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoIXdvcmQgfHwgd29yZCA9PT0gY3VycmVudFdvcmQpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5hYnMocHJlZml4UG9zIC0gaWR4KTtcbiAgICAgICAgICAgIHZhciBzY29yZSA9IHdvcmRzLmxlbmd0aCAtIGRpc3RhbmNlO1xuICAgICAgICAgICAgaWYgKHdvcmRTY29yZXNbd29yZF0pIHtcbiAgICAgICAgICAgICAgICB3b3JkU2NvcmVzW3dvcmRdID0gTWF0aC5tYXgoc2NvcmUsIHdvcmRTY29yZXNbd29yZF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3b3JkU2NvcmVzW3dvcmRdID0gc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd29yZFNjb3JlcztcbiAgICB9XG5cbiAgICBleHBvcnRzLmdldENvbXBsZXRpb25zID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBwb3MsIHByZWZpeCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHdvcmRTY29yZSA9IHdvcmREaXN0YW5jZShzZXNzaW9uLCBwb3MsIHByZWZpeCk7XG4gICAgICAgIHZhciB3b3JkTGlzdCA9IE9iamVjdC5rZXlzKHdvcmRTY29yZSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHdvcmRMaXN0Lm1hcChmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhcHRpb246IHdvcmQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHdvcmRTY29yZVt3b3JkXSxcbiAgICAgICAgICAgICAgICBtZXRhOiBcImxvY2FsXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2Uvc25pcHBldHNcIixcImFjZS9hdXRvY29tcGxldGVcIixcImFjZS9jb25maWdcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2F1dG9jb21wbGV0ZS91dGlsXCIsXCJhY2UvYXV0b2NvbXBsZXRlL3RleHRfY29tcGxldGVyXCIsXCJhY2UvZWRpdG9yXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHNuaXBwZXRNYW5hZ2VyID0gYWNlcXVpcmUoXCIuLi9zbmlwcGV0c1wiKS5zbmlwcGV0TWFuYWdlcjtcbnZhciBBdXRvY29tcGxldGUgPSBhY2VxdWlyZShcIi4uL2F1dG9jb21wbGV0ZVwiKS5BdXRvY29tcGxldGU7XG52YXIgY29uZmlnID0gYWNlcXVpcmUoXCIuLi9jb25maWdcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgdXRpbCA9IGFjZXF1aXJlKFwiLi4vYXV0b2NvbXBsZXRlL3V0aWxcIik7XG5cbnZhciB0ZXh0Q29tcGxldGVyID0gYWNlcXVpcmUoXCIuLi9hdXRvY29tcGxldGUvdGV4dF9jb21wbGV0ZXJcIik7XG52YXIga2V5V29yZENvbXBsZXRlciA9IHtcbiAgICBnZXRDb21wbGV0aW9uczogZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBwb3MsIHByZWZpeCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHNlc3Npb24uJG1vZGUuY29tcGxldGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbi4kbW9kZS5jb21wbGV0ZXIuZ2V0Q29tcGxldGlvbnMoZWRpdG9yLCBzZXNzaW9uLCBwb3MsIHByZWZpeCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5zZXNzaW9uLmdldFN0YXRlKHBvcy5yb3cpO1xuICAgICAgICB2YXIgY29tcGxldGlvbnMgPSBzZXNzaW9uLiRtb2RlLmdldENvbXBsZXRpb25zKHN0YXRlLCBzZXNzaW9uLCBwb3MsIHByZWZpeCk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGNvbXBsZXRpb25zKTtcbiAgICB9XG59O1xuXG52YXIgc25pcHBldENvbXBsZXRlciA9IHtcbiAgICBnZXRDb21wbGV0aW9uczogZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBwb3MsIHByZWZpeCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSBzbmlwcGV0TWFuYWdlci5zbmlwcGV0TWFwO1xuICAgICAgICB2YXIgY29tcGxldGlvbnMgPSBbXTtcbiAgICAgICAgc25pcHBldE1hbmFnZXIuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcikuZm9yRWFjaChmdW5jdGlvbihzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNuaXBwZXRzID0gc25pcHBldE1hcFtzY29wZV0gfHwgW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc25pcHBldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBzbmlwcGV0c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgY2FwdGlvbiA9IHMubmFtZSB8fCBzLnRhYlRyaWdnZXI7XG4gICAgICAgICAgICAgICAgaWYgKCFjYXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogY2FwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldDogcy5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBtZXRhOiBzLnRhYlRyaWdnZXIgJiYgIXMubmFtZSA/IHMudGFiVHJpZ2dlciArIFwiXFx1MjFFNSBcIiA6IFwic25pcHBldFwiLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNuaXBwZXRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgY29tcGxldGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0RG9jVG9vbHRpcDogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09IFwic25pcHBldFwiICYmICFpdGVtLmRvY0hUTUwpIHtcbiAgICAgICAgICAgIGl0ZW0uZG9jSFRNTCA9IFtcbiAgICAgICAgICAgICAgICBcIjxiPlwiLCBsYW5nLmVzY2FwZUhUTUwoaXRlbS5jYXB0aW9uKSwgXCI8L2I+XCIsIFwiPGhyPjwvaHI+XCIsXG4gICAgICAgICAgICAgICAgbGFuZy5lc2NhcGVIVE1MKGl0ZW0uc25pcHBldClcbiAgICAgICAgICAgIF0uam9pbihcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBjb21wbGV0ZXJzID0gW3NuaXBwZXRDb21wbGV0ZXIsIHRleHRDb21wbGV0ZXIsIGtleVdvcmRDb21wbGV0ZXJdO1xuZXhwb3J0cy5zZXRDb21wbGV0ZXJzID0gZnVuY3Rpb24odmFsKSB7XG4gICAgY29tcGxldGVycyA9IHZhbCB8fCBbXTtcbn07XG5leHBvcnRzLmFkZENvbXBsZXRlciA9IGZ1bmN0aW9uKGNvbXBsZXRlcikge1xuICAgIGNvbXBsZXRlcnMucHVzaChjb21wbGV0ZXIpO1xufTtcbmV4cG9ydHMudGV4dENvbXBsZXRlciA9IHRleHRDb21wbGV0ZXI7XG5leHBvcnRzLmtleVdvcmRDb21wbGV0ZXIgPSBrZXlXb3JkQ29tcGxldGVyO1xuZXhwb3J0cy5zbmlwcGV0Q29tcGxldGVyID0gc25pcHBldENvbXBsZXRlcjtcblxudmFyIGV4cGFuZFNuaXBwZXQgPSB7XG4gICAgbmFtZTogXCJleHBhbmRTbmlwcGV0XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiBzbmlwcGV0TWFuYWdlci5leHBhbmRXaXRoVGFiKGVkaXRvcik7XG4gICAgfSxcbiAgICBiaW5kS2V5OiBcIlRhYlwiXG59O1xuXG52YXIgb25DaGFuZ2VNb2RlID0gZnVuY3Rpb24oZSwgZWRpdG9yKSB7XG4gICAgbG9hZFNuaXBwZXRzRm9yTW9kZShlZGl0b3Iuc2Vzc2lvbi4kbW9kZSk7XG59O1xuXG52YXIgbG9hZFNuaXBwZXRzRm9yTW9kZSA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICB2YXIgaWQgPSBtb2RlLiRpZDtcbiAgICBpZiAoIXNuaXBwZXRNYW5hZ2VyLmZpbGVzKVxuICAgICAgICBzbmlwcGV0TWFuYWdlci5maWxlcyA9IHt9O1xuICAgIGxvYWRTbmlwcGV0RmlsZShpZCk7XG4gICAgaWYgKG1vZGUubW9kZXMpXG4gICAgICAgIG1vZGUubW9kZXMuZm9yRWFjaChsb2FkU25pcHBldHNGb3JNb2RlKTtcbn07XG5cbnZhciBsb2FkU25pcHBldEZpbGUgPSBmdW5jdGlvbihpZCkge1xuICAgIGlmICghaWQgfHwgc25pcHBldE1hbmFnZXIuZmlsZXNbaWRdKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIHNuaXBwZXRGaWxlUGF0aCA9IGlkLnJlcGxhY2UoXCJtb2RlXCIsIFwic25pcHBldHNcIik7XG4gICAgc25pcHBldE1hbmFnZXIuZmlsZXNbaWRdID0ge307XG4gICAgY29uZmlnLmxvYWRNb2R1bGUoc25pcHBldEZpbGVQYXRoLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5maWxlc1tpZF0gPSBtO1xuICAgICAgICAgICAgaWYgKCFtLnNuaXBwZXRzICYmIG0uc25pcHBldFRleHQpXG4gICAgICAgICAgICAgICAgbS5zbmlwcGV0cyA9IHNuaXBwZXRNYW5hZ2VyLnBhcnNlU25pcHBldEZpbGUobS5zbmlwcGV0VGV4dCk7XG4gICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5yZWdpc3RlcihtLnNuaXBwZXRzIHx8IFtdLCBtLnNjb3BlKTtcbiAgICAgICAgICAgIGlmIChtLmluY2x1ZGVTY29wZXMpIHtcbiAgICAgICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5zbmlwcGV0TWFwW20uc2NvcGVdLmluY2x1ZGVTY29wZXMgPSBtLmluY2x1ZGVTY29wZXM7XG4gICAgICAgICAgICAgICAgbS5pbmNsdWRlU2NvcGVzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkU25pcHBldEZpbGUoXCJhY2UvbW9kZS9cIiArIHgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5mdW5jdGlvbiBnZXRDb21wbGV0aW9uUHJlZml4KGVkaXRvcikge1xuICAgIHZhciBwb3MgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgbGluZSA9IGVkaXRvci5zZXNzaW9uLmdldExpbmUocG9zLnJvdyk7XG4gICAgdmFyIHByZWZpeDtcbiAgICBlZGl0b3IuY29tcGxldGVycy5mb3JFYWNoKGZ1bmN0aW9uKGNvbXBsZXRlcikge1xuICAgICAgICBpZiAoY29tcGxldGVyLmlkZW50aWZpZXJSZWdleHBzKSB7XG4gICAgICAgICAgICBjb21wbGV0ZXIuaWRlbnRpZmllclJlZ2V4cHMuZm9yRWFjaChmdW5jdGlvbihpZGVudGlmaWVyUmVnZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByZWZpeCAmJiBpZGVudGlmaWVyUmVnZXgpXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9IHV0aWwucmV0cmlldmVQcmVjZWRpbmdJZGVudGlmaWVyKGxpbmUsIHBvcy5jb2x1bW4sIGlkZW50aWZpZXJSZWdleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwcmVmaXggfHwgdXRpbC5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbik7XG59XG5cbnZhciBkb0xpdmVBdXRvY29tcGxldGUgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVkaXRvciA9IGUuZWRpdG9yO1xuICAgIHZhciBoYXNDb21wbGV0ZXIgPSBlZGl0b3IuY29tcGxldGVyICYmIGVkaXRvci5jb21wbGV0ZXIuYWN0aXZhdGVkO1xuICAgIGlmIChlLmNvbW1hbmQubmFtZSA9PT0gXCJiYWNrc3BhY2VcIikge1xuICAgICAgICBpZiAoaGFzQ29tcGxldGVyICYmICFnZXRDb21wbGV0aW9uUHJlZml4KGVkaXRvcikpXG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmRldGFjaCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlLmNvbW1hbmQubmFtZSA9PT0gXCJpbnNlcnRzdHJpbmdcIikge1xuICAgICAgICB2YXIgcHJlZml4ID0gZ2V0Q29tcGxldGlvblByZWZpeChlZGl0b3IpO1xuICAgICAgICBpZiAocHJlZml4ICYmICFoYXNDb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmNvbXBsZXRlcikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIgPSBuZXcgQXV0b2NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmF1dG9JbnNlcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIuc2hvd1BvcHVwKGVkaXRvcik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgRWRpdG9yID0gYWNlcXVpcmUoXCIuLi9lZGl0b3JcIikuRWRpdG9yO1xuYWNlcXVpcmUoXCIuLi9jb25maWdcIikuZGVmaW5lT3B0aW9ucyhFZGl0b3IucHJvdG90eXBlLCBcImVkaXRvclwiLCB7XG4gICAgZW5hYmxlQmFzaWNBdXRvY29tcGxldGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wbGV0ZXJzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcnMgPSBBcnJheS5pc0FycmF5KHZhbCk/IHZhbDogY29tcGxldGVycztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLmFkZENvbW1hbmQoQXV0b2NvbXBsZXRlLnN0YXJ0Q29tbWFuZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMucmVtb3ZlQ29tbWFuZChBdXRvY29tcGxldGUuc3RhcnRDb21tYW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBlbmFibGVMaXZlQXV0b2NvbXBsZXRpb246IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29tcGxldGVycylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZXJzID0gQXJyYXkuaXNBcnJheSh2YWwpPyB2YWw6IGNvbXBsZXRlcnM7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5vbignYWZ0ZXJFeGVjJywgZG9MaXZlQXV0b2NvbXBsZXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5yZW1vdmVMaXN0ZW5lcignYWZ0ZXJFeGVjJywgZG9MaXZlQXV0b2NvbXBsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBlbmFibGVTbmlwcGV0czoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuYWRkQ29tbWFuZChleHBhbmRTbmlwcGV0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlTW9kZVwiLCBvbkNoYW5nZU1vZGUpO1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlTW9kZShudWxsLCB0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5yZW1vdmVDb21tYW5kKGV4cGFuZFNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmKFwiY2hhbmdlTW9kZVwiLCBvbkNoYW5nZU1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICB9XG59KTtcbn0pO1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNlLmFjZXF1aXJlKFtcImFjZS9leHQvbGFuZ3VhZ2VfdG9vbHNcIl0sIGZ1bmN0aW9uKCkge30pO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAiLCJhY2UuZGVmaW5lKFwiYWNlL21vZGUvZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG5cbnZhciBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRydWxlcyA9IHtcbiAgICAgICAgXCJzdGFydFwiIDogWyB7XG4gICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudC5kb2MudGFnXCIsXG4gICAgICAgICAgICByZWdleCA6IFwiQFtcXFxcd1xcXFxkX10rXCIgLy8gVE9ETzogZml4IGVtYWlsIGFkZHJlc3Nlc1xuICAgICAgICB9LCBcbiAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUoKSxcbiAgICAgICAge1xuICAgICAgICAgICAgZGVmYXVsdFRva2VuIDogXCJjb21tZW50LmRvY1wiLFxuICAgICAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiB0cnVlXG4gICAgICAgIH1dXG4gICAgfTtcbn07XG5cbm9vcC5pbmhlcml0cyhEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMsIFRleHRIaWdobGlnaHRSdWxlcyk7XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlID0gZnVuY3Rpb24oc3RhcnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbiA6IFwiY29tbWVudC5kb2MudGFnLnN0b3JhZ2UudHlwZVwiLFxuICAgICAgICByZWdleCA6IFwiXFxcXGIoPzpUT0RPfEZJWE1FfFhYWHxIQUNLKVxcXFxiXCJcbiAgICB9O1xufVxuXG5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0U3RhcnRSdWxlID0gZnVuY3Rpb24oc3RhcnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbiA6IFwiY29tbWVudC5kb2NcIiwgLy8gZG9jIGNvbW1lbnRcbiAgICAgICAgcmVnZXggOiBcIlxcXFwvXFxcXCooPz1cXFxcKilcIixcbiAgICAgICAgbmV4dCAgOiBzdGFydFxuICAgIH07XG59O1xuXG5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0RW5kUnVsZSA9IGZ1bmN0aW9uIChzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvY1wiLCAvLyBjbG9zaW5nIGNvbW1lbnRcbiAgICAgICAgcmVnZXggOiBcIlxcXFwqXFxcXC9cIixcbiAgICAgICAgbmV4dCAgOiBzdGFydFxuICAgIH07XG59O1xuXG5cbmV4cG9ydHMuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzID0gRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlc1wiKS5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcbnZhciBpZGVudGlmaWVyUmUgPSBcIlthLXpBLVpcXFxcJF9cXHUwMGExLVxcdWZmZmZdW2EtekEtWlxcXFxkXFxcXCRfXFx1MDBhMS1cXHVmZmZmXSpcXFxcYlwiO1xuXG52YXIgSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBrZXl3b3JkTWFwcGVyID0gdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKHtcbiAgICAgICAgXCJ2YXJpYWJsZS5sYW5ndWFnZVwiOlxuICAgICAgICAgICAgXCJBcnJheXxCb29sZWFufERhdGV8RnVuY3Rpb258SXRlcmF0b3J8TnVtYmVyfE9iamVjdHxSZWdFeHB8U3RyaW5nfFByb3h5fFwiICArIC8vIENvbnN0cnVjdG9yc1xuICAgICAgICAgICAgXCJOYW1lc3BhY2V8UU5hbWV8WE1MfFhNTExpc3R8XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIC8vIEU0WFxuICAgICAgICAgICAgXCJBcnJheUJ1ZmZlcnxGbG9hdDMyQXJyYXl8RmxvYXQ2NEFycmF5fEludDE2QXJyYXl8SW50MzJBcnJheXxJbnQ4QXJyYXl8XCIgICArXG4gICAgICAgICAgICBcIlVpbnQxNkFycmF5fFVpbnQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDhDbGFtcGVkQXJyYXl8XCIgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgIFwiRXJyb3J8RXZhbEVycm9yfEludGVybmFsRXJyb3J8UmFuZ2VFcnJvcnxSZWZlcmVuY2VFcnJvcnxTdG9wSXRlcmF0aW9ufFwiICAgKyAvLyBFcnJvcnNcbiAgICAgICAgICAgIFwiU3ludGF4RXJyb3J8VHlwZUVycm9yfFVSSUVycm9yfFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgXCJkZWNvZGVVUkl8ZGVjb2RlVVJJQ29tcG9uZW50fGVuY29kZVVSSXxlbmNvZGVVUklDb21wb25lbnR8ZXZhbHxpc0Zpbml0ZXxcIiArIC8vIE5vbi1jb25zdHJ1Y3RvciBmdW5jdGlvbnNcbiAgICAgICAgICAgIFwiaXNOYU58cGFyc2VGbG9hdHxwYXJzZUludHxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgXCJKU09OfE1hdGh8XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIC8vIE90aGVyXG4gICAgICAgICAgICBcInRoaXN8YXJndW1lbnRzfHByb3RvdHlwZXx3aW5kb3d8ZG9jdW1lbnRcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgLy8gUHNldWRvXG4gICAgICAgIFwia2V5d29yZFwiOlxuICAgICAgICAgICAgXCJjb25zdHx5aWVsZHxpbXBvcnR8Z2V0fHNldHxcIiArXG4gICAgICAgICAgICBcImJyZWFrfGNhc2V8Y2F0Y2h8Y29udGludWV8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxmaW5hbGx5fGZvcnxmdW5jdGlvbnxcIiArXG4gICAgICAgICAgICBcImlmfGlufGluc3RhbmNlb2Z8bmV3fHJldHVybnxzd2l0Y2h8dGhyb3d8dHJ5fHR5cGVvZnxsZXR8dmFyfHdoaWxlfHdpdGh8ZGVidWdnZXJ8XCIgK1xuICAgICAgICAgICAgXCJfX3BhcmVudF9ffF9fY291bnRfX3xlc2NhcGV8dW5lc2NhcGV8d2l0aHxfX3Byb3RvX198XCIgK1xuICAgICAgICAgICAgXCJjbGFzc3xlbnVtfGV4dGVuZHN8c3VwZXJ8ZXhwb3J0fGltcGxlbWVudHN8cHJpdmF0ZXxwdWJsaWN8aW50ZXJmYWNlfHBhY2thZ2V8cHJvdGVjdGVkfHN0YXRpY1wiLFxuICAgICAgICBcInN0b3JhZ2UudHlwZVwiOlxuICAgICAgICAgICAgXCJjb25zdHxsZXR8dmFyfGZ1bmN0aW9uXCIsXG4gICAgICAgIFwiY29uc3RhbnQubGFuZ3VhZ2VcIjpcbiAgICAgICAgICAgIFwibnVsbHxJbmZpbml0eXxOYU58dW5kZWZpbmVkXCIsXG4gICAgICAgIFwic3VwcG9ydC5mdW5jdGlvblwiOlxuICAgICAgICAgICAgXCJhbGVydFwiLFxuICAgICAgICBcImNvbnN0YW50Lmxhbmd1YWdlLmJvb2xlYW5cIjogXCJ0cnVlfGZhbHNlXCJcbiAgICB9LCBcImlkZW50aWZpZXJcIik7XG4gICAgdmFyIGt3QmVmb3JlUmUgPSBcImNhc2V8ZG98ZWxzZXxmaW5hbGx5fGlufGluc3RhbmNlb2Z8cmV0dXJufHRocm93fHRyeXx0eXBlb2Z8eWllbGR8dm9pZFwiO1xuXG4gICAgdmFyIGVzY2FwZWRSZSA9IFwiXFxcXFxcXFwoPzp4WzAtOWEtZkEtRl17Mn18XCIgKyAvLyBoZXhcbiAgICAgICAgXCJ1WzAtOWEtZkEtRl17NH18XCIgKyAvLyB1bmljb2RlXG4gICAgICAgIFwiWzAtMl1bMC03XXswLDJ9fFwiICsgLy8gb2N0XG4gICAgICAgIFwiM1swLTZdWzAtN10/fFwiICsgLy8gb2N0XG4gICAgICAgIFwiMzdbMC03XT98XCIgKyAvLyBvY3RcbiAgICAgICAgXCJbNC03XVswLTddP3xcIiArIC8vb2N0XG4gICAgICAgIFwiLilcIjtcblxuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcIm5vX3JlZ2V4XCIgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcL1wiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcImxpbmVfY29tbWVudFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFN0YXJ0UnVsZShcImRvYy1zdGFydFwiKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLCAvLyBtdWx0aSBsaW5lIGNvbW1lbnRcbiAgICAgICAgICAgICAgICByZWdleCA6IC9cXC9cXCovLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcImNvbW1lbnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiJyg/PS4pXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFzdHJpbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6ICdcIig/PS4pJyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwicXFzdHJpbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5udW1lcmljXCIsIC8vIGhleFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLzBbeFhdWzAtOWEtZkEtRl0rXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5udW1lcmljXCIsIC8vIGZsb2F0XG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJzdXBwb3J0LmZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcImtleXdvcmQub3BlcmF0b3JcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikocHJvdG90eXBlKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwia2V5d29yZC5vcGVyYXRvclwiLCBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXC4pKFwiICsgaWRlbnRpZmllclJlICtcIikoXFxcXHMqKSg9KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKykoXFxcXHcrKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoZnVuY3Rpb24pKFxcXFxzKykoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiZW50aXR5Lm5hbWUuZnVuY3Rpb25cIiwgXCJ0ZXh0XCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCIsIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFxzKikoOikoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiLCBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoOikoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKD86XCIgKyBrd0JlZm9yZVJlICsgXCIpXFxcXGJcIixcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJzdXBwb3J0LmNvbnN0YW50XCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL3RoYXRcXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcInN1cHBvcnQuZnVuY3Rpb24uZmlyZWJ1Z1wiXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IC8oY29uc29sZSkoXFwuKSh3YXJufGluZm98bG9nfGVycm9yfHRpbWV8dHJhY2V8dGltZUVuZHxhc3NlcnQpXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDoga2V5d29yZE1hcHBlcixcbiAgICAgICAgICAgICAgICByZWdleCA6IGlkZW50aWZpZXJSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1suXSg/IVsuXSkvLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJwcm9wZXJ0eVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8tLXxcXCtcXCt8XFwuezN9fD09PXw9PXw9fCE9fCE9PXw8PXw+PXw8PD18Pj49fD4+Pj18PD58PHw+fCF8JiZ8XFx8XFx8fFxcP1xcOnxbISQlJiorXFwtflxcL15dPT8vLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWz86LDsuXS8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ubHBhcmVuXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvW1xcWyh7XS8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ucnBhcmVuXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvW1xcXSl9XS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9eIyEuKiQvXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHByb3BlcnR5OiBbe1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxzK1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pKFxcXFxzKikoZnVuY3Rpb24pKD86KFxcXFxzKykoXFxcXHcrKSk/KFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1suXSg/IVsuXSkvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN1cHBvcnQuZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8ocyg/OmgoPzppZnR8b3coPzpNb2QoPzplbGVzc0RpYWxvZ3xhbERpYWxvZyl8SGVscCkpfGNyb2xsKD86WHxCeSg/OlBhZ2VzfExpbmVzKT98WXxUbyk/fHQoPzpvcHxyaWtlKXxpKD86bnx6ZVRvQ29udGVudHxkZWJhcnxnblRleHQpfG9ydHx1KD86cHxiKD86c3RyKD86aW5nKT8pPyl8cGxpKD86Y2V8dCl8ZSg/Om5kfHQoPzpSZSg/OnNpemFibGV8cXVlc3RIZWFkZXIpfE0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIbyg/OnRLZXlzfHVycyl8WWVhcnxDdXJzb3J8VGltZSg/Om91dCk/fEludGVydmFsfFpPcHRpb25zfERhdGV8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhdGV8RnVsbFllYXIpfEZ1bGxZZWFyfEFjdGl2ZSl8YXJjaCl8cXJ0fGxpY2V8YXZlUHJlZmVyZW5jZXN8bWFsbCl8aCg/Om9tZXxhbmRsZUV2ZW50KXxuYXZpZ2F0ZXxjKD86aGFyKD86Q29kZUF0fEF0KXxvKD86c3xuKD86Y2F0fHRleHR1YWx8ZmlybSl8bXBpbGUpfGVpbHxsZWFyKD86VGltZW91dHxJbnRlcnZhbCk/fGEoPzpwdHVyZUV2ZW50c3xsbCl8cmVhdGUoPzpTdHlsZVNoZWV0fFBvcHVwfEV2ZW50T2JqZWN0KSl8dCg/Om8oPzpHTVRTdHJpbmd8Uyg/OnRyaW5nfG91cmNlKXxVKD86VENTdHJpbmd8cHBlckNhc2UpfExvKD86Y2FsZVN0cmluZ3x3ZXJDYXNlKSl8ZXN0fGEoPzpufGludCg/OkVuYWJsZWQpPykpfGkoPzpzKD86TmFOfEZpbml0ZSl8bmRleE9mfHRhbGljcyl8ZCg/OmlzYWJsZUV4dGVybmFsQ2FwdHVyZXx1bXB8ZXRhY2hFdmVudCl8dSg/Om4oPzpzaGlmdHx0YWludHxlc2NhcGV8d2F0Y2gpfHBkYXRlQ29tbWFuZHMpfGooPzpvaW58YXZhRW5hYmxlZCl8cCg/Om8oPzpwfHcpfHVzaHxsdWdpbnMucmVmcmVzaHxhKD86ZGRpbmdzfHJzZSg/OkludHxGbG9hdCk/KXxyKD86aW50fG9tcHR8ZWZlcmVuY2UpKXxlKD86c2NhcGV8bmFibGVFeHRlcm5hbENhcHR1cmV8dmFsfGxlbWVudEZyb21Qb2ludHx4KD86cHxlYyg/OlNjcmlwdHxDb21tYW5kKT8pKXx2YWx1ZU9mfFVUQ3xxdWVyeUNvbW1hbmQoPzpTdGF0ZXxJbmRldGVybXxFbmFibGVkfFZhbHVlKXxmKD86aSg/Om5kfGxlKD86TW9kaWZpZWREYXRlfFNpemV8Q3JlYXRlZERhdGV8VXBkYXRlZERhdGUpfHhlZCl8byg/Om50KD86c2l6ZXxjb2xvcil8cndhcmQpfGxvb3J8cm9tQ2hhckNvZGUpfHdhdGNofGwoPzppbmt8byg/OmFkfGcpfGFzdEluZGV4T2YpfGEoPzpzaW58bmNob3J8Y29zfHQoPzp0YWNoRXZlbnR8b2J8YW4oPzoyKT8pfHBwbHl8bGVydHxiKD86c3xvcnQpKXxyKD86b3UoPzpuZHx0ZUV2ZW50cyl8ZSg/OnNpemUoPzpCeXxUbyl8Y2FsY3x0dXJuVmFsdWV8cGxhY2V8dmVyc2V8bCg/Om9hZHxlYXNlKD86Q2FwdHVyZXxFdmVudHMpKSl8YW5kb20pfGcoPzpvfGV0KD86UmVzcG9uc2VIZWFkZXJ8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZSg/OmNvbmRzfGxlY3Rpb24pfEhvdXJzfFllYXJ8VGltZSg/OnpvbmVPZmZzZXQpP3xEYSg/Onl8dGUpfFVUQyg/Ok0oPzppKD86bnV0ZXN8bGxpc2Vjb25kcyl8b250aCl8U2Vjb25kc3xIb3Vyc3xEYSg/Onl8dGUpfEZ1bGxZZWFyKXxGdWxsWWVhcnxBKD86dHRlbnRpb258bGxSZXNwb25zZUhlYWRlcnMpKSl8bSg/OmlufG92ZSg/OkIoPzp5fGVsb3cpfFRvKD86QWJzb2x1dGUpP3xBYm92ZSl8ZXJnZUF0dHJpYnV0ZXN8YSg/OnRjaHxyZ2luc3x4KSl8Yig/OnRvYXxpZ3xvKD86bGR8cmRlcldpZHRocyl8bGlua3xhY2spKVxcYig/PVxcKCkvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN1cHBvcnQuZnVuY3Rpb24uZG9tXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvKHMoPzp1Yig/OnN0cmluZ0RhdGF8bWl0KXxwbGl0VGV4dHxlKD86dCg/Ok5hbWVkSXRlbXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGxlY3QpKXxoYXMoPzpDaGlsZE5vZGVzfEZlYXR1cmUpfG5hbWVkSXRlbXxjKD86bCg/Omlja3xvKD86c2V8bmVOb2RlKSl8cmVhdGUoPzpDKD86b21tZW50fERBVEFTZWN0aW9ufGFwdGlvbil8VCg/OkhlYWR8ZXh0Tm9kZXxGb290KXxEb2N1bWVudEZyYWdtZW50fFByb2Nlc3NpbmdJbnN0cnVjdGlvbnxFKD86bnRpdHlSZWZlcmVuY2V8bGVtZW50KXxBdHRyaWJ1dGUpKXx0YWJJbmRleHxpKD86bnNlcnQoPzpSb3d8QmVmb3JlfENlbGx8RGF0YSl8dGVtKXxvcGVufGRlbGV0ZSg/OlJvd3xDKD86ZWxsfGFwdGlvbil8VCg/OkhlYWR8Rm9vdCl8RGF0YSl8Zm9jdXN8d3JpdGUoPzpsbik/fGEoPzpkZHxwcGVuZCg/OkNoaWxkfERhdGEpKXxyZSg/OnNldHxwbGFjZSg/OkNoaWxkfERhdGEpfG1vdmUoPzpOYW1lZEl0ZW18Q2hpbGR8QXR0cmlidXRlKD86Tm9kZSk/KT8pfGdldCg/Ok5hbWVkSXRlbXxFbGVtZW50KD86c0J5KD86TmFtZXxUYWdOYW1lfENsYXNzTmFtZSl8QnlJZCl8QXR0cmlidXRlKD86Tm9kZSk/KXxibHVyKVxcYig/PVxcKCkvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiAgXCJzdXBwb3J0LmNvbnN0YW50XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvKHMoPzp5c3RlbUxhbmd1YWdlfGNyKD86aXB0c3xvbGxiYXJzfGVlbig/Olh8WXxUb3B8TGVmdCkpfHQoPzp5bGUoPzpTaGVldHMpP3xhdHVzKD86VGV4dHxiYXIpPyl8aWJsaW5nKD86QmVsb3d8QWJvdmUpfG91cmNlfHVmZml4ZXN8ZSg/OmN1cml0eSg/OlBvbGljeSk/fGwoPzplY3Rpb258ZikpKXxoKD86aXN0b3J5fG9zdCg/Om5hbWUpP3xhcyg/Omh8Rm9jdXMpKXx5fFgoPzpNTERvY3VtZW50fFNMRG9jdW1lbnQpfG4oPzpleHR8YW1lKD86c3BhY2UoPzpzfFVSSSl8UHJvcCkpfE0oPzpJTl9WQUxVRXxBWF9WQUxVRSl8Yyg/OmhhcmFjdGVyU2V0fG8oPzpuKD86c3RydWN0b3J8dHJvbGxlcnMpfG9raWVFbmFibGVkfGxvckRlcHRofG1wKD86b25lbnRzfGxldGUpKXx1cnJlbnR8cHVDbGFzc3xsKD86aSg/OnAoPzpib2FyZERhdGEpP3xlbnRJbmZvcm1hdGlvbil8b3NlZHxhc3Nlcyl8YWxsZSg/OmV8cil8cnlwdG8pfHQoPzpvKD86b2xiYXJ8cCl8ZXh0KD86VHJhbnNmb3JtfEluZGVudHxEZWNvcmF0aW9ufEFsaWduKXxhZ3MpfFNRUlQoPzoxXzJ8Mil8aSg/Om4oPzpuZXIoPzpIZWlnaHR8V2lkdGgpfHB1dCl8ZHN8Z25vcmVDYXNlKXx6SW5kZXh8byg/OnNjcHV8big/OnJlYWR5c3RhdGVjaGFuZ2V8TGluZSl8dXRlcig/OkhlaWdodHxXaWR0aCl8cCg/OnNQcm9maWxlfGVuZXIpfGZmc2NyZWVuQnVmZmVyaW5nKXxORUdBVElWRV9JTkZJTklUWXxkKD86aSg/OnNwbGF5fGFsb2coPzpIZWlnaHR8VG9wfFdpZHRofExlZnR8QXJndW1lbnRzKXxyZWN0b3JpZXMpfGUoPzpzY3JpcHRpb258ZmF1bHQoPzpTdGF0dXN8Q2goPzplY2tlZHxhcnNldCl8VmlldykpKXx1KD86c2VyKD86UHJvZmlsZXxMYW5ndWFnZXxBZ2VudCl8big/OmlxdWVJRHxkZWZpbmVkKXxwZGF0ZUludGVydmFsKXxfY29udGVudHxwKD86aXhlbERlcHRofG9ydHxlcnNvbmFsYmFyfGtjczExfGwoPzp1Z2luc3xhdGZvcm0pfGEoPzp0aG5hbWV8ZGRpbmcoPzpSaWdodHxCb3R0b218VG9wfExlZnQpfHJlbnQoPzpXaW5kb3d8TGF5ZXIpP3xnZSg/OlgoPzpPZmZzZXQpP3xZKD86T2Zmc2V0KT8pKXxyKD86byg/OnRvKD86Y29sfHR5cGUpfGR1Y3QoPzpTdWIpP3xtcHRlcil8ZSg/OnZpb3VzfGZpeCkpKXxlKD86big/OmNvZGluZ3xhYmxlZFBsdWdpbil8eCg/OnRlcm5hbHxwYW5kbyl8bWJlZHMpfHYoPzppc2liaWxpdHl8ZW5kb3IoPzpTdWIpP3xMaW5rY29sb3IpfFVSTFVuZW5jb2RlZHxQKD86SXxPU0lUSVZFX0lORklOSVRZKXxmKD86aWxlbmFtZXxvKD86bnQoPzpTaXplfEZhbWlseXxXZWlnaHQpfHJtTmFtZSl8cmFtZSg/OnN8RWxlbWVudCl8Z0NvbG9yKXxFfHdoaXRlU3BhY2V8bCg/OmkoPzpzdFN0eWxlVHlwZXxuKD86ZUhlaWdodHxrQ29sb3IpKXxvKD86Y2EoPzp0aW9uKD86YmFyKT98bE5hbWUpfHdzcmMpfGUoPzpuZ3RofGZ0KD86Q29udGV4dCk/KXxhKD86c3QoPzpNKD86b2RpZmllZHxhdGNoKXxJbmRleHxQYXJlbil8eWVyKD86c3xYKXxuZ3VhZ2UpKXxhKD86cHAoPzpNaW5vclZlcnNpb258TmFtZXxDbyg/OmRlTmFtZXxyZSl8VmVyc2lvbil8dmFpbCg/OkhlaWdodHxUb3B8V2lkdGh8TGVmdCl8bGx8cig/Oml0eXxndW1lbnRzKXxMaW5rY29sb3J8Ym92ZSl8cig/OmlnaHQoPzpDb250ZXh0KT98ZSg/OnNwb25zZSg/OlhNTHxUZXh0KXxhZHlTdGF0ZSkpfGdsb2JhbHx4fG0oPzppbWVUeXBlc3x1bHRpbGluZXxlbnViYXJ8YXJnaW4oPzpSaWdodHxCb3R0b218VG9wfExlZnQpKXxMKD86Tig/OjEwfDIpfE9HKD86MTBFfDJFKSl8Yig/Om8oPzp0dG9tfHJkZXIoPzpXaWR0aHxSaWdodFdpZHRofEJvdHRvbVdpZHRofFN0eWxlfENvbG9yfFRvcFdpZHRofExlZnRXaWR0aCkpfHVmZmVyRGVwdGh8ZWxvd3xhY2tncm91bmQoPzpDb2xvcnxJbWFnZSkpKVxcYi9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiaWRlbnRpZmllclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogaWRlbnRpZmllclJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXCIsXG4gICAgICAgICAgICAgICAgdG9rZW46IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJzdGFydFwiOiBbXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0U3RhcnRSdWxlKFwiZG9jLXN0YXJ0XCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsIC8vIG11bHRpIGxpbmUgY29tbWVudFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwqXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwiY29tbWVudF9yZWdleF9hbGxvd2VkXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwvXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwibGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInN0cmluZy5yZWdleHBcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcXFxcL1wiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwicmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxzK3xeJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInJlZ2V4XCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJyZWdleHAua2V5d29yZC5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFxcXFxcKD86dVtcXFxcZGEtZkEtRl17NH18eFtcXFxcZGEtZkEtRl17Mn18LilcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInN0cmluZy5yZWdleHBcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCIvW3N4bmdpbXldKlwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJpbnZhbGlkXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9cXHtcXGQrXFxiLD9cXGQqXFx9WysqXXxbKyokXj9dWysqXXxbJF5dWz9dfFxcP3szLH0vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFwoXFw/Wzo9IV18XFwpfFxce1xcZCtcXGIsP1xcZCpcXH18WysqXVxcP3xbKCkkXisqPy5dL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5kZWxpbWl0ZXJcIixcbiAgICAgICAgICAgICAgICByZWdleDogL1xcfC9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleDogL1xcW1xcXj8vLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwicmVnZXhfY2hhcmFjdGVyX2NsYXNzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIiRcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nLnJlZ2V4cFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicmVnZXhfY2hhcmFjdGVyX2NsYXNzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJyZWdleHAuY2hhcmNsYXNzLmtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcXFxcXFxcXCg/OnVbXFxcXGRhLWZBLUZdezR9fHhbXFxcXGRhLWZBLUZdezJ9fC4pXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJdXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJyZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiLVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCIkXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZy5yZWdleHAuY2hhcmFjaHRlcmNsYXNzXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJmdW5jdGlvbl9hcmd1bWVudHNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInZhcmlhYmxlLnBhcmFtZXRlclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBpZGVudGlmaWVyUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlssIF0rXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIiRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiY29tbWVudF9yZWdleF9hbGxvd2VkXCIgOiBbXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICAgICAge3Rva2VuIDogXCJjb21tZW50XCIsIHJlZ2V4IDogXCJcXFxcKlxcXFwvXCIsIG5leHQgOiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwiLCBjYXNlSW5zZW5zaXRpdmU6IHRydWV9XG4gICAgICAgIF0sXG4gICAgICAgIFwiY29tbWVudFwiIDogW1xuICAgICAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUoKSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwiY29tbWVudFwiLCByZWdleCA6IFwiXFxcXCpcXFxcL1wiLCBuZXh0IDogXCJub19yZWdleFwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIiwgY2FzZUluc2Vuc2l0aXZlOiB0cnVlfVxuICAgICAgICBdLFxuICAgICAgICBcImxpbmVfY29tbWVudF9yZWdleF9hbGxvd2VkXCIgOiBbXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICAgICAge3Rva2VuIDogXCJjb21tZW50XCIsIHJlZ2V4IDogXCIkfF5cIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJjb21tZW50XCIsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZX1cbiAgICAgICAgXSxcbiAgICAgICAgXCJsaW5lX2NvbW1lbnRcIiA6IFtcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlKCksXG4gICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnRcIiwgcmVnZXggOiBcIiR8XlwiLCBuZXh0IDogXCJub19yZWdleFwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIiwgY2FzZUluc2Vuc2l0aXZlOiB0cnVlfVxuICAgICAgICBdLFxuICAgICAgICBcInFxc3RyaW5nXCIgOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogZXNjYXBlZFJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcXFxcXCRcIixcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwicXFzdHJpbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6ICdcInwkJyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInFzdHJpbmdcIiA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBlc2NhcGVkUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxcXFxcJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxc3RyaW5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIid8JFwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIFxuICAgIFxuICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5ub0VTNikge1xuICAgICAgICB0aGlzLiRydWxlcy5ub19yZWdleC51bnNoaWZ0KHtcbiAgICAgICAgICAgIHJlZ2V4OiBcIlt7fV1cIiwgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSB2YWwgPT0gXCJ7XCIgPyB0aGlzLm5leHRTdGF0ZSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBcIntcIiAmJiBzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdChcInN0YXJ0XCIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyZW5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBcIn1cIiAmJiBzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dC5pbmRleE9mKFwic3RyaW5nXCIpICE9IC0xIHx8IHRoaXMubmV4dC5pbmRleE9mKFwianN4XCIpICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicGFyZW4ucXVhc2kuZW5kXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwgPT0gXCJ7XCIgPyBcInBhcmVuLmxwYXJlblwiIDogXCJwYXJlbi5ycGFyZW5cIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0U3RhdGU6IFwic3RhcnRcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nLnF1YXNpLnN0YXJ0XCIsXG4gICAgICAgICAgICByZWdleCA6IC9gLyxcbiAgICAgICAgICAgIHB1c2ggIDogW3tcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBlc2NhcGVkUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicGFyZW4ucXVhc2kuc3RhcnRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9cXCR7LyxcbiAgICAgICAgICAgICAgICBwdXNoICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcucXVhc2kuZW5kXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvYC8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInBvcFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZy5xdWFzaVwiXG4gICAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5ub0pTWClcbiAgICAgICAgICAgIEpTWC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmVtYmVkUnVsZXMoRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLCBcImRvYy1cIixcbiAgICAgICAgWyBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0RW5kUnVsZShcIm5vX3JlZ2V4XCIpIF0pO1xuICAgIFxuICAgIHRoaXMubm9ybWFsaXplUnVsZXMoKTtcbn07XG5cbm9vcC5pbmhlcml0cyhKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMsIFRleHRIaWdobGlnaHRSdWxlcyk7XG5cbmZ1bmN0aW9uIEpTWCgpIHtcbiAgICB2YXIgdGFnUmVnZXggPSBpZGVudGlmaWVyUmUucmVwbGFjZShcIlxcXFxkXCIsIFwiXFxcXGRcXFxcLVwiKTtcbiAgICB2YXIganN4VGFnID0ge1xuICAgICAgICBvbk1hdGNoIDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB2YWwuY2hhckF0KDEpID09IFwiL1wiID8gMiA6IDE7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgIT0gdGhpcy5uZXh0U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodGhpcy5uZXh0LCB0aGlzLm5leHRTdGF0ZSwgMCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KHRoaXMubmV4dCk7XG4gICAgICAgICAgICAgICAgc3RhY2tbMl0rKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ID09IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gdGhpcy5uZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbMV0tLTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGFja1sxXSB8fCBzdGFja1sxXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi5cIiArIChvZmZzZXQgPT0gMSA/IFwiXCIgOiBcImVuZC1cIikgKyBcInRhZy1vcGVuLnhtbFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWwuc2xpY2UoMCwgb2Zmc2V0KVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibWV0YS50YWcudGFnLW5hbWUueG1sXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5zdWJzdHIob2Zmc2V0KVxuICAgICAgICAgICAgfV07XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2V4IDogXCI8Lz9cIiArIHRhZ1JlZ2V4ICsgXCJcIixcbiAgICAgICAgbmV4dDogXCJqc3hBdHRyaWJ1dGVzXCIsXG4gICAgICAgIG5leHRTdGF0ZTogXCJqc3hcIlxuICAgIH07XG4gICAgdGhpcy4kcnVsZXMuc3RhcnQudW5zaGlmdChqc3hUYWcpO1xuICAgIHZhciBqc3hKc1J1bGUgPSB7XG4gICAgICAgIHJlZ2V4OiBcIntcIixcbiAgICAgICAgdG9rZW46IFwicGFyZW4ucXVhc2kuc3RhcnRcIixcbiAgICAgICAgcHVzaDogXCJzdGFydFwiXG4gICAgfTtcbiAgICB0aGlzLiRydWxlcy5qc3ggPSBbXG4gICAgICAgIGpzeEpzUnVsZSxcbiAgICAgICAganN4VGFnLFxuICAgICAgICB7aW5jbHVkZSA6IFwicmVmZXJlbmNlXCJ9LFxuICAgICAgICB7ZGVmYXVsdFRva2VuOiBcInN0cmluZ1wifVxuICAgIF07XG4gICAgdGhpcy4kcnVsZXMuanN4QXR0cmlidXRlcyA9IFt7XG4gICAgICAgIHRva2VuIDogXCJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sXCIsIFxuICAgICAgICByZWdleCA6IFwiLz8+XCIsIFxuICAgICAgICBvbk1hdGNoIDogZnVuY3Rpb24odmFsdWUsIGN1cnJlbnRTdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT0gc3RhY2tbMF0pXG4gICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChzdGFja1swXSA9PSB0aGlzLm5leHRTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbMV0tLTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YWNrWzFdIHx8IHN0YWNrWzFdIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5zcGxpY2UoMCwgMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0ID0gc3RhY2tbMF0gfHwgXCJzdGFydFwiO1xuICAgICAgICAgICAgcmV0dXJuIFt7dHlwZTogdGhpcy50b2tlbiwgdmFsdWU6IHZhbHVlfV07XG4gICAgICAgIH0sXG4gICAgICAgIG5leHRTdGF0ZTogXCJqc3hcIlxuICAgIH0sIFxuICAgIGpzeEpzUnVsZSxcbiAgICB7XG4gICAgICAgIHRva2VuIDogXCJlbnRpdHkub3RoZXIuYXR0cmlidXRlLW5hbWUueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogdGFnUmVnZXhcbiAgICB9LCB7XG4gICAgICAgIHRva2VuIDogXCJrZXl3b3JkLm9wZXJhdG9yLmF0dHJpYnV0ZS1lcXVhbHMueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCI9XCJcbiAgICB9LCB7XG4gICAgICAgIHRva2VuIDogXCJ0ZXh0LnRhZy13aGl0ZXNwYWNlLnhtbFwiLFxuICAgICAgICByZWdleCA6IFwiXFxcXHMrXCJcbiAgICB9LCB7XG4gICAgICAgIHRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLFxuICAgICAgICByZWdleCA6IFwiJ1wiLFxuICAgICAgICBzdGF0ZU5hbWUgOiBcImpzeF9hdHRyX3FcIixcbiAgICAgICAgcHVzaCA6IFtcbiAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIiwgcmVnZXg6IFwiJ1wiLCBuZXh0OiBcInBvcFwifSxcbiAgICAgICAgICAgIGpzeEpzUnVsZSxcbiAgICAgICAgICAgIHtpbmNsdWRlIDogXCJyZWZlcmVuY2VcIn0sXG4gICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwifVxuICAgICAgICBdXG4gICAgfSwge1xuICAgICAgICB0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIixcbiAgICAgICAgcmVnZXggOiAnXCInLFxuICAgICAgICBzdGF0ZU5hbWUgOiBcImpzeF9hdHRyX3FxXCIsXG4gICAgICAgIHB1c2ggOiBbXG4gICAgICAgICAgICBqc3hKc1J1bGUsXG4gICAgICAgICAgICB7dG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIsIHJlZ2V4OiAnXCInLCBuZXh0OiBcInBvcFwifSxcbiAgICAgICAgICAgIHtpbmNsdWRlIDogXCJyZWZlcmVuY2VcIn0sXG4gICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwifVxuICAgICAgICBdXG4gICAgfV07XG4gICAgdGhpcy4kcnVsZXMucmVmZXJlbmNlID0gW3tcbiAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZS5yZWZlcmVuY2UueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCIoPzomI1swLTldKzspfCg/OiYjeFswLTlhLWZBLUZdKzspfCg/OiZbYS16QS1aMC05XzpcXFxcLi1dKzspXCJcbiAgICB9XTtcbn1cblxuZXhwb3J0cy5KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMgPSBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG5cbnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uKCkge307XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24obGluZSwgaW5wdXQpIHtcbiAgICAgICAgaWYgKCEgL15cXHMrJC8udGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gL15cXHMqXFx9Ly50ZXN0KGlucHV0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uKGRvYywgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXihcXHMqXFx9KS8pO1xuXG4gICAgICAgIGlmICghbWF0Y2gpIHJldHVybiAwO1xuXG4gICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7XG4gICAgICAgIHZhciBvcGVuQnJhY2VQb3MgPSBkb2MuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiByb3csIGNvbHVtbjogY29sdW1ufSk7XG5cbiAgICAgICAgaWYgKCFvcGVuQnJhY2VQb3MgfHwgb3BlbkJyYWNlUG9zLnJvdyA9PSByb3cpIHJldHVybiAwO1xuXG4gICAgICAgIHZhciBpbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoZG9jLmdldExpbmUob3BlbkJyYWNlUG9zLnJvdykpO1xuICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbi0xKSwgaW5kZW50KTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0SW5kZW50ID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgICByZXR1cm4gbGluZS5tYXRjaCgvXlxccyovKVswXTtcbiAgICB9O1xuXG59KS5jYWxsKE1hdGNoaW5nQnJhY2VPdXRkZW50LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBNYXRjaGluZ0JyYWNlT3V0ZGVudDtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2JlaGF2aW91clwiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvbGliL2xhbmdcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi8uLi9saWIvb29wXCIpO1xudmFyIEJlaGF2aW91ciA9IGFjZXF1aXJlKFwiLi4vYmVoYXZpb3VyXCIpLkJlaGF2aW91cjtcbnZhciBUb2tlbkl0ZXJhdG9yID0gYWNlcXVpcmUoXCIuLi8uLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIGxhbmcgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9sYW5nXCIpO1xuXG52YXIgU0FGRV9JTlNFUlRfSU5fVE9LRU5TID1cbiAgICBbXCJ0ZXh0XCIsIFwicGFyZW4ucnBhcmVuXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIl07XG52YXIgU0FGRV9JTlNFUlRfQkVGT1JFX1RPS0VOUyA9XG4gICAgW1widGV4dFwiLCBcInBhcmVuLnJwYXJlblwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiY29tbWVudFwiXTtcblxudmFyIGNvbnRleHQ7XG52YXIgY29udGV4dENhY2hlID0ge307XG52YXIgaW5pdENvbnRleHQgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICB2YXIgaWQgPSAtMTtcbiAgICBpZiAoZWRpdG9yLm11bHRpU2VsZWN0KSB7XG4gICAgICAgIGlkID0gZWRpdG9yLnNlbGVjdGlvbi5pbmRleDtcbiAgICAgICAgaWYgKGNvbnRleHRDYWNoZS5yYW5nZUNvdW50ICE9IGVkaXRvci5tdWx0aVNlbGVjdC5yYW5nZUNvdW50KVxuICAgICAgICAgICAgY29udGV4dENhY2hlID0ge3JhbmdlQ291bnQ6IGVkaXRvci5tdWx0aVNlbGVjdC5yYW5nZUNvdW50fTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHRDYWNoZVtpZF0pXG4gICAgICAgIHJldHVybiBjb250ZXh0ID0gY29udGV4dENhY2hlW2lkXTtcbiAgICBjb250ZXh0ID0gY29udGV4dENhY2hlW2lkXSA9IHtcbiAgICAgICAgYXV0b0luc2VydGVkQnJhY2tldHM6IDAsXG4gICAgICAgIGF1dG9JbnNlcnRlZFJvdzogLTEsXG4gICAgICAgIGF1dG9JbnNlcnRlZExpbmVFbmQ6IFwiXCIsXG4gICAgICAgIG1heWJlSW5zZXJ0ZWRCcmFja2V0czogMCxcbiAgICAgICAgbWF5YmVJbnNlcnRlZFJvdzogLTEsXG4gICAgICAgIG1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ6IFwiXCIsXG4gICAgICAgIG1heWJlSW5zZXJ0ZWRMaW5lRW5kOiBcIlwiXG4gICAgfTtcbn07XG5cbnZhciBnZXRXcmFwcGVkID0gZnVuY3Rpb24oc2VsZWN0aW9uLCBzZWxlY3RlZCwgb3BlbmluZywgY2xvc2luZykge1xuICAgIHZhciByb3dEaWZmID0gc2VsZWN0aW9uLmVuZC5yb3cgLSBzZWxlY3Rpb24uc3RhcnQucm93O1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IG9wZW5pbmcgKyBzZWxlY3RlZCArIGNsb3NpbmcsXG4gICAgICAgIHNlbGVjdGlvbjogW1xuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnN0YXJ0LmNvbHVtbiArIDEsXG4gICAgICAgICAgICAgICAgcm93RGlmZixcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uZW5kLmNvbHVtbiArIChyb3dEaWZmID8gMCA6IDEpXG4gICAgICAgICAgICBdXG4gICAgfTtcbn07XG5cbnZhciBDc3R5bGVCZWhhdmlvdXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIGlmICh0ZXh0ID09ICd7Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIntcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCAneycsICd9Jyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIGlmICgvW1xcXVxcfVxcKV0vLnRlc3QobGluZVtjdXJzb3IuY29sdW1uXSkgfHwgZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJ9XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ3t9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJ7XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ3snLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSAnfScpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnfScpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmcgPSBzZXNzaW9uLiRmaW5kT3BlbmluZ0JyYWNrZXQoJ30nLCB7Y29sdW1uOiBjdXJzb3IuY29sdW1uICsgMSwgcm93OiBjdXJzb3Iucm93fSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nICE9PSBudWxsICYmIENzdHlsZUJlaGF2aW91ci5pc0F1dG9JbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lLCB0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucG9wQXV0b0luc2VydGVkQ2xvc2luZygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09IFwiXFxuXCIgfHwgdGV4dCA9PSBcIlxcclxcblwiKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGNsb3NpbmcgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKENzdHlsZUJlaGF2aW91ci5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSkpIHtcbiAgICAgICAgICAgICAgICBjbG9zaW5nID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJ9XCIsIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzKTtcbiAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIuY2xlYXJNYXliZUluc2VydGVkQ2xvc2luZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT09ICd9Jykge1xuICAgICAgICAgICAgICAgIHZhciBvcGVuQnJhY2VQb3MgPSBzZXNzaW9uLmZpbmRNYXRjaGluZ0JyYWNrZXQoe3JvdzogY3Vyc29yLnJvdywgY29sdW1uOiBjdXJzb3IuY29sdW1uKzF9LCAnfScpO1xuICAgICAgICAgICAgICAgIGlmICghb3BlbkJyYWNlUG9zKVxuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRfaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KHNlc3Npb24uZ2V0TGluZShvcGVuQnJhY2VQb3Mucm93KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dF9pbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQobGluZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZGVudCA9IG5leHRfaW5kZW50ICsgc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnXFxuJyArIGluZGVudCArICdcXG4nICsgbmV4dF9pbmRlbnQgKyBjbG9zaW5nLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIGluZGVudC5sZW5ndGgsIDEsIGluZGVudC5sZW5ndGhdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJicmFjZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiBzZWxlY3RlZCA9PSAneycpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5lbmQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwicGFyZW5zXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PSAnKCcpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCAnKCcsICcpJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCIpXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICcoKScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICcpJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICcpJykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnKScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInBhcmVuc1wiLCBcImRlbGV0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICcoJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiArIDEsIHJhbmdlLnN0YXJ0LmNvbHVtbiArIDIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSAnKScpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNrZXRzXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PSAnWycpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCAnWycsICddJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5yZWNvcmRBdXRvSW5zZXJ0KGVkaXRvciwgc2Vzc2lvbiwgXCJdXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdbXScsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICddJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICddJykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnXScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNrZXRzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJ1snKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICddJykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdcIicgfHwgdGV4dCA9PSBcIidcIikge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBxdW90ZSA9IHRleHQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2Uoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gXCJcIiAmJiBzZWxlY3RlZCAhPT0gXCInXCIgJiYgc2VsZWN0ZWQgIT0gJ1wiJyAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCBxdW90ZSwgcXVvdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4tMSwgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0VG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0Q2hhciA9PSBcIlxcXFxcIiAmJiB0b2tlbiAmJiAvZXNjYXBlLy50ZXN0KHRva2VuLnR5cGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQmVmb3JlID0gdG9rZW4gJiYgL3N0cmluZ3xlc2NhcGUvLnRlc3QodG9rZW4udHlwZSk7XG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZ0FmdGVyID0gIXJpZ2h0VG9rZW4gfHwgL3N0cmluZ3xlc2NhcGUvLnRlc3QocmlnaHRUb2tlbi50eXBlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgcGFpcjtcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyID09IHF1b3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXIgPSBzdHJpbmdCZWZvcmUgIT09IHN0cmluZ0FmdGVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdCZWZvcmUgJiYgIXN0cmluZ0FmdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIHdyYXAgc3RyaW5nIHdpdGggZGlmZmVyZW50IHF1b3RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdCZWZvcmUgJiYgc3RyaW5nQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gZG8gbm90IHBhaXIgcXVvdGVzIGluc2lkZSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgIHZhciB3b3JkUmUgPSBzZXNzaW9uLiRtb2RlLnRva2VuUmU7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRSZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNXb3JkQmVmb3JlID0gd29yZFJlLnRlc3QobGVmdENoYXIpO1xuICAgICAgICAgICAgICAgICAgICB3b3JkUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzV29yZEFmdGVyID0gd29yZFJlLnRlc3QobGVmdENoYXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXb3JkQmVmb3JlIHx8IGlzV29yZEFmdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIGJlZm9yZSBvciBhZnRlciBhbHBoYW51bWVyaWNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciAmJiAhL1tcXHM7LC59KVxcXVxcXFxdLy50ZXN0KHJpZ2h0Q2hhcikpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gdGhlcmUgaXMgcmlnaHRDaGFyIGFuZCBpdCBpc24ndCBjbG9zaW5nXG4gICAgICAgICAgICAgICAgICAgIHBhaXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwYWlyID8gcXVvdGUgKyBxdW90ZSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcInN0cmluZ19kcXVvdGVzXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgKHNlbGVjdGVkID09ICdcIicgfHwgc2VsZWN0ZWQgPT0gXCInXCIpKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG59O1xuXG4gICAgXG5Dc3R5bGVCZWhhdmlvdXIuaXNTYW5lSW5zZXJ0aW9uID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uKSB7XG4gICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4pO1xuICAgIGlmICghdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0lOX1RPS0VOUykpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yMiA9IG5ldyBUb2tlbkl0ZXJhdG9yKHNlc3Npb24sIGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgaWYgKCF0aGlzLiRtYXRjaFRva2VuVHlwZShpdGVyYXRvcjIuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0lOX1RPS0VOUykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpICE9PSBjdXJzb3Iucm93IHx8XG4gICAgICAgIHRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpIHx8IFwidGV4dFwiLCBTQUZFX0lOU0VSVF9CRUZPUkVfVE9LRU5TKTtcbn07XG5cbkNzdHlsZUJlaGF2aW91ci4kbWF0Y2hUb2tlblR5cGUgPSBmdW5jdGlvbih0b2tlbiwgdHlwZXMpIHtcbiAgICByZXR1cm4gdHlwZXMuaW5kZXhPZih0b2tlbi50eXBlIHx8IHRva2VuKSA+IC0xO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQgPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIGJyYWNrZXQpIHtcbiAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgIGlmICghdGhpcy5pc0F1dG9JbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lLCBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmRbMF0pKVxuICAgICAgICBjb250ZXh0LmF1dG9JbnNlcnRlZEJyYWNrZXRzID0gMDtcbiAgICBjb250ZXh0LmF1dG9JbnNlcnRlZFJvdyA9IGN1cnNvci5yb3c7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRMaW5lRW5kID0gYnJhY2tldCArIGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pO1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMrKztcbn07XG5cbkNzdHlsZUJlaGF2aW91ci5yZWNvcmRNYXliZUluc2VydCA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgYnJhY2tldCkge1xuICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgaWYgKCF0aGlzLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lKSlcbiAgICAgICAgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMgPSAwO1xuICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyA9IGN1cnNvci5yb3c7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkTGluZVN0YXJ0ID0gbGluZS5zdWJzdHIoMCwgY3Vyc29yLmNvbHVtbikgKyBicmFja2V0O1xuICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZExpbmVFbmQgPSBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKTtcbiAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cysrO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKGN1cnNvciwgbGluZSwgYnJhY2tldCkge1xuICAgIHJldHVybiBjb250ZXh0LmF1dG9JbnNlcnRlZEJyYWNrZXRzID4gMCAmJlxuICAgICAgICBjdXJzb3Iucm93ID09PSBjb250ZXh0LmF1dG9JbnNlcnRlZFJvdyAmJlxuICAgICAgICBicmFja2V0ID09PSBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmRbMF0gJiZcbiAgICAgICAgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbikgPT09IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZDtcbn07XG5cbkNzdHlsZUJlaGF2aW91ci5pc01heWJlSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oY3Vyc29yLCBsaW5lKSB7XG4gICAgcmV0dXJuIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzID4gMCAmJlxuICAgICAgICBjdXJzb3Iucm93ID09PSBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRSb3cgJiZcbiAgICAgICAgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbikgPT09IGNvbnRleHQubWF5YmVJbnNlcnRlZExpbmVFbmQgJiZcbiAgICAgICAgbGluZS5zdWJzdHIoMCwgY3Vyc29yLmNvbHVtbikgPT0gY29udGV4dC5tYXliZUluc2VydGVkTGluZVN0YXJ0O1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmQgPSBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmQuc3Vic3RyKDEpO1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMtLTtcbn07XG5cbkNzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMgPSAwO1xuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRSb3cgPSAtMTtcbiAgICB9XG59O1xuXG5cblxub29wLmluaGVyaXRzKENzdHlsZUJlaGF2aW91ciwgQmVoYXZpb3VyKTtcblxuZXhwb3J0cy5Dc3R5bGVCZWhhdmlvdXIgPSBDc3R5bGVCZWhhdmlvdXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEJhc2VGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGU7XG5cbnZhciBGb2xkTW9kZSA9IGV4cG9ydHMuRm9sZE1vZGUgPSBmdW5jdGlvbihjb21tZW50UmVnZXgpIHtcbiAgICBpZiAoY29tbWVudFJlZ2V4KSB7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguc3RhcnQpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXFx8W158XSo/JC8sIFwifFwiICsgY29tbWVudFJlZ2V4LmVuZClcbiAgICAgICAgKTtcbiAgICB9XG59O1xub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSAvKFxce3xcXFspW15cXH1cXF1dKiR8XlxccyooXFwvXFwqKS87XG4gICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IC9eW15cXFtcXHtdKihcXH18XFxdKXxeW1xcc1xcKl0qKFxcKlxcLykvO1xuICAgIHRoaXMuc2luZ2xlTGluZUJsb2NrQ29tbWVudFJlPSAvXlxccyooXFwvXFwqKS4qXFwqXFwvXFxzKiQvO1xuICAgIHRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlID0gL15cXHMqKFxcL1xcKlxcKlxcKikuKlxcKlxcL1xccyokLztcbiAgICB0aGlzLnN0YXJ0UmVnaW9uUmUgPSAvXlxccyooXFwvXFwqfFxcL1xcLykjP3JlZ2lvblxcYi87XG4gICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7XG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0ID0gZnVuY3Rpb24oc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICBcbiAgICAgICAgaWYgKHRoaXMuc2luZ2xlTGluZUJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdmFyIGZ3ID0gdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2Uoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpO1xuICAgIFxuICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIFwic3RhcnRcIjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydFxuICAgIFxuICAgICAgICByZXR1cm4gZnc7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3csIGZvcmNlTXVsdGlsaW5lKSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21tZW50UmVnaW9uQmxvY2soc2Vzc2lvbiwgbGluZSwgcm93KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuaW5nQnJhY2tldEJsb2NrKHNlc3Npb24sIG1hdGNoWzFdLCByb3csIGkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2Vzc2lvbi5nZXRDb21tZW50Rm9sZFJhbmdlKHJvdywgaSArIG1hdGNoWzBdLmxlbmd0aCwgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyYW5nZSAmJiAhcmFuZ2UuaXNNdWx0aUxpbmUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuZ2V0U2VjdGlvblJhbmdlKHNlc3Npb24sIHJvdyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb2xkU3R5bGUgIT0gXCJhbGxcIilcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm9sZFN0eWxlID09PSBcIm1hcmtiZWdpblwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbiwgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBzdGFydEluZGVudCA9IGxpbmUuc2VhcmNoKC9cXFMvKTtcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93O1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgcm93ID0gcm93ICsgMTtcbiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdztcbiAgICAgICAgdmFyIG1heFJvdyA9IHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykge1xuICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICAgICAgdmFyIGluZGVudCA9IGxpbmUuc2VhcmNoKC9cXFMvKTtcbiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgIChzdGFydEluZGVudCA+IGluZGVudClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhciBzdWJSYW5nZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKHNlc3Npb24sIFwiYWxsXCIsIHJvdyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzdWJSYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChzdWJSYW5nZS5zdGFydC5yb3cgPD0gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IHN1YlJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydEluZGVudCA9PSBpbmRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kUm93ID0gcm93O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBzZXNzaW9uLmdldExpbmUoZW5kUm93KS5sZW5ndGgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRDb21tZW50UmVnaW9uQmxvY2sgPSBmdW5jdGlvbihzZXNzaW9uLCBsaW5lLCByb3cpIHtcbiAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gbGluZS5zZWFyY2goL1xccyokLyk7XG4gICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIFxuICAgICAgICB2YXIgcmUgPSAvXlxccyooPzpcXC9cXCp8XFwvXFwvfC0tKSM/KGVuZCk/cmVnaW9uXFxiLztcbiAgICAgICAgdmFyIGRlcHRoID0gMTtcbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB2YXIgbSA9IHJlLmV4ZWMobGluZSk7XG4gICAgICAgICAgICBpZiAoIW0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG1bMV0pIGRlcHRoLS07XG4gICAgICAgICAgICBlbHNlIGRlcHRoKys7XG5cbiAgICAgICAgICAgIGlmICghZGVwdGgpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdztcbiAgICAgICAgaWYgKGVuZFJvdyA+IHN0YXJ0Um93KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKEZvbGRNb2RlLnByb3RvdHlwZSk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvamF2YXNjcmlwdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRcIixcImFjZS9tb2RlL2phdmFzY3JpcHRfaGlnaGxpZ2h0X3J1bGVzXCIsXCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50XCIsXCJhY2UvcmFuZ2VcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiLFwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZVwiLFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIFRleHRNb2RlID0gYWNlcXVpcmUoXCIuL3RleHRcIikuTW9kZTtcbnZhciBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIikuSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzO1xudmFyIE1hdGNoaW5nQnJhY2VPdXRkZW50ID0gYWNlcXVpcmUoXCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIikuTWF0Y2hpbmdCcmFjZU91dGRlbnQ7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIFdvcmtlckNsaWVudCA9IGFjZXF1aXJlKFwiLi4vd29ya2VyL3dvcmtlcl9jbGllbnRcIikuV29ya2VyQ2xpZW50O1xudmFyIENzdHlsZUJlaGF2aW91ciA9IGFjZXF1aXJlKFwiLi9iZWhhdmlvdXIvY3N0eWxlXCIpLkNzdHlsZUJlaGF2aW91cjtcbnZhciBDU3R5bGVGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkaW5nL2NzdHlsZVwiKS5Gb2xkTW9kZTtcblxudmFyIE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLkhpZ2hsaWdodFJ1bGVzID0gSmF2YVNjcmlwdEhpZ2hsaWdodFJ1bGVzO1xuICAgIFxuICAgIHRoaXMuJG91dGRlbnQgPSBuZXcgTWF0Y2hpbmdCcmFjZU91dGRlbnQoKTtcbiAgICB0aGlzLiRiZWhhdmlvdXIgPSBuZXcgQ3N0eWxlQmVoYXZpb3VyKCk7XG4gICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTtcbn07XG5vb3AuaW5oZXJpdHMoTW9kZSwgVGV4dE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmxpbmVDb21tZW50U3RhcnQgPSBcIi8vXCI7XG4gICAgdGhpcy5ibG9ja0NvbW1lbnQgPSB7c3RhcnQ6IFwiLypcIiwgZW5kOiBcIiovXCJ9O1xuXG4gICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCB0YWIpIHtcbiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcblxuICAgICAgICB2YXIgdG9rZW5pemVkTGluZSA9IHRoaXMuZ2V0VG9rZW5pemVyKCkuZ2V0TGluZVRva2VucyhsaW5lLCBzdGF0ZSk7XG4gICAgICAgIHZhciB0b2tlbnMgPSB0b2tlbml6ZWRMaW5lLnRva2VucztcbiAgICAgICAgdmFyIGVuZFN0YXRlID0gdG9rZW5pemVkTGluZS5zdGF0ZTtcblxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCAmJiB0b2tlbnNbdG9rZW5zLmxlbmd0aC0xXS50eXBlID09IFwiY29tbWVudFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlID09IFwic3RhcnRcIiB8fCBzdGF0ZSA9PSBcIm5vX3JlZ2V4XCIpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goL14uKig/OlxcYmNhc2VcXGIuKlxcOnxbXFx7XFwoXFxbXSlcXHMqJC8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaW5kZW50ICs9IHRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBcImRvYy1zdGFydFwiKSB7XG4gICAgICAgICAgICBpZiAoZW5kU3RhdGUgPT0gXCJzdGFydFwiIHx8IGVuZFN0YXRlID09IFwibm9fcmVnZXhcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXlxccyooXFwvPylcXCovKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnQgKz0gXCIgXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGVudCArPSBcIiogXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZW50O1xuICAgIH07XG5cbiAgICB0aGlzLmNoZWNrT3V0ZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCBpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQobGluZSwgaW5wdXQpO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGRvYywgcm93KSB7XG4gICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpO1xuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZVdvcmtlciA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdmFyIHdvcmtlciA9IG5ldyBXb3JrZXJDbGllbnQoW1wiYWNlXCJdLCByZXF1aXJlKFwiLi4vd29ya2VyL2phdmFzY3JpcHRcIiksIFwiSmF2YVNjcmlwdFdvcmtlclwiKTtcbiAgICAgICAgd29ya2VyLmF0dGFjaFRvRG9jdW1lbnQoc2Vzc2lvbi5nZXREb2N1bWVudCgpKTtcblxuICAgICAgICB3b3JrZXIub24oXCJhbm5vdGF0ZVwiLCBmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnNldEFubm90YXRpb25zKHJlc3VsdHMuZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdvcmtlci5vbihcInRlcm1pbmF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlc3Npb24uY2xlYXJBbm5vdGF0aW9ucygpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gd29ya2VyO1xuICAgIH07XG5cbiAgICB0aGlzLiRpZCA9IFwiYWNlL21vZGUvamF2YXNjcmlwdFwiO1xufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcbiIsImFjZS5kZWZpbmUoXCJhY2UvdGhlbWUvbW9ub2thaVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxuZXhwb3J0cy5pc0RhcmsgPSB0cnVlO1xuZXhwb3J0cy5jc3NDbGFzcyA9IFwiYWNlLW1vbm9rYWlcIjtcbmV4cG9ydHMuY3NzVGV4dCA9IFwiLmFjZS1tb25va2FpIC5hY2VfZ3V0dGVyIHtcXFxuYmFja2dyb3VuZDogIzJGMzEyOTtcXFxuY29sb3I6ICM4RjkwOEFcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9wcmludC1tYXJnaW4ge1xcXG53aWR0aDogMXB4O1xcXG5iYWNrZ3JvdW5kOiAjNTU1NjUxXFxcbn1cXFxuLmFjZS1tb25va2FpIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogIzI3MjgyMjtcXFxuY29sb3I6ICNGOEY4RjJcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jdXJzb3Ige1xcXG5jb2xvcjogI0Y4RjhGMFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XFxcbmJhY2tncm91bmQ6ICM0OTQ4M0VcXFxufVxcXG4uYWNlLW1vbm9rYWkuYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7XFxcbmJveC1zaGFkb3c6IDAgMCAzcHggMHB4ICMyNzI4MjI7XFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XFxcbmJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX2JyYWNrZXQge1xcXG5tYXJnaW46IC0xcHggMCAwIC0xcHg7XFxcbmJvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0VcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxcbmJhY2tncm91bmQ6ICMyMDIwMjBcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjMjcyNzI3XFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XFxcbmJvcmRlcjogMXB4IHNvbGlkICM0OTQ4M0VcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9pbnZpc2libGUge1xcXG5jb2xvcjogIzUyNTI0ZFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfdGFnLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9rZXl3b3JkLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9tZXRhLmFjZV90YWcsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3N0b3JhZ2Uge1xcXG5jb2xvcjogI0Y5MjY3MlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3B1bmN0dWF0aW9uLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9wdW5jdHVhdGlvbi5hY2VfdGFnIHtcXFxuY29sb3I6ICNmZmZcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfY2hhcmFjdGVyLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2VfbGFuZ3VhZ2UsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9udW1lcmljLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9jb25zdGFudC5hY2Vfb3RoZXIge1xcXG5jb2xvcjogI0FFODFGRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQge1xcXG5jb2xvcjogI0Y4RjhGMDtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0Y5MjY3MlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2ludmFsaWQuYWNlX2RlcHJlY2F0ZWQge1xcXG5jb2xvcjogI0Y4RjhGMDtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0FFODFGRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50LFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XFxcbmNvbG9yOiAjNjZEOUVGXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNBNkUyMkU7XFxcbmJvcmRlci1jb2xvcjogI0Y4RjhGMlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3N0b3JhZ2UuYWNlX3R5cGUsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2NsYXNzLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdXBwb3J0LmFjZV90eXBlIHtcXFxuZm9udC1zdHlsZTogaXRhbGljO1xcXG5jb2xvcjogIzY2RDlFRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24sXFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2VudGl0eS5hY2Vfb3RoZXIuYWNlX2F0dHJpYnV0ZS1uYW1lLFxcXG4uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZSB7XFxcbmNvbG9yOiAjQTZFMjJFXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfdmFyaWFibGUuYWNlX3BhcmFtZXRlciB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxuY29sb3I6ICNGRDk3MUZcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9zdHJpbmcge1xcXG5jb2xvcjogI0U2REI3NFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbW1lbnQge1xcXG5jb2xvcjogIzc1NzE1RVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2luZGVudC1ndWlkZSB7XFxcbmJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRWtsRVFWUUltV1BRMEZEMFpYQnpkL3dQQUFqVkFveGVTZ05lQUFBQUFFbEZUa1N1UW1DQykgcmlnaHQgcmVwZWF0LXlcXFxufVwiO1xuXG52YXIgZG9tID0gYWNlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xuZG9tLmltcG9ydENzc1N0cmluZyhleHBvcnRzLmNzc1RleHQsIGV4cG9ydHMuY3NzQ2xhc3MpO1xufSk7XG4iLCJtb2R1bGUuZXhwb3J0cy5pZCA9ICdhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlcic7XG5tb2R1bGUuZXhwb3J0cy5zcmMgPSBcIlxcXCJubyB1c2Ugc3RyaWN0XFxcIjsoZnVuY3Rpb24od2luZG93KXtmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQscGF0aHMpe2Zvcih2YXIgdGVzdFBhdGg9aWQsdGFpbD1cXFwiXFxcIjt0ZXN0UGF0aDspe3ZhciBhbGlhcz1wYXRoc1t0ZXN0UGF0aF07aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhbGlhcylyZXR1cm4gYWxpYXMrdGFpbDtpZihhbGlhcylyZXR1cm4gYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXFxcXC8qJC8sXFxcIi9cXFwiKSsodGFpbHx8YWxpYXMubWFpbnx8YWxpYXMubmFtZSk7aWYoYWxpYXM9PT0hMSlyZXR1cm5cXFwiXFxcIjt2YXIgaT10ZXN0UGF0aC5sYXN0SW5kZXhPZihcXFwiL1xcXCIpO2lmKC0xPT09aSlicmVhazt0YWlsPXRlc3RQYXRoLnN1YnN0cihpKSt0YWlsLHRlc3RQYXRoPXRlc3RQYXRoLnNsaWNlKDAsaSl9cmV0dXJuIGlkfWlmKCEodm9pZCAwIT09d2luZG93LndpbmRvdyYmd2luZG93LmRvY3VtZW50fHx3aW5kb3cuYWNlcXVpcmUmJndpbmRvdy5kZWZpbmUpKXt3aW5kb3cuY29uc29sZXx8KHdpbmRvdy5jb25zb2xlPWZ1bmN0aW9uKCl7dmFyIG1zZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJsb2dcXFwiLGRhdGE6bXNnc30pfSx3aW5kb3cuY29uc29sZS5lcnJvcj13aW5kb3cuY29uc29sZS53YXJuPXdpbmRvdy5jb25zb2xlLmxvZz13aW5kb3cuY29uc29sZS50cmFjZT13aW5kb3cuY29uc29sZSksd2luZG93LndpbmRvdz13aW5kb3csd2luZG93LmFjZT13aW5kb3csd2luZG93Lm9uZXJyb3I9ZnVuY3Rpb24obWVzc2FnZSxmaWxlLGxpbmUsY29sLGVycil7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImVycm9yXFxcIixkYXRhOnttZXNzYWdlOm1lc3NhZ2UsZGF0YTplcnIuZGF0YSxmaWxlOmZpbGUsbGluZTpsaW5lLGNvbDpjb2wsc3RhY2s6ZXJyLnN0YWNrfX0pfSx3aW5kb3cubm9ybWFsaXplTW9kdWxlPWZ1bmN0aW9uKHBhcmVudElkLG1vZHVsZU5hbWUpe2lmKC0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIhXFxcIikpe3ZhciBjaHVua3M9bW9kdWxlTmFtZS5zcGxpdChcXFwiIVxcXCIpO3JldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1swXSkrXFxcIiFcXFwiK3dpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzFdKX1pZihcXFwiLlxcXCI9PW1vZHVsZU5hbWUuY2hhckF0KDApKXt2YXIgYmFzZT1wYXJlbnRJZC5zcGxpdChcXFwiL1xcXCIpLnNsaWNlKDAsLTEpLmpvaW4oXFxcIi9cXFwiKTtmb3IobW9kdWxlTmFtZT0oYmFzZT9iYXNlK1xcXCIvXFxcIjpcXFwiXFxcIikrbW9kdWxlTmFtZTstMSE9PW1vZHVsZU5hbWUuaW5kZXhPZihcXFwiLlxcXCIpJiZwcmV2aW91cyE9bW9kdWxlTmFtZTspe3ZhciBwcmV2aW91cz1tb2R1bGVOYW1lO21vZHVsZU5hbWU9bW9kdWxlTmFtZS5yZXBsYWNlKC9eXFxcXC5cXFxcLy8sXFxcIlxcXCIpLnJlcGxhY2UoL1xcXFwvXFxcXC5cXFxcLy8sXFxcIi9cXFwiKS5yZXBsYWNlKC9bXlxcXFwvXStcXFxcL1xcXFwuXFxcXC5cXFxcLy8sXFxcIlxcXCIpfX1yZXR1cm4gbW9kdWxlTmFtZX0sd2luZG93LmFjZXF1aXJlPWZ1bmN0aW9uIGFjZXF1aXJlKHBhcmVudElkLGlkKXtpZihpZHx8KGlkPXBhcmVudElkLHBhcmVudElkPW51bGwpLCFpZC5jaGFyQXQpdGhyb3cgRXJyb3IoXFxcIndvcmtlci5qcyBhY2VxdWlyZSgpIGFjY2VwdHMgb25seSAocGFyZW50SWQsIGlkKSBhcyBhcmd1bWVudHNcXFwiKTtpZD13aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGlkKTt2YXIgbW9kdWxlPXdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXTtpZihtb2R1bGUpcmV0dXJuIG1vZHVsZS5pbml0aWFsaXplZHx8KG1vZHVsZS5pbml0aWFsaXplZD0hMCxtb2R1bGUuZXhwb3J0cz1tb2R1bGUuZmFjdG9yeSgpLmV4cG9ydHMpLG1vZHVsZS5leHBvcnRzO2lmKCF3aW5kb3cuYWNlcXVpcmUudGxucylyZXR1cm4gY29uc29sZS5sb2coXFxcInVuYWJsZSB0byBsb2FkIFxcXCIraWQpO3ZhciBwYXRoPXJlc29sdmVNb2R1bGVJZChpZCx3aW5kb3cuYWNlcXVpcmUudGxucyk7cmV0dXJuXFxcIi5qc1xcXCIhPXBhdGguc2xpY2UoLTMpJiYocGF0aCs9XFxcIi5qc1xcXCIpLHdpbmRvdy5hY2VxdWlyZS5pZD1pZCx3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e30saW1wb3J0U2NyaXB0cyhwYXRoKSx3aW5kb3cuYWNlcXVpcmUocGFyZW50SWQsaWQpfSx3aW5kb3cuYWNlcXVpcmUubW9kdWxlcz17fSx3aW5kb3cuYWNlcXVpcmUudGxucz17fSx3aW5kb3cuZGVmaW5lPWZ1bmN0aW9uKGlkLGRlcHMsZmFjdG9yeSl7aWYoMj09YXJndW1lbnRzLmxlbmd0aD8oZmFjdG9yeT1kZXBzLFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgaWQmJihkZXBzPWlkLGlkPXdpbmRvdy5hY2VxdWlyZS5pZCkpOjE9PWFyZ3VtZW50cy5sZW5ndGgmJihmYWN0b3J5PWlkLGRlcHM9W10saWQ9d2luZG93LmFjZXF1aXJlLmlkKSxcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZmFjdG9yeSlyZXR1cm4gd2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXtleHBvcnRzOmZhY3RvcnksaW5pdGlhbGl6ZWQ6ITB9LHZvaWQgMDtkZXBzLmxlbmd0aHx8KGRlcHM9W1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdKTt2YXIgcmVxPWZ1bmN0aW9uKGNoaWxkSWQpe3JldHVybiB3aW5kb3cuYWNlcXVpcmUoaWQsY2hpbGRJZCl9O3dpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17ZXhwb3J0czp7fSxmYWN0b3J5OmZ1bmN0aW9uKCl7dmFyIG1vZHVsZT10aGlzLHJldHVybkV4cG9ydHM9ZmFjdG9yeS5hcHBseSh0aGlzLGRlcHMubWFwKGZ1bmN0aW9uKGRlcCl7c3dpdGNoKGRlcCl7Y2FzZVxcXCJyZXF1aXJlXFxcIjpyZXR1cm4gcmVxO2Nhc2VcXFwiZXhwb3J0c1xcXCI6cmV0dXJuIG1vZHVsZS5leHBvcnRzO2Nhc2VcXFwibW9kdWxlXFxcIjpyZXR1cm4gbW9kdWxlO2RlZmF1bHQ6cmV0dXJuIHJlcShkZXApfX0pKTtyZXR1cm4gcmV0dXJuRXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXJldHVybkV4cG9ydHMpLG1vZHVsZX19fSx3aW5kb3cuZGVmaW5lLmFtZD17fSxhY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5pbml0QmFzZVVybHM9ZnVuY3Rpb24odG9wTGV2ZWxOYW1lc3BhY2VzKXtmb3IodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKWFjZXF1aXJlLnRsbnNbaV09dG9wTGV2ZWxOYW1lc3BhY2VzW2ldfSx3aW5kb3cuaW5pdFNlbmRlcj1mdW5jdGlvbigpe3ZhciBFdmVudEVtaXR0ZXI9d2luZG93LmFjZXF1aXJlKFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsb29wPXdpbmRvdy5hY2VxdWlyZShcXFwiYWNlL2xpYi9vb3BcXFwiKSxTZW5kZXI9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuY2FsbGJhY2s9ZnVuY3Rpb24oZGF0YSxjYWxsYmFja0lkKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiY2FsbFxcXCIsaWQ6Y2FsbGJhY2tJZCxkYXRhOmRhdGF9KX0sdGhpcy5lbWl0PWZ1bmN0aW9uKG5hbWUsZGF0YSl7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImV2ZW50XFxcIixuYW1lOm5hbWUsZGF0YTpkYXRhfSl9fS5jYWxsKFNlbmRlci5wcm90b3R5cGUpLG5ldyBTZW5kZXJ9O3ZhciBtYWluPXdpbmRvdy5tYWluPW51bGwsc2VuZGVyPXdpbmRvdy5zZW5kZXI9bnVsbDt3aW5kb3cub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciBtc2c9ZS5kYXRhO2lmKG1zZy5ldmVudCYmc2VuZGVyKXNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCxtc2cuZGF0YSk7ZWxzZSBpZihtc2cuY29tbWFuZClpZihtYWluW21zZy5jb21tYW5kXSltYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLG1zZy5hcmdzKTtlbHNle2lmKCF3aW5kb3dbbXNnLmNvbW1hbmRdKXRocm93IEVycm9yKFxcXCJVbmtub3duIGNvbW1hbmQ6XFxcIittc2cuY29tbWFuZCk7d2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csbXNnLmFyZ3MpfWVsc2UgaWYobXNnLmluaXQpe3dpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpLGFjZXF1aXJlKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIiksc2VuZGVyPXdpbmRvdy5zZW5kZXI9d2luZG93LmluaXRTZW5kZXIoKTt2YXIgY2xheno9YWNlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07bWFpbj13aW5kb3cubWFpbj1uZXcgY2xhenooc2VuZGVyKX19fX0pKHRoaXMpLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvb29wXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2N0b3Iuc3VwZXJfPXN1cGVyQ3RvcixjdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjdG9yLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfSxleHBvcnRzLm1peGluPWZ1bmN0aW9uKG9iaixtaXhpbil7Zm9yKHZhciBrZXkgaW4gbWl4aW4pb2JqW2tleV09bWl4aW5ba2V5XTtyZXR1cm4gb2JqfSxleHBvcnRzLmltcGxlbWVudD1mdW5jdGlvbihwcm90byxtaXhpbil7ZXhwb3J0cy5taXhpbihwcm90byxtaXhpbil9fSksYWNlLmRlZmluZShcXFwiYWNlL3JhbmdlXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBjb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sUmFuZ2U9ZnVuY3Rpb24oc3RhcnRSb3csc3RhcnRDb2x1bW4sZW5kUm93LGVuZENvbHVtbil7dGhpcy5zdGFydD17cm93OnN0YXJ0Um93LGNvbHVtbjpzdGFydENvbHVtbn0sdGhpcy5lbmQ9e3JvdzplbmRSb3csY29sdW1uOmVuZENvbHVtbn19OyhmdW5jdGlvbigpe3RoaXMuaXNFcXVhbD1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09cmFuZ2Uuc3RhcnQucm93JiZ0aGlzLmVuZC5yb3c9PT1yYW5nZS5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXJhbmdlLnN0YXJ0LmNvbHVtbiYmdGhpcy5lbmQuY29sdW1uPT09cmFuZ2UuZW5kLmNvbHVtbn0sdGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJSYW5nZTogW1xcXCIrdGhpcy5zdGFydC5yb3crXFxcIi9cXFwiK3RoaXMuc3RhcnQuY29sdW1uK1xcXCJdIC0+IFtcXFwiK3RoaXMuZW5kLnJvdytcXFwiL1xcXCIrdGhpcy5lbmQuY29sdW1uK1xcXCJdXFxcIn0sdGhpcy5jb250YWlucz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVSYW5nZT1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcCxlbmQ9cmFuZ2UuZW5kLHN0YXJ0PXJhbmdlLnN0YXJ0O3JldHVybiBjbXA9dGhpcy5jb21wYXJlKGVuZC5yb3csZW5kLmNvbHVtbiksMT09Y21wPyhjbXA9dGhpcy5jb21wYXJlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4pLDE9PWNtcD8yOjA9PWNtcD8xOjApOi0xPT1jbXA/LTI6KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksLTE9PWNtcD8tMToxPT1jbXA/NDI6MCl9LHRoaXMuY29tcGFyZVBvaW50PWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmNvbXBhcmUocC5yb3cscC5jb2x1bW4pfSx0aGlzLmNvbnRhaW5zUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiAwPT10aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkmJjA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCl9LHRoaXMuaW50ZXJzZWN0cz1mdW5jdGlvbihyYW5nZSl7dmFyIGNtcD10aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7cmV0dXJuLTE9PWNtcHx8MD09Y21wfHwxPT1jbXB9LHRoaXMuaXNFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbn0sdGhpcy5pc1N0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1ufSx0aGlzLnNldFN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe1xcXCJvYmplY3RcXFwiPT10eXBlb2Ygcm93Pyh0aGlzLnN0YXJ0LmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuc3RhcnQucm93PXJvdy5yb3cpOih0aGlzLnN0YXJ0LnJvdz1yb3csdGhpcy5zdGFydC5jb2x1bW49Y29sdW1uKX0sdGhpcy5zZXRFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuZW5kLmNvbHVtbj1yb3cuY29sdW1uLHRoaXMuZW5kLnJvdz1yb3cucm93KToodGhpcy5lbmQucm93PXJvdyx0aGlzLmVuZC5jb2x1bW49Y29sdW1uKX0sdGhpcy5pbnNpZGU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pfHx0aGlzLmlzU3RhcnQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIDA9PXRoaXMuY29tcGFyZShyb3csY29sdW1uKT90aGlzLmlzRW5kKHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmluc2lkZUVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5jb21wYXJlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmlzTXVsdGlMaW5lKCl8fHJvdyE9PXRoaXMuc3RhcnQucm93P3RoaXMuc3RhcnQucm93PnJvdz8tMTpyb3c+dGhpcy5lbmQucm93PzE6dGhpcy5zdGFydC5yb3c9PT1yb3c/Y29sdW1uPj10aGlzLnN0YXJ0LmNvbHVtbj8wOi0xOnRoaXMuZW5kLnJvdz09PXJvdz90aGlzLmVuZC5jb2x1bW4+PWNvbHVtbj8wOjE6MDp0aGlzLnN0YXJ0LmNvbHVtbj5jb2x1bW4/LTE6Y29sdW1uPnRoaXMuZW5kLmNvbHVtbj8xOjB9LHRoaXMuY29tcGFyZVN0YXJ0PWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZUluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1uPzE6dGhpcy5zdGFydC5yb3c9PXJvdyYmdGhpcy5zdGFydC5jb2x1bW49PWNvbHVtbj8tMTp0aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY2xpcFJvd3M9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7aWYodGhpcy5lbmQucm93Pmxhc3RSb3cpdmFyIGVuZD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLmVuZC5yb3cpdmFyIGVuZD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtpZih0aGlzLnN0YXJ0LnJvdz5sYXN0Um93KXZhciBzdGFydD17cm93Omxhc3RSb3crMSxjb2x1bW46MH07ZWxzZSBpZihmaXJzdFJvdz50aGlzLnN0YXJ0LnJvdyl2YXIgc3RhcnQ9e3JvdzpmaXJzdFJvdyxjb2x1bW46MH07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuZXh0ZW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBjbXA9dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pO2lmKDA9PWNtcClyZXR1cm4gdGhpcztpZigtMT09Y21wKXZhciBzdGFydD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtlbHNlIHZhciBlbmQ9e3Jvdzpyb3csY29sdW1uOmNvbHVtbn07cmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnR8fHRoaXMuc3RhcnQsZW5kfHx0aGlzLmVuZCl9LHRoaXMuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdz09PXRoaXMuZW5kLnJvdyYmdGhpcy5zdGFydC5jb2x1bW49PT10aGlzLmVuZC5jb2x1bW59LHRoaXMuaXNNdWx0aUxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5yb3chPT10aGlzLmVuZC5yb3d9LHRoaXMuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LHRoaXMuZW5kKX0sdGhpcy5jb2xsYXBzZVJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5lbmQuY29sdW1uP25ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLE1hdGgubWF4KHRoaXMuc3RhcnQucm93LHRoaXMuZW5kLnJvdy0xKSwwKTpuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csMCx0aGlzLmVuZC5yb3csMCl9LHRoaXMudG9TY3JlZW5SYW5nZT1mdW5jdGlvbihzZXNzaW9uKXt2YXIgc2NyZWVuUG9zU3RhcnQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCksc2NyZWVuUG9zRW5kPXNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtyZXR1cm4gbmV3IFJhbmdlKHNjcmVlblBvc1N0YXJ0LnJvdyxzY3JlZW5Qb3NTdGFydC5jb2x1bW4sc2NyZWVuUG9zRW5kLnJvdyxzY3JlZW5Qb3NFbmQuY29sdW1uKX0sdGhpcy5tb3ZlQnk9ZnVuY3Rpb24ocm93LGNvbHVtbil7dGhpcy5zdGFydC5yb3crPXJvdyx0aGlzLnN0YXJ0LmNvbHVtbis9Y29sdW1uLHRoaXMuZW5kLnJvdys9cm93LHRoaXMuZW5kLmNvbHVtbis9Y29sdW1ufX0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKSxSYW5nZS5mcm9tUG9pbnRzPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7cmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csc3RhcnQuY29sdW1uLGVuZC5yb3csZW5kLmNvbHVtbil9LFJhbmdlLmNvbXBhcmVQb2ludHM9Y29tcGFyZVBvaW50cyxSYW5nZS5jb21wYXJlUG9pbnRzPWZ1bmN0aW9uKHAxLHAyKXtyZXR1cm4gcDEucm93LXAyLnJvd3x8cDEuY29sdW1uLXAyLmNvbHVtbn0sZXhwb3J0cy5SYW5nZT1SYW5nZX0pLGFjZS5kZWZpbmUoXFxcImFjZS9hcHBseV9kZWx0YVxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZG9jTGluZXMsZGVsdGEpe3ZhciByb3c9ZGVsdGEuc3RhcnQucm93LHN0YXJ0Q29sdW1uPWRlbHRhLnN0YXJ0LmNvbHVtbixsaW5lPWRvY0xpbmVzW3Jvd118fFxcXCJcXFwiO3N3aXRjaChkZWx0YS5hY3Rpb24pe2Nhc2VcXFwiaW5zZXJ0XFxcIjp2YXIgbGluZXM9ZGVsdGEubGluZXM7aWYoMT09PWxpbmVzLmxlbmd0aClkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RlbHRhLmxpbmVzWzBdK2xpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTtlbHNle3ZhciBhcmdzPVtyb3csMV0uY29uY2F0KGRlbHRhLmxpbmVzKTtkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsYXJncyksZG9jTGluZXNbcm93XT1saW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tyb3ddLGRvY0xpbmVzW3JvdytkZWx0YS5saW5lcy5sZW5ndGgtMV0rPWxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKX1icmVhaztjYXNlXFxcInJlbW92ZVxcXCI6dmFyIGVuZENvbHVtbj1kZWx0YS5lbmQuY29sdW1uLGVuZFJvdz1kZWx0YS5lbmQucm93O3Jvdz09PWVuZFJvdz9kb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2xpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik6ZG9jTGluZXMuc3BsaWNlKHJvdyxlbmRSb3ctcm93KzEsbGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSl9fX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgRXZlbnRFbWl0dGVyPXt9LHN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxwcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH07RXZlbnRFbWl0dGVyLl9lbWl0PUV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihldmVudE5hbWUsZSl7dGhpcy5fZXZlbnRSZWdpc3RyeXx8KHRoaXMuX2V2ZW50UmVnaXN0cnk9e30pLHRoaXMuX2RlZmF1bHRIYW5kbGVyc3x8KHRoaXMuX2RlZmF1bHRIYW5kbGVycz17fSk7dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV18fFtdLGRlZmF1bHRIYW5kbGVyPXRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdO2lmKGxpc3RlbmVycy5sZW5ndGh8fGRlZmF1bHRIYW5kbGVyKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIGUmJmV8fChlPXt9KSxlLnR5cGV8fChlLnR5cGU9ZXZlbnROYW1lKSxlLnN0b3BQcm9wYWdhdGlvbnx8KGUuc3RvcFByb3BhZ2F0aW9uPXN0b3BQcm9wYWdhdGlvbiksZS5wcmV2ZW50RGVmYXVsdHx8KGUucHJldmVudERlZmF1bHQ9cHJldmVudERlZmF1bHQpLGxpc3RlbmVycz1saXN0ZW5lcnMuc2xpY2UoKTtmb3IodmFyIGk9MDtsaXN0ZW5lcnMubGVuZ3RoPmkmJihsaXN0ZW5lcnNbaV0oZSx0aGlzKSwhZS5wcm9wYWdhdGlvblN0b3BwZWQpO2krKyk7cmV0dXJuIGRlZmF1bHRIYW5kbGVyJiYhZS5kZWZhdWx0UHJldmVudGVkP2RlZmF1bHRIYW5kbGVyKGUsdGhpcyk6dm9pZCAwfX0sRXZlbnRFbWl0dGVyLl9zaWduYWw9ZnVuY3Rpb24oZXZlbnROYW1lLGUpe3ZhciBsaXN0ZW5lcnM9KHRoaXMuX2V2ZW50UmVnaXN0cnl8fHt9KVtldmVudE5hbWVdO2lmKGxpc3RlbmVycyl7bGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aTtpKyspbGlzdGVuZXJzW2ldKGUsdGhpcyl9fSxFdmVudEVtaXR0ZXIub25jZT1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBfc2VsZj10aGlzO2NhbGxiYWNrJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCl7X3NlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsbmV3Q2FsbGJhY2spLGNhbGxiYWNrLmFwcGx5KG51bGwsYXJndW1lbnRzKX0pfSxFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzfHwoaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzPXtfZGlzYWJsZWRfOnt9fSksaGFuZGxlcnNbZXZlbnROYW1lXSl7dmFyIG9sZD1oYW5kbGVyc1tldmVudE5hbWVdLGRpc2FibGVkPWhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTtkaXNhYmxlZHx8KGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXT1kaXNhYmxlZD1bXSksZGlzYWJsZWQucHVzaChvbGQpO3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX1oYW5kbGVyc1tldmVudE5hbWVdPWNhbGxiYWNrfSxFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrKXt2YXIgaGFuZGxlcnM9dGhpcy5fZGVmYXVsdEhhbmRsZXJzO2lmKGhhbmRsZXJzKXt2YXIgZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2lmKGhhbmRsZXJzW2V2ZW50TmFtZV09PWNhbGxiYWNrKWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQmJnRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLGRpc2FibGVkLnBvcCgpKTtlbHNlIGlmKGRpc2FibGVkKXt2YXIgaT1kaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTstMSE9aSYmZGlzYWJsZWQuc3BsaWNlKGksMSl9fX0sRXZlbnRFbWl0dGVyLm9uPUV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayxjYXB0dXJpbmcpe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07cmV0dXJuIGxpc3RlbmVyc3x8KGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV09W10pLC0xPT1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaykmJmxpc3RlbmVyc1tjYXB0dXJpbmc/XFxcInVuc2hpZnRcXFwiOlxcXCJwdXNoXFxcIl0oY2FsbGJhY2spLGNhbGxiYWNrfSxFdmVudEVtaXR0ZXIub2ZmPUV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcj1FdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3RoaXMuX2V2ZW50UmVnaXN0cnk9dGhpcy5fZXZlbnRSZWdpc3RyeXx8e307dmFyIGxpc3RlbmVycz10aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXt2YXIgaW5kZXg9bGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOy0xIT09aW5kZXgmJmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsMSl9fSxFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGV2ZW50TmFtZSl7dGhpcy5fZXZlbnRSZWdpc3RyeSYmKHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSl9LGV4cG9ydHMuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcn0pLGFjZS5kZWZpbmUoXFxcImFjZS9hbmNob3JcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsQW5jaG9yPWV4cG9ydHMuQW5jaG9yPWZ1bmN0aW9uKGRvYyxyb3csY29sdW1uKXt0aGlzLiRvbkNoYW5nZT10aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyksdGhpcy5hdHRhY2goZG9jKSxjb2x1bW49PT12b2lkIDA/dGhpcy5zZXRQb3NpdGlvbihyb3cucm93LHJvdy5jb2x1bW4pOnRoaXMuc2V0UG9zaXRpb24ocm93LGNvbHVtbil9OyhmdW5jdGlvbigpe2Z1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSxwb2ludDIsZXF1YWxQb2ludHNJbk9yZGVyKXt2YXIgYkNvbElzQWZ0ZXI9ZXF1YWxQb2ludHNJbk9yZGVyP3BvaW50MS5jb2x1bW48PXBvaW50Mi5jb2x1bW46cG9pbnQxLmNvbHVtbjxwb2ludDIuY29sdW1uO3JldHVybiBwb2ludDEucm93PHBvaW50Mi5yb3d8fHBvaW50MS5yb3c9PXBvaW50Mi5yb3cmJmJDb2xJc0FmdGVyfWZ1bmN0aW9uICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHBvaW50LG1vdmVJZkVxdWFsKXt2YXIgZGVsdGFJc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uLGRlbHRhUm93U2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5yb3ctZGVsdGEuc3RhcnQucm93KSxkZWx0YUNvbFNoaWZ0PShkZWx0YUlzSW5zZXJ0PzE6LTEpKihkZWx0YS5lbmQuY29sdW1uLWRlbHRhLnN0YXJ0LmNvbHVtbiksZGVsdGFTdGFydD1kZWx0YS5zdGFydCxkZWx0YUVuZD1kZWx0YUlzSW5zZXJ0P2RlbHRhU3RhcnQ6ZGVsdGEuZW5kO3JldHVybiAkcG9pbnRzSW5PcmRlcihwb2ludCxkZWx0YVN0YXJ0LG1vdmVJZkVxdWFsKT97cm93OnBvaW50LnJvdyxjb2x1bW46cG9pbnQuY29sdW1ufTokcG9pbnRzSW5PcmRlcihkZWx0YUVuZCxwb2ludCwhbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93K2RlbHRhUm93U2hpZnQsY29sdW1uOnBvaW50LmNvbHVtbisocG9pbnQucm93PT1kZWx0YUVuZC5yb3c/ZGVsdGFDb2xTaGlmdDowKX06e3JvdzpkZWx0YVN0YXJ0LnJvdyxjb2x1bW46ZGVsdGFTdGFydC5jb2x1bW59fW9vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdyx0aGlzLmNvbHVtbil9LHRoaXMuZ2V0RG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb2N1bWVudH0sdGhpcy4kaW5zZXJ0UmlnaHQ9ITEsdGhpcy5vbkNoYW5nZT1mdW5jdGlvbihkZWx0YSl7aWYoIShkZWx0YS5zdGFydC5yb3c9PWRlbHRhLmVuZC5yb3cmJmRlbHRhLnN0YXJ0LnJvdyE9dGhpcy5yb3d8fGRlbHRhLnN0YXJ0LnJvdz50aGlzLnJvdykpe3ZhciBwb2ludD0kZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSx7cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn0sdGhpcy4kaW5zZXJ0UmlnaHQpO3RoaXMuc2V0UG9zaXRpb24ocG9pbnQucm93LHBvaW50LmNvbHVtbiwhMCl9fSx0aGlzLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHJvdyxjb2x1bW4sbm9DbGlwKXt2YXIgcG9zO2lmKHBvcz1ub0NsaXA/e3Jvdzpyb3csY29sdW1uOmNvbHVtbn06dGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csY29sdW1uKSx0aGlzLnJvdyE9cG9zLnJvd3x8dGhpcy5jb2x1bW4hPXBvcy5jb2x1bW4pe3ZhciBvbGQ9e3Jvdzp0aGlzLnJvdyxjb2x1bW46dGhpcy5jb2x1bW59O3RoaXMucm93PXBvcy5yb3csdGhpcy5jb2x1bW49cG9zLmNvbHVtbix0aGlzLl9zaWduYWwoXFxcImNoYW5nZVxcXCIse29sZDpvbGQsdmFsdWU6cG9zfSl9fSx0aGlzLmRldGFjaD1mdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuYXR0YWNoPWZ1bmN0aW9uKGRvYyl7dGhpcy5kb2N1bWVudD1kb2N8fHRoaXMuZG9jdW1lbnQsdGhpcy5kb2N1bWVudC5vbihcXFwiY2hhbmdlXFxcIix0aGlzLiRvbkNoYW5nZSl9LHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIHBvcz17fTtyZXR1cm4gcm93Pj10aGlzLmRvY3VtZW50LmdldExlbmd0aCgpPyhwb3Mucm93PU1hdGgubWF4KDAsdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKS0xKSxwb3MuY29sdW1uPXRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgpOjA+cm93Pyhwb3Mucm93PTAscG9zLmNvbHVtbj0wKToocG9zLnJvdz1yb3cscG9zLmNvbHVtbj1NYXRoLm1pbih0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoLE1hdGgubWF4KDAsY29sdW1uKSkpLDA+Y29sdW1uJiYocG9zLmNvbHVtbj0wKSxwb3N9fSkuY2FsbChBbmNob3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9kb2N1bWVudFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2FwcGx5X2RlbHRhXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2FuY2hvclxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgb29wPWFjZXF1aXJlKFxcXCIuL2xpYi9vb3BcXFwiKSxhcHBseURlbHRhPWFjZXF1aXJlKFxcXCIuL2FwcGx5X2RlbHRhXFxcIikuYXBwbHlEZWx0YSxFdmVudEVtaXR0ZXI9YWNlcXVpcmUoXFxcIi4vbGliL2V2ZW50X2VtaXR0ZXJcXFwiKS5FdmVudEVtaXR0ZXIsUmFuZ2U9YWNlcXVpcmUoXFxcIi4vcmFuZ2VcXFwiKS5SYW5nZSxBbmNob3I9YWNlcXVpcmUoXFxcIi4vYW5jaG9yXFxcIikuQW5jaG9yLERvY3VtZW50PWZ1bmN0aW9uKHRleHRPckxpbmVzKXt0aGlzLiRsaW5lcz1bXFxcIlxcXCJdLDA9PT10ZXh0T3JMaW5lcy5sZW5ndGg/dGhpcy4kbGluZXM9W1xcXCJcXFwiXTpBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKT90aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpOnRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dE9yTGluZXMpfTsoZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHRleHQpe3ZhciBsZW49dGhpcy5nZXRMZW5ndGgoKS0xO3RoaXMucmVtb3ZlKG5ldyBSYW5nZSgwLDAsbGVuLHRoaXMuZ2V0TGluZShsZW4pLmxlbmd0aCkpLHRoaXMuaW5zZXJ0KHtyb3c6MCxjb2x1bW46MH0sdGV4dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmNyZWF0ZUFuY2hvcj1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gbmV3IEFuY2hvcih0aGlzLHJvdyxjb2x1bW4pfSx0aGlzLiRzcGxpdD0wPT09XFxcImFhYVxcXCIuc3BsaXQoL2EvKS5sZW5ndGg/ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQucmVwbGFjZSgvXFxcXHJcXFxcbnxcXFxcci9nLFxcXCJcXFxcblxcXCIpLnNwbGl0KFxcXCJcXFxcblxcXCIpfTpmdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5zcGxpdCgvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi8pfSx0aGlzLiRkZXRlY3ROZXdMaW5lPWZ1bmN0aW9uKHRleHQpe3ZhciBtYXRjaD10ZXh0Lm1hdGNoKC9eLio/KFxcXFxyXFxcXG58XFxcXHJ8XFxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOlxcXCJcXFxcblxcXCIsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpfSx0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXI9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy4kbmV3TGluZU1vZGUpe2Nhc2VcXFwid2luZG93c1xcXCI6cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiO2Nhc2VcXFwidW5peFxcXCI6cmV0dXJuXFxcIlxcXFxuXFxcIjtkZWZhdWx0OnJldHVybiB0aGlzLiRhdXRvTmV3TGluZXx8XFxcIlxcXFxuXFxcIn19LHRoaXMuJGF1dG9OZXdMaW5lPVxcXCJcXFwiLHRoaXMuJG5ld0xpbmVNb2RlPVxcXCJhdXRvXFxcIix0aGlzLnNldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKG5ld0xpbmVNb2RlKXt0aGlzLiRuZXdMaW5lTW9kZSE9PW5ld0xpbmVNb2RlJiYodGhpcy4kbmV3TGluZU1vZGU9bmV3TGluZU1vZGUsdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VOZXdMaW5lTW9kZVxcXCIpKX0sdGhpcy5nZXROZXdMaW5lTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRuZXdMaW5lTW9kZX0sdGhpcy5pc05ld0xpbmU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuXFxcIlxcXFxyXFxcXG5cXFwiPT10ZXh0fHxcXFwiXFxcXHJcXFwiPT10ZXh0fHxcXFwiXFxcXG5cXFwiPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8XFxcIlxcXCJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgbGluZXM7aWYocmFuZ2Uuc3RhcnQucm93PT09cmFuZ2UuZW5kLnJvdylsaW5lcz1bdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKV07ZWxzZXtsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KSxsaW5lc1swXT0obGluZXNbMF18fFxcXCJcXFwiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyYW5nZS5lbmQucm93LXJhbmdlLnN0YXJ0LnJvdz09bCYmKGxpbmVzW2xdPWxpbmVzW2xdLnN1YnN0cmluZygwLHJhbmdlLmVuZC5jb2x1bW4pKX1yZXR1cm4gbGluZXN9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LGxpbmVzKX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXFxcIiksdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cmV0dXJuIGNvbnNvbGUud2FybihcXFwiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbJycsICcnXSkgaW5zdGVhZC5cXFwiKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLFtcXFwiXFxcIixcXFwiXFxcIl0pfSx0aGlzLmluc2VydD1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXtyZXR1cm4gMT49dGhpcy5nZXRMZW5ndGgoKSYmdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLHRoaXMuJHNwbGl0KHRleHQpKX0sdGhpcy5pbnNlcnRJbkxpbmU9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9dGhpcy5wb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbit0ZXh0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcImluc2VydFxcXCIsbGluZXM6W3RleHRdfSwhMCksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLmNsaXBwZWRQb3M9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3ZvaWQgMD09PXJvdz9yb3c9bGVuZ3RoOjA+cm93P3Jvdz0wOnJvdz49bGVuZ3RoJiYocm93PWxlbmd0aC0xLGNvbHVtbj12b2lkIDApO3ZhciBsaW5lPXRoaXMuZ2V0TGluZShyb3cpO3JldHVybiB2b2lkIDA9PWNvbHVtbiYmKGNvbHVtbj1saW5lLmxlbmd0aCksY29sdW1uPU1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwwKSxsaW5lLmxlbmd0aCkse3Jvdzpyb3csY29sdW1uOmNvbHVtbn19LHRoaXMuY2xvbmVQb3M9ZnVuY3Rpb24ocG9zKXtyZXR1cm57cm93OnBvcy5yb3csY29sdW1uOnBvcy5jb2x1bW59fSx0aGlzLnBvcz1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm57cm93OnJvdyxjb2x1bW46Y29sdW1ufX0sdGhpcy4kY2xpcFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uKXt2YXIgbGVuZ3RoPXRoaXMuZ2V0TGVuZ3RoKCk7cmV0dXJuIHBvc2l0aW9uLnJvdz49bGVuZ3RoPyhwb3NpdGlvbi5yb3c9TWF0aC5tYXgoMCxsZW5ndGgtMSkscG9zaXRpb24uY29sdW1uPXRoaXMuZ2V0TGluZShsZW5ndGgtMSkubGVuZ3RoKToocG9zaXRpb24ucm93PU1hdGgubWF4KDAscG9zaXRpb24ucm93KSxwb3NpdGlvbi5jb2x1bW49TWF0aC5taW4oTWF0aC5tYXgocG9zaXRpb24uY29sdW1uLDApLHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCkpLHBvc2l0aW9ufSx0aGlzLmluc2VydEZ1bGxMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe3Jvdz1NYXRoLm1pbihNYXRoLm1heChyb3csMCksdGhpcy5nZXRMZW5ndGgoKSk7dmFyIGNvbHVtbj0wO3RoaXMuZ2V0TGVuZ3RoKCk+cm93PyhsaW5lcz1saW5lcy5jb25jYXQoW1xcXCJcXFwiXSksY29sdW1uPTApOihsaW5lcz1bXFxcIlxcXCJdLmNvbmNhdChsaW5lcykscm93LS0sY29sdW1uPXRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoKSx0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6cm93LGNvbHVtbjpjb2x1bW59LGxpbmVzKX0sdGhpcy5pbnNlcnRNZXJnZWRMaW5lcz1mdW5jdGlvbihwb3NpdGlvbixsaW5lcyl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uKSxlbmQ9e3JvdzpzdGFydC5yb3crbGluZXMubGVuZ3RoLTEsY29sdW1uOigxPT1saW5lcy5sZW5ndGg/c3RhcnQuY29sdW1uOjApK2xpbmVzW2xpbmVzLmxlbmd0aC0xXS5sZW5ndGh9O3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOlxcXCJpbnNlcnRcXFwiLGxpbmVzOmxpbmVzfSksdGhpcy5jbG9uZVBvcyhlbmQpfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihyYW5nZSl7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyYW5nZS5zdGFydC5yb3cscmFuZ2Uuc3RhcnQuY29sdW1uKSxlbmQ9dGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3cscmFuZ2UuZW5kLmNvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9KSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVJbkxpbmU9ZnVuY3Rpb24ocm93LHN0YXJ0Q29sdW1uLGVuZENvbHVtbil7dmFyIHN0YXJ0PXRoaXMuY2xpcHBlZFBvcyhyb3csc3RhcnRDb2x1bW4pLGVuZD10aGlzLmNsaXBwZWRQb3Mocm93LGVuZENvbHVtbik7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcInJlbW92ZVxcXCIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDpzdGFydCxlbmQ6ZW5kfSl9LCEwKSx0aGlzLmNsb25lUG9zKHN0YXJ0KX0sdGhpcy5yZW1vdmVGdWxsTGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7Zmlyc3RSb3c9TWF0aC5taW4oTWF0aC5tYXgoMCxmaXJzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKSxsYXN0Um93PU1hdGgubWluKE1hdGgubWF4KDAsbGFzdFJvdyksdGhpcy5nZXRMZW5ndGgoKS0xKTt2YXIgZGVsZXRlRmlyc3ROZXdMaW5lPWxhc3RSb3c9PXRoaXMuZ2V0TGVuZ3RoKCktMSYmZmlyc3RSb3c+MCxkZWxldGVMYXN0TmV3TGluZT10aGlzLmdldExlbmd0aCgpLTE+bGFzdFJvdyxzdGFydFJvdz1kZWxldGVGaXJzdE5ld0xpbmU/Zmlyc3RSb3ctMTpmaXJzdFJvdyxzdGFydENvbD1kZWxldGVGaXJzdE5ld0xpbmU/dGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGg6MCxlbmRSb3c9ZGVsZXRlTGFzdE5ld0xpbmU/bGFzdFJvdysxOmxhc3RSb3csZW5kQ29sPWRlbGV0ZUxhc3ROZXdMaW5lPzA6dGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoLHJhbmdlPW5ldyBSYW5nZShzdGFydFJvdyxzdGFydENvbCxlbmRSb3csZW5kQ29sKSxkZWxldGVkTGluZXM9dGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpyYW5nZS5zdGFydCxlbmQ6cmFuZ2UuZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpfSksZGVsZXRlZExpbmVzfSx0aGlzLnJlbW92ZU5ld0xpbmU9ZnVuY3Rpb24ocm93KXt0aGlzLmdldExlbmd0aCgpLTE+cm93JiZyb3c+PTAmJnRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93LHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksZW5kOnRoaXMucG9zKHJvdysxLDApLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczpbXFxcIlxcXCIsXFxcIlxcXCJdfSl9LHRoaXMucmVwbGFjZT1mdW5jdGlvbihyYW5nZSx0ZXh0KXtpZihyYW5nZSBpbnN0YW5jZW9mIFJhbmdlfHwocmFuZ2U9UmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCxyYW5nZS5lbmQpKSwwPT09dGV4dC5sZW5ndGgmJnJhbmdlLmlzRW1wdHkoKSlyZXR1cm4gcmFuZ2Uuc3RhcnQ7aWYodGV4dD09dGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKXJldHVybiByYW5nZS5lbmQ7dGhpcy5yZW1vdmUocmFuZ2UpO3ZhciBlbmQ7cmV0dXJuIGVuZD10ZXh0P3RoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LHRleHQpOnJhbmdlLnN0YXJ0fSx0aGlzLmFwcGx5RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPTA7ZGVsdGFzLmxlbmd0aD5pO2krKyl0aGlzLmFwcGx5RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5yZXZlcnREZWx0YXM9ZnVuY3Rpb24oZGVsdGFzKXtmb3IodmFyIGk9ZGVsdGFzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmV2ZXJ0RGVsdGEoZGVsdGFzW2ldKX0sdGhpcy5hcHBseURlbHRhPWZ1bmN0aW9uKGRlbHRhLGRvTm90VmFsaWRhdGUpe3ZhciBpc0luc2VydD1cXFwiaW5zZXJ0XFxcIj09ZGVsdGEuYWN0aW9uOyhpc0luc2VydD8xPj1kZWx0YS5saW5lcy5sZW5ndGgmJiFkZWx0YS5saW5lc1swXTohUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCxkZWx0YS5lbmQpKXx8KGlzSW5zZXJ0JiZkZWx0YS5saW5lcy5sZW5ndGg+MmU0JiZ0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwyZTQpLGFwcGx5RGVsdGEodGhpcy4kbGluZXMsZGVsdGEsZG9Ob3RWYWxpZGF0ZSksdGhpcy5fc2lnbmFsKFxcXCJjaGFuZ2VcXFwiLGRlbHRhKSl9LHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhPWZ1bmN0aW9uKGRlbHRhLE1BWCl7Zm9yKHZhciBsaW5lcz1kZWx0YS5saW5lcyxsPWxpbmVzLmxlbmd0aCxyb3c9ZGVsdGEuc3RhcnQucm93LGNvbHVtbj1kZWx0YS5zdGFydC5jb2x1bW4sZnJvbT0wLHRvPTA7Oyl7ZnJvbT10byx0bys9TUFYLTE7dmFyIGNodW5rPWxpbmVzLnNsaWNlKGZyb20sdG8pO2lmKHRvPmwpe2RlbHRhLmxpbmVzPWNodW5rLGRlbHRhLnN0YXJ0LnJvdz1yb3crZnJvbSxkZWx0YS5zdGFydC5jb2x1bW49Y29sdW1uO2JyZWFrfWNodW5rLnB1c2goXFxcIlxcXCIpLHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5wb3Mocm93K2Zyb20sY29sdW1uKSxlbmQ6dGhpcy5wb3Mocm93K3RvLGNvbHVtbj0wKSxhY3Rpb246ZGVsdGEuYWN0aW9uLGxpbmVzOmNodW5rfSwhMCl9fSx0aGlzLnJldmVydERlbHRhPWZ1bmN0aW9uKGRlbHRhKXt0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLGVuZDp0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksYWN0aW9uOlxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb24/XFxcInJlbW92ZVxcXCI6XFxcImluc2VydFxcXCIsbGluZXM6ZGVsdGEubGluZXMuc2xpY2UoKX0pfSx0aGlzLmluZGV4VG9Qb3NpdGlvbj1mdW5jdGlvbihpbmRleCxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGk9c3RhcnRSb3d8fDAsbD1saW5lcy5sZW5ndGg7bD5pO2krKylpZihpbmRleC09bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGgsMD5pbmRleClyZXR1cm57cm93OmksY29sdW1uOmluZGV4K2xpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RofTtyZXR1cm57cm93OmwtMSxjb2x1bW46bGluZXNbbC0xXS5sZW5ndGh9fSx0aGlzLnBvc2l0aW9uVG9JbmRleD1mdW5jdGlvbihwb3Msc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpbmRleD0wLHJvdz1NYXRoLm1pbihwb3Mucm93LGxpbmVzLmxlbmd0aCksaT1zdGFydFJvd3x8MDtyb3c+aTsrK2kpaW5kZXgrPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoO3JldHVybiBpbmRleCtwb3MuY29sdW1ufX0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKSxleHBvcnRzLkRvY3VtZW50PURvY3VtZW50fSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9sYW5nXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMubGFzdD1mdW5jdGlvbihhKXtyZXR1cm4gYVthLmxlbmd0aC0xXX0sZXhwb3J0cy5zdHJpbmdSZXZlcnNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdChcXFwiXFxcIikucmV2ZXJzZSgpLmpvaW4oXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1JlcGVhdD1mdW5jdGlvbihzdHJpbmcsY291bnQpe2Zvcih2YXIgcmVzdWx0PVxcXCJcXFwiO2NvdW50PjA7KTEmY291bnQmJihyZXN1bHQrPXN0cmluZyksKGNvdW50Pj49MSkmJihzdHJpbmcrPXN0cmluZyk7cmV0dXJuIHJlc3VsdH07dmFyIHRyaW1CZWdpblJlZ2V4cD0vXlxcXFxzXFxcXHMqLyx0cmltRW5kUmVnZXhwPS9cXFxcc1xcXFxzKiQvO2V4cG9ydHMuc3RyaW5nVHJpbUxlZnQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQ9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9LGV4cG9ydHMuY29weU9iamVjdD1mdW5jdGlvbihvYmope3ZhciBjb3B5PXt9O2Zvcih2YXIga2V5IGluIG9iailjb3B5W2tleV09b2JqW2tleV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuY29weUFycmF5PWZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIGNvcHk9W10saT0wLGw9YXJyYXkubGVuZ3RoO2w+aTtpKyspY29weVtpXT1hcnJheVtpXSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcnJheVtpXT90aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOmFycmF5W2ldO3JldHVybiBjb3B5fSxleHBvcnRzLmRlZXBDb3B5PWZ1bmN0aW9uIGRlZXBDb3B5KG9iail7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmp8fCFvYmopcmV0dXJuIG9iajt2YXIgY29weTtpZihBcnJheS5pc0FycmF5KG9iaikpe2NvcHk9W107Zm9yKHZhciBrZXk9MDtvYmoubGVuZ3RoPmtleTtrZXkrKyljb3B5W2tleV09ZGVlcENvcHkob2JqW2tleV0pO3JldHVybiBjb3B5fXZhciBjb25zPW9iai5jb25zdHJ1Y3RvcjtpZihjb25zPT09UmVnRXhwKXJldHVybiBvYmo7Y29weT1jb25zKCk7Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1kZWVwQ29weShvYmpba2V5XSk7cmV0dXJuIGNvcHl9LGV4cG9ydHMuYXJyYXlUb01hcD1mdW5jdGlvbihhcnIpe2Zvcih2YXIgbWFwPXt9LGk9MDthcnIubGVuZ3RoPmk7aSsrKW1hcFthcnJbaV1dPTE7cmV0dXJuIG1hcH0sZXhwb3J0cy5jcmVhdGVNYXA9ZnVuY3Rpb24ocHJvcHMpe3ZhciBtYXA9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gcHJvcHMpbWFwW2ldPXByb3BzW2ldO3JldHVybiBtYXB9LGV4cG9ydHMuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oYXJyYXksdmFsdWUpe2Zvcih2YXIgaT0wO2FycmF5Lmxlbmd0aD49aTtpKyspdmFsdWU9PT1hcnJheVtpXSYmYXJyYXkuc3BsaWNlKGksMSl9LGV4cG9ydHMuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXFxdXFxcXC9cXFxcXFxcXF0pL2csXFxcIlxcXFxcXFxcJDFcXFwiKX0sZXhwb3J0cy5lc2NhcGVIVE1MPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csXFxcIiYjMzg7XFxcIikucmVwbGFjZSgvXFxcIi9nLFxcXCImIzM0O1xcXCIpLnJlcGxhY2UoLycvZyxcXFwiJiMzOTtcXFwiKS5yZXBsYWNlKC88L2csXFxcIiYjNjA7XFxcIil9LGV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzPWZ1bmN0aW9uKHN0cmluZyxyZWdFeHApe3ZhciBtYXRjaGVzPVtdO3JldHVybiBzdHJpbmcucmVwbGFjZShyZWdFeHAsZnVuY3Rpb24oc3RyKXttYXRjaGVzLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6c3RyLmxlbmd0aH0pfSksbWF0Y2hlc30sZXhwb3J0cy5kZWZlcnJlZENhbGw9ZnVuY3Rpb24oZmNuKXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LGRlZmVycmVkPWZ1bmN0aW9uKHRpbWVvdXQpe3JldHVybiBkZWZlcnJlZC5jYW5jZWwoKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApLGRlZmVycmVkfTtyZXR1cm4gZGVmZXJyZWQuc2NoZWR1bGU9ZGVmZXJyZWQsZGVmZXJyZWQuY2FsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmNlbCgpLGZjbigpLGRlZmVycmVkfSxkZWZlcnJlZC5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsLGRlZmVycmVkfSxkZWZlcnJlZC5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGltZXJ9LGRlZmVycmVkfSxleHBvcnRzLmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGZjbixkZWZhdWx0VGltZW91dCl7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxfc2VsZj1mdW5jdGlvbih0aW1lb3V0KXtudWxsPT10aW1lciYmKHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8ZGVmYXVsdFRpbWVvdXQpKX07cmV0dXJuIF9zZWxmLmRlbGF5PWZ1bmN0aW9uKHRpbWVvdXQpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8ZGVmYXVsdFRpbWVvdXQpfSxfc2VsZi5zY2hlZHVsZT1fc2VsZixfc2VsZi5jYWxsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKSxmY24oKX0sX3NlbGYuY2FuY2VsPWZ1bmN0aW9uKCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbH0sX3NlbGYuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxfc2VsZn19KSxhY2UuZGVmaW5lKFxcXCJhY2Uvd29ya2VyL21pcnJvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9yYW5nZVxcXCIsXFxcImFjZS9kb2N1bWVudFxcXCIsXFxcImFjZS9saWIvbGFuZ1xcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjthY2VxdWlyZShcXFwiLi4vcmFuZ2VcXFwiKS5SYW5nZTt2YXIgRG9jdW1lbnQ9YWNlcXVpcmUoXFxcIi4uL2RvY3VtZW50XFxcIikuRG9jdW1lbnQsbGFuZz1hY2VxdWlyZShcXFwiLi4vbGliL2xhbmdcXFwiKSxNaXJyb3I9ZXhwb3J0cy5NaXJyb3I9ZnVuY3Rpb24oc2VuZGVyKXt0aGlzLnNlbmRlcj1zZW5kZXI7dmFyIGRvYz10aGlzLmRvYz1uZXcgRG9jdW1lbnQoXFxcIlxcXCIpLGRlZmVycmVkVXBkYXRlPXRoaXMuZGVmZXJyZWRVcGRhdGU9bGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpLF9zZWxmPXRoaXM7c2VuZGVyLm9uKFxcXCJjaGFuZ2VcXFwiLGZ1bmN0aW9uKGUpe3ZhciBkYXRhPWUuZGF0YTtpZihkYXRhWzBdLnN0YXJ0KWRvYy5hcHBseURlbHRhcyhkYXRhKTtlbHNlIGZvcih2YXIgaT0wO2RhdGEubGVuZ3RoPmk7aSs9Mil7aWYoQXJyYXkuaXNBcnJheShkYXRhW2krMV0pKXZhciBkPXthY3Rpb246XFxcImluc2VydFxcXCIsc3RhcnQ6ZGF0YVtpXSxsaW5lczpkYXRhW2krMV19O2Vsc2UgdmFyIGQ9e2FjdGlvbjpcXFwicmVtb3ZlXFxcIixzdGFydDpkYXRhW2ldLGVuZDpkYXRhW2krMV19O2RvYy5hcHBseURlbHRhKGQsITApfXJldHVybiBfc2VsZi4kdGltZW91dD9kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk6KF9zZWxmLm9uVXBkYXRlKCksdm9pZCAwKX0pfTsoZnVuY3Rpb24oKXt0aGlzLiR0aW1lb3V0PTUwMCx0aGlzLnNldFRpbWVvdXQ9ZnVuY3Rpb24odGltZW91dCl7dGhpcy4kdGltZW91dD10aW1lb3V0fSx0aGlzLnNldFZhbHVlPWZ1bmN0aW9uKHZhbHVlKXt0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSksdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbihjYWxsYmFja0lkKXt0aGlzLnNlbmRlci5jYWxsYmFjayh0aGlzLmRvYy5nZXRWYWx1ZSgpLGNhbGxiYWNrSWQpfSx0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKCl7fSx0aGlzLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpfX0pLmNhbGwoTWlycm9yLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0L2pzaGludFxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMsbW9kdWxlKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbiBvdXRlcihtb2R1bGVzLGNhY2hlLGVudHJ5KXtmdW5jdGlvbiBuZXdSZXF1aXJlKG5hbWUsanVtcGVkKXtpZighY2FjaGVbbmFtZV0pe2lmKCFtb2R1bGVzW25hbWVdKXt2YXIgY3VycmVudFJlcXVpcmU9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFjZXF1aXJlJiZhY2VxdWlyZTtpZighanVtcGVkJiZjdXJyZW50UmVxdWlyZSlyZXR1cm4gY3VycmVudFJlcXVpcmUobmFtZSwhMCk7aWYocHJldmlvdXNSZXF1aXJlKXJldHVybiBwcmV2aW91c1JlcXVpcmUobmFtZSwhMCk7dmFyIGVycj1FcnJvcihcXFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcXFwiK25hbWUrXFxcIidcXFwiKTt0aHJvdyBlcnIuY29kZT1cXFwiTU9EVUxFX05PVF9GT1VORFxcXCIsZXJyfXZhciBtPWNhY2hlW25hbWVdPXtleHBvcnRzOnt9fTttb2R1bGVzW25hbWVdWzBdLmNhbGwobS5leHBvcnRzLGZ1bmN0aW9uKHgpe3ZhciBpZD1tb2R1bGVzW25hbWVdWzFdW3hdO3JldHVybiBuZXdSZXF1aXJlKGlkP2lkOngpfSxtLG0uZXhwb3J0cyxvdXRlcixtb2R1bGVzLGNhY2hlLGVudHJ5KX1yZXR1cm4gY2FjaGVbbmFtZV0uZXhwb3J0c31mb3IodmFyIHByZXZpb3VzUmVxdWlyZT1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYWNlcXVpcmUmJmFjZXF1aXJlLGk9MDtlbnRyeS5sZW5ndGg+aTtpKyspbmV3UmVxdWlyZShlbnRyeVtpXSk7cmV0dXJuIG5ld1JlcXVpcmUoZW50cnlbMF0pfSh7XFxcIi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhcmd9ZnVuY3Rpb24gaXNOdW1iZXIoYXJnKXtyZXR1cm5cXFwibnVtYmVyXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc09iamVjdChhcmcpe3JldHVyblxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJnJiZudWxsIT09YXJnfWZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZyl7cmV0dXJuIHZvaWQgMD09PWFyZ31tb2R1bGUuZXhwb3J0cz1FdmVudEVtaXR0ZXIsRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlcj1FdmVudEVtaXR0ZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKG4pe2lmKCFpc051bWJlcihuKXx8MD5ufHxpc05hTihuKSl0aHJvdyBUeXBlRXJyb3IoXFxcIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclxcXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9bix0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odHlwZSl7dmFyIGVyLGhhbmRsZXIsbGVuLGFyZ3MsaSxsaXN0ZW5lcnM7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSxcXFwiZXJyb3JcXFwiPT09dHlwZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYoZXI9YXJndW1lbnRzWzFdLGVyIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZXI7dGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXFxcImVycm9yXFxcIiBldmVudC4nKX1pZihoYW5kbGVyPXRoaXMuX2V2ZW50c1t0eXBlXSxpc1VuZGVmaW5lZChoYW5kbGVyKSlyZXR1cm4hMTtpZihpc0Z1bmN0aW9uKGhhbmRsZXIpKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6aGFuZGxlci5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpoYW5kbGVyLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpoYW5kbGVyLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmZvcihsZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KGxlbi0xKSxpPTE7bGVuPmk7aSsrKWFyZ3NbaS0xXT1hcmd1bWVudHNbaV07aGFuZGxlci5hcHBseSh0aGlzLGFyZ3MpfWVsc2UgaWYoaXNPYmplY3QoaGFuZGxlcikpe2ZvcihsZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KGxlbi0xKSxpPTE7bGVuPmk7aSsrKWFyZ3NbaS0xXT1hcmd1bWVudHNbaV07Zm9yKGxpc3RlbmVycz1oYW5kbGVyLnNsaWNlKCksbGVuPWxpc3RlbmVycy5sZW5ndGgsaT0wO2xlbj5pO2krKylsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcyxhcmdzKX1yZXR1cm4hMH0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbTtpZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKFxcXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KFxcXCJuZXdMaXN0ZW5lclxcXCIsdHlwZSxpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKT9saXN0ZW5lci5saXN0ZW5lcjpsaXN0ZW5lciksdGhpcy5fZXZlbnRzW3R5cGVdP2lzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSk/dGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpOnRoaXMuX2V2ZW50c1t0eXBlXT1bdGhpcy5fZXZlbnRzW3R5cGVdLGxpc3RlbmVyXTp0aGlzLl9ldmVudHNbdHlwZV09bGlzdGVuZXIsaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSYmIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpe3ZhciBtO209aXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKT9FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVyczp0aGlzLl9tYXhMaXN0ZW5lcnMsbSYmbT4wJiZ0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoPm0mJih0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoXFxcIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuXFxcIix0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtmdW5jdGlvbiBnKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGcpLGZpcmVkfHwoZmlyZWQ9ITAsbGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1pZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKFxcXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTt2YXIgZmlyZWQ9ITE7cmV0dXJuIGcubGlzdGVuZXI9bGlzdGVuZXIsdGhpcy5vbih0eXBlLGcpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odHlwZSxsaXN0ZW5lcil7dmFyIGxpc3QscG9zaXRpb24sbGVuZ3RoLGk7aWYoIWlzRnVuY3Rpb24obGlzdGVuZXIpKXRocm93IFR5cGVFcnJvcihcXFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXFxcIik7aWYoIXRoaXMuX2V2ZW50c3x8IXRoaXMuX2V2ZW50c1t0eXBlXSlyZXR1cm4gdGhpcztpZihsaXN0PXRoaXMuX2V2ZW50c1t0eXBlXSxsZW5ndGg9bGlzdC5sZW5ndGgscG9zaXRpb249LTEsbGlzdD09PWxpc3RlbmVyfHxpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpJiZsaXN0Lmxpc3RlbmVyPT09bGlzdGVuZXIpZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcXFwicmVtb3ZlTGlzdGVuZXJcXFwiLHR5cGUsbGlzdGVuZXIpO2Vsc2UgaWYoaXNPYmplY3QobGlzdCkpe2ZvcihpPWxlbmd0aDtpLS0+MDspaWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyJiZsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe3Bvc2l0aW9uPWk7YnJlYWt9aWYoMD5wb3NpdGlvbilyZXR1cm4gdGhpczsxPT09bGlzdC5sZW5ndGg/KGxpc3QubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXSk6bGlzdC5zcGxpY2UocG9zaXRpb24sMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXFxcInJlbW92ZUxpc3RlbmVyXFxcIix0eXBlLGxpc3RlbmVyKX1yZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGtleSxsaXN0ZW5lcnM7aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW3R5cGVdJiZkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihrZXkgaW4gdGhpcy5fZXZlbnRzKVxcXCJyZW1vdmVMaXN0ZW5lclxcXCIhPT1rZXkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFxcXCJyZW1vdmVMaXN0ZW5lclxcXCIpLHRoaXMuX2V2ZW50cz17fSx0aGlzXFxufWlmKGxpc3RlbmVycz10aGlzLl9ldmVudHNbdHlwZV0saXNGdW5jdGlvbihsaXN0ZW5lcnMpKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgZm9yKDtsaXN0ZW5lcnMubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHR5cGUpe3ZhciByZXQ7cmV0dXJuIHJldD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1t0eXBlXT9pc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSk/W3RoaXMuX2V2ZW50c1t0eXBlXV06dGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk6W119LEV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGVtaXR0ZXIsdHlwZSl7dmFyIHJldDtyZXR1cm4gcmV0PWVtaXR0ZXIuX2V2ZW50cyYmZW1pdHRlci5fZXZlbnRzW3R5cGVdP2lzRnVuY3Rpb24oZW1pdHRlci5fZXZlbnRzW3R5cGVdKT8xOmVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg6MH19LHt9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvZGF0YS9hc2NpaS1pZGVudGlmaWVyLWRhdGEuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7Zm9yKHZhciBpZGVudGlmaWVyU3RhcnRUYWJsZT1bXSxpPTA7MTI4Pmk7aSsrKWlkZW50aWZpZXJTdGFydFRhYmxlW2ldPTM2PT09aXx8aT49NjUmJjkwPj1pfHw5NT09PWl8fGk+PTk3JiYxMjI+PWk7Zm9yKHZhciBpZGVudGlmaWVyUGFydFRhYmxlPVtdLGk9MDsxMjg+aTtpKyspaWRlbnRpZmllclBhcnRUYWJsZVtpXT1pZGVudGlmaWVyU3RhcnRUYWJsZVtpXXx8aT49NDgmJjU3Pj1pO21vZHVsZS5leHBvcnRzPXthc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlOmlkZW50aWZpZXJTdGFydFRhYmxlLGFzY2lpSWRlbnRpZmllclBhcnRUYWJsZTppZGVudGlmaWVyUGFydFRhYmxlfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9sb2Rhc2guanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsoZnVuY3Rpb24oZ2xvYmFsKXsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LHByZWRpY2F0ZSxmcm9tUmlnaHQpe2Zvcih2YXIgbGVuZ3RoPWFycmF5Lmxlbmd0aCxpbmRleD1mcm9tUmlnaHQ/bGVuZ3RoOi0xO2Zyb21SaWdodD9pbmRleC0tOmxlbmd0aD4rK2luZGV4OylpZihwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLGluZGV4LGFycmF5KSlyZXR1cm4gaW5kZXg7cmV0dXJuLTF9ZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksdmFsdWUsZnJvbUluZGV4KXtpZih2YWx1ZSE9PXZhbHVlKXJldHVybiBpbmRleE9mTmFOKGFycmF5LGZyb21JbmRleCk7Zm9yKHZhciBpbmRleD1mcm9tSW5kZXgtMSxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD4rK2luZGV4OylpZihhcnJheVtpbmRleF09PT12YWx1ZSlyZXR1cm4gaW5kZXg7cmV0dXJuLTF9ZnVuY3Rpb24gYmFzZUlzRnVuY3Rpb24odmFsdWUpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB2YWx1ZXx8ITF9ZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKXtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIHZhbHVlP3ZhbHVlOm51bGw9PXZhbHVlP1xcXCJcXFwiOnZhbHVlK1xcXCJcXFwifWZ1bmN0aW9uIGluZGV4T2ZOYU4oYXJyYXksZnJvbUluZGV4LGZyb21SaWdodCl7Zm9yKHZhciBsZW5ndGg9YXJyYXkubGVuZ3RoLGluZGV4PWZyb21JbmRleCsoZnJvbVJpZ2h0PzA6LTEpO2Zyb21SaWdodD9pbmRleC0tOmxlbmd0aD4rK2luZGV4Oyl7dmFyIG90aGVyPWFycmF5W2luZGV4XTtpZihvdGhlciE9PW90aGVyKXJldHVybiBpbmRleH1yZXR1cm4tMX1mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpe3JldHVybiEhdmFsdWUmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgdmFsdWV9ZnVuY3Rpb24gbG9kYXNoKCl7fWZ1bmN0aW9uIGFycmF5Q29weShzb3VyY2UsYXJyYXkpe3ZhciBpbmRleD0tMSxsZW5ndGg9c291cmNlLmxlbmd0aDtmb3IoYXJyYXl8fChhcnJheT1BcnJheShsZW5ndGgpKTtsZW5ndGg+KytpbmRleDspYXJyYXlbaW5kZXhdPXNvdXJjZVtpbmRleF07cmV0dXJuIGFycmF5fWZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSxpdGVyYXRlZSl7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD4rK2luZGV4JiZpdGVyYXRlZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpIT09ITE7KTtyZXR1cm4gYXJyYXl9ZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXkscHJlZGljYXRlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGgscmVzSW5kZXg9LTEscmVzdWx0PVtdO2xlbmd0aD4rK2luZGV4Oyl7dmFyIHZhbHVlPWFycmF5W2luZGV4XTtwcmVkaWNhdGUodmFsdWUsaW5kZXgsYXJyYXkpJiYocmVzdWx0WysrcmVzSW5kZXhdPXZhbHVlKX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LGl0ZXJhdGVlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGgscmVzdWx0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09aXRlcmF0ZWUoYXJyYXlbaW5kZXhdLGluZGV4LGFycmF5KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGFycmF5TWF4KGFycmF5KXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGgscmVzdWx0PU5FR0FUSVZFX0lORklOSVRZO2xlbmd0aD4rK2luZGV4Oyl7dmFyIHZhbHVlPWFycmF5W2luZGV4XTt2YWx1ZT5yZXN1bHQmJihyZXN1bHQ9dmFsdWUpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LHByZWRpY2F0ZSl7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXkubGVuZ3RoO2xlbmd0aD4rK2luZGV4OylpZihwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLGluZGV4LGFycmF5KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBhc3NpZ25XaXRoKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcil7dmFyIHByb3BzPWtleXMoc291cmNlKTtwdXNoLmFwcGx5KHByb3BzLGdldFN5bWJvbHMoc291cmNlKSk7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9cHJvcHMubGVuZ3RoO2xlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF0sdmFsdWU9b2JqZWN0W2tleV0scmVzdWx0PWN1c3RvbWl6ZXIodmFsdWUsc291cmNlW2tleV0sa2V5LG9iamVjdCxzb3VyY2UpOyhyZXN1bHQ9PT1yZXN1bHQ/cmVzdWx0PT09dmFsdWU6dmFsdWUhPT12YWx1ZSkmJih2YWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIG9iamVjdCl8fChvYmplY3Rba2V5XT1yZXN1bHQpfXJldHVybiBvYmplY3R9ZnVuY3Rpb24gYmFzZUNvcHkoc291cmNlLHByb3BzLG9iamVjdCl7b2JqZWN0fHwob2JqZWN0PXt9KTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wcm9wcy5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KXt2YXIga2V5PXByb3BzW2luZGV4XTtvYmplY3Rba2V5XT1zb3VyY2Vba2V5XX1yZXR1cm4gb2JqZWN0fWZ1bmN0aW9uIGJhc2VDYWxsYmFjayhmdW5jLHRoaXNBcmcsYXJnQ291bnQpe3ZhciB0eXBlPXR5cGVvZiBmdW5jO3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGU/dGhpc0FyZz09PXVuZGVmaW5lZD9mdW5jOmJpbmRDYWxsYmFjayhmdW5jLHRoaXNBcmcsYXJnQ291bnQpOm51bGw9PWZ1bmM/aWRlbnRpdHk6XFxcIm9iamVjdFxcXCI9PXR5cGU/YmFzZU1hdGNoZXMoZnVuYyk6dGhpc0FyZz09PXVuZGVmaW5lZD9wcm9wZXJ0eShmdW5jKTpiYXNlTWF0Y2hlc1Byb3BlcnR5KGZ1bmMsdGhpc0FyZyl9ZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLGlzRGVlcCxjdXN0b21pemVyLGtleSxvYmplY3Qsc3RhY2tBLHN0YWNrQil7dmFyIHJlc3VsdDtpZihjdXN0b21pemVyJiYocmVzdWx0PW9iamVjdD9jdXN0b21pemVyKHZhbHVlLGtleSxvYmplY3QpOmN1c3RvbWl6ZXIodmFsdWUpKSxyZXN1bHQhPT11bmRlZmluZWQpcmV0dXJuIHJlc3VsdDtpZighaXNPYmplY3QodmFsdWUpKXJldHVybiB2YWx1ZTt2YXIgaXNBcnI9aXNBcnJheSh2YWx1ZSk7aWYoaXNBcnIpe2lmKHJlc3VsdD1pbml0Q2xvbmVBcnJheSh2YWx1ZSksIWlzRGVlcClyZXR1cm4gYXJyYXlDb3B5KHZhbHVlLHJlc3VsdCl9ZWxzZXt2YXIgdGFnPW9ialRvU3RyaW5nLmNhbGwodmFsdWUpLGlzRnVuYz10YWc9PWZ1bmNUYWc7aWYodGFnIT1vYmplY3RUYWcmJnRhZyE9YXJnc1RhZyYmKCFpc0Z1bmN8fG9iamVjdCkpcmV0dXJuIGNsb25lYWJsZVRhZ3NbdGFnXT9pbml0Q2xvbmVCeVRhZyh2YWx1ZSx0YWcsaXNEZWVwKTpvYmplY3Q/dmFsdWU6e307aWYocmVzdWx0PWluaXRDbG9uZU9iamVjdChpc0Z1bmM/e306dmFsdWUpLCFpc0RlZXApcmV0dXJuIGJhc2VBc3NpZ24ocmVzdWx0LHZhbHVlKX1zdGFja0F8fChzdGFja0E9W10pLHN0YWNrQnx8KHN0YWNrQj1bXSk7Zm9yKHZhciBsZW5ndGg9c3RhY2tBLmxlbmd0aDtsZW5ndGgtLTspaWYoc3RhY2tBW2xlbmd0aF09PXZhbHVlKXJldHVybiBzdGFja0JbbGVuZ3RoXTtyZXR1cm4gc3RhY2tBLnB1c2godmFsdWUpLHN0YWNrQi5wdXNoKHJlc3VsdCksKGlzQXJyP2FycmF5RWFjaDpiYXNlRm9yT3duKSh2YWx1ZSxmdW5jdGlvbihzdWJWYWx1ZSxrZXkpe3Jlc3VsdFtrZXldPWJhc2VDbG9uZShzdWJWYWx1ZSxpc0RlZXAsY3VzdG9taXplcixrZXksdmFsdWUsc3RhY2tBLHN0YWNrQil9KSxyZXN1bHR9ZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLHByZWRpY2F0ZSl7dmFyIHJlc3VsdD1bXTtyZXR1cm4gYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtwcmVkaWNhdGUodmFsdWUsaW5kZXgsY29sbGVjdGlvbikmJnJlc3VsdC5wdXNoKHZhbHVlKX0pLHJlc3VsdH1mdW5jdGlvbiBiYXNlRm9ySW4ob2JqZWN0LGl0ZXJhdGVlKXtyZXR1cm4gYmFzZUZvcihvYmplY3QsaXRlcmF0ZWUsa2V5c0luKX1mdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCxpdGVyYXRlZSl7cmV0dXJuIGJhc2VGb3Iob2JqZWN0LGl0ZXJhdGVlLGtleXMpfWZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LHBhdGgscGF0aEtleSl7aWYobnVsbCE9b2JqZWN0KXtwYXRoS2V5IT09dW5kZWZpbmVkJiZwYXRoS2V5IGluIHRvT2JqZWN0KG9iamVjdCkmJihwYXRoPVtwYXRoS2V5XSk7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9cGF0aC5sZW5ndGg7bnVsbCE9b2JqZWN0JiZsZW5ndGg+KytpbmRleDspdmFyIHJlc3VsdD1vYmplY3Q9b2JqZWN0W3BhdGhbaW5kZXhdXTtyZXR1cm4gcmVzdWx0fX1mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSxvdGhlcixjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil7aWYodmFsdWU9PT1vdGhlcilyZXR1cm4gMCE9PXZhbHVlfHwxL3ZhbHVlPT0xL290aGVyO3ZhciB2YWxUeXBlPXR5cGVvZiB2YWx1ZSxvdGhUeXBlPXR5cGVvZiBvdGhlcjtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiIT12YWxUeXBlJiZcXFwib2JqZWN0XFxcIiE9dmFsVHlwZSYmXFxcImZ1bmN0aW9uXFxcIiE9b3RoVHlwZSYmXFxcIm9iamVjdFxcXCIhPW90aFR5cGV8fG51bGw9PXZhbHVlfHxudWxsPT1vdGhlcj92YWx1ZSE9PXZhbHVlJiZvdGhlciE9PW90aGVyOmJhc2VJc0VxdWFsRGVlcCh2YWx1ZSxvdGhlcixiYXNlSXNFcXVhbCxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil9ZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCxvdGhlcixlcXVhbEZ1bmMsY3VzdG9taXplcixpc0xvb3NlLHN0YWNrQSxzdGFja0Ipe3ZhciBvYmpJc0Fycj1pc0FycmF5KG9iamVjdCksb3RoSXNBcnI9aXNBcnJheShvdGhlciksb2JqVGFnPWFycmF5VGFnLG90aFRhZz1hcnJheVRhZztvYmpJc0Fycnx8KG9ialRhZz1vYmpUb1N0cmluZy5jYWxsKG9iamVjdCksb2JqVGFnPT1hcmdzVGFnP29ialRhZz1vYmplY3RUYWc6b2JqVGFnIT1vYmplY3RUYWcmJihvYmpJc0Fycj1pc1R5cGVkQXJyYXkob2JqZWN0KSkpLG90aElzQXJyfHwob3RoVGFnPW9ialRvU3RyaW5nLmNhbGwob3RoZXIpLG90aFRhZz09YXJnc1RhZz9vdGhUYWc9b2JqZWN0VGFnOm90aFRhZyE9b2JqZWN0VGFnJiYob3RoSXNBcnI9aXNUeXBlZEFycmF5KG90aGVyKSkpO3ZhciBvYmpJc09iaj1vYmpUYWc9PW9iamVjdFRhZyxvdGhJc09iaj1vdGhUYWc9PW9iamVjdFRhZyxpc1NhbWVUYWc9b2JqVGFnPT1vdGhUYWc7aWYoaXNTYW1lVGFnJiYhb2JqSXNBcnImJiFvYmpJc09iailyZXR1cm4gZXF1YWxCeVRhZyhvYmplY3Qsb3RoZXIsb2JqVGFnKTtpZighaXNMb29zZSl7dmFyIHZhbFdyYXBwZWQ9b2JqSXNPYmomJmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LFxcXCJfX3dyYXBwZWRfX1xcXCIpLG90aFdyYXBwZWQ9b3RoSXNPYmomJmhhc093blByb3BlcnR5LmNhbGwob3RoZXIsXFxcIl9fd3JhcHBlZF9fXFxcIik7aWYodmFsV3JhcHBlZHx8b3RoV3JhcHBlZClyZXR1cm4gZXF1YWxGdW5jKHZhbFdyYXBwZWQ/b2JqZWN0LnZhbHVlKCk6b2JqZWN0LG90aFdyYXBwZWQ/b3RoZXIudmFsdWUoKTpvdGhlcixjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil9aWYoIWlzU2FtZVRhZylyZXR1cm4hMTtzdGFja0F8fChzdGFja0E9W10pLHN0YWNrQnx8KHN0YWNrQj1bXSk7Zm9yKHZhciBsZW5ndGg9c3RhY2tBLmxlbmd0aDtsZW5ndGgtLTspaWYoc3RhY2tBW2xlbmd0aF09PW9iamVjdClyZXR1cm4gc3RhY2tCW2xlbmd0aF09PW90aGVyO3N0YWNrQS5wdXNoKG9iamVjdCksc3RhY2tCLnB1c2gob3RoZXIpO3ZhciByZXN1bHQ9KG9iaklzQXJyP2VxdWFsQXJyYXlzOmVxdWFsT2JqZWN0cykob2JqZWN0LG90aGVyLGVxdWFsRnVuYyxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQik7cmV0dXJuIHN0YWNrQS5wb3AoKSxzdGFja0IucG9wKCkscmVzdWx0fWZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCxwcm9wcyx2YWx1ZXMsc3RyaWN0Q29tcGFyZUZsYWdzLGN1c3RvbWl6ZXIpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aCxub0N1c3RvbWl6ZXI9IWN1c3RvbWl6ZXI7bGVuZ3RoPisraW5kZXg7KWlmKG5vQ3VzdG9taXplciYmc3RyaWN0Q29tcGFyZUZsYWdzW2luZGV4XT92YWx1ZXNbaW5kZXhdIT09b2JqZWN0W3Byb3BzW2luZGV4XV06IShwcm9wc1tpbmRleF1pbiBvYmplY3QpKXJldHVybiExO2ZvcihpbmRleD0tMTtsZW5ndGg+KytpbmRleDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdLG9ialZhbHVlPW9iamVjdFtrZXldLHNyY1ZhbHVlPXZhbHVlc1tpbmRleF07aWYobm9DdXN0b21pemVyJiZzdHJpY3RDb21wYXJlRmxhZ3NbaW5kZXhdKXZhciByZXN1bHQ9b2JqVmFsdWUhPT11bmRlZmluZWR8fGtleSBpbiBvYmplY3Q7ZWxzZSByZXN1bHQ9Y3VzdG9taXplcj9jdXN0b21pemVyKG9ialZhbHVlLHNyY1ZhbHVlLGtleSk6dW5kZWZpbmVkLHJlc3VsdD09PXVuZGVmaW5lZCYmKHJlc3VsdD1iYXNlSXNFcXVhbChzcmNWYWx1ZSxvYmpWYWx1ZSxjdXN0b21pemVyLCEwKSk7aWYoIXJlc3VsdClyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2Upe3ZhciBwcm9wcz1rZXlzKHNvdXJjZSksbGVuZ3RoPXByb3BzLmxlbmd0aDtpZighbGVuZ3RoKXJldHVybiBjb25zdGFudCghMCk7aWYoMT09bGVuZ3RoKXt2YXIga2V5PXByb3BzWzBdLHZhbHVlPXNvdXJjZVtrZXldO2lmKGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkpcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG51bGw9PW9iamVjdD8hMTpvYmplY3Rba2V5XT09PXZhbHVlJiYodmFsdWUhPT11bmRlZmluZWR8fGtleSBpbiB0b09iamVjdChvYmplY3QpKX19Zm9yKHZhciB2YWx1ZXM9QXJyYXkobGVuZ3RoKSxzdHJpY3RDb21wYXJlRmxhZ3M9QXJyYXkobGVuZ3RoKTtsZW5ndGgtLTspdmFsdWU9c291cmNlW3Byb3BzW2xlbmd0aF1dLHZhbHVlc1tsZW5ndGhdPXZhbHVlLHN0cmljdENvbXBhcmVGbGFnc1tsZW5ndGhdPWlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSk7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG51bGwhPW9iamVjdCYmYmFzZUlzTWF0Y2godG9PYmplY3Qob2JqZWN0KSxwcm9wcyx2YWx1ZXMsc3RyaWN0Q29tcGFyZUZsYWdzKX19ZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLHZhbHVlKXt2YXIgaXNBcnI9aXNBcnJheShwYXRoKSxpc0NvbW1vbj1pc0tleShwYXRoKSYmaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSxwYXRoS2V5PXBhdGgrXFxcIlxcXCI7cmV0dXJuIHBhdGg9dG9QYXRoKHBhdGgpLGZ1bmN0aW9uKG9iamVjdCl7aWYobnVsbD09b2JqZWN0KXJldHVybiExO3ZhciBrZXk9cGF0aEtleTtpZihvYmplY3Q9dG9PYmplY3Qob2JqZWN0KSwhKCFpc0FyciYmaXNDb21tb258fGtleSBpbiBvYmplY3QpKXtpZihvYmplY3Q9MT09cGF0aC5sZW5ndGg/b2JqZWN0OmJhc2VHZXQob2JqZWN0LGJhc2VTbGljZShwYXRoLDAsLTEpKSxudWxsPT1vYmplY3QpcmV0dXJuITE7a2V5PWxhc3QocGF0aCksb2JqZWN0PXRvT2JqZWN0KG9iamVjdCl9cmV0dXJuIG9iamVjdFtrZXldPT09dmFsdWU/dmFsdWUhPT11bmRlZmluZWR8fGtleSBpbiBvYmplY3Q6YmFzZUlzRXF1YWwodmFsdWUsb2JqZWN0W2tleV0sbnVsbCwhMCl9fWZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3Qsc291cmNlLGN1c3RvbWl6ZXIsc3RhY2tBLHN0YWNrQil7aWYoIWlzT2JqZWN0KG9iamVjdCkpcmV0dXJuIG9iamVjdDt2YXIgaXNTcmNBcnI9aXNMZW5ndGgoc291cmNlLmxlbmd0aCkmJihpc0FycmF5KHNvdXJjZSl8fGlzVHlwZWRBcnJheShzb3VyY2UpKTtpZighaXNTcmNBcnIpe3ZhciBwcm9wcz1rZXlzKHNvdXJjZSk7cHVzaC5hcHBseShwcm9wcyxnZXRTeW1ib2xzKHNvdXJjZSkpfXJldHVybiBhcnJheUVhY2gocHJvcHN8fHNvdXJjZSxmdW5jdGlvbihzcmNWYWx1ZSxrZXkpe2lmKHByb3BzJiYoa2V5PXNyY1ZhbHVlLHNyY1ZhbHVlPXNvdXJjZVtrZXldKSxpc09iamVjdExpa2Uoc3JjVmFsdWUpKXN0YWNrQXx8KHN0YWNrQT1bXSksc3RhY2tCfHwoc3RhY2tCPVtdKSxiYXNlTWVyZ2VEZWVwKG9iamVjdCxzb3VyY2Usa2V5LGJhc2VNZXJnZSxjdXN0b21pemVyLHN0YWNrQSxzdGFja0IpO2Vsc2V7dmFyIHZhbHVlPW9iamVjdFtrZXldLHJlc3VsdD1jdXN0b21pemVyP2N1c3RvbWl6ZXIodmFsdWUsc3JjVmFsdWUsa2V5LG9iamVjdCxzb3VyY2UpOnVuZGVmaW5lZCxpc0NvbW1vbj1yZXN1bHQ9PT11bmRlZmluZWQ7aXNDb21tb24mJihyZXN1bHQ9c3JjVmFsdWUpLCFpc1NyY0FyciYmcmVzdWx0PT09dW5kZWZpbmVkfHwhaXNDb21tb24mJihyZXN1bHQ9PT1yZXN1bHQ/cmVzdWx0PT09dmFsdWU6dmFsdWUhPT12YWx1ZSl8fChvYmplY3Rba2V5XT1yZXN1bHQpfX0pLG9iamVjdH1mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCxzb3VyY2Usa2V5LG1lcmdlRnVuYyxjdXN0b21pemVyLHN0YWNrQSxzdGFja0Ipe2Zvcih2YXIgbGVuZ3RoPXN0YWNrQS5sZW5ndGgsc3JjVmFsdWU9c291cmNlW2tleV07bGVuZ3RoLS07KWlmKHN0YWNrQVtsZW5ndGhdPT1zcmNWYWx1ZSlyZXR1cm4gb2JqZWN0W2tleV09c3RhY2tCW2xlbmd0aF0sdW5kZWZpbmVkO3ZhciB2YWx1ZT1vYmplY3Rba2V5XSxyZXN1bHQ9Y3VzdG9taXplcj9jdXN0b21pemVyKHZhbHVlLHNyY1ZhbHVlLGtleSxvYmplY3Qsc291cmNlKTp1bmRlZmluZWQsaXNDb21tb249cmVzdWx0PT09dW5kZWZpbmVkO2lzQ29tbW9uJiYocmVzdWx0PXNyY1ZhbHVlLGlzTGVuZ3RoKHNyY1ZhbHVlLmxlbmd0aCkmJihpc0FycmF5KHNyY1ZhbHVlKXx8aXNUeXBlZEFycmF5KHNyY1ZhbHVlKSk/cmVzdWx0PWlzQXJyYXkodmFsdWUpP3ZhbHVlOmdldExlbmd0aCh2YWx1ZSk/YXJyYXlDb3B5KHZhbHVlKTpbXTppc1BsYWluT2JqZWN0KHNyY1ZhbHVlKXx8aXNBcmd1bWVudHMoc3JjVmFsdWUpP3Jlc3VsdD1pc0FyZ3VtZW50cyh2YWx1ZSk/dG9QbGFpbk9iamVjdCh2YWx1ZSk6aXNQbGFpbk9iamVjdCh2YWx1ZSk/dmFsdWU6e306aXNDb21tb249ITEpLHN0YWNrQS5wdXNoKHNyY1ZhbHVlKSxzdGFja0IucHVzaChyZXN1bHQpLGlzQ29tbW9uP29iamVjdFtrZXldPW1lcmdlRnVuYyhyZXN1bHQsc3JjVmFsdWUsY3VzdG9taXplcixzdGFja0Esc3RhY2tCKToocmVzdWx0PT09cmVzdWx0P3Jlc3VsdCE9PXZhbHVlOnZhbHVlPT09dmFsdWUpJiYob2JqZWN0W2tleV09cmVzdWx0KX1mdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gbnVsbD09b2JqZWN0P3VuZGVmaW5lZDpvYmplY3Rba2V5XX19ZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKXt2YXIgcGF0aEtleT1wYXRoK1xcXCJcXFwiO3JldHVybiBwYXRoPXRvUGF0aChwYXRoKSxmdW5jdGlvbihvYmplY3Qpe3JldHVybiBiYXNlR2V0KG9iamVjdCxwYXRoLHBhdGhLZXkpfX1mdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksc3RhcnQsZW5kKXt2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aDtzdGFydD1udWxsPT1zdGFydD8wOitzdGFydHx8MCwwPnN0YXJ0JiYoc3RhcnQ9LXN0YXJ0Pmxlbmd0aD8wOmxlbmd0aCtzdGFydCksZW5kPWVuZD09PXVuZGVmaW5lZHx8ZW5kPmxlbmd0aD9sZW5ndGg6K2VuZHx8MCwwPmVuZCYmKGVuZCs9bGVuZ3RoKSxsZW5ndGg9c3RhcnQ+ZW5kPzA6ZW5kLXN0YXJ0Pj4+MCxzdGFydD4+Pj0wO2Zvcih2YXIgcmVzdWx0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09YXJyYXlbaW5kZXgrc3RhcnRdO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gYmFzZVNvbWUoY29sbGVjdGlvbixwcmVkaWNhdGUpe3ZhciByZXN1bHQ7cmV0dXJuIGJhc2VFYWNoKGNvbGxlY3Rpb24sZnVuY3Rpb24odmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIHJlc3VsdD1wcmVkaWNhdGUodmFsdWUsaW5kZXgsY29sbGVjdGlvbiksIXJlc3VsdH0pLCEhcmVzdWx0fWZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LHByb3BzKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wcm9wcy5sZW5ndGgscmVzdWx0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09b2JqZWN0W3Byb3BzW2luZGV4XV07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBiaW5hcnlJbmRleChhcnJheSx2YWx1ZSxyZXRIaWdoZXN0KXt2YXIgbG93PTAsaGlnaD1hcnJheT9hcnJheS5sZW5ndGg6bG93O2lmKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgdmFsdWUmJnZhbHVlPT09dmFsdWUmJkhBTEZfTUFYX0FSUkFZX0xFTkdUSD49aGlnaCl7Zm9yKDtoaWdoPmxvdzspe3ZhciBtaWQ9bG93K2hpZ2g+Pj4xLGNvbXB1dGVkPWFycmF5W21pZF07KHJldEhpZ2hlc3Q/dmFsdWU+PWNvbXB1dGVkOnZhbHVlPmNvbXB1dGVkKT9sb3c9bWlkKzE6aGlnaD1taWR9cmV0dXJuIGhpZ2h9cmV0dXJuIGJpbmFyeUluZGV4QnkoYXJyYXksdmFsdWUsaWRlbnRpdHkscmV0SGlnaGVzdCl9ZnVuY3Rpb24gYmluYXJ5SW5kZXhCeShhcnJheSx2YWx1ZSxpdGVyYXRlZSxyZXRIaWdoZXN0KXt2YWx1ZT1pdGVyYXRlZSh2YWx1ZSk7Zm9yKHZhciBsb3c9MCxoaWdoPWFycmF5P2FycmF5Lmxlbmd0aDowLHZhbElzTmFOPXZhbHVlIT09dmFsdWUsdmFsSXNVbmRlZj12YWx1ZT09PXVuZGVmaW5lZDtoaWdoPmxvdzspe3ZhciBtaWQ9Zmxvb3IoKGxvdytoaWdoKS8yKSxjb21wdXRlZD1pdGVyYXRlZShhcnJheVttaWRdKSxpc1JlZmxleGl2ZT1jb21wdXRlZD09PWNvbXB1dGVkO2lmKHZhbElzTmFOKXZhciBzZXRMb3c9aXNSZWZsZXhpdmV8fHJldEhpZ2hlc3Q7ZWxzZSBzZXRMb3c9dmFsSXNVbmRlZj9pc1JlZmxleGl2ZSYmKHJldEhpZ2hlc3R8fGNvbXB1dGVkIT09dW5kZWZpbmVkKTpyZXRIaWdoZXN0P3ZhbHVlPj1jb21wdXRlZDp2YWx1ZT5jb21wdXRlZDtzZXRMb3c/bG93PW1pZCsxOmhpZ2g9bWlkfXJldHVybiBuYXRpdmVNaW4oaGlnaCxNQVhfQVJSQVlfSU5ERVgpfWZ1bmN0aW9uIGJpbmRDYWxsYmFjayhmdW5jLHRoaXNBcmcsYXJnQ291bnQpe2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBmdW5jKXJldHVybiBpZGVudGl0eTtpZih0aGlzQXJnPT09dW5kZWZpbmVkKXJldHVybiBmdW5jO3N3aXRjaChhcmdDb3VudCl7Y2FzZSAxOnJldHVybiBmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLHZhbHVlKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil7cmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLGFjY3VtdWxhdG9yLHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfTtjYXNlIDU6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlLG90aGVyLGtleSxvYmplY3Qsc291cmNlKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUsb3RoZXIsa2V5LG9iamVjdCxzb3VyY2UpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1ZmZlcil7cmV0dXJuIGJ1ZmZlclNsaWNlLmNhbGwoYnVmZmVyLDApfWZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKXtyZXR1cm4gcmVzdFBhcmFtKGZ1bmN0aW9uKG9iamVjdCxzb3VyY2VzKXt2YXIgaW5kZXg9LTEsbGVuZ3RoPW51bGw9PW9iamVjdD8wOnNvdXJjZXMubGVuZ3RoLGN1c3RvbWl6ZXI9bGVuZ3RoPjImJnNvdXJjZXNbbGVuZ3RoLTJdLGd1YXJkPWxlbmd0aD4yJiZzb3VyY2VzWzJdLHRoaXNBcmc9bGVuZ3RoPjEmJnNvdXJjZXNbbGVuZ3RoLTFdO2ZvcihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY3VzdG9taXplcj8oY3VzdG9taXplcj1iaW5kQ2FsbGJhY2soY3VzdG9taXplcix0aGlzQXJnLDUpLGxlbmd0aC09Mik6KGN1c3RvbWl6ZXI9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXNBcmc/dGhpc0FyZzpudWxsLGxlbmd0aC09Y3VzdG9taXplcj8xOjApLGd1YXJkJiZpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLHNvdXJjZXNbMV0sZ3VhcmQpJiYoY3VzdG9taXplcj0zPmxlbmd0aD9udWxsOmN1c3RvbWl6ZXIsbGVuZ3RoPTEpO2xlbmd0aD4rK2luZGV4Oyl7dmFyIHNvdXJjZT1zb3VyY2VzW2luZGV4XTtzb3VyY2UmJmFzc2lnbmVyKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcil9cmV0dXJuIG9iamVjdH0pfWZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLGZyb21SaWdodCl7cmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24saXRlcmF0ZWUpe3ZhciBsZW5ndGg9Y29sbGVjdGlvbj9nZXRMZW5ndGgoY29sbGVjdGlvbik6MDtpZighaXNMZW5ndGgobGVuZ3RoKSlyZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbixpdGVyYXRlZSk7Zm9yKHZhciBpbmRleD1mcm9tUmlnaHQ/bGVuZ3RoOi0xLGl0ZXJhYmxlPXRvT2JqZWN0KGNvbGxlY3Rpb24pOyhmcm9tUmlnaHQ/aW5kZXgtLTpsZW5ndGg+KytpbmRleCkmJml0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSxpbmRleCxpdGVyYWJsZSkhPT0hMTspO3JldHVybiBjb2xsZWN0aW9ufX1mdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCxpdGVyYXRlZSxrZXlzRnVuYyl7Zm9yKHZhciBpdGVyYWJsZT10b09iamVjdChvYmplY3QpLHByb3BzPWtleXNGdW5jKG9iamVjdCksbGVuZ3RoPXByb3BzLmxlbmd0aCxpbmRleD1mcm9tUmlnaHQ/bGVuZ3RoOi0xO2Zyb21SaWdodD9pbmRleC0tOmxlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF07aWYoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSxrZXksaXRlcmFibGUpPT09ITEpYnJlYWt9cmV0dXJuIG9iamVjdH19ZnVuY3Rpb24gY3JlYXRlRmluZEluZGV4KGZyb21SaWdodCl7cmV0dXJuIGZ1bmN0aW9uKGFycmF5LHByZWRpY2F0ZSx0aGlzQXJnKXtyZXR1cm4gYXJyYXkmJmFycmF5Lmxlbmd0aD8ocHJlZGljYXRlPWdldENhbGxiYWNrKHByZWRpY2F0ZSx0aGlzQXJnLDMpLGJhc2VGaW5kSW5kZXgoYXJyYXkscHJlZGljYXRlLGZyb21SaWdodCkpOi0xfX1mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGFycmF5RnVuYyxlYWNoRnVuYyl7cmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24saXRlcmF0ZWUsdGhpc0FyZyl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGl0ZXJhdGVlJiZ0aGlzQXJnPT09dW5kZWZpbmVkJiZpc0FycmF5KGNvbGxlY3Rpb24pP2FycmF5RnVuYyhjb2xsZWN0aW9uLGl0ZXJhdGVlKTplYWNoRnVuYyhjb2xsZWN0aW9uLGJpbmRDYWxsYmFjayhpdGVyYXRlZSx0aGlzQXJnLDMpKX19ZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksb3RoZXIsZXF1YWxGdW5jLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKXt2YXIgaW5kZXg9LTEsYXJyTGVuZ3RoPWFycmF5Lmxlbmd0aCxvdGhMZW5ndGg9b3RoZXIubGVuZ3RoLHJlc3VsdD0hMDtpZihhcnJMZW5ndGghPW90aExlbmd0aCYmIShpc0xvb3NlJiZvdGhMZW5ndGg+YXJyTGVuZ3RoKSlyZXR1cm4hMTtmb3IoO3Jlc3VsdCYmYXJyTGVuZ3RoPisraW5kZXg7KXt2YXIgYXJyVmFsdWU9YXJyYXlbaW5kZXhdLG90aFZhbHVlPW90aGVyW2luZGV4XTtpZihyZXN1bHQ9dW5kZWZpbmVkLGN1c3RvbWl6ZXImJihyZXN1bHQ9aXNMb29zZT9jdXN0b21pemVyKG90aFZhbHVlLGFyclZhbHVlLGluZGV4KTpjdXN0b21pemVyKGFyclZhbHVlLG90aFZhbHVlLGluZGV4KSkscmVzdWx0PT09dW5kZWZpbmVkKWlmKGlzTG9vc2UpZm9yKHZhciBvdGhJbmRleD1vdGhMZW5ndGg7b3RoSW5kZXgtLSYmKG90aFZhbHVlPW90aGVyW290aEluZGV4XSwhKHJlc3VsdD1hcnJWYWx1ZSYmYXJyVmFsdWU9PT1vdGhWYWx1ZXx8ZXF1YWxGdW5jKGFyclZhbHVlLG90aFZhbHVlLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKSkpOyk7ZWxzZSByZXN1bHQ9YXJyVmFsdWUmJmFyclZhbHVlPT09b3RoVmFsdWV8fGVxdWFsRnVuYyhhcnJWYWx1ZSxvdGhWYWx1ZSxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil9cmV0dXJuISFyZXN1bHR9ZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3Qsb3RoZXIsdGFnKXtzd2l0Y2godGFnKXtjYXNlIGJvb2xUYWc6Y2FzZSBkYXRlVGFnOnJldHVybitvYmplY3Q9PStvdGhlcjtjYXNlIGVycm9yVGFnOnJldHVybiBvYmplY3QubmFtZT09b3RoZXIubmFtZSYmb2JqZWN0Lm1lc3NhZ2U9PW90aGVyLm1lc3NhZ2U7Y2FzZSBudW1iZXJUYWc6cmV0dXJuIG9iamVjdCE9K29iamVjdD9vdGhlciE9K290aGVyOjA9PW9iamVjdD8xL29iamVjdD09MS9vdGhlcjpvYmplY3Q9PStvdGhlcjtjYXNlIHJlZ2V4cFRhZzpjYXNlIHN0cmluZ1RhZzpyZXR1cm4gb2JqZWN0PT1vdGhlcitcXFwiXFxcIn1yZXR1cm4hMX1mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LG90aGVyLGVxdWFsRnVuYyxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil7dmFyIG9ialByb3BzPWtleXMob2JqZWN0KSxvYmpMZW5ndGg9b2JqUHJvcHMubGVuZ3RoLG90aFByb3BzPWtleXMob3RoZXIpLG90aExlbmd0aD1vdGhQcm9wcy5sZW5ndGg7aWYob2JqTGVuZ3RoIT1vdGhMZW5ndGgmJiFpc0xvb3NlKXJldHVybiExO2Zvcih2YXIgc2tpcEN0b3I9aXNMb29zZSxpbmRleD0tMTtvYmpMZW5ndGg+KytpbmRleDspe3ZhciBrZXk9b2JqUHJvcHNbaW5kZXhdLHJlc3VsdD1pc0xvb3NlP2tleSBpbiBvdGhlcjpoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLGtleSk7aWYocmVzdWx0KXt2YXIgb2JqVmFsdWU9b2JqZWN0W2tleV0sb3RoVmFsdWU9b3RoZXJba2V5XTtyZXN1bHQ9dW5kZWZpbmVkLGN1c3RvbWl6ZXImJihyZXN1bHQ9aXNMb29zZT9jdXN0b21pemVyKG90aFZhbHVlLG9ialZhbHVlLGtleSk6Y3VzdG9taXplcihvYmpWYWx1ZSxvdGhWYWx1ZSxrZXkpKSxyZXN1bHQ9PT11bmRlZmluZWQmJihyZXN1bHQ9b2JqVmFsdWUmJm9ialZhbHVlPT09b3RoVmFsdWV8fGVxdWFsRnVuYyhvYmpWYWx1ZSxvdGhWYWx1ZSxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQikpfWlmKCFyZXN1bHQpcmV0dXJuITE7c2tpcEN0b3J8fChza2lwQ3Rvcj1cXFwiY29uc3RydWN0b3JcXFwiPT1rZXkpfWlmKCFza2lwQ3Rvcil7dmFyIG9iakN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yLG90aEN0b3I9b3RoZXIuY29uc3RydWN0b3I7aWYob2JqQ3RvciE9b3RoQ3RvciYmXFxcImNvbnN0cnVjdG9yXFxcImluIG9iamVjdCYmXFxcImNvbnN0cnVjdG9yXFxcImluIG90aGVyJiYhKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBvYmpDdG9yJiZvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG90aEN0b3ImJm90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBnZXRDYWxsYmFjayhmdW5jLHRoaXNBcmcsYXJnQ291bnQpe3ZhciByZXN1bHQ9bG9kYXNoLmNhbGxiYWNrfHxjYWxsYmFjaztyZXR1cm4gcmVzdWx0PXJlc3VsdD09PWNhbGxiYWNrP2Jhc2VDYWxsYmFjazpyZXN1bHQsYXJnQ291bnQ/cmVzdWx0KGZ1bmMsdGhpc0FyZyxhcmdDb3VudCk6cmVzdWx0fWZ1bmN0aW9uIGdldEluZGV4T2YoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4KXt2YXIgcmVzdWx0PWxvZGFzaC5pbmRleE9mfHxpbmRleE9mO3JldHVybiByZXN1bHQ9cmVzdWx0PT09aW5kZXhPZj9iYXNlSW5kZXhPZjpyZXN1bHQsY29sbGVjdGlvbj9yZXN1bHQoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4KTpyZXN1bHR9ZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpe3ZhciBsZW5ndGg9YXJyYXkubGVuZ3RoLHJlc3VsdD1uZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtyZXR1cm4gbGVuZ3RoJiZcXFwic3RyaW5nXFxcIj09dHlwZW9mIGFycmF5WzBdJiZoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LFxcXCJpbmRleFxcXCIpJiYocmVzdWx0LmluZGV4PWFycmF5LmluZGV4LHJlc3VsdC5pbnB1dD1hcnJheS5pbnB1dCkscmVzdWx0fWZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3Qpe3ZhciBDdG9yPW9iamVjdC5jb25zdHJ1Y3RvcjtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgQ3RvciYmQ3RvciBpbnN0YW5jZW9mIEN0b3J8fChDdG9yPU9iamVjdCksbmV3IEN0b3J9ZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LHRhZyxpc0RlZXApe3ZhciBDdG9yPW9iamVjdC5jb25zdHJ1Y3Rvcjtzd2l0Y2godGFnKXtjYXNlIGFycmF5QnVmZmVyVGFnOnJldHVybiBidWZmZXJDbG9uZShvYmplY3QpO2Nhc2UgYm9vbFRhZzpjYXNlIGRhdGVUYWc6cmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO2Nhc2UgZmxvYXQzMlRhZzpjYXNlIGZsb2F0NjRUYWc6Y2FzZSBpbnQ4VGFnOmNhc2UgaW50MTZUYWc6Y2FzZSBpbnQzMlRhZzpjYXNlIHVpbnQ4VGFnOmNhc2UgdWludDhDbGFtcGVkVGFnOmNhc2UgdWludDE2VGFnOmNhc2UgdWludDMyVGFnOnZhciBidWZmZXI9b2JqZWN0LmJ1ZmZlcjtyZXR1cm4gbmV3IEN0b3IoaXNEZWVwP2J1ZmZlckNsb25lKGJ1ZmZlcik6YnVmZmVyLG9iamVjdC5ieXRlT2Zmc2V0LG9iamVjdC5sZW5ndGgpO2Nhc2UgbnVtYmVyVGFnOmNhc2Ugc3RyaW5nVGFnOnJldHVybiBuZXcgQ3RvcihvYmplY3QpO2Nhc2UgcmVnZXhwVGFnOnZhciByZXN1bHQ9bmV3IEN0b3Iob2JqZWN0LnNvdXJjZSxyZUZsYWdzLmV4ZWMob2JqZWN0KSk7cmVzdWx0Lmxhc3RJbmRleD1vYmplY3QubGFzdEluZGV4fXJldHVybiByZXN1bHR9ZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSxsZW5ndGgpe3JldHVybiB2YWx1ZT0rdmFsdWUsbGVuZ3RoPW51bGw9PWxlbmd0aD9NQVhfU0FGRV9JTlRFR0VSOmxlbmd0aCx2YWx1ZT4tMSYmMD09dmFsdWUlMSYmbGVuZ3RoPnZhbHVlfWZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLGluZGV4LG9iamVjdCl7aWYoIWlzT2JqZWN0KG9iamVjdCkpcmV0dXJuITE7dmFyIHR5cGU9dHlwZW9mIGluZGV4O2lmKFxcXCJudW1iZXJcXFwiPT10eXBlKXZhciBsZW5ndGg9Z2V0TGVuZ3RoKG9iamVjdCkscHJlcmVxPWlzTGVuZ3RoKGxlbmd0aCkmJmlzSW5kZXgoaW5kZXgsbGVuZ3RoKTtlbHNlIHByZXJlcT1cXFwic3RyaW5nXFxcIj09dHlwZSYmaW5kZXggaW4gb2JqZWN0O2lmKHByZXJlcSl7dmFyIG90aGVyPW9iamVjdFtpbmRleF07cmV0dXJuIHZhbHVlPT09dmFsdWU/dmFsdWU9PT1vdGhlcjpvdGhlciE9PW90aGVyfXJldHVybiExfWZ1bmN0aW9uIGlzS2V5KHZhbHVlLG9iamVjdCl7dmFyIHR5cGU9dHlwZW9mIHZhbHVlO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlJiZyZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpfHxcXFwibnVtYmVyXFxcIj09dHlwZSlyZXR1cm4hMDtpZihpc0FycmF5KHZhbHVlKSlyZXR1cm4hMTt2YXIgcmVzdWx0PSFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSk7cmV0dXJuIHJlc3VsdHx8bnVsbCE9b2JqZWN0JiZ2YWx1ZSBpbiB0b09iamVjdChvYmplY3QpfWZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKXtyZXR1cm5cXFwibnVtYmVyXFxcIj09dHlwZW9mIHZhbHVlJiZ2YWx1ZT4tMSYmMD09dmFsdWUlMSYmTUFYX1NBRkVfSU5URUdFUj49dmFsdWV9ZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKXtyZXR1cm4gdmFsdWU9PT12YWx1ZSYmKDA9PT12YWx1ZT8xL3ZhbHVlPjA6IWlzT2JqZWN0KHZhbHVlKSl9ZnVuY3Rpb24gc2hpbUlzUGxhaW5PYmplY3QodmFsdWUpe3ZhciBDdG9yO2lmKGxvZGFzaC5zdXBwb3J0LCFpc09iamVjdExpa2UodmFsdWUpfHxvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSE9b2JqZWN0VGFnfHwhaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSxcXFwiY29uc3RydWN0b3JcXFwiKSYmKEN0b3I9dmFsdWUuY29uc3RydWN0b3IsXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIEN0b3ImJiEoQ3RvciBpbnN0YW5jZW9mIEN0b3IpKSlyZXR1cm4hMTt2YXIgcmVzdWx0O3JldHVybiBiYXNlRm9ySW4odmFsdWUsZnVuY3Rpb24oc3ViVmFsdWUsa2V5KXtyZXN1bHQ9a2V5fSkscmVzdWx0PT09dW5kZWZpbmVkfHxoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLHJlc3VsdCl9ZnVuY3Rpb24gc2hpbUtleXMob2JqZWN0KXtmb3IodmFyIHByb3BzPWtleXNJbihvYmplY3QpLHByb3BzTGVuZ3RoPXByb3BzLmxlbmd0aCxsZW5ndGg9cHJvcHNMZW5ndGgmJm9iamVjdC5sZW5ndGgsc3VwcG9ydD1sb2Rhc2guc3VwcG9ydCxhbGxvd0luZGV4ZXM9bGVuZ3RoJiZpc0xlbmd0aChsZW5ndGgpJiYoaXNBcnJheShvYmplY3QpfHxzdXBwb3J0Lm5vbkVudW1BcmdzJiZpc0FyZ3VtZW50cyhvYmplY3QpKSxpbmRleD0tMSxyZXN1bHQ9W107cHJvcHNMZW5ndGg+KytpbmRleDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdOyhhbGxvd0luZGV4ZXMmJmlzSW5kZXgoa2V5LGxlbmd0aCl8fGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LGtleSkpJiZyZXN1bHQucHVzaChrZXkpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gdG9PYmplY3QodmFsdWUpe3JldHVybiBpc09iamVjdCh2YWx1ZSk/dmFsdWU6T2JqZWN0KHZhbHVlKX1mdW5jdGlvbiB0b1BhdGgodmFsdWUpe2lmKGlzQXJyYXkodmFsdWUpKXJldHVybiB2YWx1ZTt2YXIgcmVzdWx0PVtdO3JldHVybiBiYXNlVG9TdHJpbmcodmFsdWUpLnJlcGxhY2UocmVQcm9wTmFtZSxmdW5jdGlvbihtYXRjaCxudW1iZXIscXVvdGUsc3RyaW5nKXtyZXN1bHQucHVzaChxdW90ZT9zdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsXFxcIiQxXFxcIik6bnVtYmVyfHxtYXRjaCl9KSxyZXN1bHR9ZnVuY3Rpb24gaW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe3ZhciBsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7aWYoIWxlbmd0aClyZXR1cm4tMTtpZihcXFwibnVtYmVyXFxcIj09dHlwZW9mIGZyb21JbmRleClmcm9tSW5kZXg9MD5mcm9tSW5kZXg/bmF0aXZlTWF4KGxlbmd0aCtmcm9tSW5kZXgsMCk6ZnJvbUluZGV4O2Vsc2UgaWYoZnJvbUluZGV4KXt2YXIgaW5kZXg9YmluYXJ5SW5kZXgoYXJyYXksdmFsdWUpLG90aGVyPWFycmF5W2luZGV4XTtyZXR1cm4odmFsdWU9PT12YWx1ZT92YWx1ZT09PW90aGVyOm90aGVyIT09b3RoZXIpP2luZGV4Oi0xfXJldHVybiBiYXNlSW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXh8fDApfWZ1bmN0aW9uIGxhc3QoYXJyYXkpe3ZhciBsZW5ndGg9YXJyYXk/YXJyYXkubGVuZ3RoOjA7cmV0dXJuIGxlbmd0aD9hcnJheVtsZW5ndGgtMV06dW5kZWZpbmVkfWZ1bmN0aW9uIHNsaWNlKGFycmF5LHN0YXJ0LGVuZCl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtyZXR1cm4gbGVuZ3RoPyhlbmQmJlxcXCJudW1iZXJcXFwiIT10eXBlb2YgZW5kJiZpc0l0ZXJhdGVlQ2FsbChhcnJheSxzdGFydCxlbmQpJiYoc3RhcnQ9MCxlbmQ9bGVuZ3RoKSxiYXNlU2xpY2UoYXJyYXksc3RhcnQsZW5kKSk6W119ZnVuY3Rpb24gdW56aXAoYXJyYXkpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPShhcnJheSYmYXJyYXkubGVuZ3RoJiZhcnJheU1heChhcnJheU1hcChhcnJheSxnZXRMZW5ndGgpKSk+Pj4wLHJlc3VsdD1BcnJheShsZW5ndGgpO2xlbmd0aD4rK2luZGV4OylyZXN1bHRbaW5kZXhdPWFycmF5TWFwKGFycmF5LGJhc2VQcm9wZXJ0eShpbmRleCkpO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4LGd1YXJkKXt2YXIgbGVuZ3RoPWNvbGxlY3Rpb24/Z2V0TGVuZ3RoKGNvbGxlY3Rpb24pOjA7cmV0dXJuIGlzTGVuZ3RoKGxlbmd0aCl8fChjb2xsZWN0aW9uPXZhbHVlcyhjb2xsZWN0aW9uKSxsZW5ndGg9Y29sbGVjdGlvbi5sZW5ndGgpLGxlbmd0aD8oZnJvbUluZGV4PVxcXCJudW1iZXJcXFwiIT10eXBlb2YgZnJvbUluZGV4fHxndWFyZCYmaXNJdGVyYXRlZUNhbGwodGFyZ2V0LGZyb21JbmRleCxndWFyZCk/MDowPmZyb21JbmRleD9uYXRpdmVNYXgobGVuZ3RoK2Zyb21JbmRleCwwKTpmcm9tSW5kZXh8fDAsXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBjb2xsZWN0aW9ufHwhaXNBcnJheShjb2xsZWN0aW9uKSYmaXNTdHJpbmcoY29sbGVjdGlvbik/bGVuZ3RoPmZyb21JbmRleCYmY29sbGVjdGlvbi5pbmRleE9mKHRhcmdldCxmcm9tSW5kZXgpPi0xOmdldEluZGV4T2YoY29sbGVjdGlvbix0YXJnZXQsZnJvbUluZGV4KT4tMSk6ITF9ZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24scHJlZGljYXRlLHRoaXNBcmcpe3ZhciBmdW5jPWlzQXJyYXkoY29sbGVjdGlvbik/YXJyYXlGaWx0ZXI6YmFzZUZpbHRlcjtyZXR1cm4gcHJlZGljYXRlPWdldENhbGxiYWNrKHByZWRpY2F0ZSx0aGlzQXJnLDMpLGZ1bmMoY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4hcHJlZGljYXRlKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pfSl9ZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLHByZWRpY2F0ZSx0aGlzQXJnKXt2YXIgZnVuYz1pc0FycmF5KGNvbGxlY3Rpb24pP2FycmF5U29tZTpiYXNlU29tZTtyZXR1cm4gdGhpc0FyZyYmaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbixwcmVkaWNhdGUsdGhpc0FyZykmJihwcmVkaWNhdGU9bnVsbCksKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBwcmVkaWNhdGV8fHRoaXNBcmchPT11bmRlZmluZWQpJiYocHJlZGljYXRlPWdldENhbGxiYWNrKHByZWRpY2F0ZSx0aGlzQXJnLDMpKSxmdW5jKGNvbGxlY3Rpb24scHJlZGljYXRlKX1mdW5jdGlvbiByZXN0UGFyYW0oZnVuYyxzdGFydCl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGZ1bmMpdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO3JldHVybiBzdGFydD1uYXRpdmVNYXgoc3RhcnQ9PT11bmRlZmluZWQ/ZnVuYy5sZW5ndGgtMTorc3RhcnR8fDAsMCksZnVuY3Rpb24oKXtmb3IodmFyIGFyZ3M9YXJndW1lbnRzLGluZGV4PS0xLGxlbmd0aD1uYXRpdmVNYXgoYXJncy5sZW5ndGgtc3RhcnQsMCkscmVzdD1BcnJheShsZW5ndGgpO2xlbmd0aD4rK2luZGV4OylyZXN0W2luZGV4XT1hcmdzW3N0YXJ0K2luZGV4XTtzd2l0Y2goc3RhcnQpe2Nhc2UgMDpyZXR1cm4gZnVuYy5jYWxsKHRoaXMscmVzdCk7Y2FzZSAxOnJldHVybiBmdW5jLmNhbGwodGhpcyxhcmdzWzBdLHJlc3QpO2Nhc2UgMjpyZXR1cm4gZnVuYy5jYWxsKHRoaXMsYXJnc1swXSxhcmdzWzFdLHJlc3QpfXZhciBvdGhlckFyZ3M9QXJyYXkoc3RhcnQrMSk7Zm9yKGluZGV4PS0xO3N0YXJ0PisraW5kZXg7KW90aGVyQXJnc1tpbmRleF09YXJnc1tpbmRleF07cmV0dXJuIG90aGVyQXJnc1tzdGFydF09cmVzdCxmdW5jLmFwcGx5KHRoaXMsb3RoZXJBcmdzKX19ZnVuY3Rpb24gY2xvbmUodmFsdWUsaXNEZWVwLGN1c3RvbWl6ZXIsdGhpc0FyZyl7cmV0dXJuIGlzRGVlcCYmXFxcImJvb2xlYW5cXFwiIT10eXBlb2YgaXNEZWVwJiZpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSxpc0RlZXAsY3VzdG9taXplcik/aXNEZWVwPSExOlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBpc0RlZXAmJih0aGlzQXJnPWN1c3RvbWl6ZXIsY3VzdG9taXplcj1pc0RlZXAsaXNEZWVwPSExKSxjdXN0b21pemVyPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjdXN0b21pemVyJiZiaW5kQ2FsbGJhY2soY3VzdG9taXplcix0aGlzQXJnLDEpLGJhc2VDbG9uZSh2YWx1ZSxpc0RlZXAsY3VzdG9taXplcil9ZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpe3ZhciBsZW5ndGg9aXNPYmplY3RMaWtlKHZhbHVlKT92YWx1ZS5sZW5ndGg6dW5kZWZpbmVkO3JldHVybiBpc0xlbmd0aChsZW5ndGgpJiZvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09YXJnc1RhZ31mdW5jdGlvbiBpc0VtcHR5KHZhbHVlKXtpZihudWxsPT12YWx1ZSlyZXR1cm4hMDt2YXIgbGVuZ3RoPWdldExlbmd0aCh2YWx1ZSk7cmV0dXJuIGlzTGVuZ3RoKGxlbmd0aCkmJihpc0FycmF5KHZhbHVlKXx8aXNTdHJpbmcodmFsdWUpfHxpc0FyZ3VtZW50cyh2YWx1ZSl8fGlzT2JqZWN0TGlrZSh2YWx1ZSkmJmlzRnVuY3Rpb24odmFsdWUuc3BsaWNlKSk/IWxlbmd0aDoha2V5cyh2YWx1ZSkubGVuZ3RofWZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKXt2YXIgdHlwZT10eXBlb2YgdmFsdWU7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZXx8ISF2YWx1ZSYmXFxcIm9iamVjdFxcXCI9PXR5cGV9ZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpe3JldHVybiBudWxsPT12YWx1ZT8hMTpvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09ZnVuY1RhZz9yZUlzTmF0aXZlLnRlc3QoZm5Ub1N0cmluZy5jYWxsKHZhbHVlKSk6aXNPYmplY3RMaWtlKHZhbHVlKSYmcmVJc0hvc3RDdG9yLnRlc3QodmFsdWUpfWZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKXtyZXR1cm5cXFwibnVtYmVyXFxcIj09dHlwZW9mIHZhbHVlfHxpc09iamVjdExpa2UodmFsdWUpJiZvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09bnVtYmVyVGFnfWZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKXtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIHZhbHVlfHxpc09iamVjdExpa2UodmFsdWUpJiZvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09c3RyaW5nVGFnfWZ1bmN0aW9uIGlzVHlwZWRBcnJheSh2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkmJmlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkmJiEhdHlwZWRBcnJheVRhZ3Nbb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSldfWZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpe3JldHVybiBiYXNlQ29weSh2YWx1ZSxrZXlzSW4odmFsdWUpKX1mdW5jdGlvbiBoYXMob2JqZWN0LHBhdGgpe2lmKG51bGw9PW9iamVjdClyZXR1cm4hMTt2YXIgcmVzdWx0PWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHBhdGgpO3JldHVybiByZXN1bHR8fGlzS2V5KHBhdGgpfHwocGF0aD10b1BhdGgocGF0aCksb2JqZWN0PTE9PXBhdGgubGVuZ3RoP29iamVjdDpiYXNlR2V0KG9iamVjdCxiYXNlU2xpY2UocGF0aCwwLC0xKSkscGF0aD1sYXN0KHBhdGgpLHJlc3VsdD1udWxsIT1vYmplY3QmJmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHBhdGgpKSxyZXN1bHR9ZnVuY3Rpb24ga2V5c0luKG9iamVjdCl7aWYobnVsbD09b2JqZWN0KXJldHVybltdO2lzT2JqZWN0KG9iamVjdCl8fChvYmplY3Q9T2JqZWN0KG9iamVjdCkpO3ZhciBsZW5ndGg9b2JqZWN0Lmxlbmd0aDtsZW5ndGg9bGVuZ3RoJiZpc0xlbmd0aChsZW5ndGgpJiYoaXNBcnJheShvYmplY3QpfHxzdXBwb3J0Lm5vbkVudW1BcmdzJiZpc0FyZ3VtZW50cyhvYmplY3QpKSYmbGVuZ3RofHwwO2Zvcih2YXIgQ3Rvcj1vYmplY3QuY29uc3RydWN0b3IsaW5kZXg9LTEsaXNQcm90bz1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgQ3RvciYmQ3Rvci5wcm90b3R5cGU9PT1vYmplY3QscmVzdWx0PUFycmF5KGxlbmd0aCksc2tpcEluZGV4ZXM9bGVuZ3RoPjA7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09aW5kZXgrXFxcIlxcXCI7Zm9yKHZhciBrZXkgaW4gb2JqZWN0KXNraXBJbmRleGVzJiZpc0luZGV4KGtleSxsZW5ndGgpfHxcXFwiY29uc3RydWN0b3JcXFwiPT1rZXkmJihpc1Byb3RvfHwhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KSl8fHJlc3VsdC5wdXNoKGtleSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiB2YWx1ZXMob2JqZWN0KXtyZXR1cm4gYmFzZVZhbHVlcyhvYmplY3Qsa2V5cyhvYmplY3QpKX1mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKXtyZXR1cm4gc3RyaW5nPWJhc2VUb1N0cmluZyhzdHJpbmcpLHN0cmluZyYmcmVIYXNSZWdFeHBDaGFycy50ZXN0KHN0cmluZyk/c3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFycyxcXFwiXFxcXFxcXFwkJlxcXCIpOnN0cmluZ31mdW5jdGlvbiBjYWxsYmFjayhmdW5jLHRoaXNBcmcsZ3VhcmQpe3JldHVybiBndWFyZCYmaXNJdGVyYXRlZUNhbGwoZnVuYyx0aGlzQXJnLGd1YXJkKSYmKHRoaXNBcmc9bnVsbCksYmFzZUNhbGxiYWNrKGZ1bmMsdGhpc0FyZyl9ZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2YWx1ZX19ZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpe3JldHVybiB2YWx1ZX1mdW5jdGlvbiBwcm9wZXJ0eShwYXRoKXtyZXR1cm4gaXNLZXkocGF0aCk/YmFzZVByb3BlcnR5KHBhdGgpOmJhc2VQcm9wZXJ0eURlZXAocGF0aCl9dmFyIHVuZGVmaW5lZCxWRVJTSU9OPVxcXCIzLjcuMFxcXCIsRlVOQ19FUlJPUl9URVhUPVxcXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXFxcIixhcmdzVGFnPVxcXCJbb2JqZWN0IEFyZ3VtZW50c11cXFwiLGFycmF5VGFnPVxcXCJbb2JqZWN0IEFycmF5XVxcXCIsYm9vbFRhZz1cXFwiW29iamVjdCBCb29sZWFuXVxcXCIsZGF0ZVRhZz1cXFwiW29iamVjdCBEYXRlXVxcXCIsZXJyb3JUYWc9XFxcIltvYmplY3QgRXJyb3JdXFxcIixmdW5jVGFnPVxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIsbWFwVGFnPVxcXCJbb2JqZWN0IE1hcF1cXFwiLG51bWJlclRhZz1cXFwiW29iamVjdCBOdW1iZXJdXFxcIixvYmplY3RUYWc9XFxcIltvYmplY3QgT2JqZWN0XVxcXCIscmVnZXhwVGFnPVxcXCJbb2JqZWN0IFJlZ0V4cF1cXFwiLHNldFRhZz1cXFwiW29iamVjdCBTZXRdXFxcIixzdHJpbmdUYWc9XFxcIltvYmplY3QgU3RyaW5nXVxcXCIsd2Vha01hcFRhZz1cXFwiW29iamVjdCBXZWFrTWFwXVxcXCIsYXJyYXlCdWZmZXJUYWc9XFxcIltvYmplY3QgQXJyYXlCdWZmZXJdXFxcIixmbG9hdDMyVGFnPVxcXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cXFwiLGZsb2F0NjRUYWc9XFxcIltvYmplY3QgRmxvYXQ2NEFycmF5XVxcXCIsaW50OFRhZz1cXFwiW29iamVjdCBJbnQ4QXJyYXldXFxcIixpbnQxNlRhZz1cXFwiW29iamVjdCBJbnQxNkFycmF5XVxcXCIsaW50MzJUYWc9XFxcIltvYmplY3QgSW50MzJBcnJheV1cXFwiLHVpbnQ4VGFnPVxcXCJbb2JqZWN0IFVpbnQ4QXJyYXldXFxcIix1aW50OENsYW1wZWRUYWc9XFxcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXFxcIix1aW50MTZUYWc9XFxcIltvYmplY3QgVWludDE2QXJyYXldXFxcIix1aW50MzJUYWc9XFxcIltvYmplY3QgVWludDMyQXJyYXldXFxcIixyZUlzRGVlcFByb3A9L1xcXFwufFxcXFxbKD86W15bXFxcXF1dK3woW1xcXCInXSkoPzooPyFcXFxcMSlbXlxcXFxuXFxcXFxcXFxdfFxcXFxcXFxcLikqPylcXFxcMVxcXFxdLyxyZUlzUGxhaW5Qcm9wPS9eXFxcXHcqJC8scmVQcm9wTmFtZT0vW14uW1xcXFxdXSt8XFxcXFsoPzooLT9cXFxcZCsoPzpcXFxcLlxcXFxkKyk/KXwoW1xcXCInXSkoKD86KD8hXFxcXDIpW15cXFxcblxcXFxcXFxcXXxcXFxcXFxcXC4pKj8pXFxcXDIpXFxcXF0vZyxyZVJlZ0V4cENoYXJzPS9bLiorP14ke30oKXxbXFxcXF1cXFxcL1xcXFxcXFxcXS9nLHJlSGFzUmVnRXhwQ2hhcnM9UmVnRXhwKHJlUmVnRXhwQ2hhcnMuc291cmNlKSxyZUVzY2FwZUNoYXI9L1xcXFxcXFxcKFxcXFxcXFxcKT8vZyxyZUZsYWdzPS9cXFxcdyokLyxyZUlzSG9zdEN0b3I9L15cXFxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXFxdJC8sdHlwZWRBcnJheVRhZ3M9e307dHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ109dHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ109dHlwZWRBcnJheVRhZ3NbaW50OFRhZ109dHlwZWRBcnJheVRhZ3NbaW50MTZUYWddPXR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXT10eXBlZEFycmF5VGFnc1t1aW50OFRhZ109dHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXT10eXBlZEFycmF5VGFnc1t1aW50MTZUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ109ITAsdHlwZWRBcnJheVRhZ3NbYXJnc1RhZ109dHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddPXR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXT10eXBlZEFycmF5VGFnc1tib29sVGFnXT10eXBlZEFycmF5VGFnc1tkYXRlVGFnXT10eXBlZEFycmF5VGFnc1tlcnJvclRhZ109dHlwZWRBcnJheVRhZ3NbZnVuY1RhZ109dHlwZWRBcnJheVRhZ3NbbWFwVGFnXT10eXBlZEFycmF5VGFnc1tudW1iZXJUYWddPXR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ109dHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXT10eXBlZEFycmF5VGFnc1tzZXRUYWddPXR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ109dHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ109ITE7dmFyIGNsb25lYWJsZVRhZ3M9e307Y2xvbmVhYmxlVGFnc1thcmdzVGFnXT1jbG9uZWFibGVUYWdzW2FycmF5VGFnXT1jbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXT1jbG9uZWFibGVUYWdzW2Jvb2xUYWddPWNsb25lYWJsZVRhZ3NbZGF0ZVRhZ109Y2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXT1jbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddPWNsb25lYWJsZVRhZ3NbaW50OFRhZ109Y2xvbmVhYmxlVGFnc1tpbnQxNlRhZ109Y2xvbmVhYmxlVGFnc1tpbnQzMlRhZ109Y2xvbmVhYmxlVGFnc1tudW1iZXJUYWddPWNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXT1jbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ109Y2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddPWNsb25lYWJsZVRhZ3NbdWludDhUYWddPWNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXT1jbG9uZWFibGVUYWdzW3VpbnQxNlRhZ109Y2xvbmVhYmxlVGFnc1t1aW50MzJUYWddPSEwLGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddPWNsb25lYWJsZVRhZ3NbZnVuY1RhZ109Y2xvbmVhYmxlVGFnc1ttYXBUYWddPWNsb25lYWJsZVRhZ3Nbc2V0VGFnXT1jbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddPSExO3ZhciBvYmplY3RUeXBlcz17XFxcImZ1bmN0aW9uXFxcIjohMCxvYmplY3Q6ITB9LGZyZWVFeHBvcnRzPW9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMsZnJlZU1vZHVsZT1vYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSYmbW9kdWxlJiYhbW9kdWxlLm5vZGVUeXBlJiZtb2R1bGUsZnJlZUdsb2JhbD1mcmVlRXhwb3J0cyYmZnJlZU1vZHVsZSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmZ2xvYmFsLk9iamVjdCYmZ2xvYmFsLGZyZWVTZWxmPW9iamVjdFR5cGVzW3R5cGVvZiBzZWxmXSYmc2VsZiYmc2VsZi5PYmplY3QmJnNlbGYsZnJlZVdpbmRvdz1vYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSYmd2luZG93JiZ3aW5kb3cuT2JqZWN0JiZ3aW5kb3csbW9kdWxlRXhwb3J0cz1mcmVlTW9kdWxlJiZmcmVlTW9kdWxlLmV4cG9ydHM9PT1mcmVlRXhwb3J0cyYmZnJlZUV4cG9ydHMscm9vdD1mcmVlR2xvYmFsfHxmcmVlV2luZG93IT09KHRoaXMmJnRoaXMud2luZG93KSYmZnJlZVdpbmRvd3x8ZnJlZVNlbGZ8fHRoaXMsYXJyYXlQcm90bz1BcnJheS5wcm90b3R5cGUsb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZSxmblRvU3RyaW5nPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxoYXNPd25Qcm9wZXJ0eT1vYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eSxvYmpUb1N0cmluZz1vYmplY3RQcm90by50b1N0cmluZyxyZUlzTmF0aXZlPVJlZ0V4cChcXFwiXlxcXCIrZXNjYXBlUmVnRXhwKG9ialRvU3RyaW5nKS5yZXBsYWNlKC90b1N0cmluZ3woZnVuY3Rpb24pLio/KD89XFxcXFxcXFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxcXFxcXFxdKS9nLFxcXCIkMS4qP1xcXCIpK1xcXCIkXFxcIiksQXJyYXlCdWZmZXI9aXNOYXRpdmUoQXJyYXlCdWZmZXI9cm9vdC5BcnJheUJ1ZmZlcikmJkFycmF5QnVmZmVyLGJ1ZmZlclNsaWNlPWlzTmF0aXZlKGJ1ZmZlclNsaWNlPUFycmF5QnVmZmVyJiZuZXcgQXJyYXlCdWZmZXIoMCkuc2xpY2UpJiZidWZmZXJTbGljZSxmbG9vcj1NYXRoLmZsb29yLGdldE93blByb3BlcnR5U3ltYm9scz1pc05hdGl2ZShnZXRPd25Qcm9wZXJ0eVN5bWJvbHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykmJmdldE93blByb3BlcnR5U3ltYm9scyxnZXRQcm90b3R5cGVPZj1pc05hdGl2ZShnZXRQcm90b3R5cGVPZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YpJiZnZXRQcm90b3R5cGVPZixwdXNoPWFycmF5UHJvdG8ucHVzaCxwcmV2ZW50RXh0ZW5zaW9ucz1pc05hdGl2ZShPYmplY3QucHJldmVudEV4dGVuc2lvbnM9T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSYmcHJldmVudEV4dGVuc2lvbnMscHJvcGVydHlJc0VudW1lcmFibGU9b2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsVWludDhBcnJheT1pc05hdGl2ZShVaW50OEFycmF5PXJvb3QuVWludDhBcnJheSkmJlVpbnQ4QXJyYXksRmxvYXQ2NEFycmF5PWZ1bmN0aW9uKCl7dHJ5e3ZhciBmdW5jPWlzTmF0aXZlKGZ1bmM9cm9vdC5GbG9hdDY0QXJyYXkpJiZmdW5jLHJlc3VsdD1uZXcgZnVuYyhuZXcgQXJyYXlCdWZmZXIoMTApLDAsMSkmJmZ1bmN9Y2F0Y2goZSl7fXJldHVybiByZXN1bHR9KCksbmF0aXZlQXNzaWduPWZ1bmN0aW9uKCl7dmFyIG9iamVjdD17MTowfSxmdW5jPXByZXZlbnRFeHRlbnNpb25zJiZpc05hdGl2ZShmdW5jPU9iamVjdC5hc3NpZ24pJiZmdW5jO3RyeXtmdW5jKHByZXZlbnRFeHRlbnNpb25zKG9iamVjdCksXFxcInhvXFxcIil9Y2F0Y2goZSl7fXJldHVybiFvYmplY3RbMV0mJmZ1bmN9KCksbmF0aXZlSXNBcnJheT1pc05hdGl2ZShuYXRpdmVJc0FycmF5PUFycmF5LmlzQXJyYXkpJiZuYXRpdmVJc0FycmF5LG5hdGl2ZUtleXM9aXNOYXRpdmUobmF0aXZlS2V5cz1PYmplY3Qua2V5cykmJm5hdGl2ZUtleXMsbmF0aXZlTWF4PU1hdGgubWF4LG5hdGl2ZU1pbj1NYXRoLm1pbixORUdBVElWRV9JTkZJTklUWT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksTUFYX0FSUkFZX0xFTkdUSD1NYXRoLnBvdygyLDMyKS0xLE1BWF9BUlJBWV9JTkRFWD1NQVhfQVJSQVlfTEVOR1RILTEsSEFMRl9NQVhfQVJSQVlfTEVOR1RIPU1BWF9BUlJBWV9MRU5HVEg+Pj4xLEZMT0FUNjRfQllURVNfUEVSX0VMRU1FTlQ9RmxvYXQ2NEFycmF5P0Zsb2F0NjRBcnJheS5CWVRFU19QRVJfRUxFTUVOVDowLE1BWF9TQUZFX0lOVEVHRVI9TWF0aC5wb3coMiw1MyktMSxzdXBwb3J0PWxvZGFzaC5zdXBwb3J0PXt9OyhmdW5jdGlvbih4KXt2YXIgQ3Rvcj1mdW5jdGlvbigpe3RoaXMueD14fSxwcm9wcz1bXTtDdG9yLnByb3RvdHlwZT17dmFsdWVPZjp4LHk6eH07Zm9yKHZhciBrZXkgaW4gbmV3IEN0b3IpcHJvcHMucHVzaChrZXkpO3N1cHBvcnQuZnVuY0RlY29tcD0vXFxcXGJ0aGlzXFxcXGIvLnRlc3QoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHN1cHBvcnQuZnVuY05hbWVzPVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgRnVuY3Rpb24ubmFtZTt0cnl7c3VwcG9ydC5ub25FbnVtQXJncz0hcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChhcmd1bWVudHMsMSl9Y2F0Y2goZSl7c3VwcG9ydC5ub25FbnVtQXJncz0hMH19KSgxLDApO3ZhciBiYXNlQXNzaWduPW5hdGl2ZUFzc2lnbnx8ZnVuY3Rpb24ob2JqZWN0LHNvdXJjZSl7cmV0dXJuIG51bGw9PXNvdXJjZT9vYmplY3Q6YmFzZUNvcHkoc291cmNlLGdldFN5bWJvbHMoc291cmNlKSxiYXNlQ29weShzb3VyY2Usa2V5cyhzb3VyY2UpLG9iamVjdCkpfSxiYXNlRWFjaD1jcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKSxiYXNlRm9yPWNyZWF0ZUJhc2VGb3IoKTtidWZmZXJTbGljZXx8KGJ1ZmZlckNsb25lPUFycmF5QnVmZmVyJiZVaW50OEFycmF5P2Z1bmN0aW9uKGJ1ZmZlcil7dmFyIGJ5dGVMZW5ndGg9YnVmZmVyLmJ5dGVMZW5ndGgsZmxvYXRMZW5ndGg9RmxvYXQ2NEFycmF5P2Zsb29yKGJ5dGVMZW5ndGgvRkxPQVQ2NF9CWVRFU19QRVJfRUxFTUVOVCk6MCxvZmZzZXQ9ZmxvYXRMZW5ndGgqRkxPQVQ2NF9CWVRFU19QRVJfRUxFTUVOVCxyZXN1bHQ9bmV3IEFycmF5QnVmZmVyKGJ5dGVMZW5ndGgpO2lmKGZsb2F0TGVuZ3RoKXt2YXIgdmlldz1uZXcgRmxvYXQ2NEFycmF5KHJlc3VsdCwwLGZsb2F0TGVuZ3RoKTt2aWV3LnNldChuZXcgRmxvYXQ2NEFycmF5KGJ1ZmZlciwwLGZsb2F0TGVuZ3RoKSl9cmV0dXJuIGJ5dGVMZW5ndGghPW9mZnNldCYmKHZpZXc9bmV3IFVpbnQ4QXJyYXkocmVzdWx0LG9mZnNldCksdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyLG9mZnNldCkpKSxyZXN1bHR9OmNvbnN0YW50KG51bGwpKTt2YXIgZ2V0TGVuZ3RoPWJhc2VQcm9wZXJ0eShcXFwibGVuZ3RoXFxcIiksZ2V0U3ltYm9scz1nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRvT2JqZWN0KG9iamVjdCkpfTpjb25zdGFudChbXSksZmluZExhc3RJbmRleD1jcmVhdGVGaW5kSW5kZXgoITApLHppcD1yZXN0UGFyYW0odW56aXApLGZvckVhY2g9Y3JlYXRlRm9yRWFjaChhcnJheUVhY2gsYmFzZUVhY2gpLGlzQXJyYXk9bmF0aXZlSXNBcnJheXx8ZnVuY3Rpb24odmFsdWUpe3JldHVybiBpc09iamVjdExpa2UodmFsdWUpJiZpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpJiZvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09YXJyYXlUYWd9LGlzRnVuY3Rpb249YmFzZUlzRnVuY3Rpb24oL3gvKXx8VWludDhBcnJheSYmIWJhc2VJc0Z1bmN0aW9uKFVpbnQ4QXJyYXkpP2Z1bmN0aW9uKHZhbHVlKXtyZXR1cm4gb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSk9PWZ1bmNUYWd9OmJhc2VJc0Z1bmN0aW9uLGlzUGxhaW5PYmplY3Q9Z2V0UHJvdG90eXBlT2Y/ZnVuY3Rpb24odmFsdWUpe2lmKCF2YWx1ZXx8b2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkhPW9iamVjdFRhZylyZXR1cm4hMTt2YXIgdmFsdWVPZj12YWx1ZS52YWx1ZU9mLG9ialByb3RvPWlzTmF0aXZlKHZhbHVlT2YpJiYob2JqUHJvdG89Z2V0UHJvdG90eXBlT2YodmFsdWVPZikpJiZnZXRQcm90b3R5cGVPZihvYmpQcm90byk7cmV0dXJuIG9ialByb3RvP3ZhbHVlPT1vYmpQcm90b3x8Z2V0UHJvdG90eXBlT2YodmFsdWUpPT1vYmpQcm90bzpzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSl9OnNoaW1Jc1BsYWluT2JqZWN0LGFzc2lnbj1jcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3Qsc291cmNlLGN1c3RvbWl6ZXIpe3JldHVybiBjdXN0b21pemVyP2Fzc2lnbldpdGgob2JqZWN0LHNvdXJjZSxjdXN0b21pemVyKTpiYXNlQXNzaWduKG9iamVjdCxzb3VyY2UpfSksa2V5cz1uYXRpdmVLZXlzP2Z1bmN0aW9uKG9iamVjdCl7aWYob2JqZWN0KXZhciBDdG9yPW9iamVjdC5jb25zdHJ1Y3RvcixsZW5ndGg9b2JqZWN0Lmxlbmd0aDtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgQ3RvciYmQ3Rvci5wcm90b3R5cGU9PT1vYmplY3R8fFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3QmJmlzTGVuZ3RoKGxlbmd0aCk/c2hpbUtleXMob2JqZWN0KTppc09iamVjdChvYmplY3QpP25hdGl2ZUtleXMob2JqZWN0KTpbXX06c2hpbUtleXMsbWVyZ2U9Y3JlYXRlQXNzaWduZXIoYmFzZU1lcmdlKTtsb2Rhc2guYXNzaWduPWFzc2lnbixsb2Rhc2guY2FsbGJhY2s9Y2FsbGJhY2ssbG9kYXNoLmNvbnN0YW50PWNvbnN0YW50LGxvZGFzaC5mb3JFYWNoPWZvckVhY2gsbG9kYXNoLmtleXM9a2V5cyxsb2Rhc2gua2V5c0luPWtleXNJbixsb2Rhc2gubWVyZ2U9bWVyZ2UsbG9kYXNoLnByb3BlcnR5PXByb3BlcnR5LGxvZGFzaC5yZWplY3Q9cmVqZWN0LGxvZGFzaC5yZXN0UGFyYW09cmVzdFBhcmFtLGxvZGFzaC5zbGljZT1zbGljZSxsb2Rhc2gudG9QbGFpbk9iamVjdD10b1BsYWluT2JqZWN0LGxvZGFzaC51bnppcD11bnppcCxsb2Rhc2gudmFsdWVzPXZhbHVlcyxsb2Rhc2guemlwPXppcCxsb2Rhc2guZWFjaD1mb3JFYWNoLGxvZGFzaC5leHRlbmQ9YXNzaWduLGxvZGFzaC5pdGVyYXRlZT1jYWxsYmFjayxsb2Rhc2guY2xvbmU9Y2xvbmUsbG9kYXNoLmVzY2FwZVJlZ0V4cD1lc2NhcGVSZWdFeHAsbG9kYXNoLmZpbmRMYXN0SW5kZXg9ZmluZExhc3RJbmRleCxsb2Rhc2guaGFzPWhhcyxsb2Rhc2guaWRlbnRpdHk9aWRlbnRpdHksbG9kYXNoLmluY2x1ZGVzPWluY2x1ZGVzLGxvZGFzaC5pbmRleE9mPWluZGV4T2YsbG9kYXNoLmlzQXJndW1lbnRzPWlzQXJndW1lbnRzLGxvZGFzaC5pc0FycmF5PWlzQXJyYXksbG9kYXNoLmlzRW1wdHk9aXNFbXB0eSxsb2Rhc2guaXNGdW5jdGlvbj1pc0Z1bmN0aW9uLGxvZGFzaC5pc05hdGl2ZT1pc05hdGl2ZSxsb2Rhc2guaXNOdW1iZXI9aXNOdW1iZXIsbG9kYXNoLmlzT2JqZWN0PWlzT2JqZWN0LGxvZGFzaC5pc1BsYWluT2JqZWN0PWlzUGxhaW5PYmplY3QsbG9kYXNoLmlzU3RyaW5nPWlzU3RyaW5nLGxvZGFzaC5pc1R5cGVkQXJyYXk9aXNUeXBlZEFycmF5LGxvZGFzaC5sYXN0PWxhc3QsbG9kYXNoLnNvbWU9c29tZSxsb2Rhc2guYW55PXNvbWUsbG9kYXNoLmNvbnRhaW5zPWluY2x1ZGVzLGxvZGFzaC5pbmNsdWRlPWluY2x1ZGVzLGxvZGFzaC5WRVJTSU9OPVZFUlNJT04sZnJlZUV4cG9ydHMmJmZyZWVNb2R1bGU/bW9kdWxlRXhwb3J0cz8oZnJlZU1vZHVsZS5leHBvcnRzPWxvZGFzaCkuXz1sb2Rhc2g6ZnJlZUV4cG9ydHMuXz1sb2Rhc2g6cm9vdC5fPWxvZGFzaFxcbn0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygc2VsZj9zZWxmOlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL2pzaGludC5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe3ZhciBfPV9kZXJlcV8oXFxcIi4uL2xvZGFzaFxcXCIpLGV2ZW50cz1fZGVyZXFfKFxcXCJldmVudHNcXFwiKSx2YXJzPV9kZXJlcV8oXFxcIi4vdmFycy5qc1xcXCIpLG1lc3NhZ2VzPV9kZXJlcV8oXFxcIi4vbWVzc2FnZXMuanNcXFwiKSxMZXhlcj1fZGVyZXFfKFxcXCIuL2xleC5qc1xcXCIpLkxleGVyLHJlZz1fZGVyZXFfKFxcXCIuL3JlZy5qc1xcXCIpLHN0YXRlPV9kZXJlcV8oXFxcIi4vc3RhdGUuanNcXFwiKS5zdGF0ZSxzdHlsZT1fZGVyZXFfKFxcXCIuL3N0eWxlLmpzXFxcIiksb3B0aW9ucz1fZGVyZXFfKFxcXCIuL29wdGlvbnMuanNcXFwiKSxzY29wZU1hbmFnZXI9X2RlcmVxXyhcXFwiLi9zY29wZS1tYW5hZ2VyLmpzXFxcIiksSlNISU5UPWZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGNoZWNrT3B0aW9uKG5hbWUsdCl7cmV0dXJuIG5hbWU9bmFtZS50cmltKCksL15bKy1dV1xcXFxkezN9JC9nLnRlc3QobmFtZSk/ITA6LTEhPT1vcHRpb25zLnZhbGlkTmFtZXMuaW5kZXhPZihuYW1lKXx8XFxcImpzbGludFxcXCI9PT10LnR5cGV8fF8uaGFzKG9wdGlvbnMucmVtb3ZlZCxuYW1lKT8hMDooZXJyb3IoXFxcIkUwMDFcXFwiLHQsbmFtZSksITEpfWZ1bmN0aW9uIGlzU3RyaW5nKG9iail7cmV0dXJuXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKX1mdW5jdGlvbiBpc0lkZW50aWZpZXIodGtuLHZhbHVlKXtyZXR1cm4gdGtuP3Rrbi5pZGVudGlmaWVyJiZ0a24udmFsdWU9PT12YWx1ZT8hMDohMTohMX1mdW5jdGlvbiBpc1Jlc2VydmVkKHRva2VuKXtpZighdG9rZW4ucmVzZXJ2ZWQpcmV0dXJuITE7dmFyIG1ldGE9dG9rZW4ubWV0YTtpZihtZXRhJiZtZXRhLmlzRnV0dXJlUmVzZXJ2ZWRXb3JkJiZzdGF0ZS5pbkVTNSgpKXtpZighbWV0YS5lczUpcmV0dXJuITE7aWYobWV0YS5zdHJpY3RPbmx5JiYhc3RhdGUub3B0aW9uLnN0cmljdCYmIXN0YXRlLmlzU3RyaWN0KCkpcmV0dXJuITE7aWYodG9rZW4uaXNQcm9wZXJ0eSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBzdXBwbGFudChzdHIsZGF0YSl7cmV0dXJuIHN0ci5yZXBsYWNlKC9cXFxceyhbXnt9XSopXFxcXH0vZyxmdW5jdGlvbihhLGIpe3ZhciByPWRhdGFbYl07cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiByfHxcXFwibnVtYmVyXFxcIj09dHlwZW9mIHI/cjphfSl9ZnVuY3Rpb24gY29tYmluZShkZXN0LHNyYyl7T2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe18uaGFzKEpTSElOVC5ibGFja2xpc3QsbmFtZSl8fChkZXN0W25hbWVdPXNyY1tuYW1lXSl9KX1mdW5jdGlvbiBwcm9jZXNzZW5mb3JjZWFsbCgpe2lmKHN0YXRlLm9wdGlvbi5lbmZvcmNlYWxsKXtmb3IodmFyIGVuZm9yY2VvcHQgaW4gb3B0aW9ucy5ib29sLmVuZm9yY2luZyl2b2lkIDAhPT1zdGF0ZS5vcHRpb25bZW5mb3JjZW9wdF18fG9wdGlvbnMubm9lbmZvcmNlYWxsW2VuZm9yY2VvcHRdfHwoc3RhdGUub3B0aW9uW2VuZm9yY2VvcHRdPSEwKTtmb3IodmFyIHJlbGF4b3B0IGluIG9wdGlvbnMuYm9vbC5yZWxheGluZyl2b2lkIDA9PT1zdGF0ZS5vcHRpb25bcmVsYXhvcHRdJiYoc3RhdGUub3B0aW9uW3JlbGF4b3B0XT0hMSl9fWZ1bmN0aW9uIGFzc3VtZSgpe3Byb2Nlc3NlbmZvcmNlYWxsKCksc3RhdGUub3B0aW9uLmVzdmVyc2lvbnx8c3RhdGUub3B0aW9uLm1venx8KHN0YXRlLm9wdGlvbi5lc3ZlcnNpb249c3RhdGUub3B0aW9uLmVzMz8zOnN0YXRlLm9wdGlvbi5lc25leHQ/Njo1KSxzdGF0ZS5pbkVTNSgpJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy5lY21hSWRlbnRpZmllcnNbNV0pLHN0YXRlLmluRVM2KCkmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmVjbWFJZGVudGlmaWVyc1s2XSksc3RhdGUub3B0aW9uLm1vZHVsZSYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpLHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMzRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJtb2R1bGVcXFwiLDYpKSxzdGF0ZS5vcHRpb24uY291Y2gmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmNvdWNoKSxzdGF0ZS5vcHRpb24ucXVuaXQmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnF1bml0KSxzdGF0ZS5vcHRpb24ucmhpbm8mJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnJoaW5vKSxzdGF0ZS5vcHRpb24uc2hlbGxqcyYmKGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnNoZWxsanMpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm5vZGUpKSxzdGF0ZS5vcHRpb24udHlwZWQmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnR5cGVkKSxzdGF0ZS5vcHRpb24ucGhhbnRvbSYmKGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnBoYW50b20pLHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpKSxzdGF0ZS5vcHRpb24ucHJvdG90eXBlanMmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnByb3RvdHlwZWpzKSxzdGF0ZS5vcHRpb24ubm9kZSYmKGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm5vZGUpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnR5cGVkKSxzdGF0ZS5vcHRpb24uc3RyaWN0PT09ITAmJihzdGF0ZS5vcHRpb24uc3RyaWN0PVxcXCJnbG9iYWxcXFwiKSksc3RhdGUub3B0aW9uLmRldmVsJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy5kZXZlbCksc3RhdGUub3B0aW9uLmRvam8mJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmRvam8pLHN0YXRlLm9wdGlvbi5icm93c2VyJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMuYnJvd3NlciksY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpKSxzdGF0ZS5vcHRpb24uYnJvd3NlcmlmeSYmKGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmJyb3dzZXIpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnR5cGVkKSxjb21iaW5lKHByZWRlZmluZWQsdmFycy5icm93c2VyaWZ5KSxzdGF0ZS5vcHRpb24uc3RyaWN0PT09ITAmJihzdGF0ZS5vcHRpb24uc3RyaWN0PVxcXCJnbG9iYWxcXFwiKSksc3RhdGUub3B0aW9uLm5vbnN0YW5kYXJkJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy5ub25zdGFuZGFyZCksc3RhdGUub3B0aW9uLmphc21pbmUmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmphc21pbmUpLHN0YXRlLm9wdGlvbi5qcXVlcnkmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmpxdWVyeSksc3RhdGUub3B0aW9uLm1vb3Rvb2xzJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy5tb290b29scyksc3RhdGUub3B0aW9uLndvcmtlciYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMud29ya2VyKSxzdGF0ZS5vcHRpb24ud3NoJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy53c2gpLHN0YXRlLm9wdGlvbi5nbG9iYWxzdHJpY3QmJnN0YXRlLm9wdGlvbi5zdHJpY3QhPT0hMSYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpLHN0YXRlLm9wdGlvbi55dWkmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnl1aSksc3RhdGUub3B0aW9uLm1vY2hhJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy5tb2NoYSl9ZnVuY3Rpb24gcXVpdChjb2RlLGxpbmUsY2hyKXt2YXIgcGVyY2VudGFnZT1NYXRoLmZsb29yKDEwMCoobGluZS9zdGF0ZS5saW5lcy5sZW5ndGgpKSxtZXNzYWdlPW1lc3NhZ2VzLmVycm9yc1tjb2RlXS5kZXNjO3Rocm93e25hbWU6XFxcIkpTSGludEVycm9yXFxcIixsaW5lOmxpbmUsY2hhcmFjdGVyOmNocixtZXNzYWdlOm1lc3NhZ2UrXFxcIiAoXFxcIitwZXJjZW50YWdlK1xcXCIlIHNjYW5uZWQpLlxcXCIscmF3Om1lc3NhZ2UsY29kZTpjb2RlfX1mdW5jdGlvbiByZW1vdmVJZ25vcmVkTWVzc2FnZXMoKXt2YXIgaWdub3JlZD1zdGF0ZS5pZ25vcmVkTGluZXM7Xy5pc0VtcHR5KGlnbm9yZWQpfHwoSlNISU5ULmVycm9ycz1fLnJlamVjdChKU0hJTlQuZXJyb3JzLGZ1bmN0aW9uKGVycil7cmV0dXJuIGlnbm9yZWRbZXJyLmxpbmVdfSkpfWZ1bmN0aW9uIHdhcm5pbmcoY29kZSx0LGEsYixjLGQpe3ZhciBjaCxsLHcsbXNnO2lmKC9eV1xcXFxkezN9JC8udGVzdChjb2RlKSl7aWYoc3RhdGUuaWdub3JlZFtjb2RlXSlyZXR1cm47bXNnPW1lc3NhZ2VzLndhcm5pbmdzW2NvZGVdfWVsc2UvRVxcXFxkezN9Ly50ZXN0KGNvZGUpP21zZz1tZXNzYWdlcy5lcnJvcnNbY29kZV06L0lcXFxcZHszfS8udGVzdChjb2RlKSYmKG1zZz1tZXNzYWdlcy5pbmZvW2NvZGVdKTtyZXR1cm4gdD10fHxzdGF0ZS50b2tlbnMubmV4dHx8e30sXFxcIihlbmQpXFxcIj09PXQuaWQmJih0PXN0YXRlLnRva2Vucy5jdXJyKSxsPXQubGluZXx8MCxjaD10LmZyb218fDAsdz17aWQ6XFxcIihlcnJvcilcXFwiLHJhdzptc2cuZGVzYyxjb2RlOm1zZy5jb2RlLGV2aWRlbmNlOnN0YXRlLmxpbmVzW2wtMV18fFxcXCJcXFwiLGxpbmU6bCxjaGFyYWN0ZXI6Y2gsc2NvcGU6SlNISU5ULnNjb3BlLGE6YSxiOmIsYzpjLGQ6ZH0sdy5yZWFzb249c3VwcGxhbnQobXNnLmRlc2MsdyksSlNISU5ULmVycm9ycy5wdXNoKHcpLHJlbW92ZUlnbm9yZWRNZXNzYWdlcygpLEpTSElOVC5lcnJvcnMubGVuZ3RoPj1zdGF0ZS5vcHRpb24ubWF4ZXJyJiZxdWl0KFxcXCJFMDQzXFxcIixsLGNoKSx3fWZ1bmN0aW9uIHdhcm5pbmdBdChtLGwsY2gsYSxiLGMsZCl7cmV0dXJuIHdhcm5pbmcobSx7bGluZTpsLGZyb206Y2h9LGEsYixjLGQpfWZ1bmN0aW9uIGVycm9yKG0sdCxhLGIsYyxkKXt3YXJuaW5nKG0sdCxhLGIsYyxkKX1mdW5jdGlvbiBlcnJvckF0KG0sbCxjaCxhLGIsYyxkKXtyZXR1cm4gZXJyb3IobSx7bGluZTpsLGZyb206Y2h9LGEsYixjLGQpfWZ1bmN0aW9uIGFkZEludGVybmFsU3JjKGVsZW0sc3JjKXt2YXIgaTtyZXR1cm4gaT17aWQ6XFxcIihpbnRlcm5hbClcXFwiLGVsZW06ZWxlbSx2YWx1ZTpzcmN9LEpTSElOVC5pbnRlcm5hbHMucHVzaChpKSxpfWZ1bmN0aW9uIGRvT3B0aW9uKCl7dmFyIG50PXN0YXRlLnRva2Vucy5uZXh0LGJvZHk9bnQuYm9keS5tYXRjaCgvKC1cXFxccyspP1teXFxcXHMsOl0rKD86XFxcXHMqOlxcXFxzKigtXFxcXHMrKT9bXlxcXFxzLF0rKT8vZyl8fFtdLHByZWRlZj17fTtpZihcXFwiZ2xvYmFsc1xcXCI9PT1udC50eXBlKXtib2R5LmZvckVhY2goZnVuY3Rpb24oZyxpZHgpe2c9Zy5zcGxpdChcXFwiOlxcXCIpO3ZhciBrZXk9KGdbMF18fFxcXCJcXFwiKS50cmltKCksdmFsPShnWzFdfHxcXFwiXFxcIikudHJpbSgpO2lmKFxcXCItXFxcIj09PWtleXx8IWtleS5sZW5ndGgpe2lmKGlkeD4wJiZpZHg9PT1ib2R5Lmxlbmd0aC0xKXJldHVybjtyZXR1cm4gZXJyb3IoXFxcIkUwMDJcXFwiLG50KSx2b2lkIDB9XFxcIi1cXFwiPT09a2V5LmNoYXJBdCgwKT8oa2V5PWtleS5zbGljZSgxKSx2YWw9ITEsSlNISU5ULmJsYWNrbGlzdFtrZXldPWtleSxkZWxldGUgcHJlZGVmaW5lZFtrZXldKTpwcmVkZWZba2V5XT1cXFwidHJ1ZVxcXCI9PT12YWx9KSxjb21iaW5lKHByZWRlZmluZWQscHJlZGVmKTtmb3IodmFyIGtleSBpbiBwcmVkZWYpXy5oYXMocHJlZGVmLGtleSkmJihkZWNsYXJlZFtrZXldPW50KX1cXFwiZXhwb3J0ZWRcXFwiPT09bnQudHlwZSYmYm9keS5mb3JFYWNoKGZ1bmN0aW9uKGUsaWR4KXtpZighZS5sZW5ndGgpe2lmKGlkeD4wJiZpZHg9PT1ib2R5Lmxlbmd0aC0xKXJldHVybjtyZXR1cm4gZXJyb3IoXFxcIkUwMDJcXFwiLG50KSx2b2lkIDB9c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRFeHBvcnRlZChlKX0pLFxcXCJtZW1iZXJzXFxcIj09PW50LnR5cGUmJihtZW1iZXJzT25seT1tZW1iZXJzT25seXx8e30sYm9keS5mb3JFYWNoKGZ1bmN0aW9uKG0pe3ZhciBjaDE9bS5jaGFyQXQoMCksY2gyPW0uY2hhckF0KG0ubGVuZ3RoLTEpO2NoMSE9PWNoMnx8J1xcXCInIT09Y2gxJiZcXFwiJ1xcXCIhPT1jaDF8fChtPW0uc3Vic3RyKDEsbS5sZW5ndGgtMikucmVwbGFjZSgnXFxcXFxcXFxcXFwiJywnXFxcIicpKSxtZW1iZXJzT25seVttXT0hMX0pKTt2YXIgbnVtdmFscz1bXFxcIm1heHN0YXRlbWVudHNcXFwiLFxcXCJtYXhwYXJhbXNcXFwiLFxcXCJtYXhkZXB0aFxcXCIsXFxcIm1heGNvbXBsZXhpdHlcXFwiLFxcXCJtYXhlcnJcXFwiLFxcXCJtYXhsZW5cXFwiLFxcXCJpbmRlbnRcXFwiXTsoXFxcImpzaGludFxcXCI9PT1udC50eXBlfHxcXFwianNsaW50XFxcIj09PW50LnR5cGUpJiYoYm9keS5mb3JFYWNoKGZ1bmN0aW9uKGcpe2c9Zy5zcGxpdChcXFwiOlxcXCIpO3ZhciBrZXk9KGdbMF18fFxcXCJcXFwiKS50cmltKCksdmFsPShnWzFdfHxcXFwiXFxcIikudHJpbSgpO2lmKGNoZWNrT3B0aW9uKGtleSxudCkpaWYobnVtdmFscy5pbmRleE9mKGtleSk+PTApaWYoXFxcImZhbHNlXFxcIiE9PXZhbCl7aWYodmFsPSt2YWwsXFxcIm51bWJlclxcXCIhPXR5cGVvZiB2YWx8fCFpc0Zpbml0ZSh2YWwpfHwwPj12YWx8fE1hdGguZmxvb3IodmFsKSE9PXZhbClyZXR1cm4gZXJyb3IoXFxcIkUwMzJcXFwiLG50LGdbMV0udHJpbSgpKSx2b2lkIDA7c3RhdGUub3B0aW9uW2tleV09dmFsfWVsc2Ugc3RhdGUub3B0aW9uW2tleV09XFxcImluZGVudFxcXCI9PT1rZXk/NDohMTtlbHNle2lmKFxcXCJ2YWxpZHRoaXNcXFwiPT09a2V5KXJldHVybiBzdGF0ZS5mdW5jdFtcXFwiKGdsb2JhbClcXFwiXT92b2lkIGVycm9yKFxcXCJFMDA5XFxcIik6XFxcInRydWVcXFwiIT09dmFsJiZcXFwiZmFsc2VcXFwiIT09dmFsP3ZvaWQgZXJyb3IoXFxcIkUwMDJcXFwiLG50KTooc3RhdGUub3B0aW9uLnZhbGlkdGhpcz1cXFwidHJ1ZVxcXCI9PT12YWwsdm9pZCAwKTtpZihcXFwicXVvdG1hcmtcXFwiIT09a2V5KWlmKFxcXCJzaGFkb3dcXFwiIT09a2V5KWlmKFxcXCJ1bnVzZWRcXFwiIT09a2V5KWlmKFxcXCJsYXRlZGVmXFxcIiE9PWtleSlpZihcXFwiaWdub3JlXFxcIiE9PWtleSlpZihcXFwic3RyaWN0XFxcIiE9PWtleSl7XFxcIm1vZHVsZVxcXCI9PT1rZXkmJihoYXNQYXJzZWRDb2RlKHN0YXRlLmZ1bmN0KXx8ZXJyb3IoXFxcIkUwNTVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJtb2R1bGVcXFwiKSk7dmFyIGVzdmVyc2lvbnM9e2VzMzozLGVzNTo1LGVzbmV4dDo2fTtpZighXy5oYXMoZXN2ZXJzaW9ucyxrZXkpKXtpZihcXFwiZXN2ZXJzaW9uXFxcIj09PWtleSl7c3dpdGNoKHZhbCl7Y2FzZVxcXCI1XFxcIjpzdGF0ZS5pbkVTNSghMCkmJndhcm5pbmcoXFxcIkkwMDNcXFwiKTtjYXNlXFxcIjNcXFwiOmNhc2VcXFwiNlxcXCI6c3RhdGUub3B0aW9uLm1vej0hMSxzdGF0ZS5vcHRpb24uZXN2ZXJzaW9uPSt2YWw7YnJlYWs7Y2FzZVxcXCIyMDE1XFxcIjpzdGF0ZS5vcHRpb24ubW96PSExLHN0YXRlLm9wdGlvbi5lc3ZlcnNpb249NjticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9cmV0dXJuIGhhc1BhcnNlZENvZGUoc3RhdGUuZnVuY3QpfHxlcnJvcihcXFwiRTA1NVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImVzdmVyc2lvblxcXCIpLHZvaWQgMH12YXIgbWF0Y2g9L14oWystXSkoV1xcXFxkezN9KSQvZy5leGVjKGtleSk7aWYobWF0Y2gpcmV0dXJuIHN0YXRlLmlnbm9yZWRbbWF0Y2hbMl1dPVxcXCItXFxcIj09PW1hdGNoWzFdLHZvaWQgMDt2YXIgdG47cmV0dXJuXFxcInRydWVcXFwiPT09dmFsfHxcXFwiZmFsc2VcXFwiPT09dmFsPyhcXFwianNsaW50XFxcIj09PW50LnR5cGU/KHRuPW9wdGlvbnMucmVuYW1lZFtrZXldfHxrZXksc3RhdGUub3B0aW9uW3RuXT1cXFwidHJ1ZVxcXCI9PT12YWwsdm9pZCAwIT09b3B0aW9ucy5pbnZlcnRlZFt0bl0mJihzdGF0ZS5vcHRpb25bdG5dPSFzdGF0ZS5vcHRpb25bdG5dKSk6c3RhdGUub3B0aW9uW2tleV09XFxcInRydWVcXFwiPT09dmFsLFxcXCJuZXdjYXBcXFwiPT09a2V5JiYoc3RhdGUub3B0aW9uW1xcXCIoZXhwbGljaXROZXdjYXApXFxcIl09ITApLHZvaWQgMCk6KGVycm9yKFxcXCJFMDAyXFxcIixudCksdm9pZCAwKX1zd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi5tb3o9ITEsc3RhdGUub3B0aW9uLmVzdmVyc2lvbj1lc3ZlcnNpb25zW2tleV07YnJlYWs7Y2FzZVxcXCJmYWxzZVxcXCI6c3RhdGUub3B0aW9uLm1venx8KHN0YXRlLm9wdGlvbi5lc3ZlcnNpb249NSk7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfX1lbHNlIHN3aXRjaCh2YWwpe2Nhc2VcXFwidHJ1ZVxcXCI6c3RhdGUub3B0aW9uLnN0cmljdD0hMDticmVhaztjYXNlXFxcImZhbHNlXFxcIjpzdGF0ZS5vcHRpb24uc3RyaWN0PSExO2JyZWFrO2Nhc2VcXFwiZnVuY1xcXCI6Y2FzZVxcXCJnbG9iYWxcXFwiOmNhc2VcXFwiaW1wbGllZFxcXCI6c3RhdGUub3B0aW9uLnN0cmljdD12YWw7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJsaW5lXFxcIjpzdGF0ZS5pZ25vcmVkTGluZXNbbnQubGluZV09ITAscmVtb3ZlSWdub3JlZE1lc3NhZ2VzKCk7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpzdGF0ZS5vcHRpb24ubGF0ZWRlZj0hMDticmVhaztjYXNlXFxcImZhbHNlXFxcIjpzdGF0ZS5vcHRpb24ubGF0ZWRlZj0hMTticmVhaztjYXNlXFxcIm5vZnVuY1xcXCI6c3RhdGUub3B0aW9uLmxhdGVkZWY9XFxcIm5vZnVuY1xcXCI7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpzdGF0ZS5vcHRpb24udW51c2VkPSEwO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi51bnVzZWQ9ITE7YnJlYWs7Y2FzZVxcXCJ2YXJzXFxcIjpjYXNlXFxcInN0cmljdFxcXCI6c3RhdGUub3B0aW9uLnVudXNlZD12YWw7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpzdGF0ZS5vcHRpb24uc2hhZG93PSEwO2JyZWFrO2Nhc2VcXFwib3V0ZXJcXFwiOnN0YXRlLm9wdGlvbi5zaGFkb3c9XFxcIm91dGVyXFxcIjticmVhaztjYXNlXFxcImZhbHNlXFxcIjpjYXNlXFxcImlubmVyXFxcIjpzdGF0ZS5vcHRpb24uc2hhZG93PVxcXCJpbm5lclxcXCI7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwMlxcXCIsbnQpfWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpjYXNlXFxcImZhbHNlXFxcIjpzdGF0ZS5vcHRpb24ucXVvdG1hcms9XFxcInRydWVcXFwiPT09dmFsO2JyZWFrO2Nhc2VcXFwiZG91YmxlXFxcIjpjYXNlXFxcInNpbmdsZVxcXCI6c3RhdGUub3B0aW9uLnF1b3RtYXJrPXZhbDticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9fX0pLGFzc3VtZSgpKX1mdW5jdGlvbiBwZWVrKHApe3ZhciB0LGk9cHx8MCxqPWxvb2thaGVhZC5sZW5ndGg7aWYoaj5pKXJldHVybiBsb29rYWhlYWRbaV07Zm9yKDtpPj1qOyl0PWxvb2thaGVhZFtqXSx0fHwodD1sb29rYWhlYWRbal09bGV4LnRva2VuKCkpLGorPTE7cmV0dXJuIHR8fFxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZD90OnN0YXRlLnRva2Vucy5uZXh0fWZ1bmN0aW9uIHBlZWtJZ25vcmVFT0woKXt2YXIgdCxpPTA7ZG8gdD1wZWVrKGkrKyk7d2hpbGUoXFxcIihlbmRsaW5lKVxcXCI9PT10LmlkKTtyZXR1cm4gdH1mdW5jdGlvbiBhZHZhbmNlKGlkLHQpe3N3aXRjaChzdGF0ZS50b2tlbnMuY3Vyci5pZCl7Y2FzZVxcXCIobnVtYmVyKVxcXCI6XFxcIi5cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwMDVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTticmVhaztjYXNlXFxcIi1cXFwiOihcXFwiLVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8XFxcIi0tXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKSYmd2FybmluZyhcXFwiVzAwNlxcXCIpO2JyZWFrO2Nhc2VcXFwiK1xcXCI6KFxcXCIrXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiKytcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpJiZ3YXJuaW5nKFxcXCJXMDA3XFxcIil9Zm9yKGlkJiZzdGF0ZS50b2tlbnMubmV4dC5pZCE9PWlkJiYodD9cXFwiKGVuZClcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/ZXJyb3IoXFxcIkUwMTlcXFwiLHQsdC5pZCk6ZXJyb3IoXFxcIkUwMjBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LGlkLHQuaWQsdC5saW5lLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTooXFxcIihpZGVudGlmaWVyKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC50eXBlfHxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSE9PWlkKSYmd2FybmluZyhcXFwiVzExNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsaWQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpKSxzdGF0ZS50b2tlbnMucHJldj1zdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vycj1zdGF0ZS50b2tlbnMubmV4dDs7KXtpZihzdGF0ZS50b2tlbnMubmV4dD1sb29rYWhlYWQuc2hpZnQoKXx8bGV4LnRva2VuKCksc3RhdGUudG9rZW5zLm5leHR8fHF1aXQoXFxcIkUwNDFcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUpLFxcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8XFxcIihlcnJvcilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpcmV0dXJuO2lmKHN0YXRlLnRva2Vucy5uZXh0LmNoZWNrJiZzdGF0ZS50b2tlbnMubmV4dC5jaGVjaygpLHN0YXRlLnRva2Vucy5uZXh0LmlzU3BlY2lhbClcXFwiZmFsbHMgdGhyb3VnaFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlP3N0YXRlLnRva2Vucy5jdXJyLmNhc2VGYWxsc1Rocm91Z2g9ITA6ZG9PcHRpb24oKTtlbHNlIGlmKFxcXCIoZW5kbGluZSlcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWt9fWZ1bmN0aW9uIGlzSW5maXgodG9rZW4pe3JldHVybiB0b2tlbi5pbmZpeHx8IXRva2VuLmlkZW50aWZpZXImJiF0b2tlbi50ZW1wbGF0ZSYmISF0b2tlbi5sZWR9ZnVuY3Rpb24gaXNFbmRPZkV4cHIoKXt2YXIgY3Vycj1zdGF0ZS50b2tlbnMuY3VycixuZXh0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVyblxcXCI7XFxcIj09PW5leHQuaWR8fFxcXCJ9XFxcIj09PW5leHQuaWR8fFxcXCI6XFxcIj09PW5leHQuaWQ/ITA6aXNJbmZpeChuZXh0KT09PWlzSW5maXgoY3Vycil8fFxcXCJ5aWVsZFxcXCI9PT1jdXJyLmlkJiZzdGF0ZS5pbk1veigpP2N1cnIubGluZSE9PXN0YXJ0TGluZShuZXh0KTohMX1mdW5jdGlvbiBpc0JlZ2luT2ZFeHByKHByZXYpe3JldHVybiFwcmV2LmxlZnQmJlxcXCJ1bmFyeVxcXCIhPT1wcmV2LmFyaXR5fWZ1bmN0aW9uIGV4cHJlc3Npb24ocmJwLGluaXRpYWwpe3ZhciBsZWZ0LGlzQXJyYXk9ITEsaXNPYmplY3Q9ITEsaXNMZXRFeHByPSExO3N0YXRlLm5hbWVTdGFjay5wdXNoKCksaW5pdGlhbHx8XFxcImxldFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZXx8XFxcIihcXFwiIT09cGVlaygwKS52YWx1ZXx8KHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJsZXQgZXhwcmVzc2lvbnNcXFwiKSxpc0xldEV4cHI9ITAsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLGFkdmFuY2UoXFxcImxldFxcXCIpLGFkdmFuY2UoXFxcIihcXFwiKSxzdGF0ZS50b2tlbnMucHJldi5mdWQoKSxhZHZhbmNlKFxcXCIpXFxcIikpLFxcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmZXJyb3IoXFxcIkUwMDZcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTt2YXIgaXNEYW5nZXJvdXM9c3RhdGUub3B0aW9uLmFzaSYmc3RhdGUudG9rZW5zLnByZXYubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMuY3VycikmJl8uY29udGFpbnMoW1xcXCJdXFxcIixcXFwiKVxcXCJdLHN0YXRlLnRva2Vucy5wcmV2LmlkKSYmXy5jb250YWlucyhbXFxcIltcXFwiLFxcXCIoXFxcIl0sc3RhdGUudG9rZW5zLmN1cnIuaWQpO2lmKGlzRGFuZ2Vyb3VzJiZ3YXJuaW5nKFxcXCJXMDE0XFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCksYWR2YW5jZSgpLGluaXRpYWwmJihzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUsc3RhdGUudG9rZW5zLmN1cnIuYmVnaW5zU3RtdD0hMCksaW5pdGlhbD09PSEwJiZzdGF0ZS50b2tlbnMuY3Vyci5mdWQpbGVmdD1zdGF0ZS50b2tlbnMuY3Vyci5mdWQoKTtlbHNlIGZvcihzdGF0ZS50b2tlbnMuY3Vyci5udWQ/bGVmdD1zdGF0ZS50b2tlbnMuY3Vyci5udWQoKTplcnJvcihcXFwiRTAzMFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLmN1cnIuaWQpOyhzdGF0ZS50b2tlbnMubmV4dC5sYnA+cmJwfHxcXFwiKHRlbXBsYXRlKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlKSYmIWlzRW5kT2ZFeHByKCk7KWlzQXJyYXk9XFxcIkFycmF5XFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLnZhbHVlLGlzT2JqZWN0PVxcXCJPYmplY3RcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUsbGVmdCYmKGxlZnQudmFsdWV8fGxlZnQuZmlyc3QmJmxlZnQuZmlyc3QudmFsdWUpJiYoXFxcIm5ld1xcXCIhPT1sZWZ0LnZhbHVlfHxsZWZ0LmZpcnN0JiZsZWZ0LmZpcnN0LnZhbHVlJiZcXFwiLlxcXCI9PT1sZWZ0LmZpcnN0LnZhbHVlKSYmKGlzQXJyYXk9ITEsbGVmdC52YWx1ZSE9PXN0YXRlLnRva2Vucy5jdXJyLnZhbHVlJiYoaXNPYmplY3Q9ITEpKSxhZHZhbmNlKCksaXNBcnJheSYmXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIuaWQmJlxcXCIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDA5XFxcIixzdGF0ZS50b2tlbnMuY3VyciksaXNPYmplY3QmJlxcXCIoXFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLmlkJiZcXFwiKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzAxMFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpLGxlZnQmJnN0YXRlLnRva2Vucy5jdXJyLmxlZD9sZWZ0PXN0YXRlLnRva2Vucy5jdXJyLmxlZChsZWZ0KTplcnJvcihcXFwiRTAzM1xcXCIsc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLmN1cnIuaWQpO3JldHVybiBpc0xldEV4cHImJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLHN0YXRlLm5hbWVTdGFjay5wb3AoKSxsZWZ0fWZ1bmN0aW9uIHN0YXJ0TGluZSh0b2tlbil7cmV0dXJuIHRva2VuLnN0YXJ0TGluZXx8dG9rZW4ubGluZX1mdW5jdGlvbiBub2JyZWFrbm9uYWRqYWNlbnQobGVmdCxyaWdodCl7bGVmdD1sZWZ0fHxzdGF0ZS50b2tlbnMuY3VycixyaWdodD1yaWdodHx8c3RhdGUudG9rZW5zLm5leHQsc3RhdGUub3B0aW9uLmxheGJyZWFrfHxsZWZ0LmxpbmU9PT1zdGFydExpbmUocmlnaHQpfHx3YXJuaW5nKFxcXCJXMDE0XFxcIixyaWdodCxyaWdodC52YWx1ZSl9ZnVuY3Rpb24gbm9saW5lYnJlYWsodCl7dD10fHxzdGF0ZS50b2tlbnMuY3Vycix0LmxpbmUhPT1zdGFydExpbmUoc3RhdGUudG9rZW5zLm5leHQpJiZ3YXJuaW5nKFxcXCJFMDIyXFxcIix0LHQudmFsdWUpfWZ1bmN0aW9uIG5vYnJlYWtjb21tYShsZWZ0LHJpZ2h0KXtsZWZ0LmxpbmUhPT1zdGFydExpbmUocmlnaHQpJiYoc3RhdGUub3B0aW9uLmxheGNvbW1hfHwoY29tbWEuZmlyc3QmJih3YXJuaW5nKFxcXCJJMDAxXFxcIiksY29tbWEuZmlyc3Q9ITEpLHdhcm5pbmcoXFxcIlcwMTRcXFwiLGxlZnQscmlnaHQudmFsdWUpKSl9ZnVuY3Rpb24gY29tbWEob3B0cyl7aWYob3B0cz1vcHRzfHx7fSxvcHRzLnBlZWs/bm9icmVha2NvbW1hKHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKToobm9icmVha2NvbW1hKHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5uZXh0KSxhZHZhbmNlKFxcXCIsXFxcIikpLHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXImJighb3B0cy5wcm9wZXJ0eXx8IXN0YXRlLmluRVM1KCkpKXN3aXRjaChzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7Y2FzZVxcXCJicmVha1xcXCI6Y2FzZVxcXCJjYXNlXFxcIjpjYXNlXFxcImNhdGNoXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcImRlZmF1bHRcXFwiOmNhc2VcXFwiZG9cXFwiOmNhc2VcXFwiZWxzZVxcXCI6Y2FzZVxcXCJmaW5hbGx5XFxcIjpjYXNlXFxcImZvclxcXCI6Y2FzZVxcXCJpZlxcXCI6Y2FzZVxcXCJpblxcXCI6Y2FzZVxcXCJpbnN0YW5jZW9mXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJzd2l0Y2hcXFwiOmNhc2VcXFwidGhyb3dcXFwiOmNhc2VcXFwidHJ5XFxcIjpjYXNlXFxcInZhclxcXCI6Y2FzZVxcXCJsZXRcXFwiOmNhc2VcXFwid2hpbGVcXFwiOmNhc2VcXFwid2l0aFxcXCI6cmV0dXJuIGVycm9yKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksITF9aWYoXFxcIihwdW5jdHVhdG9yKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlKXN3aXRjaChzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7Y2FzZVxcXCJ9XFxcIjpjYXNlXFxcIl1cXFwiOmNhc2VcXFwiLFxcXCI6aWYob3B0cy5hbGxvd1RyYWlsaW5nKXJldHVybiEwO2Nhc2VcXFwiKVxcXCI6cmV0dXJuIGVycm9yKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksITF9cmV0dXJuITB9ZnVuY3Rpb24gc3ltYm9sKHMscCl7dmFyIHg9c3RhdGUuc3ludGF4W3NdO3JldHVybiB4JiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIHh8fChzdGF0ZS5zeW50YXhbc109eD17aWQ6cyxsYnA6cCx2YWx1ZTpzfSkseH1mdW5jdGlvbiBkZWxpbShzKXt2YXIgeD1zeW1ib2wocywwKTtyZXR1cm4geC5kZWxpbT0hMCx4fWZ1bmN0aW9uIHN0bXQocyxmKXt2YXIgeD1kZWxpbShzKTtyZXR1cm4geC5pZGVudGlmaWVyPXgucmVzZXJ2ZWQ9ITAseC5mdWQ9Zix4fWZ1bmN0aW9uIGJsb2Nrc3RtdChzLGYpe3ZhciB4PXN0bXQocyxmKTtyZXR1cm4geC5ibG9jaz0hMCx4fWZ1bmN0aW9uIHJlc2VydmVOYW1lKHgpe3ZhciBjPXguaWQuY2hhckF0KDApO3JldHVybihjPj1cXFwiYVxcXCImJlxcXCJ6XFxcIj49Y3x8Yz49XFxcIkFcXFwiJiZcXFwiWlxcXCI+PWMpJiYoeC5pZGVudGlmaWVyPXgucmVzZXJ2ZWQ9ITApLHh9ZnVuY3Rpb24gcHJlZml4KHMsZil7dmFyIHg9c3ltYm9sKHMsMTUwKTtyZXR1cm4gcmVzZXJ2ZU5hbWUoeCkseC5udWQ9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGY/ZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksKFxcXCIrK1xcXCI9PT10aGlzLmlkfHxcXFwiLS1cXFwiPT09dGhpcy5pZCkmJihzdGF0ZS5vcHRpb24ucGx1c3BsdXM/d2FybmluZyhcXFwiVzAxNlxcXCIsdGhpcyx0aGlzLmlkKTohdGhpcy5yaWdodHx8dGhpcy5yaWdodC5pZGVudGlmaWVyJiYhaXNSZXNlcnZlZCh0aGlzLnJpZ2h0KXx8XFxcIi5cXFwiPT09dGhpcy5yaWdodC5pZHx8XFxcIltcXFwiPT09dGhpcy5yaWdodC5pZHx8d2FybmluZyhcXFwiVzAxN1xcXCIsdGhpcyksdGhpcy5yaWdodCYmdGhpcy5yaWdodC5pc01ldGFQcm9wZXJ0eT9lcnJvcihcXFwiRTAzMVxcXCIsdGhpcyk6dGhpcy5yaWdodCYmdGhpcy5yaWdodC5pZGVudGlmaWVyJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLm1vZGlmeSh0aGlzLnJpZ2h0LnZhbHVlLHRoaXMpKSx0aGlzfSx4fWZ1bmN0aW9uIHR5cGUocyxmKXt2YXIgeD1kZWxpbShzKTtyZXR1cm4geC50eXBlPXMseC5udWQ9Zix4fWZ1bmN0aW9uIHJlc2VydmUobmFtZSxmdW5jKXt2YXIgeD10eXBlKG5hbWUsZnVuYyk7cmV0dXJuIHguaWRlbnRpZmllcj0hMCx4LnJlc2VydmVkPSEwLHh9ZnVuY3Rpb24gRnV0dXJlUmVzZXJ2ZWRXb3JkKG5hbWUsbWV0YSl7dmFyIHg9dHlwZShuYW1lLG1ldGEmJm1ldGEubnVkfHxmdW5jdGlvbigpe3JldHVybiB0aGlzfSk7cmV0dXJuIG1ldGE9bWV0YXx8e30sbWV0YS5pc0Z1dHVyZVJlc2VydmVkV29yZD0hMCx4LnZhbHVlPW5hbWUseC5pZGVudGlmaWVyPSEwLHgucmVzZXJ2ZWQ9ITAseC5tZXRhPW1ldGEseH1mdW5jdGlvbiByZXNlcnZldmFyKHMsdil7cmV0dXJuIHJlc2VydmUocyxmdW5jdGlvbigpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB2JiZ2KHRoaXMpLHRoaXN9KX1mdW5jdGlvbiBpbmZpeChzLGYscCx3KXt2YXIgeD1zeW1ib2wocyxwKTtyZXR1cm4gcmVzZXJ2ZU5hbWUoeCkseC5pbmZpeD0hMCx4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gd3x8bm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKSxcXFwiaW5cXFwiIT09cyYmXFxcImluc3RhbmNlb2ZcXFwiIT09c3x8XFxcIiFcXFwiIT09bGVmdC5pZHx8d2FybmluZyhcXFwiVzAxOFxcXCIsbGVmdCxcXFwiIVxcXCIpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBmP2YobGVmdCx0aGlzKToodGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1leHByZXNzaW9uKHApLHRoaXMpfSx4fWZ1bmN0aW9uIGFwcGxpY2F0aW9uKHMpe3ZhciB4PXN5bWJvbChzLDQyKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7cmV0dXJuIG5vYnJlYWtub25hZGphY2VudChzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMuY3VyciksdGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1kb0Z1bmN0aW9uKHt0eXBlOlxcXCJhcnJvd1xcXCIsbG9uZUFyZzpsZWZ0fSksdGhpc30seH1mdW5jdGlvbiByZWxhdGlvbihzLGYpe3ZhciB4PXN5bWJvbChzLDEwMCk7cmV0dXJuIHgubGVkPWZ1bmN0aW9uKGxlZnQpe25vYnJlYWtub25hZGphY2VudChzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMuY3VyciksdGhpcy5sZWZ0PWxlZnQ7dmFyIHJpZ2h0PXRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxMDApO3JldHVybiBpc0lkZW50aWZpZXIobGVmdCxcXFwiTmFOXFxcIil8fGlzSWRlbnRpZmllcihyaWdodCxcXFwiTmFOXFxcIik/d2FybmluZyhcXFwiVzAxOVxcXCIsdGhpcyk6ZiYmZi5hcHBseSh0aGlzLFtsZWZ0LHJpZ2h0XSksbGVmdCYmcmlnaHR8fHF1aXQoXFxcIkUwNDFcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUpLFxcXCIhXFxcIj09PWxlZnQuaWQmJndhcm5pbmcoXFxcIlcwMThcXFwiLGxlZnQsXFxcIiFcXFwiKSxcXFwiIVxcXCI9PT1yaWdodC5pZCYmd2FybmluZyhcXFwiVzAxOFxcXCIscmlnaHQsXFxcIiFcXFwiKSx0aGlzfSx4fWZ1bmN0aW9uIGlzUG9vclJlbGF0aW9uKG5vZGUpe3JldHVybiBub2RlJiYoXFxcIihudW1iZXIpXFxcIj09PW5vZGUudHlwZSYmMD09PStub2RlLnZhbHVlfHxcXFwiKHN0cmluZylcXFwiPT09bm9kZS50eXBlJiZcXFwiXFxcIj09PW5vZGUudmFsdWV8fFxcXCJudWxsXFxcIj09PW5vZGUudHlwZSYmIXN0YXRlLm9wdGlvbi5lcW51bGx8fFxcXCJ0cnVlXFxcIj09PW5vZGUudHlwZXx8XFxcImZhbHNlXFxcIj09PW5vZGUudHlwZXx8XFxcInVuZGVmaW5lZFxcXCI9PT1ub2RlLnR5cGUpfWZ1bmN0aW9uIGlzVHlwb1R5cGVvZihsZWZ0LHJpZ2h0LHN0YXRlKXt2YXIgdmFsdWVzO3JldHVybiBzdGF0ZS5vcHRpb24ubm90eXBlb2Y/ITE6bGVmdCYmcmlnaHQ/KHZhbHVlcz1zdGF0ZS5pbkVTNigpP3R5cGVvZlZhbHVlcy5lczY6dHlwZW9mVmFsdWVzLmVzMyxcXFwiKGlkZW50aWZpZXIpXFxcIj09PXJpZ2h0LnR5cGUmJlxcXCJ0eXBlb2ZcXFwiPT09cmlnaHQudmFsdWUmJlxcXCIoc3RyaW5nKVxcXCI9PT1sZWZ0LnR5cGU/IV8uY29udGFpbnModmFsdWVzLGxlZnQudmFsdWUpOiExKTohMX1mdW5jdGlvbiBpc0dsb2JhbEV2YWwobGVmdCxzdGF0ZSl7dmFyIGlzR2xvYmFsPSExO3JldHVyblxcXCJ0aGlzXFxcIj09PWxlZnQudHlwZSYmbnVsbD09PXN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXT9pc0dsb2JhbD0hMDpcXFwiKGlkZW50aWZpZXIpXFxcIj09PWxlZnQudHlwZSYmKHN0YXRlLm9wdGlvbi5ub2RlJiZcXFwiZ2xvYmFsXFxcIj09PWxlZnQudmFsdWU/aXNHbG9iYWw9ITA6IXN0YXRlLm9wdGlvbi5icm93c2VyfHxcXFwid2luZG93XFxcIiE9PWxlZnQudmFsdWUmJlxcXCJkb2N1bWVudFxcXCIhPT1sZWZ0LnZhbHVlfHwoaXNHbG9iYWw9ITApKSxpc0dsb2JhbH1mdW5jdGlvbiBmaW5kTmF0aXZlUHJvdG90eXBlKGxlZnQpe2Z1bmN0aW9uIHdhbGtQcm90b3R5cGUob2JqKXtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIG9iaj9cXFwicHJvdG90eXBlXFxcIj09PW9iai5yaWdodD9vYmo6d2Fsa1Byb3RvdHlwZShvYmoubGVmdCk6dm9pZCAwfWZ1bmN0aW9uIHdhbGtOYXRpdmUob2JqKXtmb3IoOyFvYmouaWRlbnRpZmllciYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBvYmoubGVmdDspb2JqPW9iai5sZWZ0O3JldHVybiBvYmouaWRlbnRpZmllciYmbmF0aXZlcy5pbmRleE9mKG9iai52YWx1ZSk+PTA/b2JqLnZhbHVlOnZvaWQgMH12YXIgbmF0aXZlcz1bXFxcIkFycmF5XFxcIixcXFwiQXJyYXlCdWZmZXJcXFwiLFxcXCJCb29sZWFuXFxcIixcXFwiQ29sbGF0b3JcXFwiLFxcXCJEYXRhVmlld1xcXCIsXFxcIkRhdGVcXFwiLFxcXCJEYXRlVGltZUZvcm1hdFxcXCIsXFxcIkVycm9yXFxcIixcXFwiRXZhbEVycm9yXFxcIixcXFwiRmxvYXQzMkFycmF5XFxcIixcXFwiRmxvYXQ2NEFycmF5XFxcIixcXFwiRnVuY3Rpb25cXFwiLFxcXCJJbmZpbml0eVxcXCIsXFxcIkludGxcXFwiLFxcXCJJbnQxNkFycmF5XFxcIixcXFwiSW50MzJBcnJheVxcXCIsXFxcIkludDhBcnJheVxcXCIsXFxcIkl0ZXJhdG9yXFxcIixcXFwiTnVtYmVyXFxcIixcXFwiTnVtYmVyRm9ybWF0XFxcIixcXFwiT2JqZWN0XFxcIixcXFwiUmFuZ2VFcnJvclxcXCIsXFxcIlJlZmVyZW5jZUVycm9yXFxcIixcXFwiUmVnRXhwXFxcIixcXFwiU3RvcEl0ZXJhdGlvblxcXCIsXFxcIlN0cmluZ1xcXCIsXFxcIlN5bnRheEVycm9yXFxcIixcXFwiVHlwZUVycm9yXFxcIixcXFwiVWludDE2QXJyYXlcXFwiLFxcXCJVaW50MzJBcnJheVxcXCIsXFxcIlVpbnQ4QXJyYXlcXFwiLFxcXCJVaW50OENsYW1wZWRBcnJheVxcXCIsXFxcIlVSSUVycm9yXFxcIl0scHJvdG90eXBlPXdhbGtQcm90b3R5cGUobGVmdCk7cmV0dXJuIHByb3RvdHlwZT93YWxrTmF0aXZlKHByb3RvdHlwZSk6dm9pZCAwfWZ1bmN0aW9uIGNoZWNrTGVmdFNpZGVBc3NpZ24obGVmdCxhc3NpZ25Ub2tlbixvcHRpb25zKXt2YXIgYWxsb3dEZXN0cnVjdHVyaW5nPW9wdGlvbnMmJm9wdGlvbnMuYWxsb3dEZXN0cnVjdHVyaW5nO2lmKGFzc2lnblRva2VuPWFzc2lnblRva2VufHxsZWZ0LHN0YXRlLm9wdGlvbi5mcmVlemUpe3ZhciBuYXRpdmVPYmplY3Q9ZmluZE5hdGl2ZVByb3RvdHlwZShsZWZ0KTtuYXRpdmVPYmplY3QmJndhcm5pbmcoXFxcIlcxMjFcXFwiLGxlZnQsbmF0aXZlT2JqZWN0KX1yZXR1cm4gbGVmdC5pZGVudGlmaWVyJiYhbGVmdC5pc01ldGFQcm9wZXJ0eSYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay5yZWFzc2lnbihsZWZ0LnZhbHVlLGxlZnQpLFxcXCIuXFxcIj09PWxlZnQuaWQ/KCghbGVmdC5sZWZ0fHxcXFwiYXJndW1lbnRzXFxcIj09PWxlZnQubGVmdC52YWx1ZSYmIXN0YXRlLmlzU3RyaWN0KCkpJiZ3YXJuaW5nKFxcXCJFMDMxXFxcIixhc3NpZ25Ub2tlbiksc3RhdGUubmFtZVN0YWNrLnNldChzdGF0ZS50b2tlbnMucHJldiksITApOlxcXCJ7XFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWQ/KGFsbG93RGVzdHJ1Y3R1cmluZyYmc3RhdGUudG9rZW5zLmN1cnIubGVmdC5kZXN0cnVjdEFzc2lnbj9zdGF0ZS50b2tlbnMuY3Vyci5sZWZ0LmRlc3RydWN0QXNzaWduLmZvckVhY2goZnVuY3Rpb24odCl7dC5pZCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay5tb2RpZnkodC5pZCx0LnRva2VuKX0pOlxcXCJ7XFxcIiE9PWxlZnQuaWQmJmxlZnQubGVmdD9cXFwiYXJndW1lbnRzXFxcIiE9PWxlZnQubGVmdC52YWx1ZXx8c3RhdGUuaXNTdHJpY3QoKXx8d2FybmluZyhcXFwiRTAzMVxcXCIsYXNzaWduVG9rZW4pOndhcm5pbmcoXFxcIkUwMzFcXFwiLGFzc2lnblRva2VuKSxcXFwiW1xcXCI9PT1sZWZ0LmlkJiZzdGF0ZS5uYW1lU3RhY2suc2V0KGxlZnQucmlnaHQpLCEwKTpsZWZ0LmlzTWV0YVByb3BlcnR5PyhlcnJvcihcXFwiRTAzMVxcXCIsYXNzaWduVG9rZW4pLCEwKTpsZWZ0LmlkZW50aWZpZXImJiFpc1Jlc2VydmVkKGxlZnQpPyhcXFwiZXhjZXB0aW9uXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0ubGFiZWx0eXBlKGxlZnQudmFsdWUpJiZ3YXJuaW5nKFxcXCJXMDIyXFxcIixsZWZ0KSxzdGF0ZS5uYW1lU3RhY2suc2V0KGxlZnQpLCEwKToobGVmdD09PXN0YXRlLnN5bnRheFtcXFwiZnVuY3Rpb25cXFwiXSYmd2FybmluZyhcXFwiVzAyM1xcXCIsc3RhdGUudG9rZW5zLmN1cnIpLCExKX1mdW5jdGlvbiBhc3NpZ25vcChzLGYscCl7dmFyIHg9aW5maXgocyxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKGxlZnQsdGhhdCl7cmV0dXJuIHRoYXQubGVmdD1sZWZ0LGxlZnQmJmNoZWNrTGVmdFNpZGVBc3NpZ24obGVmdCx0aGF0LHthbGxvd0Rlc3RydWN0dXJpbmc6ITB9KT8odGhhdC5yaWdodD1leHByZXNzaW9uKDEwKSx0aGF0KTooZXJyb3IoXFxcIkUwMzFcXFwiLHRoYXQpLHZvaWQgMCl9LHApO3JldHVybiB4LmV4cHM9ITAseC5hc3NpZ249ITAseH1mdW5jdGlvbiBiaXR3aXNlKHMsZixwKXt2YXIgeD1zeW1ib2wocyxwKTtyZXR1cm4gcmVzZXJ2ZU5hbWUoeCkseC5sZWQ9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGY/ZjpmdW5jdGlvbihsZWZ0KXtyZXR1cm4gc3RhdGUub3B0aW9uLmJpdHdpc2UmJndhcm5pbmcoXFxcIlcwMTZcXFwiLHRoaXMsdGhpcy5pZCksdGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1leHByZXNzaW9uKHApLHRoaXN9LHh9ZnVuY3Rpb24gYml0d2lzZWFzc2lnbm9wKHMpe3JldHVybiBhc3NpZ25vcChzLGZ1bmN0aW9uKGxlZnQsdGhhdCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5iaXR3aXNlJiZ3YXJuaW5nKFxcXCJXMDE2XFxcIix0aGF0LHRoYXQuaWQpLGxlZnQmJmNoZWNrTGVmdFNpZGVBc3NpZ24obGVmdCx0aGF0KT8odGhhdC5yaWdodD1leHByZXNzaW9uKDEwKSx0aGF0KTooZXJyb3IoXFxcIkUwMzFcXFwiLHRoYXQpLHZvaWQgMCl9LDIwKX1mdW5jdGlvbiBzdWZmaXgocyl7dmFyIHg9c3ltYm9sKHMsMTUwKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5wbHVzcGx1cz93YXJuaW5nKFxcXCJXMDE2XFxcIix0aGlzLHRoaXMuaWQpOmxlZnQuaWRlbnRpZmllciYmIWlzUmVzZXJ2ZWQobGVmdCl8fFxcXCIuXFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWR8fHdhcm5pbmcoXFxcIlcwMTdcXFwiLHRoaXMpLGxlZnQuaXNNZXRhUHJvcGVydHk/ZXJyb3IoXFxcIkUwMzFcXFwiLHRoaXMpOmxlZnQmJmxlZnQuaWRlbnRpZmllciYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay5tb2RpZnkobGVmdC52YWx1ZSxsZWZ0KSx0aGlzLmxlZnQ9bGVmdCx0aGlzfSx4fWZ1bmN0aW9uIG9wdGlvbmFsaWRlbnRpZmllcihmbnBhcmFtLHByb3AscHJlc2VydmUpe2lmKHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXIpe3ByZXNlcnZlfHxhZHZhbmNlKCk7dmFyIGN1cnI9c3RhdGUudG9rZW5zLmN1cnIsdmFsPXN0YXRlLnRva2Vucy5jdXJyLnZhbHVlO3JldHVybiBpc1Jlc2VydmVkKGN1cnIpP3Byb3AmJnN0YXRlLmluRVM1KCk/dmFsOmZucGFyYW0mJlxcXCJ1bmRlZmluZWRcXFwiPT09dmFsP3ZhbDood2FybmluZyhcXFwiVzAyNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLmN1cnIuaWQpLHZhbCk6dmFsfX1mdW5jdGlvbiBpZGVudGlmaWVyKGZucGFyYW0scHJvcCl7dmFyIGk9b3B0aW9uYWxpZGVudGlmaWVyKGZucGFyYW0scHJvcCwhMSk7aWYoaSlyZXR1cm4gaTtpZihcXFwiLi4uXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtpZihzdGF0ZS5pbkVTNighMCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJzcHJlYWQvcmVzdCBvcGVyYXRvclxcXCIsXFxcIjZcXFwiKSxhZHZhbmNlKCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIuLi5cXFwiKSlmb3Iod2FybmluZyhcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIi4uLlxcXCIpO2NoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIik7KWFkdmFuY2UoKTtyZXR1cm4gc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcj9pZGVudGlmaWVyKGZucGFyYW0scHJvcCk6KHdhcm5pbmcoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCIuLi5cXFwiKSx2b2lkIDApfWVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksXFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJmFkdmFuY2UoKX1mdW5jdGlvbiByZWFjaGFibGUoY29udHJvbFRva2VuKXt2YXIgdCxpPTA7aWYoXFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJiFjb250cm9sVG9rZW4uaW5CcmFjZWxlc3NCbG9jaylmb3IoOzspe2RvIHQ9cGVlayhpKSxpKz0xO3doaWxlKFxcXCIoZW5kKVxcXCIhPT10LmlkJiZcXFwiKGNvbW1lbnQpXFxcIj09PXQuaWQpO2lmKHQucmVhY2gpcmV0dXJuO2lmKFxcXCIoZW5kbGluZSlcXFwiIT09dC5pZCl7aWYoXFxcImZ1bmN0aW9uXFxcIj09PXQuaWQpe3N0YXRlLm9wdGlvbi5sYXRlZGVmPT09ITAmJndhcm5pbmcoXFxcIlcwMjZcXFwiLHQpO2JyZWFrfXdhcm5pbmcoXFxcIlcwMjdcXFwiLHQsdC52YWx1ZSxjb250cm9sVG9rZW4udmFsdWUpO2JyZWFrfX19ZnVuY3Rpb24gcGFyc2VGaW5hbFNlbWljb2xvbigpe2lmKFxcXCI7XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKXtpZihzdGF0ZS50b2tlbnMubmV4dC5pc1VuY2xvc2VkKXJldHVybiBhZHZhbmNlKCk7dmFyIHNhbWVMaW5lPXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCk9PT1zdGF0ZS50b2tlbnMuY3Vyci5saW5lJiZcXFwiKGVuZClcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQsYmxvY2tFbmQ9Y2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIik7c2FtZUxpbmUmJiFibG9ja0VuZD9lcnJvckF0KFxcXCJFMDU4XFxcIixzdGF0ZS50b2tlbnMuY3Vyci5saW5lLHN0YXRlLnRva2Vucy5jdXJyLmNoYXJhY3Rlcik6c3RhdGUub3B0aW9uLmFzaXx8KGJsb2NrRW5kJiYhc3RhdGUub3B0aW9uLmxhc3RzZW1pY3x8IXNhbWVMaW5lKSYmd2FybmluZ0F0KFxcXCJXMDMzXFxcIixzdGF0ZS50b2tlbnMuY3Vyci5saW5lLHN0YXRlLnRva2Vucy5jdXJyLmNoYXJhY3Rlcil9ZWxzZSBhZHZhbmNlKFxcXCI7XFxcIil9ZnVuY3Rpb24gc3RhdGVtZW50KCl7dmFyIHIsaT1pbmRlbnQsdD1zdGF0ZS50b2tlbnMubmV4dCxoYXNPd25TY29wZT0hMTtpZihcXFwiO1xcXCI9PT10LmlkKXJldHVybiBhZHZhbmNlKFxcXCI7XFxcIiksdm9pZCAwO3ZhciByZXM9aXNSZXNlcnZlZCh0KTtpZihyZXMmJnQubWV0YSYmdC5tZXRhLmlzRnV0dXJlUmVzZXJ2ZWRXb3JkJiZcXFwiOlxcXCI9PT1wZWVrKCkuaWQmJih3YXJuaW5nKFxcXCJXMDI0XFxcIix0LHQuaWQpLHJlcz0hMSksdC5pZGVudGlmaWVyJiYhcmVzJiZcXFwiOlxcXCI9PT1wZWVrKCkuaWQmJihhZHZhbmNlKCksYWR2YW5jZShcXFwiOlxcXCIpLGhhc093blNjb3BlPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmFkZEJyZWFrTGFiZWwodC52YWx1ZSx7dG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSxzdGF0ZS50b2tlbnMubmV4dC5sYWJlbGxlZHx8XFxcIntcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWV8fHdhcm5pbmcoXFxcIlcwMjhcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHQudmFsdWUsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHN0YXRlLnRva2Vucy5uZXh0LmxhYmVsPXQudmFsdWUsdD1zdGF0ZS50b2tlbnMubmV4dCksXFxcIntcXFwiPT09dC5pZCl7dmFyIGlzY2FzZT1cXFwiY2FzZVxcXCI9PT1zdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0mJlxcXCI6XFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLnZhbHVlO3JldHVybiBibG9jayghMCwhMCwhMSwhMSxpc2Nhc2UpLHZvaWQgMH1yZXR1cm4gcj1leHByZXNzaW9uKDAsITApLCFyfHxyLmlkZW50aWZpZXImJlxcXCJmdW5jdGlvblxcXCI9PT1yLnZhbHVlfHxcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXIudHlwZSYmci5sZWZ0JiZyLmxlZnQuaWRlbnRpZmllciYmXFxcImZ1bmN0aW9uXFxcIj09PXIubGVmdC52YWx1ZXx8c3RhdGUuaXNTdHJpY3QoKXx8XFxcImdsb2JhbFxcXCIhPT1zdGF0ZS5vcHRpb24uc3RyaWN0fHx3YXJuaW5nKFxcXCJFMDA3XFxcIiksdC5ibG9ja3x8KHN0YXRlLm9wdGlvbi5leHByfHxyJiZyLmV4cHM/c3RhdGUub3B0aW9uLm5vbmV3JiZyJiZyLmxlZnQmJlxcXCIoXFxcIj09PXIuaWQmJlxcXCJuZXdcXFwiPT09ci5sZWZ0LmlkJiZ3YXJuaW5nKFxcXCJXMDMxXFxcIix0KTp3YXJuaW5nKFxcXCJXMDMwXFxcIixzdGF0ZS50b2tlbnMuY3VycikscGFyc2VGaW5hbFNlbWljb2xvbigpKSxpbmRlbnQ9aSxoYXNPd25TY29wZSYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCkscn1mdW5jdGlvbiBzdGF0ZW1lbnRzKCl7Zm9yKHZhciBwLGE9W107IXN0YXRlLnRva2Vucy5uZXh0LnJlYWNoJiZcXFwiKGVuZClcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KVxcXCI7XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhwPXBlZWsoKSwoIXB8fFxcXCIoXFxcIiE9PXAuaWQmJlxcXCJbXFxcIiE9PXAuaWQpJiZ3YXJuaW5nKFxcXCJXMDMyXFxcIiksYWR2YW5jZShcXFwiO1xcXCIpKTphLnB1c2goc3RhdGVtZW50KCkpO3JldHVybiBhfWZ1bmN0aW9uIGRpcmVjdGl2ZXMoKXtmb3IodmFyIGkscCxwbjtcXFwiKHN0cmluZylcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXtpZihwPXBlZWsoMCksXFxcIihlbmRsaW5lKVxcXCI9PT1wLmlkKXtpPTE7ZG8gcG49cGVlayhpKyspO3doaWxlKFxcXCIoZW5kbGluZSlcXFwiPT09cG4uaWQpO2lmKFxcXCI7XFxcIj09PXBuLmlkKXA9cG47ZWxzZXtpZihcXFwiW1xcXCI9PT1wbi52YWx1ZXx8XFxcIi5cXFwiPT09cG4udmFsdWUpYnJlYWs7c3RhdGUub3B0aW9uLmFzaSYmXFxcIihcXFwiIT09cG4udmFsdWV8fHdhcm5pbmcoXFxcIlcwMzNcXFwiLHN0YXRlLnRva2Vucy5uZXh0KX19ZWxzZXtpZihcXFwiLlxcXCI9PT1wLmlkfHxcXFwiW1xcXCI9PT1wLmlkKWJyZWFrO1xcXCI7XFxcIiE9PXAuaWQmJndhcm5pbmcoXFxcIlcwMzNcXFwiLHApfWFkdmFuY2UoKTt2YXIgZGlyZWN0aXZlPXN0YXRlLnRva2Vucy5jdXJyLnZhbHVlOyhzdGF0ZS5kaXJlY3RpdmVbZGlyZWN0aXZlXXx8XFxcInVzZSBzdHJpY3RcXFwiPT09ZGlyZWN0aXZlJiZcXFwiaW1wbGllZFxcXCI9PT1zdGF0ZS5vcHRpb24uc3RyaWN0KSYmd2FybmluZyhcXFwiVzAzNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsZGlyZWN0aXZlKSxzdGF0ZS5kaXJlY3RpdmVbZGlyZWN0aXZlXT0hMCxcXFwiO1xcXCI9PT1wLmlkJiZhZHZhbmNlKFxcXCI7XFxcIil9c3RhdGUuaXNTdHJpY3QoKSYmKHN0YXRlLm9wdGlvbltcXFwiKGV4cGxpY2l0TmV3Y2FwKVxcXCJdfHwoc3RhdGUub3B0aW9uLm5ld2NhcD0hMCksc3RhdGUub3B0aW9uLnVuZGVmPSEwKX1mdW5jdGlvbiBibG9jayhvcmRpbmFyeSxzdG10LGlzZnVuYyxpc2ZhdGFycm93LGlzY2FzZSl7dmFyIGEsbSx0LGxpbmUsZCxiPWluYmxvY2ssb2xkX2luZGVudD1pbmRlbnQ7aW5ibG9jaz1vcmRpbmFyeSx0PXN0YXRlLnRva2Vucy5uZXh0O3ZhciBtZXRyaWNzPXN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXTtpZihtZXRyaWNzLm5lc3RlZEJsb2NrRGVwdGgrPTEsbWV0cmljcy52ZXJpZnlNYXhOZXN0ZWRCbG9ja0RlcHRoUGVyRnVuY3Rpb24oKSxcXFwie1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCl7aWYoYWR2YW5jZShcXFwie1xcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxsaW5lPXN0YXRlLnRva2Vucy5jdXJyLmxpbmUsXFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpe2ZvcihpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQ7IW9yZGluYXJ5JiZzdGF0ZS50b2tlbnMubmV4dC5mcm9tPmluZGVudDspaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50O2lmKGlzZnVuYyl7bT17fTtmb3IoZCBpbiBzdGF0ZS5kaXJlY3RpdmUpXy5oYXMoc3RhdGUuZGlyZWN0aXZlLGQpJiYobVtkXT1zdGF0ZS5kaXJlY3RpdmVbZF0pO2RpcmVjdGl2ZXMoKSxzdGF0ZS5vcHRpb24uc3RyaWN0JiZzdGF0ZS5mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl1bXFxcIihnbG9iYWwpXFxcIl0mJihtW1xcXCJ1c2Ugc3RyaWN0XFxcIl18fHN0YXRlLmlzU3RyaWN0KCl8fHdhcm5pbmcoXFxcIkUwMDdcXFwiKSl9YT1zdGF0ZW1lbnRzKCksbWV0cmljcy5zdGF0ZW1lbnRDb3VudCs9YS5sZW5ndGgsaW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50fWFkdmFuY2UoXFxcIn1cXFwiLHQpLGlzZnVuYyYmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udmFsaWRhdGVQYXJhbXMoKSxtJiYoc3RhdGUuZGlyZWN0aXZlPW0pKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxpbmRlbnQ9b2xkX2luZGVudH1lbHNlIGlmKG9yZGluYXJ5KXN0YXRlLmZ1bmN0W1xcXCIobm9ibG9ja3Njb3BlZHZhcilcXFwiXT1cXFwiZm9yXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSwoIXN0bXR8fHN0YXRlLm9wdGlvbi5jdXJseSkmJndhcm5pbmcoXFxcIlcxMTZcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ7XFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksc3RhdGUudG9rZW5zLm5leHQuaW5CcmFjZWxlc3NCbG9jaz0hMCxpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQsYT1bc3RhdGVtZW50KCldLGluZGVudC09c3RhdGUub3B0aW9uLmluZGVudCxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxkZWxldGUgc3RhdGUuZnVuY3RbXFxcIihub2Jsb2Nrc2NvcGVkdmFyKVxcXCJdO2Vsc2UgaWYoaXNmdW5jKXtpZihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKCksbT17fSwhc3RtdHx8aXNmYXRhcnJvd3x8c3RhdGUuaW5Nb3ooKXx8ZXJyb3IoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJmdW5jdGlvbiBjbG9zdXJlIGV4cHJlc3Npb25zXFxcIiksIXN0bXQpZm9yKGQgaW4gc3RhdGUuZGlyZWN0aXZlKV8uaGFzKHN0YXRlLmRpcmVjdGl2ZSxkKSYmKG1bZF09c3RhdGUuZGlyZWN0aXZlW2RdKTtleHByZXNzaW9uKDEwKSxzdGF0ZS5vcHRpb24uc3RyaWN0JiZzdGF0ZS5mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl1bXFxcIihnbG9iYWwpXFxcIl0mJihtW1xcXCJ1c2Ugc3RyaWN0XFxcIl18fHN0YXRlLmlzU3RyaWN0KCl8fHdhcm5pbmcoXFxcIkUwMDdcXFwiKSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCl9ZWxzZSBlcnJvcihcXFwiRTAyMVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIntcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTtzd2l0Y2goc3RhdGUuZnVuY3RbXFxcIih2ZXJiKVxcXCJdKXtjYXNlXFxcImJyZWFrXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJ0aHJvd1xcXCI6aWYoaXNjYXNlKWJyZWFrO2RlZmF1bHQ6c3RhdGUuZnVuY3RbXFxcIih2ZXJiKVxcXCJdPW51bGx9cmV0dXJuIGluYmxvY2s9Yiwhb3JkaW5hcnl8fCFzdGF0ZS5vcHRpb24ubm9lbXB0eXx8YSYmMCE9PWEubGVuZ3RofHx3YXJuaW5nKFxcXCJXMDM1XFxcIixzdGF0ZS50b2tlbnMucHJldiksbWV0cmljcy5uZXN0ZWRCbG9ja0RlcHRoLT0xLGF9ZnVuY3Rpb24gY291bnRNZW1iZXIobSl7bWVtYmVyc09ubHkmJlxcXCJib29sZWFuXFxcIiE9dHlwZW9mIG1lbWJlcnNPbmx5W21dJiZ3YXJuaW5nKFxcXCJXMDM2XFxcIixzdGF0ZS50b2tlbnMuY3VycixtKSxcXFwibnVtYmVyXFxcIj09dHlwZW9mIG1lbWJlclttXT9tZW1iZXJbbV0rPTE6bWVtYmVyW21dPTF9ZnVuY3Rpb24gY29tcHJlaGVuc2l2ZUFycmF5RXhwcmVzc2lvbigpe3ZhciByZXM9e307cmVzLmV4cHM9ITAsc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc3RhY2soKTt2YXIgcmV2ZXJzZWQ9ITE7cmV0dXJuXFxcImZvclxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKHJldmVyc2VkPSEwLHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMTZcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJmb3JcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zZXRTdGF0ZShcXFwidXNlXFxcIikscmVzLnJpZ2h0PWV4cHJlc3Npb24oMTApKSxhZHZhbmNlKFxcXCJmb3JcXFwiKSxcXFwiZWFjaFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcImVhY2hcXFwiKSxzdGF0ZS5pbk1veigpfHx3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZm9yIGVhY2hcXFwiKSksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJkZWZpbmVcXFwiKSxyZXMubGVmdD1leHByZXNzaW9uKDEzMCksXy5jb250YWlucyhbXFxcImluXFxcIixcXFwib2ZcXFwiXSxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk/YWR2YW5jZSgpOmVycm9yKFxcXCJFMDQ1XFxcIixzdGF0ZS50b2tlbnMuY3Vyciksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc2V0U3RhdGUoXFxcImdlbmVyYXRlXFxcIiksZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiKVxcXCIpLFxcXCJpZlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcImlmXFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJmaWx0ZXJcXFwiKSxyZXMuZmlsdGVyPWV4cHJlc3Npb24oMTApLGFkdmFuY2UoXFxcIilcXFwiKSkscmV2ZXJzZWR8fChzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zZXRTdGF0ZShcXFwidXNlXFxcIikscmVzLnJpZ2h0PWV4cHJlc3Npb24oMTApKSxhZHZhbmNlKFxcXCJdXFxcIiksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0udW5zdGFjaygpLHJlc31mdW5jdGlvbiBpc01ldGhvZCgpe3JldHVybiBzdGF0ZS5mdW5jdFtcXFwiKHN0YXRlbWVudClcXFwiXSYmXFxcImNsYXNzXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdLnR5cGV8fHN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXSYmXFxcImNsYXNzXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKHZlcmIpXFxcIl19ZnVuY3Rpb24gaXNQcm9wZXJ0eU5hbWUodG9rZW4pe3JldHVybiB0b2tlbi5pZGVudGlmaWVyfHxcXFwiKHN0cmluZylcXFwiPT09dG9rZW4uaWR8fFxcXCIobnVtYmVyKVxcXCI9PT10b2tlbi5pZH1mdW5jdGlvbiBwcm9wZXJ0eU5hbWUocHJlc2VydmVPclRva2VuKXt2YXIgaWQscHJlc2VydmU9ITA7cmV0dXJuXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBwcmVzZXJ2ZU9yVG9rZW4/aWQ9cHJlc2VydmVPclRva2VuOihwcmVzZXJ2ZT1wcmVzZXJ2ZU9yVG9rZW4saWQ9b3B0aW9uYWxpZGVudGlmaWVyKCExLCEwLHByZXNlcnZlKSksaWQ/XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBpZCYmKFxcXCIoc3RyaW5nKVxcXCI9PT1pZC5pZHx8XFxcIihpZGVudGlmaWVyKVxcXCI9PT1pZC5pZD9pZD1pZC52YWx1ZTpcXFwiKG51bWJlcilcXFwiPT09aWQuaWQmJihpZD1cXFwiXFxcIitpZC52YWx1ZSkpOlxcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oaWQ9c3RhdGUudG9rZW5zLm5leHQudmFsdWUscHJlc2VydmV8fGFkdmFuY2UoKSk6XFxcIihudW1iZXIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYoaWQ9XFxcIlxcXCIrc3RhdGUudG9rZW5zLm5leHQudmFsdWUscHJlc2VydmV8fGFkdmFuY2UoKSksXFxcImhhc093blByb3BlcnR5XFxcIj09PWlkJiZ3YXJuaW5nKFxcXCJXMDAxXFxcIiksaWR9ZnVuY3Rpb24gZnVuY3Rpb25wYXJhbXMob3B0aW9ucyl7ZnVuY3Rpb24gYWRkUGFyYW0oYWRkUGFyYW1BcmdzKXtzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZFBhcmFtLmFwcGx5KHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0sYWRkUGFyYW1BcmdzKX12YXIgbmV4dCxpZGVudCx0LHBhcmFtc0lkcz1bXSx0b2tlbnM9W10scGFzdERlZmF1bHQ9ITEscGFzdFJlc3Q9ITEsYXJpdHk9MCxsb25lQXJnPW9wdGlvbnMmJm9wdGlvbnMubG9uZUFyZztpZihsb25lQXJnJiZsb25lQXJnLmlkZW50aWZpZXI9PT0hMClyZXR1cm4gc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRQYXJhbShsb25lQXJnLnZhbHVlLGxvbmVBcmcpLHthcml0eToxLHBhcmFtczpbbG9uZUFyZy52YWx1ZV19O2lmKG5leHQ9c3RhdGUudG9rZW5zLm5leHQsb3B0aW9ucyYmb3B0aW9ucy5wYXJzZWRPcGVuaW5nfHxhZHZhbmNlKFxcXCIoXFxcIiksXFxcIilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiKSx2b2lkIDA7Zm9yKDs7KXthcml0eSsrO3ZhciBjdXJyZW50UGFyYW1zPVtdO2lmKF8uY29udGFpbnMoW1xcXCJ7XFxcIixcXFwiW1xcXCJdLHN0YXRlLnRva2Vucy5uZXh0LmlkKSl7dG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCk7Zm9yKHQgaW4gdG9rZW5zKXQ9dG9rZW5zW3RdLHQuaWQmJihwYXJhbXNJZHMucHVzaCh0LmlkKSxjdXJyZW50UGFyYW1zLnB1c2goW3QuaWQsdC50b2tlbl0pKX1lbHNlIGlmKGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIikmJihwYXN0UmVzdD0hMCksaWRlbnQ9aWRlbnRpZmllcighMCkpcGFyYW1zSWRzLnB1c2goaWRlbnQpLGN1cnJlbnRQYXJhbXMucHVzaChbaWRlbnQsc3RhdGUudG9rZW5zLmN1cnJdKTtlbHNlIGZvcig7IWNoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLm5leHQsW1xcXCIsXFxcIixcXFwiKVxcXCJdKTspYWR2YW5jZSgpO2lmKHBhc3REZWZhdWx0JiZcXFwiPVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmZXJyb3IoXFxcIlcxMzhcXFwiLHN0YXRlLnRva2Vucy5jdXJyZW50KSxcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJkZWZhdWx0IHBhcmFtZXRlcnNcXFwiLFxcXCI2XFxcIiksYWR2YW5jZShcXFwiPVxcXCIpLHBhc3REZWZhdWx0PSEwLGV4cHJlc3Npb24oMTApKSxjdXJyZW50UGFyYW1zLmZvckVhY2goYWRkUGFyYW0pLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKXJldHVybiBhZHZhbmNlKFxcXCIpXFxcIixuZXh0KSx7YXJpdHk6YXJpdHkscGFyYW1zOnBhcmFtc0lkc307cGFzdFJlc3QmJndhcm5pbmcoXFxcIlcxMzFcXFwiLHN0YXRlLnRva2Vucy5uZXh0KSxjb21tYSgpfX1mdW5jdGlvbiBmdW5jdG9yKG5hbWUsdG9rZW4sb3ZlcndyaXRlcyl7dmFyIGZ1bmN0PXtcXFwiKG5hbWUpXFxcIjpuYW1lLFxcXCIoYnJlYWthZ2UpXFxcIjowLFxcXCIobG9vcGFnZSlcXFwiOjAsXFxcIih0b2tlbnMpXFxcIjp7fSxcXFwiKHByb3BlcnRpZXMpXFxcIjp7fSxcXFwiKGNhdGNoKVxcXCI6ITEsXFxcIihnbG9iYWwpXFxcIjohMSxcXFwiKGxpbmUpXFxcIjpudWxsLFxcXCIoY2hhcmFjdGVyKVxcXCI6bnVsbCxcXFwiKG1ldHJpY3MpXFxcIjpudWxsLFxcXCIoc3RhdGVtZW50KVxcXCI6bnVsbCxcXFwiKGNvbnRleHQpXFxcIjpudWxsLFxcXCIoc2NvcGUpXFxcIjpudWxsLFxcXCIoY29tcGFycmF5KVxcXCI6bnVsbCxcXFwiKGdlbmVyYXRvcilcXFwiOm51bGwsXFxcIihhcnJvdylcXFwiOm51bGwsXFxcIihwYXJhbXMpXFxcIjpudWxsfTtyZXR1cm4gdG9rZW4mJl8uZXh0ZW5kKGZ1bmN0LHtcXFwiKGxpbmUpXFxcIjp0b2tlbi5saW5lLFxcXCIoY2hhcmFjdGVyKVxcXCI6dG9rZW4uY2hhcmFjdGVyLFxcXCIobWV0cmljcylcXFwiOmNyZWF0ZU1ldHJpY3ModG9rZW4pfSksXy5leHRlbmQoZnVuY3Qsb3ZlcndyaXRlcyksZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdJiYoZnVuY3RbXFxcIihzY29wZSlcXFwiXT1mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl1bXFxcIihzY29wZSlcXFwiXSxmdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXT1mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl1bXFxcIihjb21wYXJyYXkpXFxcIl0pLGZ1bmN0fWZ1bmN0aW9uIGlzRnVuY3Rvcih0b2tlbil7cmV0dXJuXFxcIihzY29wZSlcXFwiaW4gdG9rZW59ZnVuY3Rpb24gaGFzUGFyc2VkQ29kZShmdW5jdCl7cmV0dXJuIGZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiYhZnVuY3RbXFxcIih2ZXJiKVxcXCJdfWZ1bmN0aW9uIGRvVGVtcGxhdGVMaXRlcmFsKGxlZnQpe2Z1bmN0aW9uIGVuZCgpe2lmKHN0YXRlLnRva2Vucy5jdXJyLnRlbXBsYXRlJiZzdGF0ZS50b2tlbnMuY3Vyci50YWlsJiZzdGF0ZS50b2tlbnMuY3Vyci5jb250ZXh0PT09Y3R4KXJldHVybiEwO3ZhciBjb21wbGV0ZT1zdGF0ZS50b2tlbnMubmV4dC50ZW1wbGF0ZSYmc3RhdGUudG9rZW5zLm5leHQudGFpbCYmc3RhdGUudG9rZW5zLm5leHQuY29udGV4dD09PWN0eDtyZXR1cm4gY29tcGxldGUmJmFkdmFuY2UoKSxjb21wbGV0ZXx8c3RhdGUudG9rZW5zLm5leHQuaXNVbmNsb3NlZH12YXIgY3R4PXRoaXMuY29udGV4dCxub1N1YnN0PXRoaXMubm9TdWJzdCxkZXB0aD10aGlzLmRlcHRoO2lmKCFub1N1YnN0KWZvcig7IWVuZCgpOykhc3RhdGUudG9rZW5zLm5leHQudGVtcGxhdGV8fHN0YXRlLnRva2Vucy5uZXh0LmRlcHRoPmRlcHRoP2V4cHJlc3Npb24oMCk6YWR2YW5jZSgpO3JldHVybntpZDpcXFwiKHRlbXBsYXRlKVxcXCIsdHlwZTpcXFwiKHRlbXBsYXRlKVxcXCIsdGFnOmxlZnR9fWZ1bmN0aW9uIGRvRnVuY3Rpb24ob3B0aW9ucyl7dmFyIGYsdG9rZW4sbmFtZSxzdGF0ZW1lbnQsY2xhc3NFeHByQmluZGluZyxpc0dlbmVyYXRvcixpc0Fycm93LGlnbm9yZUxvb3BGdW5jLG9sZE9wdGlvbj1zdGF0ZS5vcHRpb24sb2xkSWdub3JlZD1zdGF0ZS5pZ25vcmVkO29wdGlvbnMmJihuYW1lPW9wdGlvbnMubmFtZSxzdGF0ZW1lbnQ9b3B0aW9ucy5zdGF0ZW1lbnQsY2xhc3NFeHByQmluZGluZz1vcHRpb25zLmNsYXNzRXhwckJpbmRpbmcsaXNHZW5lcmF0b3I9XFxcImdlbmVyYXRvclxcXCI9PT1vcHRpb25zLnR5cGUsaXNBcnJvdz1cXFwiYXJyb3dcXFwiPT09b3B0aW9ucy50eXBlLGlnbm9yZUxvb3BGdW5jPW9wdGlvbnMuaWdub3JlTG9vcEZ1bmMpLHN0YXRlLm9wdGlvbj1PYmplY3QuY3JlYXRlKHN0YXRlLm9wdGlvbiksc3RhdGUuaWdub3JlZD1PYmplY3QuY3JlYXRlKHN0YXRlLmlnbm9yZWQpLHN0YXRlLmZ1bmN0PWZ1bmN0b3IobmFtZXx8c3RhdGUubmFtZVN0YWNrLmluZmVyKCksc3RhdGUudG9rZW5zLm5leHQse1xcXCIoc3RhdGVtZW50KVxcXCI6c3RhdGVtZW50LFxcXCIoY29udGV4dClcXFwiOnN0YXRlLmZ1bmN0LFxcXCIoYXJyb3cpXFxcIjppc0Fycm93LFxcXCIoZ2VuZXJhdG9yKVxcXCI6aXNHZW5lcmF0b3J9KSxmPXN0YXRlLmZ1bmN0LHRva2VuPXN0YXRlLnRva2Vucy5jdXJyLHRva2VuLmZ1bmN0PXN0YXRlLmZ1bmN0LGZ1bmN0aW9ucy5wdXNoKHN0YXRlLmZ1bmN0KSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKFxcXCJmdW5jdGlvbm91dGVyXFxcIik7dmFyIGludGVybmFsbHlBY2Nlc3NpYmxlTmFtZT1uYW1lfHxjbGFzc0V4cHJCaW5kaW5nO2ludGVybmFsbHlBY2Nlc3NpYmxlTmFtZSYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay5hZGQoaW50ZXJuYWxseUFjY2Vzc2libGVOYW1lLGNsYXNzRXhwckJpbmRpbmc/XFxcImNsYXNzXFxcIjpcXFwiZnVuY3Rpb25cXFwiLHN0YXRlLnRva2Vucy5jdXJyLCExKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKFxcXCJmdW5jdGlvbnBhcmFtc1xcXCIpO3ZhciBwYXJhbXNJbmZvPWZ1bmN0aW9ucGFyYW1zKG9wdGlvbnMpO3JldHVybiBwYXJhbXNJbmZvPyhzdGF0ZS5mdW5jdFtcXFwiKHBhcmFtcylcXFwiXT1wYXJhbXNJbmZvLnBhcmFtcyxzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0uYXJpdHk9cGFyYW1zSW5mby5hcml0eSxzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0udmVyaWZ5TWF4UGFyYW1ldGVyc1BlckZ1bmN0aW9uKCkpOnN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS5hcml0eT0wLGlzQXJyb3cmJihzdGF0ZS5pbkVTNighMCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJhcnJvdyBmdW5jdGlvbiBzeW50YXggKD0+KVxcXCIsXFxcIjZcXFwiKSxvcHRpb25zLmxvbmVBcmd8fGFkdmFuY2UoXFxcIj0+XFxcIikpLGJsb2NrKCExLCEwLCEwLGlzQXJyb3cpLCFzdGF0ZS5vcHRpb24ubm95aWVsZCYmaXNHZW5lcmF0b3ImJlxcXCJ5aWVsZGVkXFxcIiE9PXN0YXRlLmZ1bmN0W1xcXCIoZ2VuZXJhdG9yKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMTI0XFxcIixzdGF0ZS50b2tlbnMuY3Vyciksc3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLnZlcmlmeU1heFN0YXRlbWVudHNQZXJGdW5jdGlvbigpLHN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS52ZXJpZnlNYXhDb21wbGV4aXR5UGVyRnVuY3Rpb24oKSxzdGF0ZS5mdW5jdFtcXFwiKHVudXNlZE9wdGlvbilcXFwiXT1zdGF0ZS5vcHRpb24udW51c2VkLHN0YXRlLm9wdGlvbj1vbGRPcHRpb24sc3RhdGUuaWdub3JlZD1vbGRJZ25vcmVkLHN0YXRlLmZ1bmN0W1xcXCIobGFzdClcXFwiXT1zdGF0ZS50b2tlbnMuY3Vyci5saW5lLHN0YXRlLmZ1bmN0W1xcXCIobGFzdGNoYXJhY3RlcilcXFwiXT1zdGF0ZS50b2tlbnMuY3Vyci5jaGFyYWN0ZXIsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksc3RhdGUuZnVuY3Q9c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdLGlnbm9yZUxvb3BGdW5jfHxzdGF0ZS5vcHRpb24ubG9vcGZ1bmN8fCFzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl18fGZbXFxcIihpc0NhcHR1cmluZylcXFwiXSYmd2FybmluZyhcXFwiVzA4M1xcXCIsdG9rZW4pLGZ9ZnVuY3Rpb24gY3JlYXRlTWV0cmljcyhmdW5jdGlvblN0YXJ0VG9rZW4pe3JldHVybntzdGF0ZW1lbnRDb3VudDowLG5lc3RlZEJsb2NrRGVwdGg6LTEsQ29tcGxleGl0eUNvdW50OjEsYXJpdHk6MCx2ZXJpZnlNYXhTdGF0ZW1lbnRzUGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtzdGF0ZS5vcHRpb24ubWF4c3RhdGVtZW50cyYmdGhpcy5zdGF0ZW1lbnRDb3VudD5zdGF0ZS5vcHRpb24ubWF4c3RhdGVtZW50cyYmd2FybmluZyhcXFwiVzA3MVxcXCIsZnVuY3Rpb25TdGFydFRva2VuLHRoaXMuc3RhdGVtZW50Q291bnQpXFxufSx2ZXJpZnlNYXhQYXJhbWV0ZXJzUGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtfLmlzTnVtYmVyKHN0YXRlLm9wdGlvbi5tYXhwYXJhbXMpJiZ0aGlzLmFyaXR5PnN0YXRlLm9wdGlvbi5tYXhwYXJhbXMmJndhcm5pbmcoXFxcIlcwNzJcXFwiLGZ1bmN0aW9uU3RhcnRUb2tlbix0aGlzLmFyaXR5KX0sdmVyaWZ5TWF4TmVzdGVkQmxvY2tEZXB0aFBlckZ1bmN0aW9uOmZ1bmN0aW9uKCl7c3RhdGUub3B0aW9uLm1heGRlcHRoJiZ0aGlzLm5lc3RlZEJsb2NrRGVwdGg+MCYmdGhpcy5uZXN0ZWRCbG9ja0RlcHRoPT09c3RhdGUub3B0aW9uLm1heGRlcHRoKzEmJndhcm5pbmcoXFxcIlcwNzNcXFwiLG51bGwsdGhpcy5uZXN0ZWRCbG9ja0RlcHRoKX0sdmVyaWZ5TWF4Q29tcGxleGl0eVBlckZ1bmN0aW9uOmZ1bmN0aW9uKCl7dmFyIG1heD1zdGF0ZS5vcHRpb24ubWF4Y29tcGxleGl0eSxjYz10aGlzLkNvbXBsZXhpdHlDb3VudDttYXgmJmNjPm1heCYmd2FybmluZyhcXFwiVzA3NFxcXCIsZnVuY3Rpb25TdGFydFRva2VuLGNjKX19fWZ1bmN0aW9uIGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCl7c3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLkNvbXBsZXhpdHlDb3VudCs9MX1mdW5jdGlvbiBjaGVja0NvbmRBc3NpZ25tZW50KGV4cHIpe3ZhciBpZCxwYXJlbjtzd2l0Y2goZXhwciYmKGlkPWV4cHIuaWQscGFyZW49ZXhwci5wYXJlbixcXFwiLFxcXCI9PT1pZCYmKGV4cHI9ZXhwci5leHByc1tleHByLmV4cHJzLmxlbmd0aC0xXSkmJihpZD1leHByLmlkLHBhcmVuPXBhcmVufHxleHByLnBhcmVuKSksaWQpe2Nhc2VcXFwiPVxcXCI6Y2FzZVxcXCIrPVxcXCI6Y2FzZVxcXCItPVxcXCI6Y2FzZVxcXCIqPVxcXCI6Y2FzZVxcXCIlPVxcXCI6Y2FzZVxcXCImPVxcXCI6Y2FzZVxcXCJ8PVxcXCI6Y2FzZVxcXCJePVxcXCI6Y2FzZVxcXCIvPVxcXCI6cGFyZW58fHN0YXRlLm9wdGlvbi5ib3NzfHx3YXJuaW5nKFxcXCJXMDg0XFxcIil9fWZ1bmN0aW9uIGNoZWNrUHJvcGVydGllcyhwcm9wcyl7aWYoc3RhdGUuaW5FUzUoKSlmb3IodmFyIG5hbWUgaW4gcHJvcHMpcHJvcHNbbmFtZV0mJnByb3BzW25hbWVdLnNldHRlclRva2VuJiYhcHJvcHNbbmFtZV0uZ2V0dGVyVG9rZW4mJndhcm5pbmcoXFxcIlcwNzhcXFwiLHByb3BzW25hbWVdLnNldHRlclRva2VuKX1mdW5jdGlvbiBtZXRhUHJvcGVydHkobmFtZSxjKXtpZihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIi5cXFwiKSl7dmFyIGxlZnQ9c3RhdGUudG9rZW5zLmN1cnIuaWQ7YWR2YW5jZShcXFwiLlxcXCIpO3ZhciBpZD1pZGVudGlmaWVyKCk7cmV0dXJuIHN0YXRlLnRva2Vucy5jdXJyLmlzTWV0YVByb3BlcnR5PSEwLG5hbWUhPT1pZD9lcnJvcihcXFwiRTA1N1xcXCIsc3RhdGUudG9rZW5zLnByZXYsbGVmdCxpZCk6YygpLHN0YXRlLnRva2Vucy5jdXJyfX1mdW5jdGlvbiBkZXN0cnVjdHVyaW5nUGF0dGVybihvcHRpb25zKXt2YXIgaXNBc3NpZ25tZW50PW9wdGlvbnMmJm9wdGlvbnMuYXNzaWdubWVudDtyZXR1cm4gc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsaXNBc3NpZ25tZW50P1xcXCJkZXN0cnVjdHVyaW5nIGFzc2lnbm1lbnRcXFwiOlxcXCJkZXN0cnVjdHVyaW5nIGJpbmRpbmdcXFwiLFxcXCI2XFxcIiksZGVzdHJ1Y3R1cmluZ1BhdHRlcm5SZWN1cnNpdmUob3B0aW9ucyl9ZnVuY3Rpb24gZGVzdHJ1Y3R1cmluZ1BhdHRlcm5SZWN1cnNpdmUob3B0aW9ucyl7dmFyIGlkcyxpZGVudGlmaWVycz1bXSxvcGVuaW5nUGFyc2VkPW9wdGlvbnMmJm9wdGlvbnMub3BlbmluZ1BhcnNlZCxpc0Fzc2lnbm1lbnQ9b3B0aW9ucyYmb3B0aW9ucy5hc3NpZ25tZW50LHJlY3Vyc2l2ZU9wdGlvbnM9aXNBc3NpZ25tZW50P3thc3NpZ25tZW50OmlzQXNzaWdubWVudH06bnVsbCxmaXJzdFRva2VuPW9wZW5pbmdQYXJzZWQ/c3RhdGUudG9rZW5zLmN1cnI6c3RhdGUudG9rZW5zLm5leHQsbmV4dElubmVyREU9ZnVuY3Rpb24oKXt2YXIgaWRlbnQ7aWYoY2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIltcXFwiLFxcXCJ7XFxcIl0pKXtpZHM9ZGVzdHJ1Y3R1cmluZ1BhdHRlcm5SZWN1cnNpdmUocmVjdXJzaXZlT3B0aW9ucyk7Zm9yKHZhciBpZCBpbiBpZHMpaWQ9aWRzW2lkXSxpZGVudGlmaWVycy5wdXNoKHtpZDppZC5pZCx0b2tlbjppZC50b2tlbn0pfWVsc2UgaWYoY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIsXFxcIikpaWRlbnRpZmllcnMucHVzaCh7aWQ6bnVsbCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pO2Vsc2V7aWYoIWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiKFxcXCIpKXt2YXIgaXNfcmVzdD1jaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIi4uLlxcXCIpO2lmKGlzQXNzaWdubWVudCl7dmFyIGlkZW50aWZpZXJUb2tlbj1pc19yZXN0P3BlZWsoMCk6c3RhdGUudG9rZW5zLm5leHQ7aWRlbnRpZmllclRva2VuLmlkZW50aWZpZXJ8fHdhcm5pbmcoXFxcIkUwMzBcXFwiLGlkZW50aWZpZXJUb2tlbixpZGVudGlmaWVyVG9rZW4udmFsdWUpO3ZhciBhc3NpZ25UYXJnZXQ9ZXhwcmVzc2lvbigxNTUpO2Fzc2lnblRhcmdldCYmKGNoZWNrTGVmdFNpZGVBc3NpZ24oYXNzaWduVGFyZ2V0KSxhc3NpZ25UYXJnZXQuaWRlbnRpZmllciYmKGlkZW50PWFzc2lnblRhcmdldC52YWx1ZSkpfWVsc2UgaWRlbnQ9aWRlbnRpZmllcigpO3JldHVybiBpZGVudCYmaWRlbnRpZmllcnMucHVzaCh7aWQ6aWRlbnQsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSxpc19yZXN0fWFkdmFuY2UoXFxcIihcXFwiKSxuZXh0SW5uZXJERSgpLGFkdmFuY2UoXFxcIilcXFwiKX1yZXR1cm4hMX0sYXNzaWdubWVudFByb3BlcnR5PWZ1bmN0aW9uKCl7dmFyIGlkO2NoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiW1xcXCIpPyhhZHZhbmNlKFxcXCJbXFxcIiksZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiXVxcXCIpLGFkdmFuY2UoXFxcIjpcXFwiKSxuZXh0SW5uZXJERSgpKTpcXFwiKHN0cmluZylcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCIobnVtYmVyKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oYWR2YW5jZSgpLGFkdmFuY2UoXFxcIjpcXFwiKSxuZXh0SW5uZXJERSgpKTooaWQ9aWRlbnRpZmllcigpLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiOlxcXCIpPyhhZHZhbmNlKFxcXCI6XFxcIiksbmV4dElubmVyREUoKSk6aWQmJihpc0Fzc2lnbm1lbnQmJmNoZWNrTGVmdFNpZGVBc3NpZ24oc3RhdGUudG9rZW5zLmN1cnIpLGlkZW50aWZpZXJzLnB1c2goe2lkOmlkLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSkpKX07aWYoY2hlY2tQdW5jdHVhdG9yKGZpcnN0VG9rZW4sXFxcIltcXFwiKSl7b3BlbmluZ1BhcnNlZHx8YWR2YW5jZShcXFwiW1xcXCIpLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiXVxcXCIpJiZ3YXJuaW5nKFxcXCJXMTM3XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7Zm9yKHZhciBlbGVtZW50X2FmdGVyX3Jlc3Q9ITE7IWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiXVxcXCIpOyluZXh0SW5uZXJERSgpJiYhZWxlbWVudF9hZnRlcl9yZXN0JiZjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIixcXFwiKSYmKHdhcm5pbmcoXFxcIlcxMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0KSxlbGVtZW50X2FmdGVyX3Jlc3Q9ITApLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiPVxcXCIpJiYoY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5wcmV2LFxcXCIuLi5cXFwiKT9hZHZhbmNlKFxcXCJdXFxcIik6YWR2YW5jZShcXFwiPVxcXCIpLFxcXCJ1bmRlZmluZWRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwODBcXFwiLHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5wcmV2LnZhbHVlKSxleHByZXNzaW9uKDEwKSksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJdXFxcIil8fGFkdmFuY2UoXFxcIixcXFwiKTthZHZhbmNlKFxcXCJdXFxcIil9ZWxzZSBpZihjaGVja1B1bmN0dWF0b3IoZmlyc3RUb2tlbixcXFwie1xcXCIpKXtmb3Iob3BlbmluZ1BhcnNlZHx8YWR2YW5jZShcXFwie1xcXCIpLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwifVxcXCIpJiZ3YXJuaW5nKFxcXCJXMTM3XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7IWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwifVxcXCIpJiYoYXNzaWdubWVudFByb3BlcnR5KCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCI9XFxcIikmJihhZHZhbmNlKFxcXCI9XFxcIiksXFxcInVuZGVmaW5lZFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLGV4cHJlc3Npb24oMTApKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKXx8KGFkdmFuY2UoXFxcIixcXFwiKSwhY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIikpKTspO2FkdmFuY2UoXFxcIn1cXFwiKX1yZXR1cm4gaWRlbnRpZmllcnN9ZnVuY3Rpb24gZGVzdHJ1Y3R1cmluZ1BhdHRlcm5NYXRjaCh0b2tlbnMsdmFsdWUpe3ZhciBmaXJzdD12YWx1ZS5maXJzdDtmaXJzdCYmXy56aXAodG9rZW5zLEFycmF5LmlzQXJyYXkoZmlyc3QpP2ZpcnN0OltmaXJzdF0pLmZvckVhY2goZnVuY3Rpb24odmFsKXt2YXIgdG9rZW49dmFsWzBdLHZhbHVlPXZhbFsxXTt0b2tlbiYmdmFsdWU/dG9rZW4uZmlyc3Q9dmFsdWU6dG9rZW4mJnRva2VuLmZpcnN0JiYhdmFsdWUmJndhcm5pbmcoXFxcIlcwODBcXFwiLHRva2VuLmZpcnN0LHRva2VuLmZpcnN0LnZhbHVlKX0pfWZ1bmN0aW9uIGJsb2NrVmFyaWFibGVTdGF0ZW1lbnQodHlwZSxzdGF0ZW1lbnQsY29udGV4dCl7dmFyIHRva2Vucyxsb25lLHZhbHVlLGxldGJsb2NrLHByZWZpeD1jb250ZXh0JiZjb250ZXh0LnByZWZpeCxpbmV4cG9ydD1jb250ZXh0JiZjb250ZXh0LmluZXhwb3J0LGlzTGV0PVxcXCJsZXRcXFwiPT09dHlwZSxpc0NvbnN0PVxcXCJjb25zdFxcXCI9PT10eXBlO2ZvcihzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTA0XFxcIixzdGF0ZS50b2tlbnMuY3Vycix0eXBlLFxcXCI2XFxcIiksaXNMZXQmJlxcXCIoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlPyhzdGF0ZS5pbk1veigpfHx3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwibGV0IGJsb2NrXFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxsZXRibG9jaz0hMCk6c3RhdGUuZnVuY3RbXFxcIihub2Jsb2Nrc2NvcGVkdmFyKVxcXCJdJiZlcnJvcihcXFwiRTA0OFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsaXNDb25zdD9cXFwiQ29uc3RcXFwiOlxcXCJMZXRcXFwiKSxzdGF0ZW1lbnQuZmlyc3Q9W107Oyl7dmFyIG5hbWVzPVtdO18uY29udGFpbnMoW1xcXCJ7XFxcIixcXFwiW1xcXCJdLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT8odG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCksbG9uZT0hMSk6KHRva2Vucz1be2lkOmlkZW50aWZpZXIoKSx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn1dLGxvbmU9ITApLCFwcmVmaXgmJmlzQ29uc3QmJlxcXCI9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJFMDEyXFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSk7Zm9yKHZhciB0IGluIHRva2Vucyl0b2tlbnMuaGFzT3duUHJvcGVydHkodCkmJih0PXRva2Vuc1t0XSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmlzR2xvYmFsKCkmJnByZWRlZmluZWRbdC5pZF09PT0hMSYmd2FybmluZyhcXFwiVzA3OVxcXCIsdC50b2tlbix0LmlkKSx0LmlkJiYhc3RhdGUuZnVuY3RbXFxcIihub2Jsb2Nrc2NvcGVkdmFyKVxcXCJdJiYoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0LmlkLHt0eXBlOnR5cGUsdG9rZW46dC50b2tlbn0pLG5hbWVzLnB1c2godC50b2tlbiksbG9uZSYmaW5leHBvcnQmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQodC50b2tlbi52YWx1ZSx0LnRva2VuKSkpO2lmKFxcXCI9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYoYWR2YW5jZShcXFwiPVxcXCIpLHByZWZpeHx8XFxcInVuZGVmaW5lZFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8d2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLCFwcmVmaXgmJlxcXCI9XFxcIj09PXBlZWsoMCkuaWQmJnN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXImJndhcm5pbmcoXFxcIlcxMjBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSx2YWx1ZT1leHByZXNzaW9uKHByZWZpeD8xMjA6MTApLGxvbmU/dG9rZW5zWzBdLmZpcnN0PXZhbHVlOmRlc3RydWN0dXJpbmdQYXR0ZXJuTWF0Y2gobmFtZXMsdmFsdWUpKSxzdGF0ZW1lbnQuZmlyc3Q9c3RhdGVtZW50LmZpcnN0LmNvbmNhdChuYW1lcyksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7Y29tbWEoKX1yZXR1cm4gbGV0YmxvY2smJihhZHZhbmNlKFxcXCIpXFxcIiksYmxvY2soITAsITApLHN0YXRlbWVudC5ibG9jaz0hMCxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSksc3RhdGVtZW50fWZ1bmN0aW9uIGNsYXNzZGVmKGlzU3RhdGVtZW50KXtyZXR1cm4gc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImNsYXNzXFxcIixcXFwiNlxcXCIpLGlzU3RhdGVtZW50Pyh0aGlzLm5hbWU9aWRlbnRpZmllcigpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwodGhpcy5uYW1lLHt0eXBlOlxcXCJjbGFzc1xcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSk6c3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmXFxcImV4dGVuZHNcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KHRoaXMubmFtZT1pZGVudGlmaWVyKCksdGhpcy5uYW1lZEV4cHI9ITApOnRoaXMubmFtZT1zdGF0ZS5uYW1lU3RhY2suaW5mZXIoKSxjbGFzc3RhaWwodGhpcyksdGhpc31mdW5jdGlvbiBjbGFzc3RhaWwoYyl7dmFyIHdhc0luQ2xhc3NCb2R5PXN0YXRlLmluQ2xhc3NCb2R5O1xcXCJleHRlbmRzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiZXh0ZW5kc1xcXCIpLGMuaGVyaXRhZ2U9ZXhwcmVzc2lvbigxMCkpLHN0YXRlLmluQ2xhc3NCb2R5PSEwLGFkdmFuY2UoXFxcIntcXFwiKSxjLmJvZHk9Y2xhc3Nib2R5KGMpLGFkdmFuY2UoXFxcIn1cXFwiKSxzdGF0ZS5pbkNsYXNzQm9keT13YXNJbkNsYXNzQm9keX1mdW5jdGlvbiBjbGFzc2JvZHkoYyl7Zm9yKHZhciBuYW1lLGlzU3RhdGljLGlzR2VuZXJhdG9yLGdldHNldCxjb21wdXRlZCxwcm9wcz1PYmplY3QuY3JlYXRlKG51bGwpLHN0YXRpY1Byb3BzPU9iamVjdC5jcmVhdGUobnVsbCksaT0wO1xcXCJ9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkOysraSlpZihuYW1lPXN0YXRlLnRva2Vucy5uZXh0LGlzU3RhdGljPSExLGlzR2VuZXJhdG9yPSExLGdldHNldD1udWxsLFxcXCI7XFxcIiE9PW5hbWUuaWQpe2lmKFxcXCIqXFxcIj09PW5hbWUuaWQmJihpc0dlbmVyYXRvcj0hMCxhZHZhbmNlKFxcXCIqXFxcIiksbmFtZT1zdGF0ZS50b2tlbnMubmV4dCksXFxcIltcXFwiPT09bmFtZS5pZCluYW1lPWNvbXB1dGVkUHJvcGVydHlOYW1lKCksY29tcHV0ZWQ9ITA7ZWxzZXtpZighaXNQcm9wZXJ0eU5hbWUobmFtZSkpe3dhcm5pbmcoXFxcIlcwNTJcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlfHxzdGF0ZS50b2tlbnMubmV4dC50eXBlKSxhZHZhbmNlKCk7Y29udGludWV9YWR2YW5jZSgpLGNvbXB1dGVkPSExLG5hbWUuaWRlbnRpZmllciYmXFxcInN0YXRpY1xcXCI9PT1uYW1lLnZhbHVlJiYoY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIqXFxcIikmJihpc0dlbmVyYXRvcj0hMCxhZHZhbmNlKFxcXCIqXFxcIikpLChpc1Byb3BlcnR5TmFtZShzdGF0ZS50b2tlbnMubmV4dCl8fFxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKSYmKGNvbXB1dGVkPVxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkLGlzU3RhdGljPSEwLG5hbWU9c3RhdGUudG9rZW5zLm5leHQsXFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/bmFtZT1jb21wdXRlZFByb3BlcnR5TmFtZSgpOmFkdmFuY2UoKSkpLCFuYW1lLmlkZW50aWZpZXJ8fFxcXCJnZXRcXFwiIT09bmFtZS52YWx1ZSYmXFxcInNldFxcXCIhPT1uYW1lLnZhbHVlfHwoaXNQcm9wZXJ0eU5hbWUoc3RhdGUudG9rZW5zLm5leHQpfHxcXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCkmJihjb21wdXRlZD1cXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCxnZXRzZXQ9bmFtZSxuYW1lPXN0YXRlLnRva2Vucy5uZXh0LFxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkP25hbWU9Y29tcHV0ZWRQcm9wZXJ0eU5hbWUoKTphZHZhbmNlKCkpfWlmKCFjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIihcXFwiKSl7Zm9yKGVycm9yKFxcXCJFMDU0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk7XFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJiFjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIihcXFwiKTspYWR2YW5jZSgpO1xcXCIoXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiZkb0Z1bmN0aW9uKHtzdGF0ZW1lbnQ6Y30pfWlmKGNvbXB1dGVkfHwoZ2V0c2V0P3NhdmVBY2Nlc3NvcihnZXRzZXQudmFsdWUsaXNTdGF0aWM/c3RhdGljUHJvcHM6cHJvcHMsbmFtZS52YWx1ZSxuYW1lLCEwLGlzU3RhdGljKTooXFxcImNvbnN0cnVjdG9yXFxcIj09PW5hbWUudmFsdWU/c3RhdGUubmFtZVN0YWNrLnNldChjKTpzdGF0ZS5uYW1lU3RhY2suc2V0KG5hbWUpLHNhdmVQcm9wZXJ0eShpc1N0YXRpYz9zdGF0aWNQcm9wczpwcm9wcyxuYW1lLnZhbHVlLG5hbWUsITAsaXNTdGF0aWMpKSksZ2V0c2V0JiZcXFwiY29uc3RydWN0b3JcXFwiPT09bmFtZS52YWx1ZSl7dmFyIHByb3BEZXNjPVxcXCJnZXRcXFwiPT09Z2V0c2V0LnZhbHVlP1xcXCJjbGFzcyBnZXR0ZXIgbWV0aG9kXFxcIjpcXFwiY2xhc3Mgc2V0dGVyIG1ldGhvZFxcXCI7ZXJyb3IoXFxcIkUwNDlcXFwiLG5hbWUscHJvcERlc2MsXFxcImNvbnN0cnVjdG9yXFxcIil9ZWxzZVxcXCJwcm90b3R5cGVcXFwiPT09bmFtZS52YWx1ZSYmZXJyb3IoXFxcIkUwNDlcXFwiLG5hbWUsXFxcImNsYXNzIG1ldGhvZFxcXCIsXFxcInByb3RvdHlwZVxcXCIpO3Byb3BlcnR5TmFtZShuYW1lKSxkb0Z1bmN0aW9uKHtzdGF0ZW1lbnQ6Yyx0eXBlOmlzR2VuZXJhdG9yP1xcXCJnZW5lcmF0b3JcXFwiOm51bGwsY2xhc3NFeHByQmluZGluZzpjLm5hbWVkRXhwcj9jLm5hbWU6bnVsbH0pfWVsc2Ugd2FybmluZyhcXFwiVzAzMlxcXCIpLGFkdmFuY2UoXFxcIjtcXFwiKTtjaGVja1Byb3BlcnRpZXMocHJvcHMpfWZ1bmN0aW9uIHNhdmVQcm9wZXJ0eShwcm9wcyxuYW1lLHRrbixpc0NsYXNzLGlzU3RhdGljKXt2YXIgbXNnPVtcXFwia2V5XFxcIixcXFwiY2xhc3MgbWV0aG9kXFxcIixcXFwic3RhdGljIGNsYXNzIG1ldGhvZFxcXCJdO21zZz1tc2dbKGlzQ2xhc3N8fCExKSsoaXNTdGF0aWN8fCExKV0sdGtuLmlkZW50aWZpZXImJihuYW1lPXRrbi52YWx1ZSkscHJvcHNbbmFtZV0mJlxcXCJfX3Byb3RvX19cXFwiIT09bmFtZT93YXJuaW5nKFxcXCJXMDc1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxtc2csbmFtZSk6cHJvcHNbbmFtZV09T2JqZWN0LmNyZWF0ZShudWxsKSxwcm9wc1tuYW1lXS5iYXNpYz0hMCxwcm9wc1tuYW1lXS5iYXNpY3Rrbj10a259ZnVuY3Rpb24gc2F2ZUFjY2Vzc29yKGFjY2Vzc29yVHlwZSxwcm9wcyxuYW1lLHRrbixpc0NsYXNzLGlzU3RhdGljKXt2YXIgZmxhZ05hbWU9XFxcImdldFxcXCI9PT1hY2Nlc3NvclR5cGU/XFxcImdldHRlclRva2VuXFxcIjpcXFwic2V0dGVyVG9rZW5cXFwiLG1zZz1cXFwiXFxcIjtpc0NsYXNzPyhpc1N0YXRpYyYmKG1zZys9XFxcInN0YXRpYyBcXFwiKSxtc2crPWFjY2Vzc29yVHlwZStcXFwidGVyIG1ldGhvZFxcXCIpOm1zZz1cXFwia2V5XFxcIixzdGF0ZS50b2tlbnMuY3Vyci5hY2Nlc3NvclR5cGU9YWNjZXNzb3JUeXBlLHN0YXRlLm5hbWVTdGFjay5zZXQodGtuKSxwcm9wc1tuYW1lXT8ocHJvcHNbbmFtZV0uYmFzaWN8fHByb3BzW25hbWVdW2ZsYWdOYW1lXSkmJlxcXCJfX3Byb3RvX19cXFwiIT09bmFtZSYmd2FybmluZyhcXFwiVzA3NVxcXCIsc3RhdGUudG9rZW5zLm5leHQsbXNnLG5hbWUpOnByb3BzW25hbWVdPU9iamVjdC5jcmVhdGUobnVsbCkscHJvcHNbbmFtZV1bZmxhZ05hbWVdPXRrbn1mdW5jdGlvbiBjb21wdXRlZFByb3BlcnR5TmFtZSgpe2FkdmFuY2UoXFxcIltcXFwiKSxzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiY29tcHV0ZWQgcHJvcGVydHkgbmFtZXNcXFwiLFxcXCI2XFxcIik7dmFyIHZhbHVlPWV4cHJlc3Npb24oMTApO3JldHVybiBhZHZhbmNlKFxcXCJdXFxcIiksdmFsdWV9ZnVuY3Rpb24gY2hlY2tQdW5jdHVhdG9ycyh0b2tlbix2YWx1ZXMpe3JldHVyblxcXCIocHVuY3R1YXRvcilcXFwiPT09dG9rZW4udHlwZT9fLmNvbnRhaW5zKHZhbHVlcyx0b2tlbi52YWx1ZSk6ITF9ZnVuY3Rpb24gY2hlY2tQdW5jdHVhdG9yKHRva2VuLHZhbHVlKXtyZXR1cm5cXFwiKHB1bmN0dWF0b3IpXFxcIj09PXRva2VuLnR5cGUmJnRva2VuLnZhbHVlPT09dmFsdWV9ZnVuY3Rpb24gZGVzdHJ1Y3R1cmluZ0Fzc2lnbk9ySnNvblZhbHVlKCl7dmFyIGJsb2NrPWxvb2t1cEJsb2NrVHlwZSgpO2Jsb2NrLm5vdEpzb24/KCFzdGF0ZS5pbkVTNigpJiZibG9jay5pc0Rlc3RBc3NpZ24mJndhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJkZXN0cnVjdHVyaW5nIGFzc2lnbm1lbnRcXFwiLFxcXCI2XFxcIiksc3RhdGVtZW50cygpKTooc3RhdGUub3B0aW9uLmxheGJyZWFrPSEwLHN0YXRlLmpzb25Nb2RlPSEwLGpzb25WYWx1ZSgpKX1mdW5jdGlvbiBqc29uVmFsdWUoKXtmdW5jdGlvbiBqc29uT2JqZWN0KCl7dmFyIG89e30sdD1zdGF0ZS50b2tlbnMubmV4dDtpZihhZHZhbmNlKFxcXCJ7XFxcIiksXFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpZm9yKDs7KXtpZihcXFwiKGVuZClcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpZXJyb3IoXFxcIkUwMjZcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHQubGluZSk7ZWxzZXtpZihcXFwifVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCl7d2FybmluZyhcXFwiVzA5NFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2JyZWFrfVxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkP2Vycm9yKFxcXCJFMDI4XFxcIixzdGF0ZS50b2tlbnMubmV4dCk6XFxcIihzdHJpbmcpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDk1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl9aWYob1tzdGF0ZS50b2tlbnMubmV4dC52YWx1ZV09PT0hMD93YXJuaW5nKFxcXCJXMDc1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwia2V5XFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk6XFxcIl9fcHJvdG9fX1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmIXN0YXRlLm9wdGlvbi5wcm90b3x8XFxcIl9faXRlcmF0b3JfX1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmIXN0YXRlLm9wdGlvbi5pdGVyYXRvcj93YXJuaW5nKFxcXCJXMDk2XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk6b1tzdGF0ZS50b2tlbnMubmV4dC52YWx1ZV09ITAsYWR2YW5jZSgpLGFkdmFuY2UoXFxcIjpcXFwiKSxqc29uVmFsdWUoKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhazthZHZhbmNlKFxcXCIsXFxcIil9YWR2YW5jZShcXFwifVxcXCIpfWZ1bmN0aW9uIGpzb25BcnJheSgpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O2lmKGFkdmFuY2UoXFxcIltcXFwiKSxcXFwiXVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClmb3IoOzspe2lmKFxcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCllcnJvcihcXFwiRTAyN1xcXCIsc3RhdGUudG9rZW5zLm5leHQsdC5saW5lKTtlbHNle2lmKFxcXCJdXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXt3YXJuaW5nKFxcXCJXMDk0XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7YnJlYWt9XFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJmVycm9yKFxcXCJFMDI4XFxcIixzdGF0ZS50b2tlbnMubmV4dCl9aWYoanNvblZhbHVlKCksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7YWR2YW5jZShcXFwiLFxcXCIpfWFkdmFuY2UoXFxcIl1cXFwiKX1zd2l0Y2goc3RhdGUudG9rZW5zLm5leHQuaWQpe2Nhc2VcXFwie1xcXCI6anNvbk9iamVjdCgpO2JyZWFrO2Nhc2VcXFwiW1xcXCI6anNvbkFycmF5KCk7YnJlYWs7Y2FzZVxcXCJ0cnVlXFxcIjpjYXNlXFxcImZhbHNlXFxcIjpjYXNlXFxcIm51bGxcXFwiOmNhc2VcXFwiKG51bWJlcilcXFwiOmNhc2VcXFwiKHN0cmluZylcXFwiOmFkdmFuY2UoKTticmVhaztjYXNlXFxcIi1cXFwiOmFkdmFuY2UoXFxcIi1cXFwiKSxhZHZhbmNlKFxcXCIobnVtYmVyKVxcXCIpO2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkUwMDNcXFwiLHN0YXRlLnRva2Vucy5uZXh0KX19dmFyIGFwaSxkZWNsYXJlZCxmdW5jdGlvbnMsaW5ibG9jayxpbmRlbnQsbG9va2FoZWFkLGxleCxtZW1iZXIsbWVtYmVyc09ubHkscHJlZGVmaW5lZCxzdGFjayx1cmxzLGJhbmc9e1xcXCI8XFxcIjohMCxcXFwiPD1cXFwiOiEwLFxcXCI9PVxcXCI6ITAsXFxcIj09PVxcXCI6ITAsXFxcIiE9PVxcXCI6ITAsXFxcIiE9XFxcIjohMCxcXFwiPlxcXCI6ITAsXFxcIj49XFxcIjohMCxcXFwiK1xcXCI6ITAsXFxcIi1cXFwiOiEwLFxcXCIqXFxcIjohMCxcXFwiL1xcXCI6ITAsXFxcIiVcXFwiOiEwfSxmdW5jdGlvbmljaXR5PVtcXFwiY2xvc3VyZVxcXCIsXFxcImV4Y2VwdGlvblxcXCIsXFxcImdsb2JhbFxcXCIsXFxcImxhYmVsXFxcIixcXFwib3V0ZXJcXFwiLFxcXCJ1bnVzZWRcXFwiLFxcXCJ2YXJcXFwiXSxleHRyYU1vZHVsZXM9W10sZW1pdHRlcj1uZXcgZXZlbnRzLkV2ZW50RW1pdHRlcix0eXBlb2ZWYWx1ZXM9e307dHlwZW9mVmFsdWVzLmxlZ2FjeT1bXFxcInhtbFxcXCIsXFxcInVua25vd25cXFwiXSx0eXBlb2ZWYWx1ZXMuZXMzPVtcXFwidW5kZWZpbmVkXFxcIixcXFwiYm9vbGVhblxcXCIsXFxcIm51bWJlclxcXCIsXFxcInN0cmluZ1xcXCIsXFxcImZ1bmN0aW9uXFxcIixcXFwib2JqZWN0XFxcIl0sdHlwZW9mVmFsdWVzLmVzMz10eXBlb2ZWYWx1ZXMuZXMzLmNvbmNhdCh0eXBlb2ZWYWx1ZXMubGVnYWN5KSx0eXBlb2ZWYWx1ZXMuZXM2PXR5cGVvZlZhbHVlcy5lczMuY29uY2F0KFxcXCJzeW1ib2xcXFwiKSx0eXBlKFxcXCIobnVtYmVyKVxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHR5cGUoXFxcIihzdHJpbmcpXFxcIixmdW5jdGlvbigpe3JldHVybiB0aGlzfSksc3RhdGUuc3ludGF4W1xcXCIoaWRlbnRpZmllcilcXFwiXT17dHlwZTpcXFwiKGlkZW50aWZpZXIpXFxcIixsYnA6MCxpZGVudGlmaWVyOiEwLG51ZDpmdW5jdGlvbigpe3ZhciB2PXRoaXMudmFsdWU7cmV0dXJuXFxcIj0+XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkP3RoaXM6KHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLmNoZWNrKHYpfHxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnVzZSh2LHN0YXRlLnRva2Vucy5jdXJyKSx0aGlzKX0sbGVkOmZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkUwMzNcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKX19O3ZhciBiYXNlVGVtcGxhdGVTeW50YXg9e2xicDowLGlkZW50aWZpZXI6ITEsdGVtcGxhdGU6ITB9O3N0YXRlLnN5bnRheFtcXFwiKHRlbXBsYXRlKVxcXCJdPV8uZXh0ZW5kKHt0eXBlOlxcXCIodGVtcGxhdGUpXFxcIixudWQ6ZG9UZW1wbGF0ZUxpdGVyYWwsbGVkOmRvVGVtcGxhdGVMaXRlcmFsLG5vU3Vic3Q6ITF9LGJhc2VUZW1wbGF0ZVN5bnRheCksc3RhdGUuc3ludGF4W1xcXCIodGVtcGxhdGUgbWlkZGxlKVxcXCJdPV8uZXh0ZW5kKHt0eXBlOlxcXCIodGVtcGxhdGUgbWlkZGxlKVxcXCIsbWlkZGxlOiEwLG5vU3Vic3Q6ITF9LGJhc2VUZW1wbGF0ZVN5bnRheCksc3RhdGUuc3ludGF4W1xcXCIodGVtcGxhdGUgdGFpbClcXFwiXT1fLmV4dGVuZCh7dHlwZTpcXFwiKHRlbXBsYXRlIHRhaWwpXFxcIix0YWlsOiEwLG5vU3Vic3Q6ITF9LGJhc2VUZW1wbGF0ZVN5bnRheCksc3RhdGUuc3ludGF4W1xcXCIobm8gc3Vic3QgdGVtcGxhdGUpXFxcIl09Xy5leHRlbmQoe3R5cGU6XFxcIih0ZW1wbGF0ZSlcXFwiLG51ZDpkb1RlbXBsYXRlTGl0ZXJhbCxsZWQ6ZG9UZW1wbGF0ZUxpdGVyYWwsbm9TdWJzdDohMCx0YWlsOiEwfSxiYXNlVGVtcGxhdGVTeW50YXgpLHR5cGUoXFxcIihyZWdleHApXFxcIixmdW5jdGlvbigpe3JldHVybiB0aGlzfSksZGVsaW0oXFxcIihlbmRsaW5lKVxcXCIpLGRlbGltKFxcXCIoYmVnaW4pXFxcIiksZGVsaW0oXFxcIihlbmQpXFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIihlcnJvcilcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwifVxcXCIpLnJlYWNoPSEwLGRlbGltKFxcXCIpXFxcIiksZGVsaW0oXFxcIl1cXFwiKSxkZWxpbSgnXFxcIicpLnJlYWNoPSEwLGRlbGltKFxcXCInXFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIjtcXFwiKSxkZWxpbShcXFwiOlxcXCIpLnJlYWNoPSEwLGRlbGltKFxcXCIjXFxcIikscmVzZXJ2ZShcXFwiZWxzZVxcXCIpLHJlc2VydmUoXFxcImNhc2VcXFwiKS5yZWFjaD0hMCxyZXNlcnZlKFxcXCJjYXRjaFxcXCIpLHJlc2VydmUoXFxcImRlZmF1bHRcXFwiKS5yZWFjaD0hMCxyZXNlcnZlKFxcXCJmaW5hbGx5XFxcIikscmVzZXJ2ZXZhcihcXFwiYXJndW1lbnRzXFxcIixmdW5jdGlvbih4KXtzdGF0ZS5pc1N0cmljdCgpJiZzdGF0ZS5mdW5jdFtcXFwiKGdsb2JhbClcXFwiXSYmd2FybmluZyhcXFwiRTAwOFxcXCIseCl9KSxyZXNlcnZldmFyKFxcXCJldmFsXFxcIikscmVzZXJ2ZXZhcihcXFwiZmFsc2VcXFwiKSxyZXNlcnZldmFyKFxcXCJJbmZpbml0eVxcXCIpLHJlc2VydmV2YXIoXFxcIm51bGxcXFwiKSxyZXNlcnZldmFyKFxcXCJ0aGlzXFxcIixmdW5jdGlvbih4KXtzdGF0ZS5pc1N0cmljdCgpJiYhaXNNZXRob2QoKSYmIXN0YXRlLm9wdGlvbi52YWxpZHRoaXMmJihzdGF0ZS5mdW5jdFtcXFwiKHN0YXRlbWVudClcXFwiXSYmc3RhdGUuZnVuY3RbXFxcIihuYW1lKVxcXCJdLmNoYXJBdCgwKT5cXFwiWlxcXCJ8fHN0YXRlLmZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdKSYmd2FybmluZyhcXFwiVzA0MFxcXCIseCl9KSxyZXNlcnZldmFyKFxcXCJ0cnVlXFxcIikscmVzZXJ2ZXZhcihcXFwidW5kZWZpbmVkXFxcIiksYXNzaWdub3AoXFxcIj1cXFwiLFxcXCJhc3NpZ25cXFwiLDIwKSxhc3NpZ25vcChcXFwiKz1cXFwiLFxcXCJhc3NpZ25hZGRcXFwiLDIwKSxhc3NpZ25vcChcXFwiLT1cXFwiLFxcXCJhc3NpZ25zdWJcXFwiLDIwKSxhc3NpZ25vcChcXFwiKj1cXFwiLFxcXCJhc3NpZ25tdWx0XFxcIiwyMCksYXNzaWdub3AoXFxcIi89XFxcIixcXFwiYXNzaWduZGl2XFxcIiwyMCkubnVkPWZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkUwMTRcXFwiKX0sYXNzaWdub3AoXFxcIiU9XFxcIixcXFwiYXNzaWdubW9kXFxcIiwyMCksYml0d2lzZWFzc2lnbm9wKFxcXCImPVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwifD1cXFwiKSxiaXR3aXNlYXNzaWdub3AoXFxcIl49XFxcIiksYml0d2lzZWFzc2lnbm9wKFxcXCI8PD1cXFwiKSxiaXR3aXNlYXNzaWdub3AoXFxcIj4+PVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwiPj4+PVxcXCIpLGluZml4KFxcXCIsXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciBleHByO2lmKHRoYXQuZXhwcnM9W2xlZnRdLHN0YXRlLm9wdGlvbi5ub2NvbW1hJiZ3YXJuaW5nKFxcXCJXMTI3XFxcIiksIWNvbW1hKHtwZWVrOiEwfSkpcmV0dXJuIHRoYXQ7Zm9yKDs7KXtpZighKGV4cHI9ZXhwcmVzc2lvbigxMCkpKWJyZWFrO2lmKHRoYXQuZXhwcnMucHVzaChleHByKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZXx8IWNvbW1hKCkpYnJlYWt9cmV0dXJuIHRoYXR9LDEwLCEwKSxpbmZpeChcXFwiP1xcXCIsZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSx0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLGFkdmFuY2UoXFxcIjpcXFwiKSx0aGF0W1xcXCJlbHNlXFxcIl09ZXhwcmVzc2lvbigxMCksdGhhdH0sMzApO3ZhciBvclByZWNlbmRlbmNlPTQwO2luZml4KFxcXCJ8fFxcXCIsZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSx0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PWV4cHJlc3Npb24ob3JQcmVjZW5kZW5jZSksdGhhdH0sb3JQcmVjZW5kZW5jZSksaW5maXgoXFxcIiYmXFxcIixcXFwiYW5kXFxcIiw1MCksYml0d2lzZShcXFwifFxcXCIsXFxcImJpdG9yXFxcIiw3MCksYml0d2lzZShcXFwiXlxcXCIsXFxcImJpdHhvclxcXCIsODApLGJpdHdpc2UoXFxcIiZcXFwiLFxcXCJiaXRhbmRcXFwiLDkwKSxyZWxhdGlvbihcXFwiPT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBlcW51bGw9c3RhdGUub3B0aW9uLmVxbnVsbCYmKFxcXCJudWxsXFxcIj09PShsZWZ0JiZsZWZ0LnZhbHVlKXx8XFxcIm51bGxcXFwiPT09KHJpZ2h0JiZyaWdodC52YWx1ZSkpO3N3aXRjaCghMCl7Y2FzZSFlcW51bGwmJnN0YXRlLm9wdGlvbi5lcWVxZXE6dGhpcy5mcm9tPXRoaXMuY2hhcmFjdGVyLHdhcm5pbmcoXFxcIlcxMTZcXFwiLHRoaXMsXFxcIj09PVxcXCIsXFxcIj09XFxcIik7YnJlYWs7Y2FzZSBpc1Bvb3JSZWxhdGlvbihsZWZ0KTp3YXJuaW5nKFxcXCJXMDQxXFxcIix0aGlzLFxcXCI9PT1cXFwiLGxlZnQudmFsdWUpO2JyZWFrO2Nhc2UgaXNQb29yUmVsYXRpb24ocmlnaHQpOndhcm5pbmcoXFxcIlcwNDFcXFwiLHRoaXMsXFxcIj09PVxcXCIscmlnaHQudmFsdWUpO2JyZWFrO2Nhc2UgaXNUeXBvVHlwZW9mKHJpZ2h0LGxlZnQsc3RhdGUpOndhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMscmlnaHQudmFsdWUpO2JyZWFrO2Nhc2UgaXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpOndhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMsbGVmdC52YWx1ZSl9cmV0dXJuIHRoaXN9KSxyZWxhdGlvbihcXFwiPT09XFxcIixmdW5jdGlvbihsZWZ0LHJpZ2h0KXtyZXR1cm4gaXNUeXBvVHlwZW9mKHJpZ2h0LGxlZnQsc3RhdGUpP3dhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMscmlnaHQudmFsdWUpOmlzVHlwb1R5cGVvZihsZWZ0LHJpZ2h0LHN0YXRlKSYmd2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKSx0aGlzfSkscmVsYXRpb24oXFxcIiE9XFxcIixmdW5jdGlvbihsZWZ0LHJpZ2h0KXt2YXIgZXFudWxsPXN0YXRlLm9wdGlvbi5lcW51bGwmJihcXFwibnVsbFxcXCI9PT0obGVmdCYmbGVmdC52YWx1ZSl8fFxcXCJudWxsXFxcIj09PShyaWdodCYmcmlnaHQudmFsdWUpKTtyZXR1cm4hZXFudWxsJiZzdGF0ZS5vcHRpb24uZXFlcWVxPyh0aGlzLmZyb209dGhpcy5jaGFyYWN0ZXIsd2FybmluZyhcXFwiVzExNlxcXCIsdGhpcyxcXFwiIT09XFxcIixcXFwiIT1cXFwiKSk6aXNQb29yUmVsYXRpb24obGVmdCk/d2FybmluZyhcXFwiVzA0MVxcXCIsdGhpcyxcXFwiIT09XFxcIixsZWZ0LnZhbHVlKTppc1Bvb3JSZWxhdGlvbihyaWdodCk/d2FybmluZyhcXFwiVzA0MVxcXCIsdGhpcyxcXFwiIT09XFxcIixyaWdodC52YWx1ZSk6aXNUeXBvVHlwZW9mKHJpZ2h0LGxlZnQsc3RhdGUpP3dhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMscmlnaHQudmFsdWUpOmlzVHlwb1R5cGVvZihsZWZ0LHJpZ2h0LHN0YXRlKSYmd2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKSx0aGlzfSkscmVsYXRpb24oXFxcIiE9PVxcXCIsZnVuY3Rpb24obGVmdCxyaWdodCl7cmV0dXJuIGlzVHlwb1R5cGVvZihyaWdodCxsZWZ0LHN0YXRlKT93YXJuaW5nKFxcXCJXMTIyXFxcIix0aGlzLHJpZ2h0LnZhbHVlKTppc1R5cG9UeXBlb2YobGVmdCxyaWdodCxzdGF0ZSkmJndhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMsbGVmdC52YWx1ZSksdGhpc30pLHJlbGF0aW9uKFxcXCI8XFxcIikscmVsYXRpb24oXFxcIj5cXFwiKSxyZWxhdGlvbihcXFwiPD1cXFwiKSxyZWxhdGlvbihcXFwiPj1cXFwiKSxiaXR3aXNlKFxcXCI8PFxcXCIsXFxcInNoaWZ0bGVmdFxcXCIsMTIwKSxiaXR3aXNlKFxcXCI+PlxcXCIsXFxcInNoaWZ0cmlnaHRcXFwiLDEyMCksYml0d2lzZShcXFwiPj4+XFxcIixcXFwic2hpZnRyaWdodHVuc2lnbmVkXFxcIiwxMjApLGluZml4KFxcXCJpblxcXCIsXFxcImluXFxcIiwxMjApLGluZml4KFxcXCJpbnN0YW5jZW9mXFxcIixcXFwiaW5zdGFuY2VvZlxcXCIsMTIwKSxpbmZpeChcXFwiK1xcXCIsZnVuY3Rpb24obGVmdCx0aGF0KXt2YXIgcmlnaHQ7cmV0dXJuIHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9cmlnaHQ9ZXhwcmVzc2lvbigxMzApLGxlZnQmJnJpZ2h0JiZcXFwiKHN0cmluZylcXFwiPT09bGVmdC5pZCYmXFxcIihzdHJpbmcpXFxcIj09PXJpZ2h0LmlkPyhsZWZ0LnZhbHVlKz1yaWdodC52YWx1ZSxsZWZ0LmNoYXJhY3Rlcj1yaWdodC5jaGFyYWN0ZXIsIXN0YXRlLm9wdGlvbi5zY3JpcHR1cmwmJnJlZy5qYXZhc2NyaXB0VVJMLnRlc3QobGVmdC52YWx1ZSkmJndhcm5pbmcoXFxcIlcwNTBcXFwiLGxlZnQpLGxlZnQpOnRoYXR9LDEzMCkscHJlZml4KFxcXCIrXFxcIixcXFwibnVtXFxcIikscHJlZml4KFxcXCIrKytcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHdhcm5pbmcoXFxcIlcwMDdcXFwiKSx0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksdGhpc30pLGluZml4KFxcXCIrKytcXFwiLGZ1bmN0aW9uKGxlZnQpe3JldHVybiB3YXJuaW5nKFxcXCJXMDA3XFxcIiksdGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1leHByZXNzaW9uKDEzMCksdGhpc30sMTMwKSxpbmZpeChcXFwiLVxcXCIsXFxcInN1YlxcXCIsMTMwKSxwcmVmaXgoXFxcIi1cXFwiLFxcXCJuZWdcXFwiKSxwcmVmaXgoXFxcIi0tLVxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gd2FybmluZyhcXFwiVzAwNlxcXCIpLHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzfSksaW5maXgoXFxcIi0tLVxcXCIsZnVuY3Rpb24obGVmdCl7cmV0dXJuIHdhcm5pbmcoXFxcIlcwMDZcXFwiKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTMwKSx0aGlzfSwxMzApLGluZml4KFxcXCIqXFxcIixcXFwibXVsdFxcXCIsMTQwKSxpbmZpeChcXFwiL1xcXCIsXFxcImRpdlxcXCIsMTQwKSxpbmZpeChcXFwiJVxcXCIsXFxcIm1vZFxcXCIsMTQwKSxzdWZmaXgoXFxcIisrXFxcIikscHJlZml4KFxcXCIrK1xcXCIsXFxcInByZWluY1xcXCIpLHN0YXRlLnN5bnRheFtcXFwiKytcXFwiXS5leHBzPSEwLHN1ZmZpeChcXFwiLS1cXFwiKSxwcmVmaXgoXFxcIi0tXFxcIixcXFwicHJlZGVjXFxcIiksc3RhdGUuc3ludGF4W1xcXCItLVxcXCJdLmV4cHM9ITAscHJlZml4KFxcXCJkZWxldGVcXFwiLGZ1bmN0aW9uKCl7dmFyIHA9ZXhwcmVzc2lvbigxMCk7cmV0dXJuIHA/KFxcXCIuXFxcIiE9PXAuaWQmJlxcXCJbXFxcIiE9PXAuaWQmJndhcm5pbmcoXFxcIlcwNTFcXFwiKSx0aGlzLmZpcnN0PXAscC5pZGVudGlmaWVyJiYhc3RhdGUuaXNTdHJpY3QoKSYmKHAuZm9yZ2l2ZVVuZGVmPSEwKSx0aGlzKTp0aGlzfSkuZXhwcz0hMCxwcmVmaXgoXFxcIn5cXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5iaXR3aXNlJiZ3YXJuaW5nKFxcXCJXMDE2XFxcIix0aGlzLFxcXCJ+XFxcIiksdGhpcy5hcml0eT1cXFwidW5hcnlcXFwiLHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxNTApLHRoaXN9KSxwcmVmaXgoXFxcIi4uLlxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUuaW5FUzYoITApfHx3YXJuaW5nKFxcXCJXMTE5XFxcIix0aGlzLFxcXCJzcHJlYWQvcmVzdCBvcGVyYXRvclxcXCIsXFxcIjZcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyfHxcXFwiKHN0cmluZylcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZXx8Y2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIltcXFwiLFxcXCIoXFxcIl0pfHxlcnJvcihcXFwiRTAzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLGV4cHJlc3Npb24oMTUwKSx0aGlzfSkscHJlZml4KFxcXCIhXFxcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksdGhpcy5yaWdodHx8cXVpdChcXFwiRTA0MVxcXCIsdGhpcy5saW5lfHwwKSxiYW5nW3RoaXMucmlnaHQuaWRdPT09ITAmJndhcm5pbmcoXFxcIlcwMThcXFwiLHRoaXMsXFxcIiFcXFwiKSx0aGlzfSkscHJlZml4KFxcXCJ0eXBlb2ZcXFwiLGZ1bmN0aW9uKCl7dmFyIHA9ZXhwcmVzc2lvbigxNTApO3JldHVybiB0aGlzLmZpcnN0PXRoaXMucmlnaHQ9cCxwfHxxdWl0KFxcXCJFMDQxXFxcIix0aGlzLmxpbmV8fDAsdGhpcy5jaGFyYWN0ZXJ8fDApLHAuaWRlbnRpZmllciYmKHAuZm9yZ2l2ZVVuZGVmPSEwKSx0aGlzfSkscHJlZml4KFxcXCJuZXdcXFwiLGZ1bmN0aW9uKCl7dmFyIG1wPW1ldGFQcm9wZXJ0eShcXFwidGFyZ2V0XFxcIixmdW5jdGlvbigpe3N0YXRlLmluRVM2KCEwKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLnByZXYsXFxcIm5ldy50YXJnZXRcXFwiLFxcXCI2XFxcIik7Zm9yKHZhciBpbkZ1bmN0aW9uLGM9c3RhdGUuZnVuY3Q7YyYmKGluRnVuY3Rpb249IWNbXFxcIihnbG9iYWwpXFxcIl0sY1tcXFwiKGFycm93KVxcXCJdKTspYz1jW1xcXCIoY29udGV4dClcXFwiXTtpbkZ1bmN0aW9ufHx3YXJuaW5nKFxcXCJXMTM2XFxcIixzdGF0ZS50b2tlbnMucHJldixcXFwibmV3LnRhcmdldFxcXCIpfSk7aWYobXApcmV0dXJuIG1wO3ZhciBpLGM9ZXhwcmVzc2lvbigxNTUpO2lmKGMmJlxcXCJmdW5jdGlvblxcXCIhPT1jLmlkKWlmKGMuaWRlbnRpZmllcilzd2l0Y2goY1tcXFwibmV3XFxcIl09ITAsYy52YWx1ZSl7Y2FzZVxcXCJOdW1iZXJcXFwiOmNhc2VcXFwiU3RyaW5nXFxcIjpjYXNlXFxcIkJvb2xlYW5cXFwiOmNhc2VcXFwiTWF0aFxcXCI6Y2FzZVxcXCJKU09OXFxcIjp3YXJuaW5nKFxcXCJXMDUzXFxcIixzdGF0ZS50b2tlbnMucHJldixjLnZhbHVlKTticmVhaztjYXNlXFxcIlN5bWJvbFxcXCI6c3RhdGUuaW5FUzYoKSYmd2FybmluZyhcXFwiVzA1M1xcXCIsc3RhdGUudG9rZW5zLnByZXYsYy52YWx1ZSk7YnJlYWs7Y2FzZVxcXCJGdW5jdGlvblxcXCI6c3RhdGUub3B0aW9uLmV2aWx8fHdhcm5pbmcoXFxcIlcwNTRcXFwiKTticmVhaztjYXNlXFxcIkRhdGVcXFwiOmNhc2VcXFwiUmVnRXhwXFxcIjpjYXNlXFxcInRoaXNcXFwiOmJyZWFrO2RlZmF1bHQ6XFxcImZ1bmN0aW9uXFxcIiE9PWMuaWQmJihpPWMudmFsdWUuc3Vic3RyKDAsMSksc3RhdGUub3B0aW9uLm5ld2NhcCYmKFxcXCJBXFxcIj5pfHxpPlxcXCJaXFxcIikmJiFzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmlzUHJlZGVmaW5lZChjLnZhbHVlKSYmd2FybmluZyhcXFwiVzA1NVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpKX1lbHNlXFxcIi5cXFwiIT09Yy5pZCYmXFxcIltcXFwiIT09Yy5pZCYmXFxcIihcXFwiIT09Yy5pZCYmd2FybmluZyhcXFwiVzA1NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2Vsc2Ugc3RhdGUub3B0aW9uLnN1cGVybmV3fHx3YXJuaW5nKFxcXCJXMDU3XFxcIix0aGlzKTtyZXR1cm5cXFwiKFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUub3B0aW9uLnN1cGVybmV3fHx3YXJuaW5nKFxcXCJXMDU4XFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSksdGhpcy5maXJzdD10aGlzLnJpZ2h0PWMsdGhpc30pLHN0YXRlLnN5bnRheFtcXFwibmV3XFxcIl0uZXhwcz0hMCxwcmVmaXgoXFxcInZvaWRcXFwiKS5leHBzPSEwLGluZml4KFxcXCIuXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciBtPWlkZW50aWZpZXIoITEsITApO3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgbSYmY291bnRNZW1iZXIobSksdGhhdC5sZWZ0PWxlZnQsdGhhdC5yaWdodD1tLG0mJlxcXCJoYXNPd25Qcm9wZXJ0eVxcXCI9PT1tJiZcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmd2FybmluZyhcXFwiVzAwMVxcXCIpLCFsZWZ0fHxcXFwiYXJndW1lbnRzXFxcIiE9PWxlZnQudmFsdWV8fFxcXCJjYWxsZWVcXFwiIT09bSYmXFxcImNhbGxlclxcXCIhPT1tP3N0YXRlLm9wdGlvbi5ldmlsfHwhbGVmdHx8XFxcImRvY3VtZW50XFxcIiE9PWxlZnQudmFsdWV8fFxcXCJ3cml0ZVxcXCIhPT1tJiZcXFwid3JpdGVsblxcXCIhPT1tfHx3YXJuaW5nKFxcXCJXMDYwXFxcIixsZWZ0KTpzdGF0ZS5vcHRpb24ubm9hcmc/d2FybmluZyhcXFwiVzA1OVxcXCIsbGVmdCxtKTpzdGF0ZS5pc1N0cmljdCgpJiZlcnJvcihcXFwiRTAwOFxcXCIpLHN0YXRlLm9wdGlvbi5ldmlsfHxcXFwiZXZhbFxcXCIhPT1tJiZcXFwiZXhlY1NjcmlwdFxcXCIhPT1tfHxpc0dsb2JhbEV2YWwobGVmdCxzdGF0ZSkmJndhcm5pbmcoXFxcIlcwNjFcXFwiKSx0aGF0fSwxNjAsITApLGluZml4KFxcXCIoXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3N0YXRlLm9wdGlvbi5pbW1lZCYmbGVmdCYmIWxlZnQuaW1tZWQmJlxcXCJmdW5jdGlvblxcXCI9PT1sZWZ0LmlkJiZ3YXJuaW5nKFxcXCJXMDYyXFxcIik7dmFyIG49MCxwPVtdO2lmKGxlZnQmJlxcXCIoaWRlbnRpZmllcilcXFwiPT09bGVmdC50eXBlJiZsZWZ0LnZhbHVlLm1hdGNoKC9eW0EtWl0oW0EtWjAtOV8kXSpbYS16XVtBLVphLXowLTlfJF0qKT8kLykmJi0xPT09XFxcIkFycmF5IE51bWJlciBTdHJpbmcgQm9vbGVhbiBEYXRlIE9iamVjdCBFcnJvciBTeW1ib2xcXFwiLmluZGV4T2YobGVmdC52YWx1ZSkmJihcXFwiTWF0aFxcXCI9PT1sZWZ0LnZhbHVlP3dhcm5pbmcoXFxcIlcwNjNcXFwiLGxlZnQpOnN0YXRlLm9wdGlvbi5uZXdjYXAmJndhcm5pbmcoXFxcIlcwNjRcXFwiLGxlZnQpKSxcXFwiKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClmb3IoO3BbcC5sZW5ndGhdPWV4cHJlc3Npb24oMTApLG4rPTEsXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KWNvbW1hKCk7cmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIGxlZnQmJihzdGF0ZS5pbkVTNSgpfHxcXFwicGFyc2VJbnRcXFwiIT09bGVmdC52YWx1ZXx8MSE9PW58fHdhcm5pbmcoXFxcIlcwNjVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxzdGF0ZS5vcHRpb24uZXZpbHx8KFxcXCJldmFsXFxcIj09PWxlZnQudmFsdWV8fFxcXCJGdW5jdGlvblxcXCI9PT1sZWZ0LnZhbHVlfHxcXFwiZXhlY1NjcmlwdFxcXCI9PT1sZWZ0LnZhbHVlPyh3YXJuaW5nKFxcXCJXMDYxXFxcIixsZWZ0KSxwWzBdJiZcXFwiKHN0cmluZylcXFwiPT09WzBdLmlkJiZhZGRJbnRlcm5hbFNyYyhsZWZ0LHBbMF0udmFsdWUpKTohcFswXXx8XFxcIihzdHJpbmcpXFxcIiE9PXBbMF0uaWR8fFxcXCJzZXRUaW1lb3V0XFxcIiE9PWxlZnQudmFsdWUmJlxcXCJzZXRJbnRlcnZhbFxcXCIhPT1sZWZ0LnZhbHVlPyFwWzBdfHxcXFwiKHN0cmluZylcXFwiIT09cFswXS5pZHx8XFxcIi5cXFwiIT09bGVmdC52YWx1ZXx8XFxcIndpbmRvd1xcXCIhPT1sZWZ0LmxlZnQudmFsdWV8fFxcXCJzZXRUaW1lb3V0XFxcIiE9PWxlZnQucmlnaHQmJlxcXCJzZXRJbnRlcnZhbFxcXCIhPT1sZWZ0LnJpZ2h0fHwod2FybmluZyhcXFwiVzA2NlxcXCIsbGVmdCksYWRkSW50ZXJuYWxTcmMobGVmdCxwWzBdLnZhbHVlKSk6KHdhcm5pbmcoXFxcIlcwNjZcXFwiLGxlZnQpLGFkZEludGVybmFsU3JjKGxlZnQscFswXS52YWx1ZSkpKSxsZWZ0LmlkZW50aWZpZXJ8fFxcXCIuXFxcIj09PWxlZnQuaWR8fFxcXCJbXFxcIj09PWxlZnQuaWR8fFxcXCI9PlxcXCI9PT1sZWZ0LmlkfHxcXFwiKFxcXCI9PT1sZWZ0LmlkfHxcXFwiJiZcXFwiPT09bGVmdC5pZHx8XFxcInx8XFxcIj09PWxlZnQuaWR8fFxcXCI/XFxcIj09PWxlZnQuaWR8fHN0YXRlLmluRVM2KCkmJmxlZnRbXFxcIihuYW1lKVxcXCJdfHx3YXJuaW5nKFxcXCJXMDY3XFxcIix0aGF0KSksdGhhdC5sZWZ0PWxlZnQsdGhhdH0sMTU1LCEwKS5leHBzPSEwLHByZWZpeChcXFwiKFxcXCIsZnVuY3Rpb24oKXt2YXIgcG4xLHJldCx0cmlnZ2VyRm5FeHByLGZpcnN0LGxhc3QscG49c3RhdGUudG9rZW5zLm5leHQsaT0tMSxwYXJlbnM9MSxvcGVuaW5nPXN0YXRlLnRva2Vucy5jdXJyLHByZWNlZWRpbmc9c3RhdGUudG9rZW5zLnByZXYsaXNOZWNlc3Nhcnk9IXN0YXRlLm9wdGlvbi5zaW5nbGVHcm91cHM7ZG9cXFwiKFxcXCI9PT1wbi52YWx1ZT9wYXJlbnMrPTE6XFxcIilcXFwiPT09cG4udmFsdWUmJihwYXJlbnMtPTEpLGkrPTEscG4xPXBuLHBuPXBlZWsoaSk7d2hpbGUoKDAhPT1wYXJlbnN8fFxcXCIpXFxcIiE9PXBuMS52YWx1ZSkmJlxcXCI7XFxcIiE9PXBuLnZhbHVlJiZcXFwiKGVuZClcXFwiIT09cG4udHlwZSk7aWYoXFxcImZ1bmN0aW9uXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYodHJpZ2dlckZuRXhwcj1zdGF0ZS50b2tlbnMubmV4dC5pbW1lZD0hMCksXFxcIj0+XFxcIj09PXBuLnZhbHVlKXJldHVybiBkb0Z1bmN0aW9uKHt0eXBlOlxcXCJhcnJvd1xcXCIscGFyc2VkT3BlbmluZzohMH0pO3ZhciBleHBycz1bXTtpZihcXFwiKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClmb3IoO2V4cHJzLnB1c2goZXhwcmVzc2lvbigxMCkpLFxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkOylzdGF0ZS5vcHRpb24ubm9jb21tYSYmd2FybmluZyhcXFwiVzEyN1xcXCIpLGNvbW1hKCk7cmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiLHRoaXMpLHN0YXRlLm9wdGlvbi5pbW1lZCYmZXhwcnNbMF0mJlxcXCJmdW5jdGlvblxcXCI9PT1leHByc1swXS5pZCYmXFxcIihcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJlxcXCIuXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZcXFwiW1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzA2OFxcXCIsdGhpcyksZXhwcnMubGVuZ3RoPyhleHBycy5sZW5ndGg+MT8ocmV0PU9iamVjdC5jcmVhdGUoc3RhdGUuc3ludGF4W1xcXCIsXFxcIl0pLHJldC5leHBycz1leHBycyxmaXJzdD1leHByc1swXSxsYXN0PWV4cHJzW2V4cHJzLmxlbmd0aC0xXSxpc05lY2Vzc2FyeXx8KGlzTmVjZXNzYXJ5PXByZWNlZWRpbmcuYXNzaWdufHxwcmVjZWVkaW5nLmRlbGltKSk6KHJldD1maXJzdD1sYXN0PWV4cHJzWzBdLGlzTmVjZXNzYXJ5fHwoaXNOZWNlc3Nhcnk9b3BlbmluZy5iZWdpbnNTdG10JiYoXFxcIntcXFwiPT09cmV0LmlkfHx0cmlnZ2VyRm5FeHByfHxpc0Z1bmN0b3IocmV0KSl8fHRyaWdnZXJGbkV4cHImJighaXNFbmRPZkV4cHIoKXx8XFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLnByZXYuaWQpfHxpc0Z1bmN0b3IocmV0KSYmIWlzRW5kT2ZFeHByKCl8fFxcXCJ7XFxcIj09PXJldC5pZCYmXFxcIj0+XFxcIj09PXByZWNlZWRpbmcuaWR8fFxcXCIobnVtYmVyKVxcXCI9PT1yZXQudHlwZSYmY2hlY2tQdW5jdHVhdG9yKHBuLFxcXCIuXFxcIikmJi9eXFxcXGQrJC8udGVzdChyZXQudmFsdWUpKSkscmV0JiYoIWlzTmVjZXNzYXJ5JiYoZmlyc3QubGVmdHx8Zmlyc3QucmlnaHR8fHJldC5leHBycykmJihpc05lY2Vzc2FyeT0haXNCZWdpbk9mRXhwcihwcmVjZWVkaW5nKSYmZmlyc3QubGJwPD1wcmVjZWVkaW5nLmxicHx8IWlzRW5kT2ZFeHByKCkmJmxhc3QubGJwPHN0YXRlLnRva2Vucy5uZXh0LmxicCksaXNOZWNlc3Nhcnl8fHdhcm5pbmcoXFxcIlcxMjZcXFwiLG9wZW5pbmcpLHJldC5wYXJlbj0hMCkscmV0KTp2b2lkIDB9KSxhcHBsaWNhdGlvbihcXFwiPT5cXFwiKSxpbmZpeChcXFwiW1xcXCIsZnVuY3Rpb24obGVmdCx0aGF0KXt2YXIgcyxlPWV4cHJlc3Npb24oMTApO3JldHVybiBlJiZcXFwiKHN0cmluZylcXFwiPT09ZS50eXBlJiYoc3RhdGUub3B0aW9uLmV2aWx8fFxcXCJldmFsXFxcIiE9PWUudmFsdWUmJlxcXCJleGVjU2NyaXB0XFxcIiE9PWUudmFsdWV8fGlzR2xvYmFsRXZhbChsZWZ0LHN0YXRlKSYmd2FybmluZyhcXFwiVzA2MVxcXCIpLGNvdW50TWVtYmVyKGUudmFsdWUpLCFzdGF0ZS5vcHRpb24uc3ViJiZyZWcuaWRlbnRpZmllci50ZXN0KGUudmFsdWUpJiYocz1zdGF0ZS5zeW50YXhbZS52YWx1ZV0scyYmaXNSZXNlcnZlZChzKXx8d2FybmluZyhcXFwiVzA2OVxcXCIsc3RhdGUudG9rZW5zLnByZXYsZS52YWx1ZSkpKSxhZHZhbmNlKFxcXCJdXFxcIix0aGF0KSxlJiZcXFwiaGFzT3duUHJvcGVydHlcXFwiPT09ZS52YWx1ZSYmXFxcIj1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJndhcm5pbmcoXFxcIlcwMDFcXFwiKSx0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PWUsdGhhdH0sMTYwLCEwKSxwcmVmaXgoXFxcIltcXFwiLGZ1bmN0aW9uKCl7dmFyIGJsb2NrdHlwZT1sb29rdXBCbG9ja1R5cGUoKTtpZihibG9ja3R5cGUuaXNDb21wQXJyYXkpcmV0dXJuIHN0YXRlLm9wdGlvbi5lc25leHR8fHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJhcnJheSBjb21wcmVoZW5zaW9uXFxcIiksY29tcHJlaGVuc2l2ZUFycmF5RXhwcmVzc2lvbigpO2lmKGJsb2NrdHlwZS5pc0Rlc3RBc3NpZ24pcmV0dXJuIHRoaXMuZGVzdHJ1Y3RBc3NpZ249ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oe29wZW5pbmdQYXJzZWQ6ITAsYXNzaWdubWVudDohMH0pLHRoaXM7dmFyIGI9c3RhdGUudG9rZW5zLmN1cnIubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCk7Zm9yKHRoaXMuZmlyc3Q9W10sYiYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCxzdGF0ZS50b2tlbnMubmV4dC5mcm9tPT09aW5kZW50K3N0YXRlLm9wdGlvbi5pbmRlbnQmJihpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQpKTtcXFwiKGVuZClcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXtmb3IoO1xcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkOyl7aWYoIXN0YXRlLm9wdGlvbi5lbGlzaW9uKXtpZihzdGF0ZS5pbkVTNSgpKXt3YXJuaW5nKFxcXCJXMTI4XFxcIik7ZG8gYWR2YW5jZShcXFwiLFxcXCIpO3doaWxlKFxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKTtjb250aW51ZX13YXJuaW5nKFxcXCJXMDcwXFxcIil9YWR2YW5jZShcXFwiLFxcXCIpfWlmKFxcXCJdXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWJyZWFrO2lmKHRoaXMuZmlyc3QucHVzaChleHByZXNzaW9uKDEwKSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7aWYoY29tbWEoe2FsbG93VHJhaWxpbmc6ITB9KSxcXFwiXVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmIXN0YXRlLmluRVM1KCkpe3dhcm5pbmcoXFxcIlcwNzBcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTticmVha319cmV0dXJuIGImJihpbmRlbnQtPXN0YXRlLm9wdGlvbi5pbmRlbnQpLGFkdmFuY2UoXFxcIl1cXFwiLHRoaXMpLHRoaXN9KSxmdW5jdGlvbih4KXt4Lm51ZD1mdW5jdGlvbigpe3ZhciBiLGYsaSxwLHQsbmV4dFZhbCxpc0dlbmVyYXRvck1ldGhvZD0hMSxwcm9wcz1PYmplY3QuY3JlYXRlKG51bGwpO2I9c3RhdGUudG9rZW5zLmN1cnIubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCksYiYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCxzdGF0ZS50b2tlbnMubmV4dC5mcm9tPT09aW5kZW50K3N0YXRlLm9wdGlvbi5pbmRlbnQmJihpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQpKTt2YXIgYmxvY2t0eXBlPWxvb2t1cEJsb2NrVHlwZSgpO2lmKGJsb2NrdHlwZS5pc0Rlc3RBc3NpZ24pcmV0dXJuIHRoaXMuZGVzdHJ1Y3RBc3NpZ249ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oe29wZW5pbmdQYXJzZWQ6ITAsYXNzaWdubWVudDohMH0pLHRoaXM7Zm9yKDtcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZDspe2lmKG5leHRWYWw9c3RhdGUudG9rZW5zLm5leHQudmFsdWUsIXN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXJ8fFxcXCIsXFxcIiE9PXBlZWtJZ25vcmVFT0woKS5pZCYmXFxcIn1cXFwiIT09cGVla0lnbm9yZUVPTCgpLmlkKWlmKFxcXCI6XFxcIj09PXBlZWsoKS5pZHx8XFxcImdldFxcXCIhPT1uZXh0VmFsJiZcXFwic2V0XFxcIiE9PW5leHRWYWwpe2lmKFxcXCIqXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiZcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/KHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJnZW5lcmF0b3IgZnVuY3Rpb25zXFxcIixcXFwiNlxcXCIpLGFkdmFuY2UoXFxcIipcXFwiKSxpc0dlbmVyYXRvck1ldGhvZD0hMCk6aXNHZW5lcmF0b3JNZXRob2Q9ITEsXFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpaT1jb21wdXRlZFByb3BlcnR5TmFtZSgpLHN0YXRlLm5hbWVTdGFjay5zZXQoaSk7ZWxzZSBpZihzdGF0ZS5uYW1lU3RhY2suc2V0KHN0YXRlLnRva2Vucy5uZXh0KSxpPXByb3BlcnR5TmFtZSgpLHNhdmVQcm9wZXJ0eShwcm9wcyxpLHN0YXRlLnRva2Vucy5uZXh0KSxcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGkpYnJlYWs7XFxcIihcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjb25jaXNlIG1ldGhvZHNcXFwiLFxcXCI2XFxcIiksZG9GdW5jdGlvbih7dHlwZTppc0dlbmVyYXRvck1ldGhvZD9cXFwiZ2VuZXJhdG9yXFxcIjpudWxsfSkpOihhZHZhbmNlKFxcXCI6XFxcIiksZXhwcmVzc2lvbigxMCkpfWVsc2UgYWR2YW5jZShuZXh0VmFsKSxzdGF0ZS5pbkVTNSgpfHxlcnJvcihcXFwiRTAzNFxcXCIpLGk9cHJvcGVydHlOYW1lKCksaXx8c3RhdGUuaW5FUzYoKXx8ZXJyb3IoXFxcIkUwMzVcXFwiKSxpJiZzYXZlQWNjZXNzb3IobmV4dFZhbCxwcm9wcyxpLHN0YXRlLnRva2Vucy5jdXJyKSx0PXN0YXRlLnRva2Vucy5uZXh0LGY9ZG9GdW5jdGlvbigpLHA9ZltcXFwiKHBhcmFtcylcXFwiXSxcXFwiZ2V0XFxcIj09PW5leHRWYWwmJmkmJnA/d2FybmluZyhcXFwiVzA3NlxcXCIsdCxwWzBdLGkpOlxcXCJzZXRcXFwiIT09bmV4dFZhbHx8IWl8fHAmJjE9PT1wLmxlbmd0aHx8d2FybmluZyhcXFwiVzA3N1xcXCIsdCxpKTtlbHNlIHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJvYmplY3Qgc2hvcnQgbm90YXRpb25cXFwiLFxcXCI2XFxcIiksaT1wcm9wZXJ0eU5hbWUoITApLHNhdmVQcm9wZXJ0eShwcm9wcyxpLHN0YXRlLnRva2Vucy5uZXh0KSxleHByZXNzaW9uKDEwKTtpZihjb3VudE1lbWJlcihpKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztjb21tYSh7YWxsb3dUcmFpbGluZzohMCxwcm9wZXJ0eTohMH0pLFxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkP3dhcm5pbmcoXFxcIlcwNzBcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTpcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUuaW5FUzUoKXx8d2FybmluZyhcXFwiVzA3MFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpfXJldHVybiBiJiYoaW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50KSxhZHZhbmNlKFxcXCJ9XFxcIix0aGlzKSxjaGVja1Byb3BlcnRpZXMocHJvcHMpLHRoaXN9LHguZnVkPWZ1bmN0aW9uKCl7ZXJyb3IoXFxcIkUwMzZcXFwiLHN0YXRlLnRva2Vucy5jdXJyKX19KGRlbGltKFxcXCJ7XFxcIikpO3ZhciBjb25zdHN0YXRlbWVudD1zdG10KFxcXCJjb25zdFxcXCIsZnVuY3Rpb24oY29udGV4dCl7cmV0dXJuIGJsb2NrVmFyaWFibGVTdGF0ZW1lbnQoXFxcImNvbnN0XFxcIix0aGlzLGNvbnRleHQpfSk7Y29uc3RzdGF0ZW1lbnQuZXhwcz0hMDt2YXIgbGV0c3RhdGVtZW50PXN0bXQoXFxcImxldFxcXCIsZnVuY3Rpb24oY29udGV4dCl7cmV0dXJuIGJsb2NrVmFyaWFibGVTdGF0ZW1lbnQoXFxcImxldFxcXCIsdGhpcyxjb250ZXh0KX0pO2xldHN0YXRlbWVudC5leHBzPSEwO3ZhciB2YXJzdGF0ZW1lbnQ9c3RtdChcXFwidmFyXFxcIixmdW5jdGlvbihjb250ZXh0KXt2YXIgdG9rZW5zLGxvbmUsdmFsdWUscHJlZml4PWNvbnRleHQmJmNvbnRleHQucHJlZml4LGluZXhwb3J0PWNvbnRleHQmJmNvbnRleHQuaW5leHBvcnQsaW1wbGllZD1jb250ZXh0JiZjb250ZXh0LmltcGxpZWQscmVwb3J0PSEoY29udGV4dCYmY29udGV4dC5pZ25vcmUpO2Zvcih0aGlzLmZpcnN0PVtdOzspe3ZhciBuYW1lcz1bXTtfLmNvbnRhaW5zKFtcXFwie1xcXCIsXFxcIltcXFwiXSxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk/KHRva2Vucz1kZXN0cnVjdHVyaW5nUGF0dGVybigpLGxvbmU9ITEpOih0b2tlbnM9W3tpZDppZGVudGlmaWVyKCksdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9XSxsb25lPSEwKSxwcmVmaXgmJmltcGxpZWR8fCFyZXBvcnR8fCFzdGF0ZS5vcHRpb24udmFyc3RtdHx8d2FybmluZyhcXFwiVzEzMlxcXCIsdGhpcyksdGhpcy5maXJzdD10aGlzLmZpcnN0LmNvbmNhdChuYW1lcyk7Zm9yKHZhciB0IGluIHRva2Vucyl0b2tlbnMuaGFzT3duUHJvcGVydHkodCkmJih0PXRva2Vuc1t0XSwhaW1wbGllZCYmc3RhdGUuZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0mJihwcmVkZWZpbmVkW3QuaWRdPT09ITE/d2FybmluZyhcXFwiVzA3OVxcXCIsdC50b2tlbix0LmlkKTpzdGF0ZS5vcHRpb24uZnV0dXJlaG9zdGlsZT09PSExJiYoIXN0YXRlLmluRVM1KCkmJnZhcnMuZWNtYUlkZW50aWZpZXJzWzVdW3QuaWRdPT09ITF8fCFzdGF0ZS5pbkVTNigpJiZ2YXJzLmVjbWFJZGVudGlmaWVyc1s2XVt0LmlkXT09PSExKSYmd2FybmluZyhcXFwiVzEyOVxcXCIsdC50b2tlbix0LmlkKSksdC5pZCYmKFxcXCJmb3JcXFwiPT09aW1wbGllZD8oc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5oYXModC5pZCl8fHJlcG9ydCYmd2FybmluZyhcXFwiVzA4OFxcXCIsdC50b2tlbix0LmlkKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnVzZSh0LmlkLHQudG9rZW4pKTooc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0LmlkLHt0eXBlOlxcXCJ2YXJcXFwiLHRva2VuOnQudG9rZW59KSxsb25lJiZpbmV4cG9ydCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZCh0LmlkLHQudG9rZW4pKSxuYW1lcy5wdXNoKHQudG9rZW4pKSk7aWYoXFxcIj1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihzdGF0ZS5uYW1lU3RhY2suc2V0KHN0YXRlLnRva2Vucy5jdXJyKSxhZHZhbmNlKFxcXCI9XFxcIikscHJlZml4fHwhcmVwb3J0fHxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl18fFxcXCJ1bmRlZmluZWRcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWR8fHdhcm5pbmcoXFxcIlcwODBcXFwiLHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5wcmV2LnZhbHVlKSxcXFwiPVxcXCI9PT1wZWVrKDApLmlkJiZzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyJiYoIXByZWZpeCYmcmVwb3J0JiYhc3RhdGUuZnVuY3RbXFxcIihwYXJhbXMpXFxcIl18fC0xPT09c3RhdGUuZnVuY3RbXFxcIihwYXJhbXMpXFxcIl0uaW5kZXhPZihzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSkpJiZ3YXJuaW5nKFxcXCJXMTIwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksdmFsdWU9ZXhwcmVzc2lvbihwcmVmaXg/MTIwOjEwKSxsb25lP3Rva2Vuc1swXS5maXJzdD12YWx1ZTpkZXN0cnVjdHVyaW5nUGF0dGVybk1hdGNoKG5hbWVzLHZhbHVlKSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7Y29tbWEoKX1yZXR1cm4gdGhpc30pO3ZhcnN0YXRlbWVudC5leHBzPSEwLGJsb2Nrc3RtdChcXFwiY2xhc3NcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGNsYXNzZGVmLmNhbGwodGhpcywhMCl9KSxibG9ja3N0bXQoXFxcImZ1bmN0aW9uXFxcIixmdW5jdGlvbihjb250ZXh0KXt2YXIgaW5leHBvcnQ9Y29udGV4dCYmY29udGV4dC5pbmV4cG9ydCxnZW5lcmF0b3I9ITE7XFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihhZHZhbmNlKFxcXCIqXFxcIiksc3RhdGUuaW5FUzYoe3N0cmljdDohMH0pP2dlbmVyYXRvcj0hMDp3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZnVuY3Rpb24qXFxcIixcXFwiNlxcXCIpKSxpbmJsb2NrJiZ3YXJuaW5nKFxcXCJXMDgyXFxcIixzdGF0ZS50b2tlbnMuY3Vycik7dmFyIGk9b3B0aW9uYWxpZGVudGlmaWVyKCk7cmV0dXJuIHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwoaSx7dHlwZTpcXFwiZnVuY3Rpb25cXFwiLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSksdm9pZCAwPT09aT93YXJuaW5nKFxcXCJXMDI1XFxcIik6aW5leHBvcnQmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQoaSxzdGF0ZS50b2tlbnMucHJldiksZG9GdW5jdGlvbih7bmFtZTppLHN0YXRlbWVudDp0aGlzLHR5cGU6Z2VuZXJhdG9yP1xcXCJnZW5lcmF0b3JcXFwiOm51bGwsaWdub3JlTG9vcEZ1bmM6aW5ibG9ja30pLFxcXCIoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZzdGF0ZS50b2tlbnMubmV4dC5saW5lPT09c3RhdGUudG9rZW5zLmN1cnIubGluZSYmZXJyb3IoXFxcIkUwMzlcXFwiKSx0aGlzfSkscHJlZml4KFxcXCJmdW5jdGlvblxcXCIsZnVuY3Rpb24oKXt2YXIgZ2VuZXJhdG9yPSExO1xcXCIqXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImZ1bmN0aW9uKlxcXCIsXFxcIjZcXFwiKSxhZHZhbmNlKFxcXCIqXFxcIiksZ2VuZXJhdG9yPSEwKTt2YXIgaT1vcHRpb25hbGlkZW50aWZpZXIoKTtyZXR1cm4gZG9GdW5jdGlvbih7bmFtZTppLHR5cGU6Z2VuZXJhdG9yP1xcXCJnZW5lcmF0b3JcXFwiOm51bGx9KSx0aGlzfSksYmxvY2tzdG10KFxcXCJpZlxcXCIsZnVuY3Rpb24oKXt2YXIgdD1zdGF0ZS50b2tlbnMubmV4dDtpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHN0YXRlLmNvbmRpdGlvbj0hMCxhZHZhbmNlKFxcXCIoXFxcIik7dmFyIGV4cHI9ZXhwcmVzc2lvbigwKTtjaGVja0NvbmRBc3NpZ25tZW50KGV4cHIpO3ZhciBmb3JpbmlmY2hlY2s9bnVsbDtzdGF0ZS5vcHRpb24uZm9yaW4mJnN0YXRlLmZvcmluaWZjaGVja25lZWRlZCYmKHN0YXRlLmZvcmluaWZjaGVja25lZWRlZD0hMSxmb3JpbmlmY2hlY2s9c3RhdGUuZm9yaW5pZmNoZWNrc1tzdGF0ZS5mb3JpbmlmY2hlY2tzLmxlbmd0aC0xXSxmb3JpbmlmY2hlY2sudHlwZT1cXFwiKHB1bmN0dWF0b3IpXFxcIj09PWV4cHIudHlwZSYmXFxcIiFcXFwiPT09ZXhwci52YWx1ZT9cXFwiKG5lZ2F0aXZlKVxcXCI6XFxcIihwb3NpdGl2ZSlcXFwiKSxhZHZhbmNlKFxcXCIpXFxcIix0KSxzdGF0ZS5jb25kaXRpb249ITE7dmFyIHM9YmxvY2soITAsITApO3JldHVybiBmb3JpbmlmY2hlY2smJlxcXCIobmVnYXRpdmUpXFxcIj09PWZvcmluaWZjaGVjay50eXBlJiZzJiZzWzBdJiZcXFwiKGlkZW50aWZpZXIpXFxcIj09PXNbMF0udHlwZSYmXFxcImNvbnRpbnVlXFxcIj09PXNbMF0udmFsdWUmJihmb3JpbmlmY2hlY2sudHlwZT1cXFwiKG5lZ2F0aXZlLXdpdGgtY29udGludWUpXFxcIiksXFxcImVsc2VcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihhZHZhbmNlKFxcXCJlbHNlXFxcIiksXFxcImlmXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwic3dpdGNoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkP3N0YXRlbWVudCgpOmJsb2NrKCEwLCEwKSksdGhpc30pLGJsb2Nrc3RtdChcXFwidHJ5XFxcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGRvQ2F0Y2goKXtpZihhZHZhbmNlKFxcXCJjYXRjaFxcXCIpLGFkdmFuY2UoXFxcIihcXFwiKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKFxcXCJjYXRjaHBhcmFtc1xcXCIpLGNoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLm5leHQsW1xcXCJbXFxcIixcXFwie1xcXCJdKSl7dmFyIHRva2Vucz1kZXN0cnVjdHVyaW5nUGF0dGVybigpO18uZWFjaCh0b2tlbnMsZnVuY3Rpb24odG9rZW4pe3Rva2VuLmlkJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZFBhcmFtKHRva2VuLmlkLHRva2VuLFxcXCJleGNlcHRpb25cXFwiKX0pfWVsc2VcXFwiKGlkZW50aWZpZXIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/d2FybmluZyhcXFwiRTAzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpOnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkUGFyYW0oaWRlbnRpZmllcigpLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJleGNlcHRpb25cXFwiKTtcXFwiaWZcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihzdGF0ZS5pbk1veigpfHx3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiY2F0Y2ggZmlsdGVyXFxcIiksYWR2YW5jZShcXFwiaWZcXFwiKSxleHByZXNzaW9uKDApKSxhZHZhbmNlKFxcXCIpXFxcIiksYmxvY2soITEpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpfXZhciBiO2ZvcihibG9jayghMCk7XFxcImNhdGNoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkOylpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLGImJiFzdGF0ZS5pbk1veigpJiZ3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwibXVsdGlwbGUgY2F0Y2ggYmxvY2tzXFxcIiksZG9DYXRjaCgpLGI9ITA7cmV0dXJuXFxcImZpbmFsbHlcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KGFkdmFuY2UoXFxcImZpbmFsbHlcXFwiKSxibG9jayghMCksdm9pZCAwKTooYnx8ZXJyb3IoXFxcIkUwMjFcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJjYXRjaFxcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHRoaXMpfSksYmxvY2tzdG10KFxcXCJ3aGlsZVxcXCIsZnVuY3Rpb24oKXt2YXIgdD1zdGF0ZS50b2tlbnMubmV4dDtyZXR1cm4gc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSs9MSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0rPTEsaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSxhZHZhbmNlKFxcXCIoXFxcIiksY2hlY2tDb25kQXNzaWdubWVudChleHByZXNzaW9uKDApKSxhZHZhbmNlKFxcXCIpXFxcIix0KSxibG9jayghMCwhMCksc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXS09MSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0tPTEsdGhpc30pLmxhYmVsbGVkPSEwLGJsb2Nrc3RtdChcXFwid2l0aFxcXCIsZnVuY3Rpb24oKXt2YXIgdD1zdGF0ZS50b2tlbnMubmV4dDtyZXR1cm4gc3RhdGUuaXNTdHJpY3QoKT9lcnJvcihcXFwiRTAxMFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpOnN0YXRlLm9wdGlvbi53aXRoc3RtdHx8d2FybmluZyhcXFwiVzA4NVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpLGFkdmFuY2UoXFxcIihcXFwiKSxleHByZXNzaW9uKDApLGFkdmFuY2UoXFxcIilcXFwiLHQpLGJsb2NrKCEwLCEwKSx0aGlzfSksYmxvY2tzdG10KFxcXCJzd2l0Y2hcXFwiLGZ1bmN0aW9uKCl7dmFyIHQ9c3RhdGUudG9rZW5zLm5leHQsZz0hMSxub2luZGVudD0hMTtcXG5mb3Ioc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSs9MSxhZHZhbmNlKFxcXCIoXFxcIiksY2hlY2tDb25kQXNzaWdubWVudChleHByZXNzaW9uKDApKSxhZHZhbmNlKFxcXCIpXFxcIix0KSx0PXN0YXRlLnRva2Vucy5uZXh0LGFkdmFuY2UoXFxcIntcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5mcm9tPT09aW5kZW50JiYobm9pbmRlbnQ9ITApLG5vaW5kZW50fHwoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50KSx0aGlzLmNhc2VzPVtdOzspc3dpdGNoKHN0YXRlLnRva2Vucy5uZXh0LmlkKXtjYXNlXFxcImNhc2VcXFwiOnN3aXRjaChzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0pe2Nhc2VcXFwieWllbGRcXFwiOmNhc2VcXFwiYnJlYWtcXFwiOmNhc2VcXFwiY2FzZVxcXCI6Y2FzZVxcXCJjb250aW51ZVxcXCI6Y2FzZVxcXCJyZXR1cm5cXFwiOmNhc2VcXFwic3dpdGNoXFxcIjpjYXNlXFxcInRocm93XFxcIjpicmVhaztkZWZhdWx0OnN0YXRlLnRva2Vucy5jdXJyLmNhc2VGYWxsc1Rocm91Z2h8fHdhcm5pbmcoXFxcIlcwODZcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjYXNlXFxcIil9YWR2YW5jZShcXFwiY2FzZVxcXCIpLHRoaXMuY2FzZXMucHVzaChleHByZXNzaW9uKDApKSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLGc9ITAsYWR2YW5jZShcXFwiOlxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXT1cXFwiY2FzZVxcXCI7YnJlYWs7Y2FzZVxcXCJkZWZhdWx0XFxcIjpzd2l0Y2goc3RhdGUuZnVuY3RbXFxcIih2ZXJiKVxcXCJdKXtjYXNlXFxcInlpZWxkXFxcIjpjYXNlXFxcImJyZWFrXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJ0aHJvd1xcXCI6YnJlYWs7ZGVmYXVsdDp0aGlzLmNhc2VzLmxlbmd0aCYmKHN0YXRlLnRva2Vucy5jdXJyLmNhc2VGYWxsc1Rocm91Z2h8fHdhcm5pbmcoXFxcIlcwODZcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJkZWZhdWx0XFxcIikpfWFkdmFuY2UoXFxcImRlZmF1bHRcXFwiKSxnPSEwLGFkdmFuY2UoXFxcIjpcXFwiKTticmVhaztjYXNlXFxcIn1cXFwiOnJldHVybiBub2luZGVudHx8KGluZGVudC09c3RhdGUub3B0aW9uLmluZGVudCksYWR2YW5jZShcXFwifVxcXCIsdCksc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXS09MSxzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl09dm9pZCAwLHZvaWQgMDtjYXNlXFxcIihlbmQpXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkUwMjNcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIiksdm9pZCAwO2RlZmF1bHQ6aWYoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50LGcpc3dpdGNoKHN0YXRlLnRva2Vucy5jdXJyLmlkKXtjYXNlXFxcIixcXFwiOnJldHVybiBlcnJvcihcXFwiRTA0MFxcXCIpLHZvaWQgMDtjYXNlXFxcIjpcXFwiOmc9ITEsc3RhdGVtZW50cygpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGVycm9yKFxcXCJFMDI1XFxcIixzdGF0ZS50b2tlbnMuY3Vyciksdm9pZCAwfWVsc2V7aWYoXFxcIjpcXFwiIT09c3RhdGUudG9rZW5zLmN1cnIuaWQpcmV0dXJuIGVycm9yKFxcXCJFMDIxXFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwiY2FzZVxcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHZvaWQgMDthZHZhbmNlKFxcXCI6XFxcIiksZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCI6XFxcIiksc3RhdGVtZW50cygpfWluZGVudC09c3RhdGUub3B0aW9uLmluZGVudH1yZXR1cm4gdGhpc30pLmxhYmVsbGVkPSEwLHN0bXQoXFxcImRlYnVnZ2VyXFxcIixmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5vcHRpb24uZGVidWd8fHdhcm5pbmcoXFxcIlcwODdcXFwiLHRoaXMpLHRoaXN9KS5leHBzPSEwLGZ1bmN0aW9uKCl7dmFyIHg9c3RtdChcXFwiZG9cXFwiLGZ1bmN0aW9uKCl7c3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSs9MSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0rPTEsaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSx0aGlzLmZpcnN0PWJsb2NrKCEwLCEwKSxhZHZhbmNlKFxcXCJ3aGlsZVxcXCIpO3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVybiBhZHZhbmNlKFxcXCIoXFxcIiksY2hlY2tDb25kQXNzaWdubWVudChleHByZXNzaW9uKDApKSxhZHZhbmNlKFxcXCIpXFxcIix0KSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXS09MSx0aGlzfSk7eC5sYWJlbGxlZD0hMCx4LmV4cHM9ITB9KCksYmxvY2tzdG10KFxcXCJmb3JcXFwiLGZ1bmN0aW9uKCl7dmFyIHMsdD1zdGF0ZS50b2tlbnMubmV4dCxsZXRzY29wZT0hMSxmb3JlYWNodG9rPW51bGw7XFxcImVhY2hcXFwiPT09dC52YWx1ZSYmKGZvcmVhY2h0b2s9dCxhZHZhbmNlKFxcXCJlYWNoXFxcIiksc3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImZvciBlYWNoXFxcIikpLGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksYWR2YW5jZShcXFwiKFxcXCIpO3ZhciBuZXh0b3AsY29tbWEsaW5pdGlhbGl6ZXIsaT0wLGlub2Y9W1xcXCJpblxcXCIsXFxcIm9mXFxcIl0sbGV2ZWw9MDtjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5uZXh0LFtcXFwie1xcXCIsXFxcIltcXFwiXSkmJisrbGV2ZWw7ZG97aWYobmV4dG9wPXBlZWsoaSksKytpLGNoZWNrUHVuY3R1YXRvcnMobmV4dG9wLFtcXFwie1xcXCIsXFxcIltcXFwiXSk/KytsZXZlbDpjaGVja1B1bmN0dWF0b3JzKG5leHRvcCxbXFxcIn1cXFwiLFxcXCJdXFxcIl0pJiYtLWxldmVsLDA+bGV2ZWwpYnJlYWs7MD09PWxldmVsJiYoIWNvbW1hJiZjaGVja1B1bmN0dWF0b3IobmV4dG9wLFxcXCIsXFxcIik/Y29tbWE9bmV4dG9wOiFpbml0aWFsaXplciYmY2hlY2tQdW5jdHVhdG9yKG5leHRvcCxcXFwiPVxcXCIpJiYoaW5pdGlhbGl6ZXI9bmV4dG9wKSl9d2hpbGUobGV2ZWw+MHx8IV8uY29udGFpbnMoaW5vZixuZXh0b3AudmFsdWUpJiZcXFwiO1xcXCIhPT1uZXh0b3AudmFsdWUmJlxcXCIoZW5kKVxcXCIhPT1uZXh0b3AudHlwZSk7aWYoXy5jb250YWlucyhpbm9mLG5leHRvcC52YWx1ZSkpe3N0YXRlLmluRVM2KCl8fFxcXCJvZlxcXCIhPT1uZXh0b3AudmFsdWV8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLG5leHRvcCxcXFwiZm9yIG9mXFxcIixcXFwiNlxcXCIpO3ZhciBvaz0hKGluaXRpYWxpemVyfHxjb21tYSk7aWYoaW5pdGlhbGl6ZXImJmVycm9yKFxcXCJXMTMzXFxcIixjb21tYSxuZXh0b3AudmFsdWUsXFxcImluaXRpYWxpemVyIGlzIGZvcmJpZGRlblxcXCIpLGNvbW1hJiZlcnJvcihcXFwiVzEzM1xcXCIsY29tbWEsbmV4dG9wLnZhbHVlLFxcXCJtb3JlIHRoYW4gb25lIEZvckJpbmRpbmdcXFwiKSxcXFwidmFyXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhhZHZhbmNlKFxcXCJ2YXJcXFwiKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe3ByZWZpeDohMH0pKTpcXFwibGV0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiY29uc3RcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KGFkdmFuY2Uoc3RhdGUudG9rZW5zLm5leHQuaWQpLGxldHNjb3BlPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe3ByZWZpeDohMH0pKTpPYmplY3QuY3JlYXRlKHZhcnN0YXRlbWVudCkuZnVkKHtwcmVmaXg6ITAsaW1wbGllZDpcXFwiZm9yXFxcIixpZ25vcmU6IW9rfSksYWR2YW5jZShuZXh0b3AudmFsdWUpLGV4cHJlc3Npb24oMjApLGFkdmFuY2UoXFxcIilcXFwiLHQpLFxcXCJpblxcXCI9PT1uZXh0b3AudmFsdWUmJnN0YXRlLm9wdGlvbi5mb3JpbiYmKHN0YXRlLmZvcmluaWZjaGVja25lZWRlZD0hMCx2b2lkIDA9PT1zdGF0ZS5mb3JpbmlmY2hlY2tzJiYoc3RhdGUuZm9yaW5pZmNoZWNrcz1bXSksc3RhdGUuZm9yaW5pZmNoZWNrcy5wdXNoKHt0eXBlOlxcXCIobm9uZSlcXFwifSkpLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0rPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdKz0xLHM9YmxvY2soITAsITApLFxcXCJpblxcXCI9PT1uZXh0b3AudmFsdWUmJnN0YXRlLm9wdGlvbi5mb3Jpbil7aWYoc3RhdGUuZm9yaW5pZmNoZWNrcyYmc3RhdGUuZm9yaW5pZmNoZWNrcy5sZW5ndGg+MCl7dmFyIGNoZWNrPXN0YXRlLmZvcmluaWZjaGVja3MucG9wKCk7KHMmJnMubGVuZ3RoPjAmJihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHNbMF18fFxcXCJpZlxcXCIhPT1zWzBdLnZhbHVlKXx8XFxcIihwb3NpdGl2ZSlcXFwiPT09Y2hlY2sudHlwZSYmcy5sZW5ndGg+MXx8XFxcIihuZWdhdGl2ZSlcXFwiPT09Y2hlY2sudHlwZSkmJndhcm5pbmcoXFxcIlcwODlcXFwiLHRoaXMpfXN0YXRlLmZvcmluaWZjaGVja25lZWRlZD0hMX1zdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXS09MX1lbHNle2lmKGZvcmVhY2h0b2smJmVycm9yKFxcXCJFMDQ1XFxcIixmb3JlYWNodG9rKSxcXFwiO1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClpZihcXFwidmFyXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWFkdmFuY2UoXFxcInZhclxcXCIpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCgpO2Vsc2UgaWYoXFxcImxldFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClhZHZhbmNlKFxcXCJsZXRcXFwiKSxsZXRzY29wZT0hMCxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKCksc3RhdGUudG9rZW5zLmN1cnIuZnVkKCk7ZWxzZSBmb3IoO2V4cHJlc3Npb24oMCxcXFwiZm9yXFxcIiksXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KWNvbW1hKCk7aWYobm9saW5lYnJlYWsoc3RhdGUudG9rZW5zLmN1cnIpLGFkdmFuY2UoXFxcIjtcXFwiKSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0rPTEsXFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJmNoZWNrQ29uZEFzc2lnbm1lbnQoZXhwcmVzc2lvbigwKSksbm9saW5lYnJlYWsoc3RhdGUudG9rZW5zLmN1cnIpLGFkdmFuY2UoXFxcIjtcXFwiKSxcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmZXJyb3IoXFxcIkUwMjFcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCIpXFxcIixcXFwiO1xcXCIpLFxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7ZXhwcmVzc2lvbigwLFxcXCJmb3JcXFwiKSxcXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspY29tbWEoKTthZHZhbmNlKFxcXCIpXFxcIix0KSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLGJsb2NrKCEwLCEwKSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXS09MX1yZXR1cm4gbGV0c2NvcGUmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLHRoaXN9KS5sYWJlbGxlZD0hMCxzdG10KFxcXCJicmVha1xcXCIsZnVuY3Rpb24oKXt2YXIgdj1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZTtyZXR1cm4gc3RhdGUub3B0aW9uLmFzaXx8bm9saW5lYnJlYWsodGhpcyksXFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fHN0YXRlLnRva2Vucy5uZXh0LnJlYWNofHxzdGF0ZS50b2tlbnMuY3Vyci5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KT8wPT09c3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSYmd2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdGhpcy52YWx1ZSk6KHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uZnVuY3QuaGFzQnJlYWtMYWJlbCh2KXx8d2FybmluZyhcXFwiVzA5MFxcXCIsc3RhdGUudG9rZW5zLm5leHQsdiksdGhpcy5maXJzdD1zdGF0ZS50b2tlbnMubmV4dCxhZHZhbmNlKCkpLHJlYWNoYWJsZSh0aGlzKSx0aGlzfSkuZXhwcz0hMCxzdG10KFxcXCJjb250aW51ZVxcXCIsZnVuY3Rpb24oKXt2YXIgdj1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZTtyZXR1cm4gMD09PXN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0mJndhcm5pbmcoXFxcIlcwNTJcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHRoaXMudmFsdWUpLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXXx8d2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdGhpcy52YWx1ZSksc3RhdGUub3B0aW9uLmFzaXx8bm9saW5lYnJlYWsodGhpcyksXFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fHN0YXRlLnRva2Vucy5uZXh0LnJlYWNofHxzdGF0ZS50b2tlbnMuY3Vyci5saW5lPT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KSYmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uZnVuY3QuaGFzQnJlYWtMYWJlbCh2KXx8d2FybmluZyhcXFwiVzA5MFxcXCIsc3RhdGUudG9rZW5zLm5leHQsdiksdGhpcy5maXJzdD1zdGF0ZS50b2tlbnMubmV4dCxhZHZhbmNlKCkpLHJlYWNoYWJsZSh0aGlzKSx0aGlzfSkuZXhwcz0hMCxzdG10KFxcXCJyZXR1cm5cXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZT09PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCk/XFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fHN0YXRlLnRva2Vucy5uZXh0LnJlYWNofHwodGhpcy5maXJzdD1leHByZXNzaW9uKDApLCF0aGlzLmZpcnN0fHxcXFwiKHB1bmN0dWF0b3IpXFxcIiE9PXRoaXMuZmlyc3QudHlwZXx8XFxcIj1cXFwiIT09dGhpcy5maXJzdC52YWx1ZXx8dGhpcy5maXJzdC5wYXJlbnx8c3RhdGUub3B0aW9uLmJvc3N8fHdhcm5pbmdBdChcXFwiVzA5M1xcXCIsdGhpcy5maXJzdC5saW5lLHRoaXMuZmlyc3QuY2hhcmFjdGVyKSk6XFxcIihwdW5jdHVhdG9yKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlJiZbXFxcIltcXFwiLFxcXCJ7XFxcIixcXFwiK1xcXCIsXFxcIi1cXFwiXS5pbmRleE9mKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT4tMSYmbm9saW5lYnJlYWsodGhpcykscmVhY2hhYmxlKHRoaXMpLHRoaXN9KS5leHBzPSEwLGZ1bmN0aW9uKHgpe3guZXhwcz0hMCx4LmxicD0yNX0ocHJlZml4KFxcXCJ5aWVsZFxcXCIsZnVuY3Rpb24oKXt2YXIgcHJldj1zdGF0ZS50b2tlbnMucHJldjtzdGF0ZS5pbkVTNighMCkmJiFzdGF0ZS5mdW5jdFtcXFwiKGdlbmVyYXRvcilcXFwiXT9cXFwiKGNhdGNoKVxcXCI9PT1zdGF0ZS5mdW5jdFtcXFwiKG5hbWUpXFxcIl0mJnN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGdlbmVyYXRvcilcXFwiXXx8ZXJyb3IoXFxcIkUwNDZcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJ5aWVsZFxcXCIpOnN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJ5aWVsZFxcXCIsXFxcIjZcXFwiKSxzdGF0ZS5mdW5jdFtcXFwiKGdlbmVyYXRvcilcXFwiXT1cXFwieWllbGRlZFxcXCI7dmFyIGRlbGVnYXRpbmdZaWVsZD0hMTtyZXR1cm5cXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGRlbGVnYXRpbmdZaWVsZD0hMCxhZHZhbmNlKFxcXCIqXFxcIikpLHRoaXMubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCkmJnN0YXRlLmluTW96KCk/c3RhdGUub3B0aW9uLmFzaXx8bm9saW5lYnJlYWsodGhpcyk6KChkZWxlZ2F0aW5nWWllbGR8fFxcXCI7XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYhc3RhdGUub3B0aW9uLmFzaSYmIXN0YXRlLnRva2Vucy5uZXh0LnJlYWNoJiZzdGF0ZS50b2tlbnMubmV4dC5udWQpJiYobm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5uZXh0KSx0aGlzLmZpcnN0PWV4cHJlc3Npb24oMTApLFxcXCIocHVuY3R1YXRvcilcXFwiIT09dGhpcy5maXJzdC50eXBlfHxcXFwiPVxcXCIhPT10aGlzLmZpcnN0LnZhbHVlfHx0aGlzLmZpcnN0LnBhcmVufHxzdGF0ZS5vcHRpb24uYm9zc3x8d2FybmluZ0F0KFxcXCJXMDkzXFxcIix0aGlzLmZpcnN0LmxpbmUsdGhpcy5maXJzdC5jaGFyYWN0ZXIpKSxzdGF0ZS5pbk1veigpJiZcXFwiKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKHByZXYubGJwPjMwfHwhcHJldi5hc3NpZ24mJiFpc0VuZE9mRXhwcigpfHxcXFwieWllbGRcXFwiPT09cHJldi5pZCkmJmVycm9yKFxcXCJFMDUwXFxcIix0aGlzKSksdGhpc30pKSxzdG10KFxcXCJ0aHJvd1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gbm9saW5lYnJlYWsodGhpcyksdGhpcy5maXJzdD1leHByZXNzaW9uKDIwKSxyZWFjaGFibGUodGhpcyksdGhpc30pLmV4cHM9ITAsc3RtdChcXFwiaW1wb3J0XFxcIixmdW5jdGlvbigpe2lmKHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJpbXBvcnRcXFwiLFxcXCI2XFxcIiksXFxcIihzdHJpbmcpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpcmV0dXJuIGFkdmFuY2UoXFxcIihzdHJpbmcpXFxcIiksdGhpcztpZihzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyKXtpZih0aGlzLm5hbWU9aWRlbnRpZmllcigpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwodGhpcy5uYW1lLHt0eXBlOlxcXCJjb25zdFxcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSlyZXR1cm4gYWR2YW5jZShcXFwiZnJvbVxcXCIpLGFkdmFuY2UoXFxcIihzdHJpbmcpXFxcIiksdGhpczthZHZhbmNlKFxcXCIsXFxcIil9aWYoXFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwiKlxcXCIpLGFkdmFuY2UoXFxcImFzXFxcIiksc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmKHRoaXMubmFtZT1pZGVudGlmaWVyKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0aGlzLm5hbWUse3R5cGU6XFxcImNvbnN0XFxcIix0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pKTtlbHNlIGZvcihhZHZhbmNlKFxcXCJ7XFxcIik7Oyl7aWYoXFxcIn1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2FkdmFuY2UoXFxcIn1cXFwiKTticmVha312YXIgaW1wb3J0TmFtZTtpZihcXFwiZGVmYXVsdFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlPyhpbXBvcnROYW1lPVxcXCJkZWZhdWx0XFxcIixhZHZhbmNlKFxcXCJkZWZhdWx0XFxcIikpOmltcG9ydE5hbWU9aWRlbnRpZmllcigpLFxcXCJhc1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcImFzXFxcIiksaW1wb3J0TmFtZT1pZGVudGlmaWVyKCkpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwoaW1wb3J0TmFtZSx7dHlwZTpcXFwiY29uc3RcXFwiLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2lmKFxcXCJ9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXthZHZhbmNlKFxcXCJ9XFxcIik7YnJlYWt9ZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTticmVha31hZHZhbmNlKFxcXCIsXFxcIil9cmV0dXJuIGFkdmFuY2UoXFxcImZyb21cXFwiKSxhZHZhbmNlKFxcXCIoc3RyaW5nKVxcXCIpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcImV4cG9ydFxcXCIsZnVuY3Rpb24oKXt2YXIgdG9rZW4saWRlbnRpZmllcixvaz0hMDtpZihzdGF0ZS5pbkVTNigpfHwod2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImV4cG9ydFxcXCIsXFxcIjZcXFwiKSxvaz0hMSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay5pc0dsb2JhbCgpfHwoZXJyb3IoXFxcIkUwNTNcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxvaz0hMSksXFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpcmV0dXJuIGFkdmFuY2UoXFxcIipcXFwiKSxhZHZhbmNlKFxcXCJmcm9tXFxcIiksYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSx0aGlzO2lmKFxcXCJkZWZhdWx0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpe3N0YXRlLm5hbWVTdGFjay5zZXQoc3RhdGUudG9rZW5zLm5leHQpLGFkdmFuY2UoXFxcImRlZmF1bHRcXFwiKTt2YXIgZXhwb3J0VHlwZT1zdGF0ZS50b2tlbnMubmV4dC5pZDtyZXR1cm4oXFxcImZ1bmN0aW9uXFxcIj09PWV4cG9ydFR5cGV8fFxcXCJjbGFzc1xcXCI9PT1leHBvcnRUeXBlKSYmKHRoaXMuYmxvY2s9ITApLHRva2VuPXBlZWsoKSxleHByZXNzaW9uKDEwKSxpZGVudGlmaWVyPXRva2VuLnZhbHVlLHRoaXMuYmxvY2smJihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKGlkZW50aWZpZXIse3R5cGU6ZXhwb3J0VHlwZSx0b2tlbjp0b2tlbn0pLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQoaWRlbnRpZmllcix0b2tlbikpLHRoaXN9aWYoXFxcIntcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2FkdmFuY2UoXFxcIntcXFwiKTtmb3IodmFyIGV4cG9ydGVkVG9rZW5zPVtdOzspe2lmKHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXJ8fGVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksYWR2YW5jZSgpLGV4cG9ydGVkVG9rZW5zLnB1c2goc3RhdGUudG9rZW5zLmN1cnIpLFxcXCJhc1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcImFzXFxcIiksc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcnx8ZXJyb3IoXFxcIkUwMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxhZHZhbmNlKCkpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtpZihcXFwifVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7YWR2YW5jZShcXFwifVxcXCIpO2JyZWFrfWVycm9yKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk7YnJlYWt9YWR2YW5jZShcXFwiLFxcXCIpfXJldHVyblxcXCJmcm9tXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlPyhhZHZhbmNlKFxcXCJmcm9tXFxcIiksYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSk6b2smJmV4cG9ydGVkVG9rZW5zLmZvckVhY2goZnVuY3Rpb24odG9rZW4pe3N0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQodG9rZW4udmFsdWUsdG9rZW4pfSksdGhpc31pZihcXFwidmFyXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWFkdmFuY2UoXFxcInZhclxcXCIpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCh7aW5leHBvcnQ6ITB9KTtlbHNlIGlmKFxcXCJsZXRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwibGV0XFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKHtpbmV4cG9ydDohMH0pO2Vsc2UgaWYoXFxcImNvbnN0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWFkdmFuY2UoXFxcImNvbnN0XFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKHtpbmV4cG9ydDohMH0pO2Vsc2UgaWYoXFxcImZ1bmN0aW9uXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXRoaXMuYmxvY2s9ITAsYWR2YW5jZShcXFwiZnVuY3Rpb25cXFwiKSxzdGF0ZS5zeW50YXhbXFxcImZ1bmN0aW9uXFxcIl0uZnVkKHtpbmV4cG9ydDohMH0pO2Vsc2UgaWYoXFxcImNsYXNzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXt0aGlzLmJsb2NrPSEwLGFkdmFuY2UoXFxcImNsYXNzXFxcIik7dmFyIGNsYXNzTmFtZVRva2VuPXN0YXRlLnRva2Vucy5uZXh0O3N0YXRlLnN5bnRheFtcXFwiY2xhc3NcXFwiXS5mdWQoKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnNldEV4cG9ydGVkKGNsYXNzTmFtZVRva2VuLnZhbHVlLGNsYXNzTmFtZVRva2VuKX1lbHNlIGVycm9yKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk7cmV0dXJuIHRoaXN9KS5leHBzPSEwLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiYWJzdHJhY3RcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImJvb2xlYW5cXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImJ5dGVcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImNoYXJcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImNsYXNzXFxcIix7ZXM1OiEwLG51ZDpjbGFzc2RlZn0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZG91YmxlXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJlbnVtXFxcIix7ZXM1OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJleHBvcnRcXFwiLHtlczU6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImV4dGVuZHNcXFwiLHtlczU6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImZpbmFsXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJmbG9hdFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZ290b1xcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiaW1wbGVtZW50c1xcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJpbXBvcnRcXFwiLHtlczU6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImludFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiaW50ZXJmYWNlXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImxvbmdcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcIm5hdGl2ZVxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwicGFja2FnZVxcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJwcml2YXRlXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInByb3RlY3RlZFxcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJwdWJsaWNcXFwiLHtlczU6ITAsc3RyaWN0T25seTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwic2hvcnRcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInN0YXRpY1xcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJzdXBlclxcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwic3luY2hyb25pemVkXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJ0cmFuc2llbnRcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInZvbGF0aWxlXFxcIik7dmFyIGxvb2t1cEJsb2NrVHlwZT1mdW5jdGlvbigpe3ZhciBwbixwbjEscHJldixpPS0xLGJyYWNrZXRTdGFjaz0wLHJldD17fTtjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5jdXJyLFtcXFwiW1xcXCIsXFxcIntcXFwiXSkmJihicmFja2V0U3RhY2srPTEpO2Rve2lmKHByZXY9LTE9PT1pP3N0YXRlLnRva2Vucy5jdXJyOnBuLHBuPS0xPT09aT9zdGF0ZS50b2tlbnMubmV4dDpwZWVrKGkpLHBuMT1wZWVrKGkrMSksaSs9MSxjaGVja1B1bmN0dWF0b3JzKHBuLFtcXFwiW1xcXCIsXFxcIntcXFwiXSk/YnJhY2tldFN0YWNrKz0xOmNoZWNrUHVuY3R1YXRvcnMocG4sW1xcXCJdXFxcIixcXFwifVxcXCJdKSYmKGJyYWNrZXRTdGFjay09MSksMT09PWJyYWNrZXRTdGFjayYmcG4uaWRlbnRpZmllciYmXFxcImZvclxcXCI9PT1wbi52YWx1ZSYmIWNoZWNrUHVuY3R1YXRvcihwcmV2LFxcXCIuXFxcIikpe3JldC5pc0NvbXBBcnJheT0hMCxyZXQubm90SnNvbj0hMDticmVha31pZigwPT09YnJhY2tldFN0YWNrJiZjaGVja1B1bmN0dWF0b3JzKHBuLFtcXFwifVxcXCIsXFxcIl1cXFwiXSkpe2lmKFxcXCI9XFxcIj09PXBuMS52YWx1ZSl7cmV0LmlzRGVzdEFzc2lnbj0hMCxyZXQubm90SnNvbj0hMDticmVha31pZihcXFwiLlxcXCI9PT1wbjEudmFsdWUpe3JldC5ub3RKc29uPSEwO2JyZWFrfX1jaGVja1B1bmN0dWF0b3IocG4sXFxcIjtcXFwiKSYmKHJldC5pc0Jsb2NrPSEwLHJldC5ub3RKc29uPSEwKX13aGlsZShicmFja2V0U3RhY2s+MCYmXFxcIihlbmQpXFxcIiE9PXBuLmlkKTtyZXR1cm4gcmV0fSxhcnJheUNvbXByZWhlbnNpb249ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWNsYXJlKHYpe3ZhciBsPV9jdXJyZW50LnZhcmlhYmxlcy5maWx0ZXIoZnVuY3Rpb24oZWx0KXtyZXR1cm4gZWx0LnZhbHVlPT09dj8oZWx0LnVuZGVmPSExLHYpOnZvaWQgMH0pLmxlbmd0aDtyZXR1cm4gMCE9PWx9ZnVuY3Rpb24gdXNlKHYpe3ZhciBsPV9jdXJyZW50LnZhcmlhYmxlcy5maWx0ZXIoZnVuY3Rpb24oZWx0KXtyZXR1cm4gZWx0LnZhbHVlIT09dnx8ZWx0LnVuZGVmP3ZvaWQgMDooZWx0LnVudXNlZD09PSEwJiYoZWx0LnVudXNlZD0hMSksdil9KS5sZW5ndGg7cmV0dXJuIDA9PT1sfXZhciBfY3VycmVudCxDb21wQXJyYXk9ZnVuY3Rpb24oKXt0aGlzLm1vZGU9XFxcInVzZVxcXCIsdGhpcy52YXJpYWJsZXM9W119LF9jYXJyYXlzPVtdO3JldHVybntzdGFjazpmdW5jdGlvbigpe19jdXJyZW50PW5ldyBDb21wQXJyYXksX2NhcnJheXMucHVzaChfY3VycmVudCl9LHVuc3RhY2s6ZnVuY3Rpb24oKXtfY3VycmVudC52YXJpYWJsZXMuZmlsdGVyKGZ1bmN0aW9uKHYpe3YudW51c2VkJiZ3YXJuaW5nKFxcXCJXMDk4XFxcIix2LnRva2VuLHYucmF3X3RleHR8fHYudmFsdWUpLHYudW5kZWYmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYudmFsdWUsdi50b2tlbil9KSxfY2FycmF5cy5zcGxpY2UoLTEsMSksX2N1cnJlbnQ9X2NhcnJheXNbX2NhcnJheXMubGVuZ3RoLTFdfSxzZXRTdGF0ZTpmdW5jdGlvbihzKXtfLmNvbnRhaW5zKFtcXFwidXNlXFxcIixcXFwiZGVmaW5lXFxcIixcXFwiZ2VuZXJhdGVcXFwiLFxcXCJmaWx0ZXJcXFwiXSxzKSYmKF9jdXJyZW50Lm1vZGU9cyl9LGNoZWNrOmZ1bmN0aW9uKHYpe3JldHVybiBfY3VycmVudD9fY3VycmVudCYmXFxcInVzZVxcXCI9PT1fY3VycmVudC5tb2RlPyh1c2UodikmJl9jdXJyZW50LnZhcmlhYmxlcy5wdXNoKHtmdW5jdDpzdGF0ZS5mdW5jdCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycix2YWx1ZTp2LHVuZGVmOiEwLHVudXNlZDohMX0pLCEwKTpfY3VycmVudCYmXFxcImRlZmluZVxcXCI9PT1fY3VycmVudC5tb2RlPyhkZWNsYXJlKHYpfHxfY3VycmVudC52YXJpYWJsZXMucHVzaCh7ZnVuY3Q6c3RhdGUuZnVuY3QsdG9rZW46c3RhdGUudG9rZW5zLmN1cnIsdmFsdWU6dix1bmRlZjohMSx1bnVzZWQ6ITB9KSwhMCk6X2N1cnJlbnQmJlxcXCJnZW5lcmF0ZVxcXCI9PT1fY3VycmVudC5tb2RlPyhzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnVzZSh2LHN0YXRlLnRva2Vucy5jdXJyKSwhMCk6X2N1cnJlbnQmJlxcXCJmaWx0ZXJcXFwiPT09X2N1cnJlbnQubW9kZT8odXNlKHYpJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnVzZSh2LHN0YXRlLnRva2Vucy5jdXJyKSwhMCk6ITE6dm9pZCAwfX19LGVzY2FwZVJlZ2V4PWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bLVxcXFwvXFxcXFxcXFxeJCorPy4oKXxbXFxcXF17fV0vZyxcXFwiXFxcXFxcXFwkJlxcXCIpfSxpdHNlbGY9ZnVuY3Rpb24ocyxvLGcpe2Z1bmN0aW9uIGVhY2gob2JqLGNiKXtvYmomJihBcnJheS5pc0FycmF5KG9iail8fFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqfHwob2JqPU9iamVjdC5rZXlzKG9iaikpLG9iai5mb3JFYWNoKGNiKSl9dmFyIGksayx4LHJlSWdub3JlU3RyLHJlSWdub3JlLG9wdGlvbktleXMsbmV3T3B0aW9uT2JqPXt9LG5ld0lnbm9yZWRPYmo9e307bz1fLmNsb25lKG8pLHN0YXRlLnJlc2V0KCksbyYmby5zY29wZT9KU0hJTlQuc2NvcGU9by5zY29wZTooSlNISU5ULmVycm9ycz1bXSxKU0hJTlQudW5kZWZzPVtdLEpTSElOVC5pbnRlcm5hbHM9W10sSlNISU5ULmJsYWNrbGlzdD17fSxKU0hJTlQuc2NvcGU9XFxcIihtYWluKVxcXCIpLHByZWRlZmluZWQ9T2JqZWN0LmNyZWF0ZShudWxsKSxjb21iaW5lKHByZWRlZmluZWQsdmFycy5lY21hSWRlbnRpZmllcnNbM10pLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLnJlc2VydmVkVmFycyksY29tYmluZShwcmVkZWZpbmVkLGd8fHt9KSxkZWNsYXJlZD1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBleHBvcnRlZD1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG8pZm9yKGVhY2goby5wcmVkZWZ8fG51bGwsZnVuY3Rpb24oaXRlbSl7dmFyIHNsaWNlLHByb3A7XFxcIi1cXFwiPT09aXRlbVswXT8oc2xpY2U9aXRlbS5zbGljZSgxKSxKU0hJTlQuYmxhY2tsaXN0W3NsaWNlXT1zbGljZSxkZWxldGUgcHJlZGVmaW5lZFtzbGljZV0pOihwcm9wPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcmVkZWYsaXRlbSkscHJlZGVmaW5lZFtpdGVtXT1wcm9wP3Byb3AudmFsdWU6ITEpfSksZWFjaChvLmV4cG9ydGVkfHxudWxsLGZ1bmN0aW9uKGl0ZW0pe2V4cG9ydGVkW2l0ZW1dPSEwfSksZGVsZXRlIG8ucHJlZGVmLGRlbGV0ZSBvLmV4cG9ydGVkLG9wdGlvbktleXM9T2JqZWN0LmtleXMobykseD0wO29wdGlvbktleXMubGVuZ3RoPng7eCsrKWlmKC9eLVdcXFxcZHszfSQvZy50ZXN0KG9wdGlvbktleXNbeF0pKW5ld0lnbm9yZWRPYmpbb3B0aW9uS2V5c1t4XS5zbGljZSgxKV09ITA7ZWxzZXt2YXIgb3B0aW9uS2V5PW9wdGlvbktleXNbeF07bmV3T3B0aW9uT2JqW29wdGlvbktleV09b1tvcHRpb25LZXldLChcXFwiZXN2ZXJzaW9uXFxcIj09PW9wdGlvbktleSYmNT09PW9bb3B0aW9uS2V5XXx8XFxcImVzNVxcXCI9PT1vcHRpb25LZXkmJm9bb3B0aW9uS2V5XSkmJndhcm5pbmcoXFxcIkkwMDNcXFwiKSxcXFwibmV3Y2FwXFxcIj09PW9wdGlvbktleXNbeF0mJm9bb3B0aW9uS2V5XT09PSExJiYobmV3T3B0aW9uT2JqW1xcXCIoZXhwbGljaXROZXdjYXApXFxcIl09ITApfXN0YXRlLm9wdGlvbj1uZXdPcHRpb25PYmosc3RhdGUuaWdub3JlZD1uZXdJZ25vcmVkT2JqLHN0YXRlLm9wdGlvbi5pbmRlbnQ9c3RhdGUub3B0aW9uLmluZGVudHx8NCxzdGF0ZS5vcHRpb24ubWF4ZXJyPXN0YXRlLm9wdGlvbi5tYXhlcnJ8fDUwLGluZGVudD0xO3ZhciBzY29wZU1hbmFnZXJJbnN0PXNjb3BlTWFuYWdlcihzdGF0ZSxwcmVkZWZpbmVkLGV4cG9ydGVkLGRlY2xhcmVkKTtpZihzY29wZU1hbmFnZXJJbnN0Lm9uKFxcXCJ3YXJuaW5nXFxcIixmdW5jdGlvbihldil7d2FybmluZy5hcHBseShudWxsLFtldi5jb2RlLGV2LnRva2VuXS5jb25jYXQoZXYuZGF0YSkpfSksc2NvcGVNYW5hZ2VySW5zdC5vbihcXFwiZXJyb3JcXFwiLGZ1bmN0aW9uKGV2KXtlcnJvci5hcHBseShudWxsLFtldi5jb2RlLGV2LnRva2VuXS5jb25jYXQoZXYuZGF0YSkpfSksc3RhdGUuZnVuY3Q9ZnVuY3RvcihcXFwiKGdsb2JhbClcXFwiLG51bGwse1xcXCIoZ2xvYmFsKVxcXCI6ITAsXFxcIihzY29wZSlcXFwiOnNjb3BlTWFuYWdlckluc3QsXFxcIihjb21wYXJyYXkpXFxcIjphcnJheUNvbXByZWhlbnNpb24oKSxcXFwiKG1ldHJpY3MpXFxcIjpjcmVhdGVNZXRyaWNzKHN0YXRlLnRva2Vucy5uZXh0KX0pLGZ1bmN0aW9ucz1bc3RhdGUuZnVuY3RdLHVybHM9W10sc3RhY2s9bnVsbCxtZW1iZXI9e30sbWVtYmVyc09ubHk9bnVsbCxpbmJsb2NrPSExLGxvb2thaGVhZD1bXSwhaXNTdHJpbmcocykmJiFBcnJheS5pc0FycmF5KHMpKXJldHVybiBlcnJvckF0KFxcXCJFMDA0XFxcIiwwKSwhMTthcGk9e2dldCBpc0pTT04oKXtyZXR1cm4gc3RhdGUuanNvbk1vZGV9LGdldE9wdGlvbjpmdW5jdGlvbihuYW1lKXtyZXR1cm4gc3RhdGUub3B0aW9uW25hbWVdfHxudWxsfSxnZXRDYWNoZTpmdW5jdGlvbihuYW1lKXtyZXR1cm4gc3RhdGUuY2FjaGVbbmFtZV19LHNldENhY2hlOmZ1bmN0aW9uKG5hbWUsdmFsdWUpe3N0YXRlLmNhY2hlW25hbWVdPXZhbHVlfSx3YXJuOmZ1bmN0aW9uKGNvZGUsZGF0YSl7d2FybmluZ0F0LmFwcGx5KG51bGwsW2NvZGUsZGF0YS5saW5lLGRhdGEuY2hhcl0uY29uY2F0KGRhdGEuZGF0YSkpfSxvbjpmdW5jdGlvbihuYW1lcyxsaXN0ZW5lcil7bmFtZXMuc3BsaXQoXFxcIiBcXFwiKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe2VtaXR0ZXIub24obmFtZSxsaXN0ZW5lcil9LmJpbmQodGhpcykpfX0sZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKSwoZXh0cmFNb2R1bGVzfHxbXSkuZm9yRWFjaChmdW5jdGlvbihmdW5jKXtmdW5jKGFwaSl9KSxzdGF0ZS50b2tlbnMucHJldj1zdGF0ZS50b2tlbnMuY3Vycj1zdGF0ZS50b2tlbnMubmV4dD1zdGF0ZS5zeW50YXhbXFxcIihiZWdpbilcXFwiXSxvJiZvLmlnbm9yZURlbGltaXRlcnMmJihBcnJheS5pc0FycmF5KG8uaWdub3JlRGVsaW1pdGVycyl8fChvLmlnbm9yZURlbGltaXRlcnM9W28uaWdub3JlRGVsaW1pdGVyc10pLG8uaWdub3JlRGVsaW1pdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGRlbGltaXRlclBhaXIpe2RlbGltaXRlclBhaXIuc3RhcnQmJmRlbGltaXRlclBhaXIuZW5kJiYocmVJZ25vcmVTdHI9ZXNjYXBlUmVnZXgoZGVsaW1pdGVyUGFpci5zdGFydCkrXFxcIltcXFxcXFxcXHNcXFxcXFxcXFNdKj9cXFwiK2VzY2FwZVJlZ2V4KGRlbGltaXRlclBhaXIuZW5kKSxyZUlnbm9yZT1SZWdFeHAocmVJZ25vcmVTdHIsXFxcImlnXFxcIikscz1zLnJlcGxhY2UocmVJZ25vcmUsZnVuY3Rpb24obWF0Y2gpe3JldHVybiBtYXRjaC5yZXBsYWNlKC8uL2csXFxcIiBcXFwiKX0pKX0pKSxsZXg9bmV3IExleGVyKHMpLGxleC5vbihcXFwid2FybmluZ1xcXCIsZnVuY3Rpb24oZXYpe3dhcm5pbmdBdC5hcHBseShudWxsLFtldi5jb2RlLGV2LmxpbmUsZXYuY2hhcmFjdGVyXS5jb25jYXQoZXYuZGF0YSkpfSksbGV4Lm9uKFxcXCJlcnJvclxcXCIsZnVuY3Rpb24oZXYpe2Vycm9yQXQuYXBwbHkobnVsbCxbZXYuY29kZSxldi5saW5lLGV2LmNoYXJhY3Rlcl0uY29uY2F0KGV2LmRhdGEpKX0pLGxleC5vbihcXFwiZmF0YWxcXFwiLGZ1bmN0aW9uKGV2KXtxdWl0KFxcXCJFMDQxXFxcIixldi5saW5lLGV2LmZyb20pfSksbGV4Lm9uKFxcXCJJZGVudGlmaWVyXFxcIixmdW5jdGlvbihldil7ZW1pdHRlci5lbWl0KFxcXCJJZGVudGlmaWVyXFxcIixldil9KSxsZXgub24oXFxcIlN0cmluZ1xcXCIsZnVuY3Rpb24oZXYpe2VtaXR0ZXIuZW1pdChcXFwiU3RyaW5nXFxcIixldil9KSxsZXgub24oXFxcIk51bWJlclxcXCIsZnVuY3Rpb24oZXYpe2VtaXR0ZXIuZW1pdChcXFwiTnVtYmVyXFxcIixldil9KSxsZXguc3RhcnQoKTtmb3IodmFyIG5hbWUgaW4gbylfLmhhcyhvLG5hbWUpJiZjaGVja09wdGlvbihuYW1lLHN0YXRlLnRva2Vucy5jdXJyKTthc3N1bWUoKSxjb21iaW5lKHByZWRlZmluZWQsZ3x8e30pLGNvbW1hLmZpcnN0PSEwO3RyeXtzd2l0Y2goYWR2YW5jZSgpLHN0YXRlLnRva2Vucy5uZXh0LmlkKXtjYXNlXFxcIntcXFwiOmNhc2VcXFwiW1xcXCI6ZGVzdHJ1Y3R1cmluZ0Fzc2lnbk9ySnNvblZhbHVlKCk7YnJlYWs7ZGVmYXVsdDpkaXJlY3RpdmVzKCksc3RhdGUuZGlyZWN0aXZlW1xcXCJ1c2Ugc3RyaWN0XFxcIl0mJlxcXCJnbG9iYWxcXFwiIT09c3RhdGUub3B0aW9uLnN0cmljdCYmd2FybmluZyhcXFwiVzA5N1xcXCIsc3RhdGUudG9rZW5zLnByZXYpLHN0YXRlbWVudHMoKX1cXFwiKGVuZClcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJnF1aXQoXFxcIkUwNDFcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpfWNhdGNoKGVycil7aWYoIWVycnx8XFxcIkpTSGludEVycm9yXFxcIiE9PWVyci5uYW1lKXRocm93IGVycjt2YXIgbnQ9c3RhdGUudG9rZW5zLm5leHR8fHt9O0pTSElOVC5lcnJvcnMucHVzaCh7c2NvcGU6XFxcIihtYWluKVxcXCIscmF3OmVyci5yYXcsY29kZTplcnIuY29kZSxyZWFzb246ZXJyLm1lc3NhZ2UsbGluZTplcnIubGluZXx8bnQubGluZSxjaGFyYWN0ZXI6ZXJyLmNoYXJhY3Rlcnx8bnQuZnJvbX0sbnVsbCl9aWYoXFxcIihtYWluKVxcXCI9PT1KU0hJTlQuc2NvcGUpZm9yKG89b3x8e30saT0wO0pTSElOVC5pbnRlcm5hbHMubGVuZ3RoPmk7aSs9MSlrPUpTSElOVC5pbnRlcm5hbHNbaV0sby5zY29wZT1rLmVsZW0saXRzZWxmKGsudmFsdWUsbyxnKTtyZXR1cm4gMD09PUpTSElOVC5lcnJvcnMubGVuZ3RofTtyZXR1cm4gaXRzZWxmLmFkZE1vZHVsZT1mdW5jdGlvbihmdW5jKXtleHRyYU1vZHVsZXMucHVzaChmdW5jKX0saXRzZWxmLmFkZE1vZHVsZShzdHlsZS5yZWdpc3RlciksaXRzZWxmLmRhdGE9ZnVuY3Rpb24oKXt2YXIgZnUsZixpLGosbixnbG9iYWxzLGRhdGE9e2Z1bmN0aW9uczpbXSxvcHRpb25zOnN0YXRlLm9wdGlvbn07aXRzZWxmLmVycm9ycy5sZW5ndGgmJihkYXRhLmVycm9ycz1pdHNlbGYuZXJyb3JzKSxzdGF0ZS5qc29uTW9kZSYmKGRhdGEuanNvbj0hMCk7dmFyIGltcGxpZWRHbG9iYWxzPXN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uZ2V0SW1wbGllZEdsb2JhbHMoKTtmb3IoaW1wbGllZEdsb2JhbHMubGVuZ3RoPjAmJihkYXRhLmltcGxpZWRzPWltcGxpZWRHbG9iYWxzKSx1cmxzLmxlbmd0aD4wJiYoZGF0YS51cmxzPXVybHMpLGdsb2JhbHM9c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5nZXRVc2VkT3JEZWZpbmVkR2xvYmFscygpLGdsb2JhbHMubGVuZ3RoPjAmJihkYXRhLmdsb2JhbHM9Z2xvYmFscyksaT0xO2Z1bmN0aW9ucy5sZW5ndGg+aTtpKz0xKXtmb3IoZj1mdW5jdGlvbnNbaV0sZnU9e30saj0wO2Z1bmN0aW9uaWNpdHkubGVuZ3RoPmo7ais9MSlmdVtmdW5jdGlvbmljaXR5W2pdXT1bXTtmb3Ioaj0wO2Z1bmN0aW9uaWNpdHkubGVuZ3RoPmo7ais9MSkwPT09ZnVbZnVuY3Rpb25pY2l0eVtqXV0ubGVuZ3RoJiZkZWxldGUgZnVbZnVuY3Rpb25pY2l0eVtqXV07ZnUubmFtZT1mW1xcXCIobmFtZSlcXFwiXSxmdS5wYXJhbT1mW1xcXCIocGFyYW1zKVxcXCJdLGZ1LmxpbmU9ZltcXFwiKGxpbmUpXFxcIl0sZnUuY2hhcmFjdGVyPWZbXFxcIihjaGFyYWN0ZXIpXFxcIl0sZnUubGFzdD1mW1xcXCIobGFzdClcXFwiXSxmdS5sYXN0Y2hhcmFjdGVyPWZbXFxcIihsYXN0Y2hhcmFjdGVyKVxcXCJdLGZ1Lm1ldHJpY3M9e2NvbXBsZXhpdHk6ZltcXFwiKG1ldHJpY3MpXFxcIl0uQ29tcGxleGl0eUNvdW50LHBhcmFtZXRlcnM6ZltcXFwiKG1ldHJpY3MpXFxcIl0uYXJpdHksc3RhdGVtZW50czpmW1xcXCIobWV0cmljcylcXFwiXS5zdGF0ZW1lbnRDb3VudH0sZGF0YS5mdW5jdGlvbnMucHVzaChmdSl9dmFyIHVudXNlZHM9c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5nZXRVbnVzZWRzKCk7dW51c2Vkcy5sZW5ndGg+MCYmKGRhdGEudW51c2VkPXVudXNlZHMpO2ZvcihuIGluIG1lbWJlcilpZihcXFwibnVtYmVyXFxcIj09dHlwZW9mIG1lbWJlcltuXSl7ZGF0YS5tZW1iZXI9bWVtYmVyO2JyZWFrfXJldHVybiBkYXRhfSxpdHNlbGYuanNoaW50PWl0c2VsZixpdHNlbGZ9KCk7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBleHBvcnRzJiZleHBvcnRzJiYoZXhwb3J0cy5KU0hJTlQ9SlNISU5UKX0se1xcXCIuLi9sb2Rhc2hcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9sb2Rhc2guanNcXFwiLFxcXCIuL2xleC5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9sZXguanNcXFwiLFxcXCIuL21lc3NhZ2VzLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL21lc3NhZ2VzLmpzXFxcIixcXFwiLi9vcHRpb25zLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL29wdGlvbnMuanNcXFwiLFxcXCIuL3JlZy5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9yZWcuanNcXFwiLFxcXCIuL3Njb3BlLW1hbmFnZXIuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc2NvcGUtbWFuYWdlci5qc1xcXCIsXFxcIi4vc3RhdGUuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc3RhdGUuanNcXFwiLFxcXCIuL3N0eWxlLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0eWxlLmpzXFxcIixcXFwiLi92YXJzLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3ZhcnMuanNcXFwiLGV2ZW50czpcXFwiL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXFxcIn1dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvbGV4LmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGFzeW5jVHJpZ2dlcigpe3ZhciBfY2hlY2tzPVtdO3JldHVybntwdXNoOmZ1bmN0aW9uKGZuKXtfY2hlY2tzLnB1c2goZm4pfSxjaGVjazpmdW5jdGlvbigpe2Zvcih2YXIgY2hlY2s9MDtfY2hlY2tzLmxlbmd0aD5jaGVjazsrK2NoZWNrKV9jaGVja3NbY2hlY2tdKCk7X2NoZWNrcy5zcGxpY2UoMCxfY2hlY2tzLmxlbmd0aCl9fX1mdW5jdGlvbiBMZXhlcihzb3VyY2Upe3ZhciBsaW5lcz1zb3VyY2U7XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBsaW5lcyYmKGxpbmVzPWxpbmVzLnJlcGxhY2UoL1xcXFxyXFxcXG4vZyxcXFwiXFxcXG5cXFwiKS5yZXBsYWNlKC9cXFxcci9nLFxcXCJcXFxcblxcXCIpLnNwbGl0KFxcXCJcXFxcblxcXCIpKSxsaW5lc1swXSYmXFxcIiMhXFxcIj09PWxpbmVzWzBdLnN1YnN0cigwLDIpJiYoLTEhPT1saW5lc1swXS5pbmRleE9mKFxcXCJub2RlXFxcIikmJihzdGF0ZS5vcHRpb24ubm9kZT0hMCksbGluZXNbMF09XFxcIlxcXCIpLHRoaXMuZW1pdHRlcj1uZXcgZXZlbnRzLkV2ZW50RW1pdHRlcix0aGlzLnNvdXJjZT1zb3VyY2UsdGhpcy5zZXRMaW5lcyhsaW5lcyksdGhpcy5wcmVyZWc9ITAsdGhpcy5saW5lPTAsdGhpcy5jaGFyPTEsdGhpcy5mcm9tPTEsdGhpcy5pbnB1dD1cXFwiXFxcIix0aGlzLmluQ29tbWVudD0hMSx0aGlzLmNvbnRleHQ9W10sdGhpcy50ZW1wbGF0ZVN0YXJ0cz1bXTtmb3IodmFyIGk9MDtzdGF0ZS5vcHRpb24uaW5kZW50Pmk7aSs9MSlzdGF0ZS50YWIrPVxcXCIgXFxcIjt0aGlzLmlnbm9yZUxpbnRlckVycm9ycz0hMX12YXIgXz1fZGVyZXFfKFxcXCIuLi9sb2Rhc2hcXFwiKSxldmVudHM9X2RlcmVxXyhcXFwiZXZlbnRzXFxcIikscmVnPV9kZXJlcV8oXFxcIi4vcmVnLmpzXFxcIiksc3RhdGU9X2RlcmVxXyhcXFwiLi9zdGF0ZS5qc1xcXCIpLnN0YXRlLHVuaWNvZGVEYXRhPV9kZXJlcV8oXFxcIi4uL2RhdGEvYXNjaWktaWRlbnRpZmllci1kYXRhLmpzXFxcIiksYXNjaWlJZGVudGlmaWVyU3RhcnRUYWJsZT11bmljb2RlRGF0YS5hc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlLGFzY2lpSWRlbnRpZmllclBhcnRUYWJsZT11bmljb2RlRGF0YS5hc2NpaUlkZW50aWZpZXJQYXJ0VGFibGUsVG9rZW49e0lkZW50aWZpZXI6MSxQdW5jdHVhdG9yOjIsTnVtZXJpY0xpdGVyYWw6MyxTdHJpbmdMaXRlcmFsOjQsQ29tbWVudDo1LEtleXdvcmQ6NixOdWxsTGl0ZXJhbDo3LEJvb2xlYW5MaXRlcmFsOjgsUmVnRXhwOjksVGVtcGxhdGVIZWFkOjEwLFRlbXBsYXRlTWlkZGxlOjExLFRlbXBsYXRlVGFpbDoxMixOb1N1YnN0VGVtcGxhdGU6MTN9LENvbnRleHQ9e0Jsb2NrOjEsVGVtcGxhdGU6Mn07TGV4ZXIucHJvdG90eXBlPXtfbGluZXM6W10saW5Db250ZXh0OmZ1bmN0aW9uKGN0eFR5cGUpe3JldHVybiB0aGlzLmNvbnRleHQubGVuZ3RoPjAmJnRoaXMuY29udGV4dFt0aGlzLmNvbnRleHQubGVuZ3RoLTFdLnR5cGU9PT1jdHhUeXBlfSxwdXNoQ29udGV4dDpmdW5jdGlvbihjdHhUeXBlKXt0aGlzLmNvbnRleHQucHVzaCh7dHlwZTpjdHhUeXBlfSl9LHBvcENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LnBvcCgpfSxpc0NvbnRleHQ6ZnVuY3Rpb24oY29udGV4dCl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg+MCYmdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5sZW5ndGgtMV09PT1jb250ZXh0fSxjdXJyZW50Q29udGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubGVuZ3RoPjAmJnRoaXMuY29udGV4dFt0aGlzLmNvbnRleHQubGVuZ3RoLTFdfSxnZXRMaW5lczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lcz1zdGF0ZS5saW5lcyx0aGlzLl9saW5lc30sc2V0TGluZXM6ZnVuY3Rpb24odmFsKXt0aGlzLl9saW5lcz12YWwsc3RhdGUubGluZXM9dGhpcy5fbGluZXN9LHBlZWs6ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuaW5wdXQuY2hhckF0KGl8fDApfSxza2lwOmZ1bmN0aW9uKGkpe2k9aXx8MSx0aGlzLmNoYXIrPWksdGhpcy5pbnB1dD10aGlzLmlucHV0LnNsaWNlKGkpfSxvbjpmdW5jdGlvbihuYW1lcyxsaXN0ZW5lcil7bmFtZXMuc3BsaXQoXFxcIiBcXFwiKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe3RoaXMuZW1pdHRlci5vbihuYW1lLGxpc3RlbmVyKX0uYmluZCh0aGlzKSl9LHRyaWdnZXI6ZnVuY3Rpb24oKXt0aGlzLmVtaXR0ZXIuZW1pdC5hcHBseSh0aGlzLmVtaXR0ZXIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9LHRyaWdnZXJBc3luYzpmdW5jdGlvbih0eXBlLGFyZ3MsY2hlY2tzLGZuKXtjaGVja3MucHVzaChmdW5jdGlvbigpe2ZuKCkmJnRoaXMudHJpZ2dlcih0eXBlLGFyZ3MpfS5iaW5kKHRoaXMpKX0sc2NhblB1bmN0dWF0b3I6ZnVuY3Rpb24oKXt2YXIgY2gyLGNoMyxjaDQsY2gxPXRoaXMucGVlaygpO3N3aXRjaChjaDEpe2Nhc2VcXFwiLlxcXCI6aWYoL15bMC05XSQvLnRlc3QodGhpcy5wZWVrKDEpKSlyZXR1cm4gbnVsbDtpZihcXFwiLlxcXCI9PT10aGlzLnBlZWsoMSkmJlxcXCIuXFxcIj09PXRoaXMucGVlaygyKSlyZXR1cm57dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCIuLi5cXFwifTtjYXNlXFxcIihcXFwiOmNhc2VcXFwiKVxcXCI6Y2FzZVxcXCI7XFxcIjpjYXNlXFxcIixcXFwiOmNhc2VcXFwiW1xcXCI6Y2FzZVxcXCJdXFxcIjpjYXNlXFxcIjpcXFwiOmNhc2VcXFwiflxcXCI6Y2FzZVxcXCI/XFxcIjpyZXR1cm57dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMX07Y2FzZVxcXCJ7XFxcIjpyZXR1cm4gdGhpcy5wdXNoQ29udGV4dChDb250ZXh0LkJsb2NrKSx7dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMX07Y2FzZVxcXCJ9XFxcIjpyZXR1cm4gdGhpcy5pbkNvbnRleHQoQ29udGV4dC5CbG9jaykmJnRoaXMucG9wQ29udGV4dCgpLHt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIiNcXFwiOnJldHVybnt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIlxcXCI6cmV0dXJuIG51bGx9cmV0dXJuIGNoMj10aGlzLnBlZWsoMSksY2gzPXRoaXMucGVlaygyKSxjaDQ9dGhpcy5wZWVrKDMpLFxcXCI+XFxcIj09PWNoMSYmXFxcIj5cXFwiPT09Y2gyJiZcXFwiPlxcXCI9PT1jaDMmJlxcXCI9XFxcIj09PWNoND97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCI+Pj49XFxcIn06XFxcIj1cXFwiPT09Y2gxJiZcXFwiPVxcXCI9PT1jaDImJlxcXCI9XFxcIj09PWNoMz97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCI9PT1cXFwifTpcXFwiIVxcXCI9PT1jaDEmJlxcXCI9XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIiE9PVxcXCJ9OlxcXCI+XFxcIj09PWNoMSYmXFxcIj5cXFwiPT09Y2gyJiZcXFwiPlxcXCI9PT1jaDM/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiPj4+XFxcIn06XFxcIjxcXFwiPT09Y2gxJiZcXFwiPFxcXCI9PT1jaDImJlxcXCI9XFxcIj09PWNoMz97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCI8PD1cXFwifTpcXFwiPlxcXCI9PT1jaDEmJlxcXCI+XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIj4+PVxcXCJ9OlxcXCI9XFxcIj09PWNoMSYmXFxcIj5cXFwiPT09Y2gyP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxK2NoMn06Y2gxPT09Y2gyJiZcXFwiKy08PiZ8XFxcIi5pbmRleE9mKGNoMSk+PTA/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDErY2gyfTpcXFwiPD49ISstKiUmfF5cXFwiLmluZGV4T2YoY2gxKT49MD9cXFwiPVxcXCI9PT1jaDI/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDErY2gyfTp7dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMX06XFxcIi9cXFwiPT09Y2gxP1xcXCI9XFxcIj09PWNoMj97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCIvPVxcXCJ9Ont0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIi9cXFwifTpudWxsfSxzY2FuQ29tbWVudHM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjb21tZW50VG9rZW4obGFiZWwsYm9keSxvcHQpe3ZhciBzcGVjaWFsPVtcXFwianNoaW50XFxcIixcXFwianNsaW50XFxcIixcXFwibWVtYmVyc1xcXCIsXFxcIm1lbWJlclxcXCIsXFxcImdsb2JhbHNcXFwiLFxcXCJnbG9iYWxcXFwiLFxcXCJleHBvcnRlZFxcXCJdLGlzU3BlY2lhbD0hMSx2YWx1ZT1sYWJlbCtib2R5LGNvbW1lbnRUeXBlPVxcXCJwbGFpblxcXCI7cmV0dXJuIG9wdD1vcHR8fHt9LG9wdC5pc011bHRpbGluZSYmKHZhbHVlKz1cXFwiKi9cXFwiKSxib2R5PWJvZHkucmVwbGFjZSgvXFxcXG4vZyxcXFwiIFxcXCIpLFxcXCIvKlxcXCI9PT1sYWJlbCYmcmVnLmZhbGxzVGhyb3VnaC50ZXN0KGJvZHkpJiYoaXNTcGVjaWFsPSEwLGNvbW1lbnRUeXBlPVxcXCJmYWxscyB0aHJvdWdoXFxcIiksc3BlY2lhbC5mb3JFYWNoKGZ1bmN0aW9uKHN0cil7aWYoIWlzU3BlY2lhbCYmKFxcXCIvL1xcXCIhPT1sYWJlbHx8XFxcImpzaGludFxcXCI9PT1zdHIpJiYoXFxcIiBcXFwiPT09Ym9keS5jaGFyQXQoc3RyLmxlbmd0aCkmJmJvZHkuc3Vic3RyKDAsc3RyLmxlbmd0aCk9PT1zdHImJihpc1NwZWNpYWw9ITAsbGFiZWwrPXN0cixib2R5PWJvZHkuc3Vic3RyKHN0ci5sZW5ndGgpKSxpc1NwZWNpYWx8fFxcXCIgXFxcIiE9PWJvZHkuY2hhckF0KDApfHxcXFwiIFxcXCIhPT1ib2R5LmNoYXJBdChzdHIubGVuZ3RoKzEpfHxib2R5LnN1YnN0cigxLHN0ci5sZW5ndGgpIT09c3RyfHwoaXNTcGVjaWFsPSEwLGxhYmVsPWxhYmVsK1xcXCIgXFxcIitzdHIsYm9keT1ib2R5LnN1YnN0cihzdHIubGVuZ3RoKzEpKSxpc1NwZWNpYWwpKXN3aXRjaChzdHIpe2Nhc2VcXFwibWVtYmVyXFxcIjpjb21tZW50VHlwZT1cXFwibWVtYmVyc1xcXCI7YnJlYWs7Y2FzZVxcXCJnbG9iYWxcXFwiOmNvbW1lbnRUeXBlPVxcXCJnbG9iYWxzXFxcIjticmVhaztkZWZhdWx0OnZhciBvcHRpb25zPWJvZHkuc3BsaXQoXFxcIjpcXFwiKS5tYXAoZnVuY3Rpb24odil7cmV0dXJuIHYucmVwbGFjZSgvXlxcXFxzKy8sXFxcIlxcXCIpLnJlcGxhY2UoL1xcXFxzKyQvLFxcXCJcXFwiKX0pO2lmKDI9PT1vcHRpb25zLmxlbmd0aClzd2l0Y2gob3B0aW9uc1swXSl7Y2FzZVxcXCJpZ25vcmVcXFwiOnN3aXRjaChvcHRpb25zWzFdKXtjYXNlXFxcInN0YXJ0XFxcIjpzZWxmLmlnbm9yaW5nTGludGVyRXJyb3JzPSEwLGlzU3BlY2lhbD0hMTticmVhaztjYXNlXFxcImVuZFxcXCI6c2VsZi5pZ25vcmluZ0xpbnRlckVycm9ycz0hMSxpc1NwZWNpYWw9ITF9fWNvbW1lbnRUeXBlPXN0cn19KSx7dHlwZTpUb2tlbi5Db21tZW50LGNvbW1lbnRUeXBlOmNvbW1lbnRUeXBlLHZhbHVlOnZhbHVlLGJvZHk6Ym9keSxpc1NwZWNpYWw6aXNTcGVjaWFsLGlzTXVsdGlsaW5lOm9wdC5pc011bHRpbGluZXx8ITEsaXNNYWxmb3JtZWQ6b3B0LmlzTWFsZm9ybWVkfHwhMX19dmFyIGNoMT10aGlzLnBlZWsoKSxjaDI9dGhpcy5wZWVrKDEpLHJlc3Q9dGhpcy5pbnB1dC5zdWJzdHIoMiksc3RhcnRMaW5lPXRoaXMubGluZSxzdGFydENoYXI9dGhpcy5jaGFyLHNlbGY9dGhpcztpZihcXFwiKlxcXCI9PT1jaDEmJlxcXCIvXFxcIj09PWNoMilyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwMThcXFwiLGxpbmU6c3RhcnRMaW5lLGNoYXJhY3RlcjpzdGFydENoYXJ9KSx0aGlzLnNraXAoMiksbnVsbDtpZihcXFwiL1xcXCIhPT1jaDF8fFxcXCIqXFxcIiE9PWNoMiYmXFxcIi9cXFwiIT09Y2gyKXJldHVybiBudWxsO2lmKFxcXCIvXFxcIj09PWNoMilyZXR1cm4gdGhpcy5za2lwKHRoaXMuaW5wdXQubGVuZ3RoKSxjb21tZW50VG9rZW4oXFxcIi8vXFxcIixyZXN0KTt2YXIgYm9keT1cXFwiXFxcIjtpZihcXFwiKlxcXCI9PT1jaDIpe2Zvcih0aGlzLmluQ29tbWVudD0hMCx0aGlzLnNraXAoMik7XFxcIipcXFwiIT09dGhpcy5wZWVrKCl8fFxcXCIvXFxcIiE9PXRoaXMucGVlaygxKTspaWYoXFxcIlxcXCI9PT10aGlzLnBlZWsoKSl7aWYoYm9keSs9XFxcIlxcXFxuXFxcIiwhdGhpcy5uZXh0TGluZSgpKXJldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAxN1xcXCIsbGluZTpzdGFydExpbmUsY2hhcmFjdGVyOnN0YXJ0Q2hhcn0pLHRoaXMuaW5Db21tZW50PSExLGNvbW1lbnRUb2tlbihcXFwiLypcXFwiLGJvZHkse2lzTXVsdGlsaW5lOiEwLGlzTWFsZm9ybWVkOiEwfSl9ZWxzZSBib2R5Kz10aGlzLnBlZWsoKSx0aGlzLnNraXAoKTtyZXR1cm4gdGhpcy5za2lwKDIpLHRoaXMuaW5Db21tZW50PSExLGNvbW1lbnRUb2tlbihcXFwiLypcXFwiLGJvZHkse2lzTXVsdGlsaW5lOiEwfSl9fSxzY2FuS2V5d29yZDpmdW5jdGlvbigpe3ZhciByZXN1bHQ9L15bYS16QS1aXyRdW2EtekEtWjAtOV8kXSovLmV4ZWModGhpcy5pbnB1dCksa2V5d29yZHM9W1xcXCJpZlxcXCIsXFxcImluXFxcIixcXFwiZG9cXFwiLFxcXCJ2YXJcXFwiLFxcXCJmb3JcXFwiLFxcXCJuZXdcXFwiLFxcXCJ0cnlcXFwiLFxcXCJsZXRcXFwiLFxcXCJ0aGlzXFxcIixcXFwiZWxzZVxcXCIsXFxcImNhc2VcXFwiLFxcXCJ2b2lkXFxcIixcXFwid2l0aFxcXCIsXFxcImVudW1cXFwiLFxcXCJ3aGlsZVxcXCIsXFxcImJyZWFrXFxcIixcXFwiY2F0Y2hcXFwiLFxcXCJ0aHJvd1xcXCIsXFxcImNvbnN0XFxcIixcXFwieWllbGRcXFwiLFxcXCJjbGFzc1xcXCIsXFxcInN1cGVyXFxcIixcXFwicmV0dXJuXFxcIixcXFwidHlwZW9mXFxcIixcXFwiZGVsZXRlXFxcIixcXFwic3dpdGNoXFxcIixcXFwiZXhwb3J0XFxcIixcXFwiaW1wb3J0XFxcIixcXFwiZGVmYXVsdFxcXCIsXFxcImZpbmFsbHlcXFwiLFxcXCJleHRlbmRzXFxcIixcXFwiZnVuY3Rpb25cXFwiLFxcXCJjb250aW51ZVxcXCIsXFxcImRlYnVnZ2VyXFxcIixcXFwiaW5zdGFuY2VvZlxcXCJdO3JldHVybiByZXN1bHQmJmtleXdvcmRzLmluZGV4T2YocmVzdWx0WzBdKT49MD97dHlwZTpUb2tlbi5LZXl3b3JkLHZhbHVlOnJlc3VsdFswXX06bnVsbH0sc2NhbklkZW50aWZpZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpc05vbkFzY2lpSWRlbnRpZmllclN0YXJ0KGNvZGUpe3JldHVybiBjb2RlPjI1Nn1mdW5jdGlvbiBpc05vbkFzY2lpSWRlbnRpZmllclBhcnQoY29kZSl7cmV0dXJuIGNvZGU+MjU2fWZ1bmN0aW9uIGlzSGV4RGlnaXQoc3RyKXtyZXR1cm4vXlswLTlhLWZBLUZdJC8udGVzdChzdHIpfWZ1bmN0aW9uIHJlbW92ZUVzY2FwZVNlcXVlbmNlcyhpZCl7cmV0dXJuIGlkLnJlcGxhY2UoL1xcXFxcXFxcdShbMC05YS1mQS1GXXs0fSkvZyxmdW5jdGlvbihtMCxjb2RlcG9pbnQpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGNvZGVwb2ludCwxNikpfSl9dmFyIHR5cGUsY2hhcixpZD1cXFwiXFxcIixpbmRleD0wLHJlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2U9ZnVuY3Rpb24oKXtpZihpbmRleCs9MSxcXFwidVxcXCIhPT10aGlzLnBlZWsoaW5kZXgpKXJldHVybiBudWxsO3ZhciBjb2RlLGNoMT10aGlzLnBlZWsoaW5kZXgrMSksY2gyPXRoaXMucGVlayhpbmRleCsyKSxjaDM9dGhpcy5wZWVrKGluZGV4KzMpLGNoND10aGlzLnBlZWsoaW5kZXgrNCk7cmV0dXJuIGlzSGV4RGlnaXQoY2gxKSYmaXNIZXhEaWdpdChjaDIpJiZpc0hleERpZ2l0KGNoMykmJmlzSGV4RGlnaXQoY2g0KT8oY29kZT1wYXJzZUludChjaDErY2gyK2NoMytjaDQsMTYpLGFzY2lpSWRlbnRpZmllclBhcnRUYWJsZVtjb2RlXXx8aXNOb25Bc2NpaUlkZW50aWZpZXJQYXJ0KGNvZGUpPyhpbmRleCs9NSxcXFwiXFxcXFxcXFx1XFxcIitjaDErY2gyK2NoMytjaDQpOm51bGwpOm51bGx9LmJpbmQodGhpcyksZ2V0SWRlbnRpZmllclN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGNocj10aGlzLnBlZWsoaW5kZXgpLGNvZGU9Y2hyLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDkyPT09Y29kZT9yZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKCk6MTI4PmNvZGU/YXNjaWlJZGVudGlmaWVyU3RhcnRUYWJsZVtjb2RlXT8oaW5kZXgrPTEsY2hyKTpudWxsOmlzTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQoY29kZSk/KGluZGV4Kz0xLGNocik6bnVsbH0uYmluZCh0aGlzKSxnZXRJZGVudGlmaWVyUGFydD1mdW5jdGlvbigpe3ZhciBjaHI9dGhpcy5wZWVrKGluZGV4KSxjb2RlPWNoci5jaGFyQ29kZUF0KDApO3JldHVybiA5Mj09PWNvZGU/cmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZSgpOjEyOD5jb2RlP2FzY2lpSWRlbnRpZmllclBhcnRUYWJsZVtjb2RlXT8oaW5kZXgrPTEsY2hyKTpudWxsOmlzTm9uQXNjaWlJZGVudGlmaWVyUGFydChjb2RlKT8oaW5kZXgrPTEsY2hyKTpudWxsfS5iaW5kKHRoaXMpO2lmKGNoYXI9Z2V0SWRlbnRpZmllclN0YXJ0KCksbnVsbD09PWNoYXIpcmV0dXJuIG51bGw7Zm9yKGlkPWNoYXI7Y2hhcj1nZXRJZGVudGlmaWVyUGFydCgpLG51bGwhPT1jaGFyOylpZCs9Y2hhcjtzd2l0Y2goaWQpe2Nhc2VcXFwidHJ1ZVxcXCI6Y2FzZVxcXCJmYWxzZVxcXCI6dHlwZT1Ub2tlbi5Cb29sZWFuTGl0ZXJhbDticmVhaztjYXNlXFxcIm51bGxcXFwiOnR5cGU9VG9rZW4uTnVsbExpdGVyYWw7YnJlYWs7ZGVmYXVsdDp0eXBlPVRva2VuLklkZW50aWZpZXJ9cmV0dXJue3R5cGU6dHlwZSx2YWx1ZTpyZW1vdmVFc2NhcGVTZXF1ZW5jZXMoaWQpLHRleHQ6aWQsdG9rZW5MZW5ndGg6aWQubGVuZ3RofX0sc2Nhbk51bWVyaWNMaXRlcmFsOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaXNEZWNpbWFsRGlnaXQoc3RyKXtyZXR1cm4vXlswLTldJC8udGVzdChzdHIpfWZ1bmN0aW9uIGlzT2N0YWxEaWdpdChzdHIpe3JldHVybi9eWzAtN10kLy50ZXN0KHN0cil9ZnVuY3Rpb24gaXNCaW5hcnlEaWdpdChzdHIpe3JldHVybi9eWzAxXSQvLnRlc3Qoc3RyKX1mdW5jdGlvbiBpc0hleERpZ2l0KHN0cil7cmV0dXJuL15bMC05YS1mQS1GXSQvLnRlc3Qoc3RyKX1mdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydChjaCl7cmV0dXJuXFxcIiRcXFwiPT09Y2h8fFxcXCJfXFxcIj09PWNofHxcXFwiXFxcXFxcXFxcXFwiPT09Y2h8fGNoPj1cXFwiYVxcXCImJlxcXCJ6XFxcIj49Y2h8fGNoPj1cXFwiQVxcXCImJlxcXCJaXFxcIj49Y2h9dmFyIGJhZCxpbmRleD0wLHZhbHVlPVxcXCJcXFwiLGxlbmd0aD10aGlzLmlucHV0Lmxlbmd0aCxjaGFyPXRoaXMucGVlayhpbmRleCksaXNBbGxvd2VkRGlnaXQ9aXNEZWNpbWFsRGlnaXQsYmFzZT0xMCxpc0xlZ2FjeT0hMTtpZihcXFwiLlxcXCIhPT1jaGFyJiYhaXNEZWNpbWFsRGlnaXQoY2hhcikpcmV0dXJuIG51bGw7aWYoXFxcIi5cXFwiIT09Y2hhcil7Zm9yKHZhbHVlPXRoaXMucGVlayhpbmRleCksaW5kZXgrPTEsY2hhcj10aGlzLnBlZWsoaW5kZXgpLFxcXCIwXFxcIj09PXZhbHVlJiYoKFxcXCJ4XFxcIj09PWNoYXJ8fFxcXCJYXFxcIj09PWNoYXIpJiYoaXNBbGxvd2VkRGlnaXQ9aXNIZXhEaWdpdCxiYXNlPTE2LGluZGV4Kz0xLHZhbHVlKz1jaGFyKSwoXFxcIm9cXFwiPT09Y2hhcnx8XFxcIk9cXFwiPT09Y2hhcikmJihpc0FsbG93ZWREaWdpdD1pc09jdGFsRGlnaXQsYmFzZT04LHN0YXRlLmluRVM2KCEwKXx8dGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExOVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiT2N0YWwgaW50ZWdlciBsaXRlcmFsXFxcIixcXFwiNlxcXCJdfSksaW5kZXgrPTEsdmFsdWUrPWNoYXIpLChcXFwiYlxcXCI9PT1jaGFyfHxcXFwiQlxcXCI9PT1jaGFyKSYmKGlzQWxsb3dlZERpZ2l0PWlzQmluYXJ5RGlnaXQsYmFzZT0yLHN0YXRlLmluRVM2KCEwKXx8dGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExOVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiQmluYXJ5IGludGVnZXIgbGl0ZXJhbFxcXCIsXFxcIjZcXFwiXX0pLGluZGV4Kz0xLHZhbHVlKz1jaGFyKSxpc09jdGFsRGlnaXQoY2hhcikmJihpc0FsbG93ZWREaWdpdD1pc09jdGFsRGlnaXQsYmFzZT04LGlzTGVnYWN5PSEwLGJhZD0hMSxpbmRleCs9MSx2YWx1ZSs9Y2hhciksIWlzT2N0YWxEaWdpdChjaGFyKSYmaXNEZWNpbWFsRGlnaXQoY2hhcikmJihpbmRleCs9MSx2YWx1ZSs9Y2hhcikpO2xlbmd0aD5pbmRleDspe2lmKGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0xlZ2FjeSYmaXNEZWNpbWFsRGlnaXQoY2hhcikpYmFkPSEwO2Vsc2UgaWYoIWlzQWxsb3dlZERpZ2l0KGNoYXIpKWJyZWFrO3ZhbHVlKz1jaGFyLGluZGV4Kz0xfWlmKGlzQWxsb3dlZERpZ2l0IT09aXNEZWNpbWFsRGlnaXQpcmV0dXJuIWlzTGVnYWN5JiYyPj12YWx1ZS5sZW5ndGg/e3R5cGU6VG9rZW4uTnVtZXJpY0xpdGVyYWwsdmFsdWU6dmFsdWUsaXNNYWxmb3JtZWQ6ITB9Omxlbmd0aD5pbmRleCYmKGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0lkZW50aWZpZXJTdGFydChjaGFyKSk/bnVsbDp7dHlwZTpUb2tlbi5OdW1lcmljTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxiYXNlOmJhc2UsaXNMZWdhY3k6aXNMZWdhY3ksaXNNYWxmb3JtZWQ6ITF9fWlmKFxcXCIuXFxcIj09PWNoYXIpZm9yKHZhbHVlKz1jaGFyLGluZGV4Kz0xO2xlbmd0aD5pbmRleCYmKGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0RlY2ltYWxEaWdpdChjaGFyKSk7KXZhbHVlKz1jaGFyLGluZGV4Kz0xO2lmKFxcXCJlXFxcIj09PWNoYXJ8fFxcXCJFXFxcIj09PWNoYXIpe2lmKHZhbHVlKz1jaGFyLGluZGV4Kz0xLGNoYXI9dGhpcy5wZWVrKGluZGV4KSwoXFxcIitcXFwiPT09Y2hhcnx8XFxcIi1cXFwiPT09Y2hhcikmJih2YWx1ZSs9dGhpcy5wZWVrKGluZGV4KSxpbmRleCs9MSksY2hhcj10aGlzLnBlZWsoaW5kZXgpLCFpc0RlY2ltYWxEaWdpdChjaGFyKSlyZXR1cm4gbnVsbDtmb3IodmFsdWUrPWNoYXIsaW5kZXgrPTE7bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzRGVjaW1hbERpZ2l0KGNoYXIpKTspdmFsdWUrPWNoYXIsaW5kZXgrPTF9cmV0dXJuIGxlbmd0aD5pbmRleCYmKGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0lkZW50aWZpZXJTdGFydChjaGFyKSk/bnVsbDp7dHlwZTpUb2tlbi5OdW1lcmljTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxiYXNlOmJhc2UsaXNNYWxmb3JtZWQ6IWlzRmluaXRlKHZhbHVlKX19LHNjYW5Fc2NhcGVTZXF1ZW5jZTpmdW5jdGlvbihjaGVja3Mpe3ZhciBhbGxvd05ld0xpbmU9ITEsanVtcD0xO3RoaXMuc2tpcCgpO3ZhciBjaGFyPXRoaXMucGVlaygpO3N3aXRjaChjaGFyKXtjYXNlXFxcIidcXFwiOnRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiXFxcXFxcXFwnXFxcIl19LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0pO2JyZWFrO2Nhc2VcXFwiYlxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxiXFxcIjticmVhaztjYXNlXFxcImZcXFwiOmNoYXI9XFxcIlxcXFxcXFxcZlxcXCI7YnJlYWs7Y2FzZVxcXCJuXFxcIjpjaGFyPVxcXCJcXFxcXFxcXG5cXFwiO2JyZWFrO2Nhc2VcXFwiclxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxyXFxcIjticmVhaztjYXNlXFxcInRcXFwiOmNoYXI9XFxcIlxcXFxcXFxcdFxcXCI7YnJlYWs7Y2FzZVxcXCIwXFxcIjpjaGFyPVxcXCJcXFxcXFxcXDBcXFwiO3ZhciBuPXBhcnNlSW50KHRoaXMucGVlaygxKSwxMCk7dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE1XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gbj49MCYmNz49biYmc3RhdGUuaXNTdHJpY3QoKX0pO2JyZWFrO2Nhc2VcXFwidVxcXCI6dmFyIGhleENvZGU9dGhpcy5pbnB1dC5zdWJzdHIoMSw0KSxjb2RlPXBhcnNlSW50KGhleENvZGUsMTYpO2lzTmFOKGNvZGUpJiZ0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMDUyXFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJ1XFxcIitoZXhDb2RlXX0pLGNoYXI9U3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSxqdW1wPTU7YnJlYWs7Y2FzZVxcXCJ2XFxcIjp0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTRcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbXFxcIlxcXFxcXFxcdlxcXCJdfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUuanNvbk1vZGV9KSxjaGFyPVxcXCJcXHUwMDBiXFxcIjticmVhaztjYXNlXFxcInhcXFwiOnZhciB4PXBhcnNlSW50KHRoaXMuaW5wdXQuc3Vic3RyKDEsMiksMTYpO3RoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiXFxcXFxcXFx4LVxcXCJdfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUuanNvbk1vZGV9KSxjaGFyPVN0cmluZy5mcm9tQ2hhckNvZGUoeCksanVtcD0zO2JyZWFrO2Nhc2VcXFwiXFxcXFxcXFxcXFwiOmNoYXI9XFxcIlxcXFxcXFxcXFxcXFxcXFxcXFwiO2JyZWFrO2Nhc2UnXFxcIic6Y2hhcj0nXFxcXFxcXFxcXFwiJzticmVhaztjYXNlXFxcIi9cXFwiOmJyZWFrO2Nhc2VcXFwiXFxcIjphbGxvd05ld0xpbmU9ITAsY2hhcj1cXFwiXFxcIn1yZXR1cm57XFxcImNoYXJcXFwiOmNoYXIsanVtcDpqdW1wLGFsbG93TmV3TGluZTphbGxvd05ld0xpbmV9fSxzY2FuVGVtcGxhdGVMaXRlcmFsOmZ1bmN0aW9uKGNoZWNrcyl7dmFyIHRva2VuVHlwZSxjaCx2YWx1ZT1cXFwiXFxcIixzdGFydExpbmU9dGhpcy5saW5lLHN0YXJ0Q2hhcj10aGlzLmNoYXIsZGVwdGg9dGhpcy50ZW1wbGF0ZVN0YXJ0cy5sZW5ndGg7aWYoIXN0YXRlLmluRVM2KCEwKSlyZXR1cm4gbnVsbDtpZihcXFwiYFxcXCI9PT10aGlzLnBlZWsoKSl0b2tlblR5cGU9VG9rZW4uVGVtcGxhdGVIZWFkLHRoaXMudGVtcGxhdGVTdGFydHMucHVzaCh7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcn0pLGRlcHRoPXRoaXMudGVtcGxhdGVTdGFydHMubGVuZ3RoLHRoaXMuc2tpcCgxKSx0aGlzLnB1c2hDb250ZXh0KENvbnRleHQuVGVtcGxhdGUpO2Vsc2V7aWYoIXRoaXMuaW5Db250ZXh0KENvbnRleHQuVGVtcGxhdGUpfHxcXFwifVxcXCIhPT10aGlzLnBlZWsoKSlyZXR1cm4gbnVsbDt0b2tlblR5cGU9VG9rZW4uVGVtcGxhdGVNaWRkbGV9Zm9yKDtcXFwiYFxcXCIhPT10aGlzLnBlZWsoKTspe2Zvcig7XFxcIlxcXCI9PT0oY2g9dGhpcy5wZWVrKCkpOylpZih2YWx1ZSs9XFxcIlxcXFxuXFxcIiwhdGhpcy5uZXh0TGluZSgpKXt2YXIgc3RhcnRQb3M9dGhpcy50ZW1wbGF0ZVN0YXJ0cy5wb3AoKTtyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwNTJcXFwiLGxpbmU6c3RhcnRQb3MubGluZSxjaGFyYWN0ZXI6c3RhcnRQb3MuY2hhcn0pLHt0eXBlOnRva2VuVHlwZSx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMCxkZXB0aDpkZXB0aCxjb250ZXh0OnRoaXMucG9wQ29udGV4dCgpfX1pZihcXFwiJFxcXCI9PT1jaCYmXFxcIntcXFwiPT09dGhpcy5wZWVrKDEpKXJldHVybiB2YWx1ZSs9XFxcIiR7XFxcIix0aGlzLnNraXAoMikse3R5cGU6dG9rZW5UeXBlLHZhbHVlOnZhbHVlLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDaGFyOnN0YXJ0Q2hhcixpc1VuY2xvc2VkOiExLGRlcHRoOmRlcHRoLGNvbnRleHQ6dGhpcy5jdXJyZW50Q29udGV4dCgpfTtcXG5pZihcXFwiXFxcXFxcXFxcXFwiPT09Y2gpe3ZhciBlc2NhcGU9dGhpcy5zY2FuRXNjYXBlU2VxdWVuY2UoY2hlY2tzKTt2YWx1ZSs9ZXNjYXBlLmNoYXIsdGhpcy5za2lwKGVzY2FwZS5qdW1wKX1lbHNlXFxcImBcXFwiIT09Y2gmJih2YWx1ZSs9Y2gsdGhpcy5za2lwKDEpKX1yZXR1cm4gdG9rZW5UeXBlPXRva2VuVHlwZT09PVRva2VuLlRlbXBsYXRlSGVhZD9Ub2tlbi5Ob1N1YnN0VGVtcGxhdGU6VG9rZW4uVGVtcGxhdGVUYWlsLHRoaXMuc2tpcCgxKSx0aGlzLnRlbXBsYXRlU3RhcnRzLnBvcCgpLHt0eXBlOnRva2VuVHlwZSx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMSxkZXB0aDpkZXB0aCxjb250ZXh0OnRoaXMucG9wQ29udGV4dCgpfX0sc2NhblN0cmluZ0xpdGVyYWw6ZnVuY3Rpb24oY2hlY2tzKXt2YXIgcXVvdGU9dGhpcy5wZWVrKCk7aWYoJ1xcXCInIT09cXVvdGUmJlxcXCInXFxcIiE9PXF1b3RlKXJldHVybiBudWxsO3RoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzEwOFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmpzb25Nb2RlJiYnXFxcIichPT1xdW90ZX0pO3ZhciB2YWx1ZT1cXFwiXFxcIixzdGFydExpbmU9dGhpcy5saW5lLHN0YXJ0Q2hhcj10aGlzLmNoYXIsYWxsb3dOZXdMaW5lPSExO2Zvcih0aGlzLnNraXAoKTt0aGlzLnBlZWsoKSE9PXF1b3RlOylpZihcXFwiXFxcIj09PXRoaXMucGVlaygpKXtpZihhbGxvd05ld0xpbmU/KGFsbG93TmV3TGluZT0hMSx0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNDNcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiFzdGF0ZS5vcHRpb24ubXVsdGlzdHJ9KSx0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNDJcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZSYmc3RhdGUub3B0aW9uLm11bHRpc3RyfSkpOnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTJcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9KSwhdGhpcy5uZXh0TGluZSgpKXJldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAyOVxcXCIsbGluZTpzdGFydExpbmUsY2hhcmFjdGVyOnN0YXJ0Q2hhcn0pLHt0eXBlOlRva2VuLlN0cmluZ0xpdGVyYWwsdmFsdWU6dmFsdWUsc3RhcnRMaW5lOnN0YXJ0TGluZSxzdGFydENoYXI6c3RhcnRDaGFyLGlzVW5jbG9zZWQ6ITAscXVvdGU6cXVvdGV9fWVsc2V7YWxsb3dOZXdMaW5lPSExO3ZhciBjaGFyPXRoaXMucGVlaygpLGp1bXA9MTtpZihcXFwiIFxcXCI+Y2hhciYmdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExM1xcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiPG5vbi1wcmludGFibGU+XFxcIl19KSxcXFwiXFxcXFxcXFxcXFwiPT09Y2hhcil7dmFyIHBhcnNlZD10aGlzLnNjYW5Fc2NhcGVTZXF1ZW5jZShjaGVja3MpO2NoYXI9cGFyc2VkLmNoYXIsanVtcD1wYXJzZWQuanVtcCxhbGxvd05ld0xpbmU9cGFyc2VkLmFsbG93TmV3TGluZX12YWx1ZSs9Y2hhcix0aGlzLnNraXAoanVtcCl9cmV0dXJuIHRoaXMuc2tpcCgpLHt0eXBlOlRva2VuLlN0cmluZ0xpdGVyYWwsdmFsdWU6dmFsdWUsc3RhcnRMaW5lOnN0YXJ0TGluZSxzdGFydENoYXI6c3RhcnRDaGFyLGlzVW5jbG9zZWQ6ITEscXVvdGU6cXVvdGV9fSxzY2FuUmVnRXhwOmZ1bmN0aW9uKCl7dmFyIHRlcm1pbmF0ZWQsaW5kZXg9MCxsZW5ndGg9dGhpcy5pbnB1dC5sZW5ndGgsY2hhcj10aGlzLnBlZWsoKSx2YWx1ZT1jaGFyLGJvZHk9XFxcIlxcXCIsZmxhZ3M9W10sbWFsZm9ybWVkPSExLGlzQ2hhclNldD0hMSxzY2FuVW5leHBlY3RlZENoYXJzPWZ1bmN0aW9uKCl7XFxcIiBcXFwiPmNoYXImJihtYWxmb3JtZWQ9ITAsdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0OFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0pKSxcXFwiPFxcXCI9PT1jaGFyJiYobWFsZm9ybWVkPSEwLHRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNDlcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbY2hhcl19KSl9LmJpbmQodGhpcyk7aWYoIXRoaXMucHJlcmVnfHxcXFwiL1xcXCIhPT1jaGFyKXJldHVybiBudWxsO2ZvcihpbmRleCs9MSx0ZXJtaW5hdGVkPSExO2xlbmd0aD5pbmRleDspaWYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLHZhbHVlKz1jaGFyLGJvZHkrPWNoYXIsaXNDaGFyU2V0KVxcXCJdXFxcIj09PWNoYXImJihcXFwiXFxcXFxcXFxcXFwiIT09dGhpcy5wZWVrKGluZGV4LTEpfHxcXFwiXFxcXFxcXFxcXFwiPT09dGhpcy5wZWVrKGluZGV4LTIpKSYmKGlzQ2hhclNldD0hMSksXFxcIlxcXFxcXFxcXFxcIj09PWNoYXImJihpbmRleCs9MSxjaGFyPXRoaXMucGVlayhpbmRleCksYm9keSs9Y2hhcix2YWx1ZSs9Y2hhcixzY2FuVW5leHBlY3RlZENoYXJzKCkpLGluZGV4Kz0xO2Vsc2V7aWYoXFxcIlxcXFxcXFxcXFxcIj09PWNoYXIpe2lmKGluZGV4Kz0xLGNoYXI9dGhpcy5wZWVrKGluZGV4KSxib2R5Kz1jaGFyLHZhbHVlKz1jaGFyLHNjYW5VbmV4cGVjdGVkQ2hhcnMoKSxcXFwiL1xcXCI9PT1jaGFyKXtpbmRleCs9MTtjb250aW51ZX1pZihcXFwiW1xcXCI9PT1jaGFyKXtpbmRleCs9MTtjb250aW51ZX19aWYoXFxcIltcXFwiIT09Y2hhcil7aWYoXFxcIi9cXFwiPT09Y2hhcil7Ym9keT1ib2R5LnN1YnN0cigwLGJvZHkubGVuZ3RoLTEpLHRlcm1pbmF0ZWQ9ITAsaW5kZXgrPTE7YnJlYWt9aW5kZXgrPTF9ZWxzZSBpc0NoYXJTZXQ9ITAsaW5kZXgrPTF9aWYoIXRlcm1pbmF0ZWQpcmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiZXJyb3JcXFwiLHtjb2RlOlxcXCJFMDE1XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5mcm9tfSksdm9pZCB0aGlzLnRyaWdnZXIoXFxcImZhdGFsXFxcIix7bGluZTp0aGlzLmxpbmUsZnJvbTp0aGlzLmZyb219KTtmb3IoO2xlbmd0aD5pbmRleCYmKGNoYXI9dGhpcy5wZWVrKGluZGV4KSwvW2dpbV0vLnRlc3QoY2hhcikpOylmbGFncy5wdXNoKGNoYXIpLHZhbHVlKz1jaGFyLGluZGV4Kz0xO3RyeXtSZWdFeHAoYm9keSxmbGFncy5qb2luKFxcXCJcXFwiKSl9Y2F0Y2goZXJyKXttYWxmb3JtZWQ9ITAsdGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwMTZcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbZXJyLm1lc3NhZ2VdfSl9cmV0dXJue3R5cGU6VG9rZW4uUmVnRXhwLHZhbHVlOnZhbHVlLGZsYWdzOmZsYWdzLGlzTWFsZm9ybWVkOm1hbGZvcm1lZH19LHNjYW5Ob25CcmVha2luZ1NwYWNlczpmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5vcHRpb24ubm9uYnNwP3RoaXMuaW5wdXQuc2VhcmNoKC8oXFxcXHUwMEEwKS8pOi0xfSxzY2FuVW5zYWZlQ2hhcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dC5zZWFyY2gocmVnLnVuc2FmZUNoYXJzKX0sbmV4dDpmdW5jdGlvbihjaGVja3Mpe3RoaXMuZnJvbT10aGlzLmNoYXI7dmFyIHN0YXJ0O2lmKC9cXFxccy8udGVzdCh0aGlzLnBlZWsoKSkpZm9yKHN0YXJ0PXRoaXMuY2hhcjsvXFxcXHMvLnRlc3QodGhpcy5wZWVrKCkpOyl0aGlzLmZyb20rPTEsdGhpcy5za2lwKCk7dmFyIG1hdGNoPXRoaXMuc2NhbkNvbW1lbnRzKCl8fHRoaXMuc2NhblN0cmluZ0xpdGVyYWwoY2hlY2tzKXx8dGhpcy5zY2FuVGVtcGxhdGVMaXRlcmFsKGNoZWNrcyk7cmV0dXJuIG1hdGNoP21hdGNoOihtYXRjaD10aGlzLnNjYW5SZWdFeHAoKXx8dGhpcy5zY2FuUHVuY3R1YXRvcigpfHx0aGlzLnNjYW5LZXl3b3JkKCl8fHRoaXMuc2NhbklkZW50aWZpZXIoKXx8dGhpcy5zY2FuTnVtZXJpY0xpdGVyYWwoKSxtYXRjaD8odGhpcy5za2lwKG1hdGNoLnRva2VuTGVuZ3RofHxtYXRjaC52YWx1ZS5sZW5ndGgpLG1hdGNoKTpudWxsKX0sbmV4dExpbmU6ZnVuY3Rpb24oKXt2YXIgY2hhcjtpZih0aGlzLmxpbmU+PXRoaXMuZ2V0TGluZXMoKS5sZW5ndGgpcmV0dXJuITE7dGhpcy5pbnB1dD10aGlzLmdldExpbmVzKClbdGhpcy5saW5lXSx0aGlzLmxpbmUrPTEsdGhpcy5jaGFyPTEsdGhpcy5mcm9tPTE7dmFyIGlucHV0VHJpbW1lZD10aGlzLmlucHV0LnRyaW0oKSxzdGFydHNXaXRoPWZ1bmN0aW9uKCl7cmV0dXJuIF8uc29tZShhcmd1bWVudHMsZnVuY3Rpb24ocHJlZml4KXtyZXR1cm4gMD09PWlucHV0VHJpbW1lZC5pbmRleE9mKHByZWZpeCl9KX0sZW5kc1dpdGg9ZnVuY3Rpb24oKXtyZXR1cm4gXy5zb21lKGFyZ3VtZW50cyxmdW5jdGlvbihzdWZmaXgpe3JldHVybi0xIT09aW5wdXRUcmltbWVkLmluZGV4T2Yoc3VmZml4LGlucHV0VHJpbW1lZC5sZW5ndGgtc3VmZml4Lmxlbmd0aCl9KX07aWYodGhpcy5pZ25vcmluZ0xpbnRlckVycm9ycz09PSEwJiYoc3RhcnRzV2l0aChcXFwiLypcXFwiLFxcXCIvL1xcXCIpfHx0aGlzLmluQ29tbWVudCYmZW5kc1dpdGgoXFxcIiovXFxcIil8fCh0aGlzLmlucHV0PVxcXCJcXFwiKSksY2hhcj10aGlzLnNjYW5Ob25CcmVha2luZ1NwYWNlcygpLGNoYXI+PTAmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMjVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3RlcjpjaGFyKzF9KSx0aGlzLmlucHV0PXRoaXMuaW5wdXQucmVwbGFjZSgvXFxcXHQvZyxzdGF0ZS50YWIpLGNoYXI9dGhpcy5zY2FuVW5zYWZlQ2hhcnMoKSxjaGFyPj0wJiZ0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTAwXFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6Y2hhcn0pLCF0aGlzLmlnbm9yaW5nTGludGVyRXJyb3JzJiZzdGF0ZS5vcHRpb24ubWF4bGVuJiZzdGF0ZS5vcHRpb24ubWF4bGVuPHRoaXMuaW5wdXQubGVuZ3RoKXt2YXIgaW5Db21tZW50PXRoaXMuaW5Db21tZW50fHxzdGFydHNXaXRoLmNhbGwoaW5wdXRUcmltbWVkLFxcXCIvL1xcXCIpfHxzdGFydHNXaXRoLmNhbGwoaW5wdXRUcmltbWVkLFxcXCIvKlxcXCIpLHNob3VsZFRyaWdnZXJFcnJvcj0haW5Db21tZW50fHwhcmVnLm1heGxlbkV4Y2VwdGlvbi50ZXN0KGlucHV0VHJpbW1lZCk7c2hvdWxkVHJpZ2dlckVycm9yJiZ0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTAxXFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5pbnB1dC5sZW5ndGh9KX1yZXR1cm4hMH0sc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm5leHRMaW5lKCl9LHRva2VuOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaXNSZXNlcnZlZCh0b2tlbixpc1Byb3BlcnR5KXtpZighdG9rZW4ucmVzZXJ2ZWQpcmV0dXJuITE7dmFyIG1ldGE9dG9rZW4ubWV0YTtpZihtZXRhJiZtZXRhLmlzRnV0dXJlUmVzZXJ2ZWRXb3JkJiZzdGF0ZS5pbkVTNSgpKXtpZighbWV0YS5lczUpcmV0dXJuITE7aWYobWV0YS5zdHJpY3RPbmx5JiYhc3RhdGUub3B0aW9uLnN0cmljdCYmIXN0YXRlLmlzU3RyaWN0KCkpcmV0dXJuITE7aWYoaXNQcm9wZXJ0eSlyZXR1cm4hMX1yZXR1cm4hMH1mb3IodmFyIHRva2VuLGNoZWNrcz1hc3luY1RyaWdnZXIoKSxjcmVhdGU9ZnVuY3Rpb24odHlwZSx2YWx1ZSxpc1Byb3BlcnR5LHRva2VuKXt2YXIgb2JqO2lmKFxcXCIoZW5kbGluZSlcXFwiIT09dHlwZSYmXFxcIihlbmQpXFxcIiE9PXR5cGUmJih0aGlzLnByZXJlZz0hMSksXFxcIihwdW5jdHVhdG9yKVxcXCI9PT10eXBlKXtzd2l0Y2godmFsdWUpe2Nhc2VcXFwiLlxcXCI6Y2FzZVxcXCIpXFxcIjpjYXNlXFxcIn5cXFwiOmNhc2VcXFwiI1xcXCI6Y2FzZVxcXCJdXFxcIjpjYXNlXFxcIisrXFxcIjpjYXNlXFxcIi0tXFxcIjp0aGlzLnByZXJlZz0hMTticmVhaztkZWZhdWx0OnRoaXMucHJlcmVnPSEwfW9iaj1PYmplY3QuY3JlYXRlKHN0YXRlLnN5bnRheFt2YWx1ZV18fHN0YXRlLnN5bnRheFtcXFwiKGVycm9yKVxcXCJdKX1yZXR1cm5cXFwiKGlkZW50aWZpZXIpXFxcIj09PXR5cGUmJigoXFxcInJldHVyblxcXCI9PT12YWx1ZXx8XFxcImNhc2VcXFwiPT09dmFsdWV8fFxcXCJ0eXBlb2ZcXFwiPT09dmFsdWUpJiYodGhpcy5wcmVyZWc9ITApLF8uaGFzKHN0YXRlLnN5bnRheCx2YWx1ZSkmJihvYmo9T2JqZWN0LmNyZWF0ZShzdGF0ZS5zeW50YXhbdmFsdWVdfHxzdGF0ZS5zeW50YXhbXFxcIihlcnJvcilcXFwiXSksaXNSZXNlcnZlZChvYmosaXNQcm9wZXJ0eSYmXFxcIihpZGVudGlmaWVyKVxcXCI9PT10eXBlKXx8KG9iaj1udWxsKSkpLG9ianx8KG9iaj1PYmplY3QuY3JlYXRlKHN0YXRlLnN5bnRheFt0eXBlXSkpLG9iai5pZGVudGlmaWVyPVxcXCIoaWRlbnRpZmllcilcXFwiPT09dHlwZSxvYmoudHlwZT1vYmoudHlwZXx8dHlwZSxvYmoudmFsdWU9dmFsdWUsb2JqLmxpbmU9dGhpcy5saW5lLG9iai5jaGFyYWN0ZXI9dGhpcy5jaGFyLG9iai5mcm9tPXRoaXMuZnJvbSxvYmouaWRlbnRpZmllciYmdG9rZW4mJihvYmoucmF3X3RleHQ9dG9rZW4udGV4dHx8dG9rZW4udmFsdWUpLHRva2VuJiZ0b2tlbi5zdGFydExpbmUmJnRva2VuLnN0YXJ0TGluZSE9PXRoaXMubGluZSYmKG9iai5zdGFydExpbmU9dG9rZW4uc3RhcnRMaW5lKSx0b2tlbiYmdG9rZW4uY29udGV4dCYmKG9iai5jb250ZXh0PXRva2VuLmNvbnRleHQpLHRva2VuJiZ0b2tlbi5kZXB0aCYmKG9iai5kZXB0aD10b2tlbi5kZXB0aCksdG9rZW4mJnRva2VuLmlzVW5jbG9zZWQmJihvYmouaXNVbmNsb3NlZD10b2tlbi5pc1VuY2xvc2VkKSxpc1Byb3BlcnR5JiZvYmouaWRlbnRpZmllciYmKG9iai5pc1Byb3BlcnR5PWlzUHJvcGVydHkpLG9iai5jaGVjaz1jaGVja3MuY2hlY2ssb2JqfS5iaW5kKHRoaXMpOzspe2lmKCF0aGlzLmlucHV0Lmxlbmd0aClyZXR1cm4gdGhpcy5uZXh0TGluZSgpP2NyZWF0ZShcXFwiKGVuZGxpbmUpXFxcIixcXFwiXFxcIik6dGhpcy5leGhhdXN0ZWQ/bnVsbDoodGhpcy5leGhhdXN0ZWQ9ITAsY3JlYXRlKFxcXCIoZW5kKVxcXCIsXFxcIlxcXCIpKTtpZih0b2tlbj10aGlzLm5leHQoY2hlY2tzKSlzd2l0Y2godG9rZW4udHlwZSl7Y2FzZSBUb2tlbi5TdHJpbmdMaXRlcmFsOnJldHVybiB0aGlzLnRyaWdnZXJBc3luYyhcXFwiU3RyaW5nXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWUscXVvdGU6dG9rZW4ucXVvdGV9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiEwfSksY3JlYXRlKFxcXCIoc3RyaW5nKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5UZW1wbGF0ZUhlYWQ6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiVGVtcGxhdGVIZWFkXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWV9KSxjcmVhdGUoXFxcIih0ZW1wbGF0ZSlcXFwiLHRva2VuLnZhbHVlLG51bGwsdG9rZW4pO2Nhc2UgVG9rZW4uVGVtcGxhdGVNaWRkbGU6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiVGVtcGxhdGVNaWRkbGVcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tLHN0YXJ0TGluZTp0b2tlbi5zdGFydExpbmUsc3RhcnRDaGFyOnRva2VuLnN0YXJ0Q2hhcix2YWx1ZTp0b2tlbi52YWx1ZX0pLGNyZWF0ZShcXFwiKHRlbXBsYXRlIG1pZGRsZSlcXFwiLHRva2VuLnZhbHVlLG51bGwsdG9rZW4pO2Nhc2UgVG9rZW4uVGVtcGxhdGVUYWlsOnJldHVybiB0aGlzLnRyaWdnZXIoXFxcIlRlbXBsYXRlVGFpbFxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb20sc3RhcnRMaW5lOnRva2VuLnN0YXJ0TGluZSxzdGFydENoYXI6dG9rZW4uc3RhcnRDaGFyLHZhbHVlOnRva2VuLnZhbHVlfSksY3JlYXRlKFxcXCIodGVtcGxhdGUgdGFpbClcXFwiLHRva2VuLnZhbHVlLG51bGwsdG9rZW4pO2Nhc2UgVG9rZW4uTm9TdWJzdFRlbXBsYXRlOnJldHVybiB0aGlzLnRyaWdnZXIoXFxcIk5vU3Vic3RUZW1wbGF0ZVxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb20sc3RhcnRMaW5lOnRva2VuLnN0YXJ0TGluZSxzdGFydENoYXI6dG9rZW4uc3RhcnRDaGFyLHZhbHVlOnRva2VuLnZhbHVlfSksY3JlYXRlKFxcXCIobm8gc3Vic3QgdGVtcGxhdGUpXFxcIix0b2tlbi52YWx1ZSxudWxsLHRva2VuKTtjYXNlIFRva2VuLklkZW50aWZpZXI6dGhpcy50cmlnZ2VyQXN5bmMoXFxcIklkZW50aWZpZXJcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mb3JtLG5hbWU6dG9rZW4udmFsdWUscmF3X25hbWU6dG9rZW4udGV4dCxpc1Byb3BlcnR5OlxcXCIuXFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLmlkfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4hMH0pO2Nhc2UgVG9rZW4uS2V5d29yZDpjYXNlIFRva2VuLk51bGxMaXRlcmFsOmNhc2UgVG9rZW4uQm9vbGVhbkxpdGVyYWw6cmV0dXJuIGNyZWF0ZShcXFwiKGlkZW50aWZpZXIpXFxcIix0b2tlbi52YWx1ZSxcXFwiLlxcXCI9PT1zdGF0ZS50b2tlbnMuY3Vyci5pZCx0b2tlbik7Y2FzZSBUb2tlbi5OdW1lcmljTGl0ZXJhbDpyZXR1cm4gdG9rZW4uaXNNYWxmb3JtZWQmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNDVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbdG9rZW4udmFsdWVdfSksdGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE0XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCIweC1cXFwiXX0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIDE2PT09dG9rZW4uYmFzZSYmc3RhdGUuanNvbk1vZGV9KSx0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5pc1N0cmljdCgpJiY4PT09dG9rZW4uYmFzZSYmdG9rZW4uaXNMZWdhY3l9KSx0aGlzLnRyaWdnZXIoXFxcIk51bWJlclxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb20sdmFsdWU6dG9rZW4udmFsdWUsYmFzZTp0b2tlbi5iYXNlLGlzTWFsZm9ybWVkOnRva2VuLm1hbGZvcm1lZH0pLGNyZWF0ZShcXFwiKG51bWJlcilcXFwiLHRva2VuLnZhbHVlKTtjYXNlIFRva2VuLlJlZ0V4cDpyZXR1cm4gY3JlYXRlKFxcXCIocmVnZXhwKVxcXCIsdG9rZW4udmFsdWUpO2Nhc2UgVG9rZW4uQ29tbWVudDppZihzdGF0ZS50b2tlbnMuY3Vyci5jb21tZW50PSEwLHRva2VuLmlzU3BlY2lhbClyZXR1cm57aWQ6XFxcIihjb21tZW50KVxcXCIsdmFsdWU6dG9rZW4udmFsdWUsYm9keTp0b2tlbi5ib2R5LHR5cGU6dG9rZW4uY29tbWVudFR5cGUsaXNTcGVjaWFsOnRva2VuLmlzU3BlY2lhbCxsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tfTticmVhaztjYXNlXFxcIlxcXCI6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gY3JlYXRlKFxcXCIocHVuY3R1YXRvcilcXFwiLHRva2VuLnZhbHVlKX1lbHNlIHRoaXMuaW5wdXQubGVuZ3RoJiYodGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwMjRcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbdGhpcy5wZWVrKCldfSksdGhpcy5pbnB1dD1cXFwiXFxcIil9fX0sZXhwb3J0cy5MZXhlcj1MZXhlcixleHBvcnRzLkNvbnRleHQ9Q29udGV4dH0se1xcXCIuLi9kYXRhL2FzY2lpLWlkZW50aWZpZXItZGF0YS5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2RhdGEvYXNjaWktaWRlbnRpZmllci1kYXRhLmpzXFxcIixcXFwiLi4vbG9kYXNoXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvbG9kYXNoLmpzXFxcIixcXFwiLi9yZWcuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvcmVnLmpzXFxcIixcXFwiLi9zdGF0ZS5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zdGF0ZS5qc1xcXCIsZXZlbnRzOlxcXCIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcXFwifV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9tZXNzYWdlcy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgXz1fZGVyZXFfKFxcXCIuLi9sb2Rhc2hcXFwiKSxlcnJvcnM9e0UwMDE6XFxcIkJhZCBvcHRpb246ICd7YX0nLlxcXCIsRTAwMjpcXFwiQmFkIG9wdGlvbiB2YWx1ZS5cXFwiLEUwMDM6XFxcIkV4cGVjdGVkIGEgSlNPTiB2YWx1ZS5cXFwiLEUwMDQ6XFxcIklucHV0IGlzIG5laXRoZXIgYSBzdHJpbmcgbm9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXFxcIixFMDA1OlxcXCJJbnB1dCBpcyBlbXB0eS5cXFwiLEUwMDY6XFxcIlVuZXhwZWN0ZWQgZWFybHkgZW5kIG9mIHByb2dyYW0uXFxcIixFMDA3OidNaXNzaW5nIFxcXCJ1c2Ugc3RyaWN0XFxcIiBzdGF0ZW1lbnQuJyxFMDA4OlxcXCJTdHJpY3QgdmlvbGF0aW9uLlxcXCIsRTAwOTpcXFwiT3B0aW9uICd2YWxpZHRoaXMnIGNhbid0IGJlIHVzZWQgaW4gYSBnbG9iYWwgc2NvcGUuXFxcIixFMDEwOlxcXCInd2l0aCcgaXMgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUuXFxcIixFMDExOlxcXCIne2F9JyBoYXMgYWxyZWFkeSBiZWVuIGRlY2xhcmVkLlxcXCIsRTAxMjpcXFwiY29uc3QgJ3thfScgaXMgaW5pdGlhbGl6ZWQgdG8gJ3VuZGVmaW5lZCcuXFxcIixFMDEzOlxcXCJBdHRlbXB0aW5nIHRvIG92ZXJyaWRlICd7YX0nIHdoaWNoIGlzIGEgY29uc3RhbnQuXFxcIixFMDE0OlxcXCJBIHJlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsIGNhbiBiZSBjb25mdXNlZCB3aXRoICcvPScuXFxcIixFMDE1OlxcXCJVbmNsb3NlZCByZWd1bGFyIGV4cHJlc3Npb24uXFxcIixFMDE2OlxcXCJJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLEUwMTc6XFxcIlVuY2xvc2VkIGNvbW1lbnQuXFxcIixFMDE4OlxcXCJVbmJlZ3VuIGNvbW1lbnQuXFxcIixFMDE5OlxcXCJVbm1hdGNoZWQgJ3thfScuXFxcIixFMDIwOlxcXCJFeHBlY3RlZCAne2F9JyB0byBtYXRjaCAne2J9JyBmcm9tIGxpbmUge2N9IGFuZCBpbnN0ZWFkIHNhdyAne2R9Jy5cXFwiLEUwMjE6XFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLEUwMjI6XFxcIkxpbmUgYnJlYWtpbmcgZXJyb3IgJ3thfScuXFxcIixFMDIzOlxcXCJNaXNzaW5nICd7YX0nLlxcXCIsRTAyNDpcXFwiVW5leHBlY3RlZCAne2F9Jy5cXFwiLEUwMjU6XFxcIk1pc3NpbmcgJzonIG9uIGEgY2FzZSBjbGF1c2UuXFxcIixFMDI2OlxcXCJNaXNzaW5nICd9JyB0byBtYXRjaCAneycgZnJvbSBsaW5lIHthfS5cXFwiLEUwMjc6XFxcIk1pc3NpbmcgJ10nIHRvIG1hdGNoICdbJyBmcm9tIGxpbmUge2F9LlxcXCIsRTAyODpcXFwiSWxsZWdhbCBjb21tYS5cXFwiLEUwMjk6XFxcIlVuY2xvc2VkIHN0cmluZy5cXFwiLEUwMzA6XFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgYW5kIGluc3RlYWQgc2F3ICd7YX0nLlxcXCIsRTAzMTpcXFwiQmFkIGFzc2lnbm1lbnQuXFxcIixFMDMyOlxcXCJFeHBlY3RlZCBhIHNtYWxsIGludGVnZXIgb3IgJ2ZhbHNlJyBhbmQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDMzOlxcXCJFeHBlY3RlZCBhbiBvcGVyYXRvciBhbmQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDM0OlxcXCJnZXQvc2V0IGFyZSBFUzUgZmVhdHVyZXMuXFxcIixFMDM1OlxcXCJNaXNzaW5nIHByb3BlcnR5IG5hbWUuXFxcIixFMDM2OlxcXCJFeHBlY3RlZCB0byBzZWUgYSBzdGF0ZW1lbnQgYW5kIGluc3RlYWQgc2F3IGEgYmxvY2suXFxcIixFMDM3Om51bGwsRTAzODpudWxsLEUwMzk6XFxcIkZ1bmN0aW9uIGRlY2xhcmF0aW9ucyBhcmUgbm90IGludm9jYWJsZS4gV3JhcCB0aGUgd2hvbGUgZnVuY3Rpb24gaW52b2NhdGlvbiBpbiBwYXJlbnMuXFxcIixFMDQwOlxcXCJFYWNoIHZhbHVlIHNob3VsZCBoYXZlIGl0cyBvd24gY2FzZSBsYWJlbC5cXFwiLEUwNDE6XFxcIlVucmVjb3ZlcmFibGUgc3ludGF4IGVycm9yLlxcXCIsRTA0MjpcXFwiU3RvcHBpbmcuXFxcIixFMDQzOlxcXCJUb28gbWFueSBlcnJvcnMuXFxcIixFMDQ0Om51bGwsRTA0NTpcXFwiSW52YWxpZCBmb3IgZWFjaCBsb29wLlxcXCIsRTA0NjpcXFwiQSB5aWVsZCBzdGF0ZW1lbnQgc2hhbGwgYmUgd2l0aGluIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uICh3aXRoIHN5bnRheDogYGZ1bmN0aW9uKmApXFxcIixFMDQ3Om51bGwsRTA0ODpcXFwie2F9IGRlY2xhcmF0aW9uIG5vdCBkaXJlY3RseSB3aXRoaW4gYmxvY2suXFxcIixFMDQ5OlxcXCJBIHthfSBjYW5ub3QgYmUgbmFtZWQgJ3tifScuXFxcIixFMDUwOlxcXCJNb3ppbGxhIGFjZXF1aXJlcyB0aGUgeWllbGQgZXhwcmVzc2lvbiB0byBiZSBwYXJlbnRoZXNpemVkIGhlcmUuXFxcIixFMDUxOm51bGwsRTA1MjpcXFwiVW5jbG9zZWQgdGVtcGxhdGUgbGl0ZXJhbC5cXFwiLEUwNTM6XFxcIkV4cG9ydCBkZWNsYXJhdGlvbiBtdXN0IGJlIGluIGdsb2JhbCBzY29wZS5cXFwiLEUwNTQ6XFxcIkNsYXNzIHByb3BlcnRpZXMgbXVzdCBiZSBtZXRob2RzLiBFeHBlY3RlZCAnKCcgYnV0IGluc3RlYWQgc2F3ICd7YX0nLlxcXCIsRTA1NTpcXFwiVGhlICd7YX0nIG9wdGlvbiBjYW5ub3QgYmUgc2V0IGFmdGVyIGFueSBleGVjdXRhYmxlIGNvZGUuXFxcIixFMDU2OlxcXCIne2F9JyB3YXMgdXNlZCBiZWZvcmUgaXQgd2FzIGRlY2xhcmVkLCB3aGljaCBpcyBpbGxlZ2FsIGZvciAne2J9JyB2YXJpYWJsZXMuXFxcIixFMDU3OlxcXCJJbnZhbGlkIG1ldGEgcHJvcGVydHk6ICd7YX0ue2J9Jy5cXFwiLEUwNTg6XFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCJ9LHdhcm5pbmdzPXtXMDAxOlxcXCInaGFzT3duUHJvcGVydHknIGlzIGEgcmVhbGx5IGJhZCBuYW1lLlxcXCIsVzAwMjpcXFwiVmFsdWUgb2YgJ3thfScgbWF5IGJlIG92ZXJ3cml0dGVuIGluIElFIDggYW5kIGVhcmxpZXIuXFxcIixXMDAzOlxcXCIne2F9JyB3YXMgdXNlZCBiZWZvcmUgaXQgd2FzIGRlZmluZWQuXFxcIixXMDA0OlxcXCIne2F9JyBpcyBhbHJlYWR5IGRlZmluZWQuXFxcIixXMDA1OlxcXCJBIGRvdCBmb2xsb3dpbmcgYSBudW1iZXIgY2FuIGJlIGNvbmZ1c2VkIHdpdGggYSBkZWNpbWFsIHBvaW50LlxcXCIsVzAwNjpcXFwiQ29uZnVzaW5nIG1pbnVzZXMuXFxcIixXMDA3OlxcXCJDb25mdXNpbmcgcGx1c3Nlcy5cXFwiLFcwMDg6XFxcIkEgbGVhZGluZyBkZWNpbWFsIHBvaW50IGNhbiBiZSBjb25mdXNlZCB3aXRoIGEgZG90OiAne2F9Jy5cXFwiLFcwMDk6XFxcIlRoZSBhcnJheSBsaXRlcmFsIG5vdGF0aW9uIFtdIGlzIHByZWZlcmFibGUuXFxcIixXMDEwOlxcXCJUaGUgb2JqZWN0IGxpdGVyYWwgbm90YXRpb24ge30gaXMgcHJlZmVyYWJsZS5cXFwiLFcwMTE6bnVsbCxXMDEyOm51bGwsVzAxMzpudWxsLFcwMTQ6XFxcIkJhZCBsaW5lIGJyZWFraW5nIGJlZm9yZSAne2F9Jy5cXFwiLFcwMTU6bnVsbCxXMDE2OlxcXCJVbmV4cGVjdGVkIHVzZSBvZiAne2F9Jy5cXFwiLFcwMTc6XFxcIkJhZCBvcGVyYW5kLlxcXCIsVzAxODpcXFwiQ29uZnVzaW5nIHVzZSBvZiAne2F9Jy5cXFwiLFcwMTk6XFxcIlVzZSB0aGUgaXNOYU4gZnVuY3Rpb24gdG8gY29tcGFyZSB3aXRoIE5hTi5cXFwiLFcwMjA6XFxcIlJlYWQgb25seS5cXFwiLFcwMjE6XFxcIlJlYXNzaWdubWVudCBvZiAne2F9Jywgd2hpY2ggaXMgaXMgYSB7Yn0uIFVzZSAndmFyJyBvciAnbGV0JyB0byBkZWNsYXJlIGJpbmRpbmdzIHRoYXQgbWF5IGNoYW5nZS5cXFwiLFcwMjI6XFxcIkRvIG5vdCBhc3NpZ24gdG8gdGhlIGV4Y2VwdGlvbiBwYXJhbWV0ZXIuXFxcIixXMDIzOlxcXCJFeHBlY3RlZCBhbiBpZGVudGlmaWVyIGluIGFuIGFzc2lnbm1lbnQgYW5kIGluc3RlYWQgc2F3IGEgZnVuY3Rpb24gaW52b2NhdGlvbi5cXFwiLFcwMjQ6XFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgYW5kIGluc3RlYWQgc2F3ICd7YX0nIChhIHJlc2VydmVkIHdvcmQpLlxcXCIsVzAyNTpcXFwiTWlzc2luZyBuYW1lIGluIGZ1bmN0aW9uIGRlY2xhcmF0aW9uLlxcXCIsVzAyNjpcXFwiSW5uZXIgZnVuY3Rpb25zIHNob3VsZCBiZSBsaXN0ZWQgYXQgdGhlIHRvcCBvZiB0aGUgb3V0ZXIgZnVuY3Rpb24uXFxcIixXMDI3OlxcXCJVbnJlYWNoYWJsZSAne2F9JyBhZnRlciAne2J9Jy5cXFwiLFcwMjg6XFxcIkxhYmVsICd7YX0nIG9uIHtifSBzdGF0ZW1lbnQuXFxcIixXMDMwOlxcXCJFeHBlY3RlZCBhbiBhc3NpZ25tZW50IG9yIGZ1bmN0aW9uIGNhbGwgYW5kIGluc3RlYWQgc2F3IGFuIGV4cHJlc3Npb24uXFxcIixXMDMxOlxcXCJEbyBub3QgdXNlICduZXcnIGZvciBzaWRlIGVmZmVjdHMuXFxcIixXMDMyOlxcXCJVbm5lY2Vzc2FyeSBzZW1pY29sb24uXFxcIixXMDMzOlxcXCJNaXNzaW5nIHNlbWljb2xvbi5cXFwiLFcwMzQ6J1VubmVjZXNzYXJ5IGRpcmVjdGl2ZSBcXFwie2F9XFxcIi4nLFcwMzU6XFxcIkVtcHR5IGJsb2NrLlxcXCIsVzAzNjpcXFwiVW5leHBlY3RlZCAvKm1lbWJlciAne2F9Jy5cXFwiLFcwMzc6XFxcIid7YX0nIGlzIGEgc3RhdGVtZW50IGxhYmVsLlxcXCIsVzAzODpcXFwiJ3thfScgdXNlZCBvdXQgb2Ygc2NvcGUuXFxcIixXMDM5OlxcXCIne2F9JyBpcyBub3QgYWxsb3dlZC5cXFwiLFcwNDA6XFxcIlBvc3NpYmxlIHN0cmljdCB2aW9sYXRpb24uXFxcIixXMDQxOlxcXCJVc2UgJ3thfScgdG8gY29tcGFyZSB3aXRoICd7Yn0nLlxcXCIsVzA0MjpcXFwiQXZvaWQgRU9MIGVzY2FwaW5nLlxcXCIsVzA0MzpcXFwiQmFkIGVzY2FwaW5nIG9mIEVPTC4gVXNlIG9wdGlvbiBtdWx0aXN0ciBpZiBuZWVkZWQuXFxcIixXMDQ0OlxcXCJCYWQgb3IgdW5uZWNlc3NhcnkgZXNjYXBpbmcuXFxcIixXMDQ1OlxcXCJCYWQgbnVtYmVyICd7YX0nLlxcXCIsVzA0NjpcXFwiRG9uJ3QgdXNlIGV4dHJhIGxlYWRpbmcgemVyb3MgJ3thfScuXFxcIixXMDQ3OlxcXCJBIHRyYWlsaW5nIGRlY2ltYWwgcG9pbnQgY2FuIGJlIGNvbmZ1c2VkIHdpdGggYSBkb3Q6ICd7YX0nLlxcXCIsVzA0ODpcXFwiVW5leHBlY3RlZCBjb250cm9sIGNoYXJhY3RlciBpbiByZWd1bGFyIGV4cHJlc3Npb24uXFxcIixXMDQ5OlxcXCJVbmV4cGVjdGVkIGVzY2FwZWQgY2hhcmFjdGVyICd7YX0nIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLFcwNTA6XFxcIkphdmFTY3JpcHQgVVJMLlxcXCIsVzA1MTpcXFwiVmFyaWFibGVzIHNob3VsZCBub3QgYmUgZGVsZXRlZC5cXFwiLFcwNTI6XFxcIlVuZXhwZWN0ZWQgJ3thfScuXFxcIixXMDUzOlxcXCJEbyBub3QgdXNlIHthfSBhcyBhIGNvbnN0cnVjdG9yLlxcXCIsVzA1NDpcXFwiVGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlzIGEgZm9ybSBvZiBldmFsLlxcXCIsVzA1NTpcXFwiQSBjb25zdHJ1Y3RvciBuYW1lIHNob3VsZCBzdGFydCB3aXRoIGFuIHVwcGVyY2FzZSBsZXR0ZXIuXFxcIixXMDU2OlxcXCJCYWQgY29uc3RydWN0b3IuXFxcIixXMDU3OlxcXCJXZWlyZCBjb25zdHJ1Y3Rpb24uIElzICduZXcnIG5lY2Vzc2FyeT9cXFwiLFcwNTg6XFxcIk1pc3NpbmcgJygpJyBpbnZva2luZyBhIGNvbnN0cnVjdG9yLlxcXCIsVzA1OTpcXFwiQXZvaWQgYXJndW1lbnRzLnthfS5cXFwiLFcwNjA6XFxcImRvY3VtZW50LndyaXRlIGNhbiBiZSBhIGZvcm0gb2YgZXZhbC5cXFwiLFcwNjE6XFxcImV2YWwgY2FuIGJlIGhhcm1mdWwuXFxcIixXMDYyOlxcXCJXcmFwIGFuIGltbWVkaWF0ZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGluIHBhcmVucyB0byBhc3Npc3QgdGhlIHJlYWRlciBpbiB1bmRlcnN0YW5kaW5nIHRoYXQgdGhlIGV4cHJlc3Npb24gaXMgdGhlIHJlc3VsdCBvZiBhIGZ1bmN0aW9uLCBhbmQgbm90IHRoZSBmdW5jdGlvbiBpdHNlbGYuXFxcIixXMDYzOlxcXCJNYXRoIGlzIG5vdCBhIGZ1bmN0aW9uLlxcXCIsVzA2NDpcXFwiTWlzc2luZyAnbmV3JyBwcmVmaXggd2hlbiBpbnZva2luZyBhIGNvbnN0cnVjdG9yLlxcXCIsVzA2NTpcXFwiTWlzc2luZyByYWRpeCBwYXJhbWV0ZXIuXFxcIixXMDY2OlxcXCJJbXBsaWVkIGV2YWwuIENvbnNpZGVyIHBhc3NpbmcgYSBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgc3RyaW5nLlxcXCIsVzA2NzpcXFwiQmFkIGludm9jYXRpb24uXFxcIixXMDY4OlxcXCJXcmFwcGluZyBub24tSUlGRSBmdW5jdGlvbiBsaXRlcmFscyBpbiBwYXJlbnMgaXMgdW5uZWNlc3NhcnkuXFxcIixXMDY5OlxcXCJbJ3thfSddIGlzIGJldHRlciB3cml0dGVuIGluIGRvdCBub3RhdGlvbi5cXFwiLFcwNzA6XFxcIkV4dHJhIGNvbW1hLiAoaXQgYnJlYWtzIG9sZGVyIHZlcnNpb25zIG9mIElFKVxcXCIsVzA3MTpcXFwiVGhpcyBmdW5jdGlvbiBoYXMgdG9vIG1hbnkgc3RhdGVtZW50cy4gKHthfSlcXFwiLFcwNzI6XFxcIlRoaXMgZnVuY3Rpb24gaGFzIHRvbyBtYW55IHBhcmFtZXRlcnMuICh7YX0pXFxcIixXMDczOlxcXCJCbG9ja3MgYXJlIG5lc3RlZCB0b28gZGVlcGx5LiAoe2F9KVxcXCIsVzA3NDpcXFwiVGhpcyBmdW5jdGlvbidzIGN5Y2xvbWF0aWMgY29tcGxleGl0eSBpcyB0b28gaGlnaC4gKHthfSlcXFwiLFcwNzU6XFxcIkR1cGxpY2F0ZSB7YX0gJ3tifScuXFxcIixXMDc2OlxcXCJVbmV4cGVjdGVkIHBhcmFtZXRlciAne2F9JyBpbiBnZXQge2J9IGZ1bmN0aW9uLlxcXCIsVzA3NzpcXFwiRXhwZWN0ZWQgYSBzaW5nbGUgcGFyYW1ldGVyIGluIHNldCB7YX0gZnVuY3Rpb24uXFxcIixXMDc4OlxcXCJTZXR0ZXIgaXMgZGVmaW5lZCB3aXRob3V0IGdldHRlci5cXFwiLFcwNzk6XFxcIlJlZGVmaW5pdGlvbiBvZiAne2F9Jy5cXFwiLFcwODA6XFxcIkl0J3Mgbm90IG5lY2Vzc2FyeSB0byBpbml0aWFsaXplICd7YX0nIHRvICd1bmRlZmluZWQnLlxcXCIsVzA4MTpudWxsLFcwODI6XFxcIkZ1bmN0aW9uIGRlY2xhcmF0aW9ucyBzaG91bGQgbm90IGJlIHBsYWNlZCBpbiBibG9ja3MuIFVzZSBhIGZ1bmN0aW9uIGV4cHJlc3Npb24gb3IgbW92ZSB0aGUgc3RhdGVtZW50IHRvIHRoZSB0b3Agb2YgdGhlIG91dGVyIGZ1bmN0aW9uLlxcXCIsVzA4MzpcXFwiRG9uJ3QgbWFrZSBmdW5jdGlvbnMgd2l0aGluIGEgbG9vcC5cXFwiLFcwODQ6XFxcIkFzc2lnbm1lbnQgaW4gY29uZGl0aW9uYWwgZXhwcmVzc2lvblxcXCIsVzA4NTpcXFwiRG9uJ3QgdXNlICd3aXRoJy5cXFwiLFcwODY6XFxcIkV4cGVjdGVkIGEgJ2JyZWFrJyBzdGF0ZW1lbnQgYmVmb3JlICd7YX0nLlxcXCIsVzA4NzpcXFwiRm9yZ290dGVuICdkZWJ1Z2dlcicgc3RhdGVtZW50P1xcXCIsVzA4ODpcXFwiQ3JlYXRpbmcgZ2xvYmFsICdmb3InIHZhcmlhYmxlLiBTaG91bGQgYmUgJ2ZvciAodmFyIHthfSAuLi4nLlxcXCIsVzA4OTpcXFwiVGhlIGJvZHkgb2YgYSBmb3IgaW4gc2hvdWxkIGJlIHdyYXBwZWQgaW4gYW4gaWYgc3RhdGVtZW50IHRvIGZpbHRlciB1bndhbnRlZCBwcm9wZXJ0aWVzIGZyb20gdGhlIHByb3RvdHlwZS5cXFwiLFcwOTA6XFxcIid7YX0nIGlzIG5vdCBhIHN0YXRlbWVudCBsYWJlbC5cXFwiLFcwOTE6bnVsbCxXMDkzOlxcXCJEaWQgeW91IG1lYW4gdG8gcmV0dXJuIGEgY29uZGl0aW9uYWwgaW5zdGVhZCBvZiBhbiBhc3NpZ25tZW50P1xcXCIsVzA5NDpcXFwiVW5leHBlY3RlZCBjb21tYS5cXFwiLFcwOTU6XFxcIkV4cGVjdGVkIGEgc3RyaW5nIGFuZCBpbnN0ZWFkIHNhdyB7YX0uXFxcIixXMDk2OlxcXCJUaGUgJ3thfScga2V5IG1heSBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cXFwiLFcwOTc6J1VzZSB0aGUgZnVuY3Rpb24gZm9ybSBvZiBcXFwidXNlIHN0cmljdFxcXCIuJyxXMDk4OlxcXCIne2F9JyBpcyBkZWZpbmVkIGJ1dCBuZXZlciB1c2VkLlxcXCIsVzA5OTpudWxsLFcxMDA6XFxcIlRoaXMgY2hhcmFjdGVyIG1heSBnZXQgc2lsZW50bHkgZGVsZXRlZCBieSBvbmUgb3IgbW9yZSBicm93c2Vycy5cXFwiLFcxMDE6XFxcIkxpbmUgaXMgdG9vIGxvbmcuXFxcIixXMTAyOm51bGwsVzEwMzpcXFwiVGhlICd7YX0nIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQuXFxcIixXMTA0OlxcXCIne2F9JyBpcyBhdmFpbGFibGUgaW4gRVN7Yn0gKHVzZSAnZXN2ZXJzaW9uOiB7Yn0nKSBvciBNb3ppbGxhIEpTIGV4dGVuc2lvbnMgKHVzZSBtb3opLlxcXCIsVzEwNTpcXFwiVW5leHBlY3RlZCB7YX0gaW4gJ3tifScuXFxcIixXMTA2OlxcXCJJZGVudGlmaWVyICd7YX0nIGlzIG5vdCBpbiBjYW1lbCBjYXNlLlxcXCIsVzEwNzpcXFwiU2NyaXB0IFVSTC5cXFwiLFcxMDg6XFxcIlN0cmluZ3MgbXVzdCB1c2UgZG91YmxlcXVvdGUuXFxcIixXMTA5OlxcXCJTdHJpbmdzIG11c3QgdXNlIHNpbmdsZXF1b3RlLlxcXCIsVzExMDpcXFwiTWl4ZWQgZG91YmxlIGFuZCBzaW5nbGUgcXVvdGVzLlxcXCIsVzExMjpcXFwiVW5jbG9zZWQgc3RyaW5nLlxcXCIsVzExMzpcXFwiQ29udHJvbCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiB7YX0uXFxcIixXMTE0OlxcXCJBdm9pZCB7YX0uXFxcIixXMTE1OlxcXCJPY3RhbCBsaXRlcmFscyBhcmUgbm90IGFsbG93ZWQgaW4gc3RyaWN0IG1vZGUuXFxcIixXMTE2OlxcXCJFeHBlY3RlZCAne2F9JyBhbmQgaW5zdGVhZCBzYXcgJ3tifScuXFxcIixXMTE3OlxcXCIne2F9JyBpcyBub3QgZGVmaW5lZC5cXFwiLFcxMTg6XFxcIid7YX0nIGlzIG9ubHkgYXZhaWxhYmxlIGluIE1vemlsbGEgSmF2YVNjcmlwdCBleHRlbnNpb25zICh1c2UgbW96IG9wdGlvbikuXFxcIixXMTE5OlxcXCIne2F9JyBpcyBvbmx5IGF2YWlsYWJsZSBpbiBFU3tifSAodXNlICdlc3ZlcnNpb246IHtifScpLlxcXCIsVzEyMDpcXFwiWW91IG1pZ2h0IGJlIGxlYWtpbmcgYSB2YXJpYWJsZSAoe2F9KSBoZXJlLlxcXCIsVzEyMTpcXFwiRXh0ZW5kaW5nIHByb3RvdHlwZSBvZiBuYXRpdmUgb2JqZWN0OiAne2F9Jy5cXFwiLFcxMjI6XFxcIkludmFsaWQgdHlwZW9mIHZhbHVlICd7YX0nXFxcIixXMTIzOlxcXCIne2F9JyBpcyBhbHJlYWR5IGRlZmluZWQgaW4gb3V0ZXIgc2NvcGUuXFxcIixXMTI0OlxcXCJBIGdlbmVyYXRvciBmdW5jdGlvbiBzaGFsbCBjb250YWluIGEgeWllbGQgc3RhdGVtZW50LlxcXCIsVzEyNTpcXFwiVGhpcyBsaW5lIGNvbnRhaW5zIG5vbi1icmVha2luZyBzcGFjZXM6IGh0dHA6Ly9qc2hpbnQuY29tL2RvYy9vcHRpb25zLyNub25ic3BcXFwiLFcxMjY6XFxcIlVubmVjZXNzYXJ5IGdyb3VwaW5nIG9wZXJhdG9yLlxcXCIsVzEyNzpcXFwiVW5leHBlY3RlZCB1c2Ugb2YgYSBjb21tYSBvcGVyYXRvci5cXFwiLFcxMjg6XFxcIkVtcHR5IGFycmF5IGVsZW1lbnRzIGFjZXF1aXJlIGVsaXNpb249dHJ1ZS5cXFwiLFcxMjk6XFxcIid7YX0nIGlzIGRlZmluZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBKYXZhU2NyaXB0LiBVc2UgYSBkaWZmZXJlbnQgdmFyaWFibGUgbmFtZSB0byBhdm9pZCBtaWdyYXRpb24gaXNzdWVzLlxcXCIsVzEzMDpcXFwiSW52YWxpZCBlbGVtZW50IGFmdGVyIHJlc3QgZWxlbWVudC5cXFwiLFcxMzE6XFxcIkludmFsaWQgcGFyYW1ldGVyIGFmdGVyIHJlc3QgcGFyYW1ldGVyLlxcXCIsVzEzMjpcXFwiYHZhcmAgZGVjbGFyYXRpb25zIGFyZSBmb3JiaWRkZW4uIFVzZSBgbGV0YCBvciBgY29uc3RgIGluc3RlYWQuXFxcIixXMTMzOlxcXCJJbnZhbGlkIGZvci17YX0gbG9vcCBsZWZ0LWhhbmQtc2lkZToge2J9LlxcXCIsVzEzNDpcXFwiVGhlICd7YX0nIG9wdGlvbiBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIGxpbnRpbmcgRUNNQVNjcmlwdCB7Yn0gY29kZS5cXFwiLFcxMzU6XFxcInthfSBtYXkgbm90IGJlIHN1cHBvcnRlZCBieSBub24tYnJvd3NlciBlbnZpcm9ubWVudHMuXFxcIixXMTM2OlxcXCIne2F9JyBtdXN0IGJlIGluIGZ1bmN0aW9uIHNjb3BlLlxcXCIsVzEzNzpcXFwiRW1wdHkgZGVzdHJ1Y3R1cmluZy5cXFwiLFcxMzg6XFxcIlJlZ3VsYXIgcGFyYW1ldGVycyBzaG91bGQgbm90IGNvbWUgYWZ0ZXIgZGVmYXVsdCBwYXJhbWV0ZXJzLlxcXCJ9LGluZm89e0kwMDE6XFxcIkNvbW1hIHdhcm5pbmdzIGNhbiBiZSB0dXJuZWQgb2ZmIHdpdGggJ2xheGNvbW1hJy5cXFwiLEkwMDI6bnVsbCxJMDAzOlxcXCJFUzUgb3B0aW9uIGlzIG5vdyBzZXQgcGVyIGRlZmF1bHRcXFwifTtleHBvcnRzLmVycm9ycz17fSxleHBvcnRzLndhcm5pbmdzPXt9LGV4cG9ydHMuaW5mbz17fSxfLmVhY2goZXJyb3JzLGZ1bmN0aW9uKGRlc2MsY29kZSl7ZXhwb3J0cy5lcnJvcnNbY29kZV09e2NvZGU6Y29kZSxkZXNjOmRlc2N9fSksXy5lYWNoKHdhcm5pbmdzLGZ1bmN0aW9uKGRlc2MsY29kZSl7ZXhwb3J0cy53YXJuaW5nc1tjb2RlXT17Y29kZTpjb2RlLGRlc2M6ZGVzY319KSxfLmVhY2goaW5mbyxmdW5jdGlvbihkZXNjLGNvZGUpe2V4cG9ydHMuaW5mb1tjb2RlXT17Y29kZTpjb2RlLGRlc2M6ZGVzY319KX0se1xcXCIuLi9sb2Rhc2hcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9sb2Rhc2guanNcXFwifV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9uYW1lLXN0YWNrLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBOYW1lU3RhY2soKXt0aGlzLl9zdGFjaz1bXX1PYmplY3QuZGVmaW5lUHJvcGVydHkoTmFtZVN0YWNrLnByb3RvdHlwZSxcXFwibGVuZ3RoXFxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YWNrLmxlbmd0aH19KSxOYW1lU3RhY2sucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLl9zdGFjay5wdXNoKG51bGwpfSxOYW1lU3RhY2sucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3RoaXMuX3N0YWNrLnBvcCgpfSxOYW1lU3RhY2sucHJvdG90eXBlLnNldD1mdW5jdGlvbih0b2tlbil7dGhpcy5fc3RhY2tbdGhpcy5sZW5ndGgtMV09dG9rZW59LE5hbWVTdGFjay5wcm90b3R5cGUuaW5mZXI9ZnVuY3Rpb24oKXt2YXIgdHlwZSxuYW1lVG9rZW49dGhpcy5fc3RhY2tbdGhpcy5sZW5ndGgtMV0scHJlZml4PVxcXCJcXFwiO3JldHVybiBuYW1lVG9rZW4mJlxcXCJjbGFzc1xcXCIhPT1uYW1lVG9rZW4udHlwZXx8KG5hbWVUb2tlbj10aGlzLl9zdGFja1t0aGlzLmxlbmd0aC0yXSksbmFtZVRva2VuPyh0eXBlPW5hbWVUb2tlbi50eXBlLFxcXCIoc3RyaW5nKVxcXCIhPT10eXBlJiZcXFwiKG51bWJlcilcXFwiIT09dHlwZSYmXFxcIihpZGVudGlmaWVyKVxcXCIhPT10eXBlJiZcXFwiZGVmYXVsdFxcXCIhPT10eXBlP1xcXCIoZXhwcmVzc2lvbilcXFwiOihuYW1lVG9rZW4uYWNjZXNzb3JUeXBlJiYocHJlZml4PW5hbWVUb2tlbi5hY2Nlc3NvclR5cGUrXFxcIiBcXFwiKSxwcmVmaXgrbmFtZVRva2VuLnZhbHVlKSk6XFxcIihlbXB0eSlcXFwifSxtb2R1bGUuZXhwb3J0cz1OYW1lU3RhY2t9LHt9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL29wdGlvbnMuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5ib29sPXtlbmZvcmNpbmc6e2JpdHdpc2U6ITAsZnJlZXplOiEwLGNhbWVsY2FzZTohMCxjdXJseTohMCxlcWVxZXE6ITAsZnV0dXJlaG9zdGlsZTohMCxub3R5cGVvZjohMCxlczM6ITAsZXM1OiEwLGZvcmluOiEwLGZ1bmNzY29wZTohMCxpbW1lZDohMCxpdGVyYXRvcjohMCxuZXdjYXA6ITAsbm9hcmc6ITAsbm9jb21tYTohMCxub2VtcHR5OiEwLG5vbmJzcDohMCxub25ldzohMCx1bmRlZjohMCxzaW5nbGVHcm91cHM6ITEsdmFyc3RtdDohMSxlbmZvcmNlYWxsOiExfSxyZWxheGluZzp7YXNpOiEwLG11bHRpc3RyOiEwLGRlYnVnOiEwLGJvc3M6ITAsZXZpbDohMCxnbG9iYWxzdHJpY3Q6ITAscGx1c3BsdXM6ITAscHJvdG86ITAsc2NyaXB0dXJsOiEwLHN1YjohMCxzdXBlcm5ldzohMCxsYXhicmVhazohMCxsYXhjb21tYTohMCx2YWxpZHRoaXM6ITAsd2l0aHN0bXQ6ITAsbW96OiEwLG5veWllbGQ6ITAsZXFudWxsOiEwLGxhc3RzZW1pYzohMCxsb29wZnVuYzohMCxleHByOiEwLGVzbmV4dDohMCxlbGlzaW9uOiEwfSxlbnZpcm9ubWVudHM6e21vb3Rvb2xzOiEwLGNvdWNoOiEwLGphc21pbmU6ITAsanF1ZXJ5OiEwLG5vZGU6ITAscXVuaXQ6ITAscmhpbm86ITAsc2hlbGxqczohMCxwcm90b3R5cGVqczohMCx5dWk6ITAsbW9jaGE6ITAsbW9kdWxlOiEwLHdzaDohMCx3b3JrZXI6ITAsbm9uc3RhbmRhcmQ6ITAsYnJvd3NlcjohMCxicm93c2VyaWZ5OiEwLGRldmVsOiEwLGRvam86ITAsdHlwZWQ6ITAscGhhbnRvbTohMH0sb2Jzb2xldGU6e29uZWNhc2U6ITAscmVnZXhwOiEwLHJlZ2V4ZGFzaDohMH19LGV4cG9ydHMudmFsPXttYXhsZW46ITEsaW5kZW50OiExLG1heGVycjohMSxwcmVkZWY6ITEsZ2xvYmFsczohMSxxdW90bWFyazohMSxzY29wZTohMSxtYXhzdGF0ZW1lbnRzOiExLG1heGRlcHRoOiExLG1heHBhcmFtczohMSxtYXhjb21wbGV4aXR5OiExLHNoYWRvdzohMSxzdHJpY3Q6ITAsdW51c2VkOiEwLGxhdGVkZWY6ITEsaWdub3JlOiExLGlnbm9yZURlbGltaXRlcnM6ITEsZXN2ZXJzaW9uOjV9LGV4cG9ydHMuaW52ZXJ0ZWQ9e2JpdHdpc2U6ITAsZm9yaW46ITAsbmV3Y2FwOiEwLHBsdXNwbHVzOiEwLHJlZ2V4cDohMCx1bmRlZjohMCxlcWVxZXE6ITAsc3RyaWN0OiEwfSxleHBvcnRzLnZhbGlkTmFtZXM9T2JqZWN0LmtleXMoZXhwb3J0cy52YWwpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wucmVsYXhpbmcpKS5jb25jYXQoT2JqZWN0LmtleXMoZXhwb3J0cy5ib29sLmVuZm9yY2luZykpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wub2Jzb2xldGUpKS5jb25jYXQoT2JqZWN0LmtleXMoZXhwb3J0cy5ib29sLmVudmlyb25tZW50cykpLGV4cG9ydHMucmVuYW1lZD17ZXFlcTpcXFwiZXFlcWVxXFxcIix3aW5kb3dzOlxcXCJ3c2hcXFwiLHNsb3BweTpcXFwic3RyaWN0XFxcIn0sZXhwb3J0cy5yZW1vdmVkPXtub21lbjohMCxvbmV2YXI6ITAscGFzc2ZhaWw6ITAsd2hpdGU6ITAsZ2NsOiEwLHNtYXJ0dGFiczohMCx0cmFpbGluZzohMH0sZXhwb3J0cy5ub2VuZm9yY2VhbGw9e3ZhcnN0bXQ6ITAsc3RyaWN0OiEwfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvcmVnLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMudW5zYWZlU3RyaW5nPS9AY2N8PFxcXFwvP3xzY3JpcHR8XFxcXF1cXFxccypcXFxcXXw8XFxcXHMqIXwmbHQvaSxleHBvcnRzLnVuc2FmZUNoYXJzPS9bXFxcXHUwMDAwLVxcXFx1MDAxZlxcXFx1MDA3Zi1cXFxcdTAwOWZcXFxcdTAwYWRcXFxcdTA2MDAtXFxcXHUwNjA0XFxcXHUwNzBmXFxcXHUxN2I0XFxcXHUxN2I1XFxcXHUyMDBjLVxcXFx1MjAwZlxcXFx1MjAyOC1cXFxcdTIwMmZcXFxcdTIwNjAtXFxcXHUyMDZmXFxcXHVmZWZmXFxcXHVmZmYwLVxcXFx1ZmZmZl0vLGV4cG9ydHMubmVlZEVzYz0vW1xcXFx1MDAwMC1cXFxcdTAwMWYmPFxcXCJcXFxcL1xcXFxcXFxcXFxcXHUwMDdmLVxcXFx1MDA5ZlxcXFx1MDBhZFxcXFx1MDYwMC1cXFxcdTA2MDRcXFxcdTA3MGZcXFxcdTE3YjRcXFxcdTE3YjVcXFxcdTIwMGMtXFxcXHUyMDBmXFxcXHUyMDI4LVxcXFx1MjAyZlxcXFx1MjA2MC1cXFxcdTIwNmZcXFxcdWZlZmZcXFxcdWZmZjAtXFxcXHVmZmZmXS8sZXhwb3J0cy5uZWVkRXNjR2xvYmFsPS9bXFxcXHUwMDAwLVxcXFx1MDAxZiY8XFxcIlxcXFwvXFxcXFxcXFxcXFxcdTAwN2YtXFxcXHUwMDlmXFxcXHUwMGFkXFxcXHUwNjAwLVxcXFx1MDYwNFxcXFx1MDcwZlxcXFx1MTdiNFxcXFx1MTdiNVxcXFx1MjAwYy1cXFxcdTIwMGZcXFxcdTIwMjgtXFxcXHUyMDJmXFxcXHUyMDYwLVxcXFx1MjA2ZlxcXFx1ZmVmZlxcXFx1ZmZmMC1cXFxcdWZmZmZdL2csZXhwb3J0cy5zdGFyU2xhc2g9L1xcXFwqXFxcXC8vLGV4cG9ydHMuaWRlbnRpZmllcj0vXihbYS16QS1aXyRdW2EtekEtWjAtOV8kXSopJC8sZXhwb3J0cy5qYXZhc2NyaXB0VVJMPS9eKD86amF2YXNjcmlwdHxqc2NyaXB0fGVjbWFzY3JpcHR8dmJzY3JpcHR8bGl2ZXNjcmlwdClcXFxccyo6L2ksZXhwb3J0cy5mYWxsc1Rocm91Z2g9L15cXFxccypmYWxscz9cXFxcc3Rocm91Z2hcXFxccyokLyxleHBvcnRzLm1heGxlbkV4Y2VwdGlvbj0vXig/Oig/OlxcXFwvXFxcXC98XFxcXC9cXFxcKnxcXFxcKikgPyk/W14gXSskL30se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc2NvcGUtbWFuYWdlci5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIF89X2RlcmVxXyhcXFwiLi4vbG9kYXNoXFxcIiksZXZlbnRzPV9kZXJlcV8oXFxcImV2ZW50c1xcXCIpLG1hcmtlcj17fSxzY29wZU1hbmFnZXI9ZnVuY3Rpb24oc3RhdGUscHJlZGVmaW5lZCxleHBvcnRlZCxkZWNsYXJlZCl7ZnVuY3Rpb24gX25ld1Njb3BlKHR5cGUpe19jdXJyZW50PXtcXFwiKGxhYmVscylcXFwiOk9iamVjdC5jcmVhdGUobnVsbCksXFxcIih1c2FnZXMpXFxcIjpPYmplY3QuY3JlYXRlKG51bGwpLFxcXCIoYnJlYWtMYWJlbHMpXFxcIjpPYmplY3QuY3JlYXRlKG51bGwpLFxcXCIocGFyZW50KVxcXCI6X2N1cnJlbnQsXFxcIih0eXBlKVxcXCI6dHlwZSxcXFwiKHBhcmFtcylcXFwiOlxcXCJmdW5jdGlvbnBhcmFtc1xcXCI9PT10eXBlfHxcXFwiY2F0Y2hwYXJhbXNcXFwiPT09dHlwZT9bXTpudWxsfSxfc2NvcGVTdGFjay5wdXNoKF9jdXJyZW50KX1mdW5jdGlvbiB3YXJuaW5nKGNvZGUsdG9rZW4pe2VtaXR0ZXIuZW1pdChcXFwid2FybmluZ1xcXCIse2NvZGU6Y29kZSx0b2tlbjp0b2tlbixkYXRhOl8uc2xpY2UoYXJndW1lbnRzLDIpfSl9ZnVuY3Rpb24gZXJyb3IoY29kZSx0b2tlbil7ZW1pdHRlci5lbWl0KFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpjb2RlLHRva2VuOnRva2VuLGRhdGE6Xy5zbGljZShhcmd1bWVudHMsMil9KX1mdW5jdGlvbiBfc2V0dXBVc2FnZXMobGFiZWxOYW1lKXtfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdfHwoX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXT17XFxcIihtb2RpZmllZClcXFwiOltdLFxcXCIocmVhc3NpZ25lZClcXFwiOltdLFxcXCIodG9rZW5zKVxcXCI6W119KX1mdW5jdGlvbiBfY2hlY2tGb3JVbnVzZWQoKXtpZihcXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdKXJldHVybiBfY2hlY2tQYXJhbXMoKSx2b2lkIDA7dmFyIGN1cmVudExhYmVscz1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXTtmb3IodmFyIGxhYmVsTmFtZSBpbiBjdXJlbnRMYWJlbHMpY3VyZW50TGFiZWxzW2xhYmVsTmFtZV0mJlxcXCJleGNlcHRpb25cXFwiIT09Y3VyZW50TGFiZWxzW2xhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdJiZjdXJlbnRMYWJlbHNbbGFiZWxOYW1lXVtcXFwiKHVudXNlZClcXFwiXSYmX3dhcm5VbnVzZWQobGFiZWxOYW1lLGN1cmVudExhYmVsc1tsYWJlbE5hbWVdW1xcXCIodG9rZW4pXFxcIl0sXFxcInZhclxcXCIpfWZ1bmN0aW9uIF9jaGVja1BhcmFtcygpe3ZhciBwYXJhbXM9X2N1cnJlbnRbXFxcIihwYXJhbXMpXFxcIl07aWYocGFyYW1zKWZvcih2YXIgdW51c2VkX29wdCxwYXJhbT1wYXJhbXMucG9wKCk7cGFyYW07KXt2YXIgbGFiZWw9X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bcGFyYW1dO2lmKHVudXNlZF9vcHQ9X2dldFVudXNlZE9wdGlvbihzdGF0ZS5mdW5jdFtcXFwiKHVudXNlZE9wdGlvbilcXFwiXSksXFxcInVuZGVmaW5lZFxcXCI9PT1wYXJhbSlyZXR1cm47aWYobGFiZWxbXFxcIih1bnVzZWQpXFxcIl0pX3dhcm5VbnVzZWQocGFyYW0sbGFiZWxbXFxcIih0b2tlbilcXFwiXSxcXFwicGFyYW1cXFwiLHN0YXRlLmZ1bmN0W1xcXCIodW51c2VkT3B0aW9uKVxcXCJdKTtlbHNlIGlmKFxcXCJsYXN0LXBhcmFtXFxcIj09PXVudXNlZF9vcHQpcmV0dXJuO3BhcmFtPXBhcmFtcy5wb3AoKX19ZnVuY3Rpb24gX2dldExhYmVsKGxhYmVsTmFtZSl7Zm9yKHZhciBpPV9zY29wZVN0YWNrLmxlbmd0aC0xO2k+PTA7LS1pKXt2YXIgc2NvcGVMYWJlbHM9X3Njb3BlU3RhY2tbaV1bXFxcIihsYWJlbHMpXFxcIl07aWYoc2NvcGVMYWJlbHNbbGFiZWxOYW1lXSlyZXR1cm4gc2NvcGVMYWJlbHN9fWZ1bmN0aW9uIHVzZWRTb0ZhckluQ3VycmVudEZ1bmN0aW9uKGxhYmVsTmFtZSl7Zm9yKHZhciBpPV9zY29wZVN0YWNrLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgY3VycmVudD1fc2NvcGVTdGFja1tpXTtpZihjdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV0pcmV0dXJuIGN1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXTtpZihjdXJyZW50PT09X2N1cnJlbnRGdW5jdEJvZHkpYnJlYWt9cmV0dXJuITF9ZnVuY3Rpb24gX2NoZWNrT3V0ZXJTaGFkb3cobGFiZWxOYW1lLHRva2VuKXtpZihcXFwib3V0ZXJcXFwiPT09c3RhdGUub3B0aW9uLnNoYWRvdylmb3IodmFyIGlzR2xvYmFsPVxcXCJnbG9iYWxcXFwiPT09X2N1cnJlbnRGdW5jdEJvZHlbXFxcIih0eXBlKVxcXCJdLGlzTmV3RnVuY3Rpb249XFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PV9jdXJyZW50W1xcXCIodHlwZSlcXFwiXSxvdXRzaWRlQ3VycmVudEZ1bmN0aW9uPSFpc0dsb2JhbCxpPTA7X3Njb3BlU3RhY2subGVuZ3RoPmk7aSsrKXt2YXIgc3RhY2tJdGVtPV9zY29wZVN0YWNrW2ldO2lzTmV3RnVuY3Rpb258fF9zY29wZVN0YWNrW2krMV0hPT1fY3VycmVudEZ1bmN0Qm9keXx8KG91dHNpZGVDdXJyZW50RnVuY3Rpb249ITEpLG91dHNpZGVDdXJyZW50RnVuY3Rpb24mJnN0YWNrSXRlbVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdJiZ3YXJuaW5nKFxcXCJXMTIzXFxcIix0b2tlbixsYWJlbE5hbWUpLHN0YWNrSXRlbVtcXFwiKGJyZWFrTGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJndhcm5pbmcoXFxcIlcxMjNcXFwiLHRva2VuLGxhYmVsTmFtZSl9fWZ1bmN0aW9uIF9sYXRlZGVmV2FybmluZyh0eXBlLGxhYmVsTmFtZSx0b2tlbil7c3RhdGUub3B0aW9uLmxhdGVkZWYmJihzdGF0ZS5vcHRpb24ubGF0ZWRlZj09PSEwJiZcXFwiZnVuY3Rpb25cXFwiPT09dHlwZXx8XFxcImZ1bmN0aW9uXFxcIiE9PXR5cGUpJiZ3YXJuaW5nKFxcXCJXMDAzXFxcIix0b2tlbixsYWJlbE5hbWUpfXZhciBfY3VycmVudCxfc2NvcGVTdGFjaz1bXTtfbmV3U2NvcGUoXFxcImdsb2JhbFxcXCIpLF9jdXJyZW50W1xcXCIocHJlZGVmaW5lZClcXFwiXT1wcmVkZWZpbmVkO3ZhciBfY3VycmVudEZ1bmN0Qm9keT1fY3VycmVudCx1c2VkUHJlZGVmaW5lZEFuZEdsb2JhbHM9T2JqZWN0LmNyZWF0ZShudWxsKSxpbXBsaWVkR2xvYmFscz1PYmplY3QuY3JlYXRlKG51bGwpLHVudXNlZHM9W10sZW1pdHRlcj1uZXcgZXZlbnRzLkV2ZW50RW1pdHRlcixfZ2V0VW51c2VkT3B0aW9uPWZ1bmN0aW9uKHVudXNlZF9vcHQpe3JldHVybiB2b2lkIDA9PT11bnVzZWRfb3B0JiYodW51c2VkX29wdD1zdGF0ZS5vcHRpb24udW51c2VkKSx1bnVzZWRfb3B0PT09ITAmJih1bnVzZWRfb3B0PVxcXCJsYXN0LXBhcmFtXFxcIiksdW51c2VkX29wdH0sX3dhcm5VbnVzZWQ9ZnVuY3Rpb24obmFtZSx0a24sdHlwZSx1bnVzZWRfb3B0KXt2YXIgbGluZT10a24ubGluZSxjaHI9dGtuLmZyb20scmF3X25hbWU9dGtuLnJhd190ZXh0fHxuYW1lO3VudXNlZF9vcHQ9X2dldFVudXNlZE9wdGlvbih1bnVzZWRfb3B0KTt2YXIgd2FybmFibGVfdHlwZXM9e3ZhcnM6W1xcXCJ2YXJcXFwiXSxcXFwibGFzdC1wYXJhbVxcXCI6W1xcXCJ2YXJcXFwiLFxcXCJwYXJhbVxcXCJdLHN0cmljdDpbXFxcInZhclxcXCIsXFxcInBhcmFtXFxcIixcXFwibGFzdC1wYXJhbVxcXCJdfTt1bnVzZWRfb3B0JiZ3YXJuYWJsZV90eXBlc1t1bnVzZWRfb3B0XSYmLTEhPT13YXJuYWJsZV90eXBlc1t1bnVzZWRfb3B0XS5pbmRleE9mKHR5cGUpJiZ3YXJuaW5nKFxcXCJXMDk4XFxcIix7bGluZTpsaW5lLGZyb206Y2hyfSxyYXdfbmFtZSksKHVudXNlZF9vcHR8fFxcXCJ2YXJcXFwiPT09dHlwZSkmJnVudXNlZHMucHVzaCh7bmFtZTpuYW1lLGxpbmU6bGluZSxjaGFyYWN0ZXI6Y2hyfSl9LHNjb3BlTWFuYWdlckluc3Q9e29uOmZ1bmN0aW9uKG5hbWVzLGxpc3RlbmVyKXtuYW1lcy5zcGxpdChcXFwiIFxcXCIpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7ZW1pdHRlci5vbihuYW1lLGxpc3RlbmVyKX0pfSxpc1ByZWRlZmluZWQ6ZnVuY3Rpb24obGFiZWxOYW1lKXtyZXR1cm4hdGhpcy5oYXMobGFiZWxOYW1lKSYmXy5oYXMoX3Njb3BlU3RhY2tbMF1bXFxcIihwcmVkZWZpbmVkKVxcXCJdLGxhYmVsTmFtZSl9LHN0YWNrOmZ1bmN0aW9uKHR5cGUpe3ZhciBwcmV2aW91c1Njb3BlPV9jdXJyZW50O19uZXdTY29wZSh0eXBlKSx0eXBlfHxcXFwiZnVuY3Rpb25wYXJhbXNcXFwiIT09cHJldmlvdXNTY29wZVtcXFwiKHR5cGUpXFxcIl18fChfY3VycmVudFtcXFwiKGlzRnVuY0JvZHkpXFxcIl09ITAsX2N1cnJlbnRbXFxcIihjb250ZXh0KVxcXCJdPV9jdXJyZW50RnVuY3RCb2R5LF9jdXJyZW50RnVuY3RCb2R5PV9jdXJyZW50KX0sdW5zdGFjazpmdW5jdGlvbigpe3ZhciBpLGosc3ViU2NvcGU9X3Njb3BlU3RhY2subGVuZ3RoPjE/X3Njb3BlU3RhY2tbX3Njb3BlU3RhY2subGVuZ3RoLTJdOm51bGwsaXNVbnN0YWNraW5nRnVuY3Rpb25Cb2R5PV9jdXJyZW50PT09X2N1cnJlbnRGdW5jdEJvZHksaXNVbnN0YWNraW5nRnVuY3Rpb25QYXJhbXM9XFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PV9jdXJyZW50W1xcXCIodHlwZSlcXFwiXSxpc1Vuc3RhY2tpbmdGdW5jdGlvbk91dGVyPVxcXCJmdW5jdGlvbm91dGVyXFxcIj09PV9jdXJyZW50W1xcXCIodHlwZSlcXFwiXSxjdXJyZW50VXNhZ2VzPV9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdLGN1cnJlbnRMYWJlbHM9X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl0sdXNlZExhYmVsTmFtZUxpc3Q9T2JqZWN0LmtleXMoY3VycmVudFVzYWdlcyk7Zm9yKGN1cnJlbnRVc2FnZXMuX19wcm90b19fJiYtMT09PXVzZWRMYWJlbE5hbWVMaXN0LmluZGV4T2YoXFxcIl9fcHJvdG9fX1xcXCIpJiZ1c2VkTGFiZWxOYW1lTGlzdC5wdXNoKFxcXCJfX3Byb3RvX19cXFwiKSxpPTA7dXNlZExhYmVsTmFtZUxpc3QubGVuZ3RoPmk7aSsrKXt2YXIgdXNlZExhYmVsTmFtZT11c2VkTGFiZWxOYW1lTGlzdFtpXSx1c2FnZT1jdXJyZW50VXNhZ2VzW3VzZWRMYWJlbE5hbWVdLHVzZWRMYWJlbD1jdXJyZW50TGFiZWxzW3VzZWRMYWJlbE5hbWVdO2lmKHVzZWRMYWJlbCl7dmFyIHVzZWRMYWJlbFR5cGU9dXNlZExhYmVsW1xcXCIodHlwZSlcXFwiXTtpZih1c2VkTGFiZWxbXFxcIih1c2VPdXRzaWRlT2ZTY29wZSlcXFwiXSYmIXN0YXRlLm9wdGlvbi5mdW5jc2NvcGUpe3ZhciB1c2VkVG9rZW5zPXVzYWdlW1xcXCIodG9rZW5zKVxcXCJdO2lmKHVzZWRUb2tlbnMpZm9yKGo9MDt1c2VkVG9rZW5zLmxlbmd0aD5qO2orKyl1c2VkTGFiZWxbXFxcIihmdW5jdGlvbilcXFwiXT09PXVzZWRUb2tlbnNbal1bXFxcIihmdW5jdGlvbilcXFwiXSYmZXJyb3IoXFxcIlcwMzhcXFwiLHVzZWRUb2tlbnNbal0sdXNlZExhYmVsTmFtZSl9aWYoX2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bdXNlZExhYmVsTmFtZV1bXFxcIih1bnVzZWQpXFxcIl09ITEsXFxcImNvbnN0XFxcIj09PXVzZWRMYWJlbFR5cGUmJnVzYWdlW1xcXCIobW9kaWZpZWQpXFxcIl0pZm9yKGo9MDt1c2FnZVtcXFwiKG1vZGlmaWVkKVxcXCJdLmxlbmd0aD5qO2orKyllcnJvcihcXFwiRTAxM1xcXCIsdXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXVtqXSx1c2VkTGFiZWxOYW1lKTtpZigoXFxcImZ1bmN0aW9uXFxcIj09PXVzZWRMYWJlbFR5cGV8fFxcXCJjbGFzc1xcXCI9PT11c2VkTGFiZWxUeXBlKSYmdXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdKWZvcihqPTA7dXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdLmxlbmd0aD5qO2orKyllcnJvcihcXFwiVzAyMVxcXCIsdXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdW2pdLHVzZWRMYWJlbE5hbWUsdXNlZExhYmVsVHlwZSl9ZWxzZSBpZihpc1Vuc3RhY2tpbmdGdW5jdGlvbk91dGVyJiYoc3RhdGUuZnVuY3RbXFxcIihpc0NhcHR1cmluZylcXFwiXT0hMCksc3ViU2NvcGUpaWYoc3ViU2NvcGVbXFxcIih1c2FnZXMpXFxcIl1bdXNlZExhYmVsTmFtZV0pe3ZhciBzdWJTY29wZVVzYWdlPXN1YlNjb3BlW1xcXCIodXNhZ2VzKVxcXCJdW3VzZWRMYWJlbE5hbWVdO3N1YlNjb3BlVXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXT1zdWJTY29wZVVzYWdlW1xcXCIobW9kaWZpZWQpXFxcIl0uY29uY2F0KHVzYWdlW1xcXCIobW9kaWZpZWQpXFxcIl0pLHN1YlNjb3BlVXNhZ2VbXFxcIih0b2tlbnMpXFxcIl09c3ViU2NvcGVVc2FnZVtcXFwiKHRva2VucylcXFwiXS5jb25jYXQodXNhZ2VbXFxcIih0b2tlbnMpXFxcIl0pLHN1YlNjb3BlVXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdPXN1YlNjb3BlVXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdLmNvbmNhdCh1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0pLHN1YlNjb3BlVXNhZ2VbXFxcIihvbmx5VXNlZFN1YkZ1bmN0aW9uKVxcXCJdPSExfWVsc2Ugc3ViU2NvcGVbXFxcIih1c2FnZXMpXFxcIl1bdXNlZExhYmVsTmFtZV09dXNhZ2UsaXNVbnN0YWNraW5nRnVuY3Rpb25Cb2R5JiYoc3ViU2NvcGVbXFxcIih1c2FnZXMpXFxcIl1bdXNlZExhYmVsTmFtZV1bXFxcIihvbmx5VXNlZFN1YkZ1bmN0aW9uKVxcXCJdPSEwKTtlbHNlIGlmKFxcXCJib29sZWFuXFxcIj09dHlwZW9mIF9jdXJyZW50W1xcXCIocHJlZGVmaW5lZClcXFwiXVt1c2VkTGFiZWxOYW1lXSl7aWYoZGVsZXRlIGRlY2xhcmVkW3VzZWRMYWJlbE5hbWVdLHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFsc1t1c2VkTGFiZWxOYW1lXT1tYXJrZXIsX2N1cnJlbnRbXFxcIihwcmVkZWZpbmVkKVxcXCJdW3VzZWRMYWJlbE5hbWVdPT09ITEmJnVzYWdlW1xcXCIocmVhc3NpZ25lZClcXFwiXSlmb3Ioaj0wO3VzYWdlW1xcXCIocmVhc3NpZ25lZClcXFwiXS5sZW5ndGg+ajtqKyspd2FybmluZyhcXFwiVzAyMFxcXCIsdXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdW2pdKX1lbHNlIGlmKHVzYWdlW1xcXCIodG9rZW5zKVxcXCJdKWZvcihqPTA7dXNhZ2VbXFxcIih0b2tlbnMpXFxcIl0ubGVuZ3RoPmo7aisrKXt2YXIgdW5kZWZpbmVkVG9rZW49dXNhZ2VbXFxcIih0b2tlbnMpXFxcIl1bal07dW5kZWZpbmVkVG9rZW4uZm9yZ2l2ZVVuZGVmfHwoc3RhdGUub3B0aW9uLnVuZGVmJiYhdW5kZWZpbmVkVG9rZW4uaWdub3JlVW5kZWYmJndhcm5pbmcoXFxcIlcxMTdcXFwiLHVuZGVmaW5lZFRva2VuLHVzZWRMYWJlbE5hbWUpLGltcGxpZWRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdP2ltcGxpZWRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdLmxpbmUucHVzaCh1bmRlZmluZWRUb2tlbi5saW5lKTppbXBsaWVkR2xvYmFsc1t1c2VkTGFiZWxOYW1lXT17bmFtZTp1c2VkTGFiZWxOYW1lLGxpbmU6W3VuZGVmaW5lZFRva2VuLmxpbmVdfSl9fWlmKHN1YlNjb3BlfHxPYmplY3Qua2V5cyhkZWNsYXJlZCkuZm9yRWFjaChmdW5jdGlvbihsYWJlbE5vdFVzZWQpe193YXJuVW51c2VkKGxhYmVsTm90VXNlZCxkZWNsYXJlZFtsYWJlbE5vdFVzZWRdLFxcXCJ2YXJcXFwiKX0pLHN1YlNjb3BlJiYhaXNVbnN0YWNraW5nRnVuY3Rpb25Cb2R5JiYhaXNVbnN0YWNraW5nRnVuY3Rpb25QYXJhbXMmJiFpc1Vuc3RhY2tpbmdGdW5jdGlvbk91dGVyKXt2YXIgbGFiZWxOYW1lcz1PYmplY3Qua2V5cyhjdXJyZW50TGFiZWxzKTtmb3IoaT0wO2xhYmVsTmFtZXMubGVuZ3RoPmk7aSsrKXt2YXIgZGVmTGFiZWxOYW1lPWxhYmVsTmFtZXNbaV07Y3VycmVudExhYmVsc1tkZWZMYWJlbE5hbWVdW1xcXCIoYmxvY2tzY29wZWQpXFxcIl18fFxcXCJleGNlcHRpb25cXFwiPT09Y3VycmVudExhYmVsc1tkZWZMYWJlbE5hbWVdW1xcXCIodHlwZSlcXFwiXXx8dGhpcy5mdW5jdC5oYXMoZGVmTGFiZWxOYW1lLHtleGNsdWRlQ3VycmVudDohMH0pfHwoc3ViU2NvcGVbXFxcIihsYWJlbHMpXFxcIl1bZGVmTGFiZWxOYW1lXT1jdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV0sXFxcImdsb2JhbFxcXCIhPT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0mJihzdWJTY29wZVtcXFwiKGxhYmVscylcXFwiXVtkZWZMYWJlbE5hbWVdW1xcXCIodXNlT3V0c2lkZU9mU2NvcGUpXFxcIl09ITApLGRlbGV0ZSBjdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV0pfX1fY2hlY2tGb3JVbnVzZWQoKSxfc2NvcGVTdGFjay5wb3AoKSxpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHkmJihfY3VycmVudEZ1bmN0Qm9keT1fc2NvcGVTdGFja1tfLmZpbmRMYXN0SW5kZXgoX3Njb3BlU3RhY2ssZnVuY3Rpb24oc2NvcGUpe3JldHVybiBzY29wZVtcXFwiKGlzRnVuY0JvZHkpXFxcIl18fFxcXCJnbG9iYWxcXFwiPT09c2NvcGVbXFxcIih0eXBlKVxcXCJdfSldKSxfY3VycmVudD1zdWJTY29wZX0sYWRkUGFyYW06ZnVuY3Rpb24obGFiZWxOYW1lLHRva2VuLHR5cGUpe2lmKHR5cGU9dHlwZXx8XFxcInBhcmFtXFxcIixcXFwiZXhjZXB0aW9uXFxcIj09PXR5cGUpe3ZhciBwcmV2aW91c2x5RGVmaW5lZExhYmVsVHlwZT10aGlzLmZ1bmN0LmxhYmVsdHlwZShsYWJlbE5hbWUpO3ByZXZpb3VzbHlEZWZpbmVkTGFiZWxUeXBlJiZcXFwiZXhjZXB0aW9uXFxcIiE9PXByZXZpb3VzbHlEZWZpbmVkTGFiZWxUeXBlJiYoc3RhdGUub3B0aW9uLm5vZGV8fHdhcm5pbmcoXFxcIlcwMDJcXFwiLHN0YXRlLnRva2Vucy5uZXh0LGxhYmVsTmFtZSkpfWlmKF8uaGFzKF9jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdLGxhYmVsTmFtZSk/X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXS5kdXBsaWNhdGVkPSEwOihfY2hlY2tPdXRlclNoYWRvdyhsYWJlbE5hbWUsdG9rZW4sdHlwZSksX2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXT17XFxcIih0eXBlKVxcXCI6dHlwZSxcXFwiKHRva2VuKVxcXCI6dG9rZW4sXFxcIih1bnVzZWQpXFxcIjohMH0sX2N1cnJlbnRbXFxcIihwYXJhbXMpXFxcIl0ucHVzaChsYWJlbE5hbWUpKSxfLmhhcyhfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXSxsYWJlbE5hbWUpKXt2YXIgdXNhZ2U9X2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXTt1c2FnZVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl0/X2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKTp3YXJuaW5nKFxcXCJFMDU2XFxcIix0b2tlbixsYWJlbE5hbWUsdHlwZSl9fSx2YWxpZGF0ZVBhcmFtczpmdW5jdGlvbigpe2lmKFxcXCJnbG9iYWxcXFwiIT09X2N1cnJlbnRGdW5jdEJvZHlbXFxcIih0eXBlKVxcXCJdKXt2YXIgaXNTdHJpY3Q9c3RhdGUuaXNTdHJpY3QoKSxjdXJyZW50RnVuY3RQYXJhbVNjb3BlPV9jdXJyZW50RnVuY3RCb2R5W1xcXCIocGFyZW50KVxcXCJdO2N1cnJlbnRGdW5jdFBhcmFtU2NvcGVbXFxcIihwYXJhbXMpXFxcIl0mJmN1cnJlbnRGdW5jdFBhcmFtU2NvcGVbXFxcIihwYXJhbXMpXFxcIl0uZm9yRWFjaChmdW5jdGlvbihsYWJlbE5hbWUpe3ZhciBsYWJlbD1jdXJyZW50RnVuY3RQYXJhbVNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV07bGFiZWwmJmxhYmVsLmR1cGxpY2F0ZWQmJihpc1N0cmljdD93YXJuaW5nKFxcXCJFMDExXFxcIixsYWJlbFtcXFwiKHRva2VuKVxcXCJdLGxhYmVsTmFtZSk6c3RhdGUub3B0aW9uLnNoYWRvdyE9PSEwJiZ3YXJuaW5nKFxcXCJXMDA0XFxcIixsYWJlbFtcXFwiKHRva2VuKVxcXCJdLGxhYmVsTmFtZSkpfSl9fSxnZXRVc2VkT3JEZWZpbmVkR2xvYmFsczpmdW5jdGlvbigpe3ZhciBsaXN0PU9iamVjdC5rZXlzKHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFscyk7cmV0dXJuIHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFscy5fX3Byb3RvX189PT1tYXJrZXImJi0xPT09bGlzdC5pbmRleE9mKFxcXCJfX3Byb3RvX19cXFwiKSYmbGlzdC5wdXNoKFxcXCJfX3Byb3RvX19cXFwiKSxsaXN0fSxnZXRJbXBsaWVkR2xvYmFsczpmdW5jdGlvbigpe3ZhciB2YWx1ZXM9Xy52YWx1ZXMoaW1wbGllZEdsb2JhbHMpLGhhc1Byb3RvPSExO3JldHVybiBpbXBsaWVkR2xvYmFscy5fX3Byb3RvX18mJihoYXNQcm90bz12YWx1ZXMuc29tZShmdW5jdGlvbih2YWx1ZSl7cmV0dXJuXFxcIl9fcHJvdG9fX1xcXCI9PT12YWx1ZS5uYW1lfSksaGFzUHJvdG98fHZhbHVlcy5wdXNoKGltcGxpZWRHbG9iYWxzLl9fcHJvdG9fXykpLHZhbHVlc30sZ2V0VW51c2VkczpmdW5jdGlvbigpe3JldHVybiB1bnVzZWRzfSxoYXM6ZnVuY3Rpb24obGFiZWxOYW1lKXtyZXR1cm4gQm9vbGVhbihfZ2V0TGFiZWwobGFiZWxOYW1lKSl9LGxhYmVsdHlwZTpmdW5jdGlvbihsYWJlbE5hbWUpe3ZhciBzY29wZUxhYmVscz1fZ2V0TGFiZWwobGFiZWxOYW1lKTtyZXR1cm4gc2NvcGVMYWJlbHM/c2NvcGVMYWJlbHNbbGFiZWxOYW1lXVtcXFwiKHR5cGUpXFxcIl06bnVsbH0sYWRkRXhwb3J0ZWQ6ZnVuY3Rpb24obGFiZWxOYW1lKXt2YXIgZ2xvYmFsTGFiZWxzPV9zY29wZVN0YWNrWzBdW1xcXCIobGFiZWxzKVxcXCJdO2lmKF8uaGFzKGRlY2xhcmVkLGxhYmVsTmFtZSkpZGVsZXRlIGRlY2xhcmVkW2xhYmVsTmFtZV07ZWxzZSBpZihfLmhhcyhnbG9iYWxMYWJlbHMsbGFiZWxOYW1lKSlnbG9iYWxMYWJlbHNbbGFiZWxOYW1lXVtcXFwiKHVudXNlZClcXFwiXT0hMTtlbHNle2Zvcih2YXIgaT0xO19zY29wZVN0YWNrLmxlbmd0aD5pO2krKyl7dmFyIHNjb3BlPV9zY29wZVN0YWNrW2ldO2lmKHNjb3BlW1xcXCIodHlwZSlcXFwiXSlicmVhaztpZihfLmhhcyhzY29wZVtcXFwiKGxhYmVscylcXFwiXSxsYWJlbE5hbWUpJiYhc2NvcGVbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKGJsb2Nrc2NvcGVkKVxcXCJdKXJldHVybiBzY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdPSExLHZvaWQgMH1leHBvcnRlZFtsYWJlbE5hbWVdPSEwfX0sc2V0RXhwb3J0ZWQ6ZnVuY3Rpb24obGFiZWxOYW1lLHRva2VuKXt0aGlzLmJsb2NrLnVzZShsYWJlbE5hbWUsdG9rZW4pXFxufSxhZGRsYWJlbDpmdW5jdGlvbihsYWJlbE5hbWUsb3B0cyl7dmFyIHR5cGU9b3B0cy50eXBlLHRva2VuPW9wdHMudG9rZW4saXNibG9ja3Njb3BlZD1cXFwibGV0XFxcIj09PXR5cGV8fFxcXCJjb25zdFxcXCI9PT10eXBlfHxcXFwiY2xhc3NcXFwiPT09dHlwZSxpc2V4cG9ydGVkPVxcXCJnbG9iYWxcXFwiPT09KGlzYmxvY2tzY29wZWQ/X2N1cnJlbnQ6X2N1cnJlbnRGdW5jdEJvZHkpW1xcXCIodHlwZSlcXFwiXSYmXy5oYXMoZXhwb3J0ZWQsbGFiZWxOYW1lKTtpZihfY2hlY2tPdXRlclNoYWRvdyhsYWJlbE5hbWUsdG9rZW4sdHlwZSksaXNibG9ja3Njb3BlZCl7dmFyIGRlY2xhcmVkSW5DdXJyZW50U2NvcGU9X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXTtpZihkZWNsYXJlZEluQ3VycmVudFNjb3BlfHxfY3VycmVudCE9PV9jdXJyZW50RnVuY3RCb2R5fHxcXFwiZ2xvYmFsXFxcIj09PV9jdXJyZW50W1xcXCIodHlwZSlcXFwiXXx8KGRlY2xhcmVkSW5DdXJyZW50U2NvcGU9ISFfY3VycmVudEZ1bmN0Qm9keVtcXFwiKHBhcmVudClcXFwiXVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdKSwhZGVjbGFyZWRJbkN1cnJlbnRTY29wZSYmX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXSl7dmFyIHVzYWdlPV9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV07dXNhZ2VbXFxcIihvbmx5VXNlZFN1YkZ1bmN0aW9uKVxcXCJdP19sYXRlZGVmV2FybmluZyh0eXBlLGxhYmVsTmFtZSx0b2tlbik6d2FybmluZyhcXFwiRTA1NlxcXCIsdG9rZW4sbGFiZWxOYW1lLHR5cGUpfWRlY2xhcmVkSW5DdXJyZW50U2NvcGU/d2FybmluZyhcXFwiRTAxMVxcXCIsdG9rZW4sbGFiZWxOYW1lKTpcXFwib3V0ZXJcXFwiPT09c3RhdGUub3B0aW9uLnNoYWRvdyYmc2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lKSYmd2FybmluZyhcXFwiVzAwNFxcXCIsdG9rZW4sbGFiZWxOYW1lKSxzY29wZU1hbmFnZXJJbnN0LmJsb2NrLmFkZChsYWJlbE5hbWUsdHlwZSx0b2tlbiwhaXNleHBvcnRlZCl9ZWxzZXt2YXIgZGVjbGFyZWRJbkN1cnJlbnRGdW5jdGlvblNjb3BlPXNjb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzKGxhYmVsTmFtZSk7IWRlY2xhcmVkSW5DdXJyZW50RnVuY3Rpb25TY29wZSYmdXNlZFNvRmFySW5DdXJyZW50RnVuY3Rpb24obGFiZWxOYW1lKSYmX2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKSxzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmhhcyhsYWJlbE5hbWUse29ubHlCbG9ja3Njb3BlZDohMH0pP3dhcm5pbmcoXFxcIkUwMTFcXFwiLHRva2VuLGxhYmVsTmFtZSk6c3RhdGUub3B0aW9uLnNoYWRvdyE9PSEwJiZkZWNsYXJlZEluQ3VycmVudEZ1bmN0aW9uU2NvcGUmJlxcXCJfX3Byb3RvX19cXFwiIT09bGFiZWxOYW1lJiZcXFwiZ2xvYmFsXFxcIiE9PV9jdXJyZW50RnVuY3RCb2R5W1xcXCIodHlwZSlcXFwiXSYmd2FybmluZyhcXFwiVzAwNFxcXCIsdG9rZW4sbGFiZWxOYW1lKSxzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmFkZChsYWJlbE5hbWUsdHlwZSx0b2tlbiwhaXNleHBvcnRlZCksXFxcImdsb2JhbFxcXCI9PT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0mJih1c2VkUHJlZGVmaW5lZEFuZEdsb2JhbHNbbGFiZWxOYW1lXT1tYXJrZXIpfX0sZnVuY3Q6e2xhYmVsdHlwZTpmdW5jdGlvbihsYWJlbE5hbWUsb3B0aW9ucyl7Zm9yKHZhciBvbmx5QmxvY2tzY29wZWQ9b3B0aW9ucyYmb3B0aW9ucy5vbmx5QmxvY2tzY29wZWQsZXhjbHVkZVBhcmFtcz1vcHRpb25zJiZvcHRpb25zLmV4Y2x1ZGVQYXJhbXMsY3VycmVudFNjb3BlSW5kZXg9X3Njb3BlU3RhY2subGVuZ3RoLShvcHRpb25zJiZvcHRpb25zLmV4Y2x1ZGVDdXJyZW50PzI6MSksaT1jdXJyZW50U2NvcGVJbmRleDtpPj0wO2ktLSl7dmFyIGN1cnJlbnQ9X3Njb3BlU3RhY2tbaV07aWYoY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdJiYoIW9ubHlCbG9ja3Njb3BlZHx8Y3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIoYmxvY2tzY29wZWQpXFxcIl0pKXJldHVybiBjdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdO3ZhciBzY29wZUNoZWNrPWV4Y2x1ZGVQYXJhbXM/X3Njb3BlU3RhY2tbaS0xXTpjdXJyZW50O2lmKHNjb3BlQ2hlY2smJlxcXCJmdW5jdGlvbnBhcmFtc1xcXCI9PT1zY29wZUNoZWNrW1xcXCIodHlwZSlcXFwiXSlyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH0saGFzQnJlYWtMYWJlbDpmdW5jdGlvbihsYWJlbE5hbWUpe2Zvcih2YXIgaT1fc2NvcGVTdGFjay5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGN1cnJlbnQ9X3Njb3BlU3RhY2tbaV07aWYoY3VycmVudFtcXFwiKGJyZWFrTGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0pcmV0dXJuITA7aWYoXFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PWN1cnJlbnRbXFxcIih0eXBlKVxcXCJdKXJldHVybiExfXJldHVybiExfSxoYXM6ZnVuY3Rpb24obGFiZWxOYW1lLG9wdGlvbnMpe3JldHVybiBCb29sZWFuKHRoaXMubGFiZWx0eXBlKGxhYmVsTmFtZSxvcHRpb25zKSl9LGFkZDpmdW5jdGlvbihsYWJlbE5hbWUsdHlwZSx0b2ssdW51c2VkKXtfY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdPXtcXFwiKHR5cGUpXFxcIjp0eXBlLFxcXCIodG9rZW4pXFxcIjp0b2ssXFxcIihibG9ja3Njb3BlZClcXFwiOiExLFxcXCIoZnVuY3Rpb24pXFxcIjpfY3VycmVudEZ1bmN0Qm9keSxcXFwiKHVudXNlZClcXFwiOnVudXNlZH19fSxibG9jazp7aXNHbG9iYWw6ZnVuY3Rpb24oKXtyZXR1cm5cXFwiZ2xvYmFsXFxcIj09PV9jdXJyZW50W1xcXCIodHlwZSlcXFwiXX0sdXNlOmZ1bmN0aW9uKGxhYmVsTmFtZSx0b2tlbil7dmFyIHBhcmFtU2NvcGU9X2N1cnJlbnRGdW5jdEJvZHlbXFxcIihwYXJlbnQpXFxcIl07cGFyYW1TY29wZSYmcGFyYW1TY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdJiZcXFwicGFyYW1cXFwiPT09cGFyYW1TY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIodHlwZSlcXFwiXSYmKHNjb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzKGxhYmVsTmFtZSx7ZXhjbHVkZVBhcmFtczohMCxvbmx5QmxvY2tzY29wZWQ6ITB9KXx8KHBhcmFtU2NvcGVbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHVudXNlZClcXFwiXT0hMSkpLHRva2VuJiYoc3RhdGUuaWdub3JlZC5XMTE3fHxzdGF0ZS5vcHRpb24udW5kZWY9PT0hMSkmJih0b2tlbi5pZ25vcmVVbmRlZj0hMCksX3NldHVwVXNhZ2VzKGxhYmVsTmFtZSksdG9rZW4mJih0b2tlbltcXFwiKGZ1bmN0aW9uKVxcXCJdPV9jdXJyZW50RnVuY3RCb2R5LF9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih0b2tlbnMpXFxcIl0ucHVzaCh0b2tlbikpfSxyZWFzc2lnbjpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4pe3RoaXMubW9kaWZ5KGxhYmVsTmFtZSx0b2tlbiksX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHJlYXNzaWduZWQpXFxcIl0ucHVzaCh0b2tlbil9LG1vZGlmeTpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4pe19zZXR1cFVzYWdlcyhsYWJlbE5hbWUpLF9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIihtb2RpZmllZClcXFwiXS5wdXNoKHRva2VuKX0sYWRkOmZ1bmN0aW9uKGxhYmVsTmFtZSx0eXBlLHRvayx1bnVzZWQpe19jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV09e1xcXCIodHlwZSlcXFwiOnR5cGUsXFxcIih0b2tlbilcXFwiOnRvayxcXFwiKGJsb2Nrc2NvcGVkKVxcXCI6ITAsXFxcIih1bnVzZWQpXFxcIjp1bnVzZWR9fSxhZGRCcmVha0xhYmVsOmZ1bmN0aW9uKGxhYmVsTmFtZSxvcHRzKXt2YXIgdG9rZW49b3B0cy50b2tlbjtzY29wZU1hbmFnZXJJbnN0LmZ1bmN0Lmhhc0JyZWFrTGFiZWwobGFiZWxOYW1lKT93YXJuaW5nKFxcXCJFMDExXFxcIix0b2tlbixsYWJlbE5hbWUpOlxcXCJvdXRlclxcXCI9PT1zdGF0ZS5vcHRpb24uc2hhZG93JiYoc2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lKT93YXJuaW5nKFxcXCJXMDA0XFxcIix0b2tlbixsYWJlbE5hbWUpOl9jaGVja091dGVyU2hhZG93KGxhYmVsTmFtZSx0b2tlbikpLF9jdXJyZW50W1xcXCIoYnJlYWtMYWJlbHMpXFxcIl1bbGFiZWxOYW1lXT10b2tlbn19fTtyZXR1cm4gc2NvcGVNYW5hZ2VySW5zdH07bW9kdWxlLmV4cG9ydHM9c2NvcGVNYW5hZ2VyfSx7XFxcIi4uL2xvZGFzaFxcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCIsZXZlbnRzOlxcXCIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcXFwifV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zdGF0ZS5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgTmFtZVN0YWNrPV9kZXJlcV8oXFxcIi4vbmFtZS1zdGFjay5qc1xcXCIpLHN0YXRlPXtzeW50YXg6e30saXNTdHJpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RpdmVbXFxcInVzZSBzdHJpY3RcXFwiXXx8dGhpcy5pbkNsYXNzQm9keXx8dGhpcy5vcHRpb24ubW9kdWxlfHxcXFwiaW1wbGllZFxcXCI9PT10aGlzLm9wdGlvbi5zdHJpY3R9LGluTW96OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uLm1ven0saW5FUzY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24ubW96fHx0aGlzLm9wdGlvbi5lc3ZlcnNpb24+PTZ9LGluRVM1OmZ1bmN0aW9uKHN0cmljdCl7cmV0dXJuIHN0cmljdD8hKHRoaXMub3B0aW9uLmVzdmVyc2lvbiYmNSE9PXRoaXMub3B0aW9uLmVzdmVyc2lvbnx8dGhpcy5vcHRpb24ubW96KTohdGhpcy5vcHRpb24uZXN2ZXJzaW9ufHx0aGlzLm9wdGlvbi5lc3ZlcnNpb24+PTV8fHRoaXMub3B0aW9uLm1ven0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnRva2Vucz17cHJldjpudWxsLG5leHQ6bnVsbCxjdXJyOm51bGx9LHRoaXMub3B0aW9uPXt9LHRoaXMuZnVuY3Q9bnVsbCx0aGlzLmlnbm9yZWQ9e30sdGhpcy5kaXJlY3RpdmU9e30sdGhpcy5qc29uTW9kZT0hMSx0aGlzLmpzb25XYXJuaW5ncz1bXSx0aGlzLmxpbmVzPVtdLHRoaXMudGFiPVxcXCJcXFwiLHRoaXMuY2FjaGU9e30sdGhpcy5pZ25vcmVkTGluZXM9e30sdGhpcy5mb3JpbmlmY2hlY2tuZWVkZWQ9ITEsdGhpcy5uYW1lU3RhY2s9bmV3IE5hbWVTdGFjayx0aGlzLmluQ2xhc3NCb2R5PSExfX07ZXhwb3J0cy5zdGF0ZT1zdGF0ZX0se1xcXCIuL25hbWUtc3RhY2suanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvbmFtZS1zdGFjay5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0eWxlLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMucmVnaXN0ZXI9ZnVuY3Rpb24obGludGVyKXtsaW50ZXIub24oXFxcIklkZW50aWZpZXJcXFwiLGZ1bmN0aW9uKGRhdGEpe2xpbnRlci5nZXRPcHRpb24oXFxcInByb3RvXFxcIil8fFxcXCJfX3Byb3RvX19cXFwiPT09ZGF0YS5uYW1lJiZsaW50ZXIud2FybihcXFwiVzEwM1xcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXIsZGF0YTpbZGF0YS5uYW1lLFxcXCI2XFxcIl19KX0pLGxpbnRlci5vbihcXFwiSWRlbnRpZmllclxcXCIsZnVuY3Rpb24oZGF0YSl7bGludGVyLmdldE9wdGlvbihcXFwiaXRlcmF0b3JcXFwiKXx8XFxcIl9faXRlcmF0b3JfX1xcXCI9PT1kYXRhLm5hbWUmJmxpbnRlci53YXJuKFxcXCJXMTAzXFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLm5hbWVdfSl9KSxsaW50ZXIub24oXFxcIklkZW50aWZpZXJcXFwiLGZ1bmN0aW9uKGRhdGEpe2xpbnRlci5nZXRPcHRpb24oXFxcImNhbWVsY2FzZVxcXCIpJiZkYXRhLm5hbWUucmVwbGFjZSgvXl8rfF8rJC9nLFxcXCJcXFwiKS5pbmRleE9mKFxcXCJfXFxcIik+LTEmJiFkYXRhLm5hbWUubWF0Y2goL15bQS1aMC05X10qJC8pJiZsaW50ZXIud2FybihcXFwiVzEwNlxcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmZyb20sZGF0YTpbZGF0YS5uYW1lXX0pfSksbGludGVyLm9uKFxcXCJTdHJpbmdcXFwiLGZ1bmN0aW9uKGRhdGEpe3ZhciBjb2RlLHF1b3RtYXJrPWxpbnRlci5nZXRPcHRpb24oXFxcInF1b3RtYXJrXFxcIik7cXVvdG1hcmsmJihcXFwic2luZ2xlXFxcIj09PXF1b3RtYXJrJiZcXFwiJ1xcXCIhPT1kYXRhLnF1b3RlJiYoY29kZT1cXFwiVzEwOVxcXCIpLFxcXCJkb3VibGVcXFwiPT09cXVvdG1hcmsmJidcXFwiJyE9PWRhdGEucXVvdGUmJihjb2RlPVxcXCJXMTA4XFxcIikscXVvdG1hcms9PT0hMCYmKGxpbnRlci5nZXRDYWNoZShcXFwicXVvdG1hcmtcXFwiKXx8bGludGVyLnNldENhY2hlKFxcXCJxdW90bWFya1xcXCIsZGF0YS5xdW90ZSksbGludGVyLmdldENhY2hlKFxcXCJxdW90bWFya1xcXCIpIT09ZGF0YS5xdW90ZSYmKGNvZGU9XFxcIlcxMTBcXFwiKSksY29kZSYmbGludGVyLndhcm4oY29kZSx7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcn0pKX0pLGxpbnRlci5vbihcXFwiTnVtYmVyXFxcIixmdW5jdGlvbihkYXRhKXtcXFwiLlxcXCI9PT1kYXRhLnZhbHVlLmNoYXJBdCgwKSYmbGludGVyLndhcm4oXFxcIlcwMDhcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyLGRhdGE6W2RhdGEudmFsdWVdfSksXFxcIi5cXFwiPT09ZGF0YS52YWx1ZS5zdWJzdHIoZGF0YS52YWx1ZS5sZW5ndGgtMSkmJmxpbnRlci53YXJuKFxcXCJXMDQ3XFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLnZhbHVlXX0pLC9eMDArLy50ZXN0KGRhdGEudmFsdWUpJiZsaW50ZXIud2FybihcXFwiVzA0NlxcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXIsZGF0YTpbZGF0YS52YWx1ZV19KX0pLGxpbnRlci5vbihcXFwiU3RyaW5nXFxcIixmdW5jdGlvbihkYXRhKXt2YXIgcmU9L14oPzpqYXZhc2NyaXB0fGpzY3JpcHR8ZWNtYXNjcmlwdHx2YnNjcmlwdHxsaXZlc2NyaXB0KVxcXFxzKjovaTtsaW50ZXIuZ2V0T3B0aW9uKFxcXCJzY3JpcHR1cmxcXFwiKXx8cmUudGVzdChkYXRhLnZhbHVlKSYmbGludGVyLndhcm4oXFxcIlcxMDdcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyfSl9KX19LHt9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3ZhcnMuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5yZXNlcnZlZFZhcnM9e2FyZ3VtZW50czohMSxOYU46ITF9LGV4cG9ydHMuZWNtYUlkZW50aWZpZXJzPXszOntBcnJheTohMSxCb29sZWFuOiExLERhdGU6ITEsZGVjb2RlVVJJOiExLGRlY29kZVVSSUNvbXBvbmVudDohMSxlbmNvZGVVUkk6ITEsZW5jb2RlVVJJQ29tcG9uZW50OiExLEVycm9yOiExLGV2YWw6ITEsRXZhbEVycm9yOiExLEZ1bmN0aW9uOiExLGhhc093blByb3BlcnR5OiExLGlzRmluaXRlOiExLGlzTmFOOiExLE1hdGg6ITEsTnVtYmVyOiExLE9iamVjdDohMSxwYXJzZUludDohMSxwYXJzZUZsb2F0OiExLFJhbmdlRXJyb3I6ITEsUmVmZXJlbmNlRXJyb3I6ITEsUmVnRXhwOiExLFN0cmluZzohMSxTeW50YXhFcnJvcjohMSxUeXBlRXJyb3I6ITEsVVJJRXJyb3I6ITF9LDU6e0pTT046ITF9LDY6e01hcDohMSxQcm9taXNlOiExLFByb3h5OiExLFJlZmxlY3Q6ITEsU2V0OiExLFN5bWJvbDohMSxXZWFrTWFwOiExLFdlYWtTZXQ6ITF9fSxleHBvcnRzLmJyb3dzZXI9e0F1ZGlvOiExLEJsb2I6ITEsYWRkRXZlbnRMaXN0ZW5lcjohMSxhcHBsaWNhdGlvbkNhY2hlOiExLGF0b2I6ITEsYmx1cjohMSxidG9hOiExLGNhbmNlbEFuaW1hdGlvbkZyYW1lOiExLENhbnZhc0dyYWRpZW50OiExLENhbnZhc1BhdHRlcm46ITEsQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEOiExLENTUzohMSxjbGVhckludGVydmFsOiExLGNsZWFyVGltZW91dDohMSxjbG9zZTohMSxjbG9zZWQ6ITEsQ29tbWVudDohMSxDdXN0b21FdmVudDohMSxET01QYXJzZXI6ITEsZGVmYXVsdFN0YXR1czohMSxEb2N1bWVudDohMSxkb2N1bWVudDohMSxEb2N1bWVudEZyYWdtZW50OiExLEVsZW1lbnQ6ITEsRWxlbWVudFRpbWVDb250cm9sOiExLEV2ZW50OiExLGV2ZW50OiExLGZldGNoOiExLEZpbGVSZWFkZXI6ITEsRm9ybURhdGE6ITEsZm9jdXM6ITEsZnJhbWVzOiExLGdldENvbXB1dGVkU3R5bGU6ITEsSFRNTEVsZW1lbnQ6ITEsSFRNTEFuY2hvckVsZW1lbnQ6ITEsSFRNTEJhc2VFbGVtZW50OiExLEhUTUxCbG9ja3F1b3RlRWxlbWVudDohMSxIVE1MQm9keUVsZW1lbnQ6ITEsSFRNTEJSRWxlbWVudDohMSxIVE1MQnV0dG9uRWxlbWVudDohMSxIVE1MQ2FudmFzRWxlbWVudDohMSxIVE1MQ29sbGVjdGlvbjohMSxIVE1MRGlyZWN0b3J5RWxlbWVudDohMSxIVE1MRGl2RWxlbWVudDohMSxIVE1MRExpc3RFbGVtZW50OiExLEhUTUxGaWVsZFNldEVsZW1lbnQ6ITEsSFRNTEZvbnRFbGVtZW50OiExLEhUTUxGb3JtRWxlbWVudDohMSxIVE1MRnJhbWVFbGVtZW50OiExLEhUTUxGcmFtZVNldEVsZW1lbnQ6ITEsSFRNTEhlYWRFbGVtZW50OiExLEhUTUxIZWFkaW5nRWxlbWVudDohMSxIVE1MSFJFbGVtZW50OiExLEhUTUxIdG1sRWxlbWVudDohMSxIVE1MSUZyYW1lRWxlbWVudDohMSxIVE1MSW1hZ2VFbGVtZW50OiExLEhUTUxJbnB1dEVsZW1lbnQ6ITEsSFRNTElzSW5kZXhFbGVtZW50OiExLEhUTUxMYWJlbEVsZW1lbnQ6ITEsSFRNTExheWVyRWxlbWVudDohMSxIVE1MTGVnZW5kRWxlbWVudDohMSxIVE1MTElFbGVtZW50OiExLEhUTUxMaW5rRWxlbWVudDohMSxIVE1MTWFwRWxlbWVudDohMSxIVE1MTWVudUVsZW1lbnQ6ITEsSFRNTE1ldGFFbGVtZW50OiExLEhUTUxNb2RFbGVtZW50OiExLEhUTUxPYmplY3RFbGVtZW50OiExLEhUTUxPTGlzdEVsZW1lbnQ6ITEsSFRNTE9wdEdyb3VwRWxlbWVudDohMSxIVE1MT3B0aW9uRWxlbWVudDohMSxIVE1MUGFyYWdyYXBoRWxlbWVudDohMSxIVE1MUGFyYW1FbGVtZW50OiExLEhUTUxQcmVFbGVtZW50OiExLEhUTUxRdW90ZUVsZW1lbnQ6ITEsSFRNTFNjcmlwdEVsZW1lbnQ6ITEsSFRNTFNlbGVjdEVsZW1lbnQ6ITEsSFRNTFN0eWxlRWxlbWVudDohMSxIVE1MVGFibGVDYXB0aW9uRWxlbWVudDohMSxIVE1MVGFibGVDZWxsRWxlbWVudDohMSxIVE1MVGFibGVDb2xFbGVtZW50OiExLEhUTUxUYWJsZUVsZW1lbnQ6ITEsSFRNTFRhYmxlUm93RWxlbWVudDohMSxIVE1MVGFibGVTZWN0aW9uRWxlbWVudDohMSxIVE1MVGVtcGxhdGVFbGVtZW50OiExLEhUTUxUZXh0QXJlYUVsZW1lbnQ6ITEsSFRNTFRpdGxlRWxlbWVudDohMSxIVE1MVUxpc3RFbGVtZW50OiExLEhUTUxWaWRlb0VsZW1lbnQ6ITEsaGlzdG9yeTohMSxJbWFnZTohMSxJbnRsOiExLGxlbmd0aDohMSxsb2NhbFN0b3JhZ2U6ITEsbG9jYXRpb246ITEsbWF0Y2hNZWRpYTohMSxNZXNzYWdlQ2hhbm5lbDohMSxNZXNzYWdlRXZlbnQ6ITEsTWVzc2FnZVBvcnQ6ITEsTW91c2VFdmVudDohMSxtb3ZlQnk6ITEsbW92ZVRvOiExLE11dGF0aW9uT2JzZXJ2ZXI6ITEsbmFtZTohMSxOb2RlOiExLE5vZGVGaWx0ZXI6ITEsTm9kZUxpc3Q6ITEsTm90aWZpY2F0aW9uOiExLG5hdmlnYXRvcjohMSxvbmJlZm9yZXVubG9hZDohMCxvbmJsdXI6ITAsb25lcnJvcjohMCxvbmZvY3VzOiEwLG9ubG9hZDohMCxvbnJlc2l6ZTohMCxvbnVubG9hZDohMCxvcGVuOiExLG9wZW5EYXRhYmFzZTohMSxvcGVuZXI6ITEsT3B0aW9uOiExLHBhcmVudDohMSxwZXJmb3JtYW5jZTohMSxwcmludDohMSxSYW5nZTohMSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ITEscmVtb3ZlRXZlbnRMaXN0ZW5lcjohMSxyZXNpemVCeTohMSxyZXNpemVUbzohMSxzY3JlZW46ITEsc2Nyb2xsOiExLHNjcm9sbEJ5OiExLHNjcm9sbFRvOiExLHNlc3Npb25TdG9yYWdlOiExLHNldEludGVydmFsOiExLHNldFRpbWVvdXQ6ITEsU2hhcmVkV29ya2VyOiExLHN0YXR1czohMSxTVkdBRWxlbWVudDohMSxTVkdBbHRHbHlwaERlZkVsZW1lbnQ6ITEsU1ZHQWx0R2x5cGhFbGVtZW50OiExLFNWR0FsdEdseXBoSXRlbUVsZW1lbnQ6ITEsU1ZHQW5nbGU6ITEsU1ZHQW5pbWF0ZUNvbG9yRWxlbWVudDohMSxTVkdBbmltYXRlRWxlbWVudDohMSxTVkdBbmltYXRlTW90aW9uRWxlbWVudDohMSxTVkdBbmltYXRlVHJhbnNmb3JtRWxlbWVudDohMSxTVkdBbmltYXRlZEFuZ2xlOiExLFNWR0FuaW1hdGVkQm9vbGVhbjohMSxTVkdBbmltYXRlZEVudW1lcmF0aW9uOiExLFNWR0FuaW1hdGVkSW50ZWdlcjohMSxTVkdBbmltYXRlZExlbmd0aDohMSxTVkdBbmltYXRlZExlbmd0aExpc3Q6ITEsU1ZHQW5pbWF0ZWROdW1iZXI6ITEsU1ZHQW5pbWF0ZWROdW1iZXJMaXN0OiExLFNWR0FuaW1hdGVkUGF0aERhdGE6ITEsU1ZHQW5pbWF0ZWRQb2ludHM6ITEsU1ZHQW5pbWF0ZWRQcmVzZXJ2ZUFzcGVjdFJhdGlvOiExLFNWR0FuaW1hdGVkUmVjdDohMSxTVkdBbmltYXRlZFN0cmluZzohMSxTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3Q6ITEsU1ZHQW5pbWF0aW9uRWxlbWVudDohMSxTVkdDU1NSdWxlOiExLFNWR0NpcmNsZUVsZW1lbnQ6ITEsU1ZHQ2xpcFBhdGhFbGVtZW50OiExLFNWR0NvbG9yOiExLFNWR0NvbG9yUHJvZmlsZUVsZW1lbnQ6ITEsU1ZHQ29sb3JQcm9maWxlUnVsZTohMSxTVkdDb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uRWxlbWVudDohMSxTVkdDdXJzb3JFbGVtZW50OiExLFNWR0RlZnNFbGVtZW50OiExLFNWR0Rlc2NFbGVtZW50OiExLFNWR0RvY3VtZW50OiExLFNWR0VsZW1lbnQ6ITEsU1ZHRWxlbWVudEluc3RhbmNlOiExLFNWR0VsZW1lbnRJbnN0YW5jZUxpc3Q6ITEsU1ZHRWxsaXBzZUVsZW1lbnQ6ITEsU1ZHRXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDohMSxTVkdGRUJsZW5kRWxlbWVudDohMSxTVkdGRUNvbG9yTWF0cml4RWxlbWVudDohMSxTVkdGRUNvbXBvbmVudFRyYW5zZmVyRWxlbWVudDohMSxTVkdGRUNvbXBvc2l0ZUVsZW1lbnQ6ITEsU1ZHRkVDb252b2x2ZU1hdHJpeEVsZW1lbnQ6ITEsU1ZHRkVEaWZmdXNlTGlnaHRpbmdFbGVtZW50OiExLFNWR0ZFRGlzcGxhY2VtZW50TWFwRWxlbWVudDohMSxTVkdGRURpc3RhbnRMaWdodEVsZW1lbnQ6ITEsU1ZHRkVGbG9vZEVsZW1lbnQ6ITEsU1ZHRkVGdW5jQUVsZW1lbnQ6ITEsU1ZHRkVGdW5jQkVsZW1lbnQ6ITEsU1ZHRkVGdW5jR0VsZW1lbnQ6ITEsU1ZHRkVGdW5jUkVsZW1lbnQ6ITEsU1ZHRkVHYXVzc2lhbkJsdXJFbGVtZW50OiExLFNWR0ZFSW1hZ2VFbGVtZW50OiExLFNWR0ZFTWVyZ2VFbGVtZW50OiExLFNWR0ZFTWVyZ2VOb2RlRWxlbWVudDohMSxTVkdGRU1vcnBob2xvZ3lFbGVtZW50OiExLFNWR0ZFT2Zmc2V0RWxlbWVudDohMSxTVkdGRVBvaW50TGlnaHRFbGVtZW50OiExLFNWR0ZFU3BlY3VsYXJMaWdodGluZ0VsZW1lbnQ6ITEsU1ZHRkVTcG90TGlnaHRFbGVtZW50OiExLFNWR0ZFVGlsZUVsZW1lbnQ6ITEsU1ZHRkVUdXJidWxlbmNlRWxlbWVudDohMSxTVkdGaWx0ZXJFbGVtZW50OiExLFNWR0ZpbHRlclByaW1pdGl2ZVN0YW5kYXJkQXR0cmlidXRlczohMSxTVkdGaXRUb1ZpZXdCb3g6ITEsU1ZHRm9udEVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VFbGVtZW50OiExLFNWR0ZvbnRGYWNlRm9ybWF0RWxlbWVudDohMSxTVkdGb250RmFjZU5hbWVFbGVtZW50OiExLFNWR0ZvbnRGYWNlU3JjRWxlbWVudDohMSxTVkdGb250RmFjZVVyaUVsZW1lbnQ6ITEsU1ZHRm9yZWlnbk9iamVjdEVsZW1lbnQ6ITEsU1ZHR0VsZW1lbnQ6ITEsU1ZHR2x5cGhFbGVtZW50OiExLFNWR0dseXBoUmVmRWxlbWVudDohMSxTVkdHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHSEtlcm5FbGVtZW50OiExLFNWR0lDQ0NvbG9yOiExLFNWR0ltYWdlRWxlbWVudDohMSxTVkdMYW5nU3BhY2U6ITEsU1ZHTGVuZ3RoOiExLFNWR0xlbmd0aExpc3Q6ITEsU1ZHTGluZUVsZW1lbnQ6ITEsU1ZHTGluZWFyR3JhZGllbnRFbGVtZW50OiExLFNWR0xvY2F0YWJsZTohMSxTVkdNUGF0aEVsZW1lbnQ6ITEsU1ZHTWFya2VyRWxlbWVudDohMSxTVkdNYXNrRWxlbWVudDohMSxTVkdNYXRyaXg6ITEsU1ZHTWV0YWRhdGFFbGVtZW50OiExLFNWR01pc3NpbmdHbHlwaEVsZW1lbnQ6ITEsU1ZHTnVtYmVyOiExLFNWR051bWJlckxpc3Q6ITEsU1ZHUGFpbnQ6ITEsU1ZHUGF0aEVsZW1lbnQ6ITEsU1ZHUGF0aFNlZzohMSxTVkdQYXRoU2VnQXJjQWJzOiExLFNWR1BhdGhTZWdBcmNSZWw6ITEsU1ZHUGF0aFNlZ0Nsb3NlUGF0aDohMSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWw6ITEsU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFiczohMSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsOiExLFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzOiExLFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsOiExLFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzOiExLFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsOiExLFNWR1BhdGhTZWdMaW5ldG9BYnM6ITEsU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnM6ITEsU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWw6ITEsU1ZHUGF0aFNlZ0xpbmV0b1JlbDohMSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnM6ITEsU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsOiExLFNWR1BhdGhTZWdMaXN0OiExLFNWR1BhdGhTZWdNb3ZldG9BYnM6ITEsU1ZHUGF0aFNlZ01vdmV0b1JlbDohMSxTVkdQYXR0ZXJuRWxlbWVudDohMSxTVkdQb2ludDohMSxTVkdQb2ludExpc3Q6ITEsU1ZHUG9seWdvbkVsZW1lbnQ6ITEsU1ZHUG9seWxpbmVFbGVtZW50OiExLFNWR1ByZXNlcnZlQXNwZWN0UmF0aW86ITEsU1ZHUmFkaWFsR3JhZGllbnRFbGVtZW50OiExLFNWR1JlY3Q6ITEsU1ZHUmVjdEVsZW1lbnQ6ITEsU1ZHUmVuZGVyaW5nSW50ZW50OiExLFNWR1NWR0VsZW1lbnQ6ITEsU1ZHU2NyaXB0RWxlbWVudDohMSxTVkdTZXRFbGVtZW50OiExLFNWR1N0b3BFbGVtZW50OiExLFNWR1N0cmluZ0xpc3Q6ITEsU1ZHU3R5bGFibGU6ITEsU1ZHU3R5bGVFbGVtZW50OiExLFNWR1N3aXRjaEVsZW1lbnQ6ITEsU1ZHU3ltYm9sRWxlbWVudDohMSxTVkdUUmVmRWxlbWVudDohMSxTVkdUU3BhbkVsZW1lbnQ6ITEsU1ZHVGVzdHM6ITEsU1ZHVGV4dENvbnRlbnRFbGVtZW50OiExLFNWR1RleHRFbGVtZW50OiExLFNWR1RleHRQYXRoRWxlbWVudDohMSxTVkdUZXh0UG9zaXRpb25pbmdFbGVtZW50OiExLFNWR1RpdGxlRWxlbWVudDohMSxTVkdUcmFuc2Zvcm06ITEsU1ZHVHJhbnNmb3JtTGlzdDohMSxTVkdUcmFuc2Zvcm1hYmxlOiExLFNWR1VSSVJlZmVyZW5jZTohMSxTVkdVbml0VHlwZXM6ITEsU1ZHVXNlRWxlbWVudDohMSxTVkdWS2VybkVsZW1lbnQ6ITEsU1ZHVmlld0VsZW1lbnQ6ITEsU1ZHVmlld1NwZWM6ITEsU1ZHWm9vbUFuZFBhbjohMSxUZXh0OiExLFRleHREZWNvZGVyOiExLFRleHRFbmNvZGVyOiExLFRpbWVFdmVudDohMSx0b3A6ITEsVVJMOiExLFdlYkdMQWN0aXZlSW5mbzohMSxXZWJHTEJ1ZmZlcjohMSxXZWJHTENvbnRleHRFdmVudDohMSxXZWJHTEZyYW1lYnVmZmVyOiExLFdlYkdMUHJvZ3JhbTohMSxXZWJHTFJlbmRlcmJ1ZmZlcjohMSxXZWJHTFJlbmRlcmluZ0NvbnRleHQ6ITEsV2ViR0xTaGFkZXI6ITEsV2ViR0xTaGFkZXJQcmVjaXNpb25Gb3JtYXQ6ITEsV2ViR0xUZXh0dXJlOiExLFdlYkdMVW5pZm9ybUxvY2F0aW9uOiExLFdlYlNvY2tldDohMSx3aW5kb3c6ITEsV2luZG93OiExLFdvcmtlcjohMSxYRG9tYWluUmVxdWVzdDohMSxYTUxIdHRwUmVxdWVzdDohMSxYTUxTZXJpYWxpemVyOiExLFhQYXRoRXZhbHVhdG9yOiExLFhQYXRoRXhjZXB0aW9uOiExLFhQYXRoRXhwcmVzc2lvbjohMSxYUGF0aE5hbWVzcGFjZTohMSxYUGF0aE5TUmVzb2x2ZXI6ITEsWFBhdGhSZXN1bHQ6ITF9LGV4cG9ydHMuZGV2ZWw9e2FsZXJ0OiExLGNvbmZpcm06ITEsY29uc29sZTohMSxEZWJ1ZzohMSxvcGVyYTohMSxwcm9tcHQ6ITF9LGV4cG9ydHMud29ya2VyPXtpbXBvcnRTY3JpcHRzOiEwLHBvc3RNZXNzYWdlOiEwLHNlbGY6ITAsRmlsZVJlYWRlclN5bmM6ITB9LGV4cG9ydHMubm9uc3RhbmRhcmQ9e2VzY2FwZTohMSx1bmVzY2FwZTohMX0sZXhwb3J0cy5jb3VjaD17cmVxdWlyZTohMSxyZXNwb25kOiExLGdldFJvdzohMSxlbWl0OiExLHNlbmQ6ITEsc3RhcnQ6ITEsc3VtOiExLGxvZzohMSxleHBvcnRzOiExLG1vZHVsZTohMSxwcm92aWRlczohMX0sZXhwb3J0cy5ub2RlPXtfX2ZpbGVuYW1lOiExLF9fZGlybmFtZTohMSxHTE9CQUw6ITEsZ2xvYmFsOiExLG1vZHVsZTohMSxhY2VxdWlyZTohMSxCdWZmZXI6ITAsY29uc29sZTohMCxleHBvcnRzOiEwLHByb2Nlc3M6ITAsc2V0VGltZW91dDohMCxjbGVhclRpbWVvdXQ6ITAsc2V0SW50ZXJ2YWw6ITAsY2xlYXJJbnRlcnZhbDohMCxzZXRJbW1lZGlhdGU6ITAsY2xlYXJJbW1lZGlhdGU6ITB9LGV4cG9ydHMuYnJvd3NlcmlmeT17X19maWxlbmFtZTohMSxfX2Rpcm5hbWU6ITEsZ2xvYmFsOiExLG1vZHVsZTohMSxhY2VxdWlyZTohMSxCdWZmZXI6ITAsZXhwb3J0czohMCxwcm9jZXNzOiEwfSxleHBvcnRzLnBoYW50b209e3BoYW50b206ITAsYWNlcXVpcmU6ITAsV2ViUGFnZTohMCxjb25zb2xlOiEwLGV4cG9ydHM6ITB9LGV4cG9ydHMucXVuaXQ9e2FzeW5jVGVzdDohMSxkZWVwRXF1YWw6ITEsZXF1YWw6ITEsZXhwZWN0OiExLG1vZHVsZTohMSxub3REZWVwRXF1YWw6ITEsbm90RXF1YWw6ITEsbm90UHJvcEVxdWFsOiExLG5vdFN0cmljdEVxdWFsOiExLG9rOiExLHByb3BFcXVhbDohMSxRVW5pdDohMSxyYWlzZXM6ITEsc3RhcnQ6ITEsc3RvcDohMSxzdHJpY3RFcXVhbDohMSx0ZXN0OiExLFxcXCJ0aHJvd3NcXFwiOiExfSxleHBvcnRzLnJoaW5vPXtkZWZpbmVDbGFzczohMSxkZXNlcmlhbGl6ZTohMSxnYzohMSxoZWxwOiExLGltcG9ydENsYXNzOiExLGltcG9ydFBhY2thZ2U6ITEsamF2YTohMSxsb2FkOiExLGxvYWRDbGFzczohMSxQYWNrYWdlczohMSxwcmludDohMSxxdWl0OiExLHJlYWRGaWxlOiExLHJlYWRVcmw6ITEscnVuQ29tbWFuZDohMSxzZWFsOiExLHNlcmlhbGl6ZTohMSxzcGF3bjohMSxzeW5jOiExLHRvaW50MzI6ITEsdmVyc2lvbjohMX0sZXhwb3J0cy5zaGVsbGpzPXt0YXJnZXQ6ITEsZWNobzohMSxleGl0OiExLGNkOiExLHB3ZDohMSxsczohMSxmaW5kOiExLGNwOiExLHJtOiExLG12OiExLG1rZGlyOiExLHRlc3Q6ITEsY2F0OiExLHNlZDohMSxncmVwOiExLHdoaWNoOiExLGRpcnM6ITEscHVzaGQ6ITEscG9wZDohMSxlbnY6ITEsZXhlYzohMSxjaG1vZDohMSxjb25maWc6ITEsZXJyb3I6ITEsdGVtcGRpcjohMX0sZXhwb3J0cy50eXBlZD17QXJyYXlCdWZmZXI6ITEsQXJyYXlCdWZmZXJWaWV3OiExLERhdGFWaWV3OiExLEZsb2F0MzJBcnJheTohMSxGbG9hdDY0QXJyYXk6ITEsSW50MTZBcnJheTohMSxJbnQzMkFycmF5OiExLEludDhBcnJheTohMSxVaW50MTZBcnJheTohMSxVaW50MzJBcnJheTohMSxVaW50OEFycmF5OiExLFVpbnQ4Q2xhbXBlZEFycmF5OiExfSxleHBvcnRzLndzaD17QWN0aXZlWE9iamVjdDohMCxFbnVtZXJhdG9yOiEwLEdldE9iamVjdDohMCxTY3JpcHRFbmdpbmU6ITAsU2NyaXB0RW5naW5lQnVpbGRWZXJzaW9uOiEwLFNjcmlwdEVuZ2luZU1ham9yVmVyc2lvbjohMCxTY3JpcHRFbmdpbmVNaW5vclZlcnNpb246ITAsVkJBcnJheTohMCxXU0g6ITAsV1NjcmlwdDohMCxYRG9tYWluUmVxdWVzdDohMH0sZXhwb3J0cy5kb2pvPXtkb2pvOiExLGRpaml0OiExLGRvam94OiExLGRlZmluZTohMSxyZXF1aXJlOiExfSxleHBvcnRzLmpxdWVyeT17JDohMSxqUXVlcnk6ITF9LGV4cG9ydHMubW9vdG9vbHM9eyQ6ITEsJCQ6ITEsQXNzZXQ6ITEsQnJvd3NlcjohMSxDaGFpbjohMSxDbGFzczohMSxDb2xvcjohMSxDb29raWU6ITEsQ29yZTohMSxEb2N1bWVudDohMSxEb21SZWFkeTohMSxET01FdmVudDohMSxET01SZWFkeTohMSxEcmFnOiExLEVsZW1lbnQ6ITEsRWxlbWVudHM6ITEsRXZlbnQ6ITEsRXZlbnRzOiExLEZ4OiExLEdyb3VwOiExLEhhc2g6ITEsSHRtbFRhYmxlOiExLElGcmFtZTohMSxJZnJhbWVTaGltOiExLElucHV0VmFsaWRhdG9yOiExLGluc3RhbmNlT2Y6ITEsS2V5Ym9hcmQ6ITEsTG9jYWxlOiExLE1hc2s6ITEsTW9vVG9vbHM6ITEsTmF0aXZlOiExLE9wdGlvbnM6ITEsT3ZlclRleHQ6ITEsUmVxdWVzdDohMSxTY3JvbGxlcjohMSxTbGljazohMSxTbGlkZXI6ITEsU29ydGFibGVzOiExLFNwaW5uZXI6ITEsU3dpZmY6ITEsVGlwczohMSxUeXBlOiExLHR5cGVPZjohMSxVUkk6ITEsV2luZG93OiExfSxleHBvcnRzLnByb3RvdHlwZWpzPXskOiExLCQkOiExLCRBOiExLCRGOiExLCRIOiExLCRSOiExLCRicmVhazohMSwkY29udGludWU6ITEsJHc6ITEsQWJzdHJhY3Q6ITEsQWpheDohMSxDbGFzczohMSxFbnVtZXJhYmxlOiExLEVsZW1lbnQ6ITEsRXZlbnQ6ITEsRmllbGQ6ITEsRm9ybTohMSxIYXNoOiExLEluc2VydGlvbjohMSxPYmplY3RSYW5nZTohMSxQZXJpb2RpY2FsRXhlY3V0ZXI6ITEsUG9zaXRpb246ITEsUHJvdG90eXBlOiExLFNlbGVjdG9yOiExLFRlbXBsYXRlOiExLFRvZ2dsZTohMSxUcnk6ITEsQXV0b2NvbXBsZXRlcjohMSxCdWlsZGVyOiExLENvbnRyb2w6ITEsRHJhZ2dhYmxlOiExLERyYWdnYWJsZXM6ITEsRHJvcHBhYmxlczohMSxFZmZlY3Q6ITEsU29ydGFibGU6ITEsU29ydGFibGVPYnNlcnZlcjohMSxTb3VuZDohMSxTY3JpcHRhY3Vsb3VzOiExfSxleHBvcnRzLnl1aT17WVVJOiExLFk6ITEsWVVJX2NvbmZpZzohMX0sZXhwb3J0cy5tb2NoYT17bW9jaGE6ITEsZGVzY3JpYmU6ITEseGRlc2NyaWJlOiExLGl0OiExLHhpdDohMSxjb250ZXh0OiExLHhjb250ZXh0OiExLGJlZm9yZTohMSxhZnRlcjohMSxiZWZvcmVFYWNoOiExLGFmdGVyRWFjaDohMSxzdWl0ZTohMSx0ZXN0OiExLHNldHVwOiExLHRlYXJkb3duOiExLHN1aXRlU2V0dXA6ITEsc3VpdGVUZWFyZG93bjohMX0sZXhwb3J0cy5qYXNtaW5lPXtqYXNtaW5lOiExLGRlc2NyaWJlOiExLHhkZXNjcmliZTohMSxpdDohMSx4aXQ6ITEsYmVmb3JlRWFjaDohMSxhZnRlckVhY2g6ITEsc2V0Rml4dHVyZXM6ITEsbG9hZEZpeHR1cmVzOiExLHNweU9uOiExLGV4cGVjdDohMSxydW5zOiExLHdhaXRzRm9yOiExLHdhaXRzOiExLGJlZm9yZUFsbDohMSxhZnRlckFsbDohMSxmYWlsOiExLGZkZXNjcmliZTohMSxmaXQ6ITEscGVuZGluZzohMX19LHt9XX0se30sW1xcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvanNoaW50LmpzXFxcIl0pfSksYWNlLmRlZmluZShcXFwiYWNlL21vZGUvamF2YXNjcmlwdF93b3JrZXJcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiLFxcXCJhY2UvbGliL29vcFxcXCIsXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixcXFwiYWNlL21vZGUvamF2YXNjcmlwdC9qc2hpbnRcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzLG1vZHVsZSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIHN0YXJ0UmVnZXgoYXJyKXtyZXR1cm4gUmVnRXhwKFxcXCJeKFxcXCIrYXJyLmpvaW4oXFxcInxcXFwiKStcXFwiKVxcXCIpfXZhciBvb3A9YWNlcXVpcmUoXFxcIi4uL2xpYi9vb3BcXFwiKSxNaXJyb3I9YWNlcXVpcmUoXFxcIi4uL3dvcmtlci9taXJyb3JcXFwiKS5NaXJyb3IsbGludD1hY2VxdWlyZShcXFwiLi9qYXZhc2NyaXB0L2pzaGludFxcXCIpLkpTSElOVCxkaXNhYmxlZFdhcm5pbmdzUmU9c3RhcnRSZWdleChbXFxcIkJhZCBmb3IgaW4gdmFyaWFibGUgJyguKyknLlxcXCIsJ01pc3NpbmcgXFxcInVzZSBzdHJpY3RcXFwiJ10pLGVycm9yc1JlPXN0YXJ0UmVnZXgoW1xcXCJVbmV4cGVjdGVkXFxcIixcXFwiRXhwZWN0ZWQgXFxcIixcXFwiQ29uZnVzaW5nIChwbHVzfG1pbnVzKVxcXCIsXFxcIlxcXFxcXFxce2FcXFxcXFxcXH0gdW50ZXJtaW5hdGVkIHJlZ3VsYXIgZXhwcmVzc2lvblxcXCIsXFxcIlVuY2xvc2VkIFxcXCIsXFxcIlVubWF0Y2hlZCBcXFwiLFxcXCJVbmJlZ3VuIGNvbW1lbnRcXFwiLFxcXCJCYWQgaW52b2NhdGlvblxcXCIsXFxcIk1pc3Npbmcgc3BhY2UgYWZ0ZXJcXFwiLFxcXCJNaXNzaW5nIG9wZXJhdG9yIGF0XFxcIl0pLGluZm9SZT1zdGFydFJlZ2V4KFtcXFwiRXhwZWN0ZWQgYW4gYXNzaWdubWVudFxcXCIsXFxcIkJhZCBlc2NhcGVtZW50IG9mIEVPTFxcXCIsXFxcIlVuZXhwZWN0ZWQgY29tbWFcXFwiLFxcXCJVbmV4cGVjdGVkIHNwYWNlXFxcIixcXFwiTWlzc2luZyByYWRpeCBwYXJhbWV0ZXIuXFxcIixcXFwiQSBsZWFkaW5nIGRlY2ltYWwgcG9pbnQgY2FuXFxcIixcXFwiXFxcXFxcXFxbJ3thfSdcXFxcXFxcXF0gaXMgYmV0dGVyIHdyaXR0ZW4gaW4gZG90IG5vdGF0aW9uLlxcXCIsXFxcIid7YX0nIHVzZWQgb3V0IG9mIHNjb3BlXFxcIl0pLEphdmFTY3JpcHRXb3JrZXI9ZXhwb3J0cy5KYXZhU2NyaXB0V29ya2VyPWZ1bmN0aW9uKHNlbmRlcil7TWlycm9yLmNhbGwodGhpcyxzZW5kZXIpLHRoaXMuc2V0VGltZW91dCg1MDApLHRoaXMuc2V0T3B0aW9ucygpfTtvb3AuaW5oZXJpdHMoSmF2YVNjcmlwdFdvcmtlcixNaXJyb3IpLGZ1bmN0aW9uKCl7dGhpcy5zZXRPcHRpb25zPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zfHx7ZXNuZXh0OiEwLG1vejohMCxkZXZlbDohMCxicm93c2VyOiEwLG5vZGU6ITAsbGF4Y29tbWE6ITAsbGF4YnJlYWs6ITAsbGFzdHNlbWljOiEwLG9uZXZhcjohMSxwYXNzZmFpbDohMSxtYXhlcnI6MTAwLGV4cHI6ITAsbXVsdGlzdHI6ITAsZ2xvYmFsc3RyaWN0OiEwfSx0aGlzLmRvYy5nZXRWYWx1ZSgpJiZ0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKDEwMCl9LHRoaXMuY2hhbmdlT3B0aW9ucz1mdW5jdGlvbihuZXdPcHRpb25zKXtvb3AubWl4aW4odGhpcy5vcHRpb25zLG5ld09wdGlvbnMpLHRoaXMuZG9jLmdldFZhbHVlKCkmJnRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoMTAwKX0sdGhpcy5pc1ZhbGlkSlM9ZnVuY3Rpb24oc3RyKXt0cnl7ZXZhbChcXFwidGhyb3cgMDtcXFwiK3N0cil9Y2F0Y2goZSl7aWYoMD09PWUpcmV0dXJuITB9cmV0dXJuITF9LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9dGhpcy5kb2MuZ2V0VmFsdWUoKTtpZih2YWx1ZT12YWx1ZS5yZXBsYWNlKC9eIyEuKlxcXFxuLyxcXFwiXFxcXG5cXFwiKSwhdmFsdWUpcmV0dXJuIHRoaXMuc2VuZGVyLmVtaXQoXFxcImFubm90YXRlXFxcIixbXSk7dmFyIGVycm9ycz1bXSxtYXhFcnJvckxldmVsPXRoaXMuaXNWYWxpZEpTKHZhbHVlKT9cXFwid2FybmluZ1xcXCI6XFxcImVycm9yXFxcIjtsaW50KHZhbHVlLHRoaXMub3B0aW9ucyk7Zm9yKHZhciByZXN1bHRzPWxpbnQuZXJyb3JzLGVycm9yQWRkZWQ9ITEsaT0wO3Jlc3VsdHMubGVuZ3RoPmk7aSsrKXt2YXIgZXJyb3I9cmVzdWx0c1tpXTtpZihlcnJvcil7dmFyIHJhdz1lcnJvci5yYXcsdHlwZT1cXFwid2FybmluZ1xcXCI7aWYoXFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCI9PXJhdyl7dmFyIHN0cj1lcnJvci5ldmlkZW5jZS5zdWJzdHIoZXJyb3IuY2hhcmFjdGVyKTtzdHI9c3RyLmNoYXJBdChzdHIuc2VhcmNoKC9cXFxcUy8pKSxcXFwiZXJyb3JcXFwiPT1tYXhFcnJvckxldmVsJiZzdHImJi9bXFxcXHdcXFxcZHsoWydcXFwiXS8udGVzdChzdHIpPyhlcnJvci5yZWFzb249J01pc3NpbmcgXFxcIjtcXFwiIGJlZm9yZSBzdGF0ZW1lbnQnLHR5cGU9XFxcImVycm9yXFxcIik6dHlwZT1cXFwiaW5mb1xcXCJ9ZWxzZXtpZihkaXNhYmxlZFdhcm5pbmdzUmUudGVzdChyYXcpKWNvbnRpbnVlO2luZm9SZS50ZXN0KHJhdyk/dHlwZT1cXFwiaW5mb1xcXCI6ZXJyb3JzUmUudGVzdChyYXcpPyhlcnJvckFkZGVkPSEwLHR5cGU9bWF4RXJyb3JMZXZlbCk6XFxcIid7YX0nIGlzIG5vdCBkZWZpbmVkLlxcXCI9PXJhdz90eXBlPVxcXCJ3YXJuaW5nXFxcIjpcXFwiJ3thfScgaXMgZGVmaW5lZCBidXQgbmV2ZXIgdXNlZC5cXFwiPT1yYXcmJih0eXBlPVxcXCJpbmZvXFxcIil9ZXJyb3JzLnB1c2goe3JvdzplcnJvci5saW5lLTEsY29sdW1uOmVycm9yLmNoYXJhY3Rlci0xLHRleHQ6ZXJyb3IucmVhc29uLHR5cGU6dHlwZSxyYXc6cmF3fSl9fXRoaXMuc2VuZGVyLmVtaXQoXFxcImFubm90YXRlXFxcIixlcnJvcnMpfX0uY2FsbChKYXZhU2NyaXB0V29ya2VyLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL2VzNS1zaGltXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBFbXB0eSgpe31mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LFxcXCJzZW50aW5lbFxcXCIse30pLFxcXCJzZW50aW5lbFxcXCJpbiBvYmplY3R9Y2F0Y2goZXhjZXB0aW9uKXt9fWZ1bmN0aW9uIHRvSW50ZWdlcihuKXtyZXR1cm4gbj0rbixuIT09bj9uPTA6MCE9PW4mJm4hPT0xLzAmJm4hPT0tKDEvMCkmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSksbn1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHRoYXQpe3ZhciB0YXJnZXQ9dGhpcztpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgdGFyZ2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXFxcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgXFxcIit0YXJnZXQpO3ZhciBhcmdzPXNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGJvdW5kPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIGJvdW5kKXt2YXIgcmVzdWx0PXRhcmdldC5hcHBseSh0aGlzLGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO3JldHVybiBPYmplY3QocmVzdWx0KT09PXJlc3VsdD9yZXN1bHQ6dGhpc31yZXR1cm4gdGFyZ2V0LmFwcGx5KHRoYXQsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiB0YXJnZXQucHJvdG90eXBlJiYoRW1wdHkucHJvdG90eXBlPXRhcmdldC5wcm90b3R5cGUsYm91bmQucHJvdG90eXBlPW5ldyBFbXB0eSxFbXB0eS5wcm90b3R5cGU9bnVsbCksYm91bmR9KTt2YXIgZGVmaW5lR2V0dGVyLGRlZmluZVNldHRlcixsb29rdXBHZXR0ZXIsbG9va3VwU2V0dGVyLHN1cHBvcnRzQWNjZXNzb3JzLGNhbGw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscHJvdG90eXBlT2ZBcnJheT1BcnJheS5wcm90b3R5cGUscHJvdG90eXBlT2ZPYmplY3Q9T2JqZWN0LnByb3RvdHlwZSxzbGljZT1wcm90b3R5cGVPZkFycmF5LnNsaWNlLF90b1N0cmluZz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpLG93bnM9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Lmhhc093blByb3BlcnR5KTtpZigoc3VwcG9ydHNBY2Nlc3NvcnM9b3ducyhwcm90b3R5cGVPZk9iamVjdCxcXFwiX19kZWZpbmVHZXR0ZXJfX1xcXCIpKSYmKGRlZmluZUdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyksZGVmaW5lU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZVNldHRlcl9fKSxsb29rdXBHZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18pLGxvb2t1cFNldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXykpLDIhPVsxLDJdLnNwbGljZSgwKS5sZW5ndGgpaWYoZnVuY3Rpb24oKXtmdW5jdGlvbiBtYWtlQXJyYXkobCl7dmFyIGE9QXJyYXkobCsyKTtyZXR1cm4gYVswXT1hWzFdPTAsYX12YXIgbGVuZ3RoQmVmb3JlLGFycmF5PVtdO3JldHVybiBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDIwKSksYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LG1ha2VBcnJheSgyNikpLGxlbmd0aEJlZm9yZT1hcnJheS5sZW5ndGgsYXJyYXkuc3BsaWNlKDUsMCxcXFwiWFhYXFxcIiksbGVuZ3RoQmVmb3JlKzE9PWFycmF5Lmxlbmd0aCxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoPyEwOnZvaWQgMH0oKSl7dmFyIGFycmF5X3NwbGljZT1BcnJheS5wcm90b3R5cGUuc3BsaWNlO0FycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24oc3RhcnQsZGVsZXRlQ291bnQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2FycmF5X3NwbGljZS5hcHBseSh0aGlzLFt2b2lkIDA9PT1zdGFydD8wOnN0YXJ0LHZvaWQgMD09PWRlbGV0ZUNvdW50P3RoaXMubGVuZ3RoLXN0YXJ0OmRlbGV0ZUNvdW50XS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsMikpKTpbXX19ZWxzZSBBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHBvcyxyZW1vdmVDb3VudCl7dmFyIGxlbmd0aD10aGlzLmxlbmd0aDtwb3M+MD9wb3M+bGVuZ3RoJiYocG9zPWxlbmd0aCk6dm9pZCAwPT1wb3M/cG9zPTA6MD5wb3MmJihwb3M9TWF0aC5tYXgobGVuZ3RoK3BvcywwKSksbGVuZ3RoPnBvcytyZW1vdmVDb3VudHx8KHJlbW92ZUNvdW50PWxlbmd0aC1wb3MpO3ZhciByZW1vdmVkPXRoaXMuc2xpY2UocG9zLHBvcytyZW1vdmVDb3VudCksaW5zZXJ0PXNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGFkZD1pbnNlcnQubGVuZ3RoO2lmKHBvcz09PWxlbmd0aClhZGQmJnRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZXt2YXIgcmVtb3ZlPU1hdGgubWluKHJlbW92ZUNvdW50LGxlbmd0aC1wb3MpLHRhaWxPbGRQb3M9cG9zK3JlbW92ZSx0YWlsTmV3UG9zPXRhaWxPbGRQb3MrYWRkLXJlbW92ZSx0YWlsQ291bnQ9bGVuZ3RoLXRhaWxPbGRQb3MsbGVuZ3RoQWZ0ZXJSZW1vdmU9bGVuZ3RoLXJlbW92ZTtpZih0YWlsT2xkUG9zPnRhaWxOZXdQb3MpZm9yKHZhciBpPTA7dGFpbENvdW50Pmk7KytpKXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07ZWxzZSBpZih0YWlsTmV3UG9zPnRhaWxPbGRQb3MpZm9yKGk9dGFpbENvdW50O2ktLTspdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtpZihhZGQmJnBvcz09PWxlbmd0aEFmdGVyUmVtb3ZlKXRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlLHRoaXMucHVzaC5hcHBseSh0aGlzLGluc2VydCk7ZWxzZSBmb3IodGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUrYWRkLGk9MDthZGQ+aTsrK2kpdGhpc1twb3MraV09aW5zZXJ0W2ldfXJldHVybiByZW1vdmVkfTtBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbihvYmope3JldHVyblxcXCJbb2JqZWN0IEFycmF5XVxcXCI9PV90b1N0cmluZyhvYmopfSk7dmFyIGJveGVkU3RyaW5nPU9iamVjdChcXFwiYVxcXCIpLHNwbGl0U3RyaW5nPVxcXCJhXFxcIiE9Ym94ZWRTdHJpbmdbMF18fCEoMCBpbiBib3hlZFN0cmluZyk7aWYoQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsdGhpc3A9YXJndW1lbnRzWzFdLGk9LTEsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7bGVuZ3RoPisraTspaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KX0pLEFycmF5LnByb3RvdHlwZS5tYXB8fChBcnJheS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1BcnJheShsZW5ndGgpLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdFtpXT1mdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5maWx0ZXJ8fChBcnJheS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGZ1bil7dmFyIHZhbHVlLG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHJlc3VsdD1bXSx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJih2YWx1ZT1zZWxmW2ldLGZ1bi5jYWxsKHRoaXNwLHZhbHVlLGksb2JqZWN0KSYmcmVzdWx0LnB1c2godmFsdWUpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmV2ZXJ5fHwoQXJyYXkucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmIWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiExO3JldHVybiEwfSksQXJyYXkucHJvdG90eXBlLnNvbWV8fChBcnJheS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKXJldHVybiEwO3JldHVybiExfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoXFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rXFxcIiBpcyBub3QgYSBmdW5jdGlvblxcXCIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT0wO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpKytdO2JyZWFrfWlmKCsraT49bGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1mb3IoO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodHx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKTt2YXIgcmVzdWx0LGk9bGVuZ3RoLTE7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2ktLV07YnJlYWt9aWYoMD4tLWkpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIil9ZG8gaSBpbiB0aGlzJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3doaWxlKGktLSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mJiYtMT09WzAsMV0uaW5kZXhPZigxLDIpfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9MDtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT10b0ludGVnZXIoYXJndW1lbnRzWzFdKSksaT1pPj0wP2k6TWF0aC5tYXgoMCxsZW5ndGgraSk7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmc2VsZltpXT09PXNvdWdodClyZXR1cm4gaTtyZXR1cm4tMX0pLEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmLTE9PVswLDFdLmxhc3RJbmRleE9mKDAsLTMpfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPWxlbmd0aC0xO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPU1hdGgubWluKGksdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpKSxpPWk+PTA/aTpsZW5ndGgtTWF0aC5hYnMoaSk7aT49MDtpLS0paWYoaSBpbiBzZWxmJiZzb3VnaHQ9PT1zZWxmW2ldKXJldHVybiBpO3JldHVybi0xfSksT2JqZWN0LmdldFByb3RvdHlwZU9mfHwoT2JqZWN0LmdldFByb3RvdHlwZU9mPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdC5fX3Byb3RvX198fChvYmplY3QuY29uc3RydWN0b3I/b2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTpwcm90b3R5cGVPZk9iamVjdCl9KSwhT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcil7dmFyIEVSUl9OT05fT0JKRUNUPVxcXCJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhIG5vbi1vYmplY3Q6IFxcXCI7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcj1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1Qrb2JqZWN0KTtpZihvd25zKG9iamVjdCxwcm9wZXJ0eSkpe3ZhciBkZXNjcmlwdG9yLGdldHRlcixzZXR0ZXI7aWYoZGVzY3JpcHRvcj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9LHN1cHBvcnRzQWNjZXNzb3JzKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdDt2YXIgZ2V0dGVyPWxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpLHNldHRlcj1sb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KTtpZihvYmplY3QuX19wcm90b19fPXByb3RvdHlwZSxnZXR0ZXJ8fHNldHRlcilyZXR1cm4gZ2V0dGVyJiYoZGVzY3JpcHRvci5nZXQ9Z2V0dGVyKSxzZXR0ZXImJihkZXNjcmlwdG9yLnNldD1zZXR0ZXIpLGRlc2NyaXB0b3J9cmV0dXJuIGRlc2NyaXB0b3IudmFsdWU9b2JqZWN0W3Byb3BlcnR5XSxkZXNjcmlwdG9yfX19aWYoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBPYmplY3Qua2V5cyhvYmplY3QpfSksIU9iamVjdC5jcmVhdGUpe3ZhciBjcmVhdGVFbXB0eTtjcmVhdGVFbXB0eT1udWxsPT09T2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18/ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOm51bGx9fTpmdW5jdGlvbigpe3ZhciBlbXB0eT17fTtmb3IodmFyIGkgaW4gZW1wdHkpZW1wdHlbaV09bnVsbDtyZXR1cm4gZW1wdHkuY29uc3RydWN0b3I9ZW1wdHkuaGFzT3duUHJvcGVydHk9ZW1wdHkucHJvcGVydHlJc0VudW1lcmFibGU9ZW1wdHkuaXNQcm90b3R5cGVPZj1lbXB0eS50b0xvY2FsZVN0cmluZz1lbXB0eS50b1N0cmluZz1lbXB0eS52YWx1ZU9mPWVtcHR5Ll9fcHJvdG9fXz1udWxsLGVtcHR5fSxPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKHByb3RvdHlwZSxwcm9wZXJ0aWVzKXt2YXIgb2JqZWN0O2lmKG51bGw9PT1wcm90b3R5cGUpb2JqZWN0PWNyZWF0ZUVtcHR5KCk7ZWxzZXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIHByb3RvdHlwZSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJ0eXBlb2YgcHJvdG90eXBlW1xcXCIrdHlwZW9mIHByb3RvdHlwZStcXFwiXSAhPSAnb2JqZWN0J1xcXCIpO3ZhciBUeXBlPWZ1bmN0aW9uKCl7fTtUeXBlLnByb3RvdHlwZT1wcm90b3R5cGUsb2JqZWN0PW5ldyBUeXBlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfXJldHVybiB2b2lkIDAhPT1wcm9wZXJ0aWVzJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmplY3QscHJvcGVydGllcyksb2JqZWN0fX1pZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe3ZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3Q9ZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSksZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tPVxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZG9jdW1lbnR8fGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIikpO2lmKCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3R8fCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2s9T2JqZWN0LmRlZmluZVByb3BlcnR5fWlmKCFPYmplY3QuZGVmaW5lUHJvcGVydHl8fGRlZmluZVByb3BlcnR5RmFsbGJhY2spe3ZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SPVxcXCJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogXFxcIixFUlJfTk9OX09CSkVDVF9UQVJHRVQ9XFxcIk9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogXFxcIixFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQ9XFxcImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lXFxcIjtPYmplY3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Ipe2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygb2JqZWN0JiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfVEFSR0VUK29iamVjdCk7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZGVzY3JpcHRvcnx8bnVsbD09PWRlc2NyaXB0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SK2Rlc2NyaXB0b3IpO2lmKGRlZmluZVByb3BlcnR5RmFsbGJhY2spdHJ5e3JldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKGRlc2NyaXB0b3IsXFxcInZhbHVlXFxcIikpaWYoc3VwcG9ydHNBY2Nlc3NvcnMmJihsb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KXx8bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSkpKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdCxkZWxldGUgb2JqZWN0W3Byb3BlcnR5XSxvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9ZWxzZSBvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWU7ZWxzZXtpZighc3VwcG9ydHNBY2Nlc3NvcnMpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO293bnMoZGVzY3JpcHRvcixcXFwiZ2V0XFxcIikmJmRlZmluZUdldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5nZXQpLG93bnMoZGVzY3JpcHRvcixcXFwic2V0XFxcIikmJmRlZmluZVNldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5zZXQpfXJldHVybiBvYmplY3R9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnRpZXMpe2Zvcih2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcylvd25zKHByb3BlcnRpZXMscHJvcGVydHkpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LHByb3BlcnR5LHByb3BlcnRpZXNbcHJvcGVydHldKTtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LnNlYWx8fChPYmplY3Quc2VhbD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuZnJlZXplfHwoT2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGV4Y2VwdGlvbil7T2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihmcmVlemVPYmplY3Qpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBvYmplY3Q/b2JqZWN0OmZyZWV6ZU9iamVjdChvYmplY3QpfX0oT2JqZWN0LmZyZWV6ZSl9aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zfHwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbihvYmplY3Qpe2lmKE9iamVjdChvYmplY3QpPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuYW1lPVxcXCJcXFwiO293bnMob2JqZWN0LG5hbWUpOyluYW1lKz1cXFwiP1xcXCI7b2JqZWN0W25hbWVdPSEwO3ZhciByZXR1cm5WYWx1ZT1vd25zKG9iamVjdCxuYW1lKTtyZXR1cm4gZGVsZXRlIG9iamVjdFtuYW1lXSxyZXR1cm5WYWx1ZX0pLCFPYmplY3Qua2V5cyl7dmFyIGhhc0RvbnRFbnVtQnVnPSEwLGRvbnRFbnVtcz1bXFxcInRvU3RyaW5nXFxcIixcXFwidG9Mb2NhbGVTdHJpbmdcXFwiLFxcXCJ2YWx1ZU9mXFxcIixcXFwiaGFzT3duUHJvcGVydHlcXFwiLFxcXCJpc1Byb3RvdHlwZU9mXFxcIixcXFwicHJvcGVydHlJc0VudW1lcmFibGVcXFwiLFxcXCJjb25zdHJ1Y3RvclxcXCJdLGRvbnRFbnVtc0xlbmd0aD1kb250RW51bXMubGVuZ3RoO2Zvcih2YXIga2V5IGlue3RvU3RyaW5nOm51bGx9KWhhc0RvbnRFbnVtQnVnPSExO09iamVjdC5rZXlzPWZ1bmN0aW9uKG9iamVjdCl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdFxcXCIpO3ZhciBrZXlzPVtdO2Zvcih2YXIgbmFtZSBpbiBvYmplY3Qpb3ducyhvYmplY3QsbmFtZSkmJmtleXMucHVzaChuYW1lKTtpZihoYXNEb250RW51bUJ1Zylmb3IodmFyIGk9MCxpaT1kb250RW51bXNMZW5ndGg7aWk+aTtpKyspe3ZhciBkb250RW51bT1kb250RW51bXNbaV07b3ducyhvYmplY3QsZG9udEVudW0pJiZrZXlzLnB1c2goZG9udEVudW0pfXJldHVybiBrZXlzfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgd3M9XFxcIlxcdFxcXFxuXFx1MDAwYlxcXFxmXFxcXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXFxcdTIwMjhcXFxcdTIwMjnvu79cXFwiO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fHdzLnRyaW0oKSl7d3M9XFxcIltcXFwiK3dzK1xcXCJdXFxcIjt2YXIgdHJpbUJlZ2luUmVnZXhwPVJlZ0V4cChcXFwiXlxcXCIrd3Mrd3MrXFxcIipcXFwiKSx0cmltRW5kUmVnZXhwPVJlZ0V4cCh3cyt3cytcXFwiKiRcXFwiKTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4odGhpcytcXFwiXFxcIikucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXFxcIlxcXCIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCxcXFwiXFxcIil9fXZhciB0b09iamVjdD1mdW5jdGlvbihvKXtpZihudWxsPT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcImNhbid0IGNvbnZlcnQgXFxcIitvK1xcXCIgdG8gb2JqZWN0XFxcIik7cmV0dXJuIE9iamVjdChvKX19KTtcIjsiLCJcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCBvcmJ0Q3RybHMgZnJvbSAndGhyZWUtb3JiaXQtY29udHJvbHMnO1xyXG5pbXBvcnQgVGhyZWVSZW5kZXJlciBmcm9tICcuL1RocmVlUmVuZGVyZXIuanN4JztcclxuY29uc3QgT3JiaXRDb250cm9scyA9IG9yYnRDdHJscyhUSFJFRSk7XHJcblxyXG5jbGFzcyBPcmJpdFRocmVlVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIC8vIFNldHVwIE9yYml0Q29udHJvbHMgY2FtZXJhXHJcbiAgICBsZXQgY2FudmFzU2l6ZSA9IHtcclxuICAgICAgd2lkdGg6IDUxMixcclxuICAgICAgaGVpZ2h0OiA1MTJcclxuICAgIH07XHJcbiAgICBsZXQgYXNwZWN0ID0gY2FudmFzU2l6ZS53aWR0aCAvIGNhbnZhc1NpemUuaGVpZ2h0O1xyXG4gICAgbGV0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3MC4wLypkZWcqLywgYXNwZWN0LCAwLjEsIDEwMDAwLjApO1xyXG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAxMCk7XHJcbiAgICBjYW1lcmEudXBkYXRlTWF0cml4KCk7XHJcbiAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtcclxuICAgIHRoaXMuY3RybHNDYW0gPSBjYW1lcmE7XHJcbiAgICAvLyBJbml0aWFsaXplIHN0YXRlXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjYW52YXNTaXplLFxyXG4gICAgICBjYW1lcmEsXHJcbiAgICAgIHpvb206IDcwLjBcclxuICAgIH07XHJcbiAgICAvLyBJbml0aWFsaXplIGJvdW5kIG1ldGhvZHNcclxuICAgIHRoaXMudXBkYXRlU2l6ZVN0YXRlID0gdGhpcy51cGRhdGVTaXplU3RhdGUuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy51cGRhdGVTaXplU3RhdGUpO1xyXG4gICAgdGhpcy51cGRhdGVTaXplU3RhdGUoKTtcclxuXHJcbiAgICBsZXQgb3JiaXRDb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY3RybHNDYW0sIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmc1tcImFuY2hvclwiXSkpO1xyXG4gICAgb3JiaXRDb250cm9scy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jdHJsc0NhbS51cGRhdGVNYXRyaXgoKTtcclxuICAgICAgdGhpcy5jdHJsc0NhbS51cGRhdGVNYXRyaXhXb3JsZCgpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtjYW1lcmE6IHRoaXMuY3RybHNDYW0uY2xvbmUoKX0pO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLm9yYml0Q29udHJvbHMgPSBvcmJpdENvbnRyb2xzO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnVwZGF0ZVNpemVTdGF0ZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTaXplU3RhdGUoKSB7XHJcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB0aGlzLnJlZnNbXCJhbmNob3JcIl0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICB0aGlzLmN0cmxzQ2FtLmFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0O1xyXG4gICAgdGhpcy5jdHJsc0NhbS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2FudmFzU2l6ZToge3dpZHRoLCBoZWlnaHR9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRDYW1lcmEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jYW1lcmE7XHJcbiAgfVxyXG4gIFxyXG4gIHVwZGF0ZVpvb20oZGVsdGEpIHtcclxuICAgIGNvbnN0IHt6b29tfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCBjYW1lcmEgPSB0aGlzLmN0cmxzQ2FtO1xyXG4gICAgbGV0IG5ld1pvb20gPSB6b29tICsgZGVsdGE7XHJcbiAgICBpZiAobmV3Wm9vbSA8PSAwKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbWVyYS5mb3YgPSBuZXdab29tO1xyXG4gICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICB6b29tOiBuZXdab29tLFxyXG4gICAgICAgIGNhbWVyYTogY2FtZXJhLmNsb25lKClcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB6b29tUGFsZXR0ZVN0eWxlID0ge1xyXG4gICAgICB6SW5kZXg6IDEwLCBcclxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgXHJcbiAgICAgIHRvcDogMCwgXHJcbiAgICAgIGxlZnQ6IDBcclxuICAgIH07XHJcbiAgICBjb25zdCBjb250YWluZXJTdHlsZSA9IHtcclxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxyXG4gICAgfTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgcmVmPVwiYW5jaG9yXCIgc3R5bGU9e2NvbnRhaW5lclN0eWxlfT5cclxuICAgICAgICA8VGhyZWVSZW5kZXJlciBcclxuICAgICAgICAgIHdpZHRoPXt0aGlzLnN0YXRlLmNhbnZhc1NpemUud2lkdGh9IFxyXG4gICAgICAgICAgaGVpZ2h0PXt0aGlzLnN0YXRlLmNhbnZhc1NpemUuaGVpZ2h0fSBcclxuICAgICAgICAgIHNjZW5lPXt0aGlzLnByb3BzLnNjZW5lfSBcclxuICAgICAgICAgIGNhbWVyYT17dGhpcy5zdGF0ZS5jYW1lcmF9IC8+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17em9vbVBhbGV0dGVTdHlsZX0+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT50aGlzLnVwZGF0ZVpvb20oLTUuMCl9Pis8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnRoaXMudXBkYXRlWm9vbSg1LjApfT4tPC9idXR0b24+XHJcbiAgICAgICAgICA8c3Bhbj5GT1Y6IHt0aGlzLnN0YXRlLnpvb219IGRlZ3JlZXM8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9yYml0VGhyZWVWaWV3O1xyXG4iLCJcclxuaW1wb3J0IHtub29wLCB0aW1lcywgY29uc3RhbnQsIGRpZmZlcmVuY2V9IGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgYnJhY2UgZnJvbSAnYnJhY2UnO1xyXG5pbXBvcnQgQWNlRWRpdG9yIGZyb20gJ3JlYWN0LWFjZSc7XHJcbmNvbnN0IFJhbmdlID0gYnJhY2UuYWNlcXVpcmUoJ2FjZS9yYW5nZScpLlJhbmdlO1xyXG5cclxuaW1wb3J0ICdicmFjZS9tb2RlL2phdmFzY3JpcHQnO1xyXG5pbXBvcnQgJ2JyYWNlL3RoZW1lL21vbm9rYWknO1xyXG5pbXBvcnQgJ2JyYWNlL2V4dC9sYW5ndWFnZV90b29scyc7Ly8gdGhpcyBtb2R1bGUgaXMgaW1wb3J0ZWQgdG8gZ2V0IHJpZCBvZiBcIm1pc3BlbGxlZCBvcHRpb25zXCIgd2FybmluZyBmcm9tIHJlYWN0LWFjZVxyXG5cclxuaW1wb3J0IHt2YWxpZFNvdXJjZSwgc291cmNlVG9Bc3R9IGZyb20gJy4uL1J1bm5lci9QYXJzaW5nL3Byb2dyYW0uanMnO1xyXG5pbXBvcnQge25vZGVzQ29udGFpbmluZ0Nvb3Jkcywgc2lnbmVkTGl0ZXJhbE5vZGVzLCBub2RlQXRQYXRofSBmcm9tICcuLi9SdW5uZXIvUGFyc2luZy9wcm9ncmFtLXF1ZXJpZXMuanMnO1xyXG5pbXBvcnQge3JlY29nbml6ZXJzIGFzIE5vZGVQLCBjb25zdHJ1Y3RvcnMgYXMgTm9kZXN9IGZyb20gJy4uL1J1bm5lci9QYXJzaW5nL2FzdC11dGlscy5qcyc7XHJcbmltcG9ydCAqIGFzIGRyYWdtYW5hZ2VyIGZyb20gJy4vZHJhZy1tYW5hZ2VyLmpzJztcclxuXHJcbi8qXHJcblByb2dyYW1FZGl0b3JcclxuICBBIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgdGhlIFVJIG9mIGVkaXRpbmcgYSBwcm9ncmFtLlxyXG4gIEl0IGhhcyB0byBoYXZlIGEgd2F5IG9mIGNvbW11bmljYXRpbmcvc2lnbmFsaW5nIHRoYXQgaXQgcHJvZHVjZWQgYSBuZXcgdmVyc2lvbiBvZiB0aGUgcHJvZ3JhbS5cclxuICBJdCBpcyBqdXN0IGEgdG9wLWxldmVsL2Fic3RyYWN0IGNvbXBvbmVudCBhcyBpdCBkb2Vzbid0IGltcG9zZSBhbnkgc3BlY2lmaWMgd2F5IG9mIGVkaXRpbmcgdGhlIHByb2dyYW0uXHJcbiAgQ29tcG9zaXRlRWRpdG9yXHJcbiAgICBFZGl0cyBhIHBhcnQgb2YgYSBwcm9ncmFtIHVzaW5nIG90aGVyIGVkaXRvcnMuXHJcbiAgVGV4dEZyYWdtZW50RWRpdG9yXHJcbiAgICBFZGl0cyBhIHBhcnQgb2YgYSBwcm9ncmFtIHVzaW5nIHRoZSBub3JtYWwgdGV4dCBlZGl0b3IuXHJcbiAgTG9ja2VkVmlld1xyXG4gICAgQSBwYXJ0IG9mIHRoZSBlZGl0b3IgdGhhdCBpcyBub3QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cclxuQ3Vyc29yc1xyXG4gIERvZXMgaXQgaGF2ZSBjdXJzb3JzIGNvbnRyb2xsZWQgYnkgdGhlIGtleWJvYXJkP1xyXG4gIERvZXMgaXQgaGF2ZSBtb3VzZSBpbnRlcmFjdGlvbj9cclxuICBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgdHlwZXMgb2YgZWRpdG9ycywgaG93IGRvIHdlIG1hbmFnZSBjdXJzb3JzIGFuZCBtb3VzZSBpbnRlcmFjdGlvbj9cclxuKi9cclxuLy8gVE9ETyBIYW5kbGUgc3ludGFjdGljYWxseSBpbnZhbGlkIHRleHQgcHJvZ3JhbXMuXHJcbi8vIFRPRE8gSGlkZSBhY2UgZWRpdG9yIGRpc29yaWVudGF0aW9uIHdoZW4gdGhlIHByb2dyYW0gaXMgdXBkYXRlZC5cclxuLy8gICBBZGRpbmcgdGV4dCBieSBwYXN0aW5nIG9yIHR5cGluZyBvbiB0b3Agb2YgYSBzZWxlY3Rpb24gd2lsbCBjYXVzZSBcclxuLy8gIHR3byBjaGFuZ2UgZXZlbnRzIGluc3RlYWQgb2Ygb25lLlxyXG4vLyBUT0RPIFJlbW92ZSBsb29wIG9mIGFjZSBlZGl0b3IgY2hhbmdlcy5cclxuLy8gIEFjZUVkaXRvciBjYWxscyBvbkNoYW5nZSBib3RoIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgZWRpdG9yIGFuZCB3aGVuIFJlYWN0IHJlLXJlbmRlcnNcclxuLy8gIEl0IGVtaXRzIGEgXCJkZWxldGUgZXZlcnl0aGluZ1wiIGNoYW5nZSBmb2xsb3dlZCBieSBhIFwidGhpcyBpcyB0aGUgbmV3IGNvbnRlbnRzXCIgY2hhbmdlLlxyXG4vLyAgVGhpcyBiZWhhdmlvciBicmVha3MgQWNlJ3MgamF2YXNjcmlwdCBsaW50aW5nLlxyXG4vLyBUT0RPIENvbnZlcnQgYWNlIGVkaXRvciBjaGFuZ2VzIGludG8gcHJvZ3JhbSBjaGFuZ2VzLlxyXG4vLyBUT0RPIEZpZ3VyZSBvdXQgaG93IHRvIGtlZXAgdGhlIGNoYW5nZXMgbWFkZSBieSB1c2luZyBBY2UgRWRpdG9yIHdpdGhvdXRcclxuLy9zZW5kaW5nIGEgc3ludGF0aWNhbGx5IGludmFsaWQgcHJvZ3JhbSB0byB0aGUgb25WYWxpZFByb2dyYW0gY2FsbGJhY2suXHJcblxyXG5jbGFzcyBQcm9ncmFtRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAvKlxyXG4gICAgUHJvcHM6XHJcbiAgICAgIC0gcHJvZ3JhbVxyXG4gICAgICAtIG5vZGVEZWNvcmF0aW9ucyB7QXJyYXkuPE5vZGVEZWNvcmF0aW9uPn1cclxuICAgICAgLSBvblZhbGlkUHJvZ3JhbVxyXG4gICAgICAtIG9uSG92ZXJlZE5vZGVcclxuICAgICAgLSBvbkNsaWNrZWROb2RlXHJcbiAgICBTdGF0ZTpcclxuICAgICAgLSBhc3RcclxuICAgICAgLSBkcmFnZ2luZ1xyXG4gICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3Qge2FzdCwgZHJhZ2dpbmd9ID0gdGhpcy5zdGF0ZTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBvbk1vdXNlTW92ZT17YXN0ICE9PSBudWxsID8gdGhpcy5oYW5kbGVNb3VzZU1vdmUgOiBub29wfVxyXG4gICAgICAgIG9uTW91c2VEb3duPXthc3QgIT09IG51bGwgPyB0aGlzLmhhbmRsZU1vdXNlRG93biA6IG5vb3B9XHJcbiAgICAgICAgb25DbGljaz17YXN0ICE9PSBudWxsID8gdGhpcy5oYW5kbGVDbGljayA6IG5vb3B9PlxyXG4gICAgICAgIDxBY2VFZGl0b3JcclxuICAgICAgICAgIHJlZj1cImFjZUVkaXRvclwiXHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5wcm9ncmFtfVxyXG4gICAgICAgICAgbW9kZT1cImphdmFzY3JpcHRcIlxyXG4gICAgICAgICAgdGhlbWU9XCJtb25va2FpXCJcclxuICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXHJcbiAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcclxuICAgICAgICAgIGZvbnRTaXplPXsxNn1cclxuICAgICAgICAgIGVkaXRvclByb3BzPXt7JGJsb2NrU2Nyb2xsaW5nOiBJbmZpbml0eX19XHJcbiAgICAgICAgICBzZXRPcHRpb25zPXt7ZHJhZ0VuYWJsZWQ6IGZhbHNlfX1cclxuICAgICAgICAgIGNsYXNzTmFtZT17ZHJhZ2dpbmcgPyAncHJvZy1lZGl0b3Itbm8tc2VsZWN0aW9uJyA6ICcnfS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhc3Q6IHZhbGlkU291cmNlKHByb3BzLnByb2dyYW0pIFxyXG4gICAgICAgID8gc291cmNlVG9Bc3QocHJvcHMucHJvZ3JhbSlcclxuICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgZHJhZ2dpbmc6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBzdGF0ZS5cclxuICAgIHRoaXMuaW5pdGlhbGl6ZURlY29yYXRpb25zKCk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVTbGlkZXJNYXJrZXJzKCk7XHJcbiAgICAvLyBJbml0aWFsaXplIGJvdW5kIG1ldGhvZHMuXHJcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZSA9IHRoaXMuaGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZU1vdXNlRG93biA9IHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB0aGlzLmFjZUVkaXRvciA9IHRoaXMucmVmc1tcImFjZUVkaXRvclwiXS5lZGl0b3I7XHJcbiAgICB0aGlzLnVwZGF0ZVNsaWRlck1hcmtlcnMoKTtcclxuICAgIHRoaXMudXBkYXRlRGVjb3JhdGlvbnModGhpcy5wcm9wcy5ub2RlRGVjb3JhdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcykge1xyXG4gICAgY29uc3Qge3Byb2dyYW19ID0gbmV3UHJvcHM7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYXN0OiB2YWxpZFNvdXJjZShwcm9ncmFtKVxyXG4gICAgICAgID8gc291cmNlVG9Bc3QocHJvZ3JhbSlcclxuICAgICAgICA6IG51bGxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgdGhpcy51cGRhdGVTbGlkZXJNYXJrZXJzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZURlY29yYXRpb25zKHRoaXMucHJvcHMubm9kZURlY29yYXRpb25zKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZU1vdXNlRG93bihtb3VzZURvd25FdmVudCkge1xyXG4gICAgLy8gQmVnaW4gc2xpZGVyIGJlaGF2aW9yIHdoZW4gbmVjZXNzYXJ5LlxyXG4gICAgdGhpcy50cnlTdGFydENvbnN0YW50QWRqdXN0bWVudChtb3VzZURvd25FdmVudCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3VzZU1vdmUobW91c2VNb3ZlRXZlbnQpIHtcclxuICAgIGxldCBwcm9ncmFtQ29vcmRzID0gdGhpcy5tb3VzZUV2ZW50VG9Fc3ByaW1hQ29vcmRzKG1vdXNlTW92ZUV2ZW50KTtcclxuICAgIGxldCB7ZGVlcGVzdE5vZGUsIGJvdHRvbVVwTm9kZXN9ID0gbm9kZXNDb250YWluaW5nQ29vcmRzKHRoaXMuc3RhdGUuYXN0LCBwcm9ncmFtQ29vcmRzKTtcclxuICAgIHRoaXMucHJvcHMub25Ib3ZlcmVkTm9kZSh7XHJcbiAgICAgIG5vZGU6IGRlZXBlc3ROb2RlLFxyXG4gICAgICBwYXRoOiBib3R0b21VcE5vZGVzXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrKGNsaWNrRXZlbnQpIHtcclxuICAgIGxldCBwcm9ncmFtQ29vcmRzID0gdGhpcy5tb3VzZUV2ZW50VG9Fc3ByaW1hQ29vcmRzKGNsaWNrRXZlbnQpO1xyXG4gICAgbGV0IHtkZWVwZXN0Tm9kZSwgYm90dG9tVXBOb2Rlc30gPSBub2Rlc0NvbnRhaW5pbmdDb29yZHModGhpcy5zdGF0ZS5hc3QsIHByb2dyYW1Db29yZHMpO1xyXG4gICAgdGhpcy5wcm9wcy5vbkNsaWNrZWROb2RlKHtcclxuICAgICAgbm9kZTogZGVlcGVzdE5vZGUsXHJcbiAgICAgIHBhdGg6IGJvdHRvbVVwTm9kZXNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2hhbmdlKG5ld1NvdXJjZSkge1xyXG4gICAgdGhpcy5wcm9wcy5vblByb2dyYW1DaGFuZ2UobmV3U291cmNlKTtcclxuICAgIGlmICh2YWxpZFNvdXJjZShuZXdTb3VyY2UpKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25WYWxpZFByb2dyYW0obmV3U291cmNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVEZWNvcmF0aW9ucygpIHtcclxuICAgIHRoaXMuZGVjb3JhdGlvbnNUb01hcmtlcnMgPSBuZXcgTWFwKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEZWNvcmF0aW9ucyhuZXdEZWNvcmF0aW9ucykge1xyXG4gICAgbGV0IGN1cnJlbnREZWNvcmF0aW9ucyA9IEFycmF5LmZyb20odGhpcy5kZWNvcmF0aW9uc1RvTWFya2Vycy5rZXlzKCkpO1xyXG4gICAgbGV0IGxlYXZpbmdEZWNvcmF0aW9ucyA9IGRpZmZlcmVuY2UoY3VycmVudERlY29yYXRpb25zLCBuZXdEZWNvcmF0aW9ucyk7XHJcbiAgICBsZXQga2VlcGluZ0RlY29yYXRpb25zID0gZGlmZmVyZW5jZShjdXJyZW50RGVjb3JhdGlvbnMsIGxlYXZpbmdEZWNvcmF0aW9ucyk7XHJcbiAgICBsZXQgZW50ZXJpbmdEZWNvcmF0aW9ucyA9IGRpZmZlcmVuY2UobmV3RGVjb3JhdGlvbnMsIGtlZXBpbmdEZWNvcmF0aW9ucyk7XHJcbiAgICAvL1JlbW92ZSBsZWF2aW5nLlxyXG4gICAgbGVhdmluZ0RlY29yYXRpb25zXHJcbiAgICAgIC5tYXAoZGVjID0+IHRoaXMuZGVjb3JhdGlvbnNUb01hcmtlcnMuZ2V0KGRlYykpXHJcbiAgICAgIC5mb3JFYWNoKG1hcmtlciA9PiB7XHJcbiAgICAgICAgdGhpcy5hY2VFZGl0b3IuZ2V0U2Vzc2lvbigpLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xyXG4gICAgICB9KTtcclxuICAgIGxlYXZpbmdEZWNvcmF0aW9ucy5mb3JFYWNoKGRlYyA9PiB7XHJcbiAgICAgIHRoaXMuZGVjb3JhdGlvbnNUb01hcmtlcnMuZGVsZXRlKGRlYyk7XHJcbiAgICB9KTtcclxuICAgIC8vQWRkIGVudGVyaW5nLlxyXG4gICAgZW50ZXJpbmdEZWNvcmF0aW9ucy5mb3JFYWNoKGRlYyA9PiB7XHJcbiAgICAgIGxldCBub2RlUmFuZ2UgPSBnZXROb2RlUmFuZ2UoZGVjLm5vZGUpO1xyXG4gICAgICBsZXQgbWFya2VyID0gYWRkQ29sb3JlZE1hcmtlcih0aGlzLmFjZUVkaXRvciwgbm9kZVJhbmdlLCBkZWMuY29sb3IpO1xyXG4gICAgICB0aGlzLmRlY29yYXRpb25zVG9NYXJrZXJzLnNldChkZWMsIG1hcmtlcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVTbGlkZXJNYXJrZXJzKCkge1xyXG4gICAgdGhpcy5zbGlkZXJNYXJrZXJzID0gW107XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTbGlkZXJNYXJrZXJzKCkge1xyXG4gICAgLy8gUmVtb3ZlIHByZXZpb3VzIG1hcmtlcnMuXHJcbiAgICB0aGlzLnNsaWRlck1hcmtlcnMuZm9yRWFjaChtYXJrZXIgPT4ge1xyXG4gICAgICB0aGlzLmFjZUVkaXRvci5nZXRTZXNzaW9uKCkucmVtb3ZlTWFya2VyKG1hcmtlcik7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc2xpZGVyTWFya2VycyA9IFtdO1xyXG4gICAgLy8gQWRkIGN1cnJlbnQgbWFya2Vycy5cclxuICAgIGxldCBudW1lcmljTGl0ZXJhbHMgPSB0aGlzLnN0YXRlLmFzdCAhPT0gbnVsbCBcclxuICAgICAgPyBzaWduZWRMaXRlcmFsTm9kZXModGhpcy5zdGF0ZS5hc3QpXHJcbiAgICAgIDogW107XHJcbiAgICBudW1lcmljTGl0ZXJhbHMuZm9yRWFjaChsaXRlcmFsID0+IHtcclxuICAgICAgbGV0IHJhbmdlID0gZ2V0Tm9kZVJhbmdlKGxpdGVyYWwpO1xyXG4gICAgICBsZXQgbWFya2VyID0gdGhpcy5hY2VFZGl0b3IuZ2V0U2Vzc2lvbigpLmFkZE1hcmtlcihyYW5nZSwgXCJhZGp1c3RhYmxlLWhpbnRcIiwgXCJ0ZXh0XCIsIGZhbHNlKTtcclxuICAgICAgdGhpcy5zbGlkZXJNYXJrZXJzLnB1c2gobWFya2VyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5U3RhcnRDb25zdGFudEFkanVzdG1lbnQobW91c2VEb3duRXZlbnQpIHtcclxuICAgIGxldCBwcm9ncmFtQ29vcmRzID0gdGhpcy5tb3VzZUV2ZW50VG9Fc3ByaW1hQ29vcmRzKG1vdXNlRG93bkV2ZW50KTtcclxuICAgIGxldCB7Ym90dG9tVXBOb2RlcywgcGF0aFRvRGVlcGVzdH0gPSBub2Rlc0NvbnRhaW5pbmdDb29yZHModGhpcy5zdGF0ZS5hc3QsIHByb2dyYW1Db29yZHMpO1xyXG4gICAgbGV0IHNob3VsZFN0YXJ0ID0gTm9kZVAuaXNOdW1lcmljTGl0ZXJhbChib3R0b21VcE5vZGVzWzBdKTtcclxuICAgIGlmIChzaG91bGRTdGFydCkge1xyXG4gICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZHJhZ2dpbmc6IHRydWV9KTtcclxuICAgICAgLy8gU2V0dXAgdGV4dCBhZGp1c3RtZW50XHJcbiAgICAgIGxldCBwYXRoVG9Ob2RlID0gTm9kZVAuaXNTaWduZWROdW1lcmljTGl0ZXJhbChib3R0b21VcE5vZGVzWzFdKSBcclxuICAgICAgICA/IHBhdGhUb0RlZXBlc3Quc2xpY2UoMCwgLTEpXHJcbiAgICAgICAgOiBwYXRoVG9EZWVwZXN0O1xyXG4gICAgICBsZXQgaW5pdGlhbFRhcmdldE5vZGUgPSBub2RlQXRQYXRoKHRoaXMuc3RhdGUuYXN0LCBwYXRoVG9Ob2RlKTtcclxuICAgICAgbGV0IGxpdGVyYWxUZXh0ID0gbGl0ZXJhbFNvdXJjZUNvZGUoaW5pdGlhbFRhcmdldE5vZGUpO1xyXG4gICAgICBsZXQgY29tcG9uZW50RXh0cmFjdG9yID0gL14oXFwrfFxcLSk/KFswLTldKikoPzpcXC4oWzAtOV0rKSk/JC87IC8vIE5vdCBoYW5kbGluZyAweCAwbyAwYlxyXG4gICAgICBsZXQgWyxzaWduU3RyPVwiXCIsIGludFN0ciwgZnJhY1N0cj1cIlwiXSA9IGNvbXBvbmVudEV4dHJhY3Rvci5leGVjKGxpdGVyYWxUZXh0KTtcclxuICAgICAgbGV0IGZyYWNEaWdpdHNOdW0gPSBmcmFjU3RyLmxlbmd0aDtcclxuICAgICAgY29uc3Qgc3RhcnRpbmdJbnQgPSBOdW1iZXIucGFyc2VJbnQoc2lnblN0citpbnRTdHIrZnJhY1N0cik7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WCA9IG1vdXNlRG93bkV2ZW50LmNsaWVudFg7XHJcbiAgICAgIGNvbnN0IG9uTW92ZSA9IG1vdXNlTW92ZUV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgZGVsdGFYID0gbW91c2VNb3ZlRXZlbnQuY2xpZW50WCAtIHN0YXJ0WDtcclxuICAgICAgICBsZXQgZGVsdGFJbnQgPSBNYXRoLnJvdW5kKGRlbHRhWCAvIDUpO1xyXG4gICAgICAgIGxldCBuZXdJbnQgPSBzdGFydGluZ0ludCArIGRlbHRhSW50O1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0Tm9kZSA9IG5vZGVBdFBhdGgodGhpcy5zdGF0ZS5hc3QsIHBhdGhUb05vZGUpO1xyXG4gICAgICAgIGxldCBkb2MgPSB0aGlzLmFjZUVkaXRvci5nZXRTZXNzaW9uKCkuZ2V0RG9jdW1lbnQoKTtcclxuICAgICAgICBkb2MucmVwbGFjZShcclxuICAgICAgICAgIGdldE5vZGVSYW5nZSh0YXJnZXROb2RlKSwgXHJcbiAgICAgICAgICBsaXRlcmFsVGV4dEZyb21JbnQobmV3SW50LCBmcmFjRGlnaXRzTnVtKSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IG9uVXAgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZHJhZ2dpbmc6IGZhbHNlfSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGRyYWdtYW5hZ2VyLnN0YXJ0KG1vdXNlRG93bkV2ZW50LCB7b25Nb3ZlLCBvblVwfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBtb3VzZUV2ZW50VG9Fc3ByaW1hQ29vcmRzKG1vdXNlRXZlbnQpIHtcclxuICAgIC8vdGhpcy5hY2VFZGl0b3JcclxuICAgIGxldCB7Y2xpZW50WCwgY2xpZW50WX0gPSBtb3VzZUV2ZW50O1xyXG4gICAgbGV0IHNjcmVlbkNvb3JkcyA9IHRoaXMuYWNlRWRpdG9yLnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyhjbGllbnRYLCBjbGllbnRZKTtcclxuICAgIGxldCBkb2N1bWVudENvb3JkcyA9IHRoaXMuYWNlRWRpdG9yLmdldFNlc3Npb24oKS5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuQ29vcmRzLnJvdywgc2NyZWVuQ29vcmRzLmNvbHVtbik7XHJcbiAgICBsZXQgcHJvZ3JhbUNvb3JkcyA9IGRvY3VtZW50Q29vcmRzVG9Fc3ByaW1hQ29vcmRzKGRvY3VtZW50Q29vcmRzKTtcclxuICAgIHJldHVybiBwcm9ncmFtQ29vcmRzO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTm9kZURlY29yYXRpb24ge1xyXG4gIGNvbnN0cnVjdG9yKG5vZGUsIGNvbG9yKSB7XHJcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZU5vZGVEZWNvcmF0aW9uKG5vZGUsIGNvbG9yKSB7XHJcbiAgcmV0dXJuIG5ldyBOb2RlRGVjb3JhdGlvbihub2RlLCBjb2xvcik7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyYW1FZGl0b3I7XHJcbmV4cG9ydCB7bWFrZU5vZGVEZWNvcmF0aW9ufTtcclxuXHJcblxyXG5cclxuUHJvZ3JhbUVkaXRvci5wcm9wVHlwZXMgPSB7XHJcbiAgcHJvZ3JhbTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIG5vZGVEZWNvcmF0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmluc3RhbmNlT2YoTm9kZURlY29yYXRpb24pKS5pc1JlcXVpcmVkLFxyXG4gIG9uUHJvZ3JhbUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgb25WYWxpZFByb2dyYW06IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uSG92ZXJlZE5vZGU6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uQ2xpY2tlZE5vZGU6IFByb3BUeXBlcy5mdW5jXHJcbn07XHJcblxyXG5cclxuXHJcblxyXG4vLyBBZGp1c3RhYmxlIGNvbnN0YW50cyBoZWxwZXIgZnVuY3Rpb25zLlxyXG5mdW5jdGlvbiBsaXRlcmFsU291cmNlQ29kZShub2RlKSB7XHJcbiAgaWYgKE5vZGVQLmlzVW5hcnlFeHByZXNzaW9uKG5vZGUpKSB7XHJcbiAgICByZXR1cm4gbm9kZS5vcGVyYXRvciArIG5vZGUuYXJndW1lbnQucmF3O1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gbm9kZS5yYXc7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhYnNvbHV0ZVZhbHVlVGV4dEZyb21JbnQoaW50LCBmcmFjRGlnaXRzTnVtKSB7XHJcbiAgZnVuY3Rpb24gZ2V0RGlnaXRzKGludCkge1xyXG4gICAgbGV0IGludERpZ2l0cyA9IFtdO1xyXG4gICAgbGV0IGN1cnJlbnRJbnQgPSBNYXRoLmFicyhpbnQpO1xyXG4gICAgd2hpbGUgKGN1cnJlbnRJbnQgIT09IDApIHtcclxuICAgICAgbGV0IGRpZ2l0ID0gY3VycmVudEludCAlIDEwO1xyXG4gICAgICBpbnREaWdpdHMudW5zaGlmdChkaWdpdCk7XHJcbiAgICAgIGN1cnJlbnRJbnQgPSBNYXRoLmZsb29yKGN1cnJlbnRJbnQgLyAxMCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW50RGlnaXRzO1xyXG4gIH1cclxuICBsZXQgaW50RGlnaXRzID0gZ2V0RGlnaXRzKGludCk7XHJcbiAgbGV0IG5lZWRlZERpZ2l0cyA9IGZyYWNEaWdpdHNOdW0gKyAxOyAvLyBlLmcuIFguWFhYIChmcmFjRGlnaXRzTnVtPTMpXHJcbiAgbGV0IGFsbERpZ2l0cyA9IFtcclxuICAgIC4uLnRpbWVzKE1hdGgubWF4KG5lZWRlZERpZ2l0cyAtIGludERpZ2l0cy5sZW5ndGgpLCBjb25zdGFudChcIjBcIikpLFxyXG4gICAgLi4uaW50RGlnaXRzXHJcbiAgXTtcclxuICBsZXQgbmVlZHNEZWNpbWFsUG9pbnQgPSBmcmFjRGlnaXRzTnVtID4gMDtcclxuICBsZXQgY29tcGxldGVTdHIgPSBuZWVkc0RlY2ltYWxQb2ludFxyXG4gICAgPyBbLi4uYWxsRGlnaXRzLnNsaWNlKDAsIC1mcmFjRGlnaXRzTnVtKSwgXCIuXCIsIC4uLmFsbERpZ2l0cy5zbGljZSgtZnJhY0RpZ2l0c051bSldLmpvaW4oXCJcIilcclxuICAgIDogYWxsRGlnaXRzLmpvaW4oXCJcIik7XHJcbiAgcmV0dXJuIGNvbXBsZXRlU3RyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBudW1lcmljTGl0ZXJhbEZyb21JbnQoaW50LCBmcmFjRGlnaXRzTnVtKSB7XHJcbiAgbGV0IGFic1N0ciA9IGFic29sdXRlVmFsdWVUZXh0RnJvbUludChpbnQsIGZyYWNEaWdpdHNOdW0pO1xyXG4gIGxldCBpc05lZ2F0aXZlID0gaW50IDwgMDtcclxuICByZXR1cm4gaXNOZWdhdGl2ZVxyXG4gICAgPyBOb2Rlcy51bmFyeUV4cHIoXCItXCIsIFxyXG4gICAgICAgIE5vZGVzLmxpdGVyYWwoTnVtYmVyLnBhcnNlRmxvYXQoYWJzU3RyKSwgYWJzU3RyKSlcclxuICAgIDogTm9kZXMubGl0ZXJhbChOdW1iZXIucGFyc2VGbG9hdChhYnNTdHIpLCBhYnNTdHIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsaXRlcmFsVGV4dEZyb21JbnQoaW50LCBmcmFjRGlnaXRzTnVtKSB7XHJcbiAgbGV0IGFic1N0ciA9IGFic29sdXRlVmFsdWVUZXh0RnJvbUludChpbnQsIGZyYWNEaWdpdHNOdW0pO1xyXG4gIGxldCBzaWduU3RyID0gaW50IDwgMCA/IFwiLVwiIDogXCJcIjtcclxuICByZXR1cm4gc2lnblN0ciArIGFic1N0cjtcclxufVxyXG5cclxuXHJcbi8vIGRlcGVuZGVuY2llczogUHJvZ3JhbSArIGFjZVxyXG5mdW5jdGlvbiBnZXROb2RlUmFuZ2UoYXN0Tm9kZSkge1xyXG4gIGNvbnN0IHtzdGFydCwgZW5kfSA9IGFzdE5vZGUubG9jO1xyXG4gIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQubGluZS0xLCBzdGFydC5jb2x1bW4sIGVuZC5saW5lLTEsIGVuZC5jb2x1bW4pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkb2N1bWVudENvb3Jkc1RvRXNwcmltYUNvb3Jkcyhkb2N1bWVudENvb3Jkcykge1xyXG4gIHJldHVybiB7XHJcbiAgICBsaW5lOiBkb2N1bWVudENvb3Jkcy5yb3cgKyAxLFxyXG4gICAgY29sdW1uOiBkb2N1bWVudENvb3Jkcy5jb2x1bW5cclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlc3ByaW1hQ29vcmRzVG9Eb2N1bWVudENvb3Jkcyhlc3ByaW1hQ29vcmRzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJvdzogZXNwcmltYUNvb3Jkcy5saW5lIC0gMSxcclxuICAgIGNvbHVtbjogZXNwcmltYUNvb3Jkcy5jb2x1bW5cclxuICB9O1xyXG59XHJcblxyXG5cclxuLy8gZGVwZW5kZW5jaWVzOiBhY2UgKyBUSFJFRS5Db2xvclxyXG5mdW5jdGlvbiBhZGRDb2xvcmVkTWFya2VyKGFjZUVkaXRvciwgcmFuZ2UsIGNvbG9yKSB7XHJcbiAgbGV0IG1hcmtlciA9IGFjZUVkaXRvci5nZXRTZXNzaW9uKCkuYWRkRHluYW1pY01hcmtlcih7XHJcbiAgICByYW5nZTogcmFuZ2UsXHJcbiAgICB1cGRhdGU6IG5vb3AsXHJcbiAgICByZW5kZXJlcjogZHJhd0NvbG9yZWRNYXJrZXIsXHJcbiAgICBjb2xvcjogY29sb3IuZ2V0U3R5bGUoKSxcclxuICAgIGVkaXRvcjogYWNlRWRpdG9yXHJcbiAgfSk7XHJcbiAgcmV0dXJuIG1hcmtlci5pZDtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0NvbG9yZWRNYXJrZXIoaHRtbFN0cmluZ0FycmF5LCByYW5nZSwgbGVmdCwgdG9wLCBjb25maWcpIHtcclxuICAvL0Jhc2VkIG9uOiBhY2UvbGF5ZXIvbWFya2VyIC0gZHJhd1RleHRNYXJrZXIoKS5cclxuICAvL3B1c2ggaHRtbCBzdHJpbmcgaW50byBodG1sc3RyaW5nYXJyYXkgdGhhdCByZXByZXNlbnRzIHRoZSBtYXJrZXIgYXMgRE9NIG9iamVjdHMuXHJcbiAgZnVuY3Rpb24gZHJhd0xpbmUocmFuZ2UsIGNsYXp6LCBleHRyYUxlbmd0aCwgZXh0cmFTdHlsZSkge1xyXG4gICAgdmFyIGhlaWdodCA9IGxpbmVIZWlnaHQ7XHJcbiAgICB2YXIgd2lkdGggPSAocmFuZ2UuZW5kLmNvbHVtbiArIChleHRyYUxlbmd0aCB8fCAwKSAtIHJhbmdlLnN0YXJ0LmNvbHVtbikgKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XHJcblxyXG4gICAgdmFyIHRvcCA9IGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XHJcbiAgICB2YXIgbGVmdCA9IHBhZGRpbmcgKyByYW5nZS5zdGFydC5jb2x1bW4gKiBjaGFyYWN0ZXJXaWR0aDtcclxuXHJcbiAgICBodG1sU3RyaW5nQXJyYXkucHVzaChcclxuICAgICAgXCI8ZGl2IGNsYXNzPSdcIiwgY2xhenosIFwiJyBzdHlsZT0nXCIsXHJcbiAgICAgIFwiaGVpZ2h0OlwiLCBoZWlnaHQsIFwicHg7XCIsXHJcbiAgICAgIFwid2lkdGg6XCIsIHdpZHRoLCBcInB4O1wiLFxyXG4gICAgICBcInRvcDpcIiwgdG9wLCBcInB4O1wiLFxyXG4gICAgICBcImxlZnQ6XCIsIGxlZnQsIFwicHg7XCIsIGV4dHJhU3R5bGUgfHwgXCJcIiwgXCInPjwvZGl2PlwiXHJcbiAgICApO1xyXG4gIH1cclxuICBjb25zdCB7Y2hhcmFjdGVyV2lkdGgsIGxpbmVIZWlnaHR9ID0gY29uZmlnO1xyXG4gIGNvbnN0IHBhZGRpbmcgPSBsZWZ0IC0gcmFuZ2Uuc3RhcnQuY29sdW1uICogY2hhcmFjdGVyV2lkdGg7XHJcbiAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuZWRpdG9yLmdldFNlc3Npb24oKTtcclxuICBsZXQgc3RhcnQgPSByYW5nZS5zdGFydC5yb3c7XHJcbiAgbGV0IGVuZCA9IHJhbmdlLmVuZC5yb3c7XHJcbiAgbGV0IHJvdyA9IHN0YXJ0O1xyXG4gIGxldCBwcmV2ID0gMDsgXHJcbiAgbGV0IGN1cnIgPSAwO1xyXG4gIGxldCBuZXh0ID0gc3RhcnQgIT0gZW5kIFxyXG4gICAgPyBzZXNzaW9uLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4ocm93KSBcclxuICAgIDogcmFuZ2UuZW5kLmNvbHVtbjtcclxuICBsZXQgbGluZVJhbmdlID0gbmV3IFJhbmdlKHJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uLCByb3csIGN1cnIpO1xyXG4gIGZvciAoOyByb3cgPD0gZW5kOyByb3crKykge1xyXG4gICAgbGluZVJhbmdlLnN0YXJ0LnJvdyA9IGxpbmVSYW5nZS5lbmQucm93ID0gcm93O1xyXG4gICAgbGluZVJhbmdlLnN0YXJ0LmNvbHVtbiA9IHJvdyA9PSBzdGFydCA/IHJhbmdlLnN0YXJ0LmNvbHVtbiA6IHNlc3Npb24uZ2V0Um93V3JhcEluZGVudChyb3cpO1xyXG4gICAgbGluZVJhbmdlLmVuZC5jb2x1bW4gPSBuZXh0O1xyXG4gICAgcHJldiA9IGN1cnI7XHJcbiAgICBjdXJyID0gbmV4dDtcclxuICAgIG5leHQgPSByb3cgKyAxIDwgZW5kID8gc2Vzc2lvbi5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKHJvdyArIDEpIDogcm93ID09IGVuZCA/IDAgOiByYW5nZS5lbmQuY29sdW1uO1xyXG4gICAgZHJhd0xpbmUoXHJcbiAgICAgIGxpbmVSYW5nZSwgXHJcbiAgICAgIChyb3cgPT0gc3RhcnQgID8gXCIgYWNlX3N0YXJ0XCIgOiBcIlwiKVxyXG4gICAgICAgICsgZ2V0Qm9yZGVyQ2xhc3Mocm93ID09IHN0YXJ0IHx8IHJvdyA9PSBzdGFydCArIDEgJiYgcmFuZ2Uuc3RhcnQuY29sdW1uLCBwcmV2IDwgY3VyciwgY3VyciA+IG5leHQsIHJvdyA9PSBlbmQpLFxyXG4gICAgICByb3cgPT0gZW5kID8gMCA6IDEsIFxyXG4gICAgICBcImJhY2tncm91bmQtY29sb3I6XCIrdGhpcy5jb2xvcitcIjtcIitcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIitcIm9wYWNpdHk6IDAuNDtcIik7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRCb3JkZXJDbGFzcyh0bCwgdHIsIGJyLCBibCkge1xyXG4gIHJldHVybiAoXHJcbiAgICBcImFjZV9iclwiICtcclxuICAgICgodGwgPyAxIDogMCkgfCAodHIgPyAyIDogMCkgfCAoYnIgPyA0IDogMCkgfCAoYmwgPyA4IDogMCkpXHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9wKHJvdywgbGF5ZXJDb25maWcpIHtcclxuICByZXR1cm4gKHJvdyAtIGxheWVyQ29uZmlnLmZpcnN0Um93U2NyZWVuKSAqIGxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XHJcbn1cclxuXHJcblxyXG4iLCJcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IE9yYml0VGhyZWVWaWV3IGZyb20gJy4vT3JiaXRUaHJlZVZpZXcuanN4JztcclxuaW1wb3J0IHtQcm9ncmFtUmVzdWx0c30gZnJvbSAnLi4vUnVubmVyL3J1bi5qcyc7XHJcbmltcG9ydCB0b1RocmVlIGZyb20gJy4uL1NjZW5lR3JhcGgvdG8tdGhyZWUuanMnO1xyXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQge25vb3AsIGlzRXF1YWwsIGRpZmZlcmVuY2VXaXRoLCBpbnRlcnNlY3Rpb25XaXRoLCBcclxuXHRcdFx0XHRmbGF0dGVuLCBtYXAsIGZvckVhY2gsXHJcblx0XHRcdFx0dGhyb3R0bGUsIGlzRW1wdHl9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgdGltZSBmcm9tICcuLi91dGlscy90aW1lLmpzJztcclxuXHJcbi8vODg4ODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCA4ODggICAgICAgICAgICA4ODggICAgIDg4OCBkOGIgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4IDg4OCAgICAgICAgICAgIDg4OCAgICAgODg4IFk4UCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggODg4ICAgICAgICAgICAgODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgZDg4UCAuZDg4Yi4gIC5kODg4OGIgIDg4OCAgODg4IDg4OCA4ODg4ODggLmQ4ODg4YiBZODhiICAgZDg4UCA4ODggIC5kODhiLiAgODg4ICA4ODggIDg4OCBcclxuLy84ODg4ODg4UFwiIGQ4UCAgWThiIDg4SyAgICAgIDg4OCAgODg4IDg4OCA4ODggICAgODhLICAgICAgWTg4YiBkODhQICA4ODggZDhQICBZOGIgODg4ICA4ODggIDg4OCBcclxuLy84ODggVDg4YiAgODg4ODg4ODggXCJZODg4OGIuIDg4OCAgODg4IDg4OCA4ODggICAgXCJZODg4OGIuICBZODhvODhQICAgODg4IDg4ODg4ODg4IDg4OCAgODg4ICA4ODggXHJcbi8vODg4ICBUODhiIFk4Yi4gICAgICAgICAgWDg4IFk4OGIgODg4IDg4OCBZODhiLiAgICAgICBYODggICBZODg4UCAgICA4ODggWThiLiAgICAgWTg4YiA4ODggZDg4UCBcclxuLy84ODggICBUODhiIFwiWTg4ODggICA4ODg4OFAnICBcIlk4ODg4OCA4ODggIFwiWTg4OCAgODg4ODhQJyAgICBZOFAgICAgIDg4OCAgXCJZODg4OCAgIFwiWTg4ODg4ODhQXCIgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuY2xhc3MgUmVzdWx0c1ZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cdC8qXHJcblx0XHRSZXNwb25zaWJpbGl0eTogXHJcblx0XHRcdERpc3BsYXkgYSBjb250cm9sYWJsZSAzRCB2aWV3IGNvbnRhaW5pbmcgcHJvZ3JhbSByZXN1bHRzIHRvIHRoZSB1c2VyOyBcclxuXHRcdFx0UmVuZGVyIDNEIG9iamVjdHMgd2hpY2ggbWF5IGhhdmUgZGVjb3JhdGlvbnMgYXBwbGllZDtcclxuXHRcdFx0UHJvdmlkZSBob29rcyB0byByZWFjdCB0byB3aGF0IGlzIHBvaW50ZWQuXHJcblx0XHRQcm9wczpcclxuXHRcdFx0LSByZXN1bHRzOiBhIGxpc3Qgb2YgdGhlIHRvcCBsZXZlbCByZXN1bHRzIG9mIGEgcHJvZ3JhbVxyXG5cdFx0XHQtIHJlc3VsdERlY29yYXRpb25zOiBhIGxpc3Qgb2YgZGVjb3JhdGlvbnMgdG8gY2hhbmdlIGFwcGVhcmVuY2Ugb2Ygc29tZSByZXN1bHQgaW5zdGFuY2VzXHJcblx0XHRcdC0gb25Ib3ZlcmVkUmVzdWx0SW5zdGFuY2U6IGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGN1cnJlbnQgaG92ZXJlZCByZXN1bHQgaW5zdGFuY2UgY2hhbmdlc1xyXG5cdFx0XHQtIG9uQ2xpY2s6IGEgY2FsbGJhY2sgcmVjZWl2aW5nIGFuIG9iamVjdCB3aXRoIHN0cnVjdHVyZSB7dHlwZSwgcGF0aCwgcmVzdWx0SW5zdGFuY2V9LiBcclxuXHRcdFx0XHRDYWxsZWQgd2hlbiBSZXN1bHRzVmlldyBpcyBjbGlja2VkXHJcblx0XHRTdGF0ZTpcclxuXHRcdFx0LSB0aHJlZUNvbnZlcnRlZFJlc3VsdHMge1RocmVlQ29udmVydGVkUmVzdWx0c31cclxuXHRcdFx0LSBoYW5kbGVNb3VzZU1vdmUge0Z1bmN0aW9ufSBlaXRoZXIgbm9vcCBvciBkZXRlY3QgcmVzdWx0IGluc3RhbmNlIGJlbG93IG1vdXNlXHJcblx0Ki9cclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdFx0Ly9Jbml0aWFsaXplIGJvdW5kIG1ldGhvZHMuXHJcblx0XHR0aGlzLmhhbmRsZU1vdXNlTW92ZSA9IHRocm90dGxlKHRoaXMuaGFuZGxlTW91c2VNb3ZlLmJpbmQodGhpcyksIDEwMC8qbXNlYyovKTtcclxuXHRcdHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XHJcblx0XHQvL0luaXRpYWxpemUgc3RhdGUuXHJcblx0XHR0aGlzLmluaXRpYWxpemVSZXN1bHREZWNvcmF0aW9ucygpO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHRoaXMuY29tcHV0ZVN0YXRlKHtyZXN1bHREZWNvcmF0aW9uczogW119LCBwcm9wcyk7XHJcblx0fVxyXG5cclxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XHJcblx0XHRjb25zdCBvbGRQcm9wcyA9IHRoaXMucHJvcHM7XHJcblx0XHR0aGlzLnNldFN0YXRlKHRoaXMuY29tcHV0ZVN0YXRlKG9sZFByb3BzLCBuZXdQcm9wcykpO1xyXG5cdH1cclxuXHJcblx0Ly84ODggICAgIDg4OCAgICAgICAgICAgICAgIDg4OCAgICAgICAgICA4ODggICAgICAgICAgICBcclxuXHQvLzg4OCAgICAgODg4ICAgICAgICAgICAgICAgODg4ICAgICAgICAgIDg4OCAgICAgICAgICAgIFxyXG5cdC8vODg4ICAgICA4ODggICAgICAgICAgICAgICA4ODggICAgICAgICAgODg4ICAgICAgICAgICAgXHJcblx0Ly84ODggICAgIDg4OCA4ODg4OGIuICAgLmQ4ODg4OCAgODg4OGIuICA4ODg4ODggLmQ4OGIuICBcclxuXHQvLzg4OCAgICAgODg4IDg4OCBcIjg4YiBkODhcIiA4ODggICAgIFwiODhiIDg4OCAgIGQ4UCAgWThiIFxyXG5cdC8vODg4ICAgICA4ODggODg4ICA4ODggODg4ICA4ODggLmQ4ODg4ODggODg4ICAgODg4ODg4ODggXHJcblx0Ly9ZODhiLiAuZDg4UCA4ODggZDg4UCBZODhiIDg4OCA4ODggIDg4OCBZODhiLiBZOGIuICAgICBcclxuXHQvLyBcIlk4ODg4OFBcIiAgODg4ODhQXCIgICBcIlk4ODg4OCBcIlk4ODg4ODggIFwiWTg4OCBcIlk4ODg4ICBcclxuXHQvLyAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdC8vICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0Ly8gICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcblx0Y29tcHV0ZVN0YXRlKG9sZFByb3BzLCBuZXdQcm9wcykge1xyXG5cdFx0Ly8gQ29tcHV0ZSB0aHJlZU9iamVjdHMgYW5kIHJlbGF0aW9ucyBiZXR3ZWVuIHRocmVlT2JqZWN0cyBhbmQgcmVzdWx0cy5cclxuXHRcdGxldCBzaG91bGRDb21wdXRlT2JqZWN0cyA9IG9sZFByb3BzLnJlc3VsdHMgIT09IG5ld1Byb3BzLnJlc3VsdHM7XHJcblx0XHRsZXQgcHJvZ3JhbVJlc3VsdHMgPSBuZXdQcm9wcy5yZXN1bHRzLnJlc3VsdHMudG9wTGV2ZWxFeHByUmVzdWx0cy52YWx1ZXMoKTtcclxuXHRcdGxldCB0aHJlZUNvbnZlcnRlZFJlc3VsdHMgPSBzaG91bGRDb21wdXRlT2JqZWN0c1xyXG5cdFx0XHQ/IHRpbWUoXCJ0aHJlZSBjb252ZXJ0aW9uXCIsICgpID0+IHRvVGhyZWUuY29udmVydC5rZWVwaW5nQ29ycmVzcG9uZGVuY2UocHJvZ3JhbVJlc3VsdHMpKVxyXG5cdFx0XHQ6IHRoaXMuc3RhdGUudGhyZWVDb252ZXJ0ZWRSZXN1bHRzO1xyXG5cclxuXHRcdC8vIEFwcGx5IHJlc3VsdEluc3RhbmNlIGRlY29yYXRpb25zLlxyXG5cdFx0Ly8gVXBkYXRlIGlmIHByZXYgYW5kIGN1cnIgYXJlIG5vdCBlcXVhbFxyXG5cdFx0Ly8gbmV4dERlY3MgLSBpbnRlcnNlY3Rpb24gIT09IGVtcHR5XHJcblx0XHRsZXQgbGVuZ3Roc0RpZmZlciA9IG5ld1Byb3BzLnJlc3VsdERlY29yYXRpb25zLmxlbmd0aCAhPT0gb2xkUHJvcHMucmVzdWx0RGVjb3JhdGlvbnMubGVuZ3RoO1xyXG5cdFx0bGV0IGludGVyRGVjcyA9IGludGVyc2VjdGlvbldpdGgobmV3UHJvcHMucmVzdWx0RGVjb3JhdGlvbnMsIG9sZFByb3BzLnJlc3VsdERlY29yYXRpb25zLFxyXG5cdFx0XHRcdGlzRGVjb3JhdGlvbkVxdWFsKTtcclxuXHRcdGxldCBzaG91bGRVcGRhdGVEZWNvcmF0aW9ucyA9IGxlbmd0aHNEaWZmZXIgfHwgIWlzRW1wdHkoXHJcblx0XHRcdGRpZmZlcmVuY2VXaXRoKG5ld1Byb3BzLnJlc3VsdERlY29yYXRpb25zLCBpbnRlckRlY3MsIGlzRGVjb3JhdGlvbkVxdWFsKSk7XHJcblx0XHRpZihzaG91bGRVcGRhdGVEZWNvcmF0aW9ucykge1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVJlc3VsdERlY29yYXRpb25zKHRocmVlQ29udmVydGVkUmVzdWx0cywgbmV3UHJvcHMucmVzdWx0RGVjb3JhdGlvbnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB0aHJlZVNjZW5lID0gc2hvdWxkQ29tcHV0ZU9iamVjdHMgfHwgc2hvdWxkVXBkYXRlRGVjb3JhdGlvbnNcclxuXHRcdFx0PyB0aGlzLmNvbXB1dGVUaHJlZVNjZW5lKHRocmVlQ29udmVydGVkUmVzdWx0cy50aHJlZU9iamVjdHMpXHJcblx0XHRcdDogdGhpcy5zdGF0ZS50aHJlZVNjZW5lO1xyXG5cclxuXHRcdC8vIFJldHVybiB0aGUgbmV3IGNvbXBsZXRlIHN0YXRlLlxyXG5cdFx0bGV0IHNob3VsZEhhbmRsZUhvdmVycyA9ICEhbmV3UHJvcHMub25Ib3ZlcmVkUmVzdWx0SW5zdGFuY2U7XHJcblx0XHRsZXQgc2hvdWxkSGFuZGxlQ2xpY2tzID0gISFuZXdQcm9wcy5vbkNsaWNrO1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGhyZWVDb252ZXJ0ZWRSZXN1bHRzLFxyXG5cdFx0XHR0aHJlZVNjZW5lLFxyXG5cdFx0XHRoYW5kbGVNb3VzZU1vdmU6IHNob3VsZEhhbmRsZUhvdmVycyBcclxuXHRcdFx0XHQ/IHRoaXMuaGFuZGxlTW91c2VNb3ZlXHJcblx0XHRcdFx0OiBub29wLFxyXG5cdFx0XHRoYW5kbGVDbGljazogc2hvdWxkSGFuZGxlQ2xpY2tzXHJcblx0XHRcdFx0PyB0aGlzLmhhbmRsZUNsaWNrXHJcblx0XHRcdFx0OiBub29wXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0Y29tcHV0ZVRocmVlU2NlbmUodGhyZWVPYmplY3RzKSB7XHJcblx0XHRsZXQgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuXHRcdHNjZW5lLmFkZChcclxuXHRcdFx0dGhpcy5jb21wdXRlU3RhdGljVGhyZWVPYmplY3RzKCksIFxyXG5cdFx0XHR0aGlzLmNvbXB1dGVSZXN1bHRJbnN0YW5jZVRocmVlT2JqZWN0cyh0aHJlZU9iamVjdHMpKTsvLyBvciB0aHJlZUNvbnZlcnRlZFJlc3VsdHMuZ2V0T2JqZWN0cygpXHJcblx0XHRyZXR1cm4gc2NlbmU7XHJcblx0fVxyXG5cclxuXHRjb21wdXRlUmVzdWx0SW5zdGFuY2VUaHJlZU9iamVjdHModGhyZWVPYmplY3RzKSB7XHJcblx0XHQvLyBUaGUgcHJvZ3JhbSdzIHJlc3VsdHMgYXJlIGluIFogaXMgdXAgY29vcmRpbmF0ZXMuXHJcblx0XHQvLyBUaGV5IG5lZWQgdG8gYmUgcm90YXRlZCBiYWNrIGludG8gWSBpcyB1cCBjb29yZGluYXRlcyB0byBmaXQgT3BlbkdMJ3Mgc3RhbmRhcmQuXHJcblx0XHQvLyBXZSBkbyB0aGlzIGJ5IHJvdGF0aW5nIGFsbCByZXN1bHRzIC1waS8yIHJhZGlhbnMgYXJvdW5kIHRoZSB4IGF4aXMuXHJcblx0XHRsZXQgb2JqZWN0R3JvdXAgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuXHRcdG9iamVjdEdyb3VwLmFkZChuZXcgVEhSRUUuT2JqZWN0M0QoKSwgLi4udGhyZWVPYmplY3RzKTtcclxuXHRcdG9iamVjdEdyb3VwLnJvdGF0ZU9uQXhpcyhuZXcgVEhSRUUuVmVjdG9yMygxLjAsIDAuMCwgMC4wKSwgLU1hdGguUEkvMi4wKTtcclxuXHRcdHJldHVybiBvYmplY3RHcm91cDtcclxuXHR9XHJcblxyXG5cdGNvbXB1dGVTdGF0aWNUaHJlZU9iamVjdHMoKSB7XHJcblx0XHQvLyBjcmVhdGUgbGlnaHRzXHJcblx0XHRjb25zdCBzdW5MaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmNhLCAwLjUpO1xyXG5cdFx0c3VuTGlnaHQucG9zaXRpb24uc2V0KDAuMiwgMSwgMC4zKTtcclxuXHRcdGNvbnN0IGJlbG93TGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZjYSwgMC4xKTtcclxuXHRcdGJlbG93TGlnaHQucG9zaXRpb24uc2V0KC0wLjEsIC0xLCAtMC40KVxyXG5cdFx0Y29uc3QgaGVtaUxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweGZmZmZiYiwgMHgwODA4MjAsIDAuNCk7XHJcblx0XHQvLyBjcmVhdGUgZ2xvYmFsIGNvb3JkaW5hdGVzIGhlbHBlcnNcclxuXHRcdGNvbnN0IGdyaWRIZWxwZXIgPSBuZXcgVEhSRUUuR3JpZEhlbHBlcigxMDAsIDEpO1xyXG5cdFx0Z3JpZEhlbHBlci5zZXRDb2xvcnMoMHg4ODg4ODgsIDB4NDQ0NDQ0KTtcclxuXHRcdGNvbnN0IGF4aXNIZWxwZXIgPSBuZXcgVEhSRUUuQXhpc0hlbHBlcig1KTtcclxuXHRcdGF4aXNIZWxwZXIucXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKG5ldyBUSFJFRS5WZWN0b3IzKDEsIDAsIDApLCAtTWF0aC5QSS8yLjApO1xyXG5cdFx0Y29uc3Qgc3RhdGljUm9vdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG5cdFx0c3RhdGljUm9vdC5hZGQoc3VuTGlnaHQsIGJlbG93TGlnaHQsIGhlbWlMaWdodCwgZ3JpZEhlbHBlciwgYXhpc0hlbHBlcik7XHJcblx0XHRyZXR1cm4gc3RhdGljUm9vdDtcclxuXHR9XHJcblxyXG5cdGluaXRpYWxpemVSZXN1bHREZWNvcmF0aW9ucygpIHtcclxuXHRcdHRoaXMuZGVjb3JhdGlvblRvT2JqZWN0cyA9IG5ldyBNYXAoKTtcclxuXHRcdHRoaXMub2JqZWN0VG9PbGRNYXRlcmlhbCA9IG5ldyBXZWFrTWFwKCk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVSZXN1bHREZWNvcmF0aW9ucyh0aHJlZUNvbnZlcnRlZFJlc3VsdHMsIGRlY29yYXRpb25zKSB7XHJcblx0XHQvL3RocmVlQ29udmVydGVkUmVzdWx0cy5hZGREZWNvcmF0aW9uKClcclxuXHRcdC8vdGhyZWVDb252ZXJ0ZWRSZXN1bHRzLnJlbW92ZURlY29yYXRpb24oKVxyXG5cclxuXHRcdGNvbnN0IGRlY29yYXRpb25Ub09iamVjdHMgPSB0aGlzLmRlY29yYXRpb25Ub09iamVjdHM7XHJcblx0XHRjb25zdCBvYmplY3RUb09sZE1hdGVyaWFsID0gdGhpcy5vYmplY3RUb09sZE1hdGVyaWFsO1xyXG5cclxuXHRcdGxldCBwcmV2RGVjb3JhdGlvbnMgPSBBcnJheS5mcm9tKGRlY29yYXRpb25Ub09iamVjdHMua2V5cygpKTtcclxuXHRcdGxldCBlbnRlcmluZ0RlY29yYXRpb25zID0gZGlmZmVyZW5jZVdpdGgoZGVjb3JhdGlvbnMsIHByZXZEZWNvcmF0aW9ucywgaXNEZWNvcmF0aW9uRXF1YWwpO1xyXG5cdFx0bGV0IGxlYXZpbmdEZWNvcmF0aW9ucyA9IGRpZmZlcmVuY2VXaXRoKHByZXZEZWNvcmF0aW9ucywgZGVjb3JhdGlvbnMsIGlzRGVjb3JhdGlvbkVxdWFsKTtcclxuXHJcblx0XHRmb3JFYWNoKGxlYXZpbmdEZWNvcmF0aW9ucywgZD0+e1xyXG5cdFx0XHQvL1Jlc3RvcmUgZGVjb3JhdGlvbidzIG9iamVjdHMgbWF0ZXJpYWxzLlxyXG5cdFx0XHRmb3JFYWNoKGRlY29yYXRpb25Ub09iamVjdHMuZ2V0KGQpLCBvYmo9PntcclxuXHRcdFx0XHRvYmoubWF0ZXJpYWwgPSBvYmplY3RUb09sZE1hdGVyaWFsLmdldChvYmopO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9DbGVhciBkZWNvcmF0aW9uVG9PYmplY3RzIGVudHJ5LlxyXG5cdFx0XHRkZWNvcmF0aW9uVG9PYmplY3RzLmRlbGV0ZShkKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZvckVhY2goZW50ZXJpbmdEZWNvcmF0aW9ucywgZD0+e1xyXG5cdFx0XHQvL0dldCBvYmplY3RzIGFmZmVjdGVkIGJ5IGRlY29yYXRpb24uXHJcblx0XHRcdGxldCBkZWNNZXNoZXMgPSBmbGF0dGVuKFxyXG5cdFx0XHRcdG1hcChcclxuXHRcdFx0XHRcdHRocmVlT2JqZWN0c0ZvckRlY29yYXRpb24oZCwgdGhyZWVDb252ZXJ0ZWRSZXN1bHRzKSwgXHJcblx0XHRcdFx0XHRnZXRNZXNoZXMpXHJcblx0XHRcdCk7XHJcblx0XHRcdC8vQWRkIGRlY29yYXRpb25Ub09iamVjdHMgZW50cnkuXHJcblx0XHRcdGRlY29yYXRpb25Ub09iamVjdHMuc2V0KGQsIGRlY01lc2hlcyk7XHJcblx0XHRcdC8vU2F2ZSBkZWNvcmF0aW9uJ3Mgb2JqZWN0cyBvcmlnaW5hbCBtYXRlcmlhbHMuXHJcblx0XHRcdGZvckVhY2goZGVjTWVzaGVzLCBtZXNoPT57XHJcblx0XHRcdFx0aWYoIW9iamVjdFRvT2xkTWF0ZXJpYWwuaGFzKG1lc2gpKSB7XHJcblx0XHRcdFx0XHRvYmplY3RUb09sZE1hdGVyaWFsLnNldChtZXNoLCBtZXNoLm1hdGVyaWFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvL1NldCBhZmZlY3RlZCBvYmplY3RzJyBtYXRlcmlhbHMgdG8gdGhlIG9uZSBmcm9tIHRoZSBkZWNvcmF0aW9uLlxyXG5cdFx0XHRsZXQgZGVjTWF0ZXJpYWwgPSBkZWNvcmF0aW9uTWF0ZXJpYWwoZCk7XHJcblx0XHRcdGZvckVhY2goZGVjTWVzaGVzLCBtZXNoPT57XHJcblx0XHRcdFx0bWVzaC5tYXRlcmlhbCA9IGRlY01hdGVyaWFsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHQvLzg4ODg4ODhiLiAgZDhiICAgICAgICAgIDg4OCAgICAgIGQ4YiAgICAgICAgICAgICAgICAgICBcclxuXHQvLzg4OCAgIFk4OGIgWThQICAgICAgICAgIDg4OCAgICAgIFk4UCAgICAgICAgICAgICAgICAgICBcclxuXHQvLzg4OCAgICA4ODggICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHQvLzg4OCAgIGQ4OFAgODg4ICAuZDg4ODhiIDg4OCAgODg4IDg4OCA4ODg4OGIuICAgLmQ4OGIuICBcclxuXHQvLzg4ODg4ODhQXCIgIDg4OCBkODhQXCIgICAgODg4IC44OFAgODg4IDg4OCBcIjg4YiBkODhQXCI4OGIgXHJcblx0Ly84ODggICAgICAgIDg4OCA4ODggICAgICA4ODg4ODhLICA4ODggODg4ICA4ODggODg4ICA4ODggXHJcblx0Ly84ODggICAgICAgIDg4OCBZODhiLiAgICA4ODggXCI4OGIgODg4IDg4OCAgODg4IFk4OGIgODg4IFxyXG5cdC8vODg4ICAgICAgICA4ODggIFwiWTg4ODhQIDg4OCAgODg4IDg4OCA4ODggIDg4OCAgXCJZODg4ODggXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWThiIGQ4OFAgXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiWTg4UFwiICBcclxuXHJcblx0aGFuZGxlTW91c2VNb3ZlKG1vdXNlTW92ZUV2ZW50KSB7XHJcblx0XHRsZXQgY29vcmRzID0gbW91c2VFdmVudE5vcm1hbGl6ZWREZXZpY2VDb29yZHMobW91c2VNb3ZlRXZlbnQpO1xyXG5cdFx0bGV0IHBpY2tSZXN1bHQgPSB0aGlzLnBpY2soY29vcmRzKTtcclxuXHRcdHRoaXMucHJvcHMub25Ib3ZlcmVkUmVzdWx0SW5zdGFuY2UocGlja1Jlc3VsdCk7XHJcblx0fVxyXG5cclxuXHRoYW5kbGVDbGljayhjbGlja0V2ZW50KSB7XHJcblx0XHRsZXQgY29vcmRzID0gbW91c2VFdmVudE5vcm1hbGl6ZWREZXZpY2VDb29yZHMoY2xpY2tFdmVudCk7XHJcblx0XHRsZXQgcGlja1Jlc3VsdCA9IHRoaXMucGljayhjb29yZHMpO1xyXG5cdFx0dGhpcy5wcm9wcy5vbkNsaWNrKHtcclxuXHRcdFx0dHlwZTogcGlja1Jlc3VsdC5wYXRoLmxlbmd0aCA9PT0gMFxyXG5cdFx0XHRcdD8gUmVzdWx0c1ZpZXcuVm9pZENsaWNrXHJcblx0XHRcdFx0OiBSZXN1bHRzVmlldy5SZXN1bHRJbnN0YW5jZUNsaWNrLFxyXG5cdFx0XHRyZXN1bHRJbnN0YW5jZTogcGlja1Jlc3VsdC5yZXN1bHRJbnN0YW5jZSxcclxuXHRcdFx0cGF0aDogcGlja1Jlc3VsdC5wYXRoXHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0cGljayhub3JtRGV2Q29vcmRzKSB7XHJcblx0XHRsZXQgb2JqZWN0QmVsb3dNb3VzZSA9IHBpY2tDbG9zZXN0KG5vcm1EZXZDb29yZHMsIHRoaXMuZ2V0Q2FtZXJhKCksIHRoaXMuc3RhdGUudGhyZWVDb252ZXJ0ZWRSZXN1bHRzLnRocmVlT2JqZWN0cyk7XHJcblx0XHRsZXQgcGF0aCA9IGJ1aWxkUmVzdWx0SW5zdGFuY2VQYXRoKG9iamVjdEJlbG93TW91c2UsIHRoaXMuc3RhdGUudGhyZWVDb252ZXJ0ZWRSZXN1bHRzLnRocmVlT2JqZWN0VG9SZXN1bHQpO1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdWx0SW5zdGFuY2U6IHBhdGhbMF0sXHJcblx0XHRcdHBhdGhcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLzg4ODg4ODhiLiAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgIFxyXG5cdC8vODg4ICAgWTg4YiAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgXHJcblx0Ly84ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICBcclxuXHQvLzg4OCAgIGQ4OFAgLmQ4OGIuICA4ODg4OGIuICAgLmQ4ODg4OCAgLmQ4OGIuICA4ODhkODg4IFxyXG5cdC8vODg4ODg4OFBcIiBkOFAgIFk4YiA4ODggXCI4OGIgZDg4XCIgODg4IGQ4UCAgWThiIDg4OFBcIiAgIFxyXG5cdC8vODg4IFQ4OGIgIDg4ODg4ODg4IDg4OCAgODg4IDg4OCAgODg4IDg4ODg4ODg4IDg4OCAgICAgXHJcblx0Ly84ODggIFQ4OGIgWThiLiAgICAgODg4ICA4ODggWTg4YiA4ODggWThiLiAgICAgODg4ICAgICBcclxuXHQvLzg4OCAgIFQ4OGIgXCJZODg4OCAgODg4ICA4ODggIFwiWTg4ODg4ICBcIlk4ODg4ICA4ODggICAgIFxyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHQvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuXHRnZXRDYW1lcmEoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5yZWZzW1widGhyZWV2aWV3XCJdLmdldEN1cnJlbnRDYW1lcmEoKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXYgb25Nb3VzZU1vdmU9e3RoaXMuc3RhdGUuaGFuZGxlTW91c2VNb3ZlfVxyXG5cdFx0XHRcdG9uQ2xpY2s9e3RoaXMuc3RhdGUuaGFuZGxlQ2xpY2t9PlxyXG5cdFx0XHRcdDxPcmJpdFRocmVlVmlldyBcclxuXHRcdFx0XHRcdHJlZj1cInRocmVldmlld1wiXHJcblx0XHRcdFx0XHRzY2VuZT17dGhpcy5zdGF0ZS50aHJlZVNjZW5lfS8+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcbn1cclxuXHJcbi8vODg4ODg4ODg4ODggODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kODg4ODhiLiAgODg4ICAgICAgIGQ4YiAgICAgICAgICBcclxuLy8gICAgODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkODhQXCIgXCJZODhiIDg4OCAgICAgICBZOFAgICAgICAgICAgXHJcbi8vICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICA4ODggODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgODg4ICAgICA4ODg4OGIuICA4ODhkODg4IC5kODhiLiAgIC5kODhiLiAgICAgICA4ODggICAgIDg4OCA4ODg4OGIuICA4ODg4IC5kODg4OGIgIFxyXG4vLyAgICA4ODggICAgIDg4OCBcIjg4YiA4ODhQXCIgIGQ4UCAgWThiIGQ4UCAgWThiICAgICAgODg4ICAgICA4ODggODg4IFwiODhiIFwiODg4IDg4SyAgICAgIFxyXG4vLyAgICA4ODggICAgIDg4OCAgODg4IDg4OCAgICA4ODg4ODg4OCA4ODg4ODg4OCAgICAgIDg4OCAgICAgODg4IDg4OCAgODg4ICA4ODggXCJZODg4OGIuIFxyXG4vLyAgICA4ODggICAgIDg4OCAgODg4IDg4OCAgICBZOGIuICAgICBZOGIuICAgICAgICAgIFk4OGIuIC5kODhQIDg4OCBkODhQICA4ODggICAgICBYODggXHJcbi8vICAgIDg4OCAgICAgODg4ICA4ODggODg4ICAgICBcIlk4ODg4ICAgXCJZODg4OCAgICAgICAgXCJZODg4ODhQXCIgIDg4ODg4UFwiICAgODg4ICA4ODg4OFAnIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDg4UCAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4UFwiICAgICAgICAgICBcclxuXHJcbmZ1bmN0aW9uIHBhcmVudENoYWluKHRocmVlT2JqZWN0KSB7XHJcblx0bGV0IHJlcyA9IFtdO1xyXG5cdGxldCBjdXJUaHJlZU9iaiA9IHRocmVlT2JqZWN0O1xyXG5cdHdoaWxlKGN1clRocmVlT2JqKSB7XHJcblx0XHRyZXMucHVzaChjdXJUaHJlZU9iaik7XHJcblx0XHRjdXJUaHJlZU9iaiA9IGN1clRocmVlT2JqLnBhcmVudDtcclxuXHR9XHJcblx0cmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBnZXRNZXNoZXModGhyZWVPYmplY3QpIHtcclxuXHRsZXQgcmVzID0gW107XHJcblx0dGhyZWVPYmplY3QudHJhdmVyc2Uob2JqPT57XHJcblx0XHRpZihvYmogaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XHJcblx0XHRcdHJlcy5wdXNoKG9iaik7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0cmV0dXJuIHJlcztcclxufVxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgIGQ4OFAgODg4ODg4ODg4ODggODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgICBkODhQICAgICAgODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgZDg4UCAgICAgICA4ODggICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBkODhQIC5kODhiLiAgLmQ4ODg4YiAgICAgIGQ4OFAgICAgICAgIDg4OCAgICAgODg4ODhiLiAgODg4ZDg4OCAuZDg4Yi4gICAuZDg4Yi4gIFxyXG4vLzg4ODg4ODhQXCIgZDhQICBZOGIgODhLICAgICAgICAgZDg4UCAgICAgICAgIDg4OCAgICAgODg4IFwiODhiIDg4OFBcIiAgZDhQICBZOGIgZDhQICBZOGIgXHJcbi8vODg4IFQ4OGIgIDg4ODg4ODg4IFwiWTg4ODhiLiAgIGQ4OFAgICAgICAgICAgODg4ICAgICA4ODggIDg4OCA4ODggICAgODg4ODg4ODggODg4ODg4ODggXHJcbi8vODg4ICBUODhiIFk4Yi4gICAgICAgICAgWDg4ICBkODhQICAgICAgICAgICA4ODggICAgIDg4OCAgODg4IDg4OCAgICBZOGIuICAgICBZOGIuICAgICBcclxuLy84ODggICBUODhiIFwiWTg4ODggICA4ODg4OFAnIGQ4OFAgICAgICAgICAgICA4ODggICAgIDg4OCAgODg4IDg4OCAgICAgXCJZODg4OCAgIFwiWTg4ODggIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuLyoqXHJcblx0QHR5cGVkZWYgVGhyZWVDb252ZXJ0ZWRSZXN1bHRzXHJcblx0QHR5cGUge29iamVjdH1cclxuXHRAcHJvcGVydHkge0FycmF5LjxQcm9ncmFtUmVzdWx0Pn0gcmVzdWx0c1xyXG5cdEBwcm9wZXJ0eSB7QXJyYXkuPFRIUkVFLk9iamVjdDNEPn0gdGhyZWVPYmplY3RzXHJcblx0QHByb3BlcnR5IHtNYXA8UHJvZ3JhbVJlc3VsdCxBcnJheS48VEhSRUUuT2JqZWN0M0Q+Pn0gcmVzdWx0VG9UaHJlZU9iamVjdHNcclxuXHRAcHJvcGVydHkge01hcDxUSFJFRS5PYmplY3QzRCxQcm9ncmFtUmVzdWx0Pn0gdGhyZWVPYmplY3RUb1Jlc3VsdFxyXG4qL1xyXG4vKlxyXG4gVGhyZWVDb252ZXJ0ZWRSZXN1bHRzOiBIb2xkcyBhbGwgZGF0YSBmcm9tIGNvbnZlcnRpbmcgYSBzZXQgb2YgUHJvZ3JhbVJlc3VsdHNcclxuIFx0dG8gYSBzZXQgb2YgVEhSRUUuT2JqZWN0M0QuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG5cdEBwYXJhbSB7VEhSRUUuT2JqZWN0M0R9IHRocmVlT2JqZWN0XHJcblx0QHBhcmFtIHtNYXA8VEhSRUUuT2JqZWN0M0QsUHJvZ3JhbVJlc3VsdD59IHRocmVlT2JqVG9SZXN1bHRcclxuXHRAcmV0dXJucyB7QXJyYXkuPFByb2dyYW1SZXN1bHQ+fVxyXG4qL1xyXG5mdW5jdGlvbiBidWlsZFJlc3VsdEluc3RhbmNlUGF0aCh0aHJlZU9iamVjdCwgdGhyZWVPYmpUb1Jlc3VsdCkge1xyXG5cdC8vYnVpbGQgdGhlIGNoYWluIG9mIHJlc3VsdHMgdXAgdG8gdGhlIHRvcCBsZXZlbCByZXN1bHQuXHJcblx0cmV0dXJuIHBhcmVudENoYWluKHRocmVlT2JqZWN0KVxyXG5cdFx0LmZpbHRlcihvPT50aHJlZU9ialRvUmVzdWx0LmhhcyhvKSlcclxuXHRcdC5tYXAobz0+dGhyZWVPYmpUb1Jlc3VsdC5nZXQobykpO1xyXG59XHJcblxyXG4vKipcclxuXHRAcGFyYW0ge1RIUkVFLlZlY3RvcjJ9IGNvb3JkIFJheSBvcmlnaW4gaW4gbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZXMuXHJcblx0QHBhcmFtIHtUSFJFRS5DYW1lcmF9IGNhbWVyYVxyXG5cdEBwYXJhbSB7QXJyYXk8VEhSRUUuT2JqZWN0M0Q+fSB0aHJlZU9iamVjdHNcclxuXHRAcmV0dXJucyB7P1RIUkVFLk9iamVjdDNEfVxyXG4qL1xyXG5mdW5jdGlvbiBwaWNrQ2xvc2VzdChjb29yZHMsIGNhbWVyYSwgdGhyZWVPYmplY3RzKSB7XHJcblx0Y29uc3QgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xyXG5cdHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKGNvb3JkcywgY2FtZXJhKTtcclxuXHRjb25zdCBpbnRlcnNlY3Rpb25zID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhyZWVPYmplY3RzLCB0cnVlLypyZWN1cnNpdmUqLyk7XHJcblx0cmV0dXJuIGludGVyc2VjdGlvbnMubGVuZ3RoID4gMFxyXG5cdFx0PyBpbnRlcnNlY3Rpb25zWzBdLm9iamVjdFxyXG5cdFx0OiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuXHRAcGFyYW0ge1Jlc3VsdERlY29yYXRpb259IGRlY1xyXG5cdEBwYXJhbSB7VGhyZWVDb252ZXJ0ZWRSZXN1bHRzfSB0aHJlZUNvbnZlcnRlZFJlc3VsdHNcclxuXHRAcmV0dXJucyB7QXJyYXkuPFRIUkVFLk9iamVjdDNEPn1cclxuICovXHJcbmZ1bmN0aW9uIHRocmVlT2JqZWN0c0ZvckRlY29yYXRpb24oZGVjLCB7dGhyZWVPYmplY3RzLCByZXN1bHRUb1RIUkVFT2JqZWN0cywgdGhyZWVPYmplY3RUb1Jlc3VsdH0pIHtcclxuXHRmdW5jdGlvbiB0aHJlZU9iamVjdHNGcm9tUGF0aChwYXRoKSB7XHJcblx0XHRmdW5jdGlvbiBoYXNBc3NvY2lhdGVkUmVzdWx0KHRocmVlT2JqZWN0KSB7XHJcblx0XHRcdHJldHVybiB0aHJlZU9iamVjdFRvUmVzdWx0Lmhhcyh0aHJlZU9iamVjdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVzdWx0KHRocmVlT2JqZWN0KSB7XHJcblx0XHRcdHJldHVybiB0aHJlZU9iamVjdFRvUmVzdWx0LmdldCh0aHJlZU9iamVjdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgYmVsb25nc1RvUGF0aCA9IHBhdGggPT4gdGhyZWVPYmplY3QgPT4ge1xyXG5cdFx0XHQvL3RocmVlT2JqZWN0IHBhcmVudHMgbWF0Y2ggZWFjaCBwYXRoJ3MgZWxlbWVudHMgdGhyZWUgb2JqZWN0c1xyXG5cdFx0XHRjb25zdCBwYXJlbnRzID0gcGFyZW50Q2hhaW4odGhyZWVPYmplY3QpLmZpbHRlcihoYXNBc3NvY2lhdGVkUmVzdWx0KTtcclxuXHRcdFx0cmV0dXJuIGlzRXF1YWwocGFyZW50cy5tYXAoZ2V0UmVzdWx0KSwgcGF0aCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGxldCBsZWFmUmVzdWx0ID0gcGF0aFswXTtcclxuXHRcdGxldCBsZWFmT2JqZWN0cyA9IHJlc3VsdFRvVEhSRUVPYmplY3RzLmdldChsZWFmUmVzdWx0KTtcclxuXHRcdHJldHVybiBsZWFmT2JqZWN0cy5maWx0ZXIoYmVsb25nc1RvUGF0aChwYXRoKSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB0aHJlZU9iamVjdHNGcm9tUmVzdWx0KHJlc3VsdCkge1xyXG5cdFx0cmV0dXJuIHJlc3VsdFRvVEhSRUVPYmplY3RzLmdldChyZXN1bHQpO1xyXG5cdH1cclxuXHJcblx0aWYgKGRlYyBpbnN0YW5jZW9mIFJlc3VsdEluc3RhbmNlRGVjb3JhdGlvbikge1xyXG5cdFx0cmV0dXJuIHRocmVlT2JqZWN0c0Zyb21QYXRoKGRlYy5wYXRoKTtcclxuXHR9IGVsc2UgaWYgKGRlYyBpbnN0YW5jZW9mIFJlc3VsdE9jb3JyZW5jZXNEZWNvcmF0aW9uKSB7XHJcblx0XHRyZXR1cm4gdGhyZWVPYmplY3RzRnJvbVJlc3VsdChkZWMucmVzdWx0KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBSZXN1bHREZWNvcmF0aW9uIHR5cGUuXCIpO1xyXG5cdH1cclxufVxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBkOGIgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICBcIlk4OGIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgIFk4UCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgLmQ4OGIuICAgLmQ4ODg4YiAuZDg4Yi4gIDg4OGQ4ODggODg4OGIuICA4ODg4ODggODg4ICAuZDg4Yi4gIDg4ODg4Yi4gIC5kODg4OGIgIFxyXG4vLzg4OCAgICA4ODggZDhQICBZOGIgZDg4UFwiICAgZDg4XCJcIjg4YiA4ODhQXCIgICAgICBcIjg4YiA4ODggICAgODg4IGQ4OFwiXCI4OGIgODg4IFwiODhiIDg4SyAgICAgIFxyXG4vLzg4OCAgICA4ODggODg4ODg4ODggODg4ICAgICA4ODggIDg4OCA4ODggICAgLmQ4ODg4ODggODg4ICAgIDg4OCA4ODggIDg4OCA4ODggIDg4OCBcIlk4ODg4Yi4gXHJcbi8vODg4ICAuZDg4UCBZOGIuICAgICBZODhiLiAgIFk4OC4uODhQIDg4OCAgICA4ODggIDg4OCBZODhiLiAgODg4IFk4OC4uODhQIDg4OCAgODg4ICAgICAgWDg4IFxyXG4vLzg4ODg4ODhQXCIgICBcIlk4ODg4ICAgXCJZODg4OFAgXCJZODhQXCIgIDg4OCAgICBcIlk4ODg4ODggIFwiWTg4OCA4ODggIFwiWTg4UFwiICA4ODggIDg4OCAgODg4ODhQJyBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcblxyXG5jbGFzcyBSZXN1bHREZWNvcmF0aW9uIHt9XHJcblxyXG5jbGFzcyBSZXN1bHRJbnN0YW5jZURlY29yYXRpb24gZXh0ZW5kcyBSZXN1bHREZWNvcmF0aW9uIHtcclxuXHRjb25zdHJ1Y3RvcihwYXRoLCBjb2xvcikge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMucGF0aCA9IHBhdGg7XHJcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbiBleHRlbmRzIFJlc3VsdERlY29yYXRpb24ge1xyXG5cdGNvbnN0cnVjdG9yKHJlc3VsdCwgY29sb3IpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLnJlc3VsdCA9IHJlc3VsdDtcclxuXHRcdHRoaXMuY29sb3IgPSBjb2xvcjtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VSZXN1bHRJbnN0YW5jZURlY29yYXRpb24ocGF0aCwgY29sb3IpIHtcclxuICByZXR1cm4gbmV3IFJlc3VsdEluc3RhbmNlRGVjb3JhdGlvbihwYXRoLCBjb2xvcik7XHJcbn1cclxuZnVuY3Rpb24gbWFrZVJlc3VsdE9jb3JyZW5jZXNEZWNvcmF0aW9uKHJlc3VsdCwgY29sb3IpIHtcclxuICByZXR1cm4gbmV3IFJlc3VsdE9jb3JyZW5jZXNEZWNvcmF0aW9uKHJlc3VsdCwgY29sb3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWNvcmF0aW9uTWF0ZXJpYWwoZGVjb3JhdGlvbikge1xyXG5cdGxldCBtYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoKTtcclxuXHRtYXQuZW1pc3NpdmUuc2V0KGRlY29yYXRpb24uY29sb3IpO1xyXG5cdG1hdC50cmFuc3BhcmVudCA9IHRydWU7XHJcblx0bWF0Lm9wYWNpdHkgPSAwLjY7XHJcblx0bWF0LmRlcHRoVGVzdCA9IGZhbHNlO1xyXG5cdG1hdC5kZXB0aFdyaXRlID0gZmFsc2U7XHJcblx0bWF0LnNpZGUgPSBUSFJFRS5Eb3VibGVTaWRlO1xyXG5cdHJldHVybiBtYXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRGVjb3JhdGlvbkVxdWFsKGRlYzEsIGRlYzIpIHtcclxuXHRsZXQgYXJlSW5zdGFuY2VEZWNzID0gZGVjMSBpbnN0YW5jZW9mIFJlc3VsdEluc3RhbmNlRGVjb3JhdGlvblxyXG5cdFx0JiYgZGVjMiBpbnN0YW5jZW9mIFJlc3VsdEluc3RhbmNlRGVjb3JhdGlvbjtcclxuXHRsZXQgYXJlT2NvcnJlbmNlRGVjcyA9IGRlYzEgaW5zdGFuY2VvZiBSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvblxyXG5cdFx0JiYgZGVjMiBpbnN0YW5jZW9mIFJlc3VsdE9jb3JyZW5jZXNEZWNvcmF0aW9uO1xyXG5cdGlmIChhcmVJbnN0YW5jZURlY3MpIHtcclxuXHRcdHJldHVybiBpc0VxdWFsKGRlYzEucGF0aCwgZGVjMi5wYXRoKSAmJiBkZWMxLmNvbG9yLmVxdWFscyhkZWMyLmNvbG9yKTtcclxuXHR9XHJcblx0aWYgKGFyZU9jb3JyZW5jZURlY3MpIHtcclxuXHRcdHJldHVybiBkZWMxLnJlc3VsdCA9PT0gZGVjMi5yZXN1bHQgJiYgZGVjMS5jb2xvci5lcXVhbHMoZGVjMi5jb2xvcik7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy84ODhiICAgICBkODg4IGQ4YiAgICAgICAgICAgICAgICAgICBcclxuLy84ODg4YiAgIGQ4ODg4IFk4UCAgICAgICAgICAgICAgICAgICBcclxuLy84ODg4OGIuZDg4ODg4ICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODhZODg4ODhQODg4IDg4OCAuZDg4ODhiICAgLmQ4ODg4YiBcclxuLy84ODggWTg4OFAgODg4IDg4OCA4OEsgICAgICBkODhQXCIgICAgXHJcbi8vODg4ICBZOFAgIDg4OCA4ODggXCJZODg4OGIuIDg4OCAgICAgIFxyXG4vLzg4OCAgIFwiICAgODg4IDg4OCAgICAgIFg4OCBZODhiLiAgICBcclxuLy84ODggICAgICAgODg4IDg4OCAgODg4ODhQJyAgXCJZODg4OFAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5mdW5jdGlvbiBtb3VzZUV2ZW50Tm9ybWFsaXplZERldmljZUNvb3Jkcyhtb3VzZUV2ZW50KSB7XHJcblx0bGV0IHtvZmZzZXRYLCBvZmZzZXRZfSA9IG1vdXNlRXZlbnQubmF0aXZlRXZlbnQ7XHJcblx0bGV0IHt3aWR0aCwgaGVpZ2h0fSA9IG1vdXNlRXZlbnQudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdGxldCByZXMgPSBuZXcgVEhSRUUuVmVjdG9yMihcclxuXHRcdChvZmZzZXRYIC8gd2lkdGgpICogMiAtIDEsXHJcblx0XHQtKG9mZnNldFkgLyBoZWlnaHQpICogMiArIDEpO1xyXG5cdHJldHVybiByZXM7XHJcbn1cclxuXHJcblxyXG4vLzg4ODg4ODg4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBcclxuLy84ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgIFxyXG4vLzg4ODg4ODggICAgODg4ICA4ODggODg4ODhiLiAgIC5kODhiLiAgODg4ZDg4OCA4ODg4ODggXHJcbi8vODg4ICAgICAgICBgWThiZDhQJyA4ODggXCI4OGIgZDg4XCJcIjg4YiA4ODhQXCIgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAgIFg4OEsgICA4ODggIDg4OCA4ODggIDg4OCA4ODggICAgIDg4OCAgICBcclxuLy84ODggICAgICAgIC5kOFwiXCI4Yi4gODg4IGQ4OFAgWTg4Li44OFAgODg4ICAgICBZODhiLiAgXHJcbi8vODg4ODg4ODg4OCA4ODggIDg4OCA4ODg4OFBcIiAgIFwiWTg4UFwiICA4ODggICAgICBcIlk4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5leHBvcnQge21ha2VSZXN1bHRJbnN0YW5jZURlY29yYXRpb24sIG1ha2VSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbn07XHJcbmV4cG9ydCBkZWZhdWx0IFJlc3VsdHNWaWV3O1xyXG5cclxuXHJcblxyXG5SZXN1bHRzVmlldy5wcm9wVHlwZXMgPSB7XHJcblx0b25Ib3ZlcmVkUmVzdWx0SW5zdGFuY2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG5cdG9uQ2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxyXG5cdHJlc3VsdHM6IFJlYWN0LlByb3BUeXBlcy5pbnN0YW5jZU9mKFByb2dyYW1SZXN1bHRzKSxcclxuXHRyZXN1bHREZWNvcmF0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLmluc3RhbmNlT2YoUmVzdWx0RGVjb3JhdGlvbikpXHJcbn07XHJcblxyXG5SZXN1bHRzVmlldy5Wb2lkQ2xpY2sgPSBTeW1ib2woXCJWb2lkQ2xpY2tcIik7XHJcblJlc3VsdHNWaWV3LlJlc3VsdEluc3RhbmNlQ2xpY2sgPSBTeW1ib2woXCJSZXN1bHRJbnN0YW5jZUNsaWNrXCIpO1xyXG4iLCJcclxuaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBfLCB7cGFydGlhbCwgZGVib3VuY2UsIG5vb3B9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgY29sb3IgZnJvbSAnLi4vU2NlbmVHcmFwaC9jb2xvci5qcyc7XHJcbmltcG9ydCB7Q29sdW1uU3BsaXQsIFJvd1NwbGl0LCBIb3Jpem9udGFsQmFyLCBDaGVja2JveH0gZnJvbSAnLi9nZW5lcmljLmpzeCc7XHJcbmltcG9ydCBQcm9ncmFtRWRpdG9yLCB7bWFrZU5vZGVEZWNvcmF0aW9ufSBmcm9tICcuL1Byb2dyYW1FZGl0b3IuanN4JztcclxuaW1wb3J0IFJlc3VsdHNWaWV3LCB7bWFrZVJlc3VsdEluc3RhbmNlRGVjb3JhdGlvbiwgbWFrZVJlc3VsdE9jb3JyZW5jZXNEZWNvcmF0aW9ufSBmcm9tICcuL1Jlc3VsdHNWaWV3LmpzeCc7XHJcblxyXG5pbXBvcnQge3J1bldpdGhUcmFjZWFiaWxpdHksIHJ1bk5vcm1hbGx5LCBlbXB0eVJlc3VsdHN9IGZyb20gJy4uL1J1bm5lci9ydW4uanMnO1xyXG5pbXBvcnQge2dldE5vZGVSZXN1bHRzLCBnZXRSZXN1bHRDcmVhdG9yTm9kZX0gZnJvbSAnLi4vUnVubmVyL3J1bi1xdWVyaWVzLmpzJztcclxuXHJcbmltcG9ydCB7dmFsaWRTb3VyY2V9IGZyb20gJy4uL1J1bm5lci9QYXJzaW5nL3Byb2dyYW0uanMnO1xyXG5cclxuaW1wb3J0IHRpbWUgZnJvbSAnLi4vdXRpbHMvdGltZS5qcyc7XHJcblxyXG5cclxuLy8gICAgICAgZDg4ODggICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgIDg4OCBcclxuLy8gICAgICBkODg4ODggICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgIDg4OCBcclxuLy8gICAgIGQ4OFA4ODggICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgIDg4OCBcclxuLy8gICAgZDg4UCA4ODggIC5kODg4OGIgODg4ODg4IDg4OCAgODg4ICA4ODg4Yi4gIDg4OCBcclxuLy8gICBkODhQICA4ODggZDg4UFwiICAgIDg4OCAgICA4ODggIDg4OCAgICAgXCI4OGIgODg4IFxyXG4vLyAgZDg4UCAgIDg4OCA4ODggICAgICA4ODggICAgODg4ICA4ODggLmQ4ODg4ODggODg4IFxyXG4vLyBkODg4ODg4ODg4OCBZODhiLiAgICBZODhiLiAgWTg4YiA4ODggODg4ICA4ODggODg4IFxyXG4vL2Q4OFAgICAgIDg4OCAgXCJZODg4OFAgIFwiWTg4OCAgXCJZODg4ODggXCJZODg4ODg4IDg4OCBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbmNvbnN0IFJ1bm5pbmdDb250cm9sc0JhciA9ICh7XHJcbiAgYXV0b3J1biwgXHJcbiAgdHJhY2VhYmlsaXR5LCBcclxuICBvbkF1dG9ydW5DbGljaywgXHJcbiAgb25UcmFjZWFiaWxpdHlDbGljayxcclxuICBvblJ1bkNsaWNrXHJcbn0pID0+IChcclxuICA8SG9yaXpvbnRhbEJhcj5cclxuICAgIDxDaGVja2JveCBsYWJlbD0nUnVuIEF1dG9tYXRpY2FsbHknIGNoZWNrZWQ9e2F1dG9ydW59IG9uQ2xpY2s9e29uQXV0b3J1bkNsaWNrfS8+XHJcbiAgICA8Q2hlY2tib3ggbGFiZWw9J0NhcHR1cmUgVHJhY2UnIGNoZWNrZWQ9e3RyYWNlYWJpbGl0eX0gb25DbGljaz17b25UcmFjZWFiaWxpdHlDbGlja30vPlxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJ1bkNsaWNrfT5SdW4gTm93PC9idXR0b24+XHJcbiAgPC9Ib3Jpem9udGFsQmFyPlxyXG4pO1xyXG5cclxuY29uc3QgU3RhdHVzQmFyID0gKHtzdGF0dXN9KSA9PiAoXHJcbiAgPEhvcml6b250YWxCYXI+XHJcbiAgICA8c3Bhbj57c3RhdHVzfTwvc3Bhbj5cclxuICA8L0hvcml6b250YWxCYXI+XHJcbik7XHJcblxyXG5cclxuLy8gLmQ4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ODg4ODg4OCAgICAgODg4IGQ4YiA4ODggICAgICAgICAgICAgICAgICAgIFxyXG4vL2Q4OFAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICA4ODggWThQIDg4OCAgICAgICAgICAgICAgICAgICAgXHJcbi8vWTg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy8gXCJZODg4Yi4gICA4ODggIDg4OCA4ODg4OGIuICAgLmQ4OGIuICA4ODhkODg4IDg4ODg4ODggICAgLmQ4ODg4OCA4ODggODg4ODg4IC5kODhiLiAgODg4ZDg4OCBcclxuLy8gICAgXCJZODhiLiA4ODggIDg4OCA4ODggXCI4OGIgZDhQICBZOGIgODg4UFwiICAgODg4ICAgICAgIGQ4OFwiIDg4OCA4ODggODg4ICAgZDg4XCJcIjg4YiA4ODhQXCIgICBcclxuLy8gICAgICBcIjg4OCA4ODggIDg4OCA4ODggIDg4OCA4ODg4ODg4OCA4ODggICAgIDg4OCAgICAgICA4ODggIDg4OCA4ODggODg4ICAgODg4ICA4ODggODg4ICAgICBcclxuLy9ZODhiICBkODhQIFk4OGIgODg4IDg4OCBkODhQIFk4Yi4gICAgIDg4OCAgICAgODg4ICAgICAgIFk4OGIgODg4IDg4OCBZODhiLiBZODguLjg4UCA4ODggICAgIFxyXG4vLyBcIlk4ODg4UFwiICAgXCJZODg4ODggODg4ODhQXCIgICBcIlk4ODg4ICA4ODggICAgIDg4ODg4ODg4ODggXCJZODg4ODggODg4ICBcIlk4ODggXCJZODhQXCIgIDg4OCAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4vKlxyXG4gIFJ1bm5pbmcgYXV0b21hdGljYWxseSBhbmQgY2FwdHVyaW5nIHRyYWNlIHdlcmUgam9pbmVkIGluIHRoaXMgY29tcG9uZW50LiBcclxuICBXaGV0aGVyIHRvIHJ1biBhdXRvbWF0aWNhbGx5IGFuZC9vciBjYXB0dXJlIHRyYWNlIGNhbiBiZSBjb250cm9sbGVkIFxyXG5ieSB0aGUgdXNlci5cclxuKi9cclxuY2xhc3MgU3VwZXJFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIC8qXHJcbiAgICBQcm9wczpcclxuICAgICAgLSBwcm9ncmFtXHJcbiAgICAgIC0gb25Qcm9ncmFtQ2hhbmdlXHJcbiAgICBTdGF0ZTpcclxuICAgICAgLSBjdXJyZW50UHJvZ3JhbTogdGhlIGN1cnJlbnQsIHBvc3NpYmx5IG1vZGlmaWVkLCB2ZXJzaW9uIG9mIHByb2dyYW1cclxuICAgICAgLSByZXN1bHRzXHJcbiAgICAgIC0gcnVuQXV0b21hdGljYWxseVxyXG4gICAgICAtIGNhcHR1cmVUcmFjZVxyXG4gICAgICAgIC0gdHJhY2VhYmlsaXR5SW5mb1xyXG4gICAgICAgIC0gbm9kZURlY29yYXRpb25zXHJcbiAgICAgICAgLSByZXN1bHREZWNvcmF0aW9uc1xyXG4gICovXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIC8vIEluaXRpYWxpemUgYm91bmQgbWV0aG9kcy5cclxuICAgIHRoaXMudG9nZ2xlUnVuQXV0b21hdGljYWxseSA9IHRoaXMudG9nZ2xlUnVuQXV0b21hdGljYWxseS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy50b2dnbGVDYXB0dXJlVHJhY2UgPSB0aGlzLnRvZ2dsZUNhcHR1cmVUcmFjZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVSdW4gPSB0aGlzLmhhbmRsZVJ1bi5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVQcm9ncmFtQ2hhbmdlID0gdGhpcy5oYW5kbGVQcm9ncmFtQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZUNsaWNrZWROb2RlID0gdGhpcy5oYW5kbGVDbGlja2VkTm9kZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVIb3ZlcmVkUmVzdWx0SW5zdGFuY2UgPSB0aGlzLmhhbmRsZUhvdmVyZWRSZXN1bHRJbnN0YW5jZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVSZXN1bHRzVmlld0NsaWNrID0gdGhpcy5oYW5kbGVSZXN1bHRzVmlld0NsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnBlcmZvcm1SdW4gPSB0aGlzLnBlcmZvcm1SdW4uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuc2NoZWR1bGVSdW4gPSBkZWJvdW5jZSh0aGlzLnBlcmZvcm1SdW4sIDEwMC8qbXNlYyovKTtcclxuICAgIC8vIEluaXRpYWxpemUgc3RhdGUuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjdXJyZW50UHJvZ3JhbTogcHJvcHMucHJvZ3JhbSxcclxuICAgICAgcnVuQXV0b21hdGljYWxseTogdHJ1ZSxcclxuICAgICAgY2FwdHVyZVRyYWNlOiB0cnVlLFxyXG4gICAgICBub2RlRGVjb3JhdGlvbnM6IFtdLFxyXG4gICAgICByZXN1bHREZWNvcmF0aW9uczogW10sXHJcbiAgICAgIHByb2dyYW1SZXN1bHRzOiBlbXB0eVJlc3VsdHMsXHJcbiAgICAgIHN0YXR1czogJ2lkbGUnXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2NoZWR1bGVSdW4oKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxSb3dTcGxpdD5cclxuICAgICAgICA8UnVubmluZ0NvbnRyb2xzQmFyXHJcbiAgICAgICAgICBhdXRvcnVuPXt0aGlzLnN0YXRlLnJ1bkF1dG9tYXRpY2FsbHl9XHJcbiAgICAgICAgICB0cmFjZWFiaWxpdHk9e3RoaXMuc3RhdGUuY2FwdHVyZVRyYWNlfVxyXG4gICAgICAgICAgb25BdXRvcnVuQ2xpY2s9e3RoaXMudG9nZ2xlUnVuQXV0b21hdGljYWxseX1cclxuICAgICAgICAgIG9uVHJhY2VhYmlsaXR5Q2xpY2s9e3RoaXMudG9nZ2xlQ2FwdHVyZVRyYWNlfVxyXG4gICAgICAgICAgb25SdW5DbGljaz17dGhpcy5oYW5kbGVSdW59Lz5cclxuICAgICAgICA8Q29sdW1uU3BsaXQgaGVpZ2h0PSdjYWxjKDEwMCUgLSA2ZW0pJz5cclxuICAgICAgICAgIDxQcm9ncmFtRWRpdG9yXHJcbiAgICAgICAgICAgIHByb2dyYW09e3RoaXMuc3RhdGUuY3VycmVudFByb2dyYW19XHJcbiAgICAgICAgICAgIG9uUHJvZ3JhbUNoYW5nZT17dGhpcy5oYW5kbGVQcm9ncmFtQ2hhbmdlfVxyXG4gICAgICAgICAgICBvblZhbGlkUHJvZ3JhbT17bm9vcH1cclxuICAgICAgICAgICAgbm9kZURlY29yYXRpb25zPXt0aGlzLnN0YXRlLmNhcHR1cmVUcmFjZSA/IHRoaXMuc3RhdGUubm9kZURlY29yYXRpb25zIDogW119XHJcbiAgICAgICAgICAgIG9uSG92ZXJlZE5vZGU9e25vb3B9XHJcbiAgICAgICAgICAgIG9uQ2xpY2tlZE5vZGU9e3RoaXMuaGFuZGxlQ2xpY2tlZE5vZGV9Lz5cclxuICAgICAgICAgIDxSZXN1bHRzVmlld1xyXG4gICAgICAgICAgICByZXN1bHRzPXt0aGlzLnN0YXRlLnByb2dyYW1SZXN1bHRzfVxyXG4gICAgICAgICAgICByZXN1bHREZWNvcmF0aW9ucz17dGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2UgPyB0aGlzLnN0YXRlLnJlc3VsdERlY29yYXRpb25zIDogW119XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUuY2FwdHVyZVRyYWNlID8gdGhpcy5oYW5kbGVSZXN1bHRzVmlld0NsaWNrIDogbnVsbH0vPlxyXG4gICAgICAgIDwvQ29sdW1uU3BsaXQ+XHJcbiAgICAgICAgPFN0YXR1c0JhciBzdGF0dXM9e3RoaXMuc3RhdGUuc3RhdHVzfS8+XHJcbiAgICAgIDwvUm93U3BsaXQ+XHJcbiAgICApO1xyXG4gICAgLy9vbkhvdmVyZWRSZXN1bHRJbnN0YW5jZT17dGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2UgPyB0aGlzLmhhbmRsZUhvdmVyZWRSZXN1bHRJbnN0YW5jZSA6IG51bGx9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVSdW5BdXRvbWF0aWNhbGx5KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7cnVuQXV0b21hdGljYWxseTogIXRoaXMuc3RhdGUucnVuQXV0b21hdGljYWxseX0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQ2FwdHVyZVRyYWNlKCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y2FwdHVyZVRyYWNlOiAhdGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2V9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVJ1bigpIHtcclxuICAgIHRoaXMuc2NoZWR1bGVSdW4oKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLnByb2dyYW0gIT09IG5ld1Byb3BzLnByb2dyYW0pIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y3VycmVudFByb2dyYW06IG5ld1Byb3BzLnByb2dyYW19KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlKSB7XHJcbiAgICBjb25zdCBwcm9ncmFtQ2hhbmdlZCA9IHRoaXMuc3RhdGUuY3VycmVudFByb2dyYW0gIT09IG5ld1N0YXRlLmN1cnJlbnRQcm9ncmFtO1xyXG4gICAgY29uc3QgY2FwdHVyZVRyYWNlQ2hhbmdlZCA9IHRoaXMuc3RhdGUuY2FwdHVyZVRyYWNlICE9PSBuZXdTdGF0ZS5jYXB0dXJlVHJhY2U7XHJcbiAgICBjb25zdCBjYXB0dXJlVHJhY2VOZWVkZWQgPSBjYXB0dXJlVHJhY2VDaGFuZ2VkICYmIG5ld1N0YXRlLmNhcHR1cmVUcmFjZTtcclxuICAgIGNvbnN0IHByb2dyYW1Jc1ZhbGlkID0gdmFsaWRTb3VyY2UobmV3U3RhdGUuY3VycmVudFByb2dyYW0pO1xyXG4gICAgY29uc3Qgc2hvdWxkU2NoZWR1bGVSdW4gPSBuZXdTdGF0ZS5ydW5BdXRvbWF0aWNhbGx5IFxyXG4gICAgICAmJiBwcm9ncmFtSXNWYWxpZCAmJiAocHJvZ3JhbUNoYW5nZWQgfHwgY2FwdHVyZVRyYWNlTmVlZGVkKTtcclxuICAgIGlmIChzaG91bGRTY2hlZHVsZVJ1bikge1xyXG4gICAgICB0aGlzLnNjaGVkdWxlUnVuKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVQcm9ncmFtQ2hhbmdlKHByb2dyYW0pIHtcclxuICAgIGxldCBzdGF0ZUNoYW5nZXMgPSB7fTtcclxuICAgIC8vIHVwZGF0ZSBzdGF0dXNcclxuICAgIHN0YXRlQ2hhbmdlcyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlQ2hhbmdlcywgeyBcclxuICAgICAgc3RhdHVzOiB2YWxpZFNvdXJjZShwcm9ncmFtKVxyXG4gICAgICAgID8gJ2NoYW5nZWQnXHJcbiAgICAgICAgOiAnaW52YWxpZCdcclxuICAgIH0pO1xyXG4gICAgLy8gdXBkYXRlIHRoZSBjdXJyZW50IHByb2dyYW1cclxuICAgIHN0YXRlQ2hhbmdlcyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlQ2hhbmdlcywge2N1cnJlbnRQcm9ncmFtOiBwcm9ncmFtfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlQ2hhbmdlcyk7XHJcbiAgICAvLyBwcm9wYWdhdGUgY2hhbmdlIHRvIG93bmVyIGNvbXBvbmVudFxyXG4gICAgdGhpcy5wcm9wcy5vblByb2dyYW1DaGFuZ2UocHJvZ3JhbSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGlja2VkTm9kZSh7bm9kZSwgcGF0aH0pIHtcclxuICAgIC8vIGlmZiBjYXB0dXJlVHJhY2UgLT4gaGlnaGxpZ2h0IG5vZGUgKG9yIHBhcmVudCkgYW5kIGl0cyByZXN1bHRzXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2UpIHtcclxuICAgICAgLy8gQ29waWVkIGZyb206IFRyYWNlYWJpbGl0eVZpZXcuanN4XHJcbiAgICAgIGxldCBpc0hvdmVyaW5nU29tZXRoaW5nID0gcGF0aC5sZW5ndGggPiAxOy8vW1Byb2dyYW0sIFNvbWVOb2RlLC4uLl1cclxuICAgICAgaWYgKGlzSG92ZXJpbmdTb21ldGhpbmcpIHtcclxuICAgICAgICBsZXQgbm9kZUNvbG9yID0gY29sb3IuaHNsKDEwMC4wLzM2MC4wLCAwLjUsIDAuNSk7XHJcbiAgICAgICAgbGV0IG5vZGVSZXN1bHRzID0gZ2V0Tm9kZVJlc3VsdHMobm9kZSwgcGF0aCwgdGhpcy5zdGF0ZS5wcm9ncmFtUmVzdWx0cyk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBub2RlRGVjb3JhdGlvbnM6IFttYWtlTm9kZURlY29yYXRpb24obm9kZSwgbm9kZUNvbG9yKV0sXHJcbiAgICAgICAgICByZXN1bHREZWNvcmF0aW9uczogbm9kZVJlc3VsdHMubWFwKFxyXG4gICAgICAgICAgICBwYXJ0aWFsKG1ha2VSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbiwgXywgbm9kZUNvbG9yKSlcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIENsaWNrZWQgc29tZXdoZXJlIGluIFByb2dyYW0uXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIG5vZGVEZWNvcmF0aW9uczogW10sXHJcbiAgICAgICAgICByZXN1bHREZWNvcmF0aW9uczogW11cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSG92ZXJlZFJlc3VsdEluc3RhbmNlKHtyZXN1bHRJbnN0YW5jZSwgcGF0aH0pIHtcclxuICAgIC8vIENvcGllZCBmcm9tOiBUcmFjZWFiaWxpdHlWaWV3LmpzeFxyXG4gICAgbGV0IGlzSG92ZXJpbmdTb21ldGhpbmcgPSBwYXRoLmxlbmd0aCAhPT0gMDtcclxuICAgIGlmIChpc0hvdmVyaW5nU29tZXRoaW5nKSB7XHJcbiAgICAgIGxldCBjcmVhdG9yTm9kZSA9IGdldFJlc3VsdENyZWF0b3JOb2RlKHJlc3VsdEluc3RhbmNlLCBwYXRoLCBcclxuICAgICAgICB0aGlzLnN0YXRlLnByb2dyYW1SZXN1bHRzLCB0aGlzLnN0YXRlLmN1cnJlbnRQcm9ncmFtKTtcclxuICAgICAgbGV0IGRlY0NvbG9yID0gY29sb3IuaHNsKDUwLjAvMzYwLjAsIDAuNSwgMC41KTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbm9kZURlY29yYXRpb25zOiBbbWFrZU5vZGVEZWNvcmF0aW9uKGNyZWF0b3JOb2RlLCBkZWNDb2xvcildLFxyXG4gICAgICAgIHJlc3VsdERlY29yYXRpb25zOiBbbWFrZVJlc3VsdEluc3RhbmNlRGVjb3JhdGlvbihwYXRoLCBkZWNDb2xvcildXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbm9kZURlY29yYXRpb25zOiBbXSxcclxuICAgICAgICByZXN1bHREZWNvcmF0aW9uczogW11cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSZXN1bHRzVmlld0NsaWNrKHJlc0NsaWNrRXZlbnQpIHtcclxuICAgIHN3aXRjaCAocmVzQ2xpY2tFdmVudC50eXBlKSB7XHJcbiAgICAgIGNhc2UgUmVzdWx0c1ZpZXcuVm9pZENsaWNrOlxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbm9kZURlY29yYXRpb25zOiBbXSxcclxuICAgICAgICAgIHJlc3VsdERlY29yYXRpb25zOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFJlc3VsdHNWaWV3LlJlc3VsdEluc3RhbmNlQ2xpY2s6XHJcbiAgICAgICAgdGhpcy5oYW5kbGVIb3ZlcmVkUmVzdWx0SW5zdGFuY2UocmVzQ2xpY2tFdmVudCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIFJlc3VsdHNWaWV3IGV2ZW50LlwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcGVyZm9ybVJ1bigpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe3N0YXR1czogJ3J1bm5pbmcnfSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2UpIHtcclxuICAgICAgICBsZXQgcHJvZ3JhbVJlc3VsdHMgPSB0aW1lKFwiVHJhY2VhYmlsaXR5XCIsICgpID0+IHJ1bldpdGhUcmFjZWFiaWxpdHkodGhpcy5zdGF0ZS5jdXJyZW50UHJvZ3JhbSkpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgcHJvZ3JhbVJlc3VsdHNcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgcHJvZ3JhbVJlc3VsdHMgPSB0aW1lKFwiQmFyZSBydW5cIiwgKCkgPT4gcnVuTm9ybWFsbHkodGhpcy5zdGF0ZS5jdXJyZW50UHJvZ3JhbSkpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgcHJvZ3JhbVJlc3VsdHNcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtzdGF0dXM6ICdpZGxlJ30pOyAgXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3N0YXR1czogJ2Vycm9yOicgKyBlLm1lc3NhZ2V9KTtcclxuICAgIH1cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBub2RlRGVjb3JhdGlvbnM6IFtdLFxyXG4gICAgICByZXN1bHREZWNvcmF0aW9uczogW11cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuU3VwZXJFZGl0b3IucHJvcFR5cGVzID0ge1xyXG4gIHByb2dyYW06IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBvblByb2dyYW1DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN1cGVyRWRpdG9yO1xyXG4iLCJcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG4vKlxyXG4gIEEgY29tcG9uZW50IHRoYXQgcmVuZGVycyB3aGF0ZXZlciBjYW1lcmEgYW5kIHNjZW5lIHVzaW5nIGEgVEhSRUUuV2ViR0xSZW5kZXJlci5cclxuKi9cclxuXHJcbmNsYXNzIFRocmVlUmVuZGVyZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmc1tcImNhbnZhc1wiXSk7XHJcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcclxuICAgICAgY2FudmFzOiBjYW52YXMsIGFudGlhbGlhczogdHJ1ZSwgYWxwaGE6IHRydWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2RyYXcoKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbW1vdW50KCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gdGhpcy5wcm9wcztcclxuICAgIHRoaXMuX3JlbmRlcmVyLnNldFZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgdGhpcy5fZHJhdygpO1xyXG4gIH1cclxuXHJcbiAgX2RyYXcoKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXIodGhpcy5wcm9wcy5zY2VuZSwgdGhpcy5wcm9wcy5jYW1lcmEpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuICggXHJcbiAgICAgIDxjYW52YXMgXHJcbiAgICAgICAgcmVmPVwiY2FudmFzXCJcclxuICAgICAgICB3aWR0aD17dGhpcy5wcm9wcy53aWR0aH1cclxuICAgICAgICBoZWlnaHQ9e3RoaXMucHJvcHMuaGVpZ2h0fVxyXG4gICAgICAgIHN0eWxlPXtzdHlsZXMuY2FudmFzfVxyXG4gICAgICAvPiBcclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIHJlbmRlclRvSW1hZ2UoKSB7XHJcbiAgICB0aGlzLl9kcmF3KCk7XHJcbiAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWcuc3JjID0gdGhpcy5fcmVuZGVyZXIuZG9tRWxlbWVudC50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICByZXR1cm4gaW1nO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gIGNhbnZhczoge1xyXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjEwMCVcIlxyXG4gIH1cclxufTtcclxuXHJcbiAgZXhwb3J0IGRlZmF1bHQgVGhyZWVSZW5kZXJlcjsiLCJcclxuLyoqXHJcbiAgQHBhcmFtIHtNb3VzZURvd25FdmVudH0gbW91c2VEb3duIFRoZSBtb3VzZWRvd24gZXZlbnQgdGhhdCBzdGFydHMgdGhlIGRyYWdcclxuICBAcGFyYW0ge09iamVjdH0gZHJhZ1xyXG4gIEBwYXJhbSB7RnVuY3Rpb259IGRyYWcub25Nb3ZlXHJcbiAgQHBhcmFtIHtGdW5jdGlvbn0gZHJhZy5vblVwXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydChtb3VzZURvd24sIGRyYWcpIHtcclxuICBjdXJyZW50RHJhZyA9IGRyYWc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTW91c2VNb3ZlKG1vdXNlTW92ZSkge1xyXG4gIGN1cnJlbnREcmFnIFxyXG4gICAgJiYgY3VycmVudERyYWcub25Nb3ZlIFxyXG4gICAgJiYgY3VycmVudERyYWcub25Nb3ZlKG1vdXNlTW92ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTW91c2VVcChtb3VzZVVwKSB7XHJcbiAgY3VycmVudERyYWdcclxuICAgICYmIGN1cnJlbnREcmFnLm9uVXBcclxuICAgICYmIGN1cnJlbnREcmFnLm9uVXAobW91c2VVcCk7XHJcbiAgY3VycmVudERyYWcgPSBudWxsO1xyXG59XHJcblxyXG4vLyBJbml0aWFsaXphdGlvbi5cclxubGV0IGN1cnJlbnREcmFnID0gbnVsbDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uTW91c2VNb3ZlKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uTW91c2VVcCk7XHJcbiIsImltcG9ydCBSZWFjdCwge0NoaWxkcmVufSBmcm9tICdyZWFjdCc7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IENvbHVtblNwbGl0ID0gKHtjaGlsZHJlbiwgaGVpZ2h0ID0gJzEwMCUnfSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPSdjb2x1bW4tc3BsaXQnIHN0eWxlPXt7aGVpZ2h0fX0+XHJcbiAgICB7Q2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBjID0+IFxyXG4gICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IDEwMC9DaGlsZHJlbi5jb3VudChjaGlsZHJlbikgKyAnJScsIGhlaWdodDogJzEwMCUnfX0+XHJcbiAgICAgICAge2N9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKX1cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBSb3dTcGxpdCA9ICh7Y2hpbGRyZW59KSA9PiAoXHJcbiAgPGRpdiBjbGFzc05hbWU9J3Jvdy1zcGxpdCc+XHJcbiAgICB7Y2hpbGRyZW59XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgSG9yaXpvbnRhbEJhciA9ICh7Y2hpbGRyZW59KSA9PiAoXHJcbiAgPGRpdiBjbGFzc05hbWU9J2hvcml6b250YWwtYmFyJz5cclxuICAgIDxkaXY+e2NoaWxkcmVufTwvZGl2PlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IENoZWNrYm94ID0gKHtsYWJlbCwgY2hlY2tlZCwgb25DbGlja30pID0+IChcclxuICA8bGFiZWwgY2xhc3NOYW1lPSdjaGVja2JveCcgb25DaGFuZ2U9e29uQ2xpY2t9PlxyXG4gICAgPGlucHV0IHR5cGU9J2NoZWNrYm94JyBjaGVja2VkPXtjaGVja2VkfS8+XHJcbiAgICA8c3Bhbj57bGFiZWx9PC9zcGFuPlxyXG4gIDwvbGFiZWw+XHJcbik7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFZlcnRpY2FsSWNvbkJhciA9ICh7Y2hpbGRyZW59KSA9PiAoXHJcbiAgPGRpdiBjbGFzc05hbWU9XCJ2ZXJ0aWNhbC1pY29uLWJhclwiPlxyXG4gICAge2NoaWxkcmVufVxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNwYWNlciA9ICh7d2lkdGgsIGhlaWdodH0pID0+IChcclxuICA8ZGl2IHN0eWxlPXt7d2lkdGgsIGhlaWdodH19Lz5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBJY29uQnV0dG9uID0gKHtpY29uLCBvbkNsaWNrfSkgPT4gKFxyXG4gIDxpbWcgY2xhc3NOYW1lPVwiaWNvbi1idXR0b25cIiBvbkNsaWNrPXtvbkNsaWNrfSBzcmM9e2ljb259Lz5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBEcmF3ZXIgPSAoe29wZW4sIGNoaWxkcmVufSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPVwiZHJhd2VyXCIgc3R5bGU9e3tkaXNwbGF5OiBvcGVuID8gJ2Jsb2NrJyA6ICdub25lJ319PlxyXG4gICAge2NoaWxkcmVufVxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuXHJcbiIsIlxyXG5pbXBvcnQge2NvbnN0cnVjdG9ycyBhcyBOb2RlcywgcmVjb2duaXplcnMgYXMgTm9kZVB9IGZyb20gJy4uL1BhcnNpbmcvYXN0LXV0aWxzLmpzJztcclxuaW1wb3J0IHtub2RlSWR9IGZyb20gJy4uL1BhcnNpbmcvbm9kZS1pZC5qcyc7XHJcblxyXG5jb25zdCBzYXZlVG9wTGV2ZWxFeHByc1RyYW5zZm9ybSA9IHtcclxuXHRzZWxlY3Q6IGZ1bmN0aW9uKG5vZGUsIHBhcmVudCkge1xyXG5cdFx0cmV0dXJuIE5vZGVQLmlzRXhwcmVzc2lvblN0YXRlbWVudChub2RlKSAmJiBOb2RlUC5pc1Byb2dyYW0ocGFyZW50KTtcclxuXHR9LFxyXG5cdHRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSwgY3R4SWQpIHtcclxuXHRcdHJldHVybiBOb2Rlcy5leHByU3RtdChcclxuXHRcdFx0Tm9kZXMuY2FsbEV4cHIoXHJcblx0XHRcdFx0Tm9kZXMubWVtYmVyRXhwcihcclxuXHRcdFx0XHRcdE5vZGVzLmlkKGN0eElkKSxcclxuXHRcdFx0XHRcdE5vZGVzLmlkKFwic2F2ZVRvcExldmVsUmVzdWx0XCIpLFxyXG5cdFx0XHRcdFx0ZmFsc2UpLFxyXG5cdFx0XHRcdFtOb2Rlcy5saXRlcmFsKG5vZGVJZChub2RlKSksIG5vZGUuZXhwcmVzc2lvbl0pKTtcclxuXHR9LFxyXG5cdG1ha2VDb250ZXh0OiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHNhdmVUb3BMZXZlbFJlc3VsdDogZnVuY3Rpb24obm9kZUlkLCB2YWx1ZSkge1xyXG5cdFx0XHRcdHRoaXMudG9wTGV2ZWxFeHByUmVzdWx0cy5zZXQobm9kZUlkLCB2YWx1ZSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdHRvcExldmVsRXhwclJlc3VsdHM6IG5ldyBNYXAoKVxyXG5cdFx0fTtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQge3NhdmVUb3BMZXZlbEV4cHJzVHJhbnNmb3JtIGFzIHRyYW5zZm9ybX07XHJcbiIsIlxyXG5pbXBvcnQge2NvbnN0cnVjdG9ycyBhcyBOb2RlcywgcmVjb2duaXplcnMgYXMgTm9kZVB9IGZyb20gJy4uL1BhcnNpbmcvYXN0LXV0aWxzLmpzJztcclxuaW1wb3J0IHtpZEdlbmVyYXRvcn0gZnJvbSAnLi4vaWQtZ2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IHtub2RlSWR9IGZyb20gJy4uL1BhcnNpbmcvbm9kZS1pZC5qcyc7XHJcblxyXG5jb25zdCB0cmFjZUNhbGxUcmFuc2Zvcm0gPSB7XHJcblx0LypcclxuXHRcdGZvby5iYXIoYSwgYiwgYykgLT4gXHJcblx0XHQoZnVuY3Rpb24oJDEsICQyLCAkMyl7XHJcblx0XHRcdHZhciAkJCA9IGZvby5iYXIoJDEsICQyLCAkMyk7XHJcblx0XHRcdHRyYWNlQ2FsbChub2RlSWQsIFskMSwgJDIsICQzXSwgJCQpO1xyXG5cdFx0XHRyZXR1cm4gJCQ7XHJcblx0XHR9KShhLCBiLCBjKVxyXG5cdCovXHJcblx0c2VsZWN0OiBmdW5jdGlvbihub2RlLCBwYXJlbnQpIHtcclxuXHRcdHJldHVybiBOb2RlUC5pc0NhbGxFeHByZXNzaW9uKG5vZGUpO1xyXG5cdH0sXHJcblx0dHJhbnNmb3JtOiBmdW5jdGlvbihub2RlLCBjdHhJZCkge1xyXG5cdFx0dmFyIHV1aWQgPSBcIlwiK2lkR2VuZXJhdG9yLm5leHQoKTtcclxuXHRcdHZhciBhcmdJZHMgPSBub2RlLmFyZ3VtZW50cy5tYXAoZnVuY3Rpb24oYSwgaSl7XHJcblx0XHRcdHJldHVybiBcIiRcIitpK1wiX1wiK3V1aWQ7XHJcblx0XHR9KS5tYXAoZnVuY3Rpb24obmFtZSl7XHJcblx0XHRcdHJldHVybiBOb2Rlcy5pZChuYW1lKTtcclxuXHRcdH0pO1xyXG5cdFx0dmFyIHJlc0lkID0gTm9kZXMuaWQoXCIkJFwiK3V1aWQpO1xyXG5cdFx0cmV0dXJuIE5vZGVzLmNhbGxFeHByKFxyXG5cdFx0XHROb2Rlcy5mdW5jRXhwcihcclxuXHRcdFx0XHRudWxsLFxyXG5cdFx0XHRcdGFyZ0lkcyxcclxuXHRcdFx0XHROb2Rlcy5ibG9jayhbXHJcblx0XHRcdFx0XHROb2Rlcy52YXJEZWNsYXJhdGlvbihbXHJcblx0XHRcdFx0XHRcdE5vZGVzLnZhckRlY2xhcmF0b3IoXHJcblx0XHRcdFx0XHRcdFx0cmVzSWQsXHJcblx0XHRcdFx0XHRcdFx0Tm9kZXMuY2FsbEV4cHIoXHJcblx0XHRcdFx0XHRcdFx0XHRub2RlLmNhbGxlZSxcclxuXHRcdFx0XHRcdFx0XHRcdGFyZ0lkcykpXSxcclxuXHRcdFx0XHRcdFx0XCJ2YXJcIiksXHJcblx0XHRcdFx0XHROb2Rlcy5jYWxsRXhwcihcclxuXHRcdFx0XHRcdFx0Tm9kZXMubWVtYmVyRXhwcihcclxuXHRcdFx0XHRcdFx0XHROb2Rlcy5pZChjdHhJZCksXHJcblx0XHRcdFx0XHRcdFx0Tm9kZXMuaWQoXCJ0cmFjZUNhbGxcIikpLFxyXG5cdFx0XHRcdFx0XHRbTm9kZXMubGl0ZXJhbChub2RlSWQobm9kZSkpLCBOb2Rlcy5hcnJFeHByKGFyZ0lkcyksIHJlc0lkXSksXHJcblx0XHRcdFx0XHROb2Rlcy5yZXRTdG10KHJlc0lkKV0pKSxcclxuXHRcdFx0bm9kZS5hcmd1bWVudHMpO1xyXG5cdH0sXHJcblx0bWFrZUNvbnRleHQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHJhY2VDYWxsOiBmdW5jdGlvbihub2RlSWQsIGNhbGxBcmdzLCBjYWxsUmVzKSB7XHJcblx0XHRcdFx0aWYoIXRoaXMuY2FsbFRyYWNlcy5oYXMobm9kZUlkKSkge1xyXG5cdFx0XHRcdFx0dGhpcy5jYWxsVHJhY2VzLnNldChub2RlSWQsIFtdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIHRyYWNlRW50cnkgPSB7XHJcblx0XHRcdFx0XHRub2RlSWQ6IG5vZGVJZCwgXHJcblx0XHRcdFx0XHRhcmd1bWVudHM6IGNhbGxBcmdzLCBcclxuXHRcdFx0XHRcdHJlc3VsdDogY2FsbFJlc1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0dGhpcy5jYWxsVHJhY2VzLmdldChub2RlSWQpLnB1c2godHJhY2VFbnRyeSk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGNhbGxUcmFjZXM6IG5ldyBNYXAoKVxyXG5cdFx0fTtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQge3RyYWNlQ2FsbFRyYW5zZm9ybSBhcyB0cmFuc2Zvcm19O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmNvbnN0IGlzRXhwcmVzc2lvbiA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIGV4cHJUeXBlcyA9IG5ldyBTZXQoW1xyXG5cdFx0XCJUaGlzRXhwcmVzc2lvblwiLCBcclxuXHRcdFwiQXJyYXlFeHByZXNzaW9uXCIsXHJcblx0XHRcIk9iamVjdEV4cHJlc3Npb25cIixcclxuXHRcdFwiRnVuY3Rpb25FeHByZXNzaW9uXCIsXHJcblx0XHRcIlVuYXJ5RXhwcmVzc2lvblwiLFxyXG5cdFx0XCJVcGRhdGVFeHByZXNzaW9uXCIsXHJcblx0XHRcIkJpbmFyeUV4cHJlc3Npb25cIixcclxuXHRcdFwiQXNzaWdubWVudEV4cHJlc3Npb25cIixcclxuXHRcdFwiTG9naWNhbEV4cHJlc3Npb25cIixcclxuXHRcdFwiTWVtYmVyRXhwcmVzc2lvblwiLFxyXG5cdFx0XCJDb25kaXRpb25hbEV4cHJlc3Npb25cIixcclxuXHRcdFwiQ2FsbEV4cHJlc3Npb25cIixcclxuXHRcdFwiTmV3RXhwcmVzc2lvblwiLFxyXG5cdFx0XCJTZXF1ZW5jZUV4cHJlc3Npb25cIixcclxuXHRcdFwiTGl0ZXJhbFwiLFxyXG5cdFx0XCJJZGVudGlmaWVyXCJcclxuXHRcdF0pO1xyXG5cdHJldHVybiBmdW5jdGlvbiBpc0V4cHJlc3Npb24obm9kZSkge1xyXG5cdFx0cmV0dXJuIGV4cHJUeXBlcy5oYXMobm9kZS50eXBlKTtcclxuXHR9O1xyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gaXNNZW1iZXJFeHByZXNzaW9uKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIk1lbWJlckV4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNWYXJpYWJsZURlY2xhcmF0b3Iobm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiVmFyaWFibGVEZWNsYXJhdG9yXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVXBkYXRlRXhwcmVzc2lvbihub2RlKSB7XHJcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJVcGRhdGVFeHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRXhwcmVzc2lvblN0YXRlbWVudChub2RlKSB7XHJcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJFeHByZXNzaW9uU3RhdGVtZW50XCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQ2FsbEV4cHJlc3Npb24obm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiQ2FsbEV4cHJlc3Npb25cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNSZXR1cm4obm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiUmV0dXJuU3RhdGVtZW50XCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24obm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIgfHwgbm9kZS50eXBlID09PSBcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNQcm9ncmFtKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIlByb2dyYW1cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNMaXRlcmFsKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIkxpdGVyYWxcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNVbmFyeUV4cHJlc3Npb24obm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiVW5hcnlFeHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU2lnblVuYXJ5RXhwcmVzc2lvbihub2RlKSB7XHJcblx0cmV0dXJuIGlzVW5hcnlFeHByZXNzaW9uKG5vZGUpIFxyXG5cdFx0JiYgKG5vZGUub3BlcmF0b3IgPT09IFwiLVwiIHx8IG5vZGUub3BlcmF0b3IgPT09IFwiK1wiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNOdW1lcmljTGl0ZXJhbChub2RlKSB7XHJcblx0cmV0dXJuIGlzTGl0ZXJhbChub2RlKSAmJiB0eXBlb2Ygbm9kZS52YWx1ZSA9PT0gXCJudW1iZXJcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNTaWduZWROdW1lcmljTGl0ZXJhbChub2RlKSB7XHJcblx0cmV0dXJuIGlzTnVtZXJpY0xpdGVyYWwobm9kZSkgXHJcblx0XHR8fCAoaXNTaWduVW5hcnlFeHByZXNzaW9uKG5vZGUpICYmIGlzTnVtZXJpY0xpdGVyYWwobm9kZS5hcmd1bWVudCkpO1xyXG59XHJcblxyXG52YXIgdSA9IHtcclxuXHRpc0V4cHJlc3Npb24sXHJcblx0aXNNZW1iZXJFeHByZXNzaW9uLFxyXG5cdGlzVmFyaWFibGVEZWNsYXJhdG9yLFxyXG5cdGlzVXBkYXRlRXhwcmVzc2lvbixcclxuXHRpc0V4cHJlc3Npb25TdGF0ZW1lbnQsXHJcblx0aXNDYWxsRXhwcmVzc2lvbixcclxuXHRpc1JldHVybixcclxuXHRpc0Z1bmN0aW9uLFxyXG5cdGlzUHJvZ3JhbSxcclxuXHRpc1VuYXJ5RXhwcmVzc2lvbixcclxuXHRpc1NpZ25VbmFyeUV4cHJlc3Npb24sXHJcblx0aXNMaXRlcmFsLFxyXG5cdGlzTnVtZXJpY0xpdGVyYWwsXHJcblx0aXNTaWduZWROdW1lcmljTGl0ZXJhbFxyXG59O1xyXG5cclxudmFyIG4gPSB7XHJcblx0ZXhwclN0bXQ6IGZ1bmN0aW9uKGV4cHIpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiLFxyXG5cdFx0XHRleHByZXNzaW9uOiBleHByXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0Y2FsbEV4cHI6IGZ1bmN0aW9uKGNhbGxlZUV4cHIsIGFyZ0V4cHJzKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIkNhbGxFeHByZXNzaW9uXCIsXHJcblx0XHRcdGNhbGxlZTogY2FsbGVlRXhwcixcclxuXHRcdFx0YXJndW1lbnRzOiBhcmdFeHByc1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlkOiBmdW5jdGlvbihuYW1lKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIklkZW50aWZpZXJcIixcclxuXHRcdFx0bmFtZTogbmFtZVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGxpdGVyYWw6IGZ1bmN0aW9uKHZhbHVlLCByYXcpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiTGl0ZXJhbFwiLFxyXG5cdFx0XHR2YWx1ZTogdmFsdWUsXHJcblx0XHRcdHJhd1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGJsb2NrOiBmdW5jdGlvbihzdG1zKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIkJsb2NrU3RhdGVtZW50XCIsXHJcblx0XHRcdGJvZHk6IHN0bXNcclxuXHRcdH07XHJcblx0fSxcclxuXHRmdW5jRXhwcjogZnVuY3Rpb24oaWQsIHBhcmFtcywgYm9keSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJGdW5jdGlvbkV4cHJlc3Npb25cIixcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRwYXJhbXM6IHBhcmFtcyxcclxuXHRcdFx0Ym9keTogYm9keVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdHNlcUV4cHI6IGZ1bmN0aW9uKGV4cHJzKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIlNlcXVlbmNlRXhwcmVzc2lvblwiLFxyXG5cdFx0XHRleHByZXNzaW9uczogZXhwcnNcclxuXHRcdH07XHJcblx0fSxcclxuXHRhc3NpZ25FeHByOiBmdW5jdGlvbihvcCwgbGVmdCwgcmlnaHQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiQXNzaWdubWVudEV4cHJlc3Npb25cIixcclxuXHRcdFx0b3BlcmF0b3I6IG9wLFxyXG5cdFx0XHRsZWZ0OiBsZWZ0LFxyXG5cdFx0XHRyaWdodDogcmlnaHRcclxuXHRcdH07XHJcblx0fSxcclxuXHR2YXJEZWNsYXJhdGlvbjogZnVuY3Rpb24oZGVjbGFyYXRpb25zLCBraW5kKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIixcclxuXHRcdFx0ZGVjbGFyYXRpb25zOiBkZWNsYXJhdGlvbnMsXHJcblx0XHRcdGtpbmQ6IGtpbmRcclxuXHRcdH07XHJcblx0fSxcclxuXHR2YXJEZWNsYXJhdG9yOiBmdW5jdGlvbihpZCwgaW5pdCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJWYXJpYWJsZURlY2xhcmF0b3JcIixcclxuXHRcdFx0aWQ6IGlkLFxyXG5cdFx0XHRpbml0OiBpbml0XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0cmV0U3RtdDogZnVuY3Rpb24oZXhwcikge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJSZXR1cm5TdGF0ZW1lbnRcIixcclxuXHRcdFx0YXJndW1lbnQ6IGV4cHJcclxuXHRcdH07XHJcblx0fSxcclxuXHRhcnJFeHByOiBmdW5jdGlvbihlbGVtcykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJBcnJheUV4cHJlc3Npb25cIixcclxuXHRcdFx0ZWxlbWVudHM6IGVsZW1zXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0bWVtYmVyRXhwcjogZnVuY3Rpb24ob2JqLCBwcm9wLCBjb21wdXRlZCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJNZW1iZXJFeHByZXNzaW9uXCIsXHJcblx0XHRcdG9iamVjdDogb2JqLFxyXG5cdFx0XHRwcm9wZXJ0eTogcHJvcCxcclxuXHRcdFx0Y29tcHV0ZWQ6IGNvbXB1dGVkXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0dW5hcnlFeHByOiBmdW5jdGlvbihvcGVyYXRvciwgYXJndW1lbnQsIHByZWZpeD10cnVlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIlVuYXJ5RXhwcmVzc2lvblwiLFxyXG5cdFx0XHRvcGVyYXRvcixcclxuXHRcdFx0YXJndW1lbnQsXHJcblx0XHRcdHByZWZpeFxyXG5cdFx0fTtcclxuXHR9XHJcbn07XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0cmVjb2duaXplcnM6IHUsXHJcblx0Y29uc3RydWN0b3JzOiBuXHJcbn07IiwiXHJcbmltcG9ydCB7dHJhdmVyc2UsIFZpc2l0b3JPcHRpb259IGZyb20gJ2VzdHJhdmVyc2UnO1xyXG5pbXBvcnQge25vZGVJZCBhcyBnZXROb2RlSWR9IGZyb20gJy4vbm9kZS1pZC5qcyc7XHJcbmltcG9ydCB7c291cmNlVG9Bc3R9IGZyb20gJy4vcHJvZ3JhbS5qcyc7XHJcblxyXG4vKlxyXG5cdFNlYXJjaGVzIGZvciBhIEVzcHJpbWFOb2RlIGluIFByb2dyYW0ncyBBU1QgdGhhdCBoYXMgbm9kZUlkIGFzIGl0cyBpZC5cclxuXHRAcGFyYW0ge1Byb2dyYW19IHByb2dyYW0gVGhlIHByb2dyYW0gdG8gcGVyZm9ybSB0aGUgc2VhcmNoLlxyXG5cdEBwYXJhbSB7c3RyaW5nfSBub2RlSWQgVGhlIGlkIG9mIHRoZSBub2RlLlxyXG5cdEByZXR1cm5zIHtFc3ByaW1hTm9kZXxudWxsfVxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZUJ5SWQocHJvZ3JhbSwgbm9kZUlkKSB7XHJcblx0bGV0IHNlYXJjaFJlc3VsdCA9IG51bGw7XHJcblx0dHJhdmVyc2Uoc291cmNlVG9Bc3QocHJvZ3JhbSksIHtcclxuXHRcdGVudGVyKG5vZGUsIHBhcmVudCkge1xyXG5cdFx0XHRpZihnZXROb2RlSWQobm9kZSkgPT09IG5vZGVJZCkge1xyXG5cdFx0XHRcdHNlYXJjaFJlc3VsdCA9IG5vZGU7XHJcblx0XHRcdFx0cmV0dXJuIFZpc2l0b3JPcHRpb24uQnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHRyZXR1cm4gc2VhcmNoUmVzdWx0O1xyXG59XHJcbiIsIlxyXG4vL1RPRE8gTWFrZSBtb2R1bGUgZm9yIG1hbmFnaW5nKG1hbmlwdWxhdGluZywgcXVlcnlpbmcpIGFzdCBub2RlcyBhbmQvb3IgcHJvZ3JhbXMuXHJcbi8vVE9ETyBNYWtlIG1vZHVsZSBmb3IgbWFuYWdpbmcgcHJvZ3JhbXMgYW5kIHRoZWlyIHJlc3VsdHMuXHJcblxyXG5mdW5jdGlvbiBub2RlSWQobm9kZSkge1xyXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShub2RlLmxvYyk7XHJcbn1cclxuXHJcbmV4cG9ydCB7bm9kZUlkfTtcclxuIiwiXHJcbmltcG9ydCB7dHJhdmVyc2UgYXMgZXN0cmF2ZXJzZSwgVmlzaXRvck9wdGlvbn0gZnJvbSAnZXN0cmF2ZXJzZSc7XHJcbmltcG9ydCB7cHJvcGVydHl9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQge3RyYXZlcnNlIGFzIG15VHJhdmVyc2V9IGZyb20gJy4vdHJhdmVyc2FsLmpzJztcclxuaW1wb3J0IHtyZWNvZ25pemVycyBhcyBOb2RlUH0gZnJvbSAnLi9hc3QtdXRpbHMuanMnO1xyXG5pbXBvcnQge3NvdXJjZVRvQXN0fSBmcm9tICcuL3Byb2dyYW0uanMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVzQ29udGFpbmluZ0Nvb3Jkcyhhc3QsIGVzcHJpbWFDb29yZHMpIHtcclxuICBsZXQgY29vcmRzSW5zaWRlID0gbm9kZUNvbnRhaW5zQ29vcmQoYXN0LCBlc3ByaW1hQ29vcmRzKTtcclxuICBpZiAoY29vcmRzSW5zaWRlKSB7XHJcbiAgICBsZXQgYm90dG9tVXBOb2RlcyA9IFtdO1xyXG4gICAgbGV0IHBhdGhUb0RlZXBlc3QgPSBudWxsO1xyXG4gICAgbXlUcmF2ZXJzZShhc3QsIHtcclxuICAgICAgZW50ZXIobm9kZSwgcGF0aCkge1xyXG4gICAgICAgIGlmIChub2RlQ29udGFpbnNDb29yZChub2RlLCBlc3ByaW1hQ29vcmRzKSkge1xyXG4gICAgICAgICAgYm90dG9tVXBOb2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgcGF0aFRvRGVlcGVzdCA9IHBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGJvdHRvbVVwTm9kZXMucmV2ZXJzZSgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYm90dG9tVXBOb2RlcyxcclxuICAgICAgcGF0aFRvRGVlcGVzdCxcclxuICAgICAgZGVlcGVzdE5vZGU6IG5vZGVBdFBhdGgoYXN0LCBwYXRoVG9EZWVwZXN0KVxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYm90dG9tVXBOb2RlczogW2FzdF0sXHJcbiAgICAgIHBhdGhUb0RlZXBlc3Q6IFtdLFxyXG4gICAgICBkZWVwZXN0Tm9kZTogYXN0XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2VzdHJhdmVyc2Vfbm9kZXNDb250YWluaW5nQ29vcmRzKGFzdCwgZXNwcmltYUNvb3Jkcykge1xyXG4gIGxldCBwYXRoID0gW107XHJcbiAgZXN0cmF2ZXJzZShhc3QsIHtcclxuICAgIGVudGVyKG5vZGUsIHBhcmVudCkge1xyXG4gICAgICBpZihub2RlQ29udGFpbnNDb29yZChub2RlLCBlc3ByaW1hQ29vcmRzKSkge1xyXG4gICAgICAgIHBhdGgucHVzaChub2RlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHBhdGgucmV2ZXJzZSgpO1xyXG4gIHJldHVybiB7XHJcbiAgICBwYXRoOiBwYXRoLCBcclxuICAgIGRlZXBlc3ROb2RlOiBwYXRoWzBdXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVDb250YWluc0Nvb3JkKG5vZGUsIGVzcHJpbWFDb29yZHMpIHtcclxuICBmdW5jdGlvbiBpZlRoZW4ocHJlbWlzZSwgY29uc2VxdWVuY2UpIHtcclxuICAgIHJldHVybiAhcHJlbWlzZSB8fCBjb25zZXF1ZW5jZTtcclxuICB9XHJcbiAgY29uc3Qge3N0YXJ0LCBlbmR9ID0gbm9kZS5sb2M7XHJcbiAgbGV0IGJldHdlZW5MaW5lcyA9IGVzcHJpbWFDb29yZHMubGluZSA+PSBzdGFydC5saW5lICYmIGVzcHJpbWFDb29yZHMubGluZSA8PSBlbmQubGluZTtcclxuICBsZXQgb25TdGFydExpbmUgPSBlc3ByaW1hQ29vcmRzLmxpbmUgPT09IHN0YXJ0LmxpbmU7XHJcbiAgbGV0IG9uRW5kTGluZSA9IGVzcHJpbWFDb29yZHMubGluZSA9PT0gZW5kLmxpbmU7XHJcbiAgcmV0dXJuIGJldHdlZW5MaW5lcyBcclxuICAgICYmIGlmVGhlbihvblN0YXJ0TGluZSwgZXNwcmltYUNvb3Jkcy5jb2x1bW4gPj0gc3RhcnQuY29sdW1uKVxyXG4gICAgJiYgaWZUaGVuKG9uRW5kTGluZSwgZXNwcmltYUNvb3Jkcy5jb2x1bW4gPD0gZW5kLmNvbHVtbik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9ncmFtTm9kZXMoYXN0KSB7XHJcbiAgY29uc3Qgbm9kZXMgPSBbXTtcclxuICBlc3RyYXZlcnNlKGFzdCwge1xyXG4gICAgZW50ZXIobm9kZSwgcGFyZW50KSB7XHJcbiAgICAgIG5vZGVzLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG5vZGVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2lnbmVkTGl0ZXJhbE5vZGVzKGFzdCkge1xyXG4gIGNvbnN0IG5vZGVzID0gW107XHJcbiAgZXN0cmF2ZXJzZShhc3QsIHtcclxuICAgIGVudGVyKG5vZGUsIHBhcmVudCkge1xyXG4gICAgICBpZiAoTm9kZVAuaXNTaWduZWROdW1lcmljTGl0ZXJhbChub2RlKSkge1xyXG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIFZpc2l0b3JPcHRpb24uU2tpcDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBub2RlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVBdFBhdGgoYXN0LCBwYXRoKSB7XHJcbiAgaWYgKHBhdGgubGVuZ3RoICE9PSAwKSB7XHJcbiAgICByZXR1cm4gcHJvcGVydHkocGF0aCkoYXN0KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGFzdDtcclxuICB9XHJcbn1cclxuIiwiXHJcbmltcG9ydCBlc3ByaW1hIGZyb20gJ2VzcHJpbWEnO1xyXG5pbXBvcnQgZXNjb2RlZ2VuIGZyb20gJ2VzY29kZWdlbic7XHJcblxyXG4vLyBUT0RPIERlZmluZSB0aGUgbW9kZWwgb2YgdGhlIHByb2dyYW1zLlxyXG4vKlxyXG4gIEltbXV0YWJsZSBkYXRhIHN0cnVjdHVyZXM/XHJcbiAgICBUaGlzIHdvdWxkIGJlIGNvb2wgYW5kIGVuZm9yY2UgdGhhdCBwcm9ncmFtcyBhcmUgdmFsdWVzLlxyXG4gIFVuZGVyc3RhbmQgY29tbWVudHMgYW5kIGludGVncmF0ZSB0aGVtIGluIHRoZSByZXByZXNlbnRhdGlvbnMuXHJcbiAgSG93IHRvIHN1cHBvcnQgdGV4dCBhbmQgc3RydWN0dXJhbCBlZGl0aW5nP1xyXG4gICAgS2VlcCBvbmx5IG9uZSByZXByZXNlbnRhdGlvbj9cclxuICAgIEtlZXAgYm90aCByZXByZXNlbnRhdGlvbnMgYW5kIGtlZXAgdGhlbSBpbiBzeW5jP1xyXG4gICAgSW4gdGhlIGVuZCB0aGVyZSBpcyBhbHdheXMgYSB2YWxpZCBzdHJ1Y3R1cmUuXHJcbiAgICBPbmx5IHN5bnRhY3RpY2FsbHkgY29ycmVjdCBwcm9ncmFtcyBjYW4gYmUgb2JqZWN0cyBvZiB0aGVzZSBjbGFzc2VzP1xyXG4gICAgICBJbnRlcm1lZGlhdGUgdmVyc2lvbnMgYmVsb25nIHRvIGRpZmZlcmVudCBjbGFzc2VzP1xyXG4gICAgICBJbnRlcm1lZGlhdGUgdmVyc2lvbnMgYXJlIGhhbmRsZWQgYnkgVUk/XHJcbiAgICAgICAgVGV4dCBmcmFnbWVudHMgLT4gdmFsaWRhdGUgLT4gUHJvZ3JhbSBmcmFnbWVudHNcclxuICBIYXZlIGEgd3JhcHBlciwgYSBmYWNhZGUsIGZvciB3b3JraW5nIHdpdGggcHJvZ3JhbXM/XHJcbiAgUHJvZ3JhbVxyXG4gICAgU2NyaXB0XHJcbiAgSG93IGRvZXMgdGhlIHJ1bm5pbmcgYWxnb3JpdGhtIGFuZCBwcm9ncmFtcyBjb21tdW5pY2F0ZT9cclxuICAgIFJ1bm5pbmcgYWxnb3JpdGhtIHF1ZXJpZXMgcHJvZ3JhbSBhYm91dCBhc3RcclxuICAgIFJ1bm5pbmcgYWxnb3JpdGhtIGNyZWF0ZXMgYSBuZXcgcHJvZ3JhbSB3aXRoIHNvbWUgbW9kaWZpY2F0aW9ucyBmcm9tIHRoZSBvcmlnaW5hbFxyXG4gICAgICBCYXNpY2FsbHkgaXQgd291bGQgYmUgYSBtYXAgb3ZlciB0aGUgcHJvZ3JhbSB3aGljaCBjcmVhdGVzIGEgbmV3IHByb2dyYW0gdGhhdCBpcyB0aGUgb25lIHRoYXQgd2lsbCBiZSBldmFsdWF0ZWQuXHJcbiAgICAgIEluIG1vc3QgY2FzZXMsIGl0IGRvZXMgaGF2ZSB0byBjb2xsZWN0IHNvbWUgaW5mb3JtYXRpb24gYmVmb3JlIGFjdHVhbGx5IGNyZWF0aW5nIHRoZSBuZXcgcHJvZ3JhbS5cclxuICBIb3cgaXMgdGhlIHJ1bm5pbmcgYWxnb3JpdGhtIHVzZWQ/XHJcbiAgICBJdCBpcyB1c2VkIHRvIGtub3cgdGhpbmdzIGFib3V0IHRoZSBwcm9ncmFtIHRoYXQgb25seSBiZWNvbWUgYXZhaWxhYmxlIHdoZW4gaXQgcnVucy5cclxuICAgICAgVGhlIHJlc3VsdHMgaXQgZ2VuZXJhdGVzLlxyXG4gICAgICBUaGUgZW50aXJlIGV4ZWN1dGlvbiBjb250cm9sIGZsb3cuXHJcbiAgICAgIFRoZSBlbnRpcmUgZXhlY3V0aW9uIGRhdGEgZmxvdy5cclxuICBXaGF0IGNhbiB3ZSBrbm93IGJ5IGxvb2tpbmcgYXQgYSBwcm9ncmFtP1xyXG4gICAgVGhlIHZhcmlhYmxlIHNjb3BpbmcgaW5mb3JtYXRpb24uXHJcbiAgICBUaGUgZnVuY3Rpb25zIGl0IHVzZXMsIGJvdGggaW4gZXhwcmVzc2lvbiBhbmQgZGVjbGFyYXRpb24gZm9ybS5cclxuICAgIFBhcnRpYWwgaW5mb3JtYXRpb24gYWJvdXQgY29udHJvbCBmbG93IGFuZCBkYXRhIGZsb3cuXHJcbiAgICBIb3cgaXQgc2hvdWxkIGJlIHJ1bi5cclxuICAgIFdlIGNhbiBpbmZlciB0eXBlcy5cclxuKi9cclxuXHJcbmZ1bmN0aW9uIHNvdXJjZVRvQXN0KHNvdXJjZUNvZGUpIHtcclxuICBsZXQgYXN0ID0gZXNwcmltYS5wYXJzZShzb3VyY2VDb2RlLCB7bG9jOiB0cnVlLCBjb21tZW50OiB0cnVlfSk7XHJcbiAgcmV0dXJuIGFzdDtcclxufVxyXG5cclxuXHJcbmNvbnN0IGNvZGVUb0FzdCA9IG5ldyBNYXAoKTtcclxuXHJcbmZ1bmN0aW9uIG1lbW9pemVkU291cmNlVG9Bc3Qoc291cmNlQ29kZSkge1xyXG4gIGlmIChjb2RlVG9Bc3QuaGFzKHNvdXJjZUNvZGUpKSB7XHJcbiAgICByZXR1cm4gY29kZVRvQXN0LmdldChzb3VyY2VDb2RlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IGFzdCA9IHNvdXJjZVRvQXN0KHNvdXJjZUNvZGUpO1xyXG4gICAgY29kZVRvQXN0LnNldChzb3VyY2VDb2RlLCBhc3QpO1xyXG4gICAgcmV0dXJuIGFzdDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7bWVtb2l6ZWRTb3VyY2VUb0FzdCBhcyBzb3VyY2VUb0FzdH07XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkU291cmNlKHNvdXJjZUNvZGUpIHtcclxuICB0cnkge1xyXG4gICAgc291cmNlVG9Bc3Qoc291cmNlQ29kZSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXN0VG9Tb3VyY2UoYXN0KSB7XHJcbiAgcmV0dXJuIGVzY29kZWdlbi5nZW5lcmF0ZShhc3QpO1xyXG59XHJcbiIsIlxyXG4vLyBNeSBlc3RyZWUgdHJhdmVyc2VcclxuLy8gUGFzcyBpbiBhIHBhdGggdG8gdGhlIG5vZGUgaW5zdGVhZCBvZiAobm9kZSwgcGFyZW50KS5cclxuaW1wb3J0IHtub29wLCBmb3JFYWNofSBmcm9tICdsb2Rhc2gnO1xyXG5cclxuLy8gQ29waWVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9lc3Rvb2xzL2VzdHJhdmVyc2UvYmxvYi9tYXN0ZXIvZXN0cmF2ZXJzZS5qcyNMMjE4XHJcbmNvbnN0IFZpc2l0S2V5cyA9IHtcclxuICAgIEFzc2lnbm1lbnRFeHByZXNzaW9uOiBbJ2xlZnQnLCAncmlnaHQnXSxcclxuICAgIEFzc2lnbm1lbnRQYXR0ZXJuOiBbJ2xlZnQnLCAncmlnaHQnXSxcclxuICAgIEFycmF5RXhwcmVzc2lvbjogWydlbGVtZW50cyddLFxyXG4gICAgQXJyYXlQYXR0ZXJuOiBbJ2VsZW1lbnRzJ10sXHJcbiAgICBBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbjogWydwYXJhbXMnLCAnYm9keSddLFxyXG4gICAgQXdhaXRFeHByZXNzaW9uOiBbJ2FyZ3VtZW50J10sIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxyXG4gICAgQmxvY2tTdGF0ZW1lbnQ6IFsnYm9keSddLFxyXG4gICAgQmluYXJ5RXhwcmVzc2lvbjogWydsZWZ0JywgJ3JpZ2h0J10sXHJcbiAgICBCcmVha1N0YXRlbWVudDogWydsYWJlbCddLFxyXG4gICAgQ2FsbEV4cHJlc3Npb246IFsnY2FsbGVlJywgJ2FyZ3VtZW50cyddLFxyXG4gICAgQ2F0Y2hDbGF1c2U6IFsncGFyYW0nLCAnYm9keSddLFxyXG4gICAgQ2xhc3NCb2R5OiBbJ2JvZHknXSxcclxuICAgIENsYXNzRGVjbGFyYXRpb246IFsnaWQnLCAnc3VwZXJDbGFzcycsICdib2R5J10sXHJcbiAgICBDbGFzc0V4cHJlc3Npb246IFsnaWQnLCAnc3VwZXJDbGFzcycsICdib2R5J10sXHJcbiAgICBDb21wcmVoZW5zaW9uQmxvY2s6IFsnbGVmdCcsICdyaWdodCddLCAgLy8gQ0FVVElPTjogSXQncyBkZWZlcnJlZCB0byBFUzcuXHJcbiAgICBDb21wcmVoZW5zaW9uRXhwcmVzc2lvbjogWydibG9ja3MnLCAnZmlsdGVyJywgJ2JvZHknXSwgIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxyXG4gICAgQ29uZGl0aW9uYWxFeHByZXNzaW9uOiBbJ3Rlc3QnLCAnY29uc2VxdWVudCcsICdhbHRlcm5hdGUnXSxcclxuICAgIENvbnRpbnVlU3RhdGVtZW50OiBbJ2xhYmVsJ10sXHJcbiAgICBEZWJ1Z2dlclN0YXRlbWVudDogW10sXHJcbiAgICBEaXJlY3RpdmVTdGF0ZW1lbnQ6IFtdLFxyXG4gICAgRG9XaGlsZVN0YXRlbWVudDogWydib2R5JywgJ3Rlc3QnXSxcclxuICAgIEVtcHR5U3RhdGVtZW50OiBbXSxcclxuICAgIEV4cG9ydEFsbERlY2xhcmF0aW9uOiBbJ3NvdXJjZSddLFxyXG4gICAgRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uOiBbJ2RlY2xhcmF0aW9uJ10sXHJcbiAgICBFeHBvcnROYW1lZERlY2xhcmF0aW9uOiBbJ2RlY2xhcmF0aW9uJywgJ3NwZWNpZmllcnMnLCAnc291cmNlJ10sXHJcbiAgICBFeHBvcnRTcGVjaWZpZXI6IFsnZXhwb3J0ZWQnLCAnbG9jYWwnXSxcclxuICAgIEV4cHJlc3Npb25TdGF0ZW1lbnQ6IFsnZXhwcmVzc2lvbiddLFxyXG4gICAgRm9yU3RhdGVtZW50OiBbJ2luaXQnLCAndGVzdCcsICd1cGRhdGUnLCAnYm9keSddLFxyXG4gICAgRm9ySW5TdGF0ZW1lbnQ6IFsnbGVmdCcsICdyaWdodCcsICdib2R5J10sXHJcbiAgICBGb3JPZlN0YXRlbWVudDogWydsZWZ0JywgJ3JpZ2h0JywgJ2JvZHknXSxcclxuICAgIEZ1bmN0aW9uRGVjbGFyYXRpb246IFsnaWQnLCAncGFyYW1zJywgJ2JvZHknXSxcclxuICAgIEZ1bmN0aW9uRXhwcmVzc2lvbjogWydpZCcsICdwYXJhbXMnLCAnYm9keSddLFxyXG4gICAgR2VuZXJhdG9yRXhwcmVzc2lvbjogWydibG9ja3MnLCAnZmlsdGVyJywgJ2JvZHknXSwgIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxyXG4gICAgSWRlbnRpZmllcjogW10sXHJcbiAgICBJZlN0YXRlbWVudDogWyd0ZXN0JywgJ2NvbnNlcXVlbnQnLCAnYWx0ZXJuYXRlJ10sXHJcbiAgICBJbXBvcnREZWNsYXJhdGlvbjogWydzcGVjaWZpZXJzJywgJ3NvdXJjZSddLFxyXG4gICAgSW1wb3J0RGVmYXVsdFNwZWNpZmllcjogWydsb2NhbCddLFxyXG4gICAgSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyOiBbJ2xvY2FsJ10sXHJcbiAgICBJbXBvcnRTcGVjaWZpZXI6IFsnaW1wb3J0ZWQnLCAnbG9jYWwnXSxcclxuICAgIExpdGVyYWw6IFtdLFxyXG4gICAgTGFiZWxlZFN0YXRlbWVudDogWydsYWJlbCcsICdib2R5J10sXHJcbiAgICBMb2dpY2FsRXhwcmVzc2lvbjogWydsZWZ0JywgJ3JpZ2h0J10sXHJcbiAgICBNZW1iZXJFeHByZXNzaW9uOiBbJ29iamVjdCcsICdwcm9wZXJ0eSddLFxyXG4gICAgTWV0YVByb3BlcnR5OiBbJ21ldGEnLCAncHJvcGVydHknXSxcclxuICAgIE1ldGhvZERlZmluaXRpb246IFsna2V5JywgJ3ZhbHVlJ10sXHJcbiAgICBNb2R1bGVTcGVjaWZpZXI6IFtdLFxyXG4gICAgTmV3RXhwcmVzc2lvbjogWydjYWxsZWUnLCAnYXJndW1lbnRzJ10sXHJcbiAgICBPYmplY3RFeHByZXNzaW9uOiBbJ3Byb3BlcnRpZXMnXSxcclxuICAgIE9iamVjdFBhdHRlcm46IFsncHJvcGVydGllcyddLFxyXG4gICAgUHJvZ3JhbTogWydib2R5J10sXHJcbiAgICBQcm9wZXJ0eTogWydrZXknLCAndmFsdWUnXSxcclxuICAgIFJlc3RFbGVtZW50OiBbICdhcmd1bWVudCcgXSxcclxuICAgIFJldHVyblN0YXRlbWVudDogWydhcmd1bWVudCddLFxyXG4gICAgU2VxdWVuY2VFeHByZXNzaW9uOiBbJ2V4cHJlc3Npb25zJ10sXHJcbiAgICBTcHJlYWRFbGVtZW50OiBbJ2FyZ3VtZW50J10sXHJcbiAgICBTdXBlcjogW10sXHJcbiAgICBTd2l0Y2hTdGF0ZW1lbnQ6IFsnZGlzY3JpbWluYW50JywgJ2Nhc2VzJ10sXHJcbiAgICBTd2l0Y2hDYXNlOiBbJ3Rlc3QnLCAnY29uc2VxdWVudCddLFxyXG4gICAgVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOiBbJ3RhZycsICdxdWFzaSddLFxyXG4gICAgVGVtcGxhdGVFbGVtZW50OiBbXSxcclxuICAgIFRlbXBsYXRlTGl0ZXJhbDogWydxdWFzaXMnLCAnZXhwcmVzc2lvbnMnXSxcclxuICAgIFRoaXNFeHByZXNzaW9uOiBbXSxcclxuICAgIFRocm93U3RhdGVtZW50OiBbJ2FyZ3VtZW50J10sXHJcbiAgICBUcnlTdGF0ZW1lbnQ6IFsnYmxvY2snLCAnaGFuZGxlcicsICdmaW5hbGl6ZXInXSxcclxuICAgIFVuYXJ5RXhwcmVzc2lvbjogWydhcmd1bWVudCddLFxyXG4gICAgVXBkYXRlRXhwcmVzc2lvbjogWydhcmd1bWVudCddLFxyXG4gICAgVmFyaWFibGVEZWNsYXJhdGlvbjogWydkZWNsYXJhdGlvbnMnXSxcclxuICAgIFZhcmlhYmxlRGVjbGFyYXRvcjogWydpZCcsICdpbml0J10sXHJcbiAgICBXaGlsZVN0YXRlbWVudDogWyd0ZXN0JywgJ2JvZHknXSxcclxuICAgIFdpdGhTdGF0ZW1lbnQ6IFsnb2JqZWN0JywgJ2JvZHknXSxcclxuICAgIFlpZWxkRXhwcmVzc2lvbjogWydhcmd1bWVudCddXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhdmVyc2UoYXN0LCB7ZW50ZXI9bm9vcCwgbGVhdmU9bm9vcH0pIHtcclxuICBmdW5jdGlvbiB2aXNpdCh0aGluZywgcGF0aCkge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpbmcpKSB7XHJcbiAgICAgIHZpc2l0QXJyYXkodGhpbmcsIHBhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlzaXROb2RlKHRoaW5nLCBwYXRoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHZpc2l0Tm9kZShub2RlLCBwYXRoKSB7XHJcbiAgICBsZXQga2V5cyA9IFZpc2l0S2V5c1tub2RlLnR5cGVdO1xyXG4gICAgZW50ZXIobm9kZSwgcGF0aCk7XHJcbiAgICBmb3JFYWNoKGtleXMsIGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub2RlW2tleV0pIHsgLy8gU29tZSBub2RlIGF0dHJpYnV0ZXMgY2FuIGJlIG51bGwgb24gYSB2YWxpZCBhc3QuXHJcbiAgICAgICB2aXNpdChub2RlW2tleV0sIFsuLi5wYXRoLCBrZXldKTsgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBsZWF2ZShub2RlLCBwYXRoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHZpc2l0QXJyYXkoYXJyYXksIHBhdGgpIHtcclxuICAgIGZvckVhY2goYXJyYXksIChlbCwgaSkgPT4ge1xyXG4gICAgICB2aXNpdChlbCwgWy4uLnBhdGgsIGldKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICB2aXNpdChhc3QsIFtdKTtcclxufVxyXG4iLCJcclxudmFyIGlkSW5kZXggPSAwO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0aWRHZW5lcmF0b3I6IHtcclxuXHRcdG5leHQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZEluZGV4ICs9IDE7XHJcblx0XHRcdHJldHVybiBcIiRcIitpZEluZGV4O1xyXG5cdFx0fVxyXG5cdH1cclxufTsiLCJcclxuZnVuY3Rpb24gc3luY2hyb25vdXNIdHRwUmVxdWVzdCh1cmwsIHBhcmFtcywgbWV0aG9kPVwiUE9TVFwiKSB7XHJcblx0Ly8gcHJlcGFyZSByZXF1ZXN0XHJcblx0bGV0IHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cdHJlcS5vcGVuKG1ldGhvZCwgdXJsLCBmYWxzZSk7XHJcblx0cmVxLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpO1xyXG5cdHJlcS5zZW5kKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xyXG5cdHJldHVybiBKU09OLnBhcnNlKHJlcS5yZXNwb25zZSk7XHJcbn1cclxuXHJcbi8vXHJcbi8vZnVuY3Rpb24gcHJpbWl0aXZlKGFyZ3MpXHJcbi8vVGhpcyBjb2RlIGlzIGNhbGxlZCBpbiBhIHVzZXIncyBwcm9ncmFtIHRvIG1ha2UgYSBwcmltaXRpdmUncyBpbnN0YW5jZS5cclxuLy9cclxuLy9mdW5jdGlvbiBwcmltaXRpdmUucmVhbGl6ZSgpXHJcbi8vVGhpcyBjb2RlIGlzIGNhbGxlZCB0byBtYWtlIGFub3RoZXIgcmVhbGl6YXRpb24gb2YgdGhlIHByaW1pdGl2ZSdzIGluc3RhbmNlIGluIHRoZSBDQUQuXHJcbi8vV2UgZG8gdGhpcyBiZWNhdXNlIGV2ZXJ5dGhpbmcgd2UgY2FsbCBpbiB0aGUgQ0FEIHdpbGwgYmUgZGlzcGxheWVkLlxyXG5cclxuXHJcbmltcG9ydCB7UHJpbWl0aXZlUHJvcH0gZnJvbSAnLi4vU2NlbmVHcmFwaC9wcmltaXRpdmVzLmpzJztcclxuXHJcbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHJlc3VsdCkge1xyXG5cdHJldHVybiBpc1NvbWV0aGluZyhyZXN1bHQpICYmIHJlbmRlcmFibGVGdW5jdGlvbnNbcmVzdWx0W1ByaW1pdGl2ZVByb3BdXSAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbmZ1bmN0aW9uIGlzU29tZXRoaW5nKHJlc3VsdCkge1xyXG5cdHJldHVybiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQgIT09IG51bGw7XHJcbn1cclxuLy90by10aHJlZSAtPiB0by1jYWRcclxuLy90by1jYWQoYXJyYXkpIC0+IGFycmF5Lm1hcCh0by1jYWQpXHJcbi8vdG8tY2FkKHByaW1pdGl2ZSkgLT4gcHJpbWl0aXZlLnJlYWxpemUoKVxyXG5mdW5jdGlvbiByZXN1bHRzVG9DQUQocmVzdWx0cykge1xyXG5cdGxldCBjYWRSZWZzID0gW107XHJcblx0Zm9yIChsZXQgcmVzdWx0IG9mIHJlc3VsdHMpIHtcclxuXHRcdGNhZFJlZnMucHVzaCh0b0NBRChyZXN1bHQpKTtcclxuXHR9XHJcblx0cmV0dXJuIHtjYWRSZWZzfTtcclxufVxyXG5mdW5jdGlvbiB0b0NBRChyZXN1bHQpIHtcclxuXHRsZXQgY2FkUmVmOyBcclxuXHRpZihpc1ByaW1pdGl2ZShyZXN1bHQpKXtcclxuXHRcdGNhZFJlZiA9IHJlbmRlcmFibGVGdW5jdGlvbnNbcmVzdWx0W1ByaW1pdGl2ZVByb3BdXShyZXN1bHQpO1xyXG5cdH0gZWxzZSBpZihBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcclxuXHRcdGNhZFJlZiA9IGFycmF5VG9DQUQocmVzdWx0KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2FkUmVmID0gbnVsbENBRE9iaigpO1xyXG5cdH1cclxuXHRyZXR1cm4gY2FkUmVmO1xyXG59XHJcbmZ1bmN0aW9uIG51bGxDQURPYmooKSB7XHJcblx0cmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gYXJyYXlUb0NBRChhcnJheSkge1xyXG5cdHJldHVybiBhcnJheS5tYXAocj0+dG9DQUQocikpO1xyXG59XHJcblxyXG5sZXQgcmVuZGVyYWJsZUZ1bmN0aW9ucyA9IHtcclxuXHRjb3JuZXJzQm94LFxyXG5cdGNlbnRlclNwaGVyZSxcclxuXHRjZW50ZXJzQ3lsaW5kZXIsXHJcblx0cmlnaHRDdWJvaWQsXHJcblx0Y29uZUZydXN0dW06IGNvbmVGcnVzdHVtUmVhbGl6ZXIsXHJcblx0cG9seWdvbjogcG9seWdvblJlYWxpemVyLFxyXG5cdGV4dHJ1c2lvbjogZXh0cnVzaW9uUmVhbGl6ZXIsXHJcblx0bW92ZSxcclxuXHRyb3RhdGU6IHJvdGF0ZVJlYWxpemVyXHJcbn07XHJcblxyXG5mdW5jdGlvbiBwYWNrUG9pbnQocCkge1xyXG5cdHJldHVybiBbcC54LCBwLnksIHAuel07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvcm5lcnNCb3goe3AxLCBwMn0pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcImNvcm5lcnMtYm94XCIsIHtcclxuXHRcdHAxOiBwYWNrUG9pbnQocDEpLFxyXG5cdFx0cDI6IHBhY2tQb2ludChwMilcclxuXHR9KTtcclxufVxyXG5mdW5jdGlvbiBjZW50ZXJTcGhlcmUoe2NlbnRlciwgcmFkaXVzfSkge1xyXG5cdHJldHVybiBzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwiY2VudGVyLXNwaGVyZVwiLCB7XHJcblx0XHRjZW50ZXI6IHBhY2tQb2ludChjZW50ZXIpLFxyXG5cdFx0cmFkaXVzXHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gY2VudGVyc0N5bGluZGVyKHtwMSwgcDIsIHJhZGl1c30pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcImNlbnRlcnMtY3lsaW5kZXJcIiwge1xyXG5cdFx0cDE6IHBhY2tQb2ludChwMSksXHJcblx0XHRwMjogcGFja1BvaW50KHAyKSxcclxuXHRcdHJhZGl1c1xyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJpZ2h0Q3Vib2lkKHtwMSwgcDIsIHdpZHRoLCBoZWlnaHR9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJyaWdodC1jdWJvaWRcIiwge1xyXG5cdFx0cDE6IHBhY2tQb2ludChwMSksXHJcblx0XHRwMjogcGFja1BvaW50KHAyKSxcclxuXHRcdHdpZHRoLFxyXG5cdFx0aGVpZ2h0XHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gY29uZUZydXN0dW1SZWFsaXplcih7cDEsIHAyLCByYWRUb3AsIHJhZEJvdH0pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcImNvbmUtZnJ1c3R1bVwiLCB7XHJcblx0XHRwMTogcGFja1BvaW50KHAxKSxcclxuXHRcdHAyOiBwYWNrUG9pbnQocDIpLFxyXG5cdFx0cmFkQm90LFxyXG5cdFx0cmFkVG9wXHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gcG9seWdvblJlYWxpemVyKHt2ZXJ0aWNlc30pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcInBvbHlnb25cIiwge1xyXG5cdFx0dmVydGljZXM6IHZlcnRpY2VzLm1hcChwYWNrUG9pbnQpXHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gZXh0cnVzaW9uUmVhbGl6ZXIoe3NoYXBlLCB2ZWN9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJleHRydXNpb25cIiwge1xyXG5cdFx0c2hhcGU6IHRvQ0FEKHNoYXBlKSxcclxuXHRcdHZlYzogcGFja1BvaW50KHZlYylcclxuXHR9KTtcclxufVxyXG5mdW5jdGlvbiBtb3ZlKHtzaGFwZSwgdmVjfSkge1xyXG5cdHJldHVybiBzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwibW92ZVwiLCB7XHJcblx0XHRzaGFwZTogdG9DQUQoc2hhcGUpLFxyXG5cdFx0dmVjOiBwYWNrUG9pbnQodmVjKVxyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJvdGF0ZVJlYWxpemVyKHtzaGFwZSwgYW5nLCBwLCB2ZWN9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJyb3RhdGVcIiwge1xyXG5cdFx0c2hhcGU6IHRvQ0FEKHNoYXBlKSxcclxuXHRcdGFuZyxcclxuXHRcdHA6IHBhY2tQb2ludChwKSxcclxuXHRcdHZlYzogcGFja1BvaW50KHZlYylcclxuXHR9KTtcclxufVxyXG5cclxuZXhwb3J0IHtyZXN1bHRzVG9DQUR9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmltcG9ydCB7cnVuUHJvZ3JhbVByaW1lMn0gZnJvbSAnLi9ydW5uaW5nLWlkZWEuanMnO1xyXG5pbXBvcnQge3RyYW5zZm9ybSBhcyBzYXZlVG9wTGV2ZWxUcmFuc2Zvcm19IGZyb20gJy4vSW5zdHJ1bWVudGF0aW9uL3NhdmUtdG9wLWxldmVsLXRyYW5zZm9ybS5qcyc7XHJcblxyXG5mdW5jdGlvbiBjZW50ZXJzQ3lsaW5kZXJQcmltaXRpdmUocDEsIHAyLCByYWRpdXMpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcImNlbnRlcnNDeWxpbmRlclwiLFxyXG5cdFx0cDEsXHJcblx0XHRwMixcclxuXHRcdHJhZGl1c1xyXG5cdH07XHJcbn1cclxuZnVuY3Rpb24gY2VudGVyU3BoZXJlUHJpbWl0aXZlKGNlbnRlciwgcmFkaXVzKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJjZW50ZXJTcGhlcmVcIixcclxuXHRcdGNlbnRlcixcclxuXHRcdHJhZGl1c1xyXG5cdH07XHJcbn1cclxuZnVuY3Rpb24gY29ybmVyc0JveFByaW1pdGl2ZShwMSwgcDIpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcImNvcm5lcnNCb3hcIixcclxuXHRcdHAxLFxyXG5cdFx0cDJcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIHJpZ2h0Q3Vib2lkUHJpbWl0aXZlKHAxLCB3aWR0aCwgaGVpZ2h0LCBwMikge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwicmlnaHRDdWJvaWRcIixcclxuXHRcdHAxLFxyXG5cdFx0d2lkdGgsXHJcblx0XHRoZWlnaHQsXHJcblx0XHRwMlxyXG5cdH07XHJcbn1cclxuZnVuY3Rpb24gY29uZUZydXN0dW1QcmltaXRpdmUocDEsIHJhZEJvdCwgcmFkVG9wLCBwMikge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwiY29uZUZydXN0dW1cIixcclxuXHRcdHAxLCBcclxuXHRcdHJhZEJvdCxcclxuXHRcdHJhZFRvcCxcclxuXHRcdHAyXHJcblx0fTtcclxufVxyXG5mdW5jdGlvbiBwb2x5Z29uUHJpbWl0aXZlKHZlcnRzKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJwb2x5Z29uXCIsXHJcblx0XHR2ZXJ0aWNlczogdmVydHNcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIGV4dHJ1c2lvblByaW1pdGl2ZShzaGFwZSwgdmVjKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJleHRydXNpb25cIixcclxuXHRcdHNoYXBlLFxyXG5cdFx0dmVjXHJcblx0fTtcclxufVxyXG5mdW5jdGlvbiB0cmFuc2xhdGVQcmltaXRpdmUoc2hhcGUsIHZlYykge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwibW92ZVwiLFxyXG5cdFx0c2hhcGUsXHJcblx0XHR2ZWNcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIHJvdGF0ZVByaW1pdGl2ZShzaGFwZSwgYW5nLCBwLCB2ZWMpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcInJvdGF0ZVwiLFxyXG5cdFx0c2hhcGUsXHJcblx0XHRhbmcsXHJcblx0XHRwLFxyXG5cdFx0dmVjXHJcblx0fTtcclxufVxyXG5cclxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBzZXF1ZW5jZSBmcm9tICcuLi9TY2VuZUdyYXBoL1ByZWRlZnMvc2VxdWVuY2UuanMnO1xyXG5pbXBvcnQge3BvaW50LCB2ZWN0b3J9IGZyb20gJy4uL1NjZW5lR3JhcGgvUHJlZGVmcy9wb2ludC12ZWN0b3ItbWF0cml4LmpzJztcclxuaW1wb3J0IHJhbmRvbSBmcm9tICcuLi9TY2VuZUdyYXBoL1ByZWRlZnMvcmFuZG9tLmpzJztcclxuaW1wb3J0IG1hdGggZnJvbSAnLi4vU2NlbmVHcmFwaC9QcmVkZWZzL21hdGguanMnO1xyXG5pbXBvcnQgZnVuY3Rpb25hbCBmcm9tICcuLi9TY2VuZUdyYXBoL1ByZWRlZnMvZnVuY3Rpb25hbC5qcyc7XHJcblxyXG5jb25zdCBjeWxpbmRlciA9IHt9O1xyXG5jeWxpbmRlci5ieUNlbnRlcnNSYWRpdXMgPSBmdW5jdGlvbihbYzEsIGMyXSwgcmFkaXVzKSB7XHJcblx0cmV0dXJuIGNlbnRlcnNDeWxpbmRlclByaW1pdGl2ZShjMSwgYzIsIHJhZGl1cyk7XHJcbn07XHJcbmN5bGluZGVyLmJ5Qm90dG9tUmFkaXVzSGVpZ2h0ID0gZnVuY3Rpb24gKGJvdHRvbSwgcmFkaXVzLCBoZWlnaHQpIHtcclxuXHRsZXQgdG9wID0gdmVjdG9yLmFkZChib3R0b20sIHZlY3Rvci5ieVhZWigwLCAwLCBoZWlnaHQpKTtcclxuXHRyZXR1cm4gY2VudGVyc0N5bGluZGVyUHJpbWl0aXZlKGJvdHRvbSwgdG9wLCByYWRpdXMpO1xyXG59O1xyXG5cclxuY29uc3Qgc3BoZXJlID0ge307XHJcbnNwaGVyZS5ieUNlbnRlclJhZGl1cyA9IGZ1bmN0aW9uKGNlbnRlciwgcmFkaXVzKSB7XHJcblx0cmV0dXJuIGNlbnRlclNwaGVyZVByaW1pdGl2ZShjZW50ZXIsIHJhZGl1cyk7XHJcbn07XHJcblxyXG5jb25zdCBib3ggPSB7fTtcclxuYm94LmJ5Q29ybmVycyA9IGZ1bmN0aW9uKFtjMSwgYzJdKSB7XHJcblx0cmV0dXJuIGNvcm5lcnNCb3hQcmltaXRpdmUoYzEsIGMyKTtcclxufTtcclxuYm94LmJ5Q29ybmVyWFlaID0gZnVuY3Rpb24oYywgW2R4LCBkeSwgZHpdKSB7XHJcblx0cmV0dXJuIGNvcm5lcnNCb3hQcmltaXRpdmUoYywgdmVjdG9yLmFkZChjLCB2ZWN0b3IuYnlYWVooZHgsIGR5LCBkeikpKTtcclxufTtcclxuYm94LmJ5Qm90dG9tV2lkdGhIZWlnaHRaID0gZnVuY3Rpb24ocCwgW3dpZHRoLCBoZWlnaHRdLCB6KSB7XHJcblx0cmV0dXJuIHJpZ2h0Q3Vib2lkUHJpbWl0aXZlKHAsIHdpZHRoLCBoZWlnaHQsIHZlY3Rvci5hZGQocCwgdmVjdG9yLmJ5Wih6KSkpO1xyXG59O1xyXG5ib3guYnlDZW50ZXJzV2lkdGhIZWlnaHQgPSBmdW5jdGlvbihbYzEsIGMyXSwgW3dpZHRoLCBoZWlnaHRdKSB7XHJcblx0cmV0dXJuIHJpZ2h0Q3Vib2lkUHJpbWl0aXZlKGMxLCB3aWR0aCwgaGVpZ2h0LCBjMik7XHJcbn07XHJcbmJveC5ieVdpZHRoSGVpZ2h0RGVwdGggPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBkZXB0aCkge1xyXG5cdHJldHVybiByaWdodEN1Ym9pZFByaW1pdGl2ZSh2ZWN0b3IuYnlaKC1kZXB0aC8yLjApLCB3aWR0aCwgaGVpZ2h0LCB2ZWN0b3IuYnlaKGRlcHRoLzIuMCkpO1xyXG59O1xyXG5cclxuY29uc3QgY29uZUZydXN0dW0gPSB7fTtcclxuY29uZUZydXN0dW0uYnlCb3R0b21Ub3BSYWRpdXNlc0hlaWdodCA9IGZ1bmN0aW9uKHAsIHJhZEJvdCwgcmFkVG9wLCBoZWlnaHQpIHtcclxuXHRyZXR1cm4gY29uZUZydXN0dW1QcmltaXRpdmUocCwgcmFkQm90LCByYWRUb3AsIHBvaW50LmFkZChwLCB2ZWN0b3IuYnlaKGhlaWdodCkpKTtcclxufTtcclxuY29uZUZydXN0dW0uYnlCb3R0b21SYWRpdXNUb3BSYWRpdXMgPSBmdW5jdGlvbihwMSwgcjEsIHAyLCByMikge1xyXG5cdHJldHVybiBjb25lRnJ1c3R1bVByaW1pdGl2ZShwMSwgcjEsIHIyLCBwMik7XHJcbn07XHJcblxyXG5jb25zdCBwb2x5Z29uID0ge307XHJcbnBvbHlnb24uc3VyZmFjZSA9IHt9O1xyXG5wb2x5Z29uLnN1cmZhY2UuYnlWZXJ0aWNlcyA9IGZ1bmN0aW9uKHZlcnRzKSB7XHJcblx0cmV0dXJuIHBvbHlnb25QcmltaXRpdmUodmVydHMpO1xyXG59O1xyXG5cclxuY29uc3QgZXh0cnVzaW9uID0ge307XHJcbmV4dHJ1c2lvbi5ieVN1cmZhY2VWZWN0b3IgPSBmdW5jdGlvbihzdXJmLCB2ZWMpIHtcclxuXHRyZXR1cm4gZXh0cnVzaW9uUHJpbWl0aXZlKHN1cmYsIHZlYyk7XHJcbn07XHJcblxyXG5cclxuY29uc3QgdHJhbnNsYXRlID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdGJ5VmVjdG9yOiAodmVjKT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlUHJpbWl0aXZlKG9iamVjdCwgdmVjKTtcclxuXHRcdH0sXHJcblx0XHRieVhZWjogKHgsIHksIHopPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVQcmltaXRpdmUob2JqZWN0LCB2ZWN0b3IuYnlYWVooeCwgeSwgeikpO1xyXG5cdFx0fSxcclxuXHRcdGJ5WDogKHgpPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVQcmltaXRpdmUob2JqZWN0LCB2ZWN0b3IuYnlYKHgpKTtcclxuXHRcdH0sXHJcblx0XHRieVk6ICh5KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlUHJpbWl0aXZlKG9iamVjdCwgdmVjdG9yLmJ5WSh5KSk7XHJcblx0XHR9LFxyXG5cdFx0YnlaOiAoeik9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZVByaW1pdGl2ZShvYmplY3QsIHZlY3Rvci5ieVooeikpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVZlY3RvciA9IGZ1bmN0aW9uKHZlYykge1xyXG5cdHJldHVybiBfLnBhcnRpYWwodHJhbnNsYXRlUHJpbWl0aXZlLCBfLCB2ZWMpO1xyXG59XHJcbnRyYW5zbGF0ZS5ieVhZWiA9IGZ1bmN0aW9uKHgsIHksIHopIHtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZVByaW1pdGl2ZSwgXywgdmVjdG9yLmJ5WFlaKHgsIHksIHopKTtcclxufTtcclxudHJhbnNsYXRlLmJ5WCA9IGZ1bmN0aW9uKHgpe1xyXG5cdHJldHVybiBfLnBhcnRpYWwodHJhbnNsYXRlUHJpbWl0aXZlLCBfLCB2ZWN0b3IuYnlYKHgpKTtcclxufTtcclxudHJhbnNsYXRlLmJ5WSA9IGZ1bmN0aW9uKHkpe1xyXG5cdHJldHVybiBfLnBhcnRpYWwodHJhbnNsYXRlUHJpbWl0aXZlLCBfLCB2ZWN0b3IuYnlZKHkpKTtcclxufTtcclxudHJhbnNsYXRlLmJ5WiA9IGZ1bmN0aW9uKHope1xyXG5cdHJldHVybiBfLnBhcnRpYWwodHJhbnNsYXRlUHJpbWl0aXZlLCBfLCB2ZWN0b3IuYnlaKHopKTtcclxufTtcclxuXHJcbmNvbnN0IG9yaWdpbiA9IHZlY3Rvci5ieVooMCk7XHJcbmNvbnN0IHJvdGF0ZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdHJldHVybiB7XHJcblx0XHRhcm91bmRBeGlzQnlBbmdsZTogZnVuY3Rpb24oYXhpcywgcmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgYXhpcy5jZW50ZXIsIGF4aXMudmVjdG9yKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRBeGlzVmVjdG9yQnlBbmdsZTogZnVuY3Rpb24oYXhpc1ZlY3RvciwgcmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCBheGlzVmVjdG9yKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRYQnlBbmdsZTogZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCB2ZWN0b3IuYnlYKDEpKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRZQnlBbmdsZTogZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCB2ZWN0b3IuYnlZKDEpKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRaQnlBbmdsZTogZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCB2ZWN0b3IuYnlaKDEpKTtcclxuXHRcdH0sXHJcblx0XHRhbGlnbmluZ0F4ZXM6IGZ1bmN0aW9uKGZyb21BeGlzLCB0b0F4aXMpIHtcclxuXHRcdFx0bGV0IGRvdCA9IGZyb21BeGlzLmRvdCh0b0F4aXMpLFxyXG5cdFx0XHRcdGNyb3NzID0gKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmNyb3NzVmVjdG9ycyhmcm9tQXhpcywgdG9BeGlzKSxcclxuXHRcdFx0XHRjcm9zc0xlbmd0aCA9IGNyb3NzLmxlbmd0aCgpO1xyXG5cdFx0XHRpZiAoZG90ID09PSAwLjApIHtcclxuXHRcdFx0XHRyZXR1cm4gb2JqZWN0O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiByb3RhdGVQcmltaXRpdmUob2JqZWN0LCBNYXRoLmFjb3MoZG90KSwgb3JpZ2luLCBjcm9zcy5tdWx0aXBseVNjYWxhcigxL2Nyb3NzTGVuZ3RoKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59O1xyXG5yb3RhdGUuYXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGUgPSBmdW5jdGlvbihheGlzLCByYWRpYW5zKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgYXhpcyk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZFhCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiByb3RhdGVQcmltaXRpdmUob2JqZWN0LCByYWRpYW5zLCBvcmlnaW4sIHZlY3Rvci5ieVgoMSkpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hcm91bmRZQnlBbmdsZSA9IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCB2ZWN0b3IuYnlZKDEpKTtcclxuXHR9O1xyXG59O1xyXG5yb3RhdGUuYXJvdW5kWkJ5QW5nbGUgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgdmVjdG9yLmJ5WigxKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFsaWduaW5nQXhlcyA9IGZ1bmN0aW9uKGZyb21BeGlzLCB0b0F4aXMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRsZXQgZG90ID0gZnJvbUF4aXMuZG90KHRvQXhpcyksXHJcblx0XHRcdGNyb3NzID0gKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmNyb3NzVmVjdG9ycyhmcm9tQXhpcywgdG9BeGlzKSxcclxuXHRcdFx0Y3Jvc3NMZW5ndGggPSBjcm9zcy5sZW5ndGgoKTtcclxuXHRcdGlmIChkb3QgPT09IDAuMCkge1xyXG5cdFx0XHRyZXR1cm4gb2JqZWN0O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIE1hdGguYWNvcyhkb3QpLCBvcmlnaW4sIGNyb3NzLm11bHRpcGx5U2NhbGFyKDEvY3Jvc3NMZW5ndGgpKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5sZXQgcHJlZGVmaW5lZEJpbmRpbmdzID0gW1xyXG5cdHtuYW1lOiBcInNlcXVlbmNlXCIsIHZhbHVlOiBzZXF1ZW5jZX0sXHJcblx0e25hbWU6IFwiYm94XCIsIHZhbHVlOiBib3h9LFxyXG5cdHtuYW1lOiBcImN5bGluZGVyXCIsIHZhbHVlOiBjeWxpbmRlcn0sXHJcblx0e25hbWU6IFwic3BoZXJlXCIsIHZhbHVlOiBzcGhlcmV9LFxyXG5cdHtuYW1lOiBcImNvbmVGcnVzdHVtXCIsIHZhbHVlOiBjb25lRnJ1c3R1bX0sXHJcblx0e25hbWU6IFwicG9seWdvblwiLCB2YWx1ZTogcG9seWdvbn0sXHJcblx0e25hbWU6IFwiZXh0cnVzaW9uXCIsIHZhbHVlOiBleHRydXNpb259LFxyXG5cdHtuYW1lOiBcInBvaW50XCIsIHZhbHVlOiBwb2ludH0sXHJcblx0e25hbWU6IFwidmVjdG9yXCIsIHZhbHVlOiB2ZWN0b3J9LFxyXG5cdHtuYW1lOiBcInJhbmRvbVwiLCB2YWx1ZTogcmFuZG9tfSxcclxuXHR7bmFtZTogXCJtYXRoXCIsIHZhbHVlOiBtYXRofSxcclxuXHR7bmFtZTogXCJmdW5jdGlvbmFsXCIsIHZhbHVlOiBmdW5jdGlvbmFsfSxcclxuXHR7bmFtZTogXCJ0cmFuc2xhdGVcIiwgdmFsdWU6IHRyYW5zbGF0ZX0sXHJcblx0e25hbWU6IFwicm90YXRlXCIsIHZhbHVlOiByb3RhdGV9XHJcbl07XHJcblxyXG4vL1xyXG4vLyBSdW5uZXJcclxuLy9cclxuXHJcbmZ1bmN0aW9uIHJ1bkluQ2FkKHByb2dyYW0pIHtcclxuXHQvLyB1c2UgZGlmZmVyZW50IHByZWRlZmluZWQgZnVuY3Rpb25zIGFuZCBwcmltaXRpdmVzIChwcmltaXRpdmVzKVxyXG5cdC8vIHJ1biB0aGUgcHJvZ3JhbSBsb2NhbGx5IChydW5uaW5nLWlkZWEpXHJcblx0bGV0IFtzYXZlVG9wTGV2ZWxDb250ZXh0XSA9IHJ1blByb2dyYW1QcmltZTIocHJvZ3JhbSwgW3NhdmVUb3BMZXZlbFRyYW5zZm9ybV0sIHByZWRlZmluZWRCaW5kaW5ncyk7XHJcblx0bGV0IHJlc3VsdHMgPSBzYXZlVG9wTGV2ZWxDb250ZXh0LnRvcExldmVsRXhwclJlc3VsdHMudmFsdWVzKCk7XHJcblx0Ly8gZXhlY3V0ZSB0aGUgdG9wLWxldmVsIHJlc3VsdHMgd2l0aCB0aGUgQ0FEIEFQSSAodG8tdGhyZWUpXHJcblx0bGV0IHtjYWRSZWZzfSA9IHJlc3VsdHNUb0NBRChyZXN1bHRzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJDYWQoKSB7XHJcblx0c3luY2hyb25vdXNIdHRwUmVxdWVzdChcImVyYXNlLWFsbFwiLCB7fSwgXCJHRVRcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdENhZHMoY2Fkcykge1xyXG5cdHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJhY3RpdmUtYmFja2VuZHNcIiwge1xyXG5cdFx0YmFja2VuZHM6IGNhZHNcclxuXHR9LCBcIlBVVFwiKTtcclxufVxyXG5cclxuZXhwb3J0IHtydW5JbkNhZCwgY2xlYXJDYWQsIHNlbGVjdENhZHN9O1xyXG5cclxuIiwiXHJcbmltcG9ydCB7bm9kZUlkfSBmcm9tICcuL1BhcnNpbmcvbm9kZS1pZC5qcyc7XHJcbmltcG9ydCB7Z2V0Tm9kZUJ5SWR9IGZyb20gJy4vUGFyc2luZy9nZXROb2RlQnlJZC5qcyc7XHJcbmltcG9ydCB7c291cmNlVG9Bc3R9IGZyb20gJy4vUGFyc2luZy9wcm9ncmFtLmpzJztcclxuXHJcbi8vIGRlcGVuZGVuY2llczogcnVuLndpdGhUcmFjZWFiaWxpdHkgKyBQcm9ncmFtXHJcblxyXG4vKlxyXG4gID09PT09PT09UnVuIGNhcHR1cmVkIGluZm9ybWF0aW9uOj09PT09PT09PT09PT1cclxuICB0b3BsZXZlbHJlc3VsdHMgOjogQXN0Tm9kZSAtPiBQcm9ncmFtUmVzdWx0XHJcbiAgdHJhY2VjYWxsIDo6IEFzdE5vZGUgLT4gW0NhbGxUcmFjZUVsZW1lbnRdXHJcbiAgICBDYWxsVHJhY2VFbGVtZW50IDo6IChBc3ROb2RlLCBbUHJvZ3JhbVJlc3VsdF0sIFByb2dyYW1SZXN1bHQpXHJcbiovXHJcbi8qXHJcbiAgSSBnb3QgYSBwYXRoIHRvIGEgc3BlY2lmaWMgdXNlIG9mIGEgcmVzdWx0LiBcclxuICBwYXRoOiBbbGVhZiwgZmF0aGVyLCBncmFuZGZhdGhlcl1cclxuICBJIHdhbnQgdG8ga25vdyB3aGljaCBBc3ROb2RlIHdhcyB0aGUgY3JlYXRvciBvZiB0aGUgcmVzdWx0IGNsb3Nlc3QgdG8gbGVhZi5cclxuICBcclxuICBJdCBpcyBnYXJhbnRpZWQgdG8gaGF2ZSBiZWVuIHJldHVybmVkIGJ5IGEgbm9kZSwgdW5sZXNzIGl0IGlzIGEgXHJcbnByZWRlZmluZWQgb3IgcHJpbWl0aXZlIHZhbHVlLlxyXG5cclxuICBUaGUgcGF0aCBtYXkgY29udGFpbiByZXN1bHRzIHRoYXQgd2VyZSBub3QgcmV0dXJuZWQgYnkgdGhlbXNlbHZlcyBcclxuYnV0IHRocm91Z2ggdGhlaXIgcGFyZW50cy5cclxuICBXZSBoYXZlIHRvIGZpbmQgdGhlIGZpcnN0IHJlc3VsdCBvZiBwYXRoIHRoYXQgd2FzIHJldHVybmVkIGJ5IGEgbm9kZS5cclxuICBUaGVyZSBtYXkgYmUgc2V2ZXJhbCBub2RlcyB0aGF0IHJldHVybmVkIHRoZSByZXN1bHQuIFdlIHdhbnQgdG8gcmV0dXJuXHJcbnRoZSBmaXJzdCBub2RlIHRoYXQgcmV0dXJuZWQgaXQuXHJcblxyXG4gIEphdmFzY3JpcHQgTWFwIGl0ZXJhdGlvbiBmb2xsb3dzIGluc2VydGlvbiBvcmRlci4gVGhpcyBsZWFkcyB0bzpcclxuICAgIC0gV2hlbiBpdGVyYXRpbmcgdGhyb3VnaCB0cmFjZWFiaWxpdHlJbmZvLmNhbGxUcmFjZXMsIHdlIHZpc2l0IG5vZGVzIFxyXG4gIG9yZGVyZWQgYnkgdGhlIGZpcnN0IHRpbWUgdGhleSB3ZXJlIGV4ZWN1dGVkLiBcclxuICAgICAgLSBJbiBhIGZ1bmN0aW9uIGNhbGw6IGFyZ3VtZW50cyAtPiBib2R5IC0+IHJldHVyblxyXG4gICAgLSBFYWNoIG5vZGUncyBjYWxsVHJhY2VzIGFyZSB2aXNpdGVkIGJ5IGNyaWF0aW9uL2V4ZWN1dGlvbiBvcmRlci5cclxuKi9cclxuZnVuY3Rpb24gZ2V0UmVzdWx0Q3JlYXRvck5vZGUocmVzdWx0SW5zdGFuY2UsIHBhdGgsIHRyYWNlYWJpbGl0eVJlc3VsdHMsIHByb2dyYW0pIHtcclxuICBmdW5jdGlvbiByZXR1cm5lck5vZGVzKHJlc3VsdCkge1xyXG4gICAgY29uc3QgcmV0dXJuc1Jlc3VsdCA9IChbbm9kZSxjYWxsVHJhY2VzXSkgPT4gY2FsbFRyYWNlcy5zb21lKGM9PmMucmVzdWx0PT09cmVzdWx0KTtcclxuICAgIGxldCBub2Rlc0NhbGxUcmFjZXMgPSBBcnJheS5mcm9tKHRyYWNlYWJpbGl0eVJlc3VsdHMudHJhY2VhYmlsaXR5SW5mby5jYWxsVHJhY2VzLmVudHJpZXMoKSk7XHJcbiAgICByZXR1cm4gbm9kZXNDYWxsVHJhY2VzXHJcbiAgICAgIC5maWx0ZXIocmV0dXJuc1Jlc3VsdClcclxuICAgICAgLm1hcCgoW25vZGUsY2FsbFRyYWNlXSk9PmdldE5vZGVCeUlkKHByb2dyYW0sIG5vZGUpKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gd2FzUmV0dXJuZWRCeU5vZGUocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gcmV0dXJuZXJOb2RlcyhyZXN1bHQpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcbiAgLy9GaW5kIHRoZSBmaXJzdCByZXN1bHQgb2YgcGF0aCB0aGF0IHdhcyByZXR1cm5lZCBub2Rlcy5cclxuICAvL1JldHVybiB0aGUgZmlyc3Qgbm9kZSB0aGF0IHJldHVybmVkIHRoYXQgcmVzdWx0LlxyXG4gIC8vVE9ETyBGSVhNRSBHYXJhbnR5IHRoYXQgdGhlIHJldHVybmVkIG5vZGUgaXMgYWN0dWFsbHkgdGhlIG9uZSB0aGF0IGNyZWF0ZWQgdGhlIHJlc3VsdC5cclxuICBsZXQgY3VycmVudFJlc3VsdElkeCA9IDA7XHJcbiAgd2hpbGUoY3VycmVudFJlc3VsdElkeCA8IHBhdGgubGVuZ3RoKSB7XHJcbiAgICBsZXQgY3VycmVudFJlc3VsdCA9IHBhdGhbY3VycmVudFJlc3VsdElkeF07XHJcbiAgICBsZXQgcmV0dXJuZXJzID0gcmV0dXJuZXJOb2RlcyhjdXJyZW50UmVzdWx0KTtcclxuICAgIGlmKHJldHVybmVycy5sZW5ndGggIT09IDApIHtcclxuICAgICAgcmV0dXJuIHJldHVybmVyc1swXTtcclxuICAgIH1cclxuICAgIGN1cnJlbnRSZXN1bHRJZHgrKztcclxuICB9XHJcbiAgLy9PdGhlcndpc2UsIGRlZmF1bHQgdG8gdGhlIG5vZGUgdGhhdCByZXByZXNlbnQgdGhlIHdob2xlIHByb2dyYW0uXHJcbiAgcmV0dXJuIHNvdXJjZVRvQXN0KHByb2dyYW0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXROb2RlUmVzdWx0cyhub2RlLCBwYXRoLCB0cmFjZWFiaWxpdHlSZXN1bHRzKSB7XHJcbiAgLy9UT0RPIGdldE5vZGVSZXN1bHRzKCkgLT4gR2V0IHJlc3VsdHMgb2YgbW9yZSB0aGFuIGNhbGwgZXhwcmVzc2lvbnMuXHJcbiAgY29uc3Qgbm9kZUlkVG9DYWxsVHJhY2VzID0gdHJhY2VhYmlsaXR5UmVzdWx0cy50cmFjZWFiaWxpdHlJbmZvLmNhbGxUcmFjZXM7XHJcbiAgbGV0IG5vZGVzV2l0aFJlc3VsdHMgPSBwYXRoLmZpbHRlcihcclxuICAgIG5vZGUgPT4gbm9kZUlkVG9DYWxsVHJhY2VzLmhhcyhub2RlSWQobm9kZSkpKTtcclxuICBpZihub2Rlc1dpdGhSZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgIGxldCBjYWxsVHJhY2VzT2ZGaXJzdCA9IG5vZGVJZFRvQ2FsbFRyYWNlcy5nZXQobm9kZUlkKG5vZGVzV2l0aFJlc3VsdHNbMF0pKTtcclxuICAgIGxldCByZXN1bHRzT2ZGaXJzdCA9IGNhbGxUcmFjZXNPZkZpcnN0Lm1hcChjYWxsVHJhY2UgPT4gY2FsbFRyYWNlLnJlc3VsdCk7XHJcbiAgICByZXR1cm4gcmVzdWx0c09mRmlyc3Q7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Z2V0UmVzdWx0Q3JlYXRvck5vZGUsIGdldE5vZGVSZXN1bHRzfTtcclxuIiwiXHJcbmltcG9ydCBydW5Qcm9ncmFtIGZyb20gJy4vcnVubmluZy1pZGVhLmpzJztcclxuaW1wb3J0IHt0cmFuc2Zvcm0gYXMgdHJhY2VDYWxsfSBmcm9tICcuL0luc3RydW1lbnRhdGlvbi90cmFjZS1jYWxsLXRyYW5zZm9ybS5qcyc7XHJcbmltcG9ydCB7dHJhbnNmb3JtIGFzIHNhdmVUb3BMZXZlbH0gZnJvbSAnLi9JbnN0cnVtZW50YXRpb24vc2F2ZS10b3AtbGV2ZWwtdHJhbnNmb3JtLmpzJztcclxuXHJcbi8vXHJcbi8vIFRPRE8gSW5jcmVhc2UgY29oZXNpb24gb2YgcnVubmluZyBwcm9ncmFtcy4gXHJcbi8vXHRFeDogRG9uJ3QgcmV0dXJuIFRyYW5zZm9ybVJ1bm5pbmdDb250ZXh0cy4gUmV0dXJuIGFuIGFkYXB0ZXIsIG9yIHNpbWlsYXIsIHRoYXQgZXhwb3NlcyBvbmx5IHJlbGV2YW50IGluZm9ybWF0aW9uLlxyXG4vL1xyXG5cclxuZnVuY3Rpb24gcnVuV2l0aFRyYWNlYWJpbGl0eShwcm9ncmFtKSB7XHJcblx0dmFyIFtyZXN1bHRzLCB0cmFjZWFiaWxpdHlJbmZvXSA9IHJ1blByb2dyYW0oXHJcblx0XHRwcm9ncmFtLCBbc2F2ZVRvcExldmVsLCB0cmFjZUNhbGxdKTtcclxuXHRyZXR1cm4gbmV3IFByb2dyYW1SZXN1bHRzKHJlc3VsdHMsIHRyYWNlYWJpbGl0eUluZm8pO1xyXG59XHJcblxyXG4vL1xyXG4vLyBSdW4ganVzdCBmb3IgcmVzdWx0cy5cclxuLy8gVGhlIHJlc3VsdHMgb2YgYSBwcm9ncmFtIGFyZSB0aGUgdmFsdWVzIG9mIGl0cyB0b3AtbGV2ZWwgZXhwcmVzc2lvbnMuXHJcbi8vXHJcbmZ1bmN0aW9uIHJ1bihwcm9ncmFtKSB7XHJcblx0dmFyIFtyZXN1bHRzXSA9IHJ1blByb2dyYW0ocHJvZ3JhbSwgW3NhdmVUb3BMZXZlbF0pO1xyXG5cdHJldHVybiBuZXcgUHJvZ3JhbVJlc3VsdHMocmVzdWx0cyk7XHJcbn1cclxuXHJcbi8qKlxyXG5cdEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZnVuY3Rpb24gUHJvZ3JhbVJlc3VsdHMocmVzdWx0cywgdHJhY2VhYmlsaXR5SW5mbykge1xyXG5cdHRoaXMucmVzdWx0cyA9IHJlc3VsdHM7XHJcblx0dGhpcy50cmFjZWFiaWxpdHlJbmZvID0gdHJhY2VhYmlsaXR5SW5mbztcclxufVxyXG5cclxuZXhwb3J0IHtydW4gYXMgcnVuTm9ybWFsbHl9O1xyXG5leHBvcnQge3J1bldpdGhUcmFjZWFiaWxpdHl9O1xyXG5leHBvcnQge1Byb2dyYW1SZXN1bHRzfTtcclxuZXhwb3J0IGNvbnN0IGVtcHR5UmVzdWx0cyA9IG5ldyBQcm9ncmFtUmVzdWx0cyhcclxuXHR7dG9wTGV2ZWxFeHByUmVzdWx0czogbmV3IE1hcCgpfSxcclxuXHR7Y2FsbFRyYWNlczogbmV3IE1hcCgpfVxyXG4pO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBlc3ByaW1hIGZyb20gJ2VzcHJpbWEnO1xyXG5pbXBvcnQgZXN0cmF2ZXJzZSBmcm9tICdlc3RyYXZlcnNlJztcclxuaW1wb3J0IGVzY29kZWdlbiBmcm9tICdlc2NvZGVnZW4nO1xyXG5cclxuXHJcbmltcG9ydCB7Y29uc3RydWN0b3JzIGFzIE5vZGVzLCByZWNvZ25pemVycyBhcyBOb2RlUH0gZnJvbSAnLi9QYXJzaW5nL2FzdC11dGlscy5qcyc7XHJcbmltcG9ydCB7c291cmNlVG9Bc3R9IGZyb20gJy4vUGFyc2luZy9wcm9ncmFtLmpzJztcclxuaW1wb3J0IHtpZEdlbmVyYXRvcn0gZnJvbSAnLi9pZC1nZW5lcmF0b3IuanMnO1xyXG5cclxuaW1wb3J0IHByaW1pdGl2ZXMgZnJvbSAnLi4vU2NlbmVHcmFwaC9wcmltaXRpdmVzLmpzJztcclxuXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVByaW1pdGl2ZUltcG9ydENvZGUocHJpbWl0aXZlcykge1xyXG5cdHJldHVybiAoXHJcblx0XHRcInZhciBcIiBcclxuXHRcdCsgcHJpbWl0aXZlcy5tYXAoZnVuY3Rpb24ocHJpbWl0aXZlLCBpKXtcclxuXHRcdFx0XHRyZXR1cm4gXCJcIitwcmltaXRpdmUubmFtZStcIj1cIitcInByaW1pdGl2ZXNbXCIraStcIl0udmFsdWVcIjtcclxuXHRcdFx0fSkuam9pbihcIixcIikgXHJcblx0XHQrXHRcIjtcXG5cIik7XHJcbn1cclxuXHJcbi8vXHJcbi8vICoqKioqKioqKioqKioqKlxyXG4vLyBNYWluIGZ1bmN0aW9uISFcclxuLy8gKioqKioqKioqKioqKioqXHJcbi8vXHJcbmZ1bmN0aW9uIHJ1blByb2dyYW1QcmltZTIocHJvZ3JhbSwgdHJhbnNmb3JtcywgcHJlZGVmaW5lZEJpbmRpbmdzPXByaW1pdGl2ZXMpIHtcclxuXHQvL1xyXG5cdC8vIFRPRE86IE1hcCBub2RlSWRzIHRvIEFzdE5vZGVzLlxyXG5cdC8vICAgICAgIC0gT3B0aW9uIDE6IENvbnZlcnQgbm9kZUlkcyB0byBBc3ROb2RlcyBhZnRlciBydW5uaW5nLlxyXG5cdC8vICAgICAgIC0gT3B0aW9uIDI6IFByb3ZpZGUgYSBmdW5jdGlvbiB0byBnZXQgdGhlIEFzdE5vZGUgd2hlbiBydW5uaW5nIHRoZSBwcm9ncmFtLlxyXG5cdC8vICAgICAgIC0gT3B0aW9uIDM6IFByb3ZpZGUgYSBmdW5jdGlvbiBhbmQgYW4gYXJyYXkgd2l0aCBBc3ROb2RlcyBpbiBwcmVvcmRlci5cclxuXHQvLyBUT0RPOiBIYW5kbGUgcnVudGltZSBleGNlcHRpb25zLlxyXG5cdC8vXHJcblx0dmFyIHByb2dyYW1Bc3QgPSBfLmNsb25lRGVlcChzb3VyY2VUb0FzdChwcm9ncmFtKSk7XHJcblxyXG5cdC8vZ2F0aGVyIG5vZGVzIGFmZmVjdGVkIGJ5IGVhY2ggdHJhbnNmb3JtXHJcblx0dmFyIG5vZGVzVG9JbnN0cnVtZW50ID0gbmV3IE1hcCh0cmFuc2Zvcm1zLm1hcCh0PT5bdCxuZXcgU2V0KCldKSk7XHJcblx0dHJhbnNmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xyXG5cdFx0dmFyIHRyYW5zZm9ybVNldCA9IG5vZGVzVG9JbnN0cnVtZW50LmdldCh0KTtcclxuXHRcdGVzdHJhdmVyc2UudHJhdmVyc2UocHJvZ3JhbUFzdCwge1xyXG5cdFx0XHRlbnRlcjogZnVuY3Rpb24obm9kZSwgcGFyZW50KSB7XHJcblx0XHRcdFx0aWYodC5zZWxlY3Qobm9kZSwgcGFyZW50KSkge1xyXG5cdFx0XHRcdFx0dHJhbnNmb3JtU2V0LmFkZChub2RlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cdFxyXG5cdHZhciBjb250ZXh0SWRzID0gbmV3IE1hcCh0cmFuc2Zvcm1zLm1hcCh0PT5bdCwgXCJjdHhfXCIraWRHZW5lcmF0b3IubmV4dCgpXSkpO1xyXG5cdC8vYXBwbHkgdHJhbnNmb3JtYXRpb25zLCBwYXNzaW5nIGNvbnRleHRJZCB0byBlYWNoIGZvciBhY2Nlc3MgdG8gdGhlaXIgY29udGV4dFxyXG5cdHRyYW5zZm9ybXMuZm9yRWFjaChmdW5jdGlvbih0KXtcclxuXHRcdHZhciB0cmFuc2Zvcm1TZXQgPSBub2Rlc1RvSW5zdHJ1bWVudC5nZXQodCk7XHJcblx0XHRlc3RyYXZlcnNlLnJlcGxhY2UocHJvZ3JhbUFzdCwge1xyXG5cdFx0XHRsZWF2ZTogZnVuY3Rpb24obm9kZSkge1xyXG5cdFx0XHRcdGlmKHRyYW5zZm9ybVNldC5oYXMobm9kZSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0LnRyYW5zZm9ybShub2RlLCBjb250ZXh0SWRzLmdldCh0KSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0Ly8gZ2VuZXJhdGUgcHJvZ3JhbSBjb2RlXHJcblx0dmFyIHByaW1pdGl2ZUltcG9ydENvZGUgPSBnZW5lcmF0ZVByaW1pdGl2ZUltcG9ydENvZGUocHJlZGVmaW5lZEJpbmRpbmdzKTtcclxuXHR2YXIgaW5zdHJ1bWVudGVkUHJvZ3JhbSA9IGVzY29kZWdlbi5nZW5lcmF0ZShwcm9ncmFtQXN0KTtcclxuXHRcclxuXHR2YXIgYm9keSA9IHByaW1pdGl2ZUltcG9ydENvZGUraW5zdHJ1bWVudGVkUHJvZ3JhbTtcclxuXHJcblx0Ly9jcmVhdGUgY29udGV4dHNcclxuXHR2YXIgY29udGV4dHMgPSB0cmFuc2Zvcm1zLm1hcCh0PT50Lm1ha2VDb250ZXh0KCkpO1xyXG5cdHZhciBhcmdzID0gQXJyYXkuZnJvbShjb250ZXh0SWRzLnZhbHVlcygpKS5jb25jYXQoXCJwcmltaXRpdmVzXCIpO1xyXG5cdHZhciBwcm9ncmFtRnVuY3Rpb24gPSBuZXcgRnVuY3Rpb24oYXJncywgYm9keSk7XHJcblx0cHJvZ3JhbUZ1bmN0aW9uLmFwcGx5KG51bGwsIGNvbnRleHRzLmNvbmNhdChbcHJlZGVmaW5lZEJpbmRpbmdzXSkpO1xyXG5cdHJldHVybiBjb250ZXh0cztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcnVuUHJvZ3JhbVByaW1lMjtcclxuZXhwb3J0IHtydW5Qcm9ncmFtUHJpbWUyfTtcclxuIiwiXHJcbmNvbnN0IGZ1bmN0aW9uYWwgPSB7fTtcclxuZnVuY3Rpb25hbC5jb21wb3NlID0gZnVuY3Rpb24oLi4uZm5zKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiBmbnMucmVkdWNlUmlnaHQoKHByZXYsIGZuKSA9PiBmbi5hcHBseShudWxsLCBbcHJldl0pLCBhcmdzKTtcclxuICB9O1xyXG59O1xyXG5cclxuLypcclxuICBAcGFyYW0ge1tib29sZWFuLCB0aHVua119IGNvbmRQYWlyc1xyXG4qL1xyXG5mdW5jdGlvbmFsLmNvbmQgPSBmdW5jdGlvbiBjb25kKGNvbmRQYWlycykge1xyXG4gIGxldCBpID0gMDtcclxuICB3aGlsZSAoaSA8IGNvbmRQYWlycy5sZW5ndGgpIHtcclxuICAgIGlmIChjb25kUGFpcnNbaV1bMF0pIHtcclxuICAgICAgcmV0dXJuIGNvbmRQYWlyc1tpXVsxXSgpO1xyXG4gICAgfVxyXG4gICAgaSsrO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uYWw7XHJcbiIsIlxyXG5jb25zdCBtYXRoID0ge307XHJcbm1hdGgubGVycCA9IGZ1bmN0aW9uIGxlcnAoYSwgYiwgdCkge1xyXG4gIHJldHVybiBhICsgKGItYSkqdDtcclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYXRoO1xyXG4iLCJcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmNvbnN0IG1hdHJpeCA9IHt9O1xyXG5tYXRyaXguaWRlbnRpdHkgPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xyXG5tYXRyaXgudHJhbnNsYXRpb24gPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcblx0cmV0dXJuIChuZXcgVEhSRUUuTWF0cml4NCgpKS5tYWtlVHJhbnNsYXRpb24oeCwgeSwgeik7XHJcbn07XHJcbm1hdHJpeC5yb3RhdGlvbiA9IGZ1bmN0aW9uKGF4aXNWZWN0b3IsIHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gKG5ldyBUSFJFRS5NYXRyaXg0KCkpLm1ha2VSb3RhdGlvbkF4aXMoYXhpc1ZlY3RvciwgcmFkaWFucyk7XHJcbn07XHJcbm1hdHJpeC5zY2FsaW5nID0gZnVuY3Rpb24oeEZhY3RvciwgeUZhY3RvciwgekZhY3Rvcikge1xyXG5cdHJldHVybiAobmV3IFRIUkVFLk1hdHJpeDQoKSkubWFrZVNjYWxlKHhGYWN0b3IsIHlGYWN0b3IsIHpGYWN0b3IpO1xyXG59O1xyXG5tYXRyaXgubXVsdGlwbHkgPSBmdW5jdGlvbihtMSwgbTIpIHtcclxuXHRyZXR1cm4gbTEuY2xvbmUoKS5tdWx0aXBseShtMik7XHJcbn07XHJcbm1hdHJpeC5iYXNpcyA9IGZ1bmN0aW9uKHhWZWN0b3IsIHlWZWN0b3IsIHpWZWN0b3IsIG9yaWdpbj1wb2ludC5ieVhZWigwLDAsMCkpIHtcclxuXHRsZXQgdG1wID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcclxuXHR0bXAubWFrZUJhc2lzKHhWZWN0b3IsIHlWZWN0b3IsIHpWZWN0b3IpO1xyXG5cdHRtcC5zZXRQb3NpdGlvbihvcmlnaW4pO1xyXG5cdHJldHVybiB0bXA7XHJcbn07XHJcbm1hdHJpeC5heGlzQ29zU2luQW5nbGUgPSBmdW5jdGlvbihheGlzVmVjdG9yLCBjb3NBbmdsZSwgc2luQW5nbGUpIHtcclxuXHQvL0Jhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvTWF0cml4L2luZGV4Lmh0bVxyXG5cdGxldCBhID0gYXhpc1ZlY3RvciwgYyA9IGNvc0FuZ2xlLCBzID0gc2luQW5nbGU7XHJcblx0bGV0IHQgPSAxLjAgLSBjO1xyXG5cclxuXHRsZXQgdG1wMSA9IGEueCphLnkqdCxcclxuXHRcdHRtcDIgPSBhLnoqcyxcclxuXHRcdHRtcDMgPSBhLngqYS56KnQsXHJcblx0XHR0bXA0ID0gYS55KnMsXHJcblx0XHR0bXA1ID0gYS55KmEueip0LFxyXG5cdFx0dG1wNiA9IGEueCpzO1xyXG5cclxuXHRsZXQgbWF0ciA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XHJcblx0bWF0ci5zZXQoXHJcblx0XHRjICsgYS54KmEueCp0LCB0bXAxIC0gdG1wMiwgICB0bXAzICsgdG1wNCwgICAwLjAsXHJcblx0XHR0bXAxICsgdG1wMiwgICBjICsgYS55KmEueSp0LCB0bXA1IC0gdG1wNiwgICAwLjAsXHJcblx0XHR0bXAzIC0gdG1wNCwgICB0bXA1ICsgdG1wNiwgICBjICsgYS56KmEueip0LCAwLjAsXHJcblx0XHQwLjAsICAgICAgICAgICAwLjAsICAgICAgICAgICAwLjAsICAgICAgICAgICAxLjApO1xyXG5cclxuXHRyZXR1cm4gbWF0cjtcclxufTtcclxubWF0cml4LmFsaWduRnJvbUF4aXNUb0F4aXMgPSBmdW5jdGlvbihmcm9tQXhpcywgdG9BeGlzKSB7XHJcblx0bGV0IGRvdCA9IGZyb21BeGlzLmRvdCh0b0F4aXMpLFxyXG5cdFx0Y3Jvc3MgPSAobmV3IFRIUkVFLlZlY3RvcjMoKSkuY3Jvc3NWZWN0b3JzKGZyb21BeGlzLCB0b0F4aXMpLFxyXG5cdFx0Y3Jvc3NMZW5ndGggPSBjcm9zcy5sZW5ndGgoKTtcclxuXHQvL1RPRE8gSW1wcm92ZSB2ZWN0b3IgY29saW5lYXJpdHkgY2hlY2suIFVzZSBhcHByb3hpbWF0ZSBlcXVhbGl0eS5cclxuXHRsZXQgYXJlQ29saW5lYXIgPSBjcm9zc0xlbmd0aCA9PT0gMC4wO1xyXG5cdGlmKGFyZUNvbGluZWFyKSB7XHJcblx0XHRsZXQgYXhpcyA9IG5ldyBUSFJFRS5WZWN0b3I0KDEuMCwgMC4wLCAwLjAsIDAuMCk7XHJcblx0XHRyZXR1cm4gZG90IDwgMC4wXHJcblx0XHRcdD9cdG1hdHJpeC5heGlzQ29zU2luQW5nbGUoYXhpcywgLTEuMCwgMC4wKVxyXG5cdFx0XHQ6IG1hdHJpeC5heGlzQ29zU2luQW5nbGUoYXhpcywgMS4wLCAwLjApO1xyXG5cdH1cdGVsc2Uge1xyXG5cdFx0bGV0IGF4aXMgPSBjcm9zcy5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKDEuMC9jcm9zc0xlbmd0aCk7XHJcblx0XHRyZXR1cm4gbWF0cml4LmF4aXNDb3NTaW5BbmdsZShheGlzLCBkb3QsIGNyb3NzTGVuZ3RoKTtcclxuXHR9XHJcbn07XHJcblxyXG5cclxuY29uc3QgdmVjdG9yID0ge307XHJcbnZlY3Rvci5ieVhZWiA9IGZ1bmN0aW9uKHgsIHksIHopIHtcclxuXHRyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjQoeCwgeSwgeiwgMC4wKTtcclxufTtcclxudmVjdG9yLmJ5WFkgPSBmdW5jdGlvbih4LCB5KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWih4LCB5LCAwKTtcclxufTtcclxudmVjdG9yLmJ5WVogPSBmdW5jdGlvbih5LCB6KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWigwLCB5LCB6KTtcclxufTtcclxudmVjdG9yLmJ5WCA9IGZ1bmN0aW9uKHgpIHtcclxuXHRyZXR1cm4gdmVjdG9yLmJ5WFlaKHgsIDAuMCwgMC4wKTtcclxufTtcclxudmVjdG9yLmJ5WSA9IGZ1bmN0aW9uKHkpIHtcclxuXHRyZXR1cm4gdmVjdG9yLmJ5WFlaKDAuMCwgeSwgMC4wKTtcclxufTtcclxudmVjdG9yLmJ5WiA9IGZ1bmN0aW9uKHopIHtcclxuXHRyZXR1cm4gdmVjdG9yLmJ5WFlaKDAuMCwgMC4wLCB6KTtcclxufTtcclxudmVjdG9yLmJ5UG9sYXIgPSBmdW5jdGlvbihyYWRpdXMsIHRoZXRhKSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWihyYWRpdXMqTWF0aC5jb3ModGhldGEpLCByYWRpdXMqTWF0aC5zaW4odGhldGEpLCAwKTtcclxufTtcclxudmVjdG9yLmJ5Q3lsaW5kcmljYWwgPSBmdW5jdGlvbihyYWRpdXMsIHRoZXRhLCBoZWlnaHQpIHtcclxuXHRyZXR1cm4gdmVjdG9yLmJ5WFlaKHJhZGl1cypNYXRoLmNvcyh0aGV0YSksIHJhZGl1cypNYXRoLnNpbih0aGV0YSksIGhlaWdodCk7XHJcbn07XHJcbnZlY3Rvci5ieVNwaGVyaWNhbCA9IGZ1bmN0aW9uKHJhZGl1cywgYXppbXV0aEFuZ2xlLCBwb2xhckFuZ2xlKSB7XHJcblx0bGV0IHNpblBvbGFyID0gTWF0aC5zaW4ocG9sYXJBbmdsZSk7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWihcclxuXHRcdHJhZGl1cypNYXRoLmNvcyhhemltdXRoQW5nbGUpKnNpblBvbGFyLFxyXG5cdFx0cmFkaXVzKk1hdGguc2luKGF6aW11dGhBbmdsZSkqc2luUG9sYXIsXHJcblx0XHRyYWRpdXMqTWF0aC5jb3MocG9sYXJBbmdsZSkpO1xyXG59O1xyXG52ZWN0b3IuYWRkID0gZnVuY3Rpb24odjEsIHYyKSB7XHJcblx0cmV0dXJuIHYxLmNsb25lKCkuYWRkKHYyKTtcclxufTtcclxudmVjdG9yLnN1YiA9IGZ1bmN0aW9uKHYxLCB2Mikge1xyXG5cdHJldHVybiB2MS5jbG9uZSgpLnN1Yih2Mik7XHJcbn07XHJcbnZlY3Rvci5kb3QgPSBmdW5jdGlvbih2MSwgdjIpIHtcclxuXHRyZXR1cm4gdjEuZG90KHYyKTtcclxufTtcclxudmVjdG9yLmNyb3NzID0gZnVuY3Rpb24odjEsIHYyKSB7XHJcblx0bGV0IHZlYzNSZXN1bHQgPSAobmV3IFRIUkVFLlZlY3RvcjMoKSkuY3Jvc3NWZWN0b3JzKHYxLCB2Mik7XHJcblx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KHZlYzNSZXN1bHQueCwgdmVjM1Jlc3VsdC55LCB2ZWMzUmVzdWx0LnosIDAuMCk7XHJcbn07XHJcbnZlY3Rvci5zY2FsZSA9IGZ1bmN0aW9uKHZlYywgc2NhbGFyKSB7XHJcblx0cmV0dXJuIHZlYy5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKHNjYWxhcik7XHJcbn07XHJcbnZlY3Rvci5sZW5ndGggPSBmdW5jdGlvbih2ZWMpIHtcclxuXHRyZXR1cm4gdmVjLmxlbmd0aCgpO1xyXG59XHJcbnZlY3Rvci5ub3JtYWxpemVkID0gZnVuY3Rpb24odmVjKSB7XHJcblx0cmV0dXJuIHZlYy5jbG9uZSgpLm5vcm1hbGl6ZSgpO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHBvaW50ID0ge307XHJcbnBvaW50LmJ5WFlaID0gZnVuY3Rpb24oeCwgeSwgeikge1xyXG5cdHJldHVybiBuZXcgVEhSRUUuVmVjdG9yNCh4LCB5LCB6LCAxLjApO1xyXG59O1xyXG5wb2ludC5ieVhZID0gZnVuY3Rpb24oeCwgeSkge1xyXG5cdHJldHVybiBwb2ludC5ieVhZWih4LCB5LCAwKTtcclxufTtcclxucG9pbnQuYnlYWiA9IGZ1bmN0aW9uKHgsIHopIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooeCwgMCwgeik7XHJcbn07XHJcbnBvaW50LmJ5WVogPSBmdW5jdGlvbih5LCB6KSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKDAsIHksIHopO1xyXG59O1xyXG5wb2ludC5ieVggPSBmdW5jdGlvbih4KSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKHgsIDAuMCwgMC4wKTtcclxufTtcclxucG9pbnQuYnlZID0gZnVuY3Rpb24oeSkge1xyXG5cdHJldHVybiBwb2ludC5ieVhZWigwLjAsIHksIDAuMCk7XHJcbn07XHJcbnBvaW50LmJ5WiA9IGZ1bmN0aW9uKHopIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooMC4wLCAwLjAsIHopO1xyXG59O1xyXG5wb2ludC5ieUN5bGluZHJpY2FsID0gZnVuY3Rpb24ocmFkaXVzLCB0aGV0YSwgaGVpZ2h0KSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKHJhZGl1cypNYXRoLmNvcyh0aGV0YSksIHJhZGl1cypNYXRoLnNpbih0aGV0YSksIGhlaWdodCk7XHJcbn07XHJcbnBvaW50LmJ5U3BoZXJpY2FsID0gZnVuY3Rpb24ocmFkaXVzLCBhemltdXRoQW5nbGUsIHBvbGFyQW5nbGUpIHtcclxuXHRsZXQgc2luUG9sYXIgPSBNYXRoLnNpbihwb2xhckFuZ2xlKTtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooXHJcblx0XHRyYWRpdXMqTWF0aC5jb3MoYXppbXV0aEFuZ2xlKSpzaW5Qb2xhcixcclxuXHRcdHJhZGl1cypNYXRoLnNpbihhemltdXRoQW5nbGUpKnNpblBvbGFyLFxyXG5cdFx0cmFkaXVzKk1hdGguY29zKHBvbGFyQW5nbGUpKTtcclxufTtcclxucG9pbnQueCA9IGZ1bmN0aW9uKHB0KSB7XHJcblx0cmV0dXJuIHB0Lng7XHJcbn07XHJcbnBvaW50LnkgPSBmdW5jdGlvbihwdCkge1xyXG5cdHJldHVybiBwdC55O1xyXG59O1xyXG5wb2ludC56ID0gZnVuY3Rpb24ocHQpIHtcclxuXHRyZXR1cm4gcHQuejtcclxufTtcclxucG9pbnQub3JpZ2luID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKDAsIDAsIDApO1xyXG59XHJcbnBvaW50LmFkZCA9IGZ1bmN0aW9uKHBvaW50LCB2ZWMpIHtcclxuXHRyZXR1cm4gcG9pbnQuY2xvbmUoKS5hZGQodmVjKTtcclxufTtcclxucG9pbnQuYWRkWCA9IGZ1bmN0aW9uKHB0LCB4KSB7XHJcblx0cmV0dXJuIHBvaW50LmFkZChwdCwgdmVjdG9yLmJ5WFlaKHgsIDAsIDApKTtcclxufTtcclxucG9pbnQuYWRkWFogPSBmdW5jdGlvbihwdCwgeCwgeikge1xyXG5cdHJldHVybiBwb2ludC5hZGQocHQsIHZlY3Rvci5ieVhZWih4LCAwLCB6KSk7XHJcbn07XHJcbnBvaW50LmFkZFogPSBmdW5jdGlvbihwdCwgeikge1xyXG5cdHJldHVybiBwb2ludC5hZGQocHQsIHZlY3Rvci5ieVhZWigwLCAwLCB6KSk7XHJcbn07XHJcbnBvaW50LnN1YiA9IGZ1bmN0aW9uKHAxLCBwMikge1xyXG5cdHJldHVybiBwMS5jbG9uZSgpLnN1YihwMik7XHJcbn07XHJcbnBvaW50LnN1YlogPSBmdW5jdGlvbihwdCwgeikge1xyXG5cdHJldHVybiBwb2ludC5zdWIocHQsIHZlY3Rvci5ieVhZWigwLCAwLCB6KSk7XHJcbn07XHJcbnBvaW50LnBvaW50UGx1c1ZlY3RvciA9IHBvaW50LmFkZDtcclxucG9pbnQucG9pbnRNaW51c1BvaW50ID0gcG9pbnQuc3ViO1xyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IHt2ZWN0b3IsIHBvaW50LCBtYXRyaXh9O1xyXG4iLCJcclxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcclxuXHJcbmNvbnN0IHJhbmRvbSA9IHt9O1xyXG5yYW5kb20uaW5SYW5nZSA9IGZ1bmN0aW9uKGxvd2VyLCB1cHBlcikge1xyXG5cdHJldHVybiBfLnJhbmRvbShsb3dlciwgdXBwZXIpO1xyXG59O1xyXG5yYW5kb20uaW50ZWdlciA9IGZ1bmN0aW9uKHVwcGVyKSB7XHJcblx0cmV0dXJuIF8ucmFuZG9tKE1hdGgudHJ1bmModXBwZXIpKTtcclxufTtcclxucmFuZG9tLmludGVnZXIuaW5SYW5nZSA9IGZ1bmN0aW9uKGxvd2VyLCB1cHBlcikge1xyXG5cdHJldHVybiBfLnJhbmRvbShNYXRoLnRydW5jKGxvd2VyKSwgTWF0aC50cnVuYyh1cHBlcikpO1xyXG59O1xyXG5yYW5kb20ucmVhbCA9IGZ1bmN0aW9uKHVwcGVyKSB7XHJcblx0cmV0dXJuIF8ucmFuZG9tKHVwcGVyLCB0cnVlKTtcclxufTtcclxucmFuZG9tLnJlYWwuaW5SYW5nZSA9IGZ1bmN0aW9uKGxvd2VyLCB1cHBlcikge1xyXG5cdHJldHVybiBfLnJhbmRvbShsb3dlciwgdXBwZXIsIHRydWUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tOyIsIlxyXG5jb25zdCBzZXF1ZW5jZSA9IHt9O1xyXG5zZXF1ZW5jZS5tYXAgPSBmdW5jdGlvbihmbiwgc2VxKSB7XHJcblx0cmV0dXJuIHNlcS5tYXAoZm4pO1xyXG59O1xyXG5zZXF1ZW5jZS5yZWR1Y2UgPSBmdW5jdGlvbihmbiwgc2VxLCBpbml0aWFsVmFsdWUpIHtcclxuXHRyZXR1cm4gc2VxLnJlZHVjZShmbiwgaW5pdGlhbFZhbHVlKTtcclxufTtcclxuLyoqXHJcblx0U3BsaXQgdGhlIFtzdGFydCwgZW5kXSBpbnRlcnZhbCBpbnRvIF9kaXZpc2lvbnNfIGludGVydmFscy5cclxuXHRUYWtlIHRoZSBzdGFydGluZyB2YWx1ZXMgb2YgZWFjaCBpbnRlcnZhbC5cclxuXHRJZiBfbGFzdF8gdGhlbiB0YWtlIGVuZCB2YWx1ZSBvZiBsYXN0IGludGVydmFsLlxyXG5cdEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgY29udGFpbmluZyBudW1iZXJzIHNwbGl0aW5nIHRoZSBpbnRlcnZhbFxyXG5cdFx0W3N0YXJ0LGVuZF0gaW50byBfZGl2aXNpb25zXyBlcXVhbGx5IHNpemVkIHBhcnRzLCBpbmNsdWRpbmcgX2VuZF8gaWYgXHJcblx0XHRfbGFzdF8gaXMgdHJ1ZS5cclxuKi9cclxuc2VxdWVuY2UuZGl2aXNpb24gPSBmdW5jdGlvbihzdGFydCwgZW5kLCBkaXZpc2lvbnMsIGxhc3Q9dHJ1ZSkge1xyXG5cdGxldCBzcGFjZSA9IChlbmQgLSBzdGFydCkvZGl2aXNpb25zO1xyXG5cdHJldHVybiBzZXF1ZW5jZS5jb3VudChsYXN0ID8gZGl2aXNpb25zKzEgOiBkaXZpc2lvbnMpXHJcblx0XHQubWFwKGkgPT4gc3RhcnQgKyBzcGFjZSppKTtcclxufTtcclxuLyoqXHJcblx0U2FtZSBhcyBkaXZpc2lvbihhLCBiLCBuKzEsIHRydWUpLlxyXG5cdEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgY29udGFpbmluZyBbYSwgZXZlbmx5U3BhY2VkVmFscyhuKSwgYl0uXHJcbiovXHJcbnNlcXVlbmNlLmN1dEludGVydmFsID0gZnVuY3Rpb24oYSwgYiwgbikge1xyXG5cdGZ1bmN0aW9uIGN1dHModGltZXMpIHtcclxuXHRcdGxldCBzcGFjaW5nID0gKGItYSkvKG4rMSk7XHJcblx0XHRyZXR1cm4gc2VxdWVuY2UuY291bnQodGltZXMpLm1hcChpID0+IGEgKyAoaSsxKSpzcGFjaW5nKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBbYSwgLi4uY3V0cyhuKSwgYl07XHJcbn07XHJcbi8qKlxyXG5cdFNhbWUgYXMgY3V0SW50ZXJ2YWwgYnV0IG4gaW5jbHVkZXMgX2FfIGFuZCBfYl8sIHRoYXQgaXMsIGN1dEludGVydmFsKGEsIGIsIG4tMikuXHJcblx0TGVuZ3RoIG9mIHJldHVybiBpcyBfbl8uXHJcblx0U2FtZSBhcyBkaXZpc2lvbihhLCBiLCBuLTEsIHRydWUpLlxyXG4qL1xyXG5zZXF1ZW5jZS5pbnRlcnZhbERpdmlzaW9uID0gZnVuY3Rpb24oYSwgYiwgbikge1xyXG5cdC8vW3hfMT1zdGFydCwgLi4uLCB4X249ZW5kXVxyXG5cdC8vIGEgPSAwLCBiID0gMTBcclxuXHQvLyAgbiA9IDBcclxuXHQvLyBbXVxyXG5cdC8vICBuID0gMVxyXG5cdC8vIFtOYU5dXHJcblx0Ly8gIG4gPSAyXHJcblx0Ly8gWzAsIDEwXVxyXG5cdC8vICBuID0gM1xyXG5cdC8vIFswLCA1LCAxMF1cclxuXHR2YXIgc3BhY2luZyA9IChiLWEpLyhuLTEpO1xyXG5cdHZhciByZXMgPSBbXTtcclxuXHRmb3IodmFyIGk9MDsgaTxuOyBpKyspIHtcclxuXHRcdHJlcy5wdXNoKGEraSpzcGFjaW5nKTtcclxuXHR9XHJcblx0cmV0dXJuIHJlcztcclxufTtcclxuLyoqXHJcblx0U2FtZSBhcyBpbnRlcnZhbERpdmlzaW9uIGV4Y2VwdCB3aXRoIG49MSAtPiBbKGErYikqMC41XS5cclxuKi9cclxuc2VxdWVuY2UuZXZlblZhbHNCZXR3ZWVuID0gZnVuY3Rpb24oYSwgYiwgbikge1xyXG5cdGlmIChuID09IDEpIHtcclxuXHRcdHJldHVybiBbYSArIChiLWEpKjAuNV07XHJcblx0fSBcclxuXHJcblx0cmV0dXJuIHNlcXVlbmNlLmNvdW50KG4pLm1hcChpID0+IGEgKyBpKihiLWEpLyhuLTEpKTtcclxufTtcclxuLyoqXHJcblx0QHJldHVybnMge0FycmF5fSBBbiBhcnJheSBjb250YWluaW5nIHRoZSBtaWRkbGUgb2YgYWxsIHNlZ21lbnRzIFxyXG5cdFx0ZnJvbSBjdXR0aW5nIFthLCBiXSBpbnRvIF9zZWdzXyBzZWdtZW50cy5cclxuKi9cclxuc2VxdWVuY2UuaW50ZXJ2YWxNaWRkbGVzID0gZnVuY3Rpb24oYSwgYiwgc2Vncykge1xyXG5cdGxldCB0b3RhbFNwYWNlID0gKGIgLSBhKTtcclxuXHRsZXQgc2VnbWVudFNwYWNlID0gdG90YWxTcGFjZS9zZWdzO1xyXG5cdGxldCBjdXRQb3NpdGlvbiA9IHNlZ21lbnRTcGFjZS8yO1xyXG5cdHJldHVybiBzZXF1ZW5jZS5jb3VudChzZWdzKS5tYXAoaSA9PiBhICsgY3V0UG9zaXRpb24gKyBpKnNlZ21lbnRTcGFjZSk7XHJcbn07XHJcbnNlcXVlbmNlLmNvdW50ID0gZnVuY3Rpb24obikge1xyXG5cdHZhciBhcnIgPSBbXTtcclxuXHR2YXIgaSA9IDA7XHJcblx0d2hpbGUoaTxuKSB7XHJcblx0XHRhcnIucHVzaChpKTtcclxuXHRcdGkrKztcclxuXHR9XHJcblx0cmV0dXJuIGFycjtcclxufTtcclxuc2VxdWVuY2UuemlwID0gZnVuY3Rpb24oLi4ubGlzdHMpIHtcclxuXHRjb25zdCBzbWFsbGVyTGVuZ3RoID0gTWF0aC5taW4oLi4ubGlzdHMubWFwKGxzdCA9PiBsc3QubGVuZ3RoKSk7XHJcblx0dmFyIGFyciA9IFtdO1xyXG5cdHZhciBpID0gMDtcclxuXHR3aGlsZShpPHNtYWxsZXJMZW5ndGgpIHtcclxuXHRcdGFyci5wdXNoKGxpc3RzLm1hcChsc3QgPT4gbHN0W2ldKSk7XHJcblx0XHRpKys7XHJcblx0fVxyXG5cdHJldHVybiBhcnI7XHJcbn07XHJcbi8qKlxyXG5cdEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgdGhlIHR1cGxlcyBmcm9tIGFwcGx5aW5nXHJcblx0XHR0aGUgY2FydGVzaWFuIHByb2R1Y3QgdG8gX2xpc3RzXy5cclxuKi9cclxuc2VxdWVuY2UuY2FydGVzaWFuUHJvZHVjdCA9IGZ1bmN0aW9uKC4uLmxzdHMpIHtcdFxyXG5cdGZ1bmN0aW9uIGNhcnRBdXgoLi4ubGlzdHMpIHtcclxuXHRcdGlmIChsaXN0cy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdGxldCBbbHN0LCAuLi5yZXN0XSA9IGxpc3RzO1xyXG5cdFx0XHRsZXQgc21hbGxlckNhcnRQcm9kID0gY2FydEF1eCguLi5yZXN0KTtcclxuXHRcdFx0cmV0dXJuIHNtYWxsZXJDYXJ0UHJvZFxyXG5cdFx0XHRcdC5tYXAodHVwbGUgPT4gbHN0Lm1hcChlbCA9PiBbZWwsIC4uLnR1cGxlXSkpXHJcblx0XHRcdFx0LnJlZHVjZSgocHJldiwgY3VyKSA9PiBbLi4uY3VyLCAuLi5wcmV2XSwgW10pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGxpc3RzWzBdLm1hcChlbCA9PiBbZWxdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBjYXJ0QXV4KC4uLmxzdHMpO1xyXG5cdC8qXHJcblx0Ly8gVGhpcyBjb2RlIHNob3VsZCBiZSBlcXVpdmFsZW50IHRvIHRoZSBhYm92ZSB3aGVuIGxzdHMubGVuZ3RoID09PSAyLlxyXG5cdHZhciBhcnIgPSBbXTtcclxuXHRmb3IobGV0IGk9MDsgaTxsMS5sZW5ndGg7IGkrKykge1xyXG5cdFx0Zm9yKGxldCBqPTA7IGo8bDIubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0YXJyLnB1c2goW2wxW2ldLCBsMltqXV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gYXJyO1xyXG5cdCovXHJcbn07XHJcbnNlcXVlbmNlLnJvdGF0ZSA9IGZ1bmN0aW9uKGxzdCwgb2Zmc2V0KSB7XHJcblx0ZnVuY3Rpb24gcG9zTW9kdWxvKGRpdmlkZW5kLCBkaXZpc29yKSB7XHJcblx0XHRyZXR1cm4gKChkaXZpZGVuZCVkaXZpc29yKStkaXZpc29yKSVkaXZpc29yO1xyXG5cdH1cclxuXHR2YXIgYXJyID0gW107XHJcblx0Zm9yKGxldCBpPTA7IGk8bHN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRhcnIucHVzaChsc3RbcG9zTW9kdWxvKGkrb2Zmc2V0LCBsc3QubGVuZ3RoKV0pO1xyXG5cdH1cclxuXHRyZXR1cm4gYXJyO1xyXG59O1xyXG5zZXF1ZW5jZS5yb3RhdGVMZWZ0ID0gc2VxdWVuY2Uucm90YXRlO1xyXG5zZXF1ZW5jZS5yZXBlYXRUaW1lcyA9IGZ1bmN0aW9uKGVsZW0sIG4pIHtcclxuXHRsZXQgaT0wO1xyXG5cdGxldCBhcnIgPSBbXTtcclxuXHR3aGlsZShpPG4pIHtcclxuXHRcdGFyci5wdXNoKGVsZW0pO1xyXG5cdFx0aSsrO1xyXG5cdH1cclxuXHRyZXR1cm4gYXJyO1xyXG59O1xyXG4vKipcclxuXHRAcmV0dXJucyB7QXJyYXl9IEFuIEFycmF5IGNvbnRhaW5pbmcgdGhlIGVsZW1lbnRzIG9mIGFsbCBfbGlzdHNfXHJcblx0XHRmb2xsb3dpbmcgdGhlIG9yZGVyIGwxWzBdLCAuLi4sIGxuWzBdLCAuLi4sIGwxW21dLCAuLi4sIGxrW21dLFxyXG5cdFx0d2hlcmUgbGsgaXMgdGhlIGxpc3QgYmVmb3JlIGZpcnN0IGxpc3QgdGhhdCBsYWNrcyB0aGUgbXRoIGVsZW1lbnQuXHJcbiovXHJcbnNlcXVlbmNlLmludGVybGVhdmUgPSBmdW5jdGlvbiBpbnRlcmxlYXZlKC4uLmxpc3RzKSB7XHJcblx0bGV0IHJlcyA9IFtdO1xyXG5cdGxldCBzbWFsbGVzdExlbmd0aCA9IE1hdGgubWluLmFwcGx5KG51bGwsIGxpc3RzLm1hcChsc3QgPT4gbHN0Lmxlbmd0aCkpO1xyXG5cdGZvciAobGV0IGogPSAwOyBqIDwgc21hbGxlc3RMZW5ndGg7IGorKykge1xyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGk8bGlzdHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0cmVzLnB1c2gobGlzdHNbaV1bal0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRmb3IgKGxldCBpID0gMDsgbGlzdHNbaV0ubGVuZ3RoICE9PSBzbWFsbGVzdExlbmd0aDsgaSsrKSB7XHJcblx0XHRyZXMucHVzaChsaXN0c1tpXVtzbWFsbGVzdExlbmd0aF0pO1xyXG5cdH1cclxuXHRyZXR1cm4gcmVzO1xyXG59O1xyXG5zZXF1ZW5jZS5jb25jYXQgPSBmdW5jdGlvbiguLi5saXN0cykge1xyXG5cdHJldHVybiBbXS5jb25jYXQoLi4ubGlzdHMpO1xyXG59O1xyXG5zZXF1ZW5jZS5sZW5ndGggPSBmdW5jdGlvbihsc3QpIHtcclxuXHRyZXR1cm4gbHN0Lmxlbmd0aDtcclxufTtcclxuc2VxdWVuY2UuZHJvcCA9IGZ1bmN0aW9uKGxzdCwgbikge1xyXG5cdHJldHVybiBsc3Quc2xpY2Uobik7XHJcbn07XHJcbnNlcXVlbmNlLmRyb3BSaWdodCA9IGZ1bmN0aW9uKGxzdCwgbikge1xyXG5cdHJldHVybiBsc3Quc2xpY2UoMCwgbHN0Lmxlbmd0aC1uKTtcclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZXF1ZW5jZTsiLCJcclxuaW1wb3J0IHtDb2xvcn0gZnJvbSAndGhyZWUnO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tQ29sb3IoKSB7XHJcbiAgY29uc3QgYyA9IG5ldyBDb2xvcigpO1xyXG4gIGMuc2V0SFNMKE1hdGgucmFuZG9tKCksIDAuOCwgMC41KTtcclxuICByZXR1cm4gYztcclxufVxyXG5mdW5jdGlvbiBjb2xvckJ5SFNMKGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzKSB7XHJcbiBjb25zdCBjID0gbmV3IENvbG9yKCk7XHJcbiAgYy5zZXRIU0woaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpO1xyXG4gIHJldHVybiBjOyBcclxufVxyXG5jb25zdCBjb2xvciA9IHt9O1xyXG5jb2xvci5yYW5kb20gPSByYW5kb21Db2xvcjtcclxuY29sb3IuaHNsID0gY29sb3JCeUhTTDtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb2xvcjtcclxuIiwiXHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5leHBvcnQgY29uc3Qgc29saWRNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoKTtcclxuZXhwb3J0IGNvbnN0IHN1cmZhY2VNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoKTtcclxuc3VyZmFjZU1hdC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZTtcclxuIiwiXHJcbmltcG9ydCB7emlwLCBmbGF0dGVufSBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQge3NvbGlkTWF0fSBmcm9tICcuL2RlZmF1bHQtbWF0ZXJpYWxzLmpzJztcclxuXHJcbi8vIG5haXZlIHZlcnNpb246XHJcbi8vICAgYXNzdW1lcyBleHRydWRhYmxlIGhhcyB2ZXJ0aWNlcyBwcm9wZXJ0eVxyXG4vLyAgIGFzc3VtZXMgc3VyZmFjZSBleHRydWRhYmxlIChhbHdheXMgY2xvc2VkKVxyXG4vLyAgIGFzc3VtZXMgc3RhbmRhcmQgd2luZGluZyAoQ0NXKVxyXG4vLyAgIGFzc3VtZXMgY29udmV4IGV4dHJ1ZGFibGVcclxuXHJcbmZ1bmN0aW9uIGJvdW5kYXJ5U2VjdGlvbih2ZXJ0aWNlcykge1xyXG4gIHJldHVybiB7IHZlcnRpY2VzIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJvdW5kYXJ5U2VjdGlvbnNGcm9tQm91bmRhcnlWZXJ0aWNlcyh2ZXJ0aWNlcykge1xyXG4gIC8vIGR1cGxpY2FyIHZlcnRpY2VzIHBhcmEgY2FkYSBzbW9vdGggZ3JvdXBcclxuICAvLyBlbSBleHRydXPDo28gcG9saWdvbmFsIHRvZG9zIG9zIGxhZG9zIHTDqm0gc21vb3RoIGdyb3VwIGRpZmVyZW50ZVxyXG4gIC8vIE5vdGU6IEN1cnJlbmx5IG9ubHkgZm9yIGEgcG9seWdvbiBzdXJmYWNlLlxyXG4gIGxldCBzZWN0aW9ucyA9IFtdO1xyXG4gIGZvciAobGV0IHNlYz0wOyBzZWMgPCB2ZXJ0aWNlcy5sZW5ndGg7IHNlYysrKSB7XHJcbiAgICBzZWN0aW9ucy5wdXNoKGJvdW5kYXJ5U2VjdGlvbihbXHJcbiAgICAgIHZlcnRpY2VzW3NlY10sIFxyXG4gICAgICB2ZXJ0aWNlc1soc2VjKzEpJXZlcnRpY2VzLmxlbmd0aF1cclxuICAgIF0pKTtcclxuICB9XHJcbiAgcmV0dXJuIHNlY3Rpb25zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHRydWRhYmxlQm91bmRhcnkoZXh0cnVkYWJsZSkge1xyXG4gIGNvbnN0IHZlcnRzID0gZXh0cnVkYWJsZS5hcmdzLnZlcnRpY2VzO1xyXG4gIHJldHVybiB7XHJcbiAgICB2ZXJ0aWNlczogdmVydHMsXHJcbiAgICBzZWN0aW9uczogYm91bmRhcnlTZWN0aW9uc0Zyb21Cb3VuZGFyeVZlcnRpY2VzKHZlcnRzKSxcclxuICAgIGFkZFZlY3Rvcih2ZWN0b3IpIHtcclxuICAgICAgbGV0IG5ld1ZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcy5tYXAodiA9PiB2LmNsb25lKCkuYWRkKHZlY3RvcikpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZlcnRpY2VzOiBuZXdWZXJ0aWNlcyxcclxuICAgICAgICBzZWN0aW9uczogYm91bmRhcnlTZWN0aW9uc0Zyb21Cb3VuZGFyeVZlcnRpY2VzKG5ld1ZlcnRpY2VzKSxcclxuICAgICAgICBhZGRWZWN0b3I6IHRoaXMuYWRkVmVjdG9yXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gYm91bmRhcnlTdXJmYWNlTm9ybWFsKGJvdW5kYXJ5KSB7XHJcbiAgY29uc3QgdmVydHMgPSBib3VuZGFyeS52ZXJ0aWNlcztcclxuICBsZXQgdjBfMSA9IHZlcnRzWzFdLmNsb25lKCkuc3ViKHZlcnRzWzBdKTtcclxuICBsZXQgdjBfMiA9IHZlcnRzWzJdLmNsb25lKCkuc3ViKHZlcnRzWzBdKTtcclxuICByZXR1cm4gKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmNyb3NzVmVjdG9ycyh2MF8xLCB2MF8yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJpYW5nbGVGYW5GYWNlcyh2ZXJ0ZXhOdW0sIHJldmVyc2VkLCBvZmZzZXQpIHtcclxuICBsZXQgZmFjZXMgPSBbXTtcclxuICBmb3IgKGxldCB2MD0wLCB2MT12MCsxLCB2Mj12MCsyOyB2MiA8IHZlcnRleE51bTsgdjErKywgdjIrKykge1xyXG4gICAgaWYgKCFyZXZlcnNlZCkge1xyXG4gICAgICBmYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh2MCtvZmZzZXQsIHYxK29mZnNldCwgdjIrb2Zmc2V0KSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh2MCtvZmZzZXQsIHYyK29mZnNldCwgdjErb2Zmc2V0KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWNlcztcclxufVxyXG5cclxuLypcclxuICAgIEdlbmVyYXRlcyBhcnJheSBvZiBUSFJFRS5GYWNlMyBmb3IgYSBxdWFkIHN0cmlwIGNvbm5lY3RpbmcgdHdvIHNlcGFyYXRlXHJcbiAgbGluZSBzdHJpcHMuXHJcbiovXHJcbmZ1bmN0aW9uIHF1YWRTdHJpcEZhY2VzKHZlcnROdW0sIHJldmVyc2VkLCBvZmZzZXQxLCBvZmZzZXQyKSB7XHJcbiAgbGV0IGZhY2VzID0gW107XHJcbiAgZm9yIChsZXQgcXVhZD0wOyBxdWFkIDwgdmVydE51bS0xOyBxdWFkKyspIHtcclxuICAgIGxldCB2MSA9IG9mZnNldDEgKyBxdWFkLCBcclxuICAgICAgdjIgPSBvZmZzZXQxICsgcXVhZCArIDEsXHJcbiAgICAgIHYzID0gb2Zmc2V0MiArIHF1YWQgKyAxLFxyXG4gICAgICB2NCA9IG9mZnNldDIgKyBxdWFkO1xyXG4gICAgaWYgKCFyZXZlcnNlZCkge1xyXG4gICAgICBmYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh2MSwgdjIsIHYzKSk7XHJcbiAgICAgIGZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYzLCB2NCwgdjEpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYxLCB2MywgdjIpKTtcclxuICAgICAgZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTModjMsIHYxLCB2NCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZmFjZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJ1c2lvbkdlb21ldHJ5KGV4dHJ1ZGFibGUsIGRpc3BsYWNlbWVudCkge1xyXG4gIGxldCBnZW9tID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XHJcbiAgLy8gc2V0IHZlcnRpY2VzXHJcbiAgbGV0IHN0YXJ0Qm91bmRhcnkgPSBleHRydWRhYmxlQm91bmRhcnkoZXh0cnVkYWJsZSk7XHJcbiAgbGV0IGVuZEJvdW5kYXJ5ID0gc3RhcnRCb3VuZGFyeS5hZGRWZWN0b3IoZGlzcGxhY2VtZW50KTtcclxuICBsZXQgc3RhcnRWZXJ0aWNlcyA9IHN0YXJ0Qm91bmRhcnkudmVydGljZXM7XHJcbiAgbGV0IGVuZFZlcnRpY2VzID0gZW5kQm91bmRhcnkudmVydGljZXM7XHJcbiAgbGV0IHN0YXJ0U2VjdGlvbnMgPSBzdGFydEJvdW5kYXJ5LnNlY3Rpb25zO1xyXG4gIGxldCBlbmRTZWN0aW9ucyA9IGVuZEJvdW5kYXJ5LnNlY3Rpb25zO1xyXG4gIGxldCBzZWN0aW9uUGFpcnMgPSB6aXAoc3RhcnRTZWN0aW9ucywgZW5kU2VjdGlvbnMpO1xyXG4gIGxldCBzZWN0aW9uUGFpclZlcnRpY2VzID0gc2VjdGlvblBhaXJzLm1hcChcclxuICAgIChbczEsIHMyXSkgPT4gWy4uLnMxLnZlcnRpY2VzLCAuLi5zMi52ZXJ0aWNlc11cclxuICApO1xyXG4gIGxldCBhbGxTZWN0aW9uVmVydGljZXMgPSBmbGF0dGVuKHNlY3Rpb25QYWlyVmVydGljZXMpO1xyXG5cclxuICBnZW9tLnZlcnRpY2VzID0gW1xyXG4gICAgLi4uc3RhcnRWZXJ0aWNlcyxcclxuICAgIC4uLmVuZFZlcnRpY2VzLFxyXG4gICAgLi4uYWxsU2VjdGlvblZlcnRpY2VzXHJcbiAgXTtcclxuXHJcbiAgbGV0IHN0YXJ0Q2FwTm9ybWFsID0gYm91bmRhcnlTdXJmYWNlTm9ybWFsKHN0YXJ0Qm91bmRhcnkpO1xyXG4gIGxldCBzdGFydENhcFJldmVyc2VkID0gc3RhcnRDYXBOb3JtYWwuZG90KGRpc3BsYWNlbWVudCkgPiAwO1xyXG4gIGxldCBzdGFydENhcEZhY2VzID0gdHJpYW5nbGVGYW5GYWNlcyhzdGFydFZlcnRpY2VzLmxlbmd0aCwgc3RhcnRDYXBSZXZlcnNlZCwgMCk7XHJcbiAgbGV0IGVuZENhcEZhY2VzID0gdHJpYW5nbGVGYW5GYWNlcyhlbmRWZXJ0aWNlcy5sZW5ndGgsICFzdGFydENhcFJldmVyc2VkLCBzdGFydFZlcnRpY2VzLmxlbmd0aCk7XHJcblxyXG4gIGxldCBzZWN0aW9uUGFpclN0YXJ0aW5nT2Zmc2V0ID0gc3RhcnRWZXJ0aWNlcy5sZW5ndGggKyBlbmRWZXJ0aWNlcy5sZW5ndGg7XHJcbiAgbGV0IHNlY3Rpb25QYWlyVmVydGljZU9mZnNldHMgPSBzZWN0aW9uUGFpcnNcclxuICAgIC5tYXAoKFtzMSwgczJdKSA9PiBzMS52ZXJ0aWNlcy5sZW5ndGggKyBzMi52ZXJ0aWNlcy5sZW5ndGgpXHJcbiAgICAucmVkdWNlKFxyXG4gICAgICAocHJldiwgY3VycikgPT4gWy4uLnByZXYsIHByZXZbcHJldi5sZW5ndGgtMV0rY3Vycl0sIFxyXG4gICAgICBbc2VjdGlvblBhaXJTdGFydGluZ09mZnNldF1cclxuICAgICk7IC8vIHRoaXMgaXMgYSBzY2FuXHJcbiAgbGV0IHNlY3Rpb25QYWlyRmFjZXMgPSBzZWN0aW9uUGFpcnMubWFwKChbczEsIHMyXSwgaWR4KSA9PiB7XHJcbiAgICBsZXQgYmFzZU9mZnNldCA9IHNlY3Rpb25QYWlyVmVydGljZU9mZnNldHNbaWR4XTtcclxuICAgIHJldHVybiBxdWFkU3RyaXBGYWNlcyhzMS52ZXJ0aWNlcy5sZW5ndGgsICFzdGFydENhcFJldmVyc2VkLCBiYXNlT2Zmc2V0LCBiYXNlT2Zmc2V0K3MxLnZlcnRpY2VzLmxlbmd0aCk7XHJcbiAgfSk7XHJcbiAgbGV0IHNpZGVGYWNlcyA9IGZsYXR0ZW4oc2VjdGlvblBhaXJGYWNlcyk7XHJcblxyXG4gIGdlb20uZmFjZXMgPSBbXHJcbiAgICAuLi5zdGFydENhcEZhY2VzLFxyXG4gICAgLi4uZW5kQ2FwRmFjZXMsXHJcbiAgICAuLi5zaWRlRmFjZXNcclxuICBdO1xyXG5cclxuICAvLyBjb21wdXRlIG5vcm1hbHNcclxuICBnZW9tLmNvbXB1dGVGYWNlTm9ybWFscygpO1xyXG4gIGdlb20uY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcclxuICAvLyBjb21wdXRlIGJvdW5kaW5nIHNwaGVyZVxyXG4gIGdlb20uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7XHJcbiAgcmV0dXJuIGdlb207XHJcbn1cclxuXHJcbi8vIGV4dHJ1ZGUuc3VyZmFjZVxyXG4vLyBleHRydWRlLnBhdGhcclxuZnVuY3Rpb24gdG9UaHJlZUV4dHJ1c2lvbihyZXN1bHQpIHtcclxuICBjb25zdCBleHRydWRhYmxlID0gcmVzdWx0LmFyZ3MuZXh0cnVkYWJsZTtcclxuICBjb25zdCBkaXNwbGFjZW1lbnQgPSByZXN1bHQuYXJncy5kaXNwbGFjZW1lbnQ7XHJcbiAgbGV0IGdlb20gPSBleHRydXNpb25HZW9tZXRyeShleHRydWRhYmxlLCBkaXNwbGFjZW1lbnQpO1xyXG4gIGxldCBvYmogPSBuZXcgVEhSRUUuTWVzaChnZW9tLCBzb2xpZE1hdCk7XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZXhwb3J0IHt0b1RocmVlRXh0cnVzaW9uIGFzIGV4dHJ1c2lvbn07XHJcbiIsIlxyXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuZnVuY3Rpb24gbWFrZU1hdHJpeFRyYW5zZm9ybWVkT2JqZWN0M0QobWF0cml4KSB7XHJcblx0bGV0IG9iamVjdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG5cdG9iamVjdC5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XHJcblx0b2JqZWN0Lm1hdHJpeCA9IG1hdHJpeDtcclxuXHRyZXR1cm4gb2JqZWN0O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYWtlTWF0cml4VHJhbnNmb3JtZWRPYmplY3QzRDtcclxuIiwiXHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7c3VyZmFjZU1hdH0gZnJvbSAnLi9kZWZhdWx0LW1hdGVyaWFscy5qcyc7XHJcblxyXG4vLyBuYWl2ZSB2ZXJzaW9uOlxyXG4vLyAgYXNzdW1lcyB0aGF0IGEgY29udmV4IHBvbHlnb24gaXMgcHJvdmlkZWRcclxuLy8gIGFzc3VtZXMgdGhhdCBhbGwgdmVydGljZXMgYXJlIGNvcGxhbmFyXHJcblxyXG5mdW5jdGlvbiBwb2x5Z29uU3VyZmFjZUdlb21ldHJ5KHZlcnRpY2VzKSB7XHJcbiAgbGV0IGdlb20gPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcclxuICAvLyBzZXQgdmVydGljZXNcclxuICBnZW9tLnZlcnRpY2VzID0gdmVydGljZXM7XHJcbiAgLy8gc2V0IGZhY2VzIChHTF9UUklBTkdMRV9GQU4pXHJcbiAgY29uc3QgdjAgPSAwO1xyXG4gIGZvciAobGV0IHYxPTEsIHYyPTI7IHYyIDwgdmVydGljZXMubGVuZ3RoOyB2MSsrLCB2MisrKSB7XHJcbiAgICBnZW9tLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYwLCB2MSwgdjIpKTtcclxuICB9XHJcbiAgLy8gc2V0IG5vcm1hbHNcclxuICBnZW9tLmNvbXB1dGVGYWNlTm9ybWFscygpO1xyXG4gIGdlb20uY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcclxuICAvLyBzZXQgYm91bmRpbmcgc3BoZXJlXHJcbiAgZ2VvbS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcclxuICByZXR1cm4gZ2VvbTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9UaHJlZVBvbHlnb25TdXJmYWNlKHJlc3VsdCkge1xyXG4gIGNvbnN0IHZlcnRpY2VzID0gcmVzdWx0LmFyZ3MudmVydGljZXM7XHJcbiAgbGV0IGdlb20gPSBwb2x5Z29uU3VyZmFjZUdlb21ldHJ5KHZlcnRpY2VzKTtcclxuICBsZXQgb2JqID0gbmV3IFRIUkVFLk1lc2goZ2VvbSwgc3VyZmFjZU1hdCk7XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuZXhwb3J0IHt0b1RocmVlUG9seWdvblN1cmZhY2UgYXMgcG9seWdvblN1cmZhY2V9O1xyXG4iLCJcclxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcclxuXHJcbi8vVGhpcyBmaWxlIGRlZmluZXMgdGhlIHNldCBvZiBwcmltaXRpdmVzIHRoYXQgcHJvZ3JhbXMgd3JpdHRlbiBpbiB0aGUgSURFIGNhbiB1c2UuXHJcblxyXG4vL0FTQ0lJIGFydCBmb250IGlzIENvbG9zc2FsXHJcbi8vR2VuZXJhdGVkIHVzaW5nIGh0dHA6Ly9wYXRvcmprLmNvbS9zb2Z0d2FyZS90YWFnL1xyXG5cclxuLy8tIFByb3ZpZGUgbWVjaGFuaXNtXHJcbi8vLSBEZWNsYXJhdGlvbiBvZiBwbGFjZWhvbGRlcnMgZm9yIG9iamVjdHMgdGhhdCBhcmUgc3Bhd25lZCBsYXRlciBpbiB0by10aHJlZSBhbmQgdG8tY2FkXHJcbi8vLSBVc2VyIHByb2dyYW0gQVBJIHNwZWNpZmljYXRpb25cclxuLy8gICAtIHBvaW50cywgdmVjdG9ycywgdHJhbnNsYXRpb24sIHJvdGF0aW9uXHJcbi8vICAgLSBBUElzIGZvciBjcmVhdGluZyBvYmplY3RzXHJcblxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICBkOGIgICAgICA4ODggICAgICAgICAgXHJcbi8vODg4ICAgWTg4YiAgICAgICAgICAgICAgICAgICAgICAgICAgWThQICAgICAgODg4ICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICBcclxuLy84ODggICBkODhQIDg4OGQ4ODggLmQ4OGIuICA4ODggIDg4OCA4ODggIC5kODg4ODggIC5kODhiLiAgXHJcbi8vODg4ODg4OFBcIiAgODg4UFwiICBkODhcIlwiODhiIDg4OCAgODg4IDg4OCBkODhcIiA4ODggZDhQICBZOGIgXHJcbi8vODg4ICAgICAgICA4ODggICAgODg4ICA4ODggWTg4ICA4OFAgODg4IDg4OCAgODg4IDg4ODg4ODg4IFxyXG4vLzg4OCAgICAgICAgODg4ICAgIFk4OC4uODhQICBZOGJkOFAgIDg4OCBZODhiIDg4OCBZOGIuICAgICBcclxuLy84ODggICAgICAgIDg4OCAgICAgXCJZODhQXCIgICAgWTg4UCAgIDg4OCAgXCJZODg4ODggIFwiWTg4ODggIFxyXG4vL1xyXG4vL1xyXG4vL1xyXG5cclxuY29uc3QgUHJpbWl0aXZlUHJvcCA9IFN5bWJvbChcIlByaW1pdGl2ZU5hbWVcIik7XHJcblxyXG5jb25zdCByZWdpc3RyeSA9IHtcclxuXHRwcmltaXRpdmVzOiBbXSxcclxuXHRwcm92aWRlOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xyXG5cdFx0dGhpcy5wcmltaXRpdmVzLnB1c2goe1xyXG5cdFx0XHRuYW1lLFxyXG5cdFx0XHR2YWx1ZVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRkZWZQcmltaXRpdmU6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHJlYWxBcmd1bWVudHMgPSBhcmd1bWVudHM7XHJcblx0XHRcdHZhciBjYWxsQXJncyA9IHt9O1xyXG5cdFx0XHRhcmdzLmZvckVhY2goZnVuY3Rpb24ocGFyYW1OYW1lLCBpKXtcclxuXHRcdFx0XHRjYWxsQXJnc1twYXJhbU5hbWVdID0gaTxyZWFsQXJndW1lbnRzLmxlbmd0aCA/IHJlYWxBcmd1bWVudHNbaV0gOiB1bmRlZmluZWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFtQcmltaXRpdmVQcm9wXTogbmFtZSxcclxuXHRcdFx0XHRhcmdzOiBjYWxsQXJnc1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGRlZlByaW1pdGl2ZUFuZFByb3ZpZGU6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcclxuXHRcdGxldCBwcmltaXRpdmUgPSB0aGlzLmRlZlByaW1pdGl2ZShuYW1lLCBhcmdzKTtcclxuXHRcdHRoaXMucHJvdmlkZShuYW1lLCBwcmltaXRpdmUpO1xyXG5cdFx0cmV0dXJuIHByaW1pdGl2ZTtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByZWdpc3RyeS5wcmltaXRpdmVzO1xyXG5leHBvcnQge1ByaW1pdGl2ZVByb3B9O1xyXG5cclxuLy9ObyBwb2ludHMgd2hlbiBjcmVhdGluZyB0aGluZ3NcclxuLy9GdW5jdGlvbmFsIGJlaGF2aW9yXHJcblxyXG5cclxuXHJcbi8vODg4ICAgICA4ODggZDhiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmQ4ODg4OGIuICA4ODggICAgICAgZDhiICAgICAgICAgIFxyXG4vLzg4OCAgICAgODg4IFk4UCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDg4UFwiIFwiWTg4YiA4ODggICAgICAgWThQICAgICAgICAgIFxyXG4vLzg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICA4ODggODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy9ZODhiICAgZDg4UCA4ODggIC5kODhiLiAgODg4ICA4ODggIDg4OCAgICAgIDg4OCAgICAgODg4IDg4ODg4Yi4gIDg4ODggLmQ4ODg4YiAgXHJcbi8vIFk4OGIgZDg4UCAgODg4IGQ4UCAgWThiIDg4OCAgODg4ICA4ODggICAgICA4ODggICAgIDg4OCA4ODggXCI4OGIgXCI4ODggODhLICAgICAgXHJcbi8vICBZODhvODhQICAgODg4IDg4ODg4ODg4IDg4OCAgODg4ICA4ODggICAgICA4ODggICAgIDg4OCA4ODggIDg4OCAgODg4IFwiWTg4ODhiLiBcclxuLy8gICBZODg4UCAgICA4ODggWThiLiAgICAgWTg4YiA4ODggZDg4UCAgICAgIFk4OGIuIC5kODhQIDg4OCBkODhQICA4ODggICAgICBYODggXHJcbi8vICAgIFk4UCAgICAgODg4ICBcIlk4ODg4ICAgXCJZODg4ODg4OFBcIiAgICAgICAgXCJZODg4ODhQXCIgIDg4ODg4UFwiICAgODg4ICA4ODg4OFAnIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ4OFAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4UFwiICAgICAgICAgICBcclxuXHJcblxyXG4vL1RPRE8gRGVmaW5lIG1vcmUgcHJpbWl0aXZlcy5cclxuLy9wcmltaXRpdmVzXHJcbmNvbnN0IGJveFByaW1pdGl2ZSA9IHJlZ2lzdHJ5LmRlZlByaW1pdGl2ZShcImJveFwiLCBbXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcImRlcHRoXCJdKTtcclxuY29uc3Qgc3BoZXJlUHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwic3BoZXJlXCIsIFtcInJhZGl1c1wiXSk7XHJcbmNvbnN0IGN5bGluZGVyUHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwiY3lsaW5kZXJcIiwgW1wicmFkaXVzXCIsIFwiaGVpZ2h0XCJdKTtcclxuY29uc3QgcmVjdGFuZ2xlUHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwicmVjdGFuZ2xlXCIsIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCJdKTtcclxuY29uc3QgcG9seWdvblN1cmZhY2VQcmltaXRpdmUgPSByZWdpc3RyeS5kZWZQcmltaXRpdmUoXCJwb2x5Z29uU3VyZmFjZVwiLCBbXCJ2ZXJ0aWNlc1wiXSk7XHJcbmNvbnN0IGV4dHJ1c2lvblByaW1pdGl2ZSA9IHJlZ2lzdHJ5LmRlZlByaW1pdGl2ZShcImV4dHJ1c2lvblwiLCBbXCJleHRydWRhYmxlXCIsIFwiZGlzcGxhY2VtZW50XCJdKTtcclxuY29uc3QgdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInRyYW5zZm9ybU9iamVjdFdpdGhcIiwgW1wib2JqZWN0XCIsIFwidHJhbnNmb3JtXCJdKTtcclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwiY29uZVwiLCBbXCJyYWRpdXNcIiwgXCJoZWlnaHRcIl0pO1xyXG5jb25zdCBjb25lRnJ1c3R1bVByaW1pdGl2ZSA9IHJlZ2lzdHJ5LmRlZlByaW1pdGl2ZShcImNvbmVGcnVzdHVtXCIsIFtcImJvdHRvbVJhZGl1c1wiLCBcInRvcFJhZGl1c1wiLCBcImhlaWdodFwiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInJlZ3VsYXJQeXJhbWlkXCIsIFtcInNpZGVzXCIsIFwiaGVpZ2h0XCJdKTtcclxuXHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcImxpbmVcIiwgW1wib3JpZ2luXCIsIFwiZGlyZWN0aW9uXCJdKTtcclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwicG9seWxpbmVcIiwgW1wiY29vcmRpbmF0ZXNcIiwgXCJjbG9zZWRcIl0pO1xyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJzcGxpbmVcIiwgW1wiY29vcmRpbmF0ZXNcIiwgXCJjbG9zZWRcIl0pO1xyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJhcmNcIiwgW1wicmFkaXVzXCIsIFwiYW5nbGVcIl0pO1xyXG5cclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwiY2lyY2xlXCIsIFtcInJhZGl1c1wiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInBsYW5lXCIsIFtcIm9yaWdpblwiLCBcIm5vcm1hbFwiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInBvbHlnb25cIiwgW1wiY29vcmRpbmF0ZXNcIl0pO1xyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJyZWd1bGFyUG9seWdvblwiLCBbXCJyYWRpdXNcIiwgXCJzaWRlc1wiXSk7XHJcblxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgZDhiICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICBkODg4OCAgICAgICAgICBkOGIgICAgICAgICAgXHJcbi8vODg4ICAgWTg4YiAgICAgICAgIFk4UCAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICBkODg4ODggICAgICAgICAgWThQICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICBkODhQODg4ICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBkODhQIC5kODhiLiAgODg4IDg4ODg4Yi4gIDg4ODg4OCAuZDg4ODhiICAgICAgICAgICBkODhQIDg4OCA4ODggIDg4OCA4ODggLmQ4ODg4YiAgXHJcbi8vODg4ODg4OFBcIiBkODhcIlwiODhiIDg4OCA4ODggXCI4OGIgODg4ICAgIDg4SyAgICAgICAgICAgICAgZDg4UCAgODg4IGBZOGJkOFAnIDg4OCA4OEsgICAgICBcclxuLy84ODggICAgICAgODg4ICA4ODggODg4IDg4OCAgODg4IDg4OCAgICBcIlk4ODg4Yi4gICAgICAgIGQ4OFAgICA4ODggICBYODhLICAgODg4IFwiWTg4ODhiLiBcclxuLy84ODggICAgICAgWTg4Li44OFAgODg4IDg4OCAgODg4IFk4OGIuICAgICAgIFg4OCAgICAgICBkODg4ODg4ODg4OCAuZDhcIlwiOGIuIDg4OCAgICAgIFg4OCBcclxuLy84ODggICAgICAgIFwiWTg4UFwiICA4ODggODg4ICA4ODggIFwiWTg4OCAgODg4ODhQJyAgICAgIGQ4OFAgICAgIDg4OCA4ODggIDg4OCA4ODggIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5pbXBvcnQge3BvaW50LCB2ZWN0b3IsIG1hdHJpeH0gZnJvbSAnLi9QcmVkZWZzL3BvaW50LXZlY3Rvci1tYXRyaXguanMnO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwidmVjdG9yXCIsIHZlY3Rvcik7XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJwb2ludFwiLCBwb2ludCk7XHJcbi8vVE9ETyBDaGVjayBpZiBhbGwgdmVjdG9yIG9wZXJhdGlvbnMgYXJlIGltcGxlbWVudGVkIGFuZCBhdmFpbGFibGUuXHJcblxyXG5cclxuXHJcbmNvbnN0IGF4aXMgPSB7fTtcclxuYXhpcy5ieVBvaW50VmVjdG9yID0gZnVuY3Rpb24ocG9pbnQsIHZlYykge1xyXG5cdHJldHVybiB7XHJcblx0XHRvcmlnaW46IHBvaW50LFxyXG5cdFx0dmVjdG9yOiB2ZWMsXHJcblx0XHRkaXJlY3Rpb246IHZlY3Rvci5ub3JtYWxpemVkKHZlYylcclxuXHR9O1xyXG59O1xyXG5heGlzLnggPSBheGlzLmJ5UG9pbnRWZWN0b3IocG9pbnQuYnlYWVooMCwgMCwgMCksIHZlY3Rvci5ieVhZWigxLCAwLCAwKSk7XHJcbmF4aXMueSA9IGF4aXMuYnlQb2ludFZlY3Rvcihwb2ludC5ieVhZWigwLCAwLCAwKSwgdmVjdG9yLmJ5WFlaKDAsIDEsIDApKTtcclxuYXhpcy56ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMCwgMCwgMSkpO1xyXG5heGlzLnh5ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMSwgMSwgMCkpO1xyXG5heGlzLnh6ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMSwgMCwgMSkpO1xyXG5heGlzLnl6ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMCwgMSwgMSkpO1xyXG5heGlzLnh5eiA9IGF4aXMuYnlQb2ludFZlY3Rvcihwb2ludC5ieVhZWigwLCAwLCAwKSwgdmVjdG9yLmJ5WFlaKDEsIDEsIDEpKTtcclxucmVnaXN0cnkucHJvdmlkZShcImF4aXNcIiwgYXhpcyk7XHJcblxyXG5cclxuLy8gc2hhcGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vIC5kODg4OGIuICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy9kODhQICBZODhiIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vL1k4OGIuICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vIFwiWTg4OGIuICAgODg4ODhiLiAgIDg4ODhiLiAgODg4ODhiLiAgIC5kODhiLiAgLmQ4ODg4YiAgXHJcbi8vICAgIFwiWTg4Yi4gODg4IFwiODhiICAgICBcIjg4YiA4ODggXCI4OGIgZDhQICBZOGIgODhLICAgICAgXHJcbi8vICAgICAgXCI4ODggODg4ICA4ODggLmQ4ODg4ODggODg4ICA4ODggODg4ODg4ODggXCJZODg4OGIuIFxyXG4vL1k4OGIgIGQ4OFAgODg4ICA4ODggODg4ICA4ODggODg4IGQ4OFAgWThiLiAgICAgICAgICBYODggXHJcbi8vIFwiWTg4ODhQXCIgIDg4OCAgODg4IFwiWTg4ODg4OCA4ODg4OFBcIiAgIFwiWTg4ODggICA4ODg4OFAnIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5jb25zdCBib3ggPSB7fTtcclxuYm94LmJ5V2lkdGhIZWlnaHREZXB0aCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIGRlcHRoKSB7XHJcblx0cmV0dXJuIGJveFByaW1pdGl2ZSh3aWR0aCwgaGVpZ2h0LCBkZXB0aCk7XHJcbn07XHJcbmJveC5ieUNlbnRlcnNBeGVzID0gZnVuY3Rpb24oW2Jhc2VDZW50ZXIsIHRvcENlbnRlcl0sIFt4VmVjdG9yLCB5VmVjdG9yXSkge1xyXG5cdGxldCB0cmFuc2xhdGVCYXNlVG9PcmlnaW4gPSBtYXRyaXgudHJhbnNsYXRpb24oMC4wLCAwLjAsIDAuNSk7XHJcblxyXG5cdGxldCB6VmVjdG9yID0gcG9pbnQucG9pbnRNaW51c1BvaW50KHRvcENlbnRlciwgYmFzZUNlbnRlcik7XHJcblx0bGV0IGJhc2lzVHJhbnNmb3JtID0gbWF0cml4LmJhc2lzKHhWZWN0b3IsIHlWZWN0b3IsIHpWZWN0b3IpO1xyXG5cclxuXHRsZXQgdHJhbnNsYXRlVG9CYXNlQ2VudGVyID0gbWF0cml4LnRyYW5zbGF0aW9uKGJhc2VDZW50ZXIueCwgYmFzZUNlbnRlci55LCBiYXNlQ2VudGVyLnopO1xyXG5cclxuXHRsZXQgY29tcGxldGVUcmFuc2Zvcm0gPSBtYXRyaXgubXVsdGlwbHkoXHJcblx0XHR0cmFuc2xhdGVUb0Jhc2VDZW50ZXIsIFxyXG5cdFx0bWF0cml4Lm11bHRpcGx5KGJhc2lzVHJhbnNmb3JtLCB0cmFuc2xhdGVCYXNlVG9PcmlnaW4pKTtcclxuXHQvL3RyYW5zZm9ybTogbW92ZSBiYXNlIHRvIHdhbnRlZCBiYXNlICogYXBwbHkgYmFzaXMgKiBtb3ZlIGJhc2UgdG8gb3JpZ2luXHJcblxyXG5cdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUoYm94UHJpbWl0aXZlKDEuMCwgMS4wLCAxLjApLCBjb21wbGV0ZVRyYW5zZm9ybSk7XHJcbn07XHJcbmJveC5ieUNlbnRlcnNXaWR0aEhlaWdodCA9IGZ1bmN0aW9uKFtiYXNlQ2VudGVyLCB0b3BDZW50ZXJdLCBbd2lkdGgsIGhlaWdodF0pIHtcclxuXHRmdW5jdGlvbiBzcGhQaGkodmVjKSB7XHJcblx0XHRsZXQge3gsIHl9ID0gdmVjO1xyXG5cdFx0aWYoeCA9PSAwICYmIHkgPT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBNYXRoLmF0YW4yKHksIHgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0bGV0IGJveEF4aXMgPSBwb2ludC5wb2ludE1pbnVzUG9pbnQodG9wQ2VudGVyLCBiYXNlQ2VudGVyKTtcclxuXHRsZXQgd29ybGRYQXhpcyA9IHZlY3Rvci5ieUN5bGluZHJpY2FsKDEsIHNwaFBoaShib3hBeGlzKSArIE1hdGguUEkvMiwgMCk7XHJcblx0bGV0IHdvcmxkWUF4aXMgPSB2ZWN0b3Iubm9ybWFsaXplZCh2ZWN0b3IuY3Jvc3MoYm94QXhpcywgd29ybGRYQXhpcykpO1xyXG5cdC8vbGV0IHdvcmxkWkF4aXMgPSB2ZWN0b3Iubm9ybWFsaXplZChib3hBeGlzKTtcclxuXHRsZXQgbWlkUG9pbnQgPSBwb2ludC5wb2ludFBsdXNWZWN0b3IoXHJcblx0XHRiYXNlQ2VudGVyLCBcclxuXHRcdHZlY3Rvci5zY2FsZShcclxuXHRcdFx0cG9pbnQucG9pbnRNaW51c1BvaW50KHRvcENlbnRlciwgYmFzZUNlbnRlciksXHJcblx0XHRcdDAuNSkpO1xyXG5cclxuXHRsZXQgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXguYmFzaXMod29ybGRYQXhpcywgd29ybGRZQXhpcywgYm94QXhpcywgbWlkUG9pbnQpO1xyXG5cclxuXHRsZXQgYm94ID0gYm94UHJpbWl0aXZlKHdpZHRoLCBoZWlnaHQsIDEuMCk7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShib3gsIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxuYm94LmJ5Qm90dG9tV2lkdGhIZWlnaHRaID0gZnVuY3Rpb24oYmFzZUNlbnRlciwgW3dpZHRoLCBoZWlnaHRdLCB6KSB7XHJcblx0Y29uc3QgcHJpbSA9IGJveFByaW1pdGl2ZSh3aWR0aCwgaGVpZ2h0LCB6KTtcclxuXHRjb25zdCB0cmFuc2Zvcm0gPSBtYXRyaXgudHJhbnNsYXRpb24oXHJcblx0XHRiYXNlQ2VudGVyLngsIFxyXG5cdFx0YmFzZUNlbnRlci55LCBcclxuXHRcdGJhc2VDZW50ZXIueiArIHogLyAyLjApO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUocHJpbSwgdHJhbnNmb3JtKTtcclxufTtcclxuYm94LmJ5Q29ybmVycyA9IGZ1bmN0aW9uKFtwdDEsIHB0Ml0pIHtcclxuXHRjb25zdCBkaW1zVmVjID0gcG9pbnQuc3ViKHB0MiwgcHQxKTtcclxuXHRjb25zdCBib3ggPSBib3hQcmltaXRpdmUoTWF0aC5hYnMoZGltc1ZlYy54KSwgTWF0aC5hYnMoZGltc1ZlYy55KSwgTWF0aC5hYnMoZGltc1ZlYy56KSk7XHJcblx0Y29uc3QgY2VudGVyUHQgPSBwb2ludC5hZGQocHQxLCB2ZWN0b3Iuc2NhbGUoZGltc1ZlYywgMC41KSk7XHJcblx0Y29uc3QgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgudHJhbnNsYXRpb24oY2VudGVyUHQueCwgY2VudGVyUHQueSwgY2VudGVyUHQueik7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShib3gsIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxuYm94LmJ5Q29ybmVyWFlaID0gZnVuY3Rpb24ocHQsIFt4LCB5LCB6XSkge1xyXG5cdGxldCBwMiA9IHBvaW50LmFkZChwdCwgdmVjdG9yLmJ5WFlaKHgsIHksIHopKTtcclxuXHRyZXR1cm4gYm94LmJ5Q29ybmVycyhbcHQsIHAyXSk7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJib3hcIiwgYm94KTtcclxuXHJcblxyXG5jb25zdCBzcGhlcmUgPSB7fTtcclxuc3BoZXJlLmJ5UmFkaXVzID0gZnVuY3Rpb24ocmFkaXVzKSB7XHJcblx0cmV0dXJuIHNwaGVyZVByaW1pdGl2ZShyYWRpdXMpO1xyXG59O1xyXG5zcGhlcmUuYnlDZW50ZXJSYWRpdXMgPSBmdW5jdGlvbih2ZWMsIHJhZGl1cykge1xyXG5cdGxldCB0cmFuc2xhdGlvbiA9IG1hdHJpeC50cmFuc2xhdGlvbih2ZWMueCwgdmVjLnksIHZlYy56KTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKHNwaGVyZVByaW1pdGl2ZShyYWRpdXMpLCB0cmFuc2xhdGlvbik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJzcGhlcmVcIiwgc3BoZXJlKTtcclxuXHJcblxyXG5jb25zdCBjeWxpbmRlciA9IHt9O1xyXG5jeWxpbmRlci5ieVJhZGl1c0hlaWdodCA9IGZ1bmN0aW9uKHJhZGl1cywgaGVpZ2h0KSB7XHJcblx0cmV0dXJuIGN5bGluZGVyUHJpbWl0aXZlKHJhZGl1cywgaGVpZ2h0KTtcclxufTtcclxuY3lsaW5kZXIuYnlCb3R0b21SYWRpdXNIZWlnaHQgPSBmdW5jdGlvbiAoYm90dG9tLCByYWRpdXMsIGhlaWdodCkge1xyXG5cdGxldCBjeWxpbmRlciA9IGN5bGluZGVyUHJpbWl0aXZlKHJhZGl1cywgaGVpZ2h0KTtcclxuXHRsZXQgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgudHJhbnNsYXRpb24oYm90dG9tLngsIGJvdHRvbS55LCBib3R0b20ueiArIGhlaWdodC8yLjApO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUoY3lsaW5kZXIsIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxuY3lsaW5kZXIuYnlDZW50ZXJzUmFkaXVzID0gZnVuY3Rpb24oW2Jhc2VDZW50ZXIsIHRvcENlbnRlcl0sIHJhZGl1cykge1xyXG5cdGxldCBjeWxpbmRlckF4aXMgPSBwb2ludC5wb2ludE1pbnVzUG9pbnQodG9wQ2VudGVyLCBiYXNlQ2VudGVyKTtcclxuXHRsZXQgd29ybGRaQXhpcyA9IHZlY3Rvci5ieVhZWigwLjAsMC4wLDEuMCk7XHJcblx0bGV0IG9yaWVudEF4aXNUcmFuc2Zvcm0gPSBtYXRyaXguYWxpZ25Gcm9tQXhpc1RvQXhpcyh3b3JsZFpBeGlzLCB2ZWN0b3Iubm9ybWFsaXplZChjeWxpbmRlckF4aXMpKTtcclxuXHJcblx0bGV0IHdvcmxkT3JpZ2luID0gcG9pbnQuYnlYWVooMC4wLDAuMCwwLjApO1xyXG5cdGxldCBtaWRQb2ludCA9IHBvaW50LnBvaW50UGx1c1ZlY3RvcihcclxuXHRcdGJhc2VDZW50ZXIsIFxyXG5cdFx0dmVjdG9yLnNjYWxlKFxyXG5cdFx0XHRwb2ludC5wb2ludE1pbnVzUG9pbnQodG9wQ2VudGVyLCBiYXNlQ2VudGVyKSxcclxuXHRcdFx0MC41KSk7XHJcblx0bGV0IHRyYW5zbGF0aW9uVmVjdG9yID0gcG9pbnQucG9pbnRNaW51c1BvaW50KG1pZFBvaW50LCB3b3JsZE9yaWdpbik7XHJcblx0bGV0IHRyYW5zbGF0aW9uVHJhbnNmb3JtID0gbWF0cml4LnRyYW5zbGF0aW9uKFxyXG5cdFx0dHJhbnNsYXRpb25WZWN0b3IueCxcclxuXHRcdHRyYW5zbGF0aW9uVmVjdG9yLnksXHJcblx0XHR0cmFuc2xhdGlvblZlY3Rvci56KTtcclxuXHJcblx0bGV0IHRyYW5zZm9ybWF0aW9uID0gbWF0cml4Lm11bHRpcGx5KHRyYW5zbGF0aW9uVHJhbnNmb3JtLCBvcmllbnRBeGlzVHJhbnNmb3JtKVxyXG5cdGxldCBjeWxpbmRlciA9IGN5bGluZGVyUHJpbWl0aXZlKHJhZGl1cywgdmVjdG9yLmxlbmd0aChjeWxpbmRlckF4aXMpKTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKGN5bGluZGVyLCB0cmFuc2Zvcm1hdGlvbik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJjeWxpbmRlclwiLCBjeWxpbmRlcik7XHJcblxyXG5cclxuY29uc3QgcmVjdGFuZ2xlID0ge307XHJcbnJlY3RhbmdsZS5zdXJmYWNlID0ge307XHJcbnJlY3RhbmdsZS5zdXJmYWNlLmJ5Q29ybmVyV2lkdGhIZWlnaHQgPSBmdW5jdGlvbihjb3JuZXIsIFt3aWR0aCwgaGVpZ2h0XSkge1xyXG5cdGNvbnN0IHJlY3QgPSByZWN0YW5nbGVQcmltaXRpdmUod2lkdGgsIGhlaWdodCk7XHJcblx0Y29uc3QgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgudHJhbnNsYXRpb24od2lkdGgqMC41K2Nvcm5lci54LCBoZWlnaHQqMC41K2Nvcm5lci55LCBjb3JuZXIueik7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShyZWN0LCB0cmFuc2Zvcm1hdGlvbik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJyZWN0YW5nbGVcIiwgcmVjdGFuZ2xlKTtcclxuXHJcblxyXG5jb25zdCBwb2x5Z29uID0ge307XHJcbnBvbHlnb24uc3VyZmFjZSA9IHt9O1xyXG5wb2x5Z29uLnN1cmZhY2UuYnlWZXJ0aWNlcyA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XHJcblx0cmV0dXJuIHBvbHlnb25TdXJmYWNlUHJpbWl0aXZlKHZlcnRpY2VzKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcInBvbHlnb25cIiwgcG9seWdvbik7XHJcblxyXG5cclxuY29uc3QgZXh0cnVzaW9uID0ge307XHJcbmV4dHJ1c2lvbi5ieVN1cmZhY2VWZWN0b3IgPSBmdW5jdGlvbihzdXJmYWNlLCBkaXNwbGFjZW1lbnRWZWN0b3IpIHtcclxuXHRyZXR1cm4gZXh0cnVzaW9uUHJpbWl0aXZlKHN1cmZhY2UsIGRpc3BsYWNlbWVudFZlY3Rvcik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJleHRydXNpb25cIiwgZXh0cnVzaW9uKTtcclxuXHJcblxyXG5jb25zdCBjb25lRnJ1c3R1bSA9IHt9O1xyXG5jb25lRnJ1c3R1bS5ieUJvdHRvbVJhZGl1c1RvcFJhZGl1cyA9IGZ1bmN0aW9uKGJvdHRvbSwgYm90UmFkaXVzLCB0b3AsIHRvcFJhZGl1cykge1xyXG5cdGxldCBib3R0b21Ub1RvcCA9IHZlY3Rvci5zdWIodG9wLCBib3R0b20pO1xyXG5cdGxldCB3b3JsZFpBeGlzID0gdmVjdG9yLmJ5WFlaKDAuMCwwLjAsMS4wKTtcclxuXHRsZXQgb3JpZW50QXhpc1RyYW5zZm9ybSA9IG1hdHJpeC5hbGlnbkZyb21BeGlzVG9BeGlzKHdvcmxkWkF4aXMsIHZlY3Rvci5ub3JtYWxpemVkKGJvdHRvbVRvVG9wKSk7XHJcblxyXG5cdGxldCB3b3JsZE9yaWdpbiA9IHBvaW50LmJ5WFlaKDAuMCwwLjAsMC4wKTtcclxuXHRsZXQgbWlkUG9pbnQgPSBwb2ludC5wb2ludFBsdXNWZWN0b3IoXHJcblx0XHRib3R0b20sIFxyXG5cdFx0dmVjdG9yLnNjYWxlKGJvdHRvbVRvVG9wLCAwLjUpKTtcclxuXHRsZXQgdHJhbnNsYXRpb25WZWN0b3IgPSBwb2ludC5wb2ludE1pbnVzUG9pbnQobWlkUG9pbnQsIHdvcmxkT3JpZ2luKTtcclxuXHRsZXQgdHJhbnNsYXRpb25UcmFuc2Zvcm0gPSBtYXRyaXgudHJhbnNsYXRpb24oXHJcblx0XHR0cmFuc2xhdGlvblZlY3Rvci54LFxyXG5cdFx0dHJhbnNsYXRpb25WZWN0b3IueSxcclxuXHRcdHRyYW5zbGF0aW9uVmVjdG9yLnopO1xyXG5cclxuXHRsZXQgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgubXVsdGlwbHkodHJhbnNsYXRpb25UcmFuc2Zvcm0sIG9yaWVudEF4aXNUcmFuc2Zvcm0pO1xyXG5cclxuXHRsZXQgaGVpZ2h0ID0gdmVjdG9yLmxlbmd0aChib3R0b21Ub1RvcCk7XHJcblx0bGV0IGZydXN0dW0gPSBjb25lRnJ1c3R1bVByaW1pdGl2ZShib3RSYWRpdXMsIHRvcFJhZGl1cywgaGVpZ2h0KTtcclxuXHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShmcnVzdHVtLCB0cmFuc2Zvcm1hdGlvbik7XHJcbn07XHJcbmNvbmVGcnVzdHVtLmJ5UmFkaXVzZXNIZWlnaHQgPSBmdW5jdGlvbihib3RSYWRpdXMsIHRvcFJhZGl1cywgaGVpZ2h0KSB7XHJcblx0cmV0dXJuIGNvbmVGcnVzdHVtUHJpbWl0aXZlKGJvdFJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHQpO1xyXG59O1xyXG5jb25lRnJ1c3R1bS5ieUJvdHRvbVRvcFJhZGl1c2VzSGVpZ2h0ID0gZnVuY3Rpb24oYm90dG9tLCBib3RSYWRpdXMsIHRvcFJhZGl1cywgaGVpZ2h0KSB7XHJcblx0bGV0IHRyYW5zZm9ybWF0aW9uID0gbWF0cml4LnRyYW5zbGF0aW9uKFxyXG5cdFx0Ym90dG9tLngsXHJcblx0XHRib3R0b20ueSxcclxuXHRcdGJvdHRvbS56ICsgaGVpZ2h0KjAuNSk7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShcclxuXHRcdGNvbmVGcnVzdHVtUHJpbWl0aXZlKGJvdFJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHQpLFxyXG5cdFx0dHJhbnNmb3JtYXRpb24pO1xyXG59O1xyXG5yZWdpc3RyeS5wcm92aWRlKFwiY29uZUZydXN0dW1cIiwgY29uZUZydXN0dW0pO1xyXG5cclxuLy84ODg4ODg4ODg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkODhQXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgIDg4OCAgODg4ZDg4OCA4ODg4Yi4gIDg4ODg4Yi4gIC5kODg4OGIgIDg4ODg4OCAuZDg4Yi4gIDg4OGQ4ODggODg4ODhiLmQ4OGIuICAuZDg4ODhiICBcclxuLy8gICAgODg4ICA4ODhQXCIgICAgICBcIjg4YiA4ODggXCI4OGIgODhLICAgICAgODg4ICAgZDg4XCJcIjg4YiA4ODhQXCIgICA4ODggXCI4ODggXCI4OGIgODhLICAgICAgXHJcbi8vICAgIDg4OCAgODg4ICAgIC5kODg4ODg4IDg4OCAgODg4IFwiWTg4ODhiLiA4ODggICA4ODggIDg4OCA4ODggICAgIDg4OCAgODg4ICA4ODggXCJZODg4OGIuIFxyXG4vLyAgICA4ODggIDg4OCAgICA4ODggIDg4OCA4ODggIDg4OCAgICAgIFg4OCA4ODggICBZODguLjg4UCA4ODggICAgIDg4OCAgODg4ICA4ODggICAgICBYODggXHJcbi8vICAgIDg4OCAgODg4ICAgIFwiWTg4ODg4OCA4ODggIDg4OCAgODg4ODhQJyA4ODggICAgXCJZODhQXCIgIDg4OCAgICAgODg4ICA4ODggIDg4OCAgODg4ODhQJyBcclxuLy9cclxuLy9cclxuLy9cclxuXHJcbi8vVE9ETyBNYWtlIHNoYXBlcyBvYmplY3RzIHRoYXQgY2FuIGhhdmUgbWV0aG9kcy5cclxuLy9UT0RPIENvbnNpZGVyIHdoZXRoZXIgdG8gZXh0ZW5kIHNoYXBlIG9iamVjdHMgd2l0aCBtZXRob2RzIHRvIHRyYW5zZm9ybSB0aGVtLlxyXG4vKlxyXG5zaGFwZS5zY2FsZS51bmlmb3JtKHNjYWxlKVxyXG5zaGFwZS5taXJyb3IuYnlQbGFuZVxyXG4qL1xyXG5cclxuXHJcbi8vVE9ETyBBZGQgdHJhbnNmb3JtIHRvIHJvdGF0ZSBmcm9tIG9uZSBheGlzIHRvIG90aGVyIGF4aXMuXHJcbi8vVE9ETyBNYWtlIHRyYW5zZm9ybXMgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gb2JqZWN0cy5cclxuY29uc3QgdHJhbnNmb3JtID0ge307XHJcbnRyYW5zZm9ybS50cmFuc2xhdGlvbiA9IHt9O1xyXG50cmFuc2Zvcm0udHJhbnNsYXRpb24uYnlWZWN0b3IgPSBmdW5jdGlvbih2ZWN0b3IpIHtcclxuXHRyZXR1cm4gbWF0cml4LnRyYW5zbGF0aW9uKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnopO1xyXG59O1xyXG50cmFuc2Zvcm0ucm90YXRpb24gPSB7fTtcclxudHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZEF4aXNCeUFuZ2xlID0gZnVuY3Rpb24oYXhpcywgcmFkaWFucykge1xyXG5cdGxldCBheGlzT3JpZyA9IGF4aXMub3JpZ2luO1xyXG5cdGxldCBheGlzVG9Xb3JsZE9yaWdpbk1hdHJpeCA9IG1hdHJpeC50cmFuc2xhdGlvbigtYXhpc09yaWcueCwgLWF4aXNPcmlnLnksIC1heGlzT3JpZy56KTtcclxuXHRsZXQgcm90YXRpb25NYXRyaXggPSBtYXRyaXgucm90YXRpb24oYXhpcy52ZWN0b3IsIHJhZGlhbnMpO1xyXG5cdGxldCByZXBvc2l0aW9uQXhpc01hdHJpeCA9IG1hdHJpeC50cmFuc2xhdGlvbihheGlzT3JpZy54LCBheGlzT3JpZy55LCBheGlzT3JpZy56KTtcclxuXHRyZXR1cm4gbWF0cml4Lm11bHRpcGx5KHJlcG9zaXRpb25BeGlzTWF0cml4LCBcclxuXHRcdG1hdHJpeC5tdWx0aXBseShyb3RhdGlvbk1hdHJpeCwgYXhpc1RvV29ybGRPcmlnaW5NYXRyaXgpKTtcclxufTtcclxudHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZEF4aXNWZWN0b3JCeUFuZ2xlID0gZnVuY3Rpb24oYXhpc1ZlY3RvciwgcmFkaWFucykge1xyXG5cdGxldCBub3JtYWxpemVkQXhpcyA9IGF4aXNWZWN0b3IuY2xvbmUoKS5ub3JtYWxpemUoKTtcclxuXHRyZXR1cm4gbWF0cml4LnJvdGF0aW9uKG5vcm1hbGl6ZWRBeGlzLCByYWRpYW5zKTtcclxufTtcclxudHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZFhCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBtYXRyaXgucm90YXRpb24odmVjdG9yLmJ5WCgxLjApLCByYWRpYW5zKTtcclxufTtcclxudHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZFlCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBtYXRyaXgucm90YXRpb24odmVjdG9yLmJ5WSgxLjApLCByYWRpYW5zKTtcclxufTtcclxudHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZFpCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBtYXRyaXgucm90YXRpb24odmVjdG9yLmJ5WigxLjApLCByYWRpYW5zKTtcclxufTtcclxudHJhbnNmb3JtLnNjYWxpbmcgPSB7fTtcclxudHJhbnNmb3JtLnNjYWxpbmcuYnlGYWN0b3IgPSBmdW5jdGlvbihzY2FsZUZhY3Rvcikge1xyXG5cdHJldHVybiBtYXRyaXguc2NhbGluZyhzY2FsZUZhY3Rvciwgc2NhbGVGYWN0b3IsIHNjYWxlRmFjdG9yKTtcclxufTtcclxudHJhbnNmb3JtLmNvbXBvc2UgPSBmdW5jdGlvbih0MSwgdDIpIHtcclxuXHRyZXR1cm4gbWF0cml4Lm11bHRpcGx5KHQxLCB0Mik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtKTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdHJhbnNsYXRlQXV4KG9iamVjdCwgdmVjKSB7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsIFxyXG5cdFx0XHRcdHRyYW5zZm9ybS50cmFuc2xhdGlvbi5ieVZlY3Rvcih2ZWMpKTtcclxufVxyXG5jb25zdCB0cmFuc2xhdGUgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0YnlWZWN0b3I6ICh2ZWMpPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVBdXgob2JqZWN0LCB2ZWMpO1xyXG5cdFx0fSxcclxuXHRcdGJ5WFlaOiAoeCwgeSwgeik9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZUF1eChvYmplY3QsIHZlY3Rvci5ieVhZWih4LCB5LCB6KSk7XHJcblx0XHR9LFxyXG5cdFx0YnlYOiAoeCk9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZUF1eChvYmplY3QsIHZlY3Rvci5ieVgoeCkpO1xyXG5cdFx0fSxcclxuXHRcdGJ5WTogKHkpPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVBdXgob2JqZWN0LCB2ZWN0b3IuYnlZKHkpKTtcclxuXHRcdH0sXHJcblx0XHRieVo6ICh6KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlQXV4KG9iamVjdCwgdmVjdG9yLmJ5Wih6KSk7XHJcblx0XHR9XHJcblx0fTtcclxufTtcclxudHJhbnNsYXRlLmJ5VmVjdG9yID0gZnVuY3Rpb24odmVjKSB7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVBdXgsIF8sIHZlYyk7XHJcbn1cclxudHJhbnNsYXRlLmJ5WFlaID0gZnVuY3Rpb24oeCwgeSwgeikge1xyXG5cdHJldHVybiBfLnBhcnRpYWwodHJhbnNsYXRlQXV4LCBfLCB2ZWN0b3IuYnlYWVooeCwgeSwgeikpO1xyXG59O1xyXG50cmFuc2xhdGUuYnlYID0gZnVuY3Rpb24oeCl7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVBdXgsIF8sIHZlY3Rvci5ieVgoeCkpO1xyXG59O1xyXG50cmFuc2xhdGUuYnlZID0gZnVuY3Rpb24oeSl7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVBdXgsIF8sIHZlY3Rvci5ieVkoeSkpO1xyXG59O1xyXG50cmFuc2xhdGUuYnlaID0gZnVuY3Rpb24oeil7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVBdXgsIF8sIHZlY3Rvci5ieVooeikpO1xyXG59O1xyXG5yZWdpc3RyeS5wcm92aWRlKFwidHJhbnNsYXRlXCIsIHRyYW5zbGF0ZSk7XHJcblxyXG5cclxuY29uc3Qgcm90YXRlID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdGFyb3VuZEF4aXNCeUFuZ2xlOiBmdW5jdGlvbihheGlzLCByYWRpYW5zKSB7XHJcblx0XHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRBeGlzQnlBbmdsZShheGlzLCByYWRpYW5zKSk7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGU6IGZ1bmN0aW9uKGF4aXMsIHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdFx0dHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZEF4aXNWZWN0b3JCeUFuZ2xlKGF4aXMsIHJhZGlhbnMpKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRYQnlBbmdsZTogZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWEJ5QW5nbGUocmFkaWFucykpO1xyXG5cdFx0fSxcclxuXHRcdGFyb3VuZFlCeUFuZ2xlOiBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0XHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRZQnlBbmdsZShyYWRpYW5zKSk7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kWkJ5QW5nbGU6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdFx0dHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZFpCeUFuZ2xlKHJhZGlhbnMpKTtcclxuXHRcdH0sXHJcblx0XHRhbGlnbmluZ0F4ZXM6IGZ1bmN0aW9uKGZyb21BeGlzLCB0b0F4aXMpIHtcclxuXHRcdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdFx0bWF0cml4LmFsaWduRnJvbUF4aXNUb0F4aXMoZnJvbUF4aXMuZGlyZWN0aW9uLCB0b0F4aXMuZGlyZWN0aW9uKSk7XHJcblx0XHR9XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZEF4aXNWZWN0b3JCeUFuZ2xlID0gZnVuY3Rpb24oYXhpcywgcmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGUoYXhpcywgcmFkaWFucykpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hcm91bmRYQnlBbmdsZSA9IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWEJ5QW5nbGUocmFkaWFucykpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hcm91bmRZQnlBbmdsZSA9IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWUJ5QW5nbGUocmFkaWFucykpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hcm91bmRaQnlBbmdsZSA9IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWkJ5QW5nbGUocmFkaWFucykpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hbGlnbmluZ0F4ZXMgPSBmdW5jdGlvbihmcm9tQXhpcywgdG9BeGlzKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdG1hdHJpeC5hbGlnbkZyb21BeGlzVG9BeGlzKGZyb21BeGlzLmRpcmVjdGlvbiwgdG9BeGlzLmRpcmVjdGlvbikpO1xyXG5cdH1cclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcInJvdGF0ZVwiLCByb3RhdGUpO1xyXG5cclxuXHJcbi8vODg4YiAgICAgZDg4OCBkOGIgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4OGIgICBkODg4OCBZOFAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ODhiLmQ4ODg4OCAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4WTg4ODg4UDg4OCA4ODggLmQ4ODg4YiAgIC5kODg4OGIgXHJcbi8vODg4IFk4ODhQIDg4OCA4ODggODhLICAgICAgZDg4UFwiICAgIFxyXG4vLzg4OCAgWThQICA4ODggODg4IFwiWTg4ODhiLiA4ODggICAgICBcclxuLy84ODggICBcIiAgIDg4OCA4ODggICAgICBYODggWTg4Yi4gICAgXHJcbi8vODg4ICAgICAgIDg4OCA4ODggIDg4ODg4UCcgIFwiWTg4ODhQIFxyXG4vL1xyXG4vL1xyXG4vL1xyXG5cclxuXHJcbmltcG9ydCBzZXF1ZW5jZSBmcm9tICcuL1ByZWRlZnMvc2VxdWVuY2UuanMnO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwic2VxdWVuY2VcIiwgc2VxdWVuY2UpO1xyXG5cclxuaW1wb3J0IHJhbmRvbSBmcm9tICcuL1ByZWRlZnMvcmFuZG9tLmpzJztcclxucmVnaXN0cnkucHJvdmlkZShcInJhbmRvbVwiLCByYW5kb20pO1xyXG5cclxuaW1wb3J0IGZ1bmN0aW9uYWwgZnJvbSAnLi9QcmVkZWZzL2Z1bmN0aW9uYWwuanMnO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwiZnVuY3Rpb25hbFwiLCBmdW5jdGlvbmFsKTtcclxuXHJcbmltcG9ydCBtYXRoIGZyb20gJy4vUHJlZGVmcy9tYXRoLmpzJztcclxucmVnaXN0cnkucHJvdmlkZShcIm1hdGhcIiwgbWF0aCk7XHJcblxyXG4iLCJcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHtQcmltaXRpdmVQcm9wfSBmcm9tICcuL3ByaW1pdGl2ZXMuanMnO1xyXG5pbXBvcnQgbWFrZU1hdHJpeFRyYW5zZm9ybWVkT2JqZWN0M0QgZnJvbSAnLi9tYWtlTWF0cml4VHJhbnNmb3JtZWRPYmplY3QzRC5qcyc7XHJcbmltcG9ydCB7c3VyZmFjZU1hdCwgc29saWRNYXR9IGZyb20gJy4vZGVmYXVsdC1tYXRlcmlhbHMuanMnO1xyXG5pbXBvcnQge3BvbHlnb25TdXJmYWNlfSBmcm9tICcuL3BvbHlnb24tc3VyZmFjZS5qcyc7XHJcbmltcG9ydCB7ZXh0cnVzaW9ufSBmcm9tICcuL2V4dHJ1c2lvbi5qcyc7XHJcblxyXG4vKlxyXG5cdFRIUkVFIHJlcHJlc2VudGF0aW9uIGdlbmVyYXRpb24gY29kZS5cclxuKi9cclxuZnVuY3Rpb24gaXNSZW5kZXJhYmxlKHJlc3VsdCkge1xyXG5cdHJldHVybiBpc1ByaW1pdGl2ZShyZXN1bHQpIHx8IGlzQXJyYXlPZlJlbmRlcmFibGVzKHJlc3VsdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHJlc3VsdCkge1xyXG5cdHJldHVybiBpc1NvbWV0aGluZyhyZXN1bHQpICYmIHJlbmRlcmFibGVGdW5jdGlvbnNbcmVzdWx0W1ByaW1pdGl2ZVByb3BdXSAhPT0gdW5kZWZpbmVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NvbWV0aGluZyhyZXN1bHQpIHtcclxuXHRyZXR1cm4gcmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0ICE9PSBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FycmF5T2ZSZW5kZXJhYmxlcyhyZXN1bHQpIHtcclxuXHRyZXR1cm4gQXJyYXkuaXNBcnJheShyZXN1bHQpICYmIHJlc3VsdC5ldmVyeShpc1JlbmRlcmFibGUpO1xyXG59XHJcblxyXG4vLyBUaGUgVEhSRUVPYmplY3QgZ2VuZXJhdGVkIGZvciBub24tcmVuZGVyYWJsZSByZXN1bHRzLlxyXG5mdW5jdGlvbiBudWxsVGhyZWVPYmooKSB7XHJcblx0cmV0dXJuIG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXN1bHRUb1RocmVlKHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIgdGhyZWVPYmo7IFxyXG5cdGlmKGlzUHJpbWl0aXZlKHJlc3VsdCkpe1xyXG5cdFx0dGhyZWVPYmogPSByZW5kZXJhYmxlRnVuY3Rpb25zW3Jlc3VsdFtQcmltaXRpdmVQcm9wXV0ocmVzdWx0LCBjYWxsYmFjayk7XHJcblx0fSBlbHNlIGlmKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG5cdFx0dGhyZWVPYmogPSBhcnJheVRvVGhyZWUocmVzdWx0LCBjYWxsYmFjayk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocmVlT2JqID0gbnVsbFRocmVlT2JqKCk7XHJcblx0fVxyXG5cdGNhbGxiYWNrKHtyZXN1bHQsIHRocmVlT2JqfSk7XHJcblx0cmV0dXJuIHRocmVlT2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcnJheVRvVGhyZWUoYXJyYXksIGNhbGxiYWNrKSB7XHJcblx0dmFyIG9ianMgPSBhcnJheS5tYXAocj0+cmVzdWx0VG9UaHJlZShyLCBjYWxsYmFjaykpO1xyXG5cdHZhciBwYXJlbnQgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuXHRpZiAob2Jqcy5sZW5ndGggIT09IDApIHtcclxuXHRcdHBhcmVudC5hZGQuYXBwbHkocGFyZW50LCBvYmpzKTtcclxuXHR9XHJcblx0cmV0dXJuIHBhcmVudDtcclxufVxyXG5cclxudmFyIHJlbmRlcmFibGVGdW5jdGlvbnMgPSB7XHJcblx0c3BoZXJlLFxyXG5cdGN5bGluZGVyLFxyXG5cdGJveCxcclxuXHRyZWN0YW5nbGUsXHJcblx0dHJhbnNmb3JtT2JqZWN0V2l0aCxcclxuXHRwb2x5Z29uU3VyZmFjZSxcclxuXHRleHRydXNpb24sXHJcblx0Y29uZUZydXN0dW1cclxufTtcclxuXHJcbi8vIEFsbCBnZW9tZXRyaWVzIG5lZWQgdG8gYmUgcm90YXRlZCBzbyB0aGF0IFogaXMgdGhlaXIgdXAgYXhpcy5cclxuLy8gVGhleSBhcmUgZGVmaW5lZCB3aXRoIFkgYXMgdGhlaXIgdXAgYXhpcyBzbyB0aGV5IG5lZWQgdG8gYmUgcm90YXRlZCAtcGkvMiBhcm91bmQgWC5cclxuLy8gVGhpcyB3YXkgWiBiZWNvbWVzIHRoZWlyIHVwIGF4aXMuXHJcbnZhciB5VXBUb1pVcFJvdGF0aW9uID0gKG5ldyBUSFJFRS5NYXRyaXg0KCkpXHJcblx0Lm1ha2VSb3RhdGlvbkF4aXMobmV3IFRIUkVFLlZlY3RvcjMoMS4wLCAwLjAsIDAuMCksIC1NYXRoLlBJLzIuMCk7XHJcblxyXG52YXIgc3BoZXJlR2VvbSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgxLCAzMiwgMzIpO1xyXG5zcGhlcmVHZW9tLmFwcGx5TWF0cml4KHlVcFRvWlVwUm90YXRpb24pO1xyXG5mdW5jdGlvbiBzcGhlcmUocmVzdWx0LCBjYWxsYmFjaykge1xyXG5cdHZhciByYWRpdXMgPSByZXN1bHQuYXJncy5yYWRpdXM7XHJcblx0dmFyIG9iaiA9IG5ldyBUSFJFRS5NZXNoKHNwaGVyZUdlb20sIHNvbGlkTWF0KTtcclxuXHRvYmouc2NhbGUuc2V0KHJhZGl1cywgcmFkaXVzLCByYWRpdXMpO1xyXG5cdHJldHVybiBvYmo7XHJcbn1cclxudmFyIGN5bGluZGVyR2VvbSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDEsIDEsIDMyKTtcclxuY3lsaW5kZXJHZW9tLmFwcGx5TWF0cml4KHlVcFRvWlVwUm90YXRpb24pO1xyXG5mdW5jdGlvbiBjeWxpbmRlcihyZXN1bHQsIGNhbGxiYWNrKSB7XHJcblx0dmFyIHJhZGl1cyA9IHJlc3VsdC5hcmdzLnJhZGl1cztcclxuXHR2YXIgaGVpZ2h0ID0gcmVzdWx0LmFyZ3MuaGVpZ2h0O1xyXG5cdHZhciBvYmogPSBuZXcgVEhSRUUuTWVzaChjeWxpbmRlckdlb20sIHNvbGlkTWF0KTtcclxuXHRvYmouc2NhbGUuc2V0KHJhZGl1cywgcmFkaXVzLCBoZWlnaHQpO1xyXG5cdHJldHVybiBvYmo7XHJcbn1cclxudmFyIGJveEdlb20gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSk7XHJcbmJveEdlb20uYXBwbHlNYXRyaXgoeVVwVG9aVXBSb3RhdGlvbik7XHJcbmZ1bmN0aW9uIGJveChyZXN1bHQsIGNhbGxiYWNrKSB7XHJcblx0dmFyIHdpZHRoID0gcmVzdWx0LmFyZ3Mud2lkdGgsXHJcblx0XHRoZWlnaHQgPSByZXN1bHQuYXJncy5oZWlnaHQsXHJcblx0XHRkZXB0aCA9IHJlc3VsdC5hcmdzLmRlcHRoO1xyXG5cdHZhciBvYmogPSBuZXcgVEhSRUUuTWVzaChib3hHZW9tLCBzb2xpZE1hdCk7XHJcblx0b2JqLnNjYWxlLnNldCh3aWR0aCwgaGVpZ2h0LCBkZXB0aCk7XHJcblx0cmV0dXJuIG9iajtcclxufVxyXG52YXIgcmVjdGFuZ2xlR2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEpO1xyXG4vL3JlY3RhbmdsZUdlb20uYXBwbHlNYXRyaXgoeVVwVG9aVXBSb3RhdGlvbik7XHJcbmZ1bmN0aW9uIHJlY3RhbmdsZShyZXN1bHQsIGNhbGxiYWNrKSB7XHJcblx0dmFyIHdpZHRoID0gcmVzdWx0LmFyZ3Mud2lkdGgsXHJcblx0XHRoZWlnaHQgPSByZXN1bHQuYXJncy5oZWlnaHQ7XHJcblx0dmFyIG9iaiA9IG5ldyBUSFJFRS5NZXNoKHJlY3RhbmdsZUdlb20sIHN1cmZhY2VNYXQpO1xyXG5cdG9iai5zY2FsZS5zZXQod2lkdGgsIGhlaWdodCwgMSk7XHJcblx0cmV0dXJuIG9iajtcclxufVxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1PYmplY3RXaXRoKHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIgb2JqVG9UcmFuc2Zvcm0gPSByZXN1bHRUb1RocmVlKHJlc3VsdC5hcmdzLm9iamVjdCwgY2FsbGJhY2spO1xyXG5cdHZhciBtYXRyaXggPSByZXN1bHQuYXJncy50cmFuc2Zvcm07XHJcblx0dmFyIG9iaiA9IG1ha2VNYXRyaXhUcmFuc2Zvcm1lZE9iamVjdDNEKG1hdHJpeCk7XHJcblx0b2JqLmFkZChvYmpUb1RyYW5zZm9ybSk7XHJcblx0cmV0dXJuIG9iajtcclxufVxyXG5mdW5jdGlvbiBjb25lRnJ1c3R1bShyZXN1bHQsIGNhbGxiYWNrKSB7XHJcblx0dmFyIHtib3R0b21SYWRpdXMsIHRvcFJhZGl1cywgaGVpZ2h0fSA9IHJlc3VsdC5hcmdzO1xyXG5cdHZhciBnZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoYm90dG9tUmFkaXVzLCB0b3BSYWRpdXMsIGhlaWdodCwgMzIpO1xyXG5cdHZhciBvYmogPSBuZXcgVEhSRUUuTWVzaChnZW9tLCBzb2xpZE1hdCk7XHJcblx0Z2VvbS5hcHBseU1hdHJpeCh5VXBUb1pVcFJvdGF0aW9uKTtcclxuXHRyZXR1cm4gb2JqO1xyXG59XHJcblxyXG5cclxuXHJcbi8vXHJcbi8vIFxyXG4vL1xyXG5mdW5jdGlvbiBjb252ZXJ0S2VlcGluZ0NvcnJlc3BvbmRlbmNlKHJlc3VsdHNJdGVyYWJsZSkge1xyXG5cclxuXHRsZXQgcmVzdWx0VG9USFJFRU9iamVjdHMgPSBuZXcgTWFwKCk7XHJcblx0bGV0IHRocmVlT2JqZWN0VG9SZXN1bHQgPSBuZXcgTWFwKCk7XHJcblx0ZnVuY3Rpb24ga2VlcENvcnJlc3BvbmRlbmNlKHtyZXN1bHQsIHRocmVlT2JqfSkge1xyXG5cdFx0aWYoIXJlc3VsdFRvVEhSRUVPYmplY3RzLmhhcyhyZXN1bHQpKSB7XHJcblx0XHRcdHJlc3VsdFRvVEhSRUVPYmplY3RzLnNldChyZXN1bHQsIFtdKTtcclxuXHRcdH1cclxuXHRcdHJlc3VsdFRvVEhSRUVPYmplY3RzLmdldChyZXN1bHQpLnB1c2godGhyZWVPYmopO1xyXG5cdFx0dGhyZWVPYmplY3RUb1Jlc3VsdC5zZXQodGhyZWVPYmosIHJlc3VsdCk7XHJcblx0fVxyXG5cclxuXHR2YXIgdGhyZWVPYmplY3RzID0gW107XHJcblx0Zm9yKGxldCByZXN1bHQgb2YgcmVzdWx0c0l0ZXJhYmxlKSB7XHJcblx0XHRsZXQgdGhyZWVPYmogPSByZXN1bHRUb1RocmVlKHJlc3VsdCwga2VlcENvcnJlc3BvbmRlbmNlKTtcclxuXHRcdHRocmVlT2JqZWN0cy5wdXNoKHRocmVlT2JqKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHR0aHJlZU9iamVjdHMsXHJcblx0XHRyZXN1bHRUb1RIUkVFT2JqZWN0cyxcclxuXHRcdHRocmVlT2JqZWN0VG9SZXN1bHRcclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0Tm9ybWFsbHkocmVzdWx0c0l0ZXJhYmxlKSB7XHJcblx0dmFyIHRocmVlT2JqZWN0cyA9IFtdO1xyXG5cdGZvcihsZXQgcmVzdWx0IG9mIHJlc3VsdHNJdGVyYWJsZSkge1xyXG5cdFx0dGhyZWVPYmplY3RzLnB1c2gocmVzdWx0VG9UaHJlZShyZXN1bHQsIGZ1bmN0aW9uKHtyZXN1bHQsIHRocmVlT2JqfSl7fSkpO1xyXG5cdH1cclxuXHRyZXR1cm4ge3RocmVlT2JqZWN0c307XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGlzUmVuZGVyYWJsZTogaXNSZW5kZXJhYmxlLFxyXG5cdGNvbnZlcnQ6IHtcclxuXHRcdGtlZXBpbmdDb3JyZXNwb25kZW5jZTogY29udmVydEtlZXBpbmdDb3JyZXNwb25kZW5jZSxcclxuXHRcdG5vcm1hbGx5OiBjb252ZXJ0Tm9ybWFsbHlcclxuXHR9XHJcbn07XHJcbiIsIlxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuXHJcbmltcG9ydCB7SG9yaXpvbnRhbEJhcn0gZnJvbSAnLi4vUmVhY3RDb21wb25lbnRzL2dlbmVyaWMuanN4JztcclxuXHJcbmltcG9ydCBTdXBlckVkaXRvciBmcm9tICcuLi9SZWFjdENvbXBvbmVudHMvU3VwZXJFZGl0b3IuanN4JztcclxuaW1wb3J0IHtjaGFuZ2VQcm9ncmFtfSBmcm9tICcuL2FjdGlvbnMtcmVkdWNlcnMuanMnO1xyXG5cclxuXHJcbmNvbnN0IFByb2dyYW1OYW1lID0gKHtuYW1lfSkgPT4gKFxyXG4gIDxIb3Jpem9udGFsQmFyPlxyXG4gICAgPGgxPntuYW1lfTwvaDE+XHJcbiAgPC9Ib3Jpem9udGFsQmFyPlxyXG4pO1xyXG5cclxuY29uc3QgUHJvZ3JhbU5hbWVDb250YWluZXIgPSBjb25uZWN0KFxyXG4gIHN0YXRlID0+ICh7bmFtZTogc3RhdGUuYWN0aXZlUHJvZ3JhbS5uYW1lfSlcclxuKShQcm9ncmFtTmFtZSk7XHJcblxyXG5cclxuXHJcbmNvbnN0IFN1cGVyRWRpdG9yQ29udGFpbmVyID0gY29ubmVjdChcclxuICBzdGF0ZSA9PiAoe1xyXG4gICAgcHJvZ3JhbTogc3RhdGUuYWN0aXZlUHJvZ3JhbS5wcm9ncmFtXHJcbiAgfSksXHJcbiAgZGlzcGF0Y2ggPT4gKHtcclxuICAgIG9uUHJvZ3JhbUNoYW5nZTogKHByb2dyYW0pID0+IGRpc3BhdGNoKGNoYW5nZVByb2dyYW0ocHJvZ3JhbSkpXHJcbiAgfSlcclxuKShTdXBlckVkaXRvcik7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBDdXJyZW50UHJvZ3JhbUVkaXRvciA9ICgpID0+IChcclxuICA8ZGl2PlxyXG4gICAgPGRpdiBzdHlsZT17e319PlxyXG4gICAgICA8UHJvZ3JhbU5hbWVDb250YWluZXIvPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnY2FsYygxMDAlIC0gM2VtKSd9fT5cclxuICAgICAgPFN1cGVyRWRpdG9yQ29udGFpbmVyLz5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ3VycmVudFByb2dyYW1FZGl0b3I7XHJcbiIsIlxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IFNpZGVQYW5lbHMgZnJvbSAnLi9jb21wb25lbnRzLmpzeCc7XHJcbmltcG9ydCBDdXJyZW50UHJvZ3JhbUVkaXRvciBmcm9tICcuL0N1cnJlbnRQcm9ncmFtRWRpdG9yLmpzeCc7XHJcblxyXG5cclxuY29uc3QgRWRpdG9yUGFnZSA9ICgpID0+IChcclxuICA8ZGl2PlxyXG4gICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgd2lkdGg6ICc4MHB4JyxcclxuICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgIHpJbmRleDogJzInfX0+XHJcbiAgICAgIDxTaWRlUGFuZWxzLz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBzdHlsZT17e1xyXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgXHJcbiAgICAgIGxlZnQ6ICc4MHB4JywgXHJcbiAgICAgIHdpZHRoOiAnY2FsYygxMDAlIC0gODBweCknLCBcclxuICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgIHpJbmRleDogJzEnfX0+XHJcbiAgICAgIDxDdXJyZW50UHJvZ3JhbUVkaXRvci8+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVkaXRvclBhZ2U7XHJcbiIsIlxyXG5pbXBvcnQge2NvbWJpbmVSZWR1Y2Vyc30gZnJvbSAncmVkdXgnO1xyXG5cclxuaW1wb3J0IHRpbWUgZnJvbSAnLi4vdXRpbHMvdGltZS5qcyc7XHJcblxyXG5jb25zdCBudWxsUHJvZ3JhbSA9IHtuYW1lOiAndW50aXRsZWQnLCBwcm9ncmFtOiAnJ307XHJcblxyXG5pbXBvcnQge2V4YW1wbGVzIGFzIGV4YW1wbGVQcm9ncmFtc30gZnJvbSAnLi4vZXhhbXBsZS1wcm9ncmFtcy9leGFtcGxlcy5qcyc7XHJcblxyXG5pbXBvcnQge3J1bkluQ2FkLCBjbGVhckNhZCwgc2VsZWN0Q2Fkc30gZnJvbSAnLi4vUnVubmVyL3J1bi1pbi1jYWQuanMnO1xyXG5cclxuLy8gLmQ4ODg4Yi4gICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vL2Q4OFAgIFk4OGIgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vWTg4Yi4gICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gXCJZODg4Yi4gICAgLmQ4OGIuICA4ODggIC5kODhiLiAgIC5kODg4OGIgODg4ODg4IC5kODhiLiAgODg4ZDg4OCAuZDg4ODhiICBcclxuLy8gICAgXCJZODhiLiBkOFAgIFk4YiA4ODggZDhQICBZOGIgZDg4UFwiICAgIDg4OCAgIGQ4OFwiXCI4OGIgODg4UFwiICAgODhLICAgICAgXHJcbi8vICAgICAgXCI4ODggODg4ODg4ODggODg4IDg4ODg4ODg4IDg4OCAgICAgIDg4OCAgIDg4OCAgODg4IDg4OCAgICAgXCJZODg4OGIuIFxyXG4vL1k4OGIgIGQ4OFAgWThiLiAgICAgODg4IFk4Yi4gICAgIFk4OGIuICAgIFk4OGIuIFk4OC4uODhQIDg4OCAgICAgICAgICBYODggXHJcbi8vIFwiWTg4ODhQXCIgICBcIlk4ODg4ICA4ODggIFwiWTg4ODggICBcIlk4ODg4UCAgXCJZODg4IFwiWTg4UFwiICA4ODggICAgICA4ODg4OFAnIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5mdW5jdGlvbiBhY3RpdmVDYWRzKHN0YXRlKSB7XHJcbiAgcmV0dXJuIHN0YXRlLmV4cG9ydENhZHM7XHJcbn1cclxuXHJcblxyXG4vLzg4ODg4ODg4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBcclxuLy84ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgIFxyXG4vLzg4ODg4ODggICAgODg4ICA4ODggODg4ODhiLiAgIC5kODhiLiAgODg4ZDg4OCA4ODg4ODggXHJcbi8vODg4ICAgICAgICBgWThiZDhQJyA4ODggXCI4OGIgZDg4XCJcIjg4YiA4ODhQXCIgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAgIFg4OEsgICA4ODggIDg4OCA4ODggIDg4OCA4ODggICAgIDg4OCAgICBcclxuLy84ODggICAgICAgIC5kOFwiXCI4Yi4gODg4IGQ4OFAgWTg4Li44OFAgODg4ICAgICBZODhiLiAgXHJcbi8vODg4ODg4ODg4OCA4ODggIDg4OCA4ODg4OFBcIiAgIFwiWTg4UFwiICA4ODggICAgICBcIlk4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4vKipcclxuICBBY3Rpb25zXHJcbiAqL1xyXG5jb25zdCBTRVRfRVhQT1JUX0NBRFMgPSAnU0VUX0VYUE9SVF9DQURTJztcclxuY29uc3QgRVhQT1JUX1RPX0NBRFMgPSAnRVhQT1JUX1RPX0NBRFMnO1xyXG5jb25zdCBDTEVBUl9FWFBPUlRfQ0FEUyA9ICdDTEVBUl9FWFBPUlRfQ0FEUyc7XHJcblxyXG5jb25zdCBFWFBPUlRfRE9ORSA9ICdFWFBPUlRfRE9ORSc7IC8vIE5vdCBmb2xsb3dpbmcgdGhlIGltcGVyYXRpdmUgbW9vZC4uLlxyXG5jb25zdCBFWFBPUlRfRkFJTEVEID0gJ0VYUE9SVF9GQUlMRUQnO1xyXG5cclxuLyoqXHJcbiAgQWN0aW9uIGNyZWF0b3JzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0RXhwb3J0Q2FkcyhleHBvcnRDYWRzKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IFNFVF9FWFBPUlRfQ0FEUyxcclxuICAgIGV4cG9ydENhZHNcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRUb0NhZHMoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IEVYUE9SVF9UT19DQURTXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJDYWRzKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBDTEVBUl9FWFBPUlRfQ0FEU1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb0V4cG9ydFRvQ2FkcygpIHtcclxuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xyXG4gICAgZGlzcGF0Y2goZXhwb3J0VG9DYWRzKCkpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgc2VsZWN0Q2FkcyhnZXRTdGF0ZSgpLmV4cG9ydENhZHMpO1xyXG4gICAgICAgIHRpbWUoXCJDQUQgZXhwb3J0XCIsICgpPT5ydW5JbkNhZChnZXRTdGF0ZSgpLmFjdGl2ZVByb2dyYW0ucHJvZ3JhbSkpO1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgIHR5cGU6IEVYUE9SVF9ET05FXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICB0eXBlOiBFWFBPUlRfRkFJTEVELFxyXG4gICAgICAgICAgZXJyb3I6IGVcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2xlYXJDYWRzKCkge1xyXG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XHJcbiAgICBkaXNwYXRjaChjbGVhckNhZHMoKSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZWxlY3RDYWRzKGdldFN0YXRlKCkuZXhwb3J0Q2Fkcyk7XHJcbiAgICAgICAgY2xlYXJDYWQoKTtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICB0eXBlOiBFWFBPUlRfRE9ORVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgdHlwZTogRVhQT1JUX0ZBSUxFRCxcclxuICAgICAgICAgIGVycm9yOiBlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sIDApO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gUmVkdWNlcnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBhdmFpbGFibGVDYWRzKHN0YXRlID0gWydhdXRvY2FkJywgJ3NrZXRjaHVwJ10sIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZXhwb3J0Q2FkcyhzdGF0ZSA9IFtdLCBhY3Rpb24gPSB7fSkge1xyXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgIGNhc2UgU0VUX0VYUE9SVF9DQURTOlxyXG4gICAgICByZXR1cm4gYWN0aW9uLmV4cG9ydENhZHM7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRpbmdUb0NBRChzdGF0ZSA9IGZhbHNlLCBhY3Rpb24gPSB7fSkge1xyXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgIGNhc2UgRVhQT1JUX1RPX0NBRFM6XHJcbiAgICBjYXNlIENMRUFSX0VYUE9SVF9DQURTOlxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIGNhc2UgRVhQT1JUX0RPTkU6XHJcbiAgICBjYXNlIEVYUE9SVF9GQUlMRUQ6XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBkODhQIDg4OGQ4ODggLmQ4OGIuICAgLmQ4OGIuICA4ODhkODg4IDg4ODhiLiAgODg4ODhiLmQ4OGIuICAuZDg4ODhiICBcclxuLy84ODg4ODg4UFwiICA4ODhQXCIgIGQ4OFwiXCI4OGIgZDg4UFwiODhiIDg4OFBcIiAgICAgIFwiODhiIDg4OCBcIjg4OCBcIjg4YiA4OEsgICAgICBcclxuLy84ODggICAgICAgIDg4OCAgICA4ODggIDg4OCA4ODggIDg4OCA4ODggICAgLmQ4ODg4ODggODg4ICA4ODggIDg4OCBcIlk4ODg4Yi4gXHJcbi8vODg4ICAgICAgICA4ODggICAgWTg4Li44OFAgWTg4YiA4ODggODg4ICAgIDg4OCAgODg4IDg4OCAgODg4ICA4ODggICAgICBYODggXHJcbi8vODg4ICAgICAgICA4ODggICAgIFwiWTg4UFwiICAgXCJZODg4ODggODg4ICAgIFwiWTg4ODg4OCA4ODggIDg4OCAgODg4ICA4ODg4OFAnIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIFk4YiBkODhQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlk4OFBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4vKipcclxuICBQcm9ncmFtIG1hbmFnZW1lbnQgbG9naWMgbW9kdWxlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gIEFjdGlvbnNcclxuICovXHJcbmNvbnN0IENSRUFURV9QUk9HUkFNID0gJ0NSRUFURV9QUk9HUkFNJztcclxuY29uc3QgU0FWRV9QUk9HUkFNID0gJ1NBVkVfUFJPR1JBTSc7XHJcblxyXG5jb25zdCBTRUxFQ1RfUFJPR1JBTSA9ICdTRUxFQ1RfUFJPR1JBTSc7IC8vIENoYW5nZSB0aGUgYWN0aXZlIHByb2dyYW1cclxuY29uc3QgQ0hBTkdFX1BST0dSQU0gPSAnQ0hBTkdFX1BST0dSQU0nOyAvLyBNYWtlIGEgY2hhbmdlIHRvIHRoZSBwcm9ncmFtJ3Mgc291cmNlIGNvZGVcclxuXHJcbi8qKlxyXG4gIEFjdGlvbiBjcmVhdG9yc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0obmFtZSwgc291cmNlID0gJycpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogQ1JFQVRFX1BST0dSQU0sXHJcbiAgICBuYW1lLFxyXG4gICAgc291cmNlXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFByb2dyYW0obmFtZSwgcHJvZ3JhbSkge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBTRUxFQ1RfUFJPR1JBTSxcclxuICAgIG5hbWUsXHJcbiAgICBwcm9ncmFtXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVByb2dyYW0ocHJvZ3JhbSkge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBDSEFOR0VfUFJPR1JBTSxcclxuICAgIHByb2dyYW1cclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuIFJlZHVjZXJzIFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvZ3JhbXMoc3RhdGUgPSBleGFtcGxlUHJvZ3JhbXMsIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAvLyBEbyBwcm9ncmFtIHN0b3JhZ2Ugc3R1ZmYuXHJcbiAgICBjYXNlIENSRUFURV9QUk9HUkFNOlxyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHtuYW1lOiBhY3Rpb24ubmFtZSwgcHJvZ3JhbTogYWN0aW9uLnNvdXJjZX0sXHJcbiAgICAgICAgLi4uZXhhbXBsZVByb2dyYW1zXHJcbiAgICAgIF07XHJcbiAgICBjYXNlIFNBVkVfUFJPR1JBTTpcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICB7bmFtZTogYWN0aW9uLm5hbWUsIHByb2dyYW06IGFjdGlvbi5wcm9ncmFtfSxcclxuICAgICAgICAuLi5zdGF0ZS5maWx0ZXIoKHtuYW1lfSkgPT4gbmFtZSAhPT0gYWN0aW9uLm5hbWUpXHJcbiAgICAgIF07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhY3RpdmVQcm9ncmFtKHN0YXRlID0gbnVsbFByb2dyYW0sIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBTRUxFQ1RfUFJPR1JBTTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcclxuICAgICAgICBwcm9ncmFtOiBhY3Rpb24ucHJvZ3JhbVxyXG4gICAgICB9O1xyXG4gICAgY2FzZSBDSEFOR0VfUFJPR1JBTTpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiBzdGF0ZS5uYW1lLCBcclxuICAgICAgICBwcm9ncmFtOiBhY3Rpb24ucHJvZ3JhbVxyXG4gICAgICB9O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy84ODg4ODg4ODg4ICAgICA4ODggZDhiIDg4OCAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgICAgICAgICAgODg4IFk4UCA4ODggICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgICAgICAgICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy84ODg4ODg4ICAgIC5kODg4ODggODg4IDg4ODg4OCAuZDg4Yi4gIDg4OGQ4ODggXHJcbi8vODg4ICAgICAgIGQ4OFwiIDg4OCA4ODggODg4ICAgZDg4XCJcIjg4YiA4ODhQXCIgICBcclxuLy84ODggICAgICAgODg4ICA4ODggODg4IDg4OCAgIDg4OCAgODg4IDg4OCAgICAgXHJcbi8vODg4ICAgICAgIFk4OGIgODg4IDg4OCBZODhiLiBZODguLjg4UCA4ODggICAgIFxyXG4vLzg4ODg4ODg4ODggXCJZODg4ODggODg4ICBcIlk4ODggXCJZODhQXCIgIDg4OCAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gLyoqXHJcbiAgUHJvZ3JhbSBlZGl0aW5nIGxvZ2ljLlxyXG4gICovXHJcbiAgXHJcbmNvbnN0IFJFUVVFU1RfUFJPR1JBTV9SVU4gPSAnUkVRVUVTVF9QUk9HUkFNX1JVTic7XHJcbmNvbnN0IFBST0dSQU1fUlVOX1NVQ0NFU1MgPSAnUFJPR1JBTV9SVU5fU1VDQ0VTUyc7XHJcbmNvbnN0IFBST0dSQU1fUlVOX0VSUk9SID0gJ1BST0dSQU1fUlVOX0VSUk9SJztcclxuY29uc3QgUFJPR1JBTV9SVU5fVElNRU9VVCA9ICdQUk9HUkFNX1JVTl9USU1FT1VUJztcclxuXHJcblxyXG5mdW5jdGlvbiBydW5uaW5nU3RhdHVzKHN0YXRlID0gJ2lkbGUnLCBhY3Rpb24gPSB7fSkge1xyXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgICAgLy8gXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhY3RpdmVQcm9ncmFtUmVzdWx0cyhzdGF0ZSA9IG51bGwsIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG5cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIC5kODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgIDg4ODg4ODhiLiAgICAgICAgICAgICAgIDg4OCAgICAgICAgICBcclxuLy9kODhQICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgODg4ICAgWTg4YiAgICAgICAgICAgICAgODg4ICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICA4ODggICAgODg4ICAgICAgICAgICAgICA4ODggICAgICAgICAgXHJcbi8vODg4ICAgICAgICAgLmQ4OGIuICA4ODg4OGIuZDg4Yi4gIDg4ODg4Yi4gIDg4OCAgIGQ4OFAgLmQ4OGIuICAgLmQ4ODg4OCA4ODggIDg4OCBcclxuLy84ODggICAgICAgIGQ4OFwiXCI4OGIgODg4IFwiODg4IFwiODhiIDg4OCBcIjg4YiA4ODg4ODg4UFwiIGQ4UCAgWThiIGQ4OFwiIDg4OCA4ODggIDg4OCBcclxuLy84ODggICAgODg4IDg4OCAgODg4IDg4OCAgODg4ICA4ODggODg4ICA4ODggODg4IFQ4OGIgIDg4ODg4ODg4IDg4OCAgODg4IDg4OCAgODg4IFxyXG4vL1k4OGIgIGQ4OFAgWTg4Li44OFAgODg4ICA4ODggIDg4OCA4ODggZDg4UCA4ODggIFQ4OGIgWThiLiAgICAgWTg4YiA4ODggWTg4YiA4ODggXHJcbi8vIFwiWTg4ODhQXCIgICBcIlk4OFBcIiAgODg4ICA4ODggIDg4OCA4ODg4OFBcIiAgODg4ICAgVDg4YiBcIlk4ODg4ICAgXCJZODg4ODggIFwiWTg4ODg4IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJlZHVjZXJzKHtcclxuICBhdmFpbGFibGVDYWRzLFxyXG4gIGV4cG9ydENhZHMsXHJcbiAgZXhwb3J0aW5nVG9DQUQsXHJcbiAgcHJvZ3JhbXMsXHJcbiAgYWN0aXZlUHJvZ3JhbSxcclxuICBhY3RpdmVQcm9ncmFtUmVzdWx0cyxcclxuICBydW5uaW5nU3RhdHVzLFxyXG59KTtcclxuXHJcbiIsIlxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge3JlbmRlcn0gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHtjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlfSBmcm9tICdyZWR1eCc7XHJcbmltcG9ydCB7UHJvdmlkZXJ9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHRodW5rTWlkZGxld2FyZSBmcm9tICdyZWR1eC10aHVuayc7XHJcbmltcG9ydCBjcmVhdGVMb2dnZXIgZnJvbSAncmVkdXgtbG9nZ2VyJztcclxuXHJcbmltcG9ydCBlZGl0b3JTdGF0ZSBmcm9tICcuL2FjdGlvbnMtcmVkdWNlcnMuanMnO1xyXG5pbXBvcnQgRWRpdG9yUGFnZSBmcm9tICcuL0VkaXRvclBhZ2UuanN4JztcclxuXHJcbmNvbnN0IGxvZ2dlck1pZGRsZXdhcmUgPSBjcmVhdGVMb2dnZXIoKTtcclxuXHJcbmNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXHJcbiAgZWRpdG9yU3RhdGUsIFxyXG4gIGFwcGx5TWlkZGxld2FyZShcclxuICAgIHRodW5rTWlkZGxld2FyZSxcclxuICAgIGxvZ2dlck1pZGRsZXdhcmVcclxuICApXHJcbik7XHJcblxyXG5cclxucmVuZGVyKFxyXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgPEVkaXRvclBhZ2UvPlxyXG4gIDwvUHJvdmlkZXI+LFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxyXG4pO1xyXG4iLCJcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcblxyXG5pbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7XHJcbmltcG9ydCB7VmVydGljYWxJY29uQmFyLCBTcGFjZXIsIEljb25CdXR0b24sIERyYXdlcn0gZnJvbSAnLi4vUmVhY3RDb21wb25lbnRzL2dlbmVyaWMuanN4JztcclxuXHJcbmltcG9ydCB7c2VsZWN0UHJvZ3JhbSwgc2V0RXhwb3J0Q2FkcywgZG9FeHBvcnRUb0NhZHMsIGRvQ2xlYXJDYWRzfSBmcm9tICcuL2FjdGlvbnMtcmVkdWNlcnMuanMnO1xyXG5cclxuXHJcbi8vODg4ODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kODg4OGIuICAgICAgICAgICA4ODggXHJcbi8vODg4ICAgWTg4YiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDg4UCAgWTg4YiAgICAgICAgICA4ODggXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWTg4Yi4gICAgICAgICAgICAgICA4ODggXHJcbi8vODg4ICAgZDg4UCA4ODhkODg4IC5kODhiLiAgIC5kODhiLiAgODg4ZDg4OCA4ODg4Yi4gIDg4ODg4Yi5kODhiLiAgIFwiWTg4OGIuICAgIC5kODhiLiAgODg4IFxyXG4vLzg4ODg4ODhQXCIgIDg4OFBcIiAgZDg4XCJcIjg4YiBkODhQXCI4OGIgODg4UFwiICAgICAgXCI4OGIgODg4IFwiODg4IFwiODhiICAgICBcIlk4OGIuIGQ4UCAgWThiIDg4OCBcclxuLy84ODggICAgICAgIDg4OCAgICA4ODggIDg4OCA4ODggIDg4OCA4ODggICAgLmQ4ODg4ODggODg4ICA4ODggIDg4OCAgICAgICBcIjg4OCA4ODg4ODg4OCA4ODggXHJcbi8vODg4ICAgICAgICA4ODggICAgWTg4Li44OFAgWTg4YiA4ODggODg4ICAgIDg4OCAgODg4IDg4OCAgODg4ICA4ODggWTg4YiAgZDg4UCBZOGIuICAgICA4ODggXHJcbi8vODg4ICAgICAgICA4ODggICAgIFwiWTg4UFwiICAgXCJZODg4ODggODg4ICAgIFwiWTg4ODg4OCA4ODggIDg4OCAgODg4ICBcIlk4ODg4UFwiICAgXCJZODg4OCAgODg4IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIFk4YiBkODhQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlk4OFBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5cclxuY29uc3QgUHJvZ3JhbVNlbGVjdGlvbkl0ZW0gPSAoe3Byb2dyYW0sIG9uQ2xpY2t9KSA9PiAoXHJcbiAgPHAgb25DbGljaz17b25DbGlja30+e3Byb2dyYW0ubmFtZX08L3A+XHJcbik7XHJcblxyXG5jb25zdCBQcm9ncmFtU2VsZWN0aW9uUGFuZWwgPSAoe3Byb2dyYW1zLCBvblByb2dyYW1DbGlja30pID0+IChcclxuICA8ZGl2PlxyXG4gICAgPGgzPkFsbCBQcm9ncmFtczwvaDM+XHJcbiAgICB7cHJvZ3JhbXMubWFwKHByb2dyYW0gPT4gXHJcbiAgICAgIDxQcm9ncmFtU2VsZWN0aW9uSXRlbVxyXG4gICAgICAgIGtleT17cHJvZ3JhbS5uYW1lfVxyXG4gICAgICAgIHByb2dyYW09e3Byb2dyYW19IFxyXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IG9uUHJvZ3JhbUNsaWNrKHByb2dyYW0pfS8+XHJcbiAgICApfVxyXG5cclxuICAgIDxoMz5TZWFyY2g8L2gzPlxyXG5cclxuICAgIDxoMz5SZWNlbnQ8L2gzPlxyXG5cclxuICAgIDxoMz5FeGFtcGxlczwvaDM+XHJcblxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuY29uc3QgUHJvZ3JhbVNlbGVjdGlvbkNvbnRhaW5lciA9IGNvbm5lY3QoXHJcbiAgc3RhdGUgPT4gKHtwcm9ncmFtczogc3RhdGUucHJvZ3JhbXN9KSxcclxuICBkaXNwYXRjaCA9PiAoe29uUHJvZ3JhbUNsaWNrOiBwcm9ncmFtID0+IGRpc3BhdGNoKHNlbGVjdFByb2dyYW0ocHJvZ3JhbS5uYW1lLCBwcm9ncmFtLnByb2dyYW0pKX0pXHJcbikoUHJvZ3JhbVNlbGVjdGlvblBhbmVsKTtcclxuXHJcblxyXG4vLyAuZDg4ODhiLiAgICAgICAgZDg4ODggODg4ODg4OGIuICAgLmQ4ODg4Yi4gICAgICAgICAgIDg4OCBcclxuLy9kODhQICBZODhiICAgICAgZDg4ODg4IDg4OCAgXCJZODhiIGQ4OFAgIFk4OGIgICAgICAgICAgODg4IFxyXG4vLzg4OCAgICA4ODggICAgIGQ4OFA4ODggODg4ICAgIDg4OCBZODhiLiAgICAgICAgICAgICAgIDg4OCBcclxuLy84ODggICAgICAgICAgIGQ4OFAgODg4IDg4OCAgICA4ODggIFwiWTg4OGIuICAgIC5kODhiLiAgODg4IFxyXG4vLzg4OCAgICAgICAgICBkODhQICA4ODggODg4ICAgIDg4OCAgICAgXCJZODhiLiBkOFAgIFk4YiA4ODggXHJcbi8vODg4ICAgIDg4OCAgZDg4UCAgIDg4OCA4ODggICAgODg4ICAgICAgIFwiODg4IDg4ODg4ODg4IDg4OCBcclxuLy9ZODhiICBkODhQIGQ4ODg4ODg4ODg4IDg4OCAgLmQ4OFAgWTg4YiAgZDg4UCBZOGIuICAgICA4ODggXHJcbi8vIFwiWTg4ODhQXCIgZDg4UCAgICAgODg4IDg4ODg4ODhQXCIgICBcIlk4ODg4UFwiICAgXCJZODg4OCAgODg4IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuY29uc3QgQWN0aXZlQ2Fkc1NlbGVjdG9yID0gKHthdmFpbGFibGVDYWRzLCBhY3RpdmVDYWRzLCBvbkFjdGl2ZUNhZHNDaGFuZ2V9KSA9PiAoXHJcbiAgPFNlbGVjdCBcclxuICAgICAgbXVsdGk9e3RydWV9XHJcbiAgICAgIG9wdGlvbnM9e2F2YWlsYWJsZUNhZHMubWFwKGNhZE5hbWUgPT4gKHtsYWJlbDogY2FkTmFtZSwgdmFsdWU6IGNhZE5hbWV9KSl9XHJcbiAgICAgIHZhbHVlPXthY3RpdmVDYWRzfVxyXG4gICAgICBvbkNoYW5nZT17KHZhbHMpID0+IG9uQWN0aXZlQ2Fkc0NoYW5nZSh2YWxzID8gdmFscy5tYXAoKCh7dmFsdWV9KSA9PiB2YWx1ZSkpIDogW10pfVxyXG4gICAgICBwbGFjZWhvbGRlcj1cImRlc3RpbmF0aW9uIENBRHNcIlxyXG4gICAgLz5cclxuKTtcclxuXHJcbmNvbnN0IFJ1bkluQ2FkUGFuZWwgPSAoe1xyXG4gIGF2YWlsYWJsZUNhZHMsIFxyXG4gIGFjdGl2ZUNhZHMsIFxyXG4gIG9uQWN0aXZlQ2Fkc0NoYW5nZSxcclxuICBvblJ1bkluQ2FkQ2xpY2tlZCxcclxuICBvbkNsZWFyQ2FkQ2xpY2tlZFxyXG59KSA9PiAoXHJcbiAgPGRpdj5cclxuICAgIDxoMz5FeHBvcnQgdG8gQ0FEPC9oMz5cclxuICAgIDxBY3RpdmVDYWRzU2VsZWN0b3IgXHJcbiAgICAgIGFjdGl2ZUNhZHM9e2FjdGl2ZUNhZHN9IFxyXG4gICAgICBhdmFpbGFibGVDYWRzPXthdmFpbGFibGVDYWRzfVxyXG4gICAgICBvbkFjdGl2ZUNhZHNDaGFuZ2U9e29uQWN0aXZlQ2Fkc0NoYW5nZX0vPlxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJ1bkluQ2FkQ2xpY2tlZH0+UnVuIGluIENBRDwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsZWFyQ2FkQ2xpY2tlZH0+Q2xlYXIgQ0FEPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5jb25zdCBSdW5JbkNhZENvbnRhaW5lciA9IGNvbm5lY3QoXHJcbiAgc3RhdGUgPT4gKHtcclxuICAgIGF2YWlsYWJsZUNhZHM6IHN0YXRlLmF2YWlsYWJsZUNhZHMsIFxyXG4gICAgYWN0aXZlQ2Fkczogc3RhdGUuZXhwb3J0Q2Fkc1xyXG4gIH0pLFxyXG4gIGRpc3BhdGNoID0+ICh7XHJcbiAgICBvbkFjdGl2ZUNhZHNDaGFuZ2U6IChhY3RpdmVDYWRzKSA9PiBkaXNwYXRjaChzZXRFeHBvcnRDYWRzKGFjdGl2ZUNhZHMpKSxcclxuICAgIG9uUnVuSW5DYWRDbGlja2VkOiAoKSA9PiBkaXNwYXRjaChkb0V4cG9ydFRvQ2FkcygpKSxcclxuICAgIG9uQ2xlYXJDYWRDbGlja2VkOiAoKSA9PiBkaXNwYXRjaChkb0NsZWFyQ2FkcygpKVxyXG4gIH0pXHJcbikoUnVuSW5DYWRQYW5lbCk7XHJcblxyXG5cclxuLy8gLmQ4ODg4Yi4gIGQ4YiAgICAgIDg4OCAgICAgICAgICA4ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4IFxyXG4vL2Q4OFAgIFk4OGIgWThQICAgICAgODg4ICAgICAgICAgIDg4OCAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcbi8vWTg4Yi4gICAgICAgICAgICAgICA4ODggICAgICAgICAgODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCBcclxuLy8gXCJZODg4Yi4gICA4ODggIC5kODg4ODggIC5kODhiLiAgODg4ICAgZDg4UCA4ODg4Yi4gIDg4ODg4Yi4gICAuZDg4Yi4gIDg4OCBcclxuLy8gICAgXCJZODhiLiA4ODggZDg4XCIgODg4IGQ4UCAgWThiIDg4ODg4ODhQXCIgICAgIFwiODhiIDg4OCBcIjg4YiBkOFAgIFk4YiA4ODggXHJcbi8vICAgICAgXCI4ODggODg4IDg4OCAgODg4IDg4ODg4ODg4IDg4OCAgICAgICAuZDg4ODg4OCA4ODggIDg4OCA4ODg4ODg4OCA4ODggXHJcbi8vWTg4YiAgZDg4UCA4ODggWTg4YiA4ODggWThiLiAgICAgODg4ICAgICAgIDg4OCAgODg4IDg4OCAgODg4IFk4Yi4gICAgIDg4OCBcclxuLy8gXCJZODg4OFBcIiAgODg4ICBcIlk4ODg4OCAgXCJZODg4OCAgODg4ICAgICAgIFwiWTg4ODg4OCA4ODggIDg4OCAgXCJZODg4OCAgODg4IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuY29uc3QgdG9wQmFySGVpZ2h0ID0gJzgwcHgnO1xyXG5jb25zdCBwcm9ncmFtU2VsZWN0aW9uSWNvbiA9ICdpY29ucy9wcm9ncmFtLXNlbGVjdGlvbi5zdmcnO1xyXG5jb25zdCBydW5JbkNhZEljb24gPSAnaWNvbnMvcnVuLWluLWNhZC5zdmcnO1xyXG5cclxuY29uc3QgU2lkZVBhbmVsID0gKHtvblByb2dyYW1TZWxlY3Rpb25JY29uQ2xpY2tlZCwgb25SdW5JbkNhZEljb25DbGlja2VkfSkgPT4gKFxyXG4gIDxWZXJ0aWNhbEljb25CYXI+XHJcbiAgICA8U3BhY2VyIHdpZHRoPVwiMTAwJVwiIGhlaWdodD17dG9wQmFySGVpZ2h0fS8+XHJcbiAgICA8SWNvbkJ1dHRvbiBpY29uPXtwcm9ncmFtU2VsZWN0aW9uSWNvbn0gb25DbGljaz17b25Qcm9ncmFtU2VsZWN0aW9uSWNvbkNsaWNrZWR9Lz5cclxuICAgIDxJY29uQnV0dG9uIGljb249e3J1bkluQ2FkSWNvbn0gb25DbGljaz17b25SdW5JbkNhZEljb25DbGlja2VkfS8+XHJcbiAgPC9WZXJ0aWNhbEljb25CYXI+XHJcbik7XHJcblxyXG5jb25zdCBTaWRlUGFuZWxEcmF3ZXJzID0gKHthY3RpdmVQYW5lbH0pID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT0nZHJhd2VyLWNvbnRhaW5lcic+XHJcbiAgICA8RHJhd2VyIG9wZW49e2FjdGl2ZVBhbmVsID09PSAncHJvZ3JhbVNlbGVjdGlvbid9PlxyXG4gICAgICA8UHJvZ3JhbVNlbGVjdGlvbkNvbnRhaW5lci8+XHJcbiAgICA8L0RyYXdlcj5cclxuICAgIDxEcmF3ZXIgb3Blbj17YWN0aXZlUGFuZWwgPT09ICdydW5JbkNhZCd9PlxyXG4gICAgICA8UnVuSW5DYWRDb250YWluZXIvPlxyXG4gICAgPC9EcmF3ZXI+XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5jbGFzcyBTaWRlUGFuZWxzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWN0aXZlUGFuZWw6IG51bGxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB0b2dnbGVPck1ha2VBY3RpdmUocGFuZWwpIHtcclxuICAgIGxldCB7YWN0aXZlUGFuZWx9ID0gdGhpcy5zdGF0ZTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVQYW5lbDogYWN0aXZlUGFuZWwgPT09IHBhbmVsID8gbnVsbCA6IHBhbmVsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHthY3RpdmVQYW5lbH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3QgYWN0aXZhdGVQcm9nU2VsZWN0UGFuZWwgPSAoKSA9PiB0aGlzLnRvZ2dsZU9yTWFrZUFjdGl2ZSgncHJvZ3JhbVNlbGVjdGlvbicpO1xyXG4gICAgY29uc3QgYWN0aXZhdGVSdW5JbkNhZFBhbmVsID0gKCkgPT4gdGhpcy50b2dnbGVPck1ha2VBY3RpdmUoJ3J1bkluQ2FkJyk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxTaWRlUGFuZWwgXHJcbiAgICAgICAgICBvblByb2dyYW1TZWxlY3Rpb25JY29uQ2xpY2tlZD17YWN0aXZhdGVQcm9nU2VsZWN0UGFuZWx9XHJcbiAgICAgICAgICBvblJ1bkluQ2FkSWNvbkNsaWNrZWQ9e2FjdGl2YXRlUnVuSW5DYWRQYW5lbH0vPlxyXG4gICAgICAgIDxTaWRlUGFuZWxEcmF3ZXJzIGFjdGl2ZVBhbmVsPXthY3RpdmVQYW5lbH0vPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2lkZVBhbmVscztcclxuIiwiXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuXHJcbmNvbnN0IGV4YW1wbGVEYXRhID0gW1xyXG5cdFtcImF0b21pdW0uanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJhdG9taXVtLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiZWRpZmljaW9fY2FybW8uanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJlZGlmaWNpb19jYXJtby5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImV4Nl90cmVsaWNhX21vYml1cy5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImV4Nl90cmVsaWNhX21vYml1cy5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImluaXRpYWxQcm9ncmFtLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwiaW5pdGlhbFByb2dyYW0uanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJpbmVzLXdhbGwuanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJpbmVzLXdhbGwuanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJub2xhbi1mYWNhZGUuanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJub2xhbi1mYWNhZGUuanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJzaGV1bmctd2FuLWhvdGVsLXYzLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwic2hldW5nLXdhbi1ob3RlbC12My5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImRvbS1pbm8tZnJhbWUuanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJkb20taW5vLWZyYW1lLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiY3J1emV0YS5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImNydXpldGEuanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJjb2x1bW4uanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJjb2x1bW4uanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJjb25lU3BoZXJlLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwiY29uZVNwaGVyZS5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImNpdGllcy5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImNpdGllcy5qc1wiLCBcInV0ZjhcIildXHJcbl07XHJcblxyXG5jb25zdCBleGFtcGxlcyA9IGV4YW1wbGVEYXRhLm1hcChcclxuXHQoW25hbWUsIHNvdXJjZUNvZGVdKT0+KHtcclxuXHRcdG5hbWU6IG5hbWUsXHJcblx0XHRwcm9ncmFtOiBzb3VyY2VDb2RlXHJcblx0fSkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMuZXhhbXBsZXMgPSBleGFtcGxlcztcclxuIiwiXHJcbi8vcmVxdWlyZSgnLi9wYWdlJyk7XHJcblxyXG5yZXF1aXJlKCcuL2FjdGlvbnMtcmVkdWNlcnMvY29tcG9uZW50cy10ZXN0LmpzeCcpO1xyXG4iLCJcclxuZnVuY3Rpb24gdGltZShsYWJlbCwgdGh1bmspIHtcclxuXHRsZXQgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRsZXQgcmVzID0gdGh1bmsoKTtcclxuXHRsZXQgdDEgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRjb25zb2xlLmxvZyhsYWJlbCwgdDEtdDApO1xyXG5cdHJldHVybiByZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRpbWU7XHJcbiJdfQ==
