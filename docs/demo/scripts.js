(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"], function(acequire, exports, module) {
"use strict";
var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var lang = acequire("./lib/lang");
var Range = acequire("./range").Range;
var Anchor = acequire("./anchor").Anchor;
var HashHandler = acequire("./keyboard/hash_handler").HashHandler;
var Tokenizer = acequire("./tokenizer").Tokenizer;
var comparePoints = Range.comparePoints;

var SnippetManager = function() {
    this.snippetMap = {};
    this.snippetNameMap = {};
};

(function() {
    oop.implement(this, EventEmitter);
    
    this.getTokenizer = function() {
        function TabstopToken(str, _, stack) {
            str = str.substr(1);
            if (/^\d+$/.test(str) && !stack.inFormatString)
                return [{tabstopId: parseInt(str, 10)}];
            return [{text: str}];
        }
        function escape(ch) {
            return "(?:[^\\\\" + ch + "]|\\\\.)";
        }
        SnippetManager.$tokenizer = new Tokenizer({
            start: [
                {regex: /:/, onMatch: function(val, state, stack) {
                    if (stack.length && stack[0].expectIf) {
                        stack[0].expectIf = false;
                        stack[0].elseBranch = stack[0];
                        return [stack[0]];
                    }
                    return ":";
                }},
                {regex: /\\./, onMatch: function(val, state, stack) {
                    var ch = val[1];
                    if (ch == "}" && stack.length) {
                        val = ch;
                    }else if ("`$\\".indexOf(ch) != -1) {
                        val = ch;
                    } else if (stack.inFormatString) {
                        if (ch == "n")
                            val = "\n";
                        else if (ch == "t")
                            val = "\n";
                        else if ("ulULE".indexOf(ch) != -1) {
                            val = {changeCase: ch, local: ch > "a"};
                        }
                    }

                    return [val];
                }},
                {regex: /}/, onMatch: function(val, state, stack) {
                    return [stack.length ? stack.shift() : val];
                }},
                {regex: /\$(?:\d+|\w+)/, onMatch: TabstopToken},
                {regex: /\$\{[\dA-Z_a-z]+/, onMatch: function(str, state, stack) {
                    var t = TabstopToken(str.substr(1), state, stack);
                    stack.unshift(t[0]);
                    return t;
                }, next: "snippetVar"},
                {regex: /\n/, token: "newline", merge: false}
            ],
            snippetVar: [
                {regex: "\\|" + escape("\\|") + "*\\|", onMatch: function(val, state, stack) {
                    stack[0].choices = val.slice(1, -1).split(",");
                }, next: "start"},
                {regex: "/(" + escape("/") + "+)/(?:(" + escape("/") + "*)/)(\\w*):?",
                 onMatch: function(val, state, stack) {
                    var ts = stack[0];
                    ts.fmtString = val;

                    val = this.splitRegex.exec(val);
                    ts.guard = val[1];
                    ts.fmt = val[2];
                    ts.flag = val[3];
                    return "";
                }, next: "start"},
                {regex: "`" + escape("`") + "*`", onMatch: function(val, state, stack) {
                    stack[0].code = val.splice(1, -1);
                    return "";
                }, next: "start"},
                {regex: "\\?", onMatch: function(val, state, stack) {
                    if (stack[0])
                        stack[0].expectIf = true;
                }, next: "start"},
                {regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "start"}
            ],
            formatString: [
                {regex: "/(" + escape("/") + "+)/", token: "regex"},
                {regex: "", onMatch: function(val, state, stack) {
                    stack.inFormatString = true;
                }, next: "start"}
            ]
        });
        SnippetManager.prototype.getTokenizer = function() {
            return SnippetManager.$tokenizer;
        };
        return SnippetManager.$tokenizer;
    };

    this.tokenizeTmSnippet = function(str, startState) {
        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {
            return x.value || x;
        });
    };

    this.$getDefaultValue = function(editor, name) {
        if (/^[A-Z]\d+$/.test(name)) {
            var i = name.substr(1);
            return (this.variables[name[0] + "__"] || {})[i];
        }
        if (/^\d+$/.test(name)) {
            return (this.variables.__ || {})[name];
        }
        name = name.replace(/^TM_/, "");

        if (!editor)
            return;
        var s = editor.session;
        switch(name) {
            case "CURRENT_WORD":
                var r = s.getWordRange();
            case "SELECTION":
            case "SELECTED_TEXT":
                return s.getTextRange(r);
            case "CURRENT_LINE":
                return s.getLine(editor.getCursorPosition().row);
            case "PREV_LINE": // not possible in textmate
                return s.getLine(editor.getCursorPosition().row - 1);
            case "LINE_INDEX":
                return editor.getCursorPosition().column;
            case "LINE_NUMBER":
                return editor.getCursorPosition().row + 1;
            case "SOFT_TABS":
                return s.getUseSoftTabs() ? "YES" : "NO";
            case "TAB_SIZE":
                return s.getTabSize();
            case "FILENAME":
            case "FILEPATH":
                return "";
            case "FULLNAME":
                return "Ace";
        }
    };
    this.variables = {};
    this.getVariableValue = function(editor, varName) {
        if (this.variables.hasOwnProperty(varName))
            return this.variables[varName](editor, varName) || "";
        return this.$getDefaultValue(editor, varName) || "";
    };
    this.tmStrFormat = function(str, ch, editor) {
        var flag = ch.flag || "";
        var re = ch.guard;
        re = new RegExp(re, flag.replace(/[^gi]/, ""));
        var fmtTokens = this.tokenizeTmSnippet(ch.fmt, "formatString");
        var _self = this;
        var formatted = str.replace(re, function() {
            _self.variables.__ = arguments;
            var fmtParts = _self.resolveVariables(fmtTokens, editor);
            var gChangeCase = "E";
            for (var i  = 0; i < fmtParts.length; i++) {
                var ch = fmtParts[i];
                if (typeof ch == "object") {
                    fmtParts[i] = "";
                    if (ch.changeCase && ch.local) {
                        var next = fmtParts[i + 1];
                        if (next && typeof next == "string") {
                            if (ch.changeCase == "u")
                                fmtParts[i] = next[0].toUpperCase();
                            else
                                fmtParts[i] = next[0].toLowerCase();
                            fmtParts[i + 1] = next.substr(1);
                        }
                    } else if (ch.changeCase) {
                        gChangeCase = ch.changeCase;
                    }
                } else if (gChangeCase == "U") {
                    fmtParts[i] = ch.toUpperCase();
                } else if (gChangeCase == "L") {
                    fmtParts[i] = ch.toLowerCase();
                }
            }
            return fmtParts.join("");
        });
        this.variables.__ = null;
        return formatted;
    };

    this.resolveVariables = function(snippet, editor) {
        var result = [];
        for (var i = 0; i < snippet.length; i++) {
            var ch = snippet[i];
            if (typeof ch == "string") {
                result.push(ch);
            } else if (typeof ch != "object") {
                continue;
            } else if (ch.skip) {
                gotoNext(ch);
            } else if (ch.processed < i) {
                continue;
            } else if (ch.text) {
                var value = this.getVariableValue(editor, ch.text);
                if (value && ch.fmtString)
                    value = this.tmStrFormat(value, ch);
                ch.processed = i;
                if (ch.expectIf == null) {
                    if (value) {
                        result.push(value);
                        gotoNext(ch);
                    }
                } else {
                    if (value) {
                        ch.skip = ch.elseBranch;
                    } else
                        gotoNext(ch);
                }
            } else if (ch.tabstopId != null) {
                result.push(ch);
            } else if (ch.changeCase != null) {
                result.push(ch);
            }
        }
        function gotoNext(ch) {
            var i1 = snippet.indexOf(ch, i + 1);
            if (i1 != -1)
                i = i1;
        }
        return result;
    };

    this.insertSnippetForSelection = function(editor, snippetText) {
        var cursor = editor.getCursorPosition();
        var line = editor.session.getLine(cursor.row);
        var tabString = editor.session.getTabString();
        var indentString = line.match(/^\s*/)[0];
        
        if (cursor.column < indentString.length)
            indentString = indentString.slice(0, cursor.column);

        var tokens = this.tokenizeTmSnippet(snippetText);
        tokens = this.resolveVariables(tokens, editor);
        tokens = tokens.map(function(x) {
            if (x == "\n")
                return x + indentString;
            if (typeof x == "string")
                return x.replace(/\t/g, tabString);
            return x;
        });
        var tabstops = [];
        tokens.forEach(function(p, i) {
            if (typeof p != "object")
                return;
            var id = p.tabstopId;
            var ts = tabstops[id];
            if (!ts) {
                ts = tabstops[id] = [];
                ts.index = id;
                ts.value = "";
            }
            if (ts.indexOf(p) !== -1)
                return;
            ts.push(p);
            var i1 = tokens.indexOf(p, i + 1);
            if (i1 === -1)
                return;

            var value = tokens.slice(i + 1, i1);
            var isNested = value.some(function(t) {return typeof t === "object"});          
            if (isNested && !ts.value) {
                ts.value = value;
            } else if (value.length && (!ts.value || typeof ts.value !== "string")) {
                ts.value = value.join("");
            }
        });
        tabstops.forEach(function(ts) {ts.length = 0});
        var expanding = {};
        function copyValue(val) {
            var copy = [];
            for (var i = 0; i < val.length; i++) {
                var p = val[i];
                if (typeof p == "object") {
                    if (expanding[p.tabstopId])
                        continue;
                    var j = val.lastIndexOf(p, i - 1);
                    p = copy[j] || {tabstopId: p.tabstopId};
                }
                copy[i] = p;
            }
            return copy;
        }
        for (var i = 0; i < tokens.length; i++) {
            var p = tokens[i];
            if (typeof p != "object")
                continue;
            var id = p.tabstopId;
            var i1 = tokens.indexOf(p, i + 1);
            if (expanding[id]) {
                if (expanding[id] === p)
                    expanding[id] = null;
                continue;
            }
            
            var ts = tabstops[id];
            var arg = typeof ts.value == "string" ? [ts.value] : copyValue(ts.value);
            arg.unshift(i + 1, Math.max(0, i1 - i));
            arg.push(p);
            expanding[id] = p;
            tokens.splice.apply(tokens, arg);

            if (ts.indexOf(p) === -1)
                ts.push(p);
        }
        var row = 0, column = 0;
        var text = "";
        tokens.forEach(function(t) {
            if (typeof t === "string") {
                if (t[0] === "\n"){
                    column = t.length - 1;
                    row ++;
                } else
                    column += t.length;
                text += t;
            } else {
                if (!t.start)
                    t.start = {row: row, column: column};
                else
                    t.end = {row: row, column: column};
            }
        });
        var range = editor.getSelectionRange();
        var end = editor.session.replace(range, text);

        var tabstopManager = new TabstopManager(editor);
        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;
        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);
    };
    
    this.insertSnippet = function(editor, snippetText) {
        var self = this;
        if (editor.inVirtualSelectionMode)
            return self.insertSnippetForSelection(editor, snippetText);
        
        editor.forEachSelection(function() {
            self.insertSnippetForSelection(editor, snippetText);
        }, null, {keepOrder: true});
        
        if (editor.tabstopManager)
            editor.tabstopManager.tabNext();
    };

    this.$getScope = function(editor) {
        var scope = editor.session.$mode.$id || "";
        scope = scope.split("/").pop();
        if (scope === "html" || scope === "php") {
            if (scope === "php" && !editor.session.$mode.inlinePhp) 
                scope = "html";
            var c = editor.getCursorPosition();
            var state = editor.session.getState(c.row);
            if (typeof state === "object") {
                state = state[0];
            }
            if (state.substring) {
                if (state.substring(0, 3) == "js-")
                    scope = "javascript";
                else if (state.substring(0, 4) == "css-")
                    scope = "css";
                else if (state.substring(0, 4) == "php-")
                    scope = "php";
            }
        }
        
        return scope;
    };

    this.getActiveScopes = function(editor) {
        var scope = this.$getScope(editor);
        var scopes = [scope];
        var snippetMap = this.snippetMap;
        if (snippetMap[scope] && snippetMap[scope].includeScopes) {
            scopes.push.apply(scopes, snippetMap[scope].includeScopes);
        }
        scopes.push("_");
        return scopes;
    };

    this.expandWithTab = function(editor, options) {
        var self = this;
        var result = editor.forEachSelection(function() {
            return self.expandSnippetForSelection(editor, options);
        }, null, {keepOrder: true});
        if (result && editor.tabstopManager)
            editor.tabstopManager.tabNext();
        return result;
    };
    
    this.expandSnippetForSelection = function(editor, options) {
        var cursor = editor.getCursorPosition();
        var line = editor.session.getLine(cursor.row);
        var before = line.substring(0, cursor.column);
        var after = line.substr(cursor.column);

        var snippetMap = this.snippetMap;
        var snippet;
        this.getActiveScopes(editor).some(function(scope) {
            var snippets = snippetMap[scope];
            if (snippets)
                snippet = this.findMatchingSnippet(snippets, before, after);
            return !!snippet;
        }, this);
        if (!snippet)
            return false;
        if (options && options.dryRun)
            return true;
        editor.session.doc.removeInLine(cursor.row,
            cursor.column - snippet.replaceBefore.length,
            cursor.column + snippet.replaceAfter.length
        );

        this.variables.M__ = snippet.matchBefore;
        this.variables.T__ = snippet.matchAfter;
        this.insertSnippetForSelection(editor, snippet.content);

        this.variables.M__ = this.variables.T__ = null;
        return true;
    };

    this.findMatchingSnippet = function(snippetList, before, after) {
        for (var i = snippetList.length; i--;) {
            var s = snippetList[i];
            if (s.startRe && !s.startRe.test(before))
                continue;
            if (s.endRe && !s.endRe.test(after))
                continue;
            if (!s.startRe && !s.endRe)
                continue;

            s.matchBefore = s.startRe ? s.startRe.exec(before) : [""];
            s.matchAfter = s.endRe ? s.endRe.exec(after) : [""];
            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : "";
            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : "";
            return s;
        }
    };

    this.snippetMap = {};
    this.snippetNameMap = {};
    this.register = function(snippets, scope) {
        var snippetMap = this.snippetMap;
        var snippetNameMap = this.snippetNameMap;
        var self = this;
        
        if (!snippets) 
            snippets = [];
        
        function wrapRegexp(src) {
            if (src && !/^\^?\(.*\)\$?$|^\\b$/.test(src))
                src = "(?:" + src + ")";

            return src || "";
        }
        function guardedRegexp(re, guard, opening) {
            re = wrapRegexp(re);
            guard = wrapRegexp(guard);
            if (opening) {
                re = guard + re;
                if (re && re[re.length - 1] != "$")
                    re = re + "$";
            } else {
                re = re + guard;
                if (re && re[0] != "^")
                    re = "^" + re;
            }
            return new RegExp(re);
        }

        function addSnippet(s) {
            if (!s.scope)
                s.scope = scope || "_";
            scope = s.scope;
            if (!snippetMap[scope]) {
                snippetMap[scope] = [];
                snippetNameMap[scope] = {};
            }

            var map = snippetNameMap[scope];
            if (s.name) {
                var old = map[s.name];
                if (old)
                    self.unregister(old);
                map[s.name] = s;
            }
            snippetMap[scope].push(s);

            if (s.tabTrigger && !s.trigger) {
                if (!s.guard && /^\w/.test(s.tabTrigger))
                    s.guard = "\\b";
                s.trigger = lang.escapeRegExp(s.tabTrigger);
            }
            
            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)
                return;
            
            s.startRe = guardedRegexp(s.trigger, s.guard, true);
            s.triggerRe = new RegExp(s.trigger, "", true);

            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);
            s.endTriggerRe = new RegExp(s.endTrigger, "", true);
        }

        if (snippets && snippets.content)
            addSnippet(snippets);
        else if (Array.isArray(snippets))
            snippets.forEach(addSnippet);
        
        this._signal("registerSnippets", {scope: scope});
    };
    this.unregister = function(snippets, scope) {
        var snippetMap = this.snippetMap;
        var snippetNameMap = this.snippetNameMap;

        function removeSnippet(s) {
            var nameMap = snippetNameMap[s.scope||scope];
            if (nameMap && nameMap[s.name]) {
                delete nameMap[s.name];
                var map = snippetMap[s.scope||scope];
                var i = map && map.indexOf(s);
                if (i >= 0)
                    map.splice(i, 1);
            }
        }
        if (snippets.content)
            removeSnippet(snippets);
        else if (Array.isArray(snippets))
            snippets.forEach(removeSnippet);
    };
    this.parseSnippetFile = function(str) {
        str = str.replace(/\r/g, "");
        var list = [], snippet = {};
        var re = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;
        var m;
        while (m = re.exec(str)) {
            if (m[1]) {
                try {
                    snippet = JSON.parse(m[1]);
                    list.push(snippet);
                } catch (e) {}
            } if (m[4]) {
                snippet.content = m[4].replace(/^\t/gm, "");
                list.push(snippet);
                snippet = {};
            } else {
                var key = m[2], val = m[3];
                if (key == "regex") {
                    var guardRe = /\/((?:[^\/\\]|\\.)*)|$/g;
                    snippet.guard = guardRe.exec(val)[1];
                    snippet.trigger = guardRe.exec(val)[1];
                    snippet.endTrigger = guardRe.exec(val)[1];
                    snippet.endGuard = guardRe.exec(val)[1];
                } else if (key == "snippet") {
                    snippet.tabTrigger = val.match(/^\S*/)[0];
                    if (!snippet.name)
                        snippet.name = val;
                } else {
                    snippet[key] = val;
                }
            }
        }
        return list;
    };
    this.getSnippetByName = function(name, editor) {
        var snippetMap = this.snippetNameMap;
        var snippet;
        this.getActiveScopes(editor).some(function(scope) {
            var snippets = snippetMap[scope];
            if (snippets)
                snippet = snippets[name];
            return !!snippet;
        }, this);
        return snippet;
    };

}).call(SnippetManager.prototype);


var TabstopManager = function(editor) {
    if (editor.tabstopManager)
        return editor.tabstopManager;
    editor.tabstopManager = this;
    this.$onChange = this.onChange.bind(this);
    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;
    this.$onChangeSession = this.onChangeSession.bind(this);
    this.$onAfterExec = this.onAfterExec.bind(this);
    this.attach(editor);
};
(function() {
    this.attach = function(editor) {
        this.index = 0;
        this.ranges = [];
        this.tabstops = [];
        this.$openTabstops = null;
        this.selectedTabstop = null;

        this.editor = editor;
        this.editor.on("change", this.$onChange);
        this.editor.on("changeSelection", this.$onChangeSelection);
        this.editor.on("changeSession", this.$onChangeSession);
        this.editor.commands.on("afterExec", this.$onAfterExec);
        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
    };
    this.detach = function() {
        this.tabstops.forEach(this.removeTabstopMarkers, this);
        this.ranges = null;
        this.tabstops = null;
        this.selectedTabstop = null;
        this.editor.removeListener("change", this.$onChange);
        this.editor.removeListener("changeSelection", this.$onChangeSelection);
        this.editor.removeListener("changeSession", this.$onChangeSession);
        this.editor.commands.removeListener("afterExec", this.$onAfterExec);
        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
        this.editor.tabstopManager = null;
        this.editor = null;
    };

    this.onChange = function(delta) {
        var changeRange = delta;
        var isRemove = delta.action[0] == "r";
        var start = delta.start;
        var end = delta.end;
        var startRow = start.row;
        var endRow = end.row;
        var lineDif = endRow - startRow;
        var colDiff = end.column - start.column;

        if (isRemove) {
            lineDif = -lineDif;
            colDiff = -colDiff;
        }
        if (!this.$inChange && isRemove) {
            var ts = this.selectedTabstop;
            var changedOutside = ts && !ts.some(function(r) {
                return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;
            });
            if (changedOutside)
                return this.detach();
        }
        var ranges = this.ranges;
        for (var i = 0; i < ranges.length; i++) {
            var r = ranges[i];
            if (r.end.row < start.row)
                continue;

            if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {
                this.removeRange(r);
                i--;
                continue;
            }

            if (r.start.row == startRow && r.start.column > start.column)
                r.start.column += colDiff;
            if (r.end.row == startRow && r.end.column >= start.column)
                r.end.column += colDiff;
            if (r.start.row >= startRow)
                r.start.row += lineDif;
            if (r.end.row >= startRow)
                r.end.row += lineDif;

            if (comparePoints(r.start, r.end) > 0)
                this.removeRange(r);
        }
        if (!ranges.length)
            this.detach();
    };
    this.updateLinkedFields = function() {
        var ts = this.selectedTabstop;
        if (!ts || !ts.hasLinkedRanges)
            return;
        this.$inChange = true;
        var session = this.editor.session;
        var text = session.getTextRange(ts.firstNonLinked);
        for (var i = ts.length; i--;) {
            var range = ts[i];
            if (!range.linked)
                continue;
            var fmt = exports.snippetManager.tmStrFormat(text, range.original);
            session.replace(range, fmt);
        }
        this.$inChange = false;
    };
    this.onAfterExec = function(e) {
        if (e.command && !e.command.readOnly)
            this.updateLinkedFields();
    };
    this.onChangeSelection = function() {
        if (!this.editor)
            return;
        var lead = this.editor.selection.lead;
        var anchor = this.editor.selection.anchor;
        var isEmpty = this.editor.selection.isEmpty();
        for (var i = this.ranges.length; i--;) {
            if (this.ranges[i].linked)
                continue;
            var containsLead = this.ranges[i].contains(lead.row, lead.column);
            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);
            if (containsLead && containsAnchor)
                return;
        }
        this.detach();
    };
    this.onChangeSession = function() {
        this.detach();
    };
    this.tabNext = function(dir) {
        var max = this.tabstops.length;
        var index = this.index + (dir || 1);
        index = Math.min(Math.max(index, 1), max);
        if (index == max)
            index = 0;
        this.selectTabstop(index);
        if (index === 0)
            this.detach();
    };
    this.selectTabstop = function(index) {
        this.$openTabstops = null;
        var ts = this.tabstops[this.index];
        if (ts)
            this.addTabstopMarkers(ts);
        this.index = index;
        ts = this.tabstops[this.index];
        if (!ts || !ts.length)
            return;
        
        this.selectedTabstop = ts;
        if (!this.editor.inVirtualSelectionMode) {        
            var sel = this.editor.multiSelect;
            sel.toSingleRange(ts.firstNonLinked.clone());
            for (var i = ts.length; i--;) {
                if (ts.hasLinkedRanges && ts[i].linked)
                    continue;
                sel.addRange(ts[i].clone(), true);
            }
            if (sel.ranges[0])
                sel.addRange(sel.ranges[0].clone());
        } else {
            this.editor.selection.setRange(ts.firstNonLinked);
        }
        
        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
    };
    this.addTabstops = function(tabstops, start, end) {
        if (!this.$openTabstops)
            this.$openTabstops = [];
        if (!tabstops[0]) {
            var p = Range.fromPoints(end, end);
            moveRelative(p.start, start);
            moveRelative(p.end, start);
            tabstops[0] = [p];
            tabstops[0].index = 0;
        }

        var i = this.index;
        var arg = [i + 1, 0];
        var ranges = this.ranges;
        tabstops.forEach(function(ts, index) {
            var dest = this.$openTabstops[index] || ts;
                
            for (var i = ts.length; i--;) {
                var p = ts[i];
                var range = Range.fromPoints(p.start, p.end || p.start);
                movePoint(range.start, start);
                movePoint(range.end, start);
                range.original = p;
                range.tabstop = dest;
                ranges.push(range);
                if (dest != ts)
                    dest.unshift(range);
                else
                    dest[i] = range;
                if (p.fmtString) {
                    range.linked = true;
                    dest.hasLinkedRanges = true;
                } else if (!dest.firstNonLinked)
                    dest.firstNonLinked = range;
            }
            if (!dest.firstNonLinked)
                dest.hasLinkedRanges = false;
            if (dest === ts) {
                arg.push(dest);
                this.$openTabstops[index] = dest;
            }
            this.addTabstopMarkers(dest);
        }, this);
        
        if (arg.length > 2) {
            if (this.tabstops.length)
                arg.push(arg.splice(2, 1)[0]);
            this.tabstops.splice.apply(this.tabstops, arg);
        }
    };

    this.addTabstopMarkers = function(ts) {
        var session = this.editor.session;
        ts.forEach(function(range) {
            if  (!range.markerId)
                range.markerId = session.addMarker(range, "ace_snippet-marker", "text");
        });
    };
    this.removeTabstopMarkers = function(ts) {
        var session = this.editor.session;
        ts.forEach(function(range) {
            session.removeMarker(range.markerId);
            range.markerId = null;
        });
    };
    this.removeRange = function(range) {
        var i = range.tabstop.indexOf(range);
        range.tabstop.splice(i, 1);
        i = this.ranges.indexOf(range);
        this.ranges.splice(i, 1);
        this.editor.session.removeMarker(range.markerId);
        if (!range.tabstop.length) {
            i = this.tabstops.indexOf(range.tabstop);
            if (i != -1)
                this.tabstops.splice(i, 1);
            if (!this.tabstops.length)
                this.detach();
        }
    };

    this.keyboardHandler = new HashHandler();
    this.keyboardHandler.bindKeys({
        "Tab": function(ed) {
            if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {
                return;
            }

            ed.tabstopManager.tabNext(1);
        },
        "Shift-Tab": function(ed) {
            ed.tabstopManager.tabNext(-1);
        },
        "Esc": function(ed) {
            ed.tabstopManager.detach();
        },
        "Return": function(ed) {
            return false;
        }
    });
}).call(TabstopManager.prototype);



var changeTracker = {};
changeTracker.onChange = Anchor.prototype.onChange;
changeTracker.setPosition = function(row, column) {
    this.pos.row = row;
    this.pos.column = column;
};
changeTracker.update = function(pos, delta, $insertRight) {
    this.$insertRight = $insertRight;
    this.pos = pos; 
    this.onChange(delta);
};

var movePoint = function(point, diff) {
    if (point.row == 0)
        point.column += diff.column;
    point.row += diff.row;
};

var moveRelative = function(point, start) {
    if (point.row == start.row)
        point.column -= start.column;
    point.row -= start.row;
};


acequire("./lib/dom").importCssString("\
.ace_snippet-marker {\
    -moz-box-sizing: border-box;\
    box-sizing: border-box;\
    background: rgba(194, 193, 208, 0.09);\
    border: 1px dotted rgba(211, 208, 235, 0.62);\
    position: absolute;\
}");

exports.snippetManager = new SnippetManager();


var Editor = acequire("./editor").Editor;
(function() {
    this.insertSnippet = function(content, options) {
        return exports.snippetManager.insertSnippet(this, content, options);
    };
    this.expandSnippet = function(options) {
        return exports.snippetManager.expandWithTab(this, options);
    };
}).call(Editor.prototype);

});

ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var Renderer = acequire("../virtual_renderer").VirtualRenderer;
var Editor = acequire("../editor").Editor;
var Range = acequire("../range").Range;
var event = acequire("../lib/event");
var lang = acequire("../lib/lang");
var dom = acequire("../lib/dom");

var $singleLineEditor = function(el) {
    var renderer = new Renderer(el);

    renderer.$maxLines = 4;

    var editor = new Editor(renderer);

    editor.setHighlightActiveLine(false);
    editor.setShowPrintMargin(false);
    editor.renderer.setShowGutter(false);
    editor.renderer.setHighlightGutterLine(false);

    editor.$mouseHandler.$focusWaitTimout = 0;
    editor.$highlightTagPending = true;

    return editor;
};

var AcePopup = function(parentNode) {
    var el = dom.createElement("div");
    var popup = new $singleLineEditor(el);

    if (parentNode)
        parentNode.appendChild(el);
    el.style.display = "none";
    popup.renderer.content.style.cursor = "default";
    popup.renderer.setStyle("ace_autocomplete");

    popup.setOption("displayIndentGuides", false);
    popup.setOption("dragDelay", 150);

    var noop = function(){};

    popup.focus = noop;
    popup.$isFocused = true;

    popup.renderer.$cursorLayer.restartTimer = noop;
    popup.renderer.$cursorLayer.element.style.opacity = 0;

    popup.renderer.$maxLines = 8;
    popup.renderer.$keepTextAreaAtCursor = false;

    popup.setHighlightActiveLine(false);
    popup.session.highlight("");
    popup.session.$searchHighlight.clazz = "ace_highlight-marker";

    popup.on("mousedown", function(e) {
        var pos = e.getDocumentPosition();
        popup.selection.moveToPosition(pos);
        selectionMarker.start.row = selectionMarker.end.row = pos.row;
        e.stop();
    });

    var lastMouseEvent;
    var hoverMarker = new Range(-1,0,-1,Infinity);
    var selectionMarker = new Range(-1,0,-1,Infinity);
    selectionMarker.id = popup.session.addMarker(selectionMarker, "ace_active-line", "fullLine");
    popup.setSelectOnHover = function(val) {
        if (!val) {
            hoverMarker.id = popup.session.addMarker(hoverMarker, "ace_line-hover", "fullLine");
        } else if (hoverMarker.id) {
            popup.session.removeMarker(hoverMarker.id);
            hoverMarker.id = null;
        }
    };
    popup.setSelectOnHover(false);
    popup.on("mousemove", function(e) {
        if (!lastMouseEvent) {
            lastMouseEvent = e;
            return;
        }
        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {
            return;
        }
        lastMouseEvent = e;
        lastMouseEvent.scrollTop = popup.renderer.scrollTop;
        var row = lastMouseEvent.getDocumentPosition().row;
        if (hoverMarker.start.row != row) {
            if (!hoverMarker.id)
                popup.setRow(row);
            setHoverMarker(row);
        }
    });
    popup.renderer.on("beforeRender", function() {
        if (lastMouseEvent && hoverMarker.start.row != -1) {
            lastMouseEvent.$pos = null;
            var row = lastMouseEvent.getDocumentPosition().row;
            if (!hoverMarker.id)
                popup.setRow(row);
            setHoverMarker(row, true);
        }
    });
    popup.renderer.on("afterRender", function() {
        var row = popup.getRow();
        var t = popup.renderer.$textLayer;
        var selected = t.element.childNodes[row - t.config.firstRow];
        if (selected == t.selectedNode)
            return;
        if (t.selectedNode)
            dom.removeCssClass(t.selectedNode, "ace_selected");
        t.selectedNode = selected;
        if (selected)
            dom.addCssClass(selected, "ace_selected");
    });
    var hideHoverMarker = function() { setHoverMarker(-1) };
    var setHoverMarker = function(row, suppressRedraw) {
        if (row !== hoverMarker.start.row) {
            hoverMarker.start.row = hoverMarker.end.row = row;
            if (!suppressRedraw)
                popup.session._emit("changeBackMarker");
            popup._emit("changeHoverMarker");
        }
    };
    popup.getHoveredRow = function() {
        return hoverMarker.start.row;
    };

    event.addListener(popup.container, "mouseout", hideHoverMarker);
    popup.on("hide", hideHoverMarker);
    popup.on("changeSelection", hideHoverMarker);

    popup.session.doc.getLength = function() {
        return popup.data.length;
    };
    popup.session.doc.getLine = function(i) {
        var data = popup.data[i];
        if (typeof data == "string")
            return data;
        return (data && data.value) || "";
    };

    var bgTokenizer = popup.session.bgTokenizer;
    bgTokenizer.$tokenizeRow = function(row) {
        var data = popup.data[row];
        var tokens = [];
        if (!data)
            return tokens;
        if (typeof data == "string")
            data = {value: data};
        if (!data.caption)
            data.caption = data.value || data.name;

        var last = -1;
        var flag, c;
        for (var i = 0; i < data.caption.length; i++) {
            c = data.caption[i];
            flag = data.matchMask & (1 << i) ? 1 : 0;
            if (last !== flag) {
                tokens.push({type: data.className || "" + ( flag ? "completion-highlight" : ""), value: c});
                last = flag;
            } else {
                tokens[tokens.length - 1].value += c;
            }
        }

        if (data.meta) {
            var maxW = popup.renderer.$size.scrollerWidth / popup.renderer.layerConfig.characterWidth;
            var metaData = data.meta;
            if (metaData.length + data.caption.length > maxW - 2) {
                metaData = metaData.substr(0, maxW - data.caption.length - 3) + "\u2026"
            }
            tokens.push({type: "rightAlignedText", value: metaData});
        }
        return tokens;
    };
    bgTokenizer.$updateOnChange = noop;
    bgTokenizer.start = noop;

    popup.session.$computeWidth = function() {
        return this.screenWidth = 0;
    };

    popup.$blockScrolling = Infinity;
    popup.isOpen = false;
    popup.isTopdown = false;

    popup.data = [];
    popup.setData = function(list) {
        popup.setValue(lang.stringRepeat("\n", list.length), -1);
        popup.data = list || [];
        popup.setRow(0);
    };
    popup.getData = function(row) {
        return popup.data[row];
    };

    popup.getRow = function() {
        return selectionMarker.start.row;
    };
    popup.setRow = function(line) {
        line = Math.max(-1, Math.min(this.data.length, line));
        if (selectionMarker.start.row != line) {
            popup.selection.clearSelection();
            selectionMarker.start.row = selectionMarker.end.row = line || 0;
            popup.session._emit("changeBackMarker");
            popup.moveCursorTo(line || 0, 0);
            if (popup.isOpen)
                popup._signal("select");
        }
    };

    popup.on("changeSelection", function() {
        if (popup.isOpen)
            popup.setRow(popup.selection.lead.row);
        popup.renderer.scrollCursorIntoView();
    });

    popup.hide = function() {
        this.container.style.display = "none";
        this._signal("hide");
        popup.isOpen = false;
    };
    popup.show = function(pos, lineHeight, topdownOnly) {
        var el = this.container;
        var screenHeight = window.innerHeight;
        var screenWidth = window.innerWidth;
        var renderer = this.renderer;
        var maxH = renderer.$maxLines * lineHeight * 1.4;
        var top = pos.top + this.$borderSize;
        if (top + maxH > screenHeight - lineHeight && !topdownOnly) {
            el.style.top = "";
            el.style.bottom = screenHeight - top + "px";
            popup.isTopdown = false;
        } else {
            top += lineHeight;
            el.style.top = top + "px";
            el.style.bottom = "";
            popup.isTopdown = true;
        }

        el.style.display = "";
        this.renderer.$textLayer.checkForSizeChanges();

        var left = pos.left;
        if (left + el.offsetWidth > screenWidth)
            left = screenWidth - el.offsetWidth;

        el.style.left = left + "px";

        this._signal("show");
        lastMouseEvent = null;
        popup.isOpen = true;
    };

    popup.getTextLeftOffset = function() {
        return this.$borderSize + this.renderer.$padding + this.$imageSize;
    };

    popup.$imageSize = 0;
    popup.$borderSize = 1;

    return popup;
};

dom.importCssString("\
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\
    background-color: #CAD6FA;\
    z-index: 1;\
}\
.ace_editor.ace_autocomplete .ace_line-hover {\
    border: 1px solid #abbffe;\
    margin-top: -1px;\
    background: rgba(233,233,253,0.4);\
}\
.ace_editor.ace_autocomplete .ace_line-hover {\
    position: absolute;\
    z-index: 2;\
}\
.ace_editor.ace_autocomplete .ace_scroller {\
   background: none;\
   border: none;\
   box-shadow: none;\
}\
.ace_rightAlignedText {\
    color: gray;\
    display: inline-block;\
    position: absolute;\
    right: 4px;\
    text-align: right;\
    z-index: -1;\
}\
.ace_editor.ace_autocomplete .ace_completion-highlight{\
    color: #000;\
    text-shadow: 0 0 0.01em;\
}\
.ace_editor.ace_autocomplete {\
    width: 280px;\
    z-index: 200000;\
    background: #fbfbfb;\
    color: #444;\
    border: 1px lightgray solid;\
    position: fixed;\
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\
    line-height: 1.4;\
}");

exports.AcePopup = AcePopup;

});

ace.define("ace/autocomplete/util",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.parForEach = function(array, fn, callback) {
    var completed = 0;
    var arLength = array.length;
    if (arLength === 0)
        callback();
    for (var i = 0; i < arLength; i++) {
        fn(array[i], function(result, err) {
            completed++;
            if (completed === arLength)
                callback(result, err);
        });
    }
};

var ID_REGEX = /[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;

exports.retrievePrecedingIdentifier = function(text, pos, regex) {
    regex = regex || ID_REGEX;
    var buf = [];
    for (var i = pos-1; i >= 0; i--) {
        if (regex.test(text[i]))
            buf.push(text[i]);
        else
            break;
    }
    return buf.reverse().join("");
};

exports.retrieveFollowingIdentifier = function(text, pos, regex) {
    regex = regex || ID_REGEX;
    var buf = [];
    for (var i = pos; i < text.length; i++) {
        if (regex.test(text[i]))
            buf.push(text[i]);
        else
            break;
    }
    return buf;
};

});

ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"], function(acequire, exports, module) {
"use strict";

var HashHandler = acequire("./keyboard/hash_handler").HashHandler;
var AcePopup = acequire("./autocomplete/popup").AcePopup;
var util = acequire("./autocomplete/util");
var event = acequire("./lib/event");
var lang = acequire("./lib/lang");
var dom = acequire("./lib/dom");
var snippetManager = acequire("./snippets").snippetManager;

var Autocomplete = function() {
    this.autoInsert = false;
    this.autoSelect = true;
    this.exactMatch = false;
    this.gatherCompletionsId = 0;
    this.keyboardHandler = new HashHandler();
    this.keyboardHandler.bindKeys(this.commands);

    this.blurListener = this.blurListener.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.mousedownListener = this.mousedownListener.bind(this);
    this.mousewheelListener = this.mousewheelListener.bind(this);

    this.changeTimer = lang.delayedCall(function() {
        this.updateCompletions(true);
    }.bind(this));

    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);
};

(function() {

    this.$init = function() {
        this.popup = new AcePopup(document.body || document.documentElement);
        this.popup.on("click", function(e) {
            this.insertMatch();
            e.stop();
        }.bind(this));
        this.popup.focus = this.editor.focus.bind(this.editor);
        this.popup.on("show", this.tooltipTimer.bind(null, null));
        this.popup.on("select", this.tooltipTimer.bind(null, null));
        this.popup.on("changeHoverMarker", this.tooltipTimer.bind(null, null));
        return this.popup;
    };

    this.getPopup = function() {
        return this.popup || this.$init();
    };

    this.openPopup = function(editor, prefix, keepPopupPosition) {
        if (!this.popup)
            this.$init();

        this.popup.setData(this.completions.filtered);

        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
        
        var renderer = editor.renderer;
        this.popup.setRow(this.autoSelect ? 0 : -1);
        if (!keepPopupPosition) {
            this.popup.setTheme(editor.getTheme());
            this.popup.setFontSize(editor.getFontSize());

            var lineHeight = renderer.layerConfig.lineHeight;

            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);
            pos.left -= this.popup.getTextLeftOffset();

            var rect = editor.container.getBoundingClientRect();
            pos.top += rect.top - renderer.layerConfig.offset;
            pos.left += rect.left - editor.renderer.scrollLeft;
            pos.left += renderer.gutterWidth;

            this.popup.show(pos, lineHeight);
        } else if (keepPopupPosition && !prefix) {
            this.detach();
        }
    };

    this.detach = function() {
        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
        this.editor.off("changeSelection", this.changeListener);
        this.editor.off("blur", this.blurListener);
        this.editor.off("mousedown", this.mousedownListener);
        this.editor.off("mousewheel", this.mousewheelListener);
        this.changeTimer.cancel();
        this.hideDocTooltip();

        this.gatherCompletionsId += 1;
        if (this.popup && this.popup.isOpen)
            this.popup.hide();

        if (this.base)
            this.base.detach();
        this.activated = false;
        this.completions = this.base = null;
    };

    this.changeListener = function(e) {
        var cursor = this.editor.selection.lead;
        if (cursor.row != this.base.row || cursor.column < this.base.column) {
            this.detach();
        }
        if (this.activated)
            this.changeTimer.schedule();
        else
            this.detach();
    };

    this.blurListener = function(e) {
        var el = document.activeElement;
        var text = this.editor.textInput.getElement();
        var fromTooltip = e.relatedTarget && e.relatedTarget == this.tooltipNode;
        var container = this.popup && this.popup.container;
        if (el != text && el.parentNode != container && !fromTooltip
            && el != this.tooltipNode && e.relatedTarget != text
        ) {
            this.detach();
        }
    };

    this.mousedownListener = function(e) {
        this.detach();
    };

    this.mousewheelListener = function(e) {
        this.detach();
    };

    this.goTo = function(where) {
        var row = this.popup.getRow();
        var max = this.popup.session.getLength() - 1;

        switch(where) {
            case "up": row = row <= 0 ? max : row - 1; break;
            case "down": row = row >= max ? -1 : row + 1; break;
            case "start": row = 0; break;
            case "end": row = max; break;
        }

        this.popup.setRow(row);
    };

    this.insertMatch = function(data, options) {
        if (!data)
            data = this.popup.getData(this.popup.getRow());
        if (!data)
            return false;

        if (data.completer && data.completer.insertMatch) {
            data.completer.insertMatch(this.editor, data);
        } else {
            if (this.completions.filterText) {
                var ranges = this.editor.selection.getAllRanges();
                for (var i = 0, range; range = ranges[i]; i++) {
                    range.start.column -= this.completions.filterText.length;
                    this.editor.session.remove(range);
                }
            }
            if (data.snippet)
                snippetManager.insertSnippet(this.editor, data.snippet);
            else
                this.editor.execCommand("insertstring", data.value || data);
        }
        this.detach();
    };


    this.commands = {
        "Up": function(editor) { editor.completer.goTo("up"); },
        "Down": function(editor) { editor.completer.goTo("down"); },
        "Ctrl-Up|Ctrl-Home": function(editor) { editor.completer.goTo("start"); },
        "Ctrl-Down|Ctrl-End": function(editor) { editor.completer.goTo("end"); },

        "Esc": function(editor) { editor.completer.detach(); },
        "Return": function(editor) { return editor.completer.insertMatch(); },
        "Shift-Return": function(editor) { editor.completer.insertMatch(null, {deleteSuffix: true}); },
        "Tab": function(editor) {
            var result = editor.completer.insertMatch();
            if (!result && !editor.tabstopManager)
                editor.completer.goTo("down");
            else
                return result;
        },

        "PageUp": function(editor) { editor.completer.popup.gotoPageUp(); },
        "PageDown": function(editor) { editor.completer.popup.gotoPageDown(); }
    };

    this.gatherCompletions = function(editor, callback) {
        var session = editor.getSession();
        var pos = editor.getCursorPosition();

        var line = session.getLine(pos.row);
        var prefix = util.retrievePrecedingIdentifier(line, pos.column);

        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);
        this.base.$insertRight = true;

        var matches = [];
        var total = editor.completers.length;
        editor.completers.forEach(function(completer, i) {
            completer.getCompletions(editor, session, pos, prefix, function(err, results) {
                if (!err)
                    matches = matches.concat(results);
                var pos = editor.getCursorPosition();
                var line = session.getLine(pos.row);
                callback(null, {
                    prefix: util.retrievePrecedingIdentifier(line, pos.column, results[0] && results[0].identifierRegex),
                    matches: matches,
                    finished: (--total === 0)
                });
            });
        });
        return true;
    };

    this.showPopup = function(editor) {
        if (this.editor)
            this.detach();

        this.activated = true;

        this.editor = editor;
        if (editor.completer != this) {
            if (editor.completer)
                editor.completer.detach();
            editor.completer = this;
        }

        editor.on("changeSelection", this.changeListener);
        editor.on("blur", this.blurListener);
        editor.on("mousedown", this.mousedownListener);
        editor.on("mousewheel", this.mousewheelListener);

        this.updateCompletions();
    };

    this.updateCompletions = function(keepPopupPosition) {
        if (keepPopupPosition && this.base && this.completions) {
            var pos = this.editor.getCursorPosition();
            var prefix = this.editor.session.getTextRange({start: this.base, end: pos});
            if (prefix == this.completions.filterText)
                return;
            this.completions.setFilter(prefix);
            if (!this.completions.filtered.length)
                return this.detach();
            if (this.completions.filtered.length == 1
            && this.completions.filtered[0].value == prefix
            && !this.completions.filtered[0].snippet)
                return this.detach();
            this.openPopup(this.editor, prefix, keepPopupPosition);
            return;
        }
        var _id = this.gatherCompletionsId;
        this.gatherCompletions(this.editor, function(err, results) {
            var detachIfFinished = function() {
                if (!results.finished) return;
                return this.detach();
            }.bind(this);

            var prefix = results.prefix;
            var matches = results && results.matches;

            if (!matches || !matches.length)
                return detachIfFinished();
            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)
                return;

            this.completions = new FilteredList(matches);

            if (this.exactMatch)
                this.completions.exactMatch = true;

            this.completions.setFilter(prefix);
            var filtered = this.completions.filtered;
            if (!filtered.length)
                return detachIfFinished();
            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)
                return detachIfFinished();
            if (this.autoInsert && filtered.length == 1 && results.finished)
                return this.insertMatch(filtered[0]);

            this.openPopup(this.editor, prefix, keepPopupPosition);
        }.bind(this));
    };

    this.cancelContextMenu = function() {
        this.editor.$mouseHandler.cancelContextMenu();
    };

    this.updateDocTooltip = function() {
        var popup = this.popup;
        var all = popup.data;
        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);
        var doc = null;
        if (!selected || !this.editor || !this.popup.isOpen)
            return this.hideDocTooltip();
        this.editor.completers.some(function(completer) {
            if (completer.getDocTooltip)
                doc = completer.getDocTooltip(selected);
            return doc;
        });
        if (!doc)
            doc = selected;

        if (typeof doc == "string")
            doc = {docText: doc};
        if (!doc || !(doc.docHTML || doc.docText))
            return this.hideDocTooltip();
        this.showDocTooltip(doc);
    };

    this.showDocTooltip = function(item) {
        if (!this.tooltipNode) {
            this.tooltipNode = dom.createElement("div");
            this.tooltipNode.className = "ace_tooltip ace_doc-tooltip";
            this.tooltipNode.style.margin = 0;
            this.tooltipNode.style.pointerEvents = "auto";
            this.tooltipNode.tabIndex = -1;
            this.tooltipNode.onblur = this.blurListener.bind(this);
        }

        var tooltipNode = this.tooltipNode;
        if (item.docHTML) {
            tooltipNode.innerHTML = item.docHTML;
        } else if (item.docText) {
            tooltipNode.textContent = item.docText;
        }

        if (!tooltipNode.parentNode)
            document.body.appendChild(tooltipNode);
        var popup = this.popup;
        var rect = popup.container.getBoundingClientRect();
        tooltipNode.style.top = popup.container.style.top;
        tooltipNode.style.bottom = popup.container.style.bottom;

        if (window.innerWidth - rect.right < 320) {
            tooltipNode.style.right = window.innerWidth - rect.left + "px";
            tooltipNode.style.left = "";
        } else {
            tooltipNode.style.left = (rect.right + 1) + "px";
            tooltipNode.style.right = "";
        }
        tooltipNode.style.display = "block";
    };

    this.hideDocTooltip = function() {
        this.tooltipTimer.cancel();
        if (!this.tooltipNode) return;
        var el = this.tooltipNode;
        if (!this.editor.isFocused() && document.activeElement == el)
            this.editor.focus();
        this.tooltipNode = null;
        if (el.parentNode)
            el.parentNode.removeChild(el);
    };

}).call(Autocomplete.prototype);

Autocomplete.startCommand = {
    name: "startAutocomplete",
    exec: function(editor) {
        if (!editor.completer)
            editor.completer = new Autocomplete();
        editor.completer.autoInsert = false;
        editor.completer.autoSelect = true;
        editor.completer.showPopup(editor);
        editor.completer.cancelContextMenu();
    },
    bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space"
};

var FilteredList = function(array, filterText) {
    this.all = array;
    this.filtered = array;
    this.filterText = filterText || "";
    this.exactMatch = false;
};
(function(){
    this.setFilter = function(str) {
        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)
            var matches = this.filtered;
        else
            var matches = this.all;

        this.filterText = str;
        matches = this.filterCompletions(matches, this.filterText);
        matches = matches.sort(function(a, b) {
            return b.exactMatch - a.exactMatch || b.score - a.score;
        });
        var prev = null;
        matches = matches.filter(function(item){
            var caption = item.snippet || item.caption || item.value;
            if (caption === prev) return false;
            prev = caption;
            return true;
        });

        this.filtered = matches;
    };
    this.filterCompletions = function(items, needle) {
        var results = [];
        var upper = needle.toUpperCase();
        var lower = needle.toLowerCase();
        loop: for (var i = 0, item; item = items[i]; i++) {
            var caption = item.value || item.caption || item.snippet;
            if (!caption) continue;
            var lastIndex = -1;
            var matchMask = 0;
            var penalty = 0;
            var index, distance;

            if (this.exactMatch) {
                if (needle !== caption.substr(0, needle.length))
                    continue loop;
            }else{
                for (var j = 0; j < needle.length; j++) {
                    var i1 = caption.indexOf(lower[j], lastIndex + 1);
                    var i2 = caption.indexOf(upper[j], lastIndex + 1);
                    index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;
                    if (index < 0)
                        continue loop;
                    distance = index - lastIndex - 1;
                    if (distance > 0) {
                        if (lastIndex === -1)
                            penalty += 10;
                        penalty += distance;
                    }
                    matchMask = matchMask | (1 << index);
                    lastIndex = index;
                }
            }
            item.matchMask = matchMask;
            item.exactMatch = penalty ? 0 : 1;
            item.score = (item.score || 0) - penalty;
            results.push(item);
        }
        return results;
    };
}).call(FilteredList.prototype);

exports.Autocomplete = Autocomplete;
exports.FilteredList = FilteredList;

});

ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"], function(acequire, exports, module) {
    var Range = acequire("../range").Range;
    
    var splitRegex = /[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;

    function getWordIndex(doc, pos) {
        var textBefore = doc.getTextRange(Range.fromPoints({row: 0, column:0}, pos));
        return textBefore.split(splitRegex).length - 1;
    }
    function wordDistance(doc, pos) {
        var prefixPos = getWordIndex(doc, pos);
        var words = doc.getValue().split(splitRegex);
        var wordScores = Object.create(null);
        
        var currentWord = words[prefixPos];

        words.forEach(function(word, idx) {
            if (!word || word === currentWord) return;

            var distance = Math.abs(prefixPos - idx);
            var score = words.length - distance;
            if (wordScores[word]) {
                wordScores[word] = Math.max(score, wordScores[word]);
            } else {
                wordScores[word] = score;
            }
        });
        return wordScores;
    }

    exports.getCompletions = function(editor, session, pos, prefix, callback) {
        var wordScore = wordDistance(session, pos, prefix);
        var wordList = Object.keys(wordScore);
        callback(null, wordList.map(function(word) {
            return {
                caption: word,
                value: word,
                score: wordScore[word],
                meta: "local"
            };
        }));
    };
});

ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"], function(acequire, exports, module) {
"use strict";

var snippetManager = acequire("../snippets").snippetManager;
var Autocomplete = acequire("../autocomplete").Autocomplete;
var config = acequire("../config");
var lang = acequire("../lib/lang");
var util = acequire("../autocomplete/util");

var textCompleter = acequire("../autocomplete/text_completer");
var keyWordCompleter = {
    getCompletions: function(editor, session, pos, prefix, callback) {
        if (session.$mode.completer) {
            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);
        }
        var state = editor.session.getState(pos.row);
        var completions = session.$mode.getCompletions(state, session, pos, prefix);
        callback(null, completions);
    }
};

var snippetCompleter = {
    getCompletions: function(editor, session, pos, prefix, callback) {
        var snippetMap = snippetManager.snippetMap;
        var completions = [];
        snippetManager.getActiveScopes(editor).forEach(function(scope) {
            var snippets = snippetMap[scope] || [];
            for (var i = snippets.length; i--;) {
                var s = snippets[i];
                var caption = s.name || s.tabTrigger;
                if (!caption)
                    continue;
                completions.push({
                    caption: caption,
                    snippet: s.content,
                    meta: s.tabTrigger && !s.name ? s.tabTrigger + "\u21E5 " : "snippet",
                    type: "snippet"
                });
            }
        }, this);
        callback(null, completions);
    },
    getDocTooltip: function(item) {
        if (item.type == "snippet" && !item.docHTML) {
            item.docHTML = [
                "<b>", lang.escapeHTML(item.caption), "</b>", "<hr></hr>",
                lang.escapeHTML(item.snippet)
            ].join("");
        }
    }
};

var completers = [snippetCompleter, textCompleter, keyWordCompleter];
exports.setCompleters = function(val) {
    completers = val || [];
};
exports.addCompleter = function(completer) {
    completers.push(completer);
};
exports.textCompleter = textCompleter;
exports.keyWordCompleter = keyWordCompleter;
exports.snippetCompleter = snippetCompleter;

var expandSnippet = {
    name: "expandSnippet",
    exec: function(editor) {
        return snippetManager.expandWithTab(editor);
    },
    bindKey: "Tab"
};

var onChangeMode = function(e, editor) {
    loadSnippetsForMode(editor.session.$mode);
};

var loadSnippetsForMode = function(mode) {
    var id = mode.$id;
    if (!snippetManager.files)
        snippetManager.files = {};
    loadSnippetFile(id);
    if (mode.modes)
        mode.modes.forEach(loadSnippetsForMode);
};

var loadSnippetFile = function(id) {
    if (!id || snippetManager.files[id])
        return;
    var snippetFilePath = id.replace("mode", "snippets");
    snippetManager.files[id] = {};
    config.loadModule(snippetFilePath, function(m) {
        if (m) {
            snippetManager.files[id] = m;
            if (!m.snippets && m.snippetText)
                m.snippets = snippetManager.parseSnippetFile(m.snippetText);
            snippetManager.register(m.snippets || [], m.scope);
            if (m.includeScopes) {
                snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;
                m.includeScopes.forEach(function(x) {
                    loadSnippetFile("ace/mode/" + x);
                });
            }
        }
    });
};

function getCompletionPrefix(editor) {
    var pos = editor.getCursorPosition();
    var line = editor.session.getLine(pos.row);
    var prefix;
    editor.completers.forEach(function(completer) {
        if (completer.identifierRegexps) {
            completer.identifierRegexps.forEach(function(identifierRegex) {
                if (!prefix && identifierRegex)
                    prefix = util.retrievePrecedingIdentifier(line, pos.column, identifierRegex);
            });
        }
    });
    return prefix || util.retrievePrecedingIdentifier(line, pos.column);
}

var doLiveAutocomplete = function(e) {
    var editor = e.editor;
    var hasCompleter = editor.completer && editor.completer.activated;
    if (e.command.name === "backspace") {
        if (hasCompleter && !getCompletionPrefix(editor))
            editor.completer.detach();
    }
    else if (e.command.name === "insertstring") {
        var prefix = getCompletionPrefix(editor);
        if (prefix && !hasCompleter) {
            if (!editor.completer) {
                editor.completer = new Autocomplete();
            }
            editor.completer.autoInsert = false;
            editor.completer.showPopup(editor);
        }
    }
};

var Editor = acequire("../editor").Editor;
acequire("../config").defineOptions(Editor.prototype, "editor", {
    enableBasicAutocompletion: {
        set: function(val) {
            if (val) {
                if (!this.completers)
                    this.completers = Array.isArray(val)? val: completers;
                this.commands.addCommand(Autocomplete.startCommand);
            } else {
                this.commands.removeCommand(Autocomplete.startCommand);
            }
        },
        value: false
    },
    enableLiveAutocompletion: {
        set: function(val) {
            if (val) {
                if (!this.completers)
                    this.completers = Array.isArray(val)? val: completers;
                this.commands.on('afterExec', doLiveAutocomplete);
            } else {
                this.commands.removeListener('afterExec', doLiveAutocomplete);
            }
        },
        value: false
    },
    enableSnippets: {
        set: function(val) {
            if (val) {
                this.commands.addCommand(expandSnippet);
                this.on("changeMode", onChangeMode);
                onChangeMode(null, this);
            } else {
                this.commands.removeCommand(expandSnippet);
                this.off("changeMode", onChangeMode);
            }
        },
        value: false
    }
});
});
                (function() {
                    ace.acequire(["ace/ext/language_tools"], function() {});
                })();
            
},{}],2:[function(require,module,exports){
ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
}

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*\\b";

var JavaScriptHighlightRules = function(options) {
    var keywordMapper = this.createKeywordMapper({
        "variable.language":
            "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|"  + // Constructors
            "Namespace|QName|XML|XMLList|"                                             + // E4X
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|"   +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|"                    +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|"   + // Errors
            "SyntaxError|TypeError|URIError|"                                          +
            "decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|" + // Non-constructor functions
            "isNaN|parseFloat|parseInt|"                                               +
            "JSON|Math|"                                                               + // Other
            "this|arguments|prototype|window|document"                                 , // Pseudo
        "keyword":
            "const|yield|import|get|set|" +
            "break|case|catch|continue|default|delete|do|else|finally|for|function|" +
            "if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|" +
            "__parent__|__count__|escape|unescape|with|__proto__|" +
            "class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
        "storage.type":
            "const|let|var|function",
        "constant.language":
            "null|Infinity|NaN|undefined",
        "support.function":
            "alert",
        "constant.language.boolean": "true|false"
    }, "identifier");
    var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";

    var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|" + // hex
        "u[0-9a-fA-F]{4}|" + // unicode
        "[0-2][0-7]{0,2}|" + // oct
        "3[0-6][0-7]?|" + // oct
        "37[0-7]?|" + // oct
        "[4-7][0-7]?|" + //oct
        ".)";

    this.$rules = {
        "no_regex" : [
            {
                token : "comment",
                regex : "\\/\\/",
                next : "line_comment"
            },
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : /\/\*/,
                next : "comment"
            }, {
                token : "string",
                regex : "'(?=.)",
                next  : "qstring"
            }, {
                token : "string",
                regex : '"(?=.)',
                next  : "qqstring"
            }, {
                token : "constant.numeric", // hex
                regex : /0[xX][0-9a-fA-F]+\b/
            }, {
                token : "constant.numeric", // float
                regex : /[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
            }, {
                token : [
                    "storage.type", "punctuation.operator", "support.function",
                    "punctuation.operator", "entity.name.function", "text","keyword.operator"
                ],
                regex : "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe +")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "keyword.operator", "text", "storage.type",
                    "text", "paren.lparen"
                ],
                regex : "(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "punctuation.operator",
                    "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "text", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "keyword",
                regex : "(?:" + kwBeforeRe + ")\\b",
                next : "start"
            }, {
                token : ["support.constant"],
                regex : /that\b/
            }, {
                token : ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex : /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
            }, {
                token : keywordMapper,
                regex : identifierRe
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/,
                next  : "property"
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|\.{3}|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|[!$%&*+\-~\/^]=?/,
                next  : "start"
            }, {
                token : "punctuation.operator",
                regex : /[?:,;.]/,
                next  : "start"
            }, {
                token : "paren.lparen",
                regex : /[\[({]/,
                next  : "start"
            }, {
                token : "paren.rparen",
                regex : /[\])}]/
            }, {
                token: "comment",
                regex: /^#!.*$/
            }
        ],
        property: [{
                token : "text",
                regex : "\\s+"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/
            }, {
                token : "support.function",
                regex : /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token : "support.function.dom",
                regex : /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token :  "support.constant",
                regex : /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token : "identifier",
                regex : identifierRe
            }, {
                regex: "",
                token: "empty",
                next: "no_regex"
            }
        ],
        "start": [
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : "\\/\\*",
                next : "comment_regex_allowed"
            }, {
                token : "comment",
                regex : "\\/\\/",
                next : "line_comment_regex_allowed"
            }, {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {
                token : "text",
                regex : "\\s+|^$",
                next : "start"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "regex": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "string.regexp",
                regex: "/[sxngimy]*",
                next: "no_regex"
            }, {
                token : "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token : "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
            }, {
                token : "constant.language.delimiter",
                regex: /\|/
            }, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp"
            }
        ],
        "regex_character_class": [
            {
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
            }, {
                token: "constant.language.escape",
                regex: "-"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp.charachterclass"
            }
        ],
        "function_arguments": [
            {
                token: "variable.parameter",
                regex: identifierRe
            }, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {
                token: "punctuation.operator",
                regex: "$"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "comment_regex_allowed" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "\\*\\/", next : "start"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "comment" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "\\*\\/", next : "no_regex"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "line_comment_regex_allowed" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "$|^", next : "start"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "line_comment" : [
            DocCommentHighlightRules.getTagRule(),
            {token : "comment", regex : "$|^", next : "no_regex"},
            {defaultToken : "comment", caseInsensitive: true}
        ],
        "qqstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qqstring"
            }, {
                token : "string",
                regex : '"|$',
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ],
        "qstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                next  : "qstring"
            }, {
                token : "string",
                regex : "'|$",
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ]
    };
    
    
    if (!options || !options.noES6) {
        this.$rules.no_regex.unshift({
            regex: "[{}]", onMatch: function(val, state, stack) {
                this.next = val == "{" ? this.nextState : "";
                if (val == "{" && stack.length) {
                    stack.unshift("start", state);
                    return "paren";
                }
                if (val == "}" && stack.length) {
                    stack.shift();
                    this.next = stack.shift();
                    if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
                        return "paren.quasi.end";
                }
                return val == "{" ? "paren.lparen" : "paren.rparen";
            },
            nextState: "start"
        }, {
            token : "string.quasi.start",
            regex : /`/,
            push  : [{
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "paren.quasi.start",
                regex : /\${/,
                push  : "start"
            }, {
                token : "string.quasi.end",
                regex : /`/,
                next  : "pop"
            }, {
                defaultToken: "string.quasi"
            }]
        });
        
        if (!options || !options.noJSX)
            JSX.call(this);
    }
    
    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("no_regex") ]);
    
    this.normalizeRules();
};

oop.inherits(JavaScriptHighlightRules, TextHighlightRules);

function JSX() {
    var tagRegex = identifierRe.replace("\\d", "\\d\\-");
    var jsxTag = {
        onMatch : function(val, state, stack) {
            var offset = val.charAt(1) == "/" ? 2 : 1;
            if (offset == 1) {
                if (state != this.nextState)
                    stack.unshift(this.next, this.nextState, 0);
                else
                    stack.unshift(this.next);
                stack[2]++;
            } else if (offset == 2) {
                if (state == this.nextState) {
                    stack[1]--;
                    if (!stack[1] || stack[1] < 0) {
                        stack.shift();
                        stack.shift();
                    }
                }
            }
            return [{
                type: "meta.tag.punctuation." + (offset == 1 ? "" : "end-") + "tag-open.xml",
                value: val.slice(0, offset)
            }, {
                type: "meta.tag.tag-name.xml",
                value: val.substr(offset)
            }];
        },
        regex : "</?" + tagRegex + "",
        next: "jsxAttributes",
        nextState: "jsx"
    };
    this.$rules.start.unshift(jsxTag);
    var jsxJsRule = {
        regex: "{",
        token: "paren.quasi.start",
        push: "start"
    };
    this.$rules.jsx = [
        jsxJsRule,
        jsxTag,
        {include : "reference"},
        {defaultToken: "string"}
    ];
    this.$rules.jsxAttributes = [{
        token : "meta.tag.punctuation.tag-close.xml", 
        regex : "/?>", 
        onMatch : function(value, currentState, stack) {
            if (currentState == stack[0])
                stack.shift();
            if (value.length == 2) {
                if (stack[0] == this.nextState)
                    stack[1]--;
                if (!stack[1] || stack[1] < 0) {
                    stack.splice(0, 2);
                }
            }
            this.next = stack[0] || "start";
            return [{type: this.token, value: value}];
        },
        nextState: "jsx"
    }, 
    jsxJsRule,
    {
        token : "entity.other.attribute-name.xml",
        regex : tagRegex
    }, {
        token : "keyword.operator.attribute-equals.xml",
        regex : "="
    }, {
        token : "text.tag-whitespace.xml",
        regex : "\\s+"
    }, {
        token : "string.attribute-value.xml",
        regex : "'",
        stateName : "jsx_attr_q",
        push : [
            {token : "string.attribute-value.xml", regex: "'", next: "pop"},
            jsxJsRule,
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }, {
        token : "string.attribute-value.xml",
        regex : '"',
        stateName : "jsx_attr_qq",
        push : [
            jsxJsRule,
            {token : "string.attribute-value.xml", regex: '"', next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }];
    this.$rules.reference = [{
        token : "constant.language.escape.reference.xml",
        regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
    }];
}

exports.JavaScriptHighlightRules = JavaScriptHighlightRules;
});

ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];

var context;
var contextCache = {};
var initContext = function(editor) {
    var id = -1;
    if (editor.multiSelect) {
        id = editor.selection.index;
        if (contextCache.rangeCount != editor.multiSelect.rangeCount)
            contextCache = {rangeCount: editor.multiSelect.rangeCount};
    }
    if (contextCache[id])
        return context = contextCache[id];
    context = contextCache[id] = {
        autoInsertedBrackets: 0,
        autoInsertedRow: -1,
        autoInsertedLineEnd: "",
        maybeInsertedBrackets: 0,
        maybeInsertedRow: -1,
        maybeInsertedLineStart: "",
        maybeInsertedLineEnd: ""
    };
};

var getWrapped = function(selection, selected, opening, closing) {
    var rowDiff = selection.end.row - selection.start.row;
    return {
        text: opening + selected + closing,
        selection: [
                0,
                selection.start.column + 1,
                rowDiff,
                selection.end.column + (rowDiff ? 0 : 1)
            ]
    };
};

var CstyleBehaviour = function() {
    this.add("braces", "insertion", function(state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '{', '}');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            initContext(editor);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            initContext(editor);
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar === '}') {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');
                if (!openBracePos)
                     return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
            } else if (closing) {
                var next_indent = this.$getIndent(line);
            } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
            }
            var indent = next_indent + session.getTabString();

            return {
                text: '\n' + indent + '\n' + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
            };
        } else {
            CstyleBehaviour.clearMaybeInsertedClosing();
        }
    });

    this.add("braces", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                context.maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function(state, action, editor, session, text) {
        if (text == '(') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '(', ')');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function(state, action, editor, session, text) {
        if (text == '[') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '[', ']');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
        if (text == '"' || text == "'") {
            initContext(editor);
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "'" && selected != '"' && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
            } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                
                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                    return null;
                
                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
                
                var pair;
                if (rightChar == quote) {
                    pair = stringBefore !== stringAfter;
                } else {
                    if (stringBefore && !stringAfter)
                        return null; // wrap string with different quote
                    if (stringBefore && stringAfter)
                        return null; // do not pair quotes inside strings
                    var wordRe = session.$mode.tokenRe;
                    wordRe.lastIndex = 0;
                    var isWordBefore = wordRe.test(leftChar);
                    wordRe.lastIndex = 0;
                    var isWordAfter = wordRe.test(leftChar);
                    if (isWordBefore || isWordAfter)
                        return null; // before or after alphanumeric
                    if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                        return null; // there is rightChar and it isn't closing
                    pair = true;
                }
                return {
                    text: pair ? quote + quote : "",
                    selection: [1,1]
                };
            }
        }
    });

    this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};

    
CstyleBehaviour.isSaneInsertion = function(editor, session) {
    var cursor = editor.getCursorPosition();
    var iterator = new TokenIterator(session, cursor.row, cursor.column);
    if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
        if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
            return false;
    }
    iterator.stepForward();
    return iterator.getCurrentTokenRow() !== cursor.row ||
        this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
};

CstyleBehaviour.$matchTokenType = function(token, types) {
    return types.indexOf(token.type || token) > -1;
};

CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
        context.autoInsertedBrackets = 0;
    context.autoInsertedRow = cursor.row;
    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
    context.autoInsertedBrackets++;
};

CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isMaybeInsertedClosing(cursor, line))
        context.maybeInsertedBrackets = 0;
    context.maybeInsertedRow = cursor.row;
    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
    context.maybeInsertedLineEnd = line.substr(cursor.column);
    context.maybeInsertedBrackets++;
};

CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
    return context.autoInsertedBrackets > 0 &&
        cursor.row === context.autoInsertedRow &&
        bracket === context.autoInsertedLineEnd[0] &&
        line.substr(cursor.column) === context.autoInsertedLineEnd;
};

CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
    return context.maybeInsertedBrackets > 0 &&
        cursor.row === context.maybeInsertedRow &&
        line.substr(cursor.column) === context.maybeInsertedLineEnd &&
        line.substr(0, cursor.column) == context.maybeInsertedLineStart;
};

CstyleBehaviour.popAutoInsertedClosing = function() {
    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
    context.autoInsertedBrackets--;
};

CstyleBehaviour.clearMaybeInsertedClosing = function() {
    if (context) {
        context.maybeInsertedBrackets = 0;
        context.maybeInsertedRow = -1;
    }
};



oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = JavaScriptHighlightRules;
    
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start" || state == "no_regex") {
            var match = line.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start" || endState == "no_regex") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], require("../worker/javascript"), "JavaScriptWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("annotate", function(results) {
            session.setAnnotations(results.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/javascript";
}).call(Mode.prototype);

exports.Mode = Mode;
});

},{"../worker/javascript":4}],3:[function(require,module,exports){
ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-monokai";
exports.cssText = ".ace-monokai .ace_gutter {\
background: #2F3129;\
color: #8F908A\
}\
.ace-monokai .ace_print-margin {\
width: 1px;\
background: #555651\
}\
.ace-monokai {\
background-color: #272822;\
color: #F8F8F2\
}\
.ace-monokai .ace_cursor {\
color: #F8F8F0\
}\
.ace-monokai .ace_marker-layer .ace_selection {\
background: #49483E\
}\
.ace-monokai.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #272822;\
}\
.ace-monokai .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-monokai .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #49483E\
}\
.ace-monokai .ace_marker-layer .ace_active-line {\
background: #202020\
}\
.ace-monokai .ace_gutter-active-line {\
background-color: #272727\
}\
.ace-monokai .ace_marker-layer .ace_selected-word {\
border: 1px solid #49483E\
}\
.ace-monokai .ace_invisible {\
color: #52524d\
}\
.ace-monokai .ace_entity.ace_name.ace_tag,\
.ace-monokai .ace_keyword,\
.ace-monokai .ace_meta.ace_tag,\
.ace-monokai .ace_storage {\
color: #F92672\
}\
.ace-monokai .ace_punctuation,\
.ace-monokai .ace_punctuation.ace_tag {\
color: #fff\
}\
.ace-monokai .ace_constant.ace_character,\
.ace-monokai .ace_constant.ace_language,\
.ace-monokai .ace_constant.ace_numeric,\
.ace-monokai .ace_constant.ace_other {\
color: #AE81FF\
}\
.ace-monokai .ace_invalid {\
color: #F8F8F0;\
background-color: #F92672\
}\
.ace-monokai .ace_invalid.ace_deprecated {\
color: #F8F8F0;\
background-color: #AE81FF\
}\
.ace-monokai .ace_support.ace_constant,\
.ace-monokai .ace_support.ace_function {\
color: #66D9EF\
}\
.ace-monokai .ace_fold {\
background-color: #A6E22E;\
border-color: #F8F8F2\
}\
.ace-monokai .ace_storage.ace_type,\
.ace-monokai .ace_support.ace_class,\
.ace-monokai .ace_support.ace_type {\
font-style: italic;\
color: #66D9EF\
}\
.ace-monokai .ace_entity.ace_name.ace_function,\
.ace-monokai .ace_entity.ace_other,\
.ace-monokai .ace_entity.ace_other.ace_attribute-name,\
.ace-monokai .ace_variable {\
color: #A6E22E\
}\
.ace-monokai .ace_variable.ace_parameter {\
font-style: italic;\
color: #FD971F\
}\
.ace-monokai .ace_string {\
color: #E6DB74\
}\
.ace-monokai .ace_comment {\
color: #75715E\
}\
.ace-monokai .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

},{}],4:[function(require,module,exports){
module.exports.id = 'ace/mode/javascript_worker';
module.exports.src = "\"no use strict\";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}var cons=obj.constructor;if(cons===RegExp)return obj;copy=cons();for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/javascript/jshint\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire=\"function\"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error(\"Cannot find module '\"+name+\"'\");throw err.code=\"MODULE_NOT_FOUND\",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire=\"function\"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({\"/node_modules/browserify/node_modules/events/events.js\":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return\"function\"==typeof arg}function isNumber(arg){return\"number\"==typeof arg}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError(\"n must be a positive number\");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),\"error\"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified \"error\" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[type].length),\"function\"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit(\"removeListener\",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit(\"removeListener\",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)\"removeListener\"!==key&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],\"/node_modules/jshint/data/ascii-identifier-data.js\":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],\"/node_modules/jshint/lodash.js\":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return\"function\"==typeof value||!1}function baseToString(value){return\"string\"==typeof value?value:null==value?\"\":value+\"\"}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&\"object\"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return\"function\"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:\"object\"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return\"function\"!=valType&&\"object\"!=valType&&\"function\"!=othType&&\"object\"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,\"__wrapped__\"),othWrapped=othIsObj&&hasOwnProperty.call(other,\"__wrapped__\");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+\"\";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+\"\";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(\"number\"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(\"function\"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for(\"function\"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer=\"function\"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return\"function\"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+\"\"}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor=\"constructor\"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&\"constructor\"in object&&\"constructor\"in other&&!(\"function\"==typeof objCtor&&objCtor instanceof objCtor&&\"function\"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&\"string\"==typeof array[0]&&hasOwnProperty.call(array,\"index\")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return\"function\"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if(\"number\"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq=\"string\"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if(\"string\"==type&&reIsPlainProp.test(value)||\"number\"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return\"number\"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,\"constructor\")&&(Ctor=value.constructor,\"function\"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,\"$1\"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if(\"number\"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&\"number\"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex=\"number\"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,\"string\"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),(\"function\"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if(\"function\"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&\"boolean\"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:\"function\"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer=\"function\"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return\"function\"==type||!!value&&\"object\"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return\"number\"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return\"string\"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto=\"function\"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+\"\";for(var key in object)skipIndexes&&isIndex(key,length)||\"constructor\"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,\"\\\\$&\"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION=\"3.7.0\",FUNC_ERROR_TEXT=\"Expected a function\",argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={\"function\":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&\"object\"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),\"xo\")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames=\"string\"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty(\"length\"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return\"function\"==typeof Ctor&&Ctor.prototype===object||\"function\"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],\"/node_modules/jshint/src/jshint.js\":[function(_dereq_,module,exports){var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),vars=_dereq_(\"./vars.js\"),messages=_dereq_(\"./messages.js\"),Lexer=_dereq_(\"./lex.js\").Lexer,reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,style=_dereq_(\"./style.js\"),options=_dereq_(\"./options.js\"),scopeManager=_dereq_(\"./scope-manager.js\"),JSHINT=function(){\"use strict\";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||\"jslint\"===t.type||_.has(options.removed,name)?!0:(error(\"E001\",t,name),!1)}function isString(obj){return\"[object String]\"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return\"string\"==typeof r||\"number\"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict=\"global\"),state.inES6()||warning(\"W134\",state.tokens.next,\"module\",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict=\"global\"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:\"JSHintError\",line:line,character:chr,message:message+\" (\"+percentage+\"% scanned).\",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},\"(end)\"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:\"(error)\",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||\"\",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit(\"E043\",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:\"(internal)\",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if(\"globals\"===nt.type){body.forEach(function(g,idx){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(\"-\"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}\"-\"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]=\"true\"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}\"exported\"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}state.funct[\"(scope)\"].addExported(e)}),\"members\"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||'\"'!==ch1&&\"'\"!==ch1||(m=m.substr(1,m.length-2).replace('\\\\\"','\"')),membersOnly[m]=!1}));var numvals=[\"maxstatements\",\"maxparams\",\"maxdepth\",\"maxcomplexity\",\"maxerr\",\"maxlen\",\"indent\"];(\"jshint\"===nt.type||\"jslint\"===nt.type)&&(body.forEach(function(g){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if(\"false\"!==val){if(val=+val,\"number\"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error(\"E032\",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]=\"indent\"===key?4:!1;else{if(\"validthis\"===key)return state.funct[\"(global)\"]?void error(\"E009\"):\"true\"!==val&&\"false\"!==val?void error(\"E002\",nt):(state.option.validthis=\"true\"===val,void 0);if(\"quotmark\"!==key)if(\"shadow\"!==key)if(\"unused\"!==key)if(\"latedef\"!==key)if(\"ignore\"!==key)if(\"strict\"!==key){\"module\"===key&&(hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"module\"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if(\"esversion\"===key){switch(val){case\"5\":state.inES5(!0)&&warning(\"I003\");case\"3\":case\"6\":state.option.moz=!1,state.option.esversion=+val;break;case\"2015\":state.option.moz=!1,state.option.esversion=6;break;default:error(\"E002\",nt)}return hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"esversion\"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]=\"-\"===match[1],void 0;var tn;return\"true\"===val||\"false\"===val?(\"jslint\"===nt.type?(tn=options.renamed[key]||key,state.option[tn]=\"true\"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]=\"true\"===val,\"newcap\"===key&&(state.option[\"(explicitNewcap)\"]=!0),void 0):(error(\"E002\",nt),void 0)}switch(val){case\"true\":state.option.moz=!1,state.option.esversion=esversions[key];break;case\"false\":state.option.moz||(state.option.esversion=5);break;default:error(\"E002\",nt)}}else switch(val){case\"true\":state.option.strict=!0;break;case\"false\":state.option.strict=!1;break;case\"func\":case\"global\":case\"implied\":state.option.strict=val;break;default:error(\"E002\",nt)}else switch(val){case\"line\":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.latedef=!0;break;case\"false\":state.option.latedef=!1;break;case\"nofunc\":state.option.latedef=\"nofunc\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.unused=!0;break;case\"false\":state.option.unused=!1;break;case\"vars\":case\"strict\":state.option.unused=val;break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.shadow=!0;break;case\"outer\":state.option.shadow=\"outer\";break;case\"false\":case\"inner\":state.option.shadow=\"inner\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":case\"false\":state.option.quotmark=\"true\"===val;break;case\"double\":case\"single\":state.option.quotmark=val;break;default:error(\"E002\",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||\"(end)\"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while(\"(endline)\"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case\"(number)\":\".\"===state.tokens.next.id&&warning(\"W005\",state.tokens.curr);break;case\"-\":(\"-\"===state.tokens.next.id||\"--\"===state.tokens.next.id)&&warning(\"W006\");break;case\"+\":(\"+\"===state.tokens.next.id||\"++\"===state.tokens.next.id)&&warning(\"W007\")}for(id&&state.tokens.next.id!==id&&(t?\"(end)\"===state.tokens.next.id?error(\"E019\",t,t.id):error(\"E020\",state.tokens.next,id,t.id,t.line,state.tokens.next.value):(\"(identifier)\"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning(\"W116\",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit(\"E041\",state.tokens.curr.line),\"(end)\"===state.tokens.next.id||\"(error)\"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)\"falls through\"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if(\"(endline)\"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return\";\"===next.id||\"}\"===next.id||\":\"===next.id?!0:isInfix(next)===isInfix(curr)||\"yield\"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&\"unary\"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||\"let\"!==state.tokens.next.value||\"(\"!==peek(0).value||(state.inMoz()||warning(\"W118\",state.tokens.next,\"let expressions\"),isLetExpr=!0,state.funct[\"(scope)\"].stack(),advance(\"let\"),advance(\"(\"),state.tokens.prev.fud(),advance(\")\")),\"(end)\"===state.tokens.next.id&&error(\"E006\",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains([\"]\",\")\"],state.tokens.prev.id)&&_.contains([\"[\",\"(\"],state.tokens.curr.id);if(isDangerous&&warning(\"W014\",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct[\"(verb)\"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error(\"E030\",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||\"(template)\"===state.tokens.next.type)&&!isEndOfExpr();)isArray=\"Array\"===state.tokens.curr.value,isObject=\"Object\"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&(\"new\"!==left.value||left.first&&left.first.value&&\".\"===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W009\",state.tokens.curr),isObject&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W010\",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error(\"E033\",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct[\"(scope)\"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning(\"W014\",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning(\"E022\",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning(\"I001\"),comma.first=!1),warning(\"W014\",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(\",\")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case\"break\":case\"case\":case\"catch\":case\"continue\":case\"default\":case\"do\":case\"else\":case\"finally\":case\"for\":case\"if\":case\"in\":case\"instanceof\":case\"return\":case\"switch\":case\"throw\":case\"try\":case\"var\":case\"let\":case\"while\":case\"with\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}if(\"(punctuator)\"===state.tokens.next.type)switch(state.tokens.next.value){case\"}\":case\"]\":case\",\":if(opts.allowTrailing)return!0;case\")\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&\"object\"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud=\"function\"==typeof f?f:function(){return this.arity=\"unary\",this.right=expression(150),(\"++\"===this.id||\"--\"===this.id)&&(state.option.plusplus?warning(\"W016\",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||\".\"===this.right.id||\"[\"===this.right.id||warning(\"W017\",this),this.right&&this.right.isMetaProperty?error(\"E031\",this):this.right&&this.right.identifier&&state.funct[\"(scope)\"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return\"function\"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),\"in\"!==s&&\"instanceof\"!==s||\"!\"!==left.id||warning(\"W018\",left,\"!\"),\"function\"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:\"arrow\",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,\"NaN\")||isIdentifier(right,\"NaN\")?warning(\"W019\",this):f&&f.apply(this,[left,right]),left&&right||quit(\"E041\",state.tokens.curr.line),\"!\"===left.id&&warning(\"W018\",left,\"!\"),\"!\"===right.id&&warning(\"W018\",right,\"!\"),this},x}function isPoorRelation(node){return node&&(\"(number)\"===node.type&&0===+node.value||\"(string)\"===node.type&&\"\"===node.value||\"null\"===node.type&&!state.option.eqnull||\"true\"===node.type||\"false\"===node.type||\"undefined\"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,\"(identifier)\"===right.type&&\"typeof\"===right.value&&\"(string)\"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return\"this\"===left.type&&null===state.funct[\"(context)\"]?isGlobal=!0:\"(identifier)\"===left.type&&(state.option.node&&\"global\"===left.value?isGlobal=!0:!state.option.browser||\"window\"!==left.value&&\"document\"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return\"object\"==typeof obj?\"prototype\"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&\"object\"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=[\"Array\",\"ArrayBuffer\",\"Boolean\",\"Collator\",\"DataView\",\"Date\",\"DateTimeFormat\",\"Error\",\"EvalError\",\"Float32Array\",\"Float64Array\",\"Function\",\"Infinity\",\"Intl\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"Iterator\",\"Number\",\"NumberFormat\",\"Object\",\"RangeError\",\"ReferenceError\",\"RegExp\",\"StopIteration\",\"String\",\"SyntaxError\",\"TypeError\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"URIError\"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning(\"W121\",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct[\"(scope)\"].block.reassign(left.value,left),\".\"===left.id?((!left.left||\"arguments\"===left.left.value&&!state.isStrict())&&warning(\"E031\",assignToken),state.nameStack.set(state.tokens.prev),!0):\"{\"===left.id||\"[\"===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct[\"(scope)\"].block.modify(t.id,t.token)}):\"{\"!==left.id&&left.left?\"arguments\"!==left.left.value||state.isStrict()||warning(\"E031\",assignToken):warning(\"E031\",assignToken),\"[\"===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error(\"E031\",assignToken),!0):left.identifier&&!isReserved(left)?(\"exception\"===state.funct[\"(scope)\"].labeltype(left.value)&&warning(\"W022\",left),state.nameStack.set(left),!0):(left===state.syntax[\"function\"]&&warning(\"W023\",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,\"function\"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error(\"E031\",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led=\"function\"==typeof f?f:function(left){return state.option.bitwise&&warning(\"W016\",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning(\"W016\",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error(\"E031\",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning(\"W016\",this,this.id):left.identifier&&!isReserved(left)||\".\"===left.id||\"[\"===left.id||warning(\"W017\",this),left.isMetaProperty?error(\"E031\",this):left&&left.identifier&&state.funct[\"(scope)\"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&\"undefined\"===val?val:(warning(\"W024\",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if(\"...\"===state.tokens.next.value){if(state.inES6(!0)||warning(\"W119\",state.tokens.next,\"spread/rest operator\",\"6\"),advance(),checkPunctuator(state.tokens.next,\"...\"))for(warning(\"E024\",state.tokens.next,\"...\");checkPunctuator(state.tokens.next,\"...\");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning(\"E024\",state.tokens.curr,\"...\"),void 0)}error(\"E030\",state.tokens.next,state.tokens.next.value),\";\"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(\";\"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while(\"(end)\"!==t.id&&\"(comment)\"===t.id);if(t.reach)return;if(\"(endline)\"!==t.id){if(\"function\"===t.id){state.option.latedef===!0&&warning(\"W026\",t);break}warning(\"W027\",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(\";\"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&\"(end)\"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,\"}\");sameLine&&!blockEnd?errorAt(\"E058\",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt(\"W033\",state.tokens.curr.line,state.tokens.curr.character)}else advance(\";\")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(\";\"===t.id)return advance(\";\"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&\":\"===peek().id&&(warning(\"W024\",t,t.id),res=!1),t.identifier&&!res&&\":\"===peek().id&&(advance(),advance(\":\"),hasOwnScope=!0,state.funct[\"(scope)\"].stack(),state.funct[\"(scope)\"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||\"{\"===state.tokens.next.value||warning(\"W028\",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),\"{\"===t.id){var iscase=\"case\"===state.funct[\"(verb)\"]&&\":\"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&\"function\"===r.value||\"(punctuator)\"===r.type&&r.left&&r.left.identifier&&\"function\"===r.left.value||state.isStrict()||\"global\"!==state.option.strict||warning(\"E007\"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&\"(\"===r.id&&\"new\"===r.left.id&&warning(\"W031\",t):warning(\"W030\",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct[\"(scope)\"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&\"(end)\"!==state.tokens.next.id;)\";\"===state.tokens.next.id?(p=peek(),(!p||\"(\"!==p.id&&\"[\"!==p.id)&&warning(\"W032\"),advance(\";\")):a.push(statement());return a}function directives(){for(var i,p,pn;\"(string)\"===state.tokens.next.id;){if(p=peek(0),\"(endline)\"===p.id){i=1;do pn=peek(i++);while(\"(endline)\"===pn.id);if(\";\"===pn.id)p=pn;else{if(\"[\"===pn.value||\".\"===pn.value)break;state.option.asi&&\"(\"!==pn.value||warning(\"W033\",state.tokens.next)}}else{if(\".\"===p.id||\"[\"===p.id)break;\";\"!==p.id&&warning(\"W033\",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||\"use strict\"===directive&&\"implied\"===state.option.strict)&&warning(\"W034\",state.tokens.curr,directive),state.directive[directive]=!0,\";\"===p.id&&advance(\";\")}state.isStrict()&&(state.option[\"(explicitNewcap)\"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct[\"(metrics)\"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),\"{\"===state.tokens.next.id){if(advance(\"{\"),state.funct[\"(scope)\"].stack(),line=state.tokens.curr.line,\"}\"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance(\"}\",t),isfunc&&(state.funct[\"(scope)\"].validateParams(),m&&(state.directive=m)),state.funct[\"(scope)\"].unstack(),indent=old_indent}else if(ordinary)state.funct[\"(noblockscopedvar)\"]=\"for\"!==state.tokens.next.id,state.funct[\"(scope)\"].stack(),(!stmt||state.option.curly)&&warning(\"W116\",state.tokens.next,\"{\",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct[\"(scope)\"].unstack(),delete state.funct[\"(noblockscopedvar)\"];else if(isfunc){if(state.funct[\"(scope)\"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error(\"W118\",state.tokens.curr,\"function closure expressions\"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\")),state.funct[\"(scope)\"].unstack()}else error(\"E021\",state.tokens.next,\"{\",state.tokens.next.value);switch(state.funct[\"(verb)\"]){case\"break\":case\"continue\":case\"return\":case\"throw\":if(iscase)break;default:state.funct[\"(verb)\"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning(\"W035\",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&\"boolean\"!=typeof membersOnly[m]&&warning(\"W036\",state.tokens.curr,m),\"number\"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct[\"(comparray)\"].stack();var reversed=!1;return\"for\"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning(\"W116\",state.tokens.next,\"for\",state.tokens.next.value),state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"for\"),\"each\"===state.tokens.next.value&&(advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"define\"),res.left=expression(130),_.contains([\"in\",\"of\"],state.tokens.next.value)?advance():error(\"E045\",state.tokens.curr),state.funct[\"(comparray)\"].setState(\"generate\"),expression(10),advance(\")\"),\"if\"===state.tokens.next.value&&(advance(\"if\"),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"filter\"),res.filter=expression(10),advance(\")\")),reversed||(state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"]\"),state.funct[\"(comparray)\"].unstack(),res}function isMethod(){return state.funct[\"(statement)\"]&&\"class\"===state.funct[\"(statement)\"].type||state.funct[\"(context)\"]&&\"class\"===state.funct[\"(context)\"][\"(verb)\"]}function isPropertyName(token){return token.identifier||\"(string)\"===token.id||\"(number)\"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return\"object\"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?\"object\"==typeof id&&(\"(string)\"===id.id||\"(identifier)\"===id.id?id=id.value:\"(number)\"===id.id&&(id=\"\"+id.value)):\"(string)\"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):\"(number)\"===state.tokens.next.id&&(id=\"\"+state.tokens.next.value,preserve||advance()),\"hasOwnProperty\"===id&&warning(\"W001\"),id}function functionparams(options){function addParam(addParamArgs){state.funct[\"(scope)\"].addParam.apply(state.funct[\"(scope)\"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct[\"(scope)\"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance(\"(\"),\")\"===state.tokens.next.id)return advance(\")\"),void 0;for(;;){arity++;var currentParams=[];if(_.contains([\"{\",\"[\"],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,\"...\")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[\",\",\")\"]);)advance();if(pastDefault&&\"=\"!==state.tokens.next.id&&error(\"W138\",state.tokens.current),\"=\"===state.tokens.next.id&&(state.inES6()||warning(\"W119\",state.tokens.next,\"default parameters\",\"6\"),advance(\"=\"),pastDefault=!0,expression(10)),currentParams.forEach(addParam),\",\"!==state.tokens.next.id)return advance(\")\",next),{arity:arity,params:paramsIds};pastRest&&warning(\"W131\",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={\"(name)\":name,\"(breakage)\":0,\"(loopage)\":0,\"(tokens)\":{},\"(properties)\":{},\"(catch)\":!1,\"(global)\":!1,\"(line)\":null,\"(character)\":null,\"(metrics)\":null,\"(statement)\":null,\"(context)\":null,\"(scope)\":null,\"(comparray)\":null,\"(generator)\":null,\"(arrow)\":null,\"(params)\":null};return token&&_.extend(funct,{\"(line)\":token.line,\"(character)\":token.character,\"(metrics)\":createMetrics(token)}),_.extend(funct,overwrites),funct[\"(context)\"]&&(funct[\"(scope)\"]=funct[\"(context)\"][\"(scope)\"],funct[\"(comparray)\"]=funct[\"(context)\"][\"(comparray)\"]),funct}function isFunctor(token){return\"(scope)\"in token}function hasParsedCode(funct){return funct[\"(global)\"]&&!funct[\"(verb)\"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:\"(template)\",type:\"(template)\",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator=\"generator\"===options.type,isArrow=\"arrow\"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{\"(statement)\":statement,\"(context)\":state.funct,\"(arrow)\":isArrow,\"(generator)\":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct[\"(scope)\"].stack(\"functionouter\");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct[\"(scope)\"].block.add(internallyAccessibleName,classExprBinding?\"class\":\"function\",state.tokens.curr,!1),state.funct[\"(scope)\"].stack(\"functionparams\");var paramsInfo=functionparams(options);return paramsInfo?(state.funct[\"(params)\"]=paramsInfo.params,state.funct[\"(metrics)\"].arity=paramsInfo.arity,state.funct[\"(metrics)\"].verifyMaxParametersPerFunction()):state.funct[\"(metrics)\"].arity=0,isArrow&&(state.inES6(!0)||warning(\"W119\",state.tokens.curr,\"arrow function syntax (=>)\",\"6\"),options.loneArg||advance(\"=>\")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&\"yielded\"!==state.funct[\"(generator)\"]&&warning(\"W124\",state.tokens.curr),state.funct[\"(metrics)\"].verifyMaxStatementsPerFunction(),state.funct[\"(metrics)\"].verifyMaxComplexityPerFunction(),state.funct[\"(unusedOption)\"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct[\"(last)\"]=state.tokens.curr.line,state.funct[\"(lastcharacter)\"]=state.tokens.curr.character,state.funct[\"(scope)\"].unstack(),state.funct[\"(scope)\"].unstack(),state.funct=state.funct[\"(context)\"],ignoreLoopFunc||state.option.loopfunc||!state.funct[\"(loopage)\"]||f[\"(isCapturing)\"]&&warning(\"W083\",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning(\"W071\",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning(\"W072\",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning(\"W073\",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning(\"W074\",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct[\"(metrics)\"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,\",\"===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case\"=\":case\"+=\":case\"-=\":case\"*=\":case\"%=\":case\"&=\":case\"|=\":case\"^=\":case\"/=\":paren||state.option.boss||warning(\"W084\")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning(\"W078\",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,\".\")){var left=state.tokens.curr.id;advance(\".\");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error(\"E057\",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning(\"W104\",state.tokens.curr,isAssignment?\"destructuring assignment\":\"destructuring binding\",\"6\"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,[\"[\",\"{\"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,\",\"))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,\"(\")){var is_rest=checkPunctuator(state.tokens.next,\"...\");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning(\"E030\",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance(\"(\"),nextInnerDE(),advance(\")\")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,\"[\")?(advance(\"[\"),expression(10),advance(\"]\"),advance(\":\"),nextInnerDE()):\"(string)\"===state.tokens.next.id||\"(number)\"===state.tokens.next.id?(advance(),advance(\":\"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,\":\")?(advance(\":\"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,\"[\")){openingParsed||advance(\"[\"),checkPunctuator(state.tokens.next,\"]\")&&warning(\"W137\",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,\"]\");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,\",\")&&(warning(\"W130\",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,\"=\")&&(checkPunctuator(state.tokens.prev,\"...\")?advance(\"]\"):advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"]\")||advance(\",\");advance(\"]\")}else if(checkPunctuator(firstToken,\"{\")){for(openingParsed||advance(\"{\"),checkPunctuator(state.tokens.next,\"}\")&&warning(\"W137\",state.tokens.curr);!checkPunctuator(state.tokens.next,\"}\")&&(assignmentProperty(),checkPunctuator(state.tokens.next,\"=\")&&(advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"}\")||(advance(\",\"),!checkPunctuator(state.tokens.next,\"}\"))););advance(\"}\")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning(\"W080\",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet=\"let\"===type,isConst=\"const\"===type;for(state.inES6()||warning(\"W104\",state.tokens.curr,type,\"6\"),isLet&&\"(\"===state.tokens.next.value?(state.inMoz()||warning(\"W118\",state.tokens.next,\"let block\"),advance(\"(\"),state.funct[\"(scope)\"].stack(),letblock=!0):state.funct[\"(noblockscopedvar)\"]&&error(\"E048\",state.tokens.curr,isConst?\"Const\":\"Let\"),statement.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&\"=\"!==state.tokens.next.id&&warning(\"E012\",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct[\"(scope)\"].block.isGlobal()&&predefined[t.id]===!1&&warning(\"W079\",t.token,t.id),t.id&&!state.funct[\"(noblockscopedvar)\"]&&(state.funct[\"(scope)\"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.token.value,t.token)));if(\"=\"===state.tokens.next.id&&(advance(\"=\"),prefix||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),!prefix&&\"=\"===peek(0).id&&state.tokens.next.identifier&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),\",\"!==state.tokens.next.id)break;comma()}return letblock&&(advance(\")\"),block(!0,!0),statement.block=!0,state.funct[\"(scope)\"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning(\"W104\",state.tokens.curr,\"class\",\"6\"),isStatement?(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"class\",token:state.tokens.curr})):state.tokens.next.identifier&&\"extends\"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;\"extends\"===state.tokens.next.value&&(advance(\"extends\"),c.heritage=expression(10)),state.inClassBody=!0,advance(\"{\"),c.body=classbody(c),advance(\"}\"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;\"}\"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,\";\"!==name.id){if(\"*\"===name.id&&(isGenerator=!0,advance(\"*\"),name=state.tokens.next),\"[\"===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning(\"W052\",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&\"static\"===name.value&&(checkPunctuator(state.tokens.next,\"*\")&&(isGenerator=!0,advance(\"*\")),(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,isStatic=!0,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||\"get\"!==name.value&&\"set\"!==name.value||(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,getset=name,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,\"(\")){for(error(\"E054\",state.tokens.next,state.tokens.next.value);\"}\"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,\"(\");)advance();\"(\"!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):(\"constructor\"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&\"constructor\"===name.value){var propDesc=\"get\"===getset.value?\"class getter method\":\"class setter method\";error(\"E049\",name,propDesc,\"constructor\")}else\"prototype\"===name.value&&error(\"E049\",name,\"class method\",\"prototype\");propertyName(name),doFunction({statement:c,type:isGenerator?\"generator\":null,classExprBinding:c.namedExpr?c.name:null})}else warning(\"W032\"),advance(\";\");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=[\"key\",\"class method\",\"static class method\"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&\"__proto__\"!==name?warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName=\"get\"===accessorType?\"getterToken\":\"setterToken\",msg=\"\";isClass?(isStatic&&(msg+=\"static \"),msg+=accessorType+\"ter method\"):msg=\"key\",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&\"__proto__\"!==name&&warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance(\"[\"),state.inES6()||warning(\"W119\",state.tokens.curr,\"computed property names\",\"6\");var value=expression(10);return advance(\"]\"),value}function checkPunctuators(token,values){return\"(punctuator)\"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return\"(punctuator)\"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning(\"W104\",state.tokens.curr,\"destructuring assignment\",\"6\"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance(\"{\"),\"}\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E026\",state.tokens.next,t.line);else{if(\"}\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id?error(\"E028\",state.tokens.next):\"(string)\"!==state.tokens.next.id&&warning(\"W095\",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning(\"W075\",state.tokens.next,\"key\",state.tokens.next.value):\"__proto__\"===state.tokens.next.value&&!state.option.proto||\"__iterator__\"===state.tokens.next.value&&!state.option.iterator?warning(\"W096\",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(\":\"),jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"}\")}function jsonArray(){var t=state.tokens.next;if(advance(\"[\"),\"]\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E027\",state.tokens.next,t.line);else{if(\"]\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id&&error(\"E028\",state.tokens.next)}if(jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"]\")}switch(state.tokens.next.id){case\"{\":jsonObject();break;case\"[\":jsonArray();break;case\"true\":case\"false\":case\"null\":case\"(number)\":case\"(string)\":advance();break;case\"-\":advance(\"-\"),advance(\"(number)\");break;default:error(\"E003\",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={\"<\":!0,\"<=\":!0,\"==\":!0,\"===\":!0,\"!==\":!0,\"!=\":!0,\">\":!0,\">=\":!0,\"+\":!0,\"-\":!0,\"*\":!0,\"/\":!0,\"%\":!0},functionicity=[\"closure\",\"exception\",\"global\",\"label\",\"outer\",\"unused\",\"var\"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=[\"xml\",\"unknown\"],typeofValues.es3=[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"object\"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat(\"symbol\"),type(\"(number)\",function(){return this}),type(\"(string)\",function(){return this}),state.syntax[\"(identifier)\"]={type:\"(identifier)\",lbp:0,identifier:!0,nud:function(){var v=this.value;return\"=>\"===state.tokens.next.id?this:(state.funct[\"(comparray)\"].check(v)||state.funct[\"(scope)\"].block.use(v,state.tokens.curr),this)},led:function(){error(\"E033\",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax[\"(template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template middle)\"]=_.extend({type:\"(template middle)\",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template tail)\"]=_.extend({type:\"(template tail)\",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(no subst template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type(\"(regexp)\",function(){return this}),delim(\"(endline)\"),delim(\"(begin)\"),delim(\"(end)\").reach=!0,delim(\"(error)\").reach=!0,delim(\"}\").reach=!0,delim(\")\"),delim(\"]\"),delim('\"').reach=!0,delim(\"'\").reach=!0,delim(\";\"),delim(\":\").reach=!0,delim(\"#\"),reserve(\"else\"),reserve(\"case\").reach=!0,reserve(\"catch\"),reserve(\"default\").reach=!0,reserve(\"finally\"),reservevar(\"arguments\",function(x){state.isStrict()&&state.funct[\"(global)\"]&&warning(\"E008\",x)}),reservevar(\"eval\"),reservevar(\"false\"),reservevar(\"Infinity\"),reservevar(\"null\"),reservevar(\"this\",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct[\"(statement)\"]&&state.funct[\"(name)\"].charAt(0)>\"Z\"||state.funct[\"(global)\"])&&warning(\"W040\",x)}),reservevar(\"true\"),reservevar(\"undefined\"),assignop(\"=\",\"assign\",20),assignop(\"+=\",\"assignadd\",20),assignop(\"-=\",\"assignsub\",20),assignop(\"*=\",\"assignmult\",20),assignop(\"/=\",\"assigndiv\",20).nud=function(){error(\"E014\")},assignop(\"%=\",\"assignmod\",20),bitwiseassignop(\"&=\"),bitwiseassignop(\"|=\"),bitwiseassignop(\"^=\"),bitwiseassignop(\"<<=\"),bitwiseassignop(\">>=\"),bitwiseassignop(\">>>=\"),infix(\",\",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning(\"W127\"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),\",\"!==state.tokens.next.value||!comma())break}return that},10,!0),infix(\"?\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(\":\"),that[\"else\"]=expression(10),that},30);var orPrecendence=40;infix(\"||\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix(\"&&\",\"and\",50),bitwise(\"|\",\"bitor\",70),bitwise(\"^\",\"bitxor\",80),bitwise(\"&\",\"bitand\",90),relation(\"==\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning(\"W116\",this,\"===\",\"==\");break;case isPoorRelation(left):warning(\"W041\",this,\"===\",left.value);break;case isPoorRelation(right):warning(\"W041\",this,\"===\",right.value);break;case isTypoTypeof(right,left,state):warning(\"W122\",this,right.value);break;case isTypoTypeof(left,right,state):warning(\"W122\",this,left.value)}return this}),relation(\"===\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!=\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning(\"W116\",this,\"!==\",\"!=\")):isPoorRelation(left)?warning(\"W041\",this,\"!==\",left.value):isPoorRelation(right)?warning(\"W041\",this,\"!==\",right.value):isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!==\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"<\"),relation(\">\"),relation(\"<=\"),relation(\">=\"),bitwise(\"<<\",\"shiftleft\",120),bitwise(\">>\",\"shiftright\",120),bitwise(\">>>\",\"shiftrightunsigned\",120),infix(\"in\",\"in\",120),infix(\"instanceof\",\"instanceof\",120),infix(\"+\",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&\"(string)\"===left.id&&\"(string)\"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning(\"W050\",left),left):that},130),prefix(\"+\",\"num\"),prefix(\"+++\",function(){return warning(\"W007\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"+++\",function(left){return warning(\"W007\"),this.left=left,this.right=expression(130),this},130),infix(\"-\",\"sub\",130),prefix(\"-\",\"neg\"),prefix(\"---\",function(){return warning(\"W006\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"---\",function(left){return warning(\"W006\"),this.left=left,this.right=expression(130),this},130),infix(\"*\",\"mult\",140),infix(\"/\",\"div\",140),infix(\"%\",\"mod\",140),suffix(\"++\"),prefix(\"++\",\"preinc\"),state.syntax[\"++\"].exps=!0,suffix(\"--\"),prefix(\"--\",\"predec\"),state.syntax[\"--\"].exps=!0,prefix(\"delete\",function(){var p=expression(10);return p?(\".\"!==p.id&&\"[\"!==p.id&&warning(\"W051\"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix(\"~\",function(){return state.option.bitwise&&warning(\"W016\",this,\"~\"),this.arity=\"unary\",this.right=expression(150),this}),prefix(\"...\",function(){return state.inES6(!0)||warning(\"W119\",this,\"spread/rest operator\",\"6\"),state.tokens.next.identifier||\"(string)\"===state.tokens.next.type||checkPunctuators(state.tokens.next,[\"[\",\"(\"])||error(\"E030\",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix(\"!\",function(){return this.arity=\"unary\",this.right=expression(150),this.right||quit(\"E041\",this.line||0),bang[this.right.id]===!0&&warning(\"W018\",this,\"!\"),this}),prefix(\"typeof\",function(){var p=expression(150);return this.first=this.right=p,p||quit(\"E041\",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix(\"new\",function(){var mp=metaProperty(\"target\",function(){state.inES6(!0)||warning(\"W119\",state.tokens.prev,\"new.target\",\"6\");for(var inFunction,c=state.funct;c&&(inFunction=!c[\"(global)\"],c[\"(arrow)\"]);)c=c[\"(context)\"];inFunction||warning(\"W136\",state.tokens.prev,\"new.target\")});if(mp)return mp;var i,c=expression(155);if(c&&\"function\"!==c.id)if(c.identifier)switch(c[\"new\"]=!0,c.value){case\"Number\":case\"String\":case\"Boolean\":case\"Math\":case\"JSON\":warning(\"W053\",state.tokens.prev,c.value);break;case\"Symbol\":state.inES6()&&warning(\"W053\",state.tokens.prev,c.value);break;case\"Function\":state.option.evil||warning(\"W054\");break;case\"Date\":case\"RegExp\":case\"this\":break;default:\"function\"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&(\"A\">i||i>\"Z\")&&!state.funct[\"(scope)\"].isPredefined(c.value)&&warning(\"W055\",state.tokens.curr))}else\".\"!==c.id&&\"[\"!==c.id&&\"(\"!==c.id&&warning(\"W056\",state.tokens.curr);else state.option.supernew||warning(\"W057\",this);return\"(\"===state.tokens.next.id||state.option.supernew||warning(\"W058\",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax[\"new\"].exps=!0,prefix(\"void\").exps=!0,infix(\".\",function(left,that){var m=identifier(!1,!0);return\"string\"==typeof m&&countMember(m),that.left=left,that.right=m,m&&\"hasOwnProperty\"===m&&\"=\"===state.tokens.next.value&&warning(\"W001\"),!left||\"arguments\"!==left.value||\"callee\"!==m&&\"caller\"!==m?state.option.evil||!left||\"document\"!==left.value||\"write\"!==m&&\"writeln\"!==m||warning(\"W060\",left):state.option.noarg?warning(\"W059\",left,m):state.isStrict()&&error(\"E008\"),state.option.evil||\"eval\"!==m&&\"execScript\"!==m||isGlobalEval(left,state)&&warning(\"W061\"),that},160,!0),infix(\"(\",function(left,that){state.option.immed&&left&&!left.immed&&\"function\"===left.id&&warning(\"W062\");var n=0,p=[];if(left&&\"(identifier)\"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1===\"Array Number String Boolean Date Object Error Symbol\".indexOf(left.value)&&(\"Math\"===left.value?warning(\"W063\",left):state.option.newcap&&warning(\"W064\",left)),\")\"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,\",\"===state.tokens.next.id;)comma();return advance(\")\"),\"object\"==typeof left&&(state.inES5()||\"parseInt\"!==left.value||1!==n||warning(\"W065\",state.tokens.curr),state.option.evil||(\"eval\"===left.value||\"Function\"===left.value||\"execScript\"===left.value?(warning(\"W061\",left),p[0]&&\"(string)\"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||\"(string)\"!==p[0].id||\"setTimeout\"!==left.value&&\"setInterval\"!==left.value?!p[0]||\"(string)\"!==p[0].id||\".\"!==left.value||\"window\"!==left.left.value||\"setTimeout\"!==left.right&&\"setInterval\"!==left.right||(warning(\"W066\",left),addInternalSrc(left,p[0].value)):(warning(\"W066\",left),addInternalSrc(left,p[0].value))),left.identifier||\".\"===left.id||\"[\"===left.id||\"=>\"===left.id||\"(\"===left.id||\"&&\"===left.id||\"||\"===left.id||\"?\"===left.id||state.inES6()&&left[\"(name)\"]||warning(\"W067\",that)),that.left=left,that},155,!0).exps=!0,prefix(\"(\",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do\"(\"===pn.value?parens+=1:\")\"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||\")\"!==pn1.value)&&\";\"!==pn.value&&\"(end)\"!==pn.type);if(\"function\"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),\"=>\"===pn.value)return doFunction({type:\"arrow\",parsedOpening:!0});var exprs=[];if(\")\"!==state.tokens.next.id)for(;exprs.push(expression(10)),\",\"===state.tokens.next.id;)state.option.nocomma&&warning(\"W127\"),comma();return advance(\")\",this),state.option.immed&&exprs[0]&&\"function\"===exprs[0].id&&\"(\"!==state.tokens.next.id&&\".\"!==state.tokens.next.id&&\"[\"!==state.tokens.next.id&&warning(\"W068\",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[\",\"]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&(\"{\"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||\"}\"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||\"{\"===ret.id&&\"=>\"===preceeding.id||\"(number)\"===ret.type&&checkPunctuator(pn,\".\")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning(\"W126\",opening),ret.paren=!0),ret):void 0}),application(\"=>\"),infix(\"[\",function(left,that){var s,e=expression(10);return e&&\"(string)\"===e.type&&(state.option.evil||\"eval\"!==e.value&&\"execScript\"!==e.value||isGlobalEval(left,state)&&warning(\"W061\"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning(\"W069\",state.tokens.prev,e.value))),advance(\"]\",that),e&&\"hasOwnProperty\"===e.value&&\"=\"===state.tokens.next.value&&warning(\"W001\"),that.left=left,that.right=e,that},160,!0),prefix(\"[\",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning(\"W118\",state.tokens.curr,\"array comprehension\"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));\"(end)\"!==state.tokens.next.id;){for(;\",\"===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning(\"W128\");do advance(\",\");while(\",\"===state.tokens.next.id);continue}warning(\"W070\")}advance(\",\")}if(\"]\"===state.tokens.next.id)break;if(this.first.push(expression(10)),\",\"!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),\"]\"===state.tokens.next.id&&!state.inES5()){warning(\"W070\",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance(\"]\",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;\"}\"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||\",\"!==peekIgnoreEOL().id&&\"}\"!==peekIgnoreEOL().id)if(\":\"===peek().id||\"get\"!==nextVal&&\"set\"!==nextVal){if(\"*\"===state.tokens.next.value&&\"(punctuator)\"===state.tokens.next.type?(state.inES6()||warning(\"W104\",state.tokens.next,\"generator functions\",\"6\"),advance(\"*\"),isGeneratorMethod=!0):isGeneratorMethod=!1,\"[\"===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),\"string\"!=typeof i)break;\"(\"===state.tokens.next.value?(state.inES6()||warning(\"W104\",state.tokens.curr,\"concise methods\",\"6\"),doFunction({type:isGeneratorMethod?\"generator\":null})):(advance(\":\"),expression(10))}else advance(nextVal),state.inES5()||error(\"E034\"),i=propertyName(),i||state.inES6()||error(\"E035\"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f[\"(params)\"],\"get\"===nextVal&&i&&p?warning(\"W076\",t,p[0],i):\"set\"!==nextVal||!i||p&&1===p.length||warning(\"W077\",t,i);else state.inES6()||warning(\"W104\",state.tokens.next,\"object short notation\",\"6\"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),\",\"!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),\",\"===state.tokens.next.id?warning(\"W070\",state.tokens.curr):\"}\"!==state.tokens.next.id||state.inES5()||warning(\"W070\",state.tokens.curr)}return b&&(indent-=state.option.indent),advance(\"}\",this),checkProperties(props),this},x.fud=function(){error(\"E036\",state.tokens.curr)}}(delim(\"{\"));var conststatement=stmt(\"const\",function(context){return blockVariableStatement(\"const\",this,context)});conststatement.exps=!0;var letstatement=stmt(\"let\",function(context){return blockVariableStatement(\"let\",this,context)});letstatement.exps=!0;var varstatement=stmt(\"var\",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning(\"W132\",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct[\"(global)\"]&&(predefined[t.id]===!1?warning(\"W079\",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning(\"W129\",t.token,t.id)),t.id&&(\"for\"===implied?(state.funct[\"(scope)\"].has(t.id)||report&&warning(\"W088\",t.token,t.id),state.funct[\"(scope)\"].block.use(t.id,t.token)):(state.funct[\"(scope)\"].addlabel(t.id,{type:\"var\",token:t.token}),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.id,t.token)),names.push(t.token)));if(\"=\"===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance(\"=\"),prefix||!report||state.funct[\"(loopage)\"]||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),\"=\"===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct[\"(params)\"]||-1===state.funct[\"(params)\"].indexOf(state.tokens.next.value))&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),\",\"!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt(\"class\",function(){return classdef.call(this,!0)}),blockstmt(\"function\",function(context){var inexport=context&&context.inexport,generator=!1;\"*\"===state.tokens.next.value&&(advance(\"*\"),state.inES6({strict:!0})?generator=!0:warning(\"W119\",state.tokens.curr,\"function*\",\"6\")),inblock&&warning(\"W082\",state.tokens.curr);var i=optionalidentifier();return state.funct[\"(scope)\"].addlabel(i,{type:\"function\",token:state.tokens.curr}),void 0===i?warning(\"W025\"):inexport&&state.funct[\"(scope)\"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?\"generator\":null,ignoreLoopFunc:inblock}),\"(\"===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error(\"E039\"),this}),prefix(\"function\",function(){var generator=!1;\"*\"===state.tokens.next.value&&(state.inES6()||warning(\"W119\",state.tokens.curr,\"function*\",\"6\"),advance(\"*\"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?\"generator\":null}),this}),blockstmt(\"if\",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance(\"(\");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type=\"(punctuator)\"===expr.type&&\"!\"===expr.value?\"(negative)\":\"(positive)\"),advance(\")\",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&\"(negative)\"===forinifcheck.type&&s&&s[0]&&\"(identifier)\"===s[0].type&&\"continue\"===s[0].value&&(forinifcheck.type=\"(negative-with-continue)\"),\"else\"===state.tokens.next.id&&(advance(\"else\"),\"if\"===state.tokens.next.id||\"switch\"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt(\"try\",function(){function doCatch(){if(advance(\"catch\"),advance(\"(\"),state.funct[\"(scope)\"].stack(\"catchparams\"),checkPunctuators(state.tokens.next,[\"[\",\"{\"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct[\"(scope)\"].addParam(token.id,token,\"exception\")})}else\"(identifier)\"!==state.tokens.next.type?warning(\"E030\",state.tokens.next,state.tokens.next.value):state.funct[\"(scope)\"].addParam(identifier(),state.tokens.curr,\"exception\");\"if\"===state.tokens.next.value&&(state.inMoz()||warning(\"W118\",state.tokens.curr,\"catch filter\"),advance(\"if\"),expression(0)),advance(\")\"),block(!1),state.funct[\"(scope)\"].unstack()}var b;for(block(!0);\"catch\"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning(\"W118\",state.tokens.next,\"multiple catch blocks\"),doCatch(),b=!0;return\"finally\"===state.tokens.next.id?(advance(\"finally\"),block(!0),void 0):(b||error(\"E021\",state.tokens.next,\"catch\",state.tokens.next.value),this)}),blockstmt(\"while\",function(){var t=state.tokens.next;return state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this}).labelled=!0,blockstmt(\"with\",function(){var t=state.tokens.next;return state.isStrict()?error(\"E010\",state.tokens.curr):state.option.withstmt||warning(\"W085\",state.tokens.curr),advance(\"(\"),expression(0),advance(\")\",t),block(!0,!0),this}),blockstmt(\"switch\",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct[\"(breakage)\"]+=1,advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),t=state.tokens.next,advance(\"{\"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case\"case\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"case\":case\"continue\":case\"return\":case\"switch\":case\"throw\":break;default:state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"case\")}advance(\"case\"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(\":\"),state.funct[\"(verb)\"]=\"case\";break;case\"default\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"continue\":case\"return\":case\"throw\":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"default\"))}advance(\"default\"),g=!0,advance(\":\");break;case\"}\":return noindent||(indent-=state.option.indent),advance(\"}\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(verb)\"]=void 0,void 0;case\"(end)\":return error(\"E023\",state.tokens.next,\"}\"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case\",\":return error(\"E040\"),void 0;case\":\":g=!1,statements();break;default:return error(\"E025\",state.tokens.curr),void 0}else{if(\":\"!==state.tokens.curr.id)return error(\"E021\",state.tokens.next,\"case\",state.tokens.next.value),void 0;advance(\":\"),error(\"E024\",state.tokens.curr,\":\"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt(\"debugger\",function(){return state.option.debug||warning(\"W087\",this),this}).exps=!0,function(){var x=stmt(\"do\",function(){state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance(\"while\");var t=state.tokens.next;return advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt(\"for\",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;\"each\"===t.value&&(foreachtok=t,advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),increaseComplexityCount(),advance(\"(\");var nextop,comma,initializer,i=0,inof=[\"in\",\"of\"],level=0;checkPunctuators(state.tokens.next,[\"{\",\"[\"])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,[\"{\",\"[\"])?++level:checkPunctuators(nextop,[\"}\",\"]\"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,\",\")?comma=nextop:!initializer&&checkPunctuator(nextop,\"=\")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&\";\"!==nextop.value&&\"(end)\"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||\"of\"!==nextop.value||warning(\"W104\",nextop,\"for of\",\"6\");var ok=!(initializer||comma);if(initializer&&error(\"W133\",comma,nextop.value,\"initializer is forbidden\"),comma&&error(\"W133\",comma,nextop.value,\"more than one ForBinding\"),\"var\"===state.tokens.next.id?(advance(\"var\"),state.tokens.curr.fud({prefix:!0})):\"let\"===state.tokens.next.id||\"const\"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:\"for\",ignore:!ok}),advance(nextop.value),expression(20),advance(\")\",t),\"in\"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:\"(none)\"})),state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,s=block(!0,!0),\"in\"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&(\"object\"!=typeof s[0]||\"if\"!==s[0].value)||\"(positive)\"===check.type&&s.length>1||\"(negative)\"===check.type)&&warning(\"W089\",this)}state.forinifcheckneeded=!1}state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}else{if(foreachtok&&error(\"E045\",foreachtok),\";\"!==state.tokens.next.id)if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud();else if(\"let\"===state.tokens.next.id)advance(\"let\"),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud();else for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(\";\"),state.funct[\"(loopage)\"]+=1,\";\"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(\";\"),\";\"===state.tokens.next.id&&error(\"E021\",state.tokens.next,\")\",\";\"),\")\"!==state.tokens.next.id)for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();advance(\")\",t),state.funct[\"(breakage)\"]+=1,block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}return letscope&&state.funct[\"(scope)\"].unstack(),this}).labelled=!0,stmt(\"break\",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value):(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"continue\",function(){var v=state.tokens.next.value;return 0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value),state.funct[\"(loopage)\"]||warning(\"W052\",state.tokens.next,this.value),state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"return\",function(){return this.line===startLine(state.tokens.next)?\";\"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)):\"(punctuator)\"===state.tokens.next.type&&[\"[\",\"{\",\"+\",\"-\"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix(\"yield\",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct[\"(generator)\"]?\"(catch)\"===state.funct[\"(name)\"]&&state.funct[\"(context)\"][\"(generator)\"]||error(\"E046\",state.tokens.curr,\"yield\"):state.inES6()||warning(\"W104\",state.tokens.curr,\"yield\",\"6\"),state.funct[\"(generator)\"]=\"yielded\";var delegatingYield=!1;return\"*\"===state.tokens.next.value&&(delegatingYield=!0,advance(\"*\")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||\";\"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)),state.inMoz()&&\")\"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||\"yield\"===prev.id)&&error(\"E050\",this)),this})),stmt(\"throw\",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt(\"import\",function(){if(state.inES6()||warning(\"W119\",state.tokens.curr,\"import\",\"6\"),\"(string)\"===state.tokens.next.type)return advance(\"(string)\"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value)return advance(\"from\"),advance(\"(string)\"),this;advance(\",\")}if(\"*\"===state.tokens.next.id)advance(\"*\"),advance(\"as\"),state.tokens.next.identifier&&(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}));else for(advance(\"{\");;){if(\"}\"===state.tokens.next.value){advance(\"}\");break}var importName;if(\"default\"===state.tokens.next.type?(importName=\"default\",advance(\"default\")):importName=identifier(),\"as\"===state.tokens.next.value&&(advance(\"as\"),importName=identifier()),state.funct[\"(scope)\"].addlabel(importName,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return advance(\"from\"),advance(\"(string)\"),this}).exps=!0,stmt(\"export\",function(){var token,identifier,ok=!0;if(state.inES6()||(warning(\"W119\",state.tokens.curr,\"export\",\"6\"),ok=!1),state.funct[\"(scope)\"].block.isGlobal()||(error(\"E053\",state.tokens.curr),ok=!1),\"*\"===state.tokens.next.value)return advance(\"*\"),advance(\"from\"),advance(\"(string)\"),this;if(\"default\"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance(\"default\");var exportType=state.tokens.next.id;return(\"function\"===exportType||\"class\"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct[\"(scope)\"].addlabel(identifier,{type:exportType,token:token}),state.funct[\"(scope)\"].setExported(identifier,token)),this}if(\"{\"===state.tokens.next.value){advance(\"{\");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),\"as\"===state.tokens.next.value&&(advance(\"as\"),state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance()),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return\"from\"===state.tokens.next.value?(advance(\"from\"),advance(\"(string)\")):ok&&exportedTokens.forEach(function(token){state.funct[\"(scope)\"].setExported(token.value,token)}),this}if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud({inexport:!0});else if(\"let\"===state.tokens.next.id)advance(\"let\"),state.tokens.curr.fud({inexport:!0});else if(\"const\"===state.tokens.next.id)advance(\"const\"),state.tokens.curr.fud({inexport:!0});else if(\"function\"===state.tokens.next.id)this.block=!0,advance(\"function\"),state.syntax[\"function\"].fud({inexport:!0});else if(\"class\"===state.tokens.next.id){this.block=!0,advance(\"class\");var classNameToken=state.tokens.next;state.syntax[\"class\"].fud(),state.funct[\"(scope)\"].setExported(classNameToken.value,classNameToken)}else error(\"E024\",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord(\"abstract\"),FutureReservedWord(\"boolean\"),FutureReservedWord(\"byte\"),FutureReservedWord(\"char\"),FutureReservedWord(\"class\",{es5:!0,nud:classdef}),FutureReservedWord(\"double\"),FutureReservedWord(\"enum\",{es5:!0}),FutureReservedWord(\"export\",{es5:!0}),FutureReservedWord(\"extends\",{es5:!0}),FutureReservedWord(\"final\"),FutureReservedWord(\"float\"),FutureReservedWord(\"goto\"),FutureReservedWord(\"implements\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"import\",{es5:!0}),FutureReservedWord(\"int\"),FutureReservedWord(\"interface\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"long\"),FutureReservedWord(\"native\"),FutureReservedWord(\"package\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"private\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"protected\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"public\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"short\"),FutureReservedWord(\"static\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"super\",{es5:!0}),FutureReservedWord(\"synchronized\"),FutureReservedWord(\"transient\"),FutureReservedWord(\"volatile\");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,[\"[\",\"{\"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,[\"[\",\"{\"])?bracketStack+=1:checkPunctuators(pn,[\"]\",\"}\"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&\"for\"===pn.value&&!checkPunctuator(prev,\".\")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,[\"}\",\"]\"])){if(\"=\"===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if(\".\"===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,\";\")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&\"(end)\"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode=\"use\",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning(\"W098\",v.token,v.raw_text||v.value),v.undef&&state.funct[\"(scope)\"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains([\"use\",\"define\",\"generate\",\"filter\"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&\"use\"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&\"define\"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&\"generate\"===_current.mode?(state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):_current&&\"filter\"===_current.mode?(use(v)&&state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||\"object\"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope=\"(main)\"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;\"-\"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],(\"esversion\"===optionKey&&5===o[optionKey]||\"es5\"===optionKey&&o[optionKey])&&warning(\"I003\"),\"newcap\"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj[\"(explicitNewcap)\"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on(\"warning\",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on(\"error\",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor(\"(global)\",null,{\"(global)\":!0,\"(scope)\":scopeManagerInst,\"(comparray)\":arrayComprehension(),\"(metrics)\":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt(\"E004\",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax[\"(begin)\"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+\"[\\\\s\\\\S]*?\"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,\"ig\"),s=s.replace(reIgnore,function(match){return match.replace(/./g,\" \")}))})),lex=new Lexer(s),lex.on(\"warning\",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"error\",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"fatal\",function(ev){quit(\"E041\",ev.line,ev.from)}),lex.on(\"Identifier\",function(ev){emitter.emit(\"Identifier\",ev)}),lex.on(\"String\",function(ev){emitter.emit(\"String\",ev)}),lex.on(\"Number\",function(ev){emitter.emit(\"Number\",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case\"{\":case\"[\":destructuringAssignOrJsonValue();break;default:directives(),state.directive[\"use strict\"]&&\"global\"!==state.option.strict&&warning(\"W097\",state.tokens.prev),statements()}\"(end)\"!==state.tokens.next.id&&quit(\"E041\",state.tokens.curr.line),state.funct[\"(scope)\"].unstack()}catch(err){if(!err||\"JSHintError\"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:\"(main)\",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if(\"(main)\"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct[\"(scope)\"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct[\"(scope)\"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f[\"(name)\"],fu.param=f[\"(params)\"],fu.line=f[\"(line)\"],fu.character=f[\"(character)\"],fu.last=f[\"(last)\"],fu.lastcharacter=f[\"(lastcharacter)\"],fu.metrics={complexity:f[\"(metrics)\"].ComplexityCount,parameters:f[\"(metrics)\"].arity,statements:f[\"(metrics)\"].statementCount},data.functions.push(fu)}var unuseds=state.funct[\"(scope)\"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if(\"number\"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();\"object\"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./lex.js\":\"/node_modules/jshint/src/lex.js\",\"./messages.js\":\"/node_modules/jshint/src/messages.js\",\"./options.js\":\"/node_modules/jshint/src/options.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./scope-manager.js\":\"/node_modules/jshint/src/scope-manager.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",\"./style.js\":\"/node_modules/jshint/src/style.js\",\"./vars.js\":\"/node_modules/jshint/src/vars.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/lex.js\":[function(_dereq_,module,exports){\"use strict\";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;\"string\"==typeof lines&&(lines=lines.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\")),lines[0]&&\"#!\"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf(\"node\")&&(state.option.node=!0),lines[0]=\"\"),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input=\"\",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=\" \";this.ignoreLinterErrors=!1}var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,unicodeData=_dereq_(\"../data/ascii-identifier-data.js\"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(\" \").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case\".\":if(/^[0-9]$/.test(this.peek(1)))return null;if(\".\"===this.peek(1)&&\".\"===this.peek(2))return{type:Token.Punctuator,value:\"...\"};case\"(\":case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"~\":case\"?\":return{type:Token.Punctuator,value:ch1};case\"{\":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case\"}\":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case\"#\":return{type:Token.Punctuator,value:ch1};case\"\":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),\">\"===ch1&&\">\"===ch2&&\">\"===ch3&&\"=\"===ch4?{type:Token.Punctuator,value:\">>>=\"}:\"=\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"===\"}:\"!\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"!==\"}:\">\"===ch1&&\">\"===ch2&&\">\"===ch3?{type:Token.Punctuator,value:\">>>\"}:\"<\"===ch1&&\"<\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"<<=\"}:\">\"===ch1&&\">\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\">>=\"}:\"=\"===ch1&&\">\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&\"+-<>&|\".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:\"<>=!+-*%&|^\".indexOf(ch1)>=0?\"=\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:\"/\"===ch1?\"=\"===ch2?{type:Token.Punctuator,value:\"/=\"}:{type:Token.Punctuator,value:\"/\"}:null},scanComments:function(){function commentToken(label,body,opt){var special=[\"jshint\",\"jslint\",\"members\",\"member\",\"globals\",\"global\",\"exported\"],isSpecial=!1,value=label+body,commentType=\"plain\";return opt=opt||{},opt.isMultiline&&(value+=\"*/\"),body=body.replace(/\\n/g,\" \"),\"/*\"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType=\"falls through\"),special.forEach(function(str){if(!isSpecial&&(\"//\"!==label||\"jshint\"===str)&&(\" \"===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||\" \"!==body.charAt(0)||\" \"!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+\" \"+str,body=body.substr(str.length+1)),isSpecial))switch(str){case\"member\":commentType=\"members\";break;case\"global\":commentType=\"globals\";break;default:var options=body.split(\":\").map(function(v){return v.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")});if(2===options.length)switch(options[0]){case\"ignore\":switch(options[1]){case\"start\":self.ignoringLinterErrors=!0,isSpecial=!1;break;case\"end\":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if(\"*\"===ch1&&\"/\"===ch2)return this.trigger(\"error\",{code:\"E018\",line:startLine,character:startChar}),this.skip(2),null;if(\"/\"!==ch1||\"*\"!==ch2&&\"/\"!==ch2)return null;if(\"/\"===ch2)return this.skip(this.input.length),commentToken(\"//\",rest);var body=\"\";if(\"*\"===ch2){for(this.inComment=!0,this.skip(2);\"*\"!==this.peek()||\"/\"!==this.peek(1);)if(\"\"===this.peek()){if(body+=\"\\n\",!this.nextLine())return this.trigger(\"error\",{code:\"E017\",line:startLine,character:startChar}),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=[\"if\",\"in\",\"do\",\"var\",\"for\",\"new\",\"try\",\"let\",\"this\",\"else\",\"case\",\"void\",\"with\",\"enum\",\"while\",\"break\",\"catch\",\"throw\",\"const\",\"yield\",\"class\",\"super\",\"return\",\"typeof\",\"delete\",\"switch\",\"export\",\"import\",\"default\",\"finally\",\"extends\",\"function\",\"continue\",\"debugger\",\"instanceof\"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id=\"\",index=0,readUnicodeEscapeSequence=function(){if(index+=1,\"u\"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,\"\\\\u\"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case\"true\":case\"false\":type=Token.BooleanLiteral;break;case\"null\":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return\"$\"===ch||\"_\"===ch||\"\\\\\"===ch||ch>=\"a\"&&\"z\">=ch||ch>=\"A\"&&\"Z\">=ch}var bad,index=0,value=\"\",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if(\".\"!==char&&!isDecimalDigit(char))return null;if(\".\"!==char){for(value=this.peek(index),index+=1,char=this.peek(index),\"0\"===value&&((\"x\"===char||\"X\"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),(\"o\"===char||\"O\"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Octal integer literal\",\"6\"]}),index+=1,value+=char),(\"b\"===char||\"B\"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Binary integer literal\",\"6\"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if(\".\"===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if(\"e\"===char||\"E\"===char){if(value+=char,index+=1,char=this.peek(index),(\"+\"===char||\"-\"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case\"'\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\'\"]},checks,function(){return state.jsonMode});break;case\"b\":char=\"\\\\b\";break;case\"f\":char=\"\\\\f\";break;case\"n\":char=\"\\\\n\";break;case\"r\":char=\"\\\\r\";break;case\"t\":char=\"\\\\t\";break;case\"0\":char=\"\\\\0\";var n=parseInt(this.peek(1),10);this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case\"u\":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger(\"warning\",{code:\"W052\",line:this.line,character:this.char,data:[\"u\"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case\"v\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\v\"]},checks,function(){return state.jsonMode}),char=\"\u000b\";break;case\"x\":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\x-\"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case\"\\\\\":char=\"\\\\\\\\\";break;case'\"':char='\\\\\"';break;case\"/\":break;case\"\":allowNewLine=!0,char=\"\"}return{\"char\":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value=\"\",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if(\"`\"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,\"char\":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||\"}\"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;\"`\"!==this.peek();){for(;\"\"===(ch=this.peek());)if(value+=\"\\n\",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger(\"error\",{code:\"E052\",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if(\"$\"===ch&&\"{\"===this.peek(1))return value+=\"${\",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif(\"\\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else\"`\"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if('\"'!==quote&&\"'\"!==quote)return null;this.triggerAsync(\"warning\",{code:\"W108\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&'\"'!==quote});var value=\"\",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(\"\"===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync(\"warning\",{code:\"W043\",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync(\"warning\",{code:\"W042\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger(\"warning\",{code:\"W112\",line:this.line,character:this.char}),!this.nextLine())return this.trigger(\"error\",{code:\"E029\",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(\" \">char&&this.trigger(\"warning\",{code:\"W113\",line:this.line,character:this.char,data:[\"<non-printable>\"]}),\"\\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body=\"\",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){\" \">char&&(malformed=!0,this.trigger(\"warning\",{code:\"W048\",line:this.line,character:this.char})),\"<\"===char&&(malformed=!0,this.trigger(\"warning\",{code:\"W049\",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||\"/\"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)\"]\"===char&&(\"\\\\\"!==this.peek(index-1)||\"\\\\\"===this.peek(index-2))&&(isCharSet=!1),\"\\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if(\"\\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),\"/\"===char){index+=1;continue}if(\"[\"===char){index+=1;continue}}if(\"[\"!==char){if(\"/\"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger(\"error\",{code:\"E015\",line:this.line,character:this.from}),void this.trigger(\"fatal\",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(\"\"))}catch(err){malformed=!0,this.trigger(\"error\",{code:\"E016\",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith(\"/*\",\"//\")||this.inComment&&endsWith(\"*/\")||(this.input=\"\")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger(\"warning\",{code:\"W125\",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger(\"warning\",{code:\"W100\",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,\"//\")||startsWith.call(inputTrimmed,\"/*\"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger(\"warning\",{code:\"W101\",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if(\"(endline)\"!==type&&\"(end)\"!==type&&(this.prereg=!1),\"(punctuator)\"===type){switch(value){case\".\":case\")\":case\"~\":case\"#\":case\"]\":case\"++\":case\"--\":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"])}return\"(identifier)\"===type&&((\"return\"===value||\"case\"===value||\"typeof\"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"]),isReserved(obj,isProperty&&\"(identifier)\"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier=\"(identifier)\"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create(\"(endline)\",\"\"):this.exhausted?null:(this.exhausted=!0,create(\"(end)\",\"\"));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync(\"String\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create(\"(string)\",token.value,null,token);case Token.TemplateHead:return this.trigger(\"TemplateHead\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template)\",token.value,null,token);case Token.TemplateMiddle:return this.trigger(\"TemplateMiddle\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template middle)\",token.value,null,token);case Token.TemplateTail:return this.trigger(\"TemplateTail\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template tail)\",token.value,null,token);case Token.NoSubstTemplate:return this.trigger(\"NoSubstTemplate\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(no subst template)\",token.value,null,token);case Token.Identifier:this.triggerAsync(\"Identifier\",{line:this.line,\"char\":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:\".\"===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create(\"(identifier)\",token.value,\".\"===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger(\"warning\",{code:\"W045\",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"0x-\"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger(\"Number\",{line:this.line,\"char\":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create(\"(number)\",token.value);case Token.RegExp:return create(\"(regexp)\",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:\"(comment)\",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case\"\":break;default:return create(\"(punctuator)\",token.value)}else this.input.length&&(this.trigger(\"error\",{code:\"E024\",line:this.line,character:this.char,data:[this.peek()]}),this.input=\"\")}}},exports.Lexer=Lexer,exports.Context=Context},{\"../data/ascii-identifier-data.js\":\"/node_modules/jshint/data/ascii-identifier-data.js\",\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/messages.js\":[function(_dereq_,module,exports){\"use strict\";var _=_dereq_(\"../lodash\"),errors={E001:\"Bad option: '{a}'.\",E002:\"Bad option value.\",E003:\"Expected a JSON value.\",E004:\"Input is neither a string nor an array of strings.\",E005:\"Input is empty.\",E006:\"Unexpected early end of program.\",E007:'Missing \"use strict\" statement.',E008:\"Strict violation.\",E009:\"Option 'validthis' can't be used in a global scope.\",E010:\"'with' is not allowed in strict mode.\",E011:\"'{a}' has already been declared.\",E012:\"const '{a}' is initialized to 'undefined'.\",E013:\"Attempting to override '{a}' which is a constant.\",E014:\"A regular expression literal can be confused with '/='.\",E015:\"Unclosed regular expression.\",E016:\"Invalid regular expression.\",E017:\"Unclosed comment.\",E018:\"Unbegun comment.\",E019:\"Unmatched '{a}'.\",E020:\"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",E021:\"Expected '{a}' and instead saw '{b}'.\",E022:\"Line breaking error '{a}'.\",E023:\"Missing '{a}'.\",E024:\"Unexpected '{a}'.\",E025:\"Missing ':' on a case clause.\",E026:\"Missing '}' to match '{' from line {a}.\",E027:\"Missing ']' to match '[' from line {a}.\",E028:\"Illegal comma.\",E029:\"Unclosed string.\",E030:\"Expected an identifier and instead saw '{a}'.\",E031:\"Bad assignment.\",E032:\"Expected a small integer or 'false' and instead saw '{a}'.\",E033:\"Expected an operator and instead saw '{a}'.\",E034:\"get/set are ES5 features.\",E035:\"Missing property name.\",E036:\"Expected to see a statement and instead saw a block.\",E037:null,E038:null,E039:\"Function declarations are not invocable. Wrap the whole function invocation in parens.\",E040:\"Each value should have its own case label.\",E041:\"Unrecoverable syntax error.\",E042:\"Stopping.\",E043:\"Too many errors.\",E044:null,E045:\"Invalid for each loop.\",E046:\"A yield statement shall be within a generator function (with syntax: `function*`)\",E047:null,E048:\"{a} declaration not directly within block.\",E049:\"A {a} cannot be named '{b}'.\",E050:\"Mozilla acequires the yield expression to be parenthesized here.\",E051:null,E052:\"Unclosed template literal.\",E053:\"Export declaration must be in global scope.\",E054:\"Class properties must be methods. Expected '(' but instead saw '{a}'.\",E055:\"The '{a}' option cannot be set after any executable code.\",E056:\"'{a}' was used before it was declared, which is illegal for '{b}' variables.\",E057:\"Invalid meta property: '{a}.{b}'.\",E058:\"Missing semicolon.\"},warnings={W001:\"'hasOwnProperty' is a really bad name.\",W002:\"Value of '{a}' may be overwritten in IE 8 and earlier.\",W003:\"'{a}' was used before it was defined.\",W004:\"'{a}' is already defined.\",W005:\"A dot following a number can be confused with a decimal point.\",W006:\"Confusing minuses.\",W007:\"Confusing plusses.\",W008:\"A leading decimal point can be confused with a dot: '{a}'.\",W009:\"The array literal notation [] is preferable.\",W010:\"The object literal notation {} is preferable.\",W011:null,W012:null,W013:null,W014:\"Bad line breaking before '{a}'.\",W015:null,W016:\"Unexpected use of '{a}'.\",W017:\"Bad operand.\",W018:\"Confusing use of '{a}'.\",W019:\"Use the isNaN function to compare with NaN.\",W020:\"Read only.\",W021:\"Reassignment of '{a}', which is is a {b}. Use 'var' or 'let' to declare bindings that may change.\",W022:\"Do not assign to the exception parameter.\",W023:\"Expected an identifier in an assignment and instead saw a function invocation.\",W024:\"Expected an identifier and instead saw '{a}' (a reserved word).\",W025:\"Missing name in function declaration.\",W026:\"Inner functions should be listed at the top of the outer function.\",W027:\"Unreachable '{a}' after '{b}'.\",W028:\"Label '{a}' on {b} statement.\",W030:\"Expected an assignment or function call and instead saw an expression.\",W031:\"Do not use 'new' for side effects.\",W032:\"Unnecessary semicolon.\",W033:\"Missing semicolon.\",W034:'Unnecessary directive \"{a}\".',W035:\"Empty block.\",W036:\"Unexpected /*member '{a}'.\",W037:\"'{a}' is a statement label.\",W038:\"'{a}' used out of scope.\",W039:\"'{a}' is not allowed.\",W040:\"Possible strict violation.\",W041:\"Use '{a}' to compare with '{b}'.\",W042:\"Avoid EOL escaping.\",W043:\"Bad escaping of EOL. Use option multistr if needed.\",W044:\"Bad or unnecessary escaping.\",W045:\"Bad number '{a}'.\",W046:\"Don't use extra leading zeros '{a}'.\",W047:\"A trailing decimal point can be confused with a dot: '{a}'.\",W048:\"Unexpected control character in regular expression.\",W049:\"Unexpected escaped character '{a}' in regular expression.\",W050:\"JavaScript URL.\",W051:\"Variables should not be deleted.\",W052:\"Unexpected '{a}'.\",W053:\"Do not use {a} as a constructor.\",W054:\"The Function constructor is a form of eval.\",W055:\"A constructor name should start with an uppercase letter.\",W056:\"Bad constructor.\",W057:\"Weird construction. Is 'new' necessary?\",W058:\"Missing '()' invoking a constructor.\",W059:\"Avoid arguments.{a}.\",W060:\"document.write can be a form of eval.\",W061:\"eval can be harmful.\",W062:\"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.\",W063:\"Math is not a function.\",W064:\"Missing 'new' prefix when invoking a constructor.\",W065:\"Missing radix parameter.\",W066:\"Implied eval. Consider passing a function instead of a string.\",W067:\"Bad invocation.\",W068:\"Wrapping non-IIFE function literals in parens is unnecessary.\",W069:\"['{a}'] is better written in dot notation.\",W070:\"Extra comma. (it breaks older versions of IE)\",W071:\"This function has too many statements. ({a})\",W072:\"This function has too many parameters. ({a})\",W073:\"Blocks are nested too deeply. ({a})\",W074:\"This function's cyclomatic complexity is too high. ({a})\",W075:\"Duplicate {a} '{b}'.\",W076:\"Unexpected parameter '{a}' in get {b} function.\",W077:\"Expected a single parameter in set {a} function.\",W078:\"Setter is defined without getter.\",W079:\"Redefinition of '{a}'.\",W080:\"It's not necessary to initialize '{a}' to 'undefined'.\",W081:null,W082:\"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.\",W083:\"Don't make functions within a loop.\",W084:\"Assignment in conditional expression\",W085:\"Don't use 'with'.\",W086:\"Expected a 'break' statement before '{a}'.\",W087:\"Forgotten 'debugger' statement?\",W088:\"Creating global 'for' variable. Should be 'for (var {a} ...'.\",W089:\"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.\",W090:\"'{a}' is not a statement label.\",W091:null,W093:\"Did you mean to return a conditional instead of an assignment?\",W094:\"Unexpected comma.\",W095:\"Expected a string and instead saw {a}.\",W096:\"The '{a}' key may produce unexpected results.\",W097:'Use the function form of \"use strict\".',W098:\"'{a}' is defined but never used.\",W099:null,W100:\"This character may get silently deleted by one or more browsers.\",W101:\"Line is too long.\",W102:null,W103:\"The '{a}' property is deprecated.\",W104:\"'{a}' is available in ES{b} (use 'esversion: {b}') or Mozilla JS extensions (use moz).\",W105:\"Unexpected {a} in '{b}'.\",W106:\"Identifier '{a}' is not in camel case.\",W107:\"Script URL.\",W108:\"Strings must use doublequote.\",W109:\"Strings must use singlequote.\",W110:\"Mixed double and single quotes.\",W112:\"Unclosed string.\",W113:\"Control character in string: {a}.\",W114:\"Avoid {a}.\",W115:\"Octal literals are not allowed in strict mode.\",W116:\"Expected '{a}' and instead saw '{b}'.\",W117:\"'{a}' is not defined.\",W118:\"'{a}' is only available in Mozilla JavaScript extensions (use moz option).\",W119:\"'{a}' is only available in ES{b} (use 'esversion: {b}').\",W120:\"You might be leaking a variable ({a}) here.\",W121:\"Extending prototype of native object: '{a}'.\",W122:\"Invalid typeof value '{a}'\",W123:\"'{a}' is already defined in outer scope.\",W124:\"A generator function shall contain a yield statement.\",W125:\"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp\",W126:\"Unnecessary grouping operator.\",W127:\"Unexpected use of a comma operator.\",W128:\"Empty array elements acequire elision=true.\",W129:\"'{a}' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.\",W130:\"Invalid element after rest element.\",W131:\"Invalid parameter after rest parameter.\",W132:\"`var` declarations are forbidden. Use `let` or `const` instead.\",W133:\"Invalid for-{a} loop left-hand-side: {b}.\",W134:\"The '{a}' option is only available when linting ECMAScript {b} code.\",W135:\"{a} may not be supported by non-browser environments.\",W136:\"'{a}' must be in function scope.\",W137:\"Empty destructuring.\",W138:\"Regular parameters should not come after default parameters.\"},info={I001:\"Comma warnings can be turned off with 'laxcomma'.\",I002:null,I003:\"ES5 option is now set per default\"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{\"../lodash\":\"/node_modules/jshint/lodash.js\"}],\"/node_modules/jshint/src/name-stack.js\":[function(_dereq_,module){\"use strict\";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,\"length\",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix=\"\";return nameToken&&\"class\"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,\"(string)\"!==type&&\"(number)\"!==type&&\"(identifier)\"!==type&&\"default\"!==type?\"(expression)\":(nameToken.accessorType&&(prefix=nameToken.accessorType+\" \"),prefix+nameToken.value)):\"(empty)\"},module.exports=NameStack},{}],\"/node_modules/jshint/src/options.js\":[function(_dereq_,module,exports){\"use strict\";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:\"eqeqeq\",windows:\"wsh\",sloppy:\"strict\"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],\"/node_modules/jshint/src/reg.js\":[function(_dereq_,module,exports){\"use strict\";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],\"/node_modules/jshint/src/scope-manager.js\":[function(_dereq_,module){\"use strict\";var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={\"(labels)\":Object.create(null),\"(usages)\":Object.create(null),\"(breakLabels)\":Object.create(null),\"(parent)\":_current,\"(type)\":type,\"(params)\":\"functionparams\"===type||\"catchparams\"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current[\"(usages)\"][labelName]||(_current[\"(usages)\"][labelName]={\"(modified)\":[],\"(reassigned)\":[],\"(tokens)\":[]})}function _checkForUnused(){if(\"functionparams\"===_current[\"(type)\"])return _checkParams(),void 0;var curentLabels=_current[\"(labels)\"];for(var labelName in curentLabels)curentLabels[labelName]&&\"exception\"!==curentLabels[labelName][\"(type)\"]&&curentLabels[labelName][\"(unused)\"]&&_warnUnused(labelName,curentLabels[labelName][\"(token)\"],\"var\")}function _checkParams(){var params=_current[\"(params)\"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current[\"(labels)\"][param];if(unused_opt=_getUnusedOption(state.funct[\"(unusedOption)\"]),\"undefined\"===param)return;if(label[\"(unused)\"])_warnUnused(param,label[\"(token)\"],\"param\",state.funct[\"(unusedOption)\"]);else if(\"last-param\"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i][\"(labels)\"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(usages)\"][labelName])return current[\"(usages)\"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if(\"outer\"===state.option.shadow)for(var isGlobal=\"global\"===_currentFunctBody[\"(type)\"],isNewFunction=\"functionparams\"===_current[\"(type)\"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem[\"(labels)\"][labelName]&&warning(\"W123\",token,labelName),stackItem[\"(breakLabels)\"][labelName]&&warning(\"W123\",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&\"function\"===type||\"function\"!==type)&&warning(\"W003\",token,labelName)}var _current,_scopeStack=[];_newScope(\"global\"),_current[\"(predefined)\"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt=\"last-param\"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:[\"var\"],\"last-param\":[\"var\",\"param\"],strict:[\"var\",\"param\",\"last-param\"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning(\"W098\",{line:line,from:chr},raw_name),(unused_opt||\"var\"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0][\"(predefined)\"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||\"functionparams\"!==previousScope[\"(type)\"]||(_current[\"(isFuncBody)\"]=!0,_current[\"(context)\"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams=\"functionparams\"===_current[\"(type)\"],isUnstackingFunctionOuter=\"functionouter\"===_current[\"(type)\"],currentUsages=_current[\"(usages)\"],currentLabels=_current[\"(labels)\"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf(\"__proto__\")&&usedLabelNameList.push(\"__proto__\"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel[\"(type)\"];if(usedLabel[\"(useOutsideOfScope)\"]&&!state.option.funcscope){var usedTokens=usage[\"(tokens)\"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel[\"(function)\"]===usedTokens[j][\"(function)\"]&&error(\"W038\",usedTokens[j],usedLabelName)}if(_current[\"(labels)\"][usedLabelName][\"(unused)\"]=!1,\"const\"===usedLabelType&&usage[\"(modified)\"])for(j=0;usage[\"(modified)\"].length>j;j++)error(\"E013\",usage[\"(modified)\"][j],usedLabelName);if((\"function\"===usedLabelType||\"class\"===usedLabelType)&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)error(\"W021\",usage[\"(reassigned)\"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct[\"(isCapturing)\"]=!0),subScope)if(subScope[\"(usages)\"][usedLabelName]){var subScopeUsage=subScope[\"(usages)\"][usedLabelName];subScopeUsage[\"(modified)\"]=subScopeUsage[\"(modified)\"].concat(usage[\"(modified)\"]),subScopeUsage[\"(tokens)\"]=subScopeUsage[\"(tokens)\"].concat(usage[\"(tokens)\"]),subScopeUsage[\"(reassigned)\"]=subScopeUsage[\"(reassigned)\"].concat(usage[\"(reassigned)\"]),subScopeUsage[\"(onlyUsedSubFunction)\"]=!1}else subScope[\"(usages)\"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope[\"(usages)\"][usedLabelName][\"(onlyUsedSubFunction)\"]=!0);else if(\"boolean\"==typeof _current[\"(predefined)\"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current[\"(predefined)\"][usedLabelName]===!1&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)warning(\"W020\",usage[\"(reassigned)\"][j])}else if(usage[\"(tokens)\"])for(j=0;usage[\"(tokens)\"].length>j;j++){var undefinedToken=usage[\"(tokens)\"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning(\"W117\",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],\"var\")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName][\"(blockscoped)\"]||\"exception\"===currentLabels[defLabelName][\"(type)\"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope[\"(labels)\"][defLabelName]=currentLabels[defLabelName],\"global\"!==_currentFunctBody[\"(type)\"]&&(subScope[\"(labels)\"][defLabelName][\"(useOutsideOfScope)\"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope[\"(isFuncBody)\"]||\"global\"===scope[\"(type)\"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||\"param\",\"exception\"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&\"exception\"!==previouslyDefinedLabelType&&(state.option.node||warning(\"W002\",state.tokens.next,labelName))}if(_.has(_current[\"(labels)\"],labelName)?_current[\"(labels)\"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":token,\"(unused)\":!0},_current[\"(params)\"].push(labelName)),_.has(_current[\"(usages)\"],labelName)){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}},validateParams:function(){if(\"global\"!==_currentFunctBody[\"(type)\"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody[\"(parent)\"];currentFunctParamScope[\"(params)\"]&&currentFunctParamScope[\"(params)\"].forEach(function(labelName){var label=currentFunctParamScope[\"(labels)\"][labelName];label&&label.duplicated&&(isStrict?warning(\"E011\",label[\"(token)\"],labelName):state.option.shadow!==!0&&warning(\"W004\",label[\"(token)\"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf(\"__proto__\")&&list.push(\"__proto__\"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return\"__proto__\"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName][\"(type)\"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0][\"(labels)\"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName][\"(unused)\"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope[\"(type)\"])break;if(_.has(scope[\"(labels)\"],labelName)&&!scope[\"(labels)\"][labelName][\"(blockscoped)\"])return scope[\"(labels)\"][labelName][\"(unused)\"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped=\"let\"===type||\"const\"===type||\"class\"===type,isexported=\"global\"===(isblockscoped?_current:_currentFunctBody)[\"(type)\"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current[\"(labels)\"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||\"global\"===_current[\"(type)\"]||(declaredInCurrentScope=!!_currentFunctBody[\"(parent)\"][\"(labels)\"][labelName]),!declaredInCurrentScope&&_current[\"(usages)\"][labelName]){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}declaredInCurrentScope?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning(\"W004\",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning(\"E011\",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&\"__proto__\"!==labelName&&\"global\"!==_currentFunctBody[\"(type)\"]&&warning(\"W004\",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),\"global\"===_currentFunctBody[\"(type)\"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current[\"(labels)\"][labelName]&&(!onlyBlockscoped||current[\"(labels)\"][labelName][\"(blockscoped)\"]))return current[\"(labels)\"][labelName][\"(type)\"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&\"functionparams\"===scopeCheck[\"(type)\"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(breakLabels)\"][labelName])return!0;if(\"functionparams\"===current[\"(type)\"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!1,\"(function)\":_currentFunctBody,\"(unused)\":unused}}},block:{isGlobal:function(){return\"global\"===_current[\"(type)\"]},use:function(labelName,token){var paramScope=_currentFunctBody[\"(parent)\"];paramScope&&paramScope[\"(labels)\"][labelName]&&\"param\"===paramScope[\"(labels)\"][labelName][\"(type)\"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope[\"(labels)\"][labelName][\"(unused)\"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token[\"(function)\"]=_currentFunctBody,_current[\"(usages)\"][labelName][\"(tokens)\"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current[\"(usages)\"][labelName][\"(reassigned)\"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current[\"(usages)\"][labelName][\"(modified)\"].push(token)},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!0,\"(unused)\":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning(\"W004\",token,labelName):_checkOuterShadow(labelName,token)),_current[\"(breakLabels)\"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{\"../lodash\":\"/node_modules/jshint/lodash.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/state.js\":[function(_dereq_,module,exports){\"use strict\";var NameStack=_dereq_(\"./name-stack.js\"),state={syntax:{},isStrict:function(){return this.directive[\"use strict\"]||this.inClassBody||this.option.module||\"implied\"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab=\"\",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{\"./name-stack.js\":\"/node_modules/jshint/src/name-stack.js\"}],\"/node_modules/jshint/src/style.js\":[function(_dereq_,module,exports){\"use strict\";exports.register=function(linter){linter.on(\"Identifier\",function(data){linter.getOption(\"proto\")||\"__proto__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name,\"6\"]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"iterator\")||\"__iterator__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"camelcase\")&&data.name.replace(/^_+|_+$/g,\"\").indexOf(\"_\")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn(\"W106\",{line:data.line,\"char\":data.from,data:[data.name]})}),linter.on(\"String\",function(data){var code,quotmark=linter.getOption(\"quotmark\");quotmark&&(\"single\"===quotmark&&\"'\"!==data.quote&&(code=\"W109\"),\"double\"===quotmark&&'\"'!==data.quote&&(code=\"W108\"),quotmark===!0&&(linter.getCache(\"quotmark\")||linter.setCache(\"quotmark\",data.quote),linter.getCache(\"quotmark\")!==data.quote&&(code=\"W110\")),code&&linter.warn(code,{line:data.line,\"char\":data.char}))}),linter.on(\"Number\",function(data){\".\"===data.value.charAt(0)&&linter.warn(\"W008\",{line:data.line,\"char\":data.char,data:[data.value]}),\".\"===data.value.substr(data.value.length-1)&&linter.warn(\"W047\",{line:data.line,\"char\":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn(\"W046\",{line:data.line,\"char\":data.char,data:[data.value]})}),linter.on(\"String\",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption(\"scripturl\")||re.test(data.value)&&linter.warn(\"W107\",{line:data.line,\"char\":data.char})})}},{}],\"/node_modules/jshint/src/vars.js\":[function(_dereq_,module,exports){\"use strict\";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,\"throws\":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},[\"/node_modules/jshint/src/jshint.js\"])}),ace.define(\"ace/mode/javascript_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/javascript/jshint\"],function(acequire,exports,module){\"use strict\";function startRegex(arr){return RegExp(\"^(\"+arr.join(\"|\")+\")\")}var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,lint=acequire(\"./javascript/jshint\").JSHINT,disabledWarningsRe=startRegex([\"Bad for in variable '(.+)'.\",'Missing \"use strict\"']),errorsRe=startRegex([\"Unexpected\",\"Expected \",\"Confusing (plus|minus)\",\"\\\\{a\\\\} unterminated regular expression\",\"Unclosed \",\"Unmatched \",\"Unbegun comment\",\"Bad invocation\",\"Missing space after\",\"Missing operator at\"]),infoRe=startRegex([\"Expected an assignment\",\"Bad escapement of EOL\",\"Unexpected comma\",\"Unexpected space\",\"Missing radix parameter.\",\"A leading decimal point can\",\"\\\\['{a}'\\\\] is better written in dot notation.\",\"'{a}' used out of scope\"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval(\"throw 0;\"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,\"\\n\"),!value)return this.sender.emit(\"annotate\",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?\"warning\":\"error\";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type=\"warning\";if(\"Missing semicolon.\"==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),\"error\"==maxErrorLevel&&str&&/[\\w\\d{(['\"]/.test(str)?(error.reason='Missing \";\" before statement',type=\"error\"):type=\"info\"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type=\"info\":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):\"'{a}' is not defined.\"==raw?type=\"warning\":\"'{a}' is defined but never used.\"==raw&&(type=\"info\")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit(\"annotate\",errors)}}.call(JavaScriptWorker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r \\u2028\\u2029\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";
},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _threeOrbitControls = require('three-orbit-controls');

var _threeOrbitControls2 = _interopRequireDefault(_threeOrbitControls);

var _ThreeRenderer = require('./ThreeRenderer.jsx');

var _ThreeRenderer2 = _interopRequireDefault(_ThreeRenderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var OrbitControls = (0, _threeOrbitControls2.default)(_three2.default);

var OrbitThreeView = function (_React$Component) {
  _inherits(OrbitThreeView, _React$Component);

  function OrbitThreeView(props) {
    _classCallCheck(this, OrbitThreeView);

    // Setup OrbitControls camera
    var _this = _possibleConstructorReturn(this, (OrbitThreeView.__proto__ || Object.getPrototypeOf(OrbitThreeView)).call(this, props));

    var canvasSize = {
      width: 512,
      height: 512
    };
    var aspect = canvasSize.width / canvasSize.height;
    var camera = new _three2.default.PerspectiveCamera(70.0 /*deg*/, aspect, 0.1, 10000.0);
    camera.position.set(0, 0, 10);
    camera.updateMatrix();
    camera.updateMatrixWorld();
    _this.ctrlsCam = camera;
    // Initialize state
    _this.state = {
      canvasSize: canvasSize,
      camera: camera,
      zoom: 70.0
    };
    // Initialize bound methods
    _this.updateSizeState = _this.updateSizeState.bind(_this);
    return _this;
  }

  _createClass(OrbitThreeView, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      window.addEventListener("resize", this.updateSizeState);
      this.updateSizeState();

      var orbitControls = new OrbitControls(this.ctrlsCam, _reactDom2.default.findDOMNode(this.refs["anchor"]));
      orbitControls.addEventListener("change", function () {
        _this2.ctrlsCam.updateMatrix();
        _this2.ctrlsCam.updateMatrixWorld();
        _this2.setState({ camera: _this2.ctrlsCam.clone() });
      });
      this.orbitControls = orbitControls;
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener("resize", this.updateSizeState);
    }
  }, {
    key: 'updateSizeState',
    value: function updateSizeState() {
      var _refs$anchor$getBound = this.refs["anchor"].getBoundingClientRect(),
          width = _refs$anchor$getBound.width,
          height = _refs$anchor$getBound.height;

      this.ctrlsCam.aspect = width / height;
      this.ctrlsCam.updateProjectionMatrix();
      this.setState({
        canvasSize: { width: width, height: height }
      });
    }
  }, {
    key: 'getCurrentCamera',
    value: function getCurrentCamera() {
      return this.state.camera;
    }
  }, {
    key: 'updateZoom',
    value: function updateZoom(delta) {
      var zoom = this.state.zoom;

      var camera = this.ctrlsCam;
      var newZoom = zoom + delta;
      if (newZoom <= 0) {
        return;
      } else {
        camera.fov = newZoom;
        camera.updateProjectionMatrix();
        this.setState({
          zoom: newZoom,
          camera: camera.clone()
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var zoomPaletteStyle = {
        zIndex: 10,
        position: "absolute",
        top: 0,
        left: 0
      };
      var containerStyle = {
        position: "relative"
      };
      return _react2.default.createElement(
        'div',
        { ref: 'anchor', style: containerStyle },
        _react2.default.createElement(_ThreeRenderer2.default, {
          width: this.state.canvasSize.width,
          height: this.state.canvasSize.height,
          scene: this.props.scene,
          camera: this.state.camera }),
        _react2.default.createElement(
          'div',
          { style: zoomPaletteStyle },
          _react2.default.createElement(
            'button',
            { onClick: function onClick() {
                return _this3.updateZoom(-5.0);
              } },
            '+'
          ),
          _react2.default.createElement(
            'button',
            { onClick: function onClick() {
                return _this3.updateZoom(5.0);
              } },
            '-'
          ),
          _react2.default.createElement(
            'span',
            null,
            'FOV: ',
            this.state.zoom,
            ' degrees'
          )
        )
      );
    }
  }]);

  return OrbitThreeView;
}(_react2.default.Component);

exports.default = OrbitThreeView;

},{"./ThreeRenderer.jsx":9,"react":"react","react-dom":"react-dom","three":"three","three-orbit-controls":"three-orbit-controls"}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeNodeDecoration = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lodash = require('lodash');

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _brace = require('brace');

var _brace2 = _interopRequireDefault(_brace);

var _reactAce = require('react-ace');

var _reactAce2 = _interopRequireDefault(_reactAce);

require('brace/mode/javascript');

require('brace/theme/monokai');

require('brace/ext/language_tools');

var _program = require('../Runner/Parsing/program.js');

var _programQueries = require('../Runner/Parsing/program-queries.js');

var _astUtils = require('../Runner/Parsing/ast-utils.js');

var _dragManager = require('./drag-manager.js');

var dragmanager = _interopRequireWildcard(_dragManager);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Range = _brace2.default.acequire('ace/range').Range; // this module is imported to get rid of "mispelled options" warning from react-ace

/*
  Ace documentation: https://github.com/ajaxorg/ace/wiki
*/

/*
ProgramEditor
  A component responsible for the UI of editing a program.
  It has to have a way of communicating/signaling that it produced a new version of the program.
  It is just a top-level/abstract component as it doesn't impose any specific way of editing the program.
  CompositeEditor
    Edits a part of a program using other editors.
  TextFragmentEditor
    Edits a part of a program using the normal text editor.
  LockedView
    A part of the editor that is not being edited right now.
Cursors
  Does it have cursors controlled by the keyboard?
  Does it have mouse interaction?
  If there are multiple types of editors, how do we manage cursors and mouse interaction?
*/
// TODO Handle syntactically invalid text programs.
// TODO Hide ace editor disorientation when the program is updated.
//   Adding text by pasting or typing on top of a selection will cause 
//  two change events instead of one.
// TODO Remove loop of ace editor changes.
//  AceEditor calls onChange both when the user changes the editor and when React re-renders
//  It emits a "delete everything" change followed by a "this is the new contents" change.
//  This behavior breaks Ace's javascript linting.
// TODO Convert ace editor changes into program changes.
// TODO Figure out how to keep the changes made by using Ace Editor without
//sending a syntatically invalid program to the onValidProgram callback.

var ProgramEditor = function (_React$Component) {
  _inherits(ProgramEditor, _React$Component);

  _createClass(ProgramEditor, [{
    key: 'render',

    /*
      Props:
        - program
        - nodeDecorations {Array.<NodeDecoration>}
        - onValidProgram
        - onHoveredNode
        - onClickedNode
      State:
        - ast
        - dragging
    */
    value: function render() {
      var _state = this.state,
          ast = _state.ast,
          dragging = _state.dragging;

      return _react2.default.createElement(
        'div',
        {
          onMouseMove: ast !== null ? this.handleMouseMove : _lodash.noop,
          onMouseDown: ast !== null ? this.handleMouseDown : _lodash.noop,
          onClick: ast !== null ? this.handleClick : _lodash.noop },
        _react2.default.createElement(_reactAce2.default, {
          ref: 'aceEditor',
          onChange: this.handleChange,
          value: this.props.program,
          mode: 'javascript',
          theme: 'monokai',
          width: '100%',
          height: '100%',
          fontSize: 16,
          tabSize: 2,
          editorProps: { $blockScrolling: Infinity },
          setOptions: { dragEnabled: false, scrollPastEnd: 0.9 /*screen size*/ },
          className: dragging ? 'prog-editor-no-selection' : '' })
      );
    }
  }]);

  function ProgramEditor(props) {
    _classCallCheck(this, ProgramEditor);

    var _this = _possibleConstructorReturn(this, (ProgramEditor.__proto__ || Object.getPrototypeOf(ProgramEditor)).call(this, props));

    _this.state = {
      ast: (0, _program.validSource)(props.program) ? (0, _program.sourceToAst)(props.program) : null,
      dragging: false
    };
    // Initialize state.
    _this.initializeDecorations();
    _this.initializeSliderMarkers();
    // Initialize bound methods.
    _this.handleChange = _this.handleChange.bind(_this);
    _this.handleMouseMove = _this.handleMouseMove.bind(_this);
    _this.handleMouseDown = _this.handleMouseDown.bind(_this);
    _this.handleClick = _this.handleClick.bind(_this);
    return _this;
  }

  _createClass(ProgramEditor, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.aceEditor = this.refs["aceEditor"].editor;
      this.updateSliderMarkers();
      this.updateDecorations(this.props.nodeDecorations);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(newProps) {
      var program = newProps.program;

      this.setState({
        ast: (0, _program.validSource)(program) ? (0, _program.sourceToAst)(program) : null
      });
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.updateSliderMarkers();
      this.updateDecorations(this.props.nodeDecorations);
    }
  }, {
    key: 'handleMouseDown',
    value: function handleMouseDown(mouseDownEvent) {
      // Begin slider behavior when necessary.
      this.tryStartConstantAdjustment(mouseDownEvent);
    }
  }, {
    key: 'handleMouseMove',
    value: function handleMouseMove(mouseMoveEvent) {
      var programCoords = this.mouseEventToEsprimaCoords(mouseMoveEvent);

      var _nodesContainingCoord = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          deepestNode = _nodesContainingCoord.deepestNode,
          bottomUpNodes = _nodesContainingCoord.bottomUpNodes;

      this.props.onHoveredNode({
        node: deepestNode,
        path: bottomUpNodes
      });
    }
  }, {
    key: 'handleClick',
    value: function handleClick(clickEvent) {
      var programCoords = this.mouseEventToEsprimaCoords(clickEvent);

      var _nodesContainingCoord2 = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          deepestNode = _nodesContainingCoord2.deepestNode,
          bottomUpNodes = _nodesContainingCoord2.bottomUpNodes;

      this.props.onClickedNode({
        node: deepestNode,
        path: bottomUpNodes
      });
    }
  }, {
    key: 'handleChange',
    value: function handleChange(newSource) {
      this.props.onProgramChange(newSource);
      if ((0, _program.validSource)(newSource)) {
        this.props.onValidProgram(newSource);
      }
    }
  }, {
    key: 'initializeDecorations',
    value: function initializeDecorations() {
      this.decorationsToMarkers = new Map();
    }
  }, {
    key: 'updateDecorations',
    value: function updateDecorations(newDecorations) {
      var _this2 = this;

      var currentDecorations = Array.from(this.decorationsToMarkers.keys());
      var leavingDecorations = (0, _lodash.difference)(currentDecorations, newDecorations);
      var keepingDecorations = (0, _lodash.difference)(currentDecorations, leavingDecorations);
      var enteringDecorations = (0, _lodash.difference)(newDecorations, keepingDecorations);
      //Remove leaving.
      leavingDecorations.map(function (dec) {
        return _this2.decorationsToMarkers.get(dec);
      }).forEach(function (marker) {
        _this2.aceEditor.getSession().removeMarker(marker);
      });
      leavingDecorations.forEach(function (dec) {
        _this2.decorationsToMarkers.delete(dec);
      });
      //Add entering.
      enteringDecorations.forEach(function (dec) {
        var nodeRange = getNodeRange(dec.node);
        var marker = addColoredMarker(_this2.aceEditor, nodeRange, dec.color);
        _this2.decorationsToMarkers.set(dec, marker);
      });
    }
  }, {
    key: 'initializeSliderMarkers',
    value: function initializeSliderMarkers() {
      this.sliderMarkers = [];
    }
  }, {
    key: 'updateSliderMarkers',
    value: function updateSliderMarkers() {
      var _this3 = this;

      // Remove previous markers.
      this.sliderMarkers.forEach(function (marker) {
        _this3.aceEditor.getSession().removeMarker(marker);
      });
      this.sliderMarkers = [];
      // Add current markers.
      var numericLiterals = this.state.ast !== null ? (0, _programQueries.signedLiteralNodes)(this.state.ast) : [];
      numericLiterals.forEach(function (literal) {
        var range = getNodeRange(literal);
        var marker = _this3.aceEditor.getSession().addMarker(range, "adjustable-hint", "text", false);
        _this3.sliderMarkers.push(marker);
      });
    }
  }, {
    key: 'tryStartConstantAdjustment',
    value: function tryStartConstantAdjustment(mouseDownEvent) {
      var _this4 = this;

      var programCoords = this.mouseEventToEsprimaCoords(mouseDownEvent);

      var _nodesContainingCoord3 = (0, _programQueries.nodesContainingCoords)(this.state.ast, programCoords),
          bottomUpNodes = _nodesContainingCoord3.bottomUpNodes,
          pathToDeepest = _nodesContainingCoord3.pathToDeepest;

      var shouldStart = _astUtils.recognizers.isNumericLiteral(bottomUpNodes[0]);
      if (shouldStart) {
        (function () {
          // Update state
          _this4.setState({ dragging: true });
          // Setup text adjustment
          var pathToNode = _astUtils.recognizers.isSignedNumericLiteral(bottomUpNodes[1]) ? pathToDeepest.slice(0, -1) : pathToDeepest;
          var initialTargetNode = (0, _programQueries.nodeAtPath)(_this4.state.ast, pathToNode);
          var literalText = literalSourceCode(initialTargetNode);
          var componentExtractor = /^(\+|\-)?([0-9]*)(?:\.([0-9]+))?$/; // Not handling 0x 0o 0b

          var _componentExtractor$e = componentExtractor.exec(literalText),
              _componentExtractor$e2 = _slicedToArray(_componentExtractor$e, 4),
              _componentExtractor$e3 = _componentExtractor$e2[1],
              signStr = _componentExtractor$e3 === undefined ? "" : _componentExtractor$e3,
              intStr = _componentExtractor$e2[2],
              _componentExtractor$e4 = _componentExtractor$e2[3],
              fracStr = _componentExtractor$e4 === undefined ? "" : _componentExtractor$e4;

          var fracDigitsNum = fracStr.length;
          var startingInt = Number.parseInt(signStr + intStr + fracStr);
          var startX = mouseDownEvent.clientX;
          var onMove = function onMove(mouseMoveEvent) {
            var deltaX = mouseMoveEvent.clientX - startX;
            var deltaInt = Math.round(deltaX / 5);
            var newInt = startingInt + deltaInt;

            var targetNode = (0, _programQueries.nodeAtPath)(_this4.state.ast, pathToNode);
            var doc = _this4.aceEditor.getSession().getDocument();
            doc.replace(getNodeRange(targetNode), literalTextFromInt(newInt, fracDigitsNum));
          };
          var onUp = function onUp() {
            _this4.setState({ dragging: false });
          };
          dragmanager.start(mouseDownEvent, { onMove: onMove, onUp: onUp });
        })();
      }
    }
  }, {
    key: 'mouseEventToEsprimaCoords',
    value: function mouseEventToEsprimaCoords(mouseEvent) {
      //this.aceEditor
      var clientX = mouseEvent.clientX,
          clientY = mouseEvent.clientY;

      var screenCoords = this.aceEditor.renderer.pixelToScreenCoordinates(clientX, clientY);
      var documentCoords = this.aceEditor.getSession().screenToDocumentPosition(screenCoords.row, screenCoords.column);
      var programCoords = documentCoordsToEsprimaCoords(documentCoords);
      return programCoords;
    }
  }]);

  return ProgramEditor;
}(_react2.default.Component);

var NodeDecoration = function NodeDecoration(node, color) {
  _classCallCheck(this, NodeDecoration);

  this.node = node;
  this.color = color;
};

function makeNodeDecoration(node, color) {
  return new NodeDecoration(node, color);
}

exports.default = ProgramEditor;
exports.makeNodeDecoration = makeNodeDecoration;


ProgramEditor.propTypes = {
  program: _react.PropTypes.string.isRequired,
  nodeDecorations: _react.PropTypes.arrayOf(_react.PropTypes.instanceOf(NodeDecoration)).isRequired,
  onProgramChange: _react.PropTypes.func,
  onValidProgram: _react.PropTypes.func,
  onHoveredNode: _react.PropTypes.func,
  onClickedNode: _react.PropTypes.func
};

// Adjustable constants helper functions.
function literalSourceCode(node) {
  if (_astUtils.recognizers.isUnaryExpression(node)) {
    return node.operator + node.argument.raw;
  } else {
    return node.raw;
  }
}

function absoluteValueTextFromInt(int, fracDigitsNum) {
  function getDigits(int) {
    var intDigits = [];
    var currentInt = Math.abs(int);
    while (currentInt !== 0) {
      var digit = currentInt % 10;
      intDigits.unshift(digit);
      currentInt = Math.floor(currentInt / 10);
    }
    return intDigits;
  }
  var intDigits = getDigits(int);
  var neededDigits = fracDigitsNum + 1; // e.g. X.XXX (fracDigitsNum=3)
  var allDigits = [].concat(_toConsumableArray((0, _lodash.times)(Math.max(neededDigits - intDigits.length), (0, _lodash.constant)("0"))), _toConsumableArray(intDigits));
  var needsDecimalPoint = fracDigitsNum > 0;
  var completeStr = needsDecimalPoint ? [].concat(_toConsumableArray(allDigits.slice(0, -fracDigitsNum)), ["."], _toConsumableArray(allDigits.slice(-fracDigitsNum))).join("") : allDigits.join("");
  return completeStr;
}

function numericLiteralFromInt(int, fracDigitsNum) {
  var absStr = absoluteValueTextFromInt(int, fracDigitsNum);
  var isNegative = int < 0;
  return isNegative ? _astUtils.constructors.unaryExpr("-", _astUtils.constructors.literal(Number.parseFloat(absStr), absStr)) : _astUtils.constructors.literal(Number.parseFloat(absStr), absStr);
}

function literalTextFromInt(int, fracDigitsNum) {
  var absStr = absoluteValueTextFromInt(int, fracDigitsNum);
  var signStr = int < 0 ? "-" : "";
  return signStr + absStr;
}

// dependencies: Program + ace
function getNodeRange(astNode) {
  var _astNode$loc = astNode.loc,
      start = _astNode$loc.start,
      end = _astNode$loc.end;

  return new Range(start.line - 1, start.column, end.line - 1, end.column);
}

function documentCoordsToEsprimaCoords(documentCoords) {
  return {
    line: documentCoords.row + 1,
    column: documentCoords.column
  };
}

function esprimaCoordsToDocumentCoords(esprimaCoords) {
  return {
    row: esprimaCoords.line - 1,
    column: esprimaCoords.column
  };
}

// dependencies: ace + THREE.Color
function addColoredMarker(aceEditor, range, color) {
  var marker = aceEditor.getSession().addDynamicMarker({
    range: range,
    update: _lodash.noop,
    renderer: drawColoredMarker,
    color: color.getStyle(),
    editor: aceEditor
  }, true);
  return marker.id;
}

function drawColoredMarker(htmlStringArray, range, left, top, config) {
  //Based on: ace/layer/marker - drawTextMarker().
  //push html string into htmlstringarray that represents the marker as DOM objects.
  function drawLine(range, clazz, extraLength, extraStyle) {
    var height = lineHeight;
    var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;

    var top = getTop(range.start.row, config);
    var left = padding + range.start.column * characterWidth;

    htmlStringArray.push("<div class='", clazz, "' style='", "height:", height, "px;", "width:", width, "px;", "top:", top, "px;", "left:", left, "px;", extraStyle || "", "'></div>");
  }
  var characterWidth = config.characterWidth,
      lineHeight = config.lineHeight;

  var padding = left - range.start.column * characterWidth;
  var session = this.editor.getSession();
  var start = range.start.row;
  var end = range.end.row;
  var row = start;
  var prev = 0;
  var curr = 0;
  var next = start != end ? session.getScreenLastRowColumn(row) : range.end.column;
  var lineRange = new Range(row, range.start.column, row, curr);
  for (; row <= end; row++) {
    lineRange.start.row = lineRange.end.row = row;
    lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
    lineRange.end.column = next;
    prev = curr;
    curr = next;
    next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
    drawLine(lineRange, (row == start ? " ace_start" : "") + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), row == end ? 0 : 1, "background-color:" + this.color + ";" + "position: absolute;" + "opacity: 0.4;");
  }
}

function getBorderClass(tl, tr, br, bl) {
  return "ace_br" + ((tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0));
}

function getTop(row, layerConfig) {
  return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
}

},{"../Runner/Parsing/ast-utils.js":14,"../Runner/Parsing/program-queries.js":17,"../Runner/Parsing/program.js":18,"./drag-manager.js":10,"brace":"brace","brace/ext/language_tools":1,"brace/mode/javascript":2,"brace/theme/monokai":3,"lodash":"lodash","react":"react","react-ace":"react-ace"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.makeResultOcorrencesDecoration = exports.makeResultInstanceDecoration = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _OrbitThreeView = require('./OrbitThreeView.jsx');

var _OrbitThreeView2 = _interopRequireDefault(_OrbitThreeView);

var _run = require('../Runner/run.js');

var _toThree = require('../SceneGraph/to-three.js');

var _toThree2 = _interopRequireDefault(_toThree);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _lodash = require('lodash');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//8888888b.                            888 888            888     888 d8b                        
//888   Y88b                           888 888            888     888 Y8P                        
//888    888                           888 888            888     888                            
//888   d88P .d88b.  .d8888b  888  888 888 888888 .d8888b Y88b   d88P 888  .d88b.  888  888  888 
//8888888P" d8P  Y8b 88K      888  888 888 888    88K      Y88b d88P  888 d8P  Y8b 888  888  888 
//888 T88b  88888888 "Y8888b. 888  888 888 888    "Y8888b.  Y88o88P   888 88888888 888  888  888 
//888  T88b Y8b.          X88 Y88b 888 888 Y88b.       X88   Y888P    888 Y8b.     Y88b 888 d88P 
//888   T88b "Y8888   88888P'  "Y88888 888  "Y888  88888P'    Y8P     888  "Y8888   "Y8888888P"  
//                                                                                               
//                                                                                               
//                                                                                               

var ResultsView = function (_React$Component) {
	_inherits(ResultsView, _React$Component);

	/*
 	Responsibility: 
 		Display a controlable 3D view containing program results to the user; 
 		Render 3D objects which may have decorations applied;
 		Provide hooks to react to what is pointed.
 	Props:
 		- results: a list of the top level results of a program
 		- resultDecorations: a list of decorations to change appearence of some result instances
 		- onHoveredResultInstance: a function to be called when the current hovered result instance changes
 		- onClick: a callback receiving an object with structure {type, path, resultInstance}. 
 			Called when ResultsView is clicked
 	State:
 		- threeConvertedResults {ThreeConvertedResults}
 		- handleMouseMove {Function} either noop or detect result instance below mouse
 */
	function ResultsView(props) {
		_classCallCheck(this, ResultsView);

		//Initialize bound methods.
		var _this = _possibleConstructorReturn(this, (ResultsView.__proto__ || Object.getPrototypeOf(ResultsView)).call(this, props));

		_this.handleMouseMove = (0, _lodash.throttle)(_this.handleMouseMove.bind(_this), 100 /*msec*/);
		_this.handleClick = _this.handleClick.bind(_this);
		//Initialize state.
		_this.initializeResultDecorations();
		_this.state = _this.computeState({ resultDecorations: [] }, props);
		return _this;
	}

	_createClass(ResultsView, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(newProps) {
			var oldProps = this.props;
			this.setState(this.computeState(oldProps, newProps));
		}

		//888     888               888          888            
		//888     888               888          888            
		//888     888               888          888            
		//888     888 88888b.   .d88888  8888b.  888888 .d88b.  
		//888     888 888 "88b d88" 888     "88b 888   d8P  Y8b 
		//888     888 888  888 888  888 .d888888 888   88888888 
		//Y88b. .d88P 888 d88P Y88b 888 888  888 Y88b. Y8b.     
		// "Y88888P"  88888P"   "Y88888 "Y888888  "Y888 "Y8888  
		//            888                                       
		//            888                                       
		//            888                                       

	}, {
		key: 'computeState',
		value: function computeState(oldProps, newProps) {
			// Compute threeObjects and relations between threeObjects and results.
			var shouldComputeObjects = oldProps.results !== newProps.results;
			var programResults = newProps.results.results.topLevelExprResults.values();
			var threeConvertedResults = shouldComputeObjects ? (0, _time2.default)("three convertion", function () {
				return _toThree2.default.convert.keepingCorrespondence(programResults);
			}) : this.state.threeConvertedResults;

			// Apply resultInstance decorations.
			// Update if prev and curr are not equal
			// nextDecs - intersection !== empty
			var lengthsDiffer = newProps.resultDecorations.length !== oldProps.resultDecorations.length;
			var interDecs = (0, _lodash.intersectionWith)(newProps.resultDecorations, oldProps.resultDecorations, isDecorationEqual);
			var shouldUpdateDecorations = lengthsDiffer || !(0, _lodash.isEmpty)((0, _lodash.differenceWith)(newProps.resultDecorations, interDecs, isDecorationEqual));
			if (shouldUpdateDecorations) {
				this.updateResultDecorations(threeConvertedResults, newProps.resultDecorations);
			}

			var threeScene = shouldComputeObjects || shouldUpdateDecorations ? this.computeThreeScene(threeConvertedResults.threeObjects) : this.state.threeScene;

			// Return the new complete state.
			var shouldHandleHovers = !!newProps.onHoveredResultInstance;
			var shouldHandleClicks = !!newProps.onClick;
			return {
				threeConvertedResults: threeConvertedResults,
				threeScene: threeScene,
				handleMouseMove: shouldHandleHovers ? this.handleMouseMove : _lodash.noop,
				handleClick: shouldHandleClicks ? this.handleClick : _lodash.noop
			};
		}
	}, {
		key: 'computeThreeScene',
		value: function computeThreeScene(threeObjects) {
			var scene = new _three2.default.Scene();
			scene.add(this.computeStaticThreeObjects(), this.computeResultInstanceThreeObjects(threeObjects)); // or threeConvertedResults.getObjects()
			return scene;
		}
	}, {
		key: 'computeResultInstanceThreeObjects',
		value: function computeResultInstanceThreeObjects(threeObjects) {
			// The program's results are in Z is up coordinates.
			// They need to be rotated back into Y is up coordinates to fit OpenGL's standard.
			// We do this by rotating all results -pi/2 radians around the x axis.
			var objectGroup = new _three2.default.Object3D();
			objectGroup.add.apply(objectGroup, [new _three2.default.Object3D()].concat(_toConsumableArray(threeObjects)));
			objectGroup.rotateOnAxis(new _three2.default.Vector3(1.0, 0.0, 0.0), -Math.PI / 2.0);
			return objectGroup;
		}
	}, {
		key: 'computeStaticThreeObjects',
		value: function computeStaticThreeObjects() {
			// create lights
			var sunLight = new _three2.default.DirectionalLight(0xffffca, 0.5);
			sunLight.position.set(0.2, 1, 0.3);
			var belowLight = new _three2.default.DirectionalLight(0xffffca, 0.1);
			belowLight.position.set(-0.1, -1, -0.4);
			var hemiLight = new _three2.default.HemisphereLight(0xffffbb, 0x080820, 0.4);
			// create global coordinates helpers
			var gridHelper = new _three2.default.GridHelper(100, 1);
			gridHelper.setColors(0x888888, 0x444444);
			var axisHelper = new _three2.default.AxisHelper(5);
			axisHelper.quaternion.setFromAxisAngle(new _three2.default.Vector3(1, 0, 0), -Math.PI / 2.0);
			var staticRoot = new _three2.default.Object3D();
			staticRoot.add(sunLight, belowLight, hemiLight, gridHelper, axisHelper);
			return staticRoot;
		}
	}, {
		key: 'initializeResultDecorations',
		value: function initializeResultDecorations() {
			this.decorationToObjects = new Map();
			this.objectToOldMaterial = new WeakMap();
		}
	}, {
		key: 'updateResultDecorations',
		value: function updateResultDecorations(threeConvertedResults, decorations) {
			//threeConvertedResults.addDecoration()
			//threeConvertedResults.removeDecoration()

			var decorationToObjects = this.decorationToObjects;
			var objectToOldMaterial = this.objectToOldMaterial;

			var prevDecorations = Array.from(decorationToObjects.keys());
			var enteringDecorations = (0, _lodash.differenceWith)(decorations, prevDecorations, isDecorationEqual);
			var leavingDecorations = (0, _lodash.differenceWith)(prevDecorations, decorations, isDecorationEqual);

			(0, _lodash.forEach)(leavingDecorations, function (d) {
				//Restore decoration's objects materials.
				(0, _lodash.forEach)(decorationToObjects.get(d), function (obj) {
					obj.material = objectToOldMaterial.get(obj);
				});
				//Clear decorationToObjects entry.
				decorationToObjects.delete(d);
			});

			(0, _lodash.forEach)(enteringDecorations, function (d) {
				//Get objects affected by decoration.
				var decMeshes = (0, _lodash.flatten)((0, _lodash.map)(threeObjectsForDecoration(d, threeConvertedResults), getMeshes));
				//Add decorationToObjects entry.
				decorationToObjects.set(d, decMeshes);
				//Save decoration's objects original materials.
				(0, _lodash.forEach)(decMeshes, function (mesh) {
					if (!objectToOldMaterial.has(mesh)) {
						objectToOldMaterial.set(mesh, mesh.material);
					}
				});
				//Set affected objects' materials to the one from the decoration.
				var decMaterial = decorationMaterial(d);
				(0, _lodash.forEach)(decMeshes, function (mesh) {
					mesh.material = decMaterial;
				});
			});
		}

		//8888888b.  d8b          888      d8b                   
		//888   Y88b Y8P          888      Y8P                   
		//888    888              888                            
		//888   d88P 888  .d8888b 888  888 888 88888b.   .d88b.  
		//8888888P"  888 d88P"    888 .88P 888 888 "88b d88P"88b 
		//888        888 888      888888K  888 888  888 888  888 
		//888        888 Y88b.    888 "88b 888 888  888 Y88b 888 
		//888        888  "Y8888P 888  888 888 888  888  "Y88888 
		//                                                   888 
		//                                              Y8b d88P 
		//                                               "Y88P"  

	}, {
		key: 'handleMouseMove',
		value: function handleMouseMove(mouseMoveEvent) {
			var coords = mouseEventNormalizedDeviceCoords(mouseMoveEvent);
			var pickResult = this.pick(coords);
			this.props.onHoveredResultInstance(pickResult);
		}
	}, {
		key: 'handleClick',
		value: function handleClick(clickEvent) {
			var coords = mouseEventNormalizedDeviceCoords(clickEvent);
			var pickResult = this.pick(coords);
			this.props.onClick({
				type: pickResult.path.length === 0 ? ResultsView.VoidClick : ResultsView.ResultInstanceClick,
				resultInstance: pickResult.resultInstance,
				path: pickResult.path
			});
		}
	}, {
		key: 'pick',
		value: function pick(normDevCoords) {
			var objectBelowMouse = pickClosest(normDevCoords, this.getCamera(), this.state.threeConvertedResults.threeObjects);
			var path = buildResultInstancePath(objectBelowMouse, this.state.threeConvertedResults.threeObjectToResult);
			return {
				resultInstance: path[0],
				path: path
			};
		}

		//8888888b.                        888                  
		//888   Y88b                       888                  
		//888    888                       888                  
		//888   d88P .d88b.  88888b.   .d88888  .d88b.  888d888 
		//8888888P" d8P  Y8b 888 "88b d88" 888 d8P  Y8b 888P"   
		//888 T88b  88888888 888  888 888  888 88888888 888     
		//888  T88b Y8b.     888  888 Y88b 888 Y8b.     888     
		//888   T88b "Y8888  888  888  "Y88888  "Y8888  888     
		//                                                      
		//                                                      
		//                                                      

	}, {
		key: 'getCamera',
		value: function getCamera() {
			return this.refs["threeview"].getCurrentCamera();
		}
	}, {
		key: 'render',
		value: function render() {
			return _react2.default.createElement(
				'div',
				{ onMouseMove: this.state.handleMouseMove,
					onClick: this.state.handleClick },
				_react2.default.createElement(_OrbitThreeView2.default, {
					ref: 'threeview',
					scene: this.state.threeScene })
			);
		}
	}]);

	return ResultsView;
}(_react2.default.Component);

//88888888888 888                                     .d88888b.  888       d8b          
//    888     888                                    d88P" "Y88b 888       Y8P          
//    888     888                                    888     888 888                    
//    888     88888b.  888d888 .d88b.   .d88b.       888     888 88888b.  8888 .d8888b  
//    888     888 "88b 888P"  d8P  Y8b d8P  Y8b      888     888 888 "88b "888 88K      
//    888     888  888 888    88888888 88888888      888     888 888  888  888 "Y8888b. 
//    888     888  888 888    Y8b.     Y8b.          Y88b. .d88P 888 d88P  888      X88 
//    888     888  888 888     "Y8888   "Y8888        "Y88888P"  88888P"   888  88888P' 
//                                                                         888          
//                                                                        d88P          
//                                                                      888P"           

function parentChain(threeObject) {
	var res = [];
	var curThreeObj = threeObject;
	while (curThreeObj) {
		res.push(curThreeObj);
		curThreeObj = curThreeObj.parent;
	}
	return res;
}
function getMeshes(threeObject) {
	var res = [];
	threeObject.traverse(function (obj) {
		if (obj instanceof _three2.default.Mesh) {
			res.push(obj);
		}
	});
	return res;
}

//8888888b.                          d88P 88888888888 888                               
//888   Y88b                        d88P      888     888                               
//888    888                       d88P       888     888                               
//888   d88P .d88b.  .d8888b      d88P        888     88888b.  888d888 .d88b.   .d88b.  
//8888888P" d8P  Y8b 88K         d88P         888     888 "88b 888P"  d8P  Y8b d8P  Y8b 
//888 T88b  88888888 "Y8888b.   d88P          888     888  888 888    88888888 88888888 
//888  T88b Y8b.          X88  d88P           888     888  888 888    Y8b.     Y8b.     
//888   T88b "Y8888   88888P' d88P            888     888  888 888     "Y8888   "Y8888  
//                                                                                      
//                                                                                      
//                                                                                      

/**
	@typedef ThreeConvertedResults
	@type {object}
	@property {Array.<ProgramResult>} results
	@property {Array.<THREE.Object3D>} threeObjects
	@property {Map<ProgramResult,Array.<THREE.Object3D>>} resultToThreeObjects
	@property {Map<THREE.Object3D,ProgramResult>} threeObjectToResult
*/
/*
 ThreeConvertedResults: Holds all data from converting a set of ProgramResults
 	to a set of THREE.Object3D.
 */

/**
	@param {THREE.Object3D} threeObject
	@param {Map<THREE.Object3D,ProgramResult>} threeObjToResult
	@returns {Array.<ProgramResult>}
*/
function buildResultInstancePath(threeObject, threeObjToResult) {
	//build the chain of results up to the top level result.
	return parentChain(threeObject).filter(function (o) {
		return threeObjToResult.has(o);
	}).map(function (o) {
		return threeObjToResult.get(o);
	});
}

/**
	@param {THREE.Vector2} coord Ray origin in normalized device coordinates.
	@param {THREE.Camera} camera
	@param {Array<THREE.Object3D>} threeObjects
	@returns {?THREE.Object3D}
*/
function pickClosest(coords, camera, threeObjects) {
	var raycaster = new _three2.default.Raycaster();
	raycaster.setFromCamera(coords, camera);
	var intersections = raycaster.intersectObjects(threeObjects, true /*recursive*/);
	return intersections.length > 0 ? intersections[0].object : null;
}

/**
	@param {ResultDecoration} dec
	@param {ThreeConvertedResults} threeConvertedResults
	@returns {Array.<THREE.Object3D>}
 */
function threeObjectsForDecoration(dec, _ref) {
	var threeObjects = _ref.threeObjects,
	    resultToTHREEObjects = _ref.resultToTHREEObjects,
	    threeObjectToResult = _ref.threeObjectToResult;

	function threeObjectsFromPath(path) {
		function hasAssociatedResult(threeObject) {
			return threeObjectToResult.has(threeObject);
		}

		function getResult(threeObject) {
			return threeObjectToResult.get(threeObject);
		}

		var belongsToPath = function belongsToPath(path) {
			return function (threeObject) {
				//threeObject parents match each path's elements three objects
				var parents = parentChain(threeObject).filter(hasAssociatedResult);
				return (0, _lodash.isEqual)(parents.map(getResult), path);
			};
		};

		var leafResult = path[0];
		var leafObjects = resultToTHREEObjects.get(leafResult);
		return leafObjects.filter(belongsToPath(path));
	}

	function threeObjectsFromResult(result) {
		return resultToTHREEObjects.get(result);
	}

	if (dec instanceof ResultInstanceDecoration) {
		return threeObjectsFromPath(dec.path);
	} else if (dec instanceof ResultOcorrencesDecoration) {
		return threeObjectsFromResult(dec.result);
	} else {
		throw new Error("Unknown ResultDecoration type.");
	}
}

//8888888b.                                            888    d8b                            
//888  "Y88b                                           888    Y8P                            
//888    888                                           888                                   
//888    888  .d88b.   .d8888b .d88b.  888d888 8888b.  888888 888  .d88b.  88888b.  .d8888b  
//888    888 d8P  Y8b d88P"   d88""88b 888P"      "88b 888    888 d88""88b 888 "88b 88K      
//888    888 88888888 888     888  888 888    .d888888 888    888 888  888 888  888 "Y8888b. 
//888  .d88P Y8b.     Y88b.   Y88..88P 888    888  888 Y88b.  888 Y88..88P 888  888      X88 
//8888888P"   "Y8888   "Y8888P "Y88P"  888    "Y888888  "Y888 888  "Y88P"  888  888  88888P' 
//                                                                                           
//                                                                                           
//                                                                                           


var ResultDecoration = function ResultDecoration() {
	_classCallCheck(this, ResultDecoration);
};

var ResultInstanceDecoration = function (_ResultDecoration) {
	_inherits(ResultInstanceDecoration, _ResultDecoration);

	function ResultInstanceDecoration(path, color) {
		_classCallCheck(this, ResultInstanceDecoration);

		var _this2 = _possibleConstructorReturn(this, (ResultInstanceDecoration.__proto__ || Object.getPrototypeOf(ResultInstanceDecoration)).call(this));

		_this2.path = path;
		_this2.color = color;
		return _this2;
	}

	return ResultInstanceDecoration;
}(ResultDecoration);

var ResultOcorrencesDecoration = function (_ResultDecoration2) {
	_inherits(ResultOcorrencesDecoration, _ResultDecoration2);

	function ResultOcorrencesDecoration(result, color) {
		_classCallCheck(this, ResultOcorrencesDecoration);

		var _this3 = _possibleConstructorReturn(this, (ResultOcorrencesDecoration.__proto__ || Object.getPrototypeOf(ResultOcorrencesDecoration)).call(this));

		_this3.result = result;
		_this3.color = color;
		return _this3;
	}

	return ResultOcorrencesDecoration;
}(ResultDecoration);

function makeResultInstanceDecoration(path, color) {
	return new ResultInstanceDecoration(path, color);
}
function makeResultOcorrencesDecoration(result, color) {
	return new ResultOcorrencesDecoration(result, color);
}

function decorationMaterial(decoration) {
	var mat = new _three2.default.MeshPhongMaterial();
	mat.emissive.set(decoration.color);
	mat.transparent = true;
	mat.opacity = 0.6;
	mat.depthTest = false;
	mat.depthWrite = false;
	mat.side = _three2.default.DoubleSide;
	return mat;
}

function isDecorationEqual(dec1, dec2) {
	var areInstanceDecs = dec1 instanceof ResultInstanceDecoration && dec2 instanceof ResultInstanceDecoration;
	var areOcorrenceDecs = dec1 instanceof ResultOcorrencesDecoration && dec2 instanceof ResultOcorrencesDecoration;
	if (areInstanceDecs) {
		return (0, _lodash.isEqual)(dec1.path, dec2.path) && dec1.color.equals(dec2.color);
	}
	if (areOcorrenceDecs) {
		return dec1.result === dec2.result && dec1.color.equals(dec2.color);
	}
	return false;
}

//888b     d888 d8b                   
//8888b   d8888 Y8P                   
//88888b.d88888                       
//888Y88888P888 888 .d8888b   .d8888b 
//888 Y888P 888 888 88K      d88P"    
//888  Y8P  888 888 "Y8888b. 888      
//888   "   888 888      X88 Y88b.    
//888       888 888  88888P'  "Y8888P 
//                                    
//                                    
//                                    

function mouseEventNormalizedDeviceCoords(mouseEvent) {
	var _mouseEvent$nativeEve = mouseEvent.nativeEvent,
	    offsetX = _mouseEvent$nativeEve.offsetX,
	    offsetY = _mouseEvent$nativeEve.offsetY;

	var _mouseEvent$target$ge = mouseEvent.target.getBoundingClientRect(),
	    width = _mouseEvent$target$ge.width,
	    height = _mouseEvent$target$ge.height;

	var res = new _three2.default.Vector2(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);
	return res;
}

//8888888888                                    888    
//888                                           888    
//888                                           888    
//8888888    888  888 88888b.   .d88b.  888d888 888888 
//888        `Y8bd8P' 888 "88b d88""88b 888P"   888    
//888          X88K   888  888 888  888 888     888    
//888        .d8""8b. 888 d88P Y88..88P 888     Y88b.  
//8888888888 888  888 88888P"   "Y88P"  888      "Y888 
//                    888                              
//                    888                              
//                    888                              

exports.makeResultInstanceDecoration = makeResultInstanceDecoration;
exports.makeResultOcorrencesDecoration = makeResultOcorrencesDecoration;
exports.default = ResultsView;


ResultsView.propTypes = {
	onHoveredResultInstance: _react2.default.PropTypes.func,
	onClick: _react2.default.PropTypes.func,
	results: _react2.default.PropTypes.instanceOf(_run.ProgramResults),
	resultDecorations: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.instanceOf(ResultDecoration))
};

ResultsView.VoidClick = Symbol("VoidClick");
ResultsView.ResultInstanceClick = Symbol("ResultInstanceClick");

},{"../Runner/run.js":23,"../SceneGraph/to-three.js":36,"../utils/time.js":44,"./OrbitThreeView.jsx":5,"lodash":"lodash","react":"react","three":"three"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _color = require('../SceneGraph/color.js');

var _color2 = _interopRequireDefault(_color);

var _generic = require('./generic.jsx');

var _ProgramEditor = require('./ProgramEditor.jsx');

var _ProgramEditor2 = _interopRequireDefault(_ProgramEditor);

var _ResultsView = require('./ResultsView.jsx');

var _ResultsView2 = _interopRequireDefault(_ResultsView);

var _run = require('../Runner/run.js');

var _runQueries = require('../Runner/run-queries.js');

var _program = require('../Runner/Parsing/program.js');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//       d8888          888                      888 
//      d88888          888                      888 
//     d88P888          888                      888 
//    d88P 888  .d8888b 888888 888  888  8888b.  888 
//   d88P  888 d88P"    888    888  888     "88b 888 
//  d88P   888 888      888    888  888 .d888888 888 
// d8888888888 Y88b.    Y88b.  Y88b 888 888  888 888 
//d88P     888  "Y8888P  "Y888  "Y88888 "Y888888 888 
//                                                   
//                                                   
//                                                   

var RunningControlsBar = function RunningControlsBar(_ref) {
  var autorun = _ref.autorun,
      traceability = _ref.traceability,
      onAutorunClick = _ref.onAutorunClick,
      onTraceabilityClick = _ref.onTraceabilityClick,
      onRunClick = _ref.onRunClick;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(_generic.Checkbox, { label: 'Run Automatically', checked: autorun, onClick: onAutorunClick }),
    _react2.default.createElement(_generic.Checkbox, { label: 'Capture Trace', checked: traceability, onClick: onTraceabilityClick }),
    _react2.default.createElement(
      'button',
      { onClick: onRunClick },
      'Run Now'
    )
  );
};

var StatusBar = function StatusBar(_ref2) {
  var status = _ref2.status;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(
      'span',
      null,
      status
    )
  );
};

// .d8888b.                                     8888888888     888 d8b 888                    
//d88P  Y88b                                    888            888 Y8P 888                    
//Y88b.                                         888            888     888                    
// "Y888b.   888  888 88888b.   .d88b.  888d888 8888888    .d88888 888 888888 .d88b.  888d888 
//    "Y88b. 888  888 888 "88b d8P  Y8b 888P"   888       d88" 888 888 888   d88""88b 888P"   
//      "888 888  888 888  888 88888888 888     888       888  888 888 888   888  888 888     
//Y88b  d88P Y88b 888 888 d88P Y8b.     888     888       Y88b 888 888 Y88b. Y88..88P 888     
// "Y8888P"   "Y88888 88888P"   "Y8888  888     8888888888 "Y88888 888  "Y888 "Y88P"  888     
//                    888                                                                     
//                    888                                                                     
//                    888                                                                     

/*
  Running automatically and capturing trace were joined in this component. 
  Whether to run automatically and/or capture trace can be controlled 
by the user.
*/

var SuperEditor = function (_React$Component) {
  _inherits(SuperEditor, _React$Component);

  /*
    Props:
      - program
      - onProgramChange
    State:
      - currentProgram: the current, possibly modified, version of program
      - results
      - runAutomatically
      - captureTrace
        - traceabilityInfo
        - nodeDecorations
        - resultDecorations
  */
  function SuperEditor(props) {
    _classCallCheck(this, SuperEditor);

    // Initialize bound methods.
    var _this = _possibleConstructorReturn(this, (SuperEditor.__proto__ || Object.getPrototypeOf(SuperEditor)).call(this, props));

    _this.toggleRunAutomatically = _this.toggleRunAutomatically.bind(_this);
    _this.toggleCaptureTrace = _this.toggleCaptureTrace.bind(_this);
    _this.handleRun = _this.handleRun.bind(_this);
    _this.handleProgramChange = _this.handleProgramChange.bind(_this);
    _this.handleClickedNode = _this.handleClickedNode.bind(_this);
    _this.handleHoveredResultInstance = _this.handleHoveredResultInstance.bind(_this);
    _this.handleResultsViewClick = _this.handleResultsViewClick.bind(_this);
    _this.performRun = _this.performRun.bind(_this);
    _this.scheduleRun = (0, _lodash.debounce)(_this.performRun, 100 /*msec*/);
    // Initialize state.
    _this.state = {
      currentProgram: props.program,
      runAutomatically: true,
      captureTrace: true,
      nodeDecorations: [],
      resultDecorations: [],
      programResults: _run.emptyResults,
      status: 'idle'
    };

    _this.scheduleRun();
    return _this;
  }

  _createClass(SuperEditor, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        _generic.RowSplit,
        null,
        _react2.default.createElement(RunningControlsBar, {
          autorun: this.state.runAutomatically,
          traceability: this.state.captureTrace,
          onAutorunClick: this.toggleRunAutomatically,
          onTraceabilityClick: this.toggleCaptureTrace,
          onRunClick: this.handleRun }),
        _react2.default.createElement(
          _generic.ColumnSplit,
          { height: 'calc(100% - 6em)' },
          _react2.default.createElement(_ProgramEditor2.default, {
            program: this.state.currentProgram,
            onProgramChange: this.handleProgramChange,
            onValidProgram: _lodash.noop,
            nodeDecorations: this.state.captureTrace ? this.state.nodeDecorations : [],
            onHoveredNode: _lodash.noop,
            onClickedNode: this.handleClickedNode }),
          _react2.default.createElement(_ResultsView2.default, {
            results: this.state.programResults,
            resultDecorations: this.state.captureTrace ? this.state.resultDecorations : [],
            onClick: this.state.captureTrace ? this.handleResultsViewClick : null })
        ),
        _react2.default.createElement(StatusBar, { status: this.state.status })
      );
      //onHoveredResultInstance={this.state.captureTrace ? this.handleHoveredResultInstance : null}
    }
  }, {
    key: 'toggleRunAutomatically',
    value: function toggleRunAutomatically() {
      this.setState({ runAutomatically: !this.state.runAutomatically });
    }
  }, {
    key: 'toggleCaptureTrace',
    value: function toggleCaptureTrace() {
      this.setState({ captureTrace: !this.state.captureTrace });
    }
  }, {
    key: 'handleRun',
    value: function handleRun() {
      this.scheduleRun();
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(newProps) {
      if (this.props.program !== newProps.program) {
        this.setState({ currentProgram: newProps.program });
      }
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(newProps, newState) {
      var programChanged = this.state.currentProgram !== newState.currentProgram;
      var captureTraceChanged = this.state.captureTrace !== newState.captureTrace;
      var captureTraceNeeded = captureTraceChanged && newState.captureTrace;
      var programIsValid = (0, _program.validSource)(newState.currentProgram);
      var shouldScheduleRun = newState.runAutomatically && programIsValid && (programChanged || captureTraceNeeded);
      if (shouldScheduleRun) {
        this.scheduleRun();
      }
    }
  }, {
    key: 'handleProgramChange',
    value: function handleProgramChange(program) {
      var stateChanges = {};
      // update status
      stateChanges = Object.assign({}, stateChanges, {
        status: (0, _program.validSource)(program) ? 'changed' : 'invalid'
      });
      // update the current program
      stateChanges = Object.assign({}, stateChanges, { currentProgram: program });
      this.setState(stateChanges);
      // propagate change to owner component
      this.props.onProgramChange(program);
    }
  }, {
    key: 'handleClickedNode',
    value: function handleClickedNode(_ref3) {
      var node = _ref3.node,
          path = _ref3.path;

      // iff captureTrace -> highlight node (or parent) and its results
      if (this.state.captureTrace) {
        // Copied from: TraceabilityView.jsx
        var isHoveringSomething = path.length > 1; //[Program, SomeNode,...]
        if (isHoveringSomething) {
          var nodeColor = _color2.default.hsl(100.0 / 360.0, 0.5, 0.5);
          var nodeResults = (0, _runQueries.getNodeResults)(node, path, this.state.programResults);
          this.setState({
            nodeDecorations: [(0, _ProgramEditor.makeNodeDecoration)(node, nodeColor)],
            resultDecorations: nodeResults.map((0, _lodash.partial)(_ResultsView.makeResultOcorrencesDecoration, _lodash2.default, nodeColor))
          });
        } else {
          // Clicked somewhere in Program.
          this.setState({
            nodeDecorations: [],
            resultDecorations: []
          });
        }
      }
    }
  }, {
    key: 'handleHoveredResultInstance',
    value: function handleHoveredResultInstance(_ref4) {
      var resultInstance = _ref4.resultInstance,
          path = _ref4.path;

      // Copied from: TraceabilityView.jsx
      var isHoveringSomething = path.length !== 0;
      if (isHoveringSomething) {
        var creatorNode = (0, _runQueries.getResultCreatorNode)(resultInstance, path, this.state.programResults, this.state.currentProgram);
        var decColor = _color2.default.hsl(50.0 / 360.0, 0.5, 0.5);
        this.setState({
          nodeDecorations: [(0, _ProgramEditor.makeNodeDecoration)(creatorNode, decColor)],
          resultDecorations: [(0, _ResultsView.makeResultInstanceDecoration)(path, decColor)]
        });
      } else {
        this.setState({
          nodeDecorations: [],
          resultDecorations: []
        });
      }
    }
  }, {
    key: 'handleResultsViewClick',
    value: function handleResultsViewClick(resClickEvent) {
      switch (resClickEvent.type) {
        case _ResultsView2.default.VoidClick:
          this.setState({
            nodeDecorations: [],
            resultDecorations: []
          });
          break;
        case _ResultsView2.default.ResultInstanceClick:
          this.handleHoveredResultInstance(resClickEvent);
          break;
        default:
          throw new Error("Unhandled ResultsView event.");
      }
    }
  }, {
    key: 'performRun',
    value: function performRun() {
      var _this2 = this;

      this.setState({ status: 'running' });
      try {
        if (this.state.captureTrace) {
          var programResults = (0, _time2.default)("Traceability", function () {
            return (0, _run.runWithTraceability)(_this2.state.currentProgram);
          });
          this.setState({
            programResults: programResults
          });
        } else {
          var _programResults = (0, _time2.default)("Bare run", function () {
            return (0, _run.runNormally)(_this2.state.currentProgram);
          });
          this.setState({
            programResults: _programResults
          });
        }
        this.setState({ status: 'idle' });
      } catch (e) {
        this.setState({ status: 'error:' + e.message });
      }
      this.setState({
        nodeDecorations: [],
        resultDecorations: []
      });
    }
  }]);

  return SuperEditor;
}(_react2.default.Component);

SuperEditor.propTypes = {
  program: _react.PropTypes.string.isRequired,
  onProgramChange: _react.PropTypes.func.isRequired
};

exports.default = SuperEditor;

},{"../Runner/Parsing/program.js":18,"../Runner/run-queries.js":22,"../Runner/run.js":23,"../SceneGraph/color.js":30,"../utils/time.js":44,"./ProgramEditor.jsx":6,"./ResultsView.jsx":7,"./generic.jsx":11,"lodash":"lodash","react":"react"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
  A component that renders whatever camera and scene using a THREE.WebGLRenderer.
*/

var ThreeRenderer = function (_React$PureComponent) {
  _inherits(ThreeRenderer, _React$PureComponent);

  function ThreeRenderer() {
    _classCallCheck(this, ThreeRenderer);

    return _possibleConstructorReturn(this, (ThreeRenderer.__proto__ || Object.getPrototypeOf(ThreeRenderer)).apply(this, arguments));
  }

  _createClass(ThreeRenderer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var canvas = _reactDom2.default.findDOMNode(this.refs["canvas"]);
      var renderer = new _three2.default.WebGLRenderer({
        canvas: canvas, antialias: true, alpha: true
      });
      this._renderer = renderer;
      this._draw();
    }
  }, {
    key: 'componentWillUmmount',
    value: function componentWillUmmount() {
      this._renderer = null;
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var _props = this.props,
          width = _props.width,
          height = _props.height;

      this._renderer.setViewport(0, 0, width, height);
      this._draw();
    }
  }, {
    key: '_draw',
    value: function _draw() {
      this._renderer.render(this.props.scene, this.props.camera);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement('canvas', {
        ref: 'canvas',
        width: this.props.width,
        height: this.props.height,
        style: styles.canvas
      });
    }
  }, {
    key: 'renderToImage',
    value: function renderToImage() {
      this._draw();
      var img = new Image();
      img.src = this._renderer.domElement.toDataURL("image/png");
      return img;
    }
  }]);

  return ThreeRenderer;
}(_react2.default.PureComponent);

var styles = {
  canvas: {
    width: "100%",
    height: "100%"
  }
};

exports.default = ThreeRenderer;

},{"react":"react","react-dom":"react-dom","three":"three"}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.start = start;

/**
  @param {MouseDownEvent} mouseDown The mousedown event that starts the drag
  @param {Object} drag
  @param {Function} drag.onMove
  @param {Function} drag.onUp
*/
function start(mouseDown, drag) {
  currentDrag = drag;
}

function onMouseMove(mouseMove) {
  currentDrag && currentDrag.onMove && currentDrag.onMove(mouseMove);
}

function onMouseUp(mouseUp) {
  currentDrag && currentDrag.onUp && currentDrag.onUp(mouseUp);
  currentDrag = null;
}

// Initialization.
var currentDrag = null;

window.addEventListener("mousemove", onMouseMove);
window.addEventListener("mouseup", onMouseUp);

},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Drawer = exports.IconButton = exports.Spacer = exports.VerticalIconBar = exports.Checkbox = exports.HorizontalBar = exports.RowSplit = exports.ColumnSplit = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ColumnSplit = exports.ColumnSplit = function ColumnSplit(_ref) {
  var children = _ref.children,
      _ref$height = _ref.height,
      height = _ref$height === undefined ? '100%' : _ref$height;
  return _react2.default.createElement(
    'div',
    { className: 'column-split', style: { height: height } },
    _react.Children.map(children, function (c) {
      return _react2.default.createElement(
        'div',
        { style: { width: 100 / _react.Children.count(children) + '%', height: '100%' } },
        c
      );
    })
  );
};

var RowSplit = exports.RowSplit = function RowSplit(_ref2) {
  var children = _ref2.children;
  return _react2.default.createElement(
    'div',
    { className: 'row-split' },
    children
  );
};

var HorizontalBar = exports.HorizontalBar = function HorizontalBar(_ref3) {
  var children = _ref3.children;
  return _react2.default.createElement(
    'div',
    { className: 'horizontal-bar' },
    _react2.default.createElement(
      'div',
      null,
      children
    )
  );
};

var Checkbox = exports.Checkbox = function Checkbox(_ref4) {
  var label = _ref4.label,
      checked = _ref4.checked,
      onClick = _ref4.onClick;
  return _react2.default.createElement(
    'label',
    { className: 'checkbox', onChange: onClick },
    _react2.default.createElement('input', { type: 'checkbox', checked: checked }),
    _react2.default.createElement(
      'span',
      null,
      label
    )
  );
};

var VerticalIconBar = exports.VerticalIconBar = function VerticalIconBar(_ref5) {
  var children = _ref5.children;
  return _react2.default.createElement(
    'div',
    { className: 'vertical-icon-bar' },
    children
  );
};

var Spacer = exports.Spacer = function Spacer(_ref6) {
  var width = _ref6.width,
      height = _ref6.height;
  return _react2.default.createElement('div', { style: { width: width, height: height } });
};

var IconButton = exports.IconButton = function IconButton(_ref7) {
  var icon = _ref7.icon,
      onClick = _ref7.onClick;
  return _react2.default.createElement('img', { className: 'icon-button', onClick: onClick, src: icon });
};

var Drawer = exports.Drawer = function Drawer(_ref8) {
  var open = _ref8.open,
      children = _ref8.children;
  return _react2.default.createElement(
    'div',
    { className: 'drawer', style: { display: open ? 'block' : 'none' } },
    children
  );
};

},{"react":"react"}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.transform = undefined;

var _astUtils = require('../Parsing/ast-utils.js');

var _nodeId = require('../Parsing/node-id.js');

var saveTopLevelExprsTransform = {
	select: function select(node, parent) {
		return _astUtils.recognizers.isExpressionStatement(node) && _astUtils.recognizers.isProgram(parent);
	},
	transform: function transform(node, ctxId) {
		return _astUtils.constructors.exprStmt(_astUtils.constructors.callExpr(_astUtils.constructors.memberExpr(_astUtils.constructors.id(ctxId), _astUtils.constructors.id("saveTopLevelResult"), false), [_astUtils.constructors.literal((0, _nodeId.nodeId)(node)), node.expression]));
	},
	makeContext: function makeContext() {
		return {
			saveTopLevelResult: function saveTopLevelResult(nodeId, value) {
				this.topLevelExprResults.set(nodeId, value);
			},
			topLevelExprResults: new Map()
		};
	}
};

exports.transform = saveTopLevelExprsTransform;

},{"../Parsing/ast-utils.js":14,"../Parsing/node-id.js":16}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.transform = undefined;

var _astUtils = require('../Parsing/ast-utils.js');

var _idGenerator = require('../id-generator.js');

var _nodeId = require('../Parsing/node-id.js');

var traceCallTransform = {
	/*
 	foo.bar(a, b, c) -> 
 	(function($1, $2, $3){
 		var $$ = foo.bar($1, $2, $3);
 		traceCall(nodeId, [$1, $2, $3], $$);
 		return $$;
 	})(a, b, c)
 */
	select: function select(node, parent) {
		return _astUtils.recognizers.isCallExpression(node);
	},
	transform: function transform(node, ctxId) {
		var uuid = "" + _idGenerator.idGenerator.next();
		var argIds = node.arguments.map(function (a, i) {
			return "$" + i + "_" + uuid;
		}).map(function (name) {
			return _astUtils.constructors.id(name);
		});
		var resId = _astUtils.constructors.id("$$" + uuid);
		return _astUtils.constructors.callExpr(_astUtils.constructors.funcExpr(null, argIds, _astUtils.constructors.block([_astUtils.constructors.varDeclaration([_astUtils.constructors.varDeclarator(resId, _astUtils.constructors.callExpr(node.callee, argIds))], "var"), _astUtils.constructors.callExpr(_astUtils.constructors.memberExpr(_astUtils.constructors.id(ctxId), _astUtils.constructors.id("traceCall")), [_astUtils.constructors.literal((0, _nodeId.nodeId)(node)), _astUtils.constructors.arrExpr(argIds), resId]), _astUtils.constructors.retStmt(resId)])), node.arguments);
	},
	makeContext: function makeContext() {
		return {
			traceCall: function traceCall(nodeId, callArgs, callRes) {
				if (!this.callTraces.has(nodeId)) {
					this.callTraces.set(nodeId, []);
				}
				var traceEntry = {
					nodeId: nodeId,
					arguments: callArgs,
					result: callRes
				};
				this.callTraces.get(nodeId).push(traceEntry);
			},
			callTraces: new Map()
		};
	}
};

exports.transform = traceCallTransform;

},{"../Parsing/ast-utils.js":14,"../Parsing/node-id.js":16,"../id-generator.js":20}],14:[function(require,module,exports){
"use strict";

var isExpression = function () {
	var exprTypes = new Set(["ThisExpression", "ArrayExpression", "ObjectExpression", "FunctionExpression", "UnaryExpression", "UpdateExpression", "BinaryExpression", "AssignmentExpression", "LogicalExpression", "MemberExpression", "ConditionalExpression", "CallExpression", "NewExpression", "SequenceExpression", "Literal", "Identifier"]);
	return function isExpression(node) {
		return exprTypes.has(node.type);
	};
}();

function isMemberExpression(node) {
	return node.type === "MemberExpression";
}

function isVariableDeclarator(node) {
	return node.type === "VariableDeclarator";
}

function isUpdateExpression(node) {
	return node.type === "UpdateExpression";
}

function isExpressionStatement(node) {
	return node.type === "ExpressionStatement";
}

function isCallExpression(node) {
	return node.type === "CallExpression";
}

function isReturn(node) {
	return node.type === "ReturnStatement";
}

function isFunction(node) {
	return node.type === "FunctionExpression" || node.type === "FunctionDeclaration";
}

function isProgram(node) {
	return node.type === "Program";
}

function isLiteral(node) {
	return node.type === "Literal";
}

function isUnaryExpression(node) {
	return node.type === "UnaryExpression";
}

function isSignUnaryExpression(node) {
	return isUnaryExpression(node) && (node.operator === "-" || node.operator === "+");
}

function isNumericLiteral(node) {
	return isLiteral(node) && typeof node.value === "number";
}

function isSignedNumericLiteral(node) {
	return isNumericLiteral(node) || isSignUnaryExpression(node) && isNumericLiteral(node.argument);
}

var u = {
	isExpression: isExpression,
	isMemberExpression: isMemberExpression,
	isVariableDeclarator: isVariableDeclarator,
	isUpdateExpression: isUpdateExpression,
	isExpressionStatement: isExpressionStatement,
	isCallExpression: isCallExpression,
	isReturn: isReturn,
	isFunction: isFunction,
	isProgram: isProgram,
	isUnaryExpression: isUnaryExpression,
	isSignUnaryExpression: isSignUnaryExpression,
	isLiteral: isLiteral,
	isNumericLiteral: isNumericLiteral,
	isSignedNumericLiteral: isSignedNumericLiteral
};

var n = {
	exprStmt: function exprStmt(expr) {
		return {
			type: "ExpressionStatement",
			expression: expr
		};
	},
	callExpr: function callExpr(calleeExpr, argExprs) {
		return {
			type: "CallExpression",
			callee: calleeExpr,
			arguments: argExprs
		};
	},
	id: function id(name) {
		return {
			type: "Identifier",
			name: name
		};
	},
	literal: function literal(value, raw) {
		return {
			type: "Literal",
			value: value,
			raw: raw
		};
	},
	block: function block(stms) {
		return {
			type: "BlockStatement",
			body: stms
		};
	},
	funcExpr: function funcExpr(id, params, body) {
		return {
			type: "FunctionExpression",
			id: id,
			params: params,
			body: body
		};
	},
	seqExpr: function seqExpr(exprs) {
		return {
			type: "SequenceExpression",
			expressions: exprs
		};
	},
	assignExpr: function assignExpr(op, left, right) {
		return {
			type: "AssignmentExpression",
			operator: op,
			left: left,
			right: right
		};
	},
	varDeclaration: function varDeclaration(declarations, kind) {
		return {
			type: "VariableDeclaration",
			declarations: declarations,
			kind: kind
		};
	},
	varDeclarator: function varDeclarator(id, init) {
		return {
			type: "VariableDeclarator",
			id: id,
			init: init
		};
	},
	retStmt: function retStmt(expr) {
		return {
			type: "ReturnStatement",
			argument: expr
		};
	},
	arrExpr: function arrExpr(elems) {
		return {
			type: "ArrayExpression",
			elements: elems
		};
	},
	memberExpr: function memberExpr(obj, prop, computed) {
		return {
			type: "MemberExpression",
			object: obj,
			property: prop,
			computed: computed
		};
	},
	unaryExpr: function unaryExpr(operator, argument) {
		var prefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

		return {
			type: "UnaryExpression",
			operator: operator,
			argument: argument,
			prefix: prefix
		};
	}
};

module.exports = {
	recognizers: u,
	constructors: n
};

},{}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getNodeById = getNodeById;

var _estraverse = require('estraverse');

var _nodeId = require('./node-id.js');

var _program = require('./program.js');

/*
	Searches for a EsprimaNode in Program's AST that has nodeId as its id.
	@param {Program} program The program to perform the search.
	@param {string} nodeId The id of the node.
	@returns {EsprimaNode|null}
*/
function getNodeById(program, nodeId) {
	var searchResult = null;
	(0, _estraverse.traverse)((0, _program.sourceToAst)(program), {
		enter: function enter(node, parent) {
			if ((0, _nodeId.nodeId)(node) === nodeId) {
				searchResult = node;
				return _estraverse.VisitorOption.Break;
			}
		}
	});
	return searchResult;
}

},{"./node-id.js":16,"./program.js":18,"estraverse":"estraverse"}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

//TODO Make module for managing(manipulating, querying) ast nodes and/or programs.
//TODO Make module for managing programs and their results.

function nodeId(node) {
	return JSON.stringify(node.loc);
}

exports.nodeId = nodeId;

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.nodesContainingCoords = nodesContainingCoords;
exports.nodeContainsCoord = nodeContainsCoord;
exports.programNodes = programNodes;
exports.signedLiteralNodes = signedLiteralNodes;
exports.nodeAtPath = nodeAtPath;

var _estraverse = require('estraverse');

var _lodash = require('lodash');

var _traversal = require('./traversal.js');

var _astUtils = require('./ast-utils.js');

var _program = require('./program.js');

function nodesContainingCoords(ast, esprimaCoords) {
  var coordsInside = nodeContainsCoord(ast, esprimaCoords);
  if (coordsInside) {
    var _ret = function () {
      var bottomUpNodes = [];
      var pathToDeepest = null;
      (0, _traversal.traverse)(ast, {
        enter: function enter(node, path) {
          if (nodeContainsCoord(node, esprimaCoords)) {
            bottomUpNodes.push(node);
            pathToDeepest = path;
          }
        }
      });
      bottomUpNodes.reverse();
      return {
        v: {
          bottomUpNodes: bottomUpNodes,
          pathToDeepest: pathToDeepest,
          deepestNode: nodeAtPath(ast, pathToDeepest)
        }
      };
    }();

    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
  } else {
    return {
      bottomUpNodes: [ast],
      pathToDeepest: [],
      deepestNode: ast
    };
  }
}

function _estraverse_nodesContainingCoords(ast, esprimaCoords) {
  var path = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      if (nodeContainsCoord(node, esprimaCoords)) {
        path.push(node);
      }
    }
  });
  path.reverse();
  return {
    path: path,
    deepestNode: path[0]
  };
}

function nodeContainsCoord(node, esprimaCoords) {
  function ifThen(premise, consequence) {
    return !premise || consequence;
  }
  var _node$loc = node.loc,
      start = _node$loc.start,
      end = _node$loc.end;

  var betweenLines = esprimaCoords.line >= start.line && esprimaCoords.line <= end.line;
  var onStartLine = esprimaCoords.line === start.line;
  var onEndLine = esprimaCoords.line === end.line;
  return betweenLines && ifThen(onStartLine, esprimaCoords.column >= start.column) && ifThen(onEndLine, esprimaCoords.column <= end.column);
}

function programNodes(ast) {
  var nodes = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      nodes.push(node);
    }
  });
  return nodes;
}

function signedLiteralNodes(ast) {
  var nodes = [];
  (0, _estraverse.traverse)(ast, {
    enter: function enter(node, parent) {
      if (_astUtils.recognizers.isSignedNumericLiteral(node)) {
        nodes.push(node);
        return _estraverse.VisitorOption.Skip;
      }
    }
  });
  return nodes;
}

function nodeAtPath(ast, path) {
  if (path.length !== 0) {
    return (0, _lodash.property)(path)(ast);
  } else {
    return ast;
  }
}

},{"./ast-utils.js":14,"./program.js":18,"./traversal.js":19,"estraverse":"estraverse","lodash":"lodash"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.sourceToAst = undefined;
exports.validSource = validSource;
exports.astToSource = astToSource;

var _esprima = require('esprima');

var _esprima2 = _interopRequireDefault(_esprima);

var _escodegen = require('escodegen');

var _escodegen2 = _interopRequireDefault(_escodegen);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO Define the model of the programs.
/*
  Immutable data structures?
    This would be cool and enforce that programs are values.
  Understand comments and integrate them in the representations.
  How to support text and structural editing?
    Keep only one representation?
    Keep both representations and keep them in sync?
    In the end there is always a valid structure.
    Only syntactically correct programs can be objects of these classes?
      Intermediate versions belong to different classes?
      Intermediate versions are handled by UI?
        Text fragments -> validate -> Program fragments
  Have a wrapper, a facade, for working with programs?
  Program
    Script
  How does the running algorithm and programs communicate?
    Running algorithm queries program about ast
    Running algorithm creates a new program with some modifications from the original
      Basically it would be a map over the program which creates a new program that is the one that will be evaluated.
      In most cases, it does have to collect some information before actually creating the new program.
  How is the running algorithm used?
    It is used to know things about the program that only become available when it runs.
      The results it generates.
      The entire execution control flow.
      The entire execution data flow.
  What can we know by looking at a program?
    The variable scoping information.
    The functions it uses, both in expression and declaration form.
    Partial information about control flow and data flow.
    How it should be run.
    We can infer types.
*/

function sourceToAst(sourceCode) {
  var ast = _esprima2.default.parse(sourceCode, { loc: true, comment: true });
  return ast;
}

var codeToAst = new Map();

function memoizedSourceToAst(sourceCode) {
  if (codeToAst.has(sourceCode)) {
    return codeToAst.get(sourceCode);
  } else {
    var ast = sourceToAst(sourceCode);
    codeToAst.set(sourceCode, ast);
    return ast;
  }
}

exports.sourceToAst = memoizedSourceToAst;
function validSource(sourceCode) {
  try {
    sourceToAst(sourceCode);
    return true;
  } catch (e) {
    return false;
  }
}

function astToSource(ast) {
  return _escodegen2.default.generate(ast);
}

},{"escodegen":"escodegen","esprima":"esprima"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.traverse = traverse;

var _lodash = require('lodash');

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
// My estree traverse
// Pass in a path to the node instead of (node, parent).


// Copied from: https://github.com/estools/estraverse/blob/master/estraverse.js#L218
var VisitKeys = {
  AssignmentExpression: ['left', 'right'],
  AssignmentPattern: ['left', 'right'],
  ArrayExpression: ['elements'],
  ArrayPattern: ['elements'],
  ArrowFunctionExpression: ['params', 'body'],
  AwaitExpression: ['argument'], // CAUTION: It's deferred to ES7.
  BlockStatement: ['body'],
  BinaryExpression: ['left', 'right'],
  BreakStatement: ['label'],
  CallExpression: ['callee', 'arguments'],
  CatchClause: ['param', 'body'],
  ClassBody: ['body'],
  ClassDeclaration: ['id', 'superClass', 'body'],
  ClassExpression: ['id', 'superClass', 'body'],
  ComprehensionBlock: ['left', 'right'], // CAUTION: It's deferred to ES7.
  ComprehensionExpression: ['blocks', 'filter', 'body'], // CAUTION: It's deferred to ES7.
  ConditionalExpression: ['test', 'consequent', 'alternate'],
  ContinueStatement: ['label'],
  DebuggerStatement: [],
  DirectiveStatement: [],
  DoWhileStatement: ['body', 'test'],
  EmptyStatement: [],
  ExportAllDeclaration: ['source'],
  ExportDefaultDeclaration: ['declaration'],
  ExportNamedDeclaration: ['declaration', 'specifiers', 'source'],
  ExportSpecifier: ['exported', 'local'],
  ExpressionStatement: ['expression'],
  ForStatement: ['init', 'test', 'update', 'body'],
  ForInStatement: ['left', 'right', 'body'],
  ForOfStatement: ['left', 'right', 'body'],
  FunctionDeclaration: ['id', 'params', 'body'],
  FunctionExpression: ['id', 'params', 'body'],
  GeneratorExpression: ['blocks', 'filter', 'body'], // CAUTION: It's deferred to ES7.
  Identifier: [],
  IfStatement: ['test', 'consequent', 'alternate'],
  ImportDeclaration: ['specifiers', 'source'],
  ImportDefaultSpecifier: ['local'],
  ImportNamespaceSpecifier: ['local'],
  ImportSpecifier: ['imported', 'local'],
  Literal: [],
  LabeledStatement: ['label', 'body'],
  LogicalExpression: ['left', 'right'],
  MemberExpression: ['object', 'property'],
  MetaProperty: ['meta', 'property'],
  MethodDefinition: ['key', 'value'],
  ModuleSpecifier: [],
  NewExpression: ['callee', 'arguments'],
  ObjectExpression: ['properties'],
  ObjectPattern: ['properties'],
  Program: ['body'],
  Property: ['key', 'value'],
  RestElement: ['argument'],
  ReturnStatement: ['argument'],
  SequenceExpression: ['expressions'],
  SpreadElement: ['argument'],
  Super: [],
  SwitchStatement: ['discriminant', 'cases'],
  SwitchCase: ['test', 'consequent'],
  TaggedTemplateExpression: ['tag', 'quasi'],
  TemplateElement: [],
  TemplateLiteral: ['quasis', 'expressions'],
  ThisExpression: [],
  ThrowStatement: ['argument'],
  TryStatement: ['block', 'handler', 'finalizer'],
  UnaryExpression: ['argument'],
  UpdateExpression: ['argument'],
  VariableDeclaration: ['declarations'],
  VariableDeclarator: ['id', 'init'],
  WhileStatement: ['test', 'body'],
  WithStatement: ['object', 'body'],
  YieldExpression: ['argument']
};

function traverse(ast, _ref) {
  var _ref$enter = _ref.enter,
      enter = _ref$enter === undefined ? _lodash.noop : _ref$enter,
      _ref$leave = _ref.leave,
      leave = _ref$leave === undefined ? _lodash.noop : _ref$leave;

  function visit(thing, path) {
    if (Array.isArray(thing)) {
      visitArray(thing, path);
    } else {
      visitNode(thing, path);
    }
  }

  function visitNode(node, path) {
    var keys = VisitKeys[node.type];
    enter(node, path);
    (0, _lodash.forEach)(keys, function (key) {
      if (node[key]) {
        // Some node attributes can be null on a valid ast.
        visit(node[key], [].concat(_toConsumableArray(path), [key]));
      }
    });
    leave(node, path);
  }

  function visitArray(array, path) {
    (0, _lodash.forEach)(array, function (el, i) {
      visit(el, [].concat(_toConsumableArray(path), [i]));
    });
  }

  visit(ast, []);
}

},{"lodash":"lodash"}],20:[function(require,module,exports){
"use strict";

var idIndex = 0;

module.exports = {
	idGenerator: {
		next: function next() {
			idIndex += 1;
			return "$" + idIndex;
		}
	}
};

},{}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.selectCads = exports.clearCad = exports.runInCad = exports.resultsToCAD = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _primitives = require("../SceneGraph/primitives.js");

var _runningIdea = require("./running-idea.js");

var _saveTopLevelTransform = require("./Instrumentation/save-top-level-transform.js");

var _lodash = require("lodash");

var _lodash2 = _interopRequireDefault(_lodash);

var _three = require("three");

var _three2 = _interopRequireDefault(_three);

var _sequence = require("../SceneGraph/Predefs/sequence.js");

var _sequence2 = _interopRequireDefault(_sequence);

var _pointVectorMatrix = require("../SceneGraph/Predefs/point-vector-matrix.js");

var _random = require("../SceneGraph/Predefs/random.js");

var _random2 = _interopRequireDefault(_random);

var _math = require("../SceneGraph/Predefs/math.js");

var _math2 = _interopRequireDefault(_math);

var _functional = require("../SceneGraph/Predefs/functional.js");

var _functional2 = _interopRequireDefault(_functional);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function synchronousHttpRequest(url, params) {
	var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "POST";

	// prepare request
	var req = new XMLHttpRequest();
	req.open(method, url, false);
	req.setRequestHeader("Content-type", "application/json; charset=utf-8");
	req.send(JSON.stringify(params));
	return JSON.parse(req.response);
}

//
//function primitive(args)
//This code is called in a user's program to make a primitive's instance.
//
//function primitive.realize()
//This code is called to make another realization of the primitive's instance in the CAD.
//We do this because everything we call in the CAD will be displayed.


function isPrimitive(result) {
	return isSomething(result) && renderableFunctions[result[_primitives.PrimitiveProp]] !== undefined;
}
function isSomething(result) {
	return result !== undefined && result !== null;
}
//to-three -> to-cad
//to-cad(array) -> array.map(to-cad)
//to-cad(primitive) -> primitive.realize()
function resultsToCAD(results) {
	var cadRefs = [];
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = results[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var result = _step.value;

			cadRefs.push(toCAD(result));
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return { cadRefs: cadRefs };
}
function toCAD(result) {
	var cadRef = void 0;
	if (isPrimitive(result)) {
		cadRef = renderableFunctions[result[_primitives.PrimitiveProp]](result);
	} else if (Array.isArray(result)) {
		cadRef = arrayToCAD(result);
	} else {
		cadRef = nullCADObj();
	}
	return cadRef;
}
function nullCADObj() {
	return null;
}
function arrayToCAD(array) {
	return array.map(function (r) {
		return toCAD(r);
	});
}

var renderableFunctions = {
	cornersBox: cornersBox,
	centerSphere: centerSphere,
	centersCylinder: centersCylinder,
	rightCuboid: rightCuboid,
	coneFrustum: coneFrustumRealizer,
	polygon: polygonRealizer,
	extrusion: extrusionRealizer,
	move: move,
	rotate: rotateRealizer
};

function packPoint(p) {
	return [p.x, p.y, p.z];
}

function cornersBox(_ref) {
	var p1 = _ref.p1,
	    p2 = _ref.p2;

	return synchronousHttpRequest("corners-box", {
		p1: packPoint(p1),
		p2: packPoint(p2)
	});
}
function centerSphere(_ref2) {
	var center = _ref2.center,
	    radius = _ref2.radius;

	return synchronousHttpRequest("center-sphere", {
		center: packPoint(center),
		radius: radius
	});
}
function centersCylinder(_ref3) {
	var p1 = _ref3.p1,
	    p2 = _ref3.p2,
	    radius = _ref3.radius;

	return synchronousHttpRequest("centers-cylinder", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		radius: radius
	});
}
function rightCuboid(_ref4) {
	var p1 = _ref4.p1,
	    p2 = _ref4.p2,
	    width = _ref4.width,
	    height = _ref4.height;

	return synchronousHttpRequest("right-cuboid", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		width: width,
		height: height
	});
}
function coneFrustumRealizer(_ref5) {
	var p1 = _ref5.p1,
	    p2 = _ref5.p2,
	    radTop = _ref5.radTop,
	    radBot = _ref5.radBot;

	return synchronousHttpRequest("cone-frustum", {
		p1: packPoint(p1),
		p2: packPoint(p2),
		radBot: radBot,
		radTop: radTop
	});
}
function polygonRealizer(_ref6) {
	var vertices = _ref6.vertices;

	return synchronousHttpRequest("polygon", {
		vertices: vertices.map(packPoint)
	});
}
function extrusionRealizer(_ref7) {
	var shape = _ref7.shape,
	    vec = _ref7.vec;

	return synchronousHttpRequest("extrusion", {
		shape: toCAD(shape),
		vec: packPoint(vec)
	});
}
function move(_ref8) {
	var shape = _ref8.shape,
	    vec = _ref8.vec;

	return synchronousHttpRequest("move", {
		shape: toCAD(shape),
		vec: packPoint(vec)
	});
}
function rotateRealizer(_ref9) {
	var shape = _ref9.shape,
	    ang = _ref9.ang,
	    p = _ref9.p,
	    vec = _ref9.vec;

	return synchronousHttpRequest("rotate", {
		shape: toCAD(shape),
		ang: ang,
		p: packPoint(p),
		vec: packPoint(vec)
	});
}

exports.resultsToCAD = resultsToCAD;


function centersCylinderPrimitive(p1, p2, radius) {
	var _ref10;

	return _ref10 = {}, _defineProperty(_ref10, _primitives.PrimitiveProp, "centersCylinder"), _defineProperty(_ref10, "p1", p1), _defineProperty(_ref10, "p2", p2), _defineProperty(_ref10, "radius", radius), _ref10;
}
function centerSpherePrimitive(center, radius) {
	var _ref11;

	return _ref11 = {}, _defineProperty(_ref11, _primitives.PrimitiveProp, "centerSphere"), _defineProperty(_ref11, "center", center), _defineProperty(_ref11, "radius", radius), _ref11;
}
function cornersBoxPrimitive(p1, p2) {
	var _ref12;

	return _ref12 = {}, _defineProperty(_ref12, _primitives.PrimitiveProp, "cornersBox"), _defineProperty(_ref12, "p1", p1), _defineProperty(_ref12, "p2", p2), _ref12;
}
function rightCuboidPrimitive(p1, width, height, p2) {
	var _ref13;

	return _ref13 = {}, _defineProperty(_ref13, _primitives.PrimitiveProp, "rightCuboid"), _defineProperty(_ref13, "p1", p1), _defineProperty(_ref13, "width", width), _defineProperty(_ref13, "height", height), _defineProperty(_ref13, "p2", p2), _ref13;
}
function coneFrustumPrimitive(p1, radBot, radTop, p2) {
	var _ref14;

	return _ref14 = {}, _defineProperty(_ref14, _primitives.PrimitiveProp, "coneFrustum"), _defineProperty(_ref14, "p1", p1), _defineProperty(_ref14, "radBot", radBot), _defineProperty(_ref14, "radTop", radTop), _defineProperty(_ref14, "p2", p2), _ref14;
}
function polygonPrimitive(verts) {
	var _ref15;

	return _ref15 = {}, _defineProperty(_ref15, _primitives.PrimitiveProp, "polygon"), _defineProperty(_ref15, "vertices", verts), _ref15;
}
function extrusionPrimitive(shape, vec) {
	var _ref16;

	return _ref16 = {}, _defineProperty(_ref16, _primitives.PrimitiveProp, "extrusion"), _defineProperty(_ref16, "shape", shape), _defineProperty(_ref16, "vec", vec), _ref16;
}
function translatePrimitive(shape, vec) {
	var _ref17;

	return _ref17 = {}, _defineProperty(_ref17, _primitives.PrimitiveProp, "move"), _defineProperty(_ref17, "shape", shape), _defineProperty(_ref17, "vec", vec), _ref17;
}
function rotatePrimitive(shape, ang, p, vec) {
	var _ref18;

	return _ref18 = {}, _defineProperty(_ref18, _primitives.PrimitiveProp, "rotate"), _defineProperty(_ref18, "shape", shape), _defineProperty(_ref18, "ang", ang), _defineProperty(_ref18, "p", p), _defineProperty(_ref18, "vec", vec), _ref18;
}

var cylinder = {};
cylinder.byCentersRadius = function (_ref19, radius) {
	var _ref20 = _slicedToArray(_ref19, 2),
	    c1 = _ref20[0],
	    c2 = _ref20[1];

	return centersCylinderPrimitive(c1, c2, radius);
};
cylinder.byBottomRadiusHeight = function (bottom, radius, height) {
	var top = _pointVectorMatrix.vector.add(bottom, _pointVectorMatrix.vector.byXYZ(0, 0, height));
	return centersCylinderPrimitive(bottom, top, radius);
};

var sphere = {};
sphere.byCenterRadius = function (center, radius) {
	return centerSpherePrimitive(center, radius);
};

var box = {};
box.byCorners = function (_ref21) {
	var _ref22 = _slicedToArray(_ref21, 2),
	    c1 = _ref22[0],
	    c2 = _ref22[1];

	return cornersBoxPrimitive(c1, c2);
};
box.byCornerXYZ = function (c, _ref23) {
	var _ref24 = _slicedToArray(_ref23, 3),
	    dx = _ref24[0],
	    dy = _ref24[1],
	    dz = _ref24[2];

	return cornersBoxPrimitive(c, _pointVectorMatrix.vector.add(c, _pointVectorMatrix.vector.byXYZ(dx, dy, dz)));
};
box.byBottomWidthHeightZ = function (p, _ref25, z) {
	var _ref26 = _slicedToArray(_ref25, 2),
	    width = _ref26[0],
	    height = _ref26[1];

	return rightCuboidPrimitive(p, width, height, _pointVectorMatrix.vector.add(p, _pointVectorMatrix.vector.byZ(z)));
};
box.byCentersWidthHeight = function (_ref27, _ref28) {
	var _ref30 = _slicedToArray(_ref27, 2),
	    c1 = _ref30[0],
	    c2 = _ref30[1];

	var _ref29 = _slicedToArray(_ref28, 2),
	    width = _ref29[0],
	    height = _ref29[1];

	return rightCuboidPrimitive(c1, width, height, c2);
};
box.byWidthHeightDepth = function (width, height, depth) {
	return rightCuboidPrimitive(_pointVectorMatrix.vector.byZ(-depth / 2.0), width, height, _pointVectorMatrix.vector.byZ(depth / 2.0));
};

var coneFrustum = {};
coneFrustum.byBottomTopRadiusesHeight = function (p, radBot, radTop, height) {
	return coneFrustumPrimitive(p, radBot, radTop, _pointVectorMatrix.point.add(p, _pointVectorMatrix.vector.byZ(height)));
};
coneFrustum.byBottomRadiusTopRadius = function (p1, r1, p2, r2) {
	return coneFrustumPrimitive(p1, r1, r2, p2);
};

var polygon = {};
polygon.surface = {};
polygon.surface.byVertices = function (verts) {
	return polygonPrimitive(verts);
};

var extrusion = {};
extrusion.bySurfaceVector = function (surf, vec) {
	return extrusionPrimitive(surf, vec);
};

var translate = function translate(object) {
	return {
		byVector: function byVector(vec) {
			return translatePrimitive(object, vec);
		},
		byXYZ: function byXYZ(x, y, z) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byXYZ(x, y, z));
		},
		byX: function byX(x) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byX(x));
		},
		byY: function byY(y) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byY(y));
		},
		byZ: function byZ(z) {
			return translatePrimitive(object, _pointVectorMatrix.vector.byZ(z));
		}
	};
};
translate.byVector = function (vec) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, vec);
};
translate.byXYZ = function (x, y, z) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byXYZ(x, y, z));
};
translate.byX = function (x) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byX(x));
};
translate.byY = function (y) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byY(y));
};
translate.byZ = function (z) {
	return _lodash2.default.partial(translatePrimitive, _lodash2.default, _pointVectorMatrix.vector.byZ(z));
};

var origin = _pointVectorMatrix.vector.byZ(0);
var rotate = function rotate(object) {
	return {
		aroundAxisByAngle: function aroundAxisByAngle(axis, radians) {
			return rotatePrimitive(object, radians, axis.center, axis.vector);
		},
		aroundAxisVectorByAngle: function aroundAxisVectorByAngle(axisVector, radians) {
			return rotatePrimitive(object, radians, origin, axisVector);
		},
		aroundXByAngle: function aroundXByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byX(1));
		},
		aroundYByAngle: function aroundYByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byY(1));
		},
		aroundZByAngle: function aroundZByAngle(radians) {
			return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byZ(1));
		},
		aligningAxes: function aligningAxes(fromAxis, toAxis) {
			var dot = fromAxis.dot(toAxis),
			    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
			    crossLength = cross.length();
			if (dot === 0.0) {
				return object;
			} else {
				return rotatePrimitive(object, Math.acos(dot), origin, cross.multiplyScalar(1 / crossLength));
			}
		}
	};
};
rotate.aroundAxisVectorByAngle = function (axis, radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, axis);
	};
};
rotate.aroundXByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byX(1));
	};
};
rotate.aroundYByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byY(1));
	};
};
rotate.aroundZByAngle = function (radians) {
	return function (object) {
		return rotatePrimitive(object, radians, origin, _pointVectorMatrix.vector.byZ(1));
	};
};
rotate.aligningAxes = function (fromAxis, toAxis) {
	return function (object) {
		var dot = fromAxis.dot(toAxis),
		    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
		    crossLength = cross.length();
		if (dot === 0.0) {
			return object;
		} else {
			return rotatePrimitive(object, Math.acos(dot), origin, cross.multiplyScalar(1 / crossLength));
		}
	};
};

var predefinedBindings = [{ name: "sequence", value: _sequence2.default }, { name: "box", value: box }, { name: "cylinder", value: cylinder }, { name: "sphere", value: sphere }, { name: "coneFrustum", value: coneFrustum }, { name: "polygon", value: polygon }, { name: "extrusion", value: extrusion }, { name: "point", value: _pointVectorMatrix.point }, { name: "vector", value: _pointVectorMatrix.vector }, { name: "random", value: _random2.default }, { name: "math", value: _math2.default }, { name: "functional", value: _functional2.default }, { name: "translate", value: translate }, { name: "rotate", value: rotate }];

//
// Runner
//

function runInCad(program) {
	// use different predefined functions and primitives (primitives)
	var _runProgramPrime = (0, _runningIdea.runProgramPrime2)(program, [_saveTopLevelTransform.transform], predefinedBindings),
	    _runProgramPrime2 = _slicedToArray(_runProgramPrime, 1),
	    saveTopLevelContext = _runProgramPrime2[0];

	var results = saveTopLevelContext.topLevelExprResults.values();
	// execute the top-level results with the CAD API (to-three)

	var _resultsToCAD = resultsToCAD(results),
	    cadRefs = _resultsToCAD.cadRefs;
}

function clearCad() {
	synchronousHttpRequest("erase-all", {}, "GET");
}

function selectCads(cads) {
	synchronousHttpRequest("active-backends", {
		backends: cads
	}, "PUT");
}

exports.runInCad = runInCad;
exports.clearCad = clearCad;
exports.selectCads = selectCads;

},{"../SceneGraph/Predefs/functional.js":25,"../SceneGraph/Predefs/math.js":26,"../SceneGraph/Predefs/point-vector-matrix.js":27,"../SceneGraph/Predefs/random.js":28,"../SceneGraph/Predefs/sequence.js":29,"../SceneGraph/primitives.js":35,"./Instrumentation/save-top-level-transform.js":12,"./running-idea.js":24,"lodash":"lodash","three":"three"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getNodeResults = exports.getResultCreatorNode = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _nodeId = require('./Parsing/node-id.js');

var _getNodeById = require('./Parsing/getNodeById.js');

var _program = require('./Parsing/program.js');

// dependencies: run.withTraceability + Program

/*
  ========Run captured information:=============
  toplevelresults :: AstNode -> ProgramResult
  tracecall :: AstNode -> [CallTraceElement]
    CallTraceElement :: (AstNode, [ProgramResult], ProgramResult)
*/
/*
  I got a path to a specific use of a result. 
  path: [leaf, father, grandfather]
  I want to know which AstNode was the creator of the result closest to leaf.
  
  It is garantied to have been returned by a node, unless it is a 
predefined or primitive value.

  The path may contain results that were not returned by themselves 
but through their parents.
  We have to find the first result of path that was returned by a node.
  There may be several nodes that returned the result. We want to return
the first node that returned it.

  Javascript Map iteration follows insertion order. This leads to:
    - When iterating through traceabilityInfo.callTraces, we visit nodes 
  ordered by the first time they were executed. 
      - In a function call: arguments -> body -> return
    - Each node's callTraces are visited by criation/execution order.
*/
function getResultCreatorNode(resultInstance, path, traceabilityResults, program) {
  function returnerNodes(result) {
    var returnsResult = function returnsResult(_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          node = _ref2[0],
          callTraces = _ref2[1];

      return callTraces.some(function (c) {
        return c.result === result;
      });
    };
    var nodesCallTraces = Array.from(traceabilityResults.traceabilityInfo.callTraces.entries());
    return nodesCallTraces.filter(returnsResult).map(function (_ref3) {
      var _ref4 = _slicedToArray(_ref3, 2),
          node = _ref4[0],
          callTrace = _ref4[1];

      return (0, _getNodeById.getNodeById)(program, node);
    });
  }
  function wasReturnedByNode(result) {
    return returnerNodes(result).length !== 0;
  }
  //Find the first result of path that was returned nodes.
  //Return the first node that returned that result.
  //TODO FIXME Garanty that the returned node is actually the one that created the result.
  var currentResultIdx = 0;
  while (currentResultIdx < path.length) {
    var currentResult = path[currentResultIdx];
    var returners = returnerNodes(currentResult);
    if (returners.length !== 0) {
      return returners[0];
    }
    currentResultIdx++;
  }
  //Otherwise, default to the node that represent the whole program.
  return (0, _program.sourceToAst)(program);
}

function getNodeResults(node, path, traceabilityResults) {
  //TODO getNodeResults() -> Get results of more than call expressions.
  var nodeIdToCallTraces = traceabilityResults.traceabilityInfo.callTraces;
  var nodesWithResults = path.filter(function (node) {
    return nodeIdToCallTraces.has((0, _nodeId.nodeId)(node));
  });
  if (nodesWithResults.length > 0) {
    var callTracesOfFirst = nodeIdToCallTraces.get((0, _nodeId.nodeId)(nodesWithResults[0]));
    var resultsOfFirst = callTracesOfFirst.map(function (callTrace) {
      return callTrace.result;
    });
    return resultsOfFirst;
  } else {
    return [];
  }
}

exports.getResultCreatorNode = getResultCreatorNode;
exports.getNodeResults = getNodeResults;

},{"./Parsing/getNodeById.js":15,"./Parsing/node-id.js":16,"./Parsing/program.js":18}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.emptyResults = exports.ProgramResults = exports.runWithTraceability = exports.runNormally = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _runningIdea = require('./running-idea.js');

var _runningIdea2 = _interopRequireDefault(_runningIdea);

var _traceCallTransform = require('./Instrumentation/trace-call-transform.js');

var _saveTopLevelTransform = require('./Instrumentation/save-top-level-transform.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//
// TODO Increase cohesion of running programs. 
//	Ex: Don't return TransformRunningContexts. Return an adapter, or similar, that exposes only relevant information.
//

function runWithTraceability(program) {
	var _runProgram = (0, _runningIdea2.default)(program, [_saveTopLevelTransform.transform, _traceCallTransform.transform]),
	    _runProgram2 = _slicedToArray(_runProgram, 2),
	    results = _runProgram2[0],
	    traceabilityInfo = _runProgram2[1];

	return new ProgramResults(results, traceabilityInfo);
}

//
// Run just for results.
// The results of a program are the values of its top-level expressions.
//
function run(program) {
	var _runProgram3 = (0, _runningIdea2.default)(program, [_saveTopLevelTransform.transform]),
	    _runProgram4 = _slicedToArray(_runProgram3, 1),
	    results = _runProgram4[0];

	return new ProgramResults(results);
}

/**
	@constructor
 */
function ProgramResults(results, traceabilityInfo) {
	this.results = results;
	this.traceabilityInfo = traceabilityInfo;
}

exports.runNormally = run;
exports.runWithTraceability = runWithTraceability;
exports.ProgramResults = ProgramResults;
var emptyResults = exports.emptyResults = new ProgramResults({ topLevelExprResults: new Map() }, { callTraces: new Map() });

},{"./Instrumentation/save-top-level-transform.js":12,"./Instrumentation/trace-call-transform.js":13,"./running-idea.js":24}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.runProgramPrime2 = undefined;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _esprima = require('esprima');

var _esprima2 = _interopRequireDefault(_esprima);

var _estraverse = require('estraverse');

var _estraverse2 = _interopRequireDefault(_estraverse);

var _escodegen = require('escodegen');

var _escodegen2 = _interopRequireDefault(_escodegen);

var _astUtils = require('./Parsing/ast-utils.js');

var _program = require('./Parsing/program.js');

var _idGenerator = require('./id-generator.js');

var _primitives = require('../SceneGraph/primitives.js');

var _primitives2 = _interopRequireDefault(_primitives);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function generatePrimitiveImportCode(primitives) {
	return "var " + primitives.map(function (primitive, i) {
		return "" + primitive.name + "=" + "primitives[" + i + "].value";
	}).join(",") + ";\n";
}

//
// ***************
// Main function!!
// ***************
//
function runProgramPrime2(program, transforms) {
	var predefinedBindings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _primitives2.default;

	//
	// TODO: Map nodeIds to AstNodes.
	//       - Option 1: Convert nodeIds to AstNodes after running.
	//       - Option 2: Provide a function to get the AstNode when running the program.
	//       - Option 3: Provide a function and an array with AstNodes in preorder.
	// TODO: Handle runtime exceptions.
	//
	var programAst = _lodash2.default.cloneDeep((0, _program.sourceToAst)(program));

	//gather nodes affected by each transform
	var nodesToInstrument = new Map(transforms.map(function (t) {
		return [t, new Set()];
	}));
	transforms.forEach(function (t) {
		var transformSet = nodesToInstrument.get(t);
		_estraverse2.default.traverse(programAst, {
			enter: function enter(node, parent) {
				if (t.select(node, parent)) {
					transformSet.add(node);
				}
			}
		});
	});

	var contextIds = new Map(transforms.map(function (t) {
		return [t, "ctx_" + _idGenerator.idGenerator.next()];
	}));
	//apply transformations, passing contextId to each for access to their context
	transforms.forEach(function (t) {
		var transformSet = nodesToInstrument.get(t);
		_estraverse2.default.replace(programAst, {
			leave: function leave(node) {
				if (transformSet.has(node)) {
					return t.transform(node, contextIds.get(t));
				}
			}
		});
	});

	// generate program code
	var primitiveImportCode = generatePrimitiveImportCode(predefinedBindings);
	var instrumentedProgram = _escodegen2.default.generate(programAst);

	var body = primitiveImportCode + instrumentedProgram;

	//create contexts
	var contexts = transforms.map(function (t) {
		return t.makeContext();
	});
	var args = Array.from(contextIds.values()).concat("primitives");
	var programFunction = new Function(args, body);
	programFunction.apply(null, contexts.concat([predefinedBindings]));
	return contexts;
}

exports.default = runProgramPrime2;
exports.runProgramPrime2 = runProgramPrime2;

},{"../SceneGraph/primitives.js":35,"./Parsing/ast-utils.js":14,"./Parsing/program.js":18,"./id-generator.js":20,"escodegen":"escodegen","esprima":"esprima","estraverse":"estraverse","lodash":"lodash"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var functional = {};
functional.compose = function () {
  for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {
    fns[_key] = arguments[_key];
  }

  return function () {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return fns.reduceRight(function (prev, fn) {
      return fn.apply(null, [prev]);
    }, args);
  };
};

/*
  @param {[boolean, thunk]} condPairs
*/
functional.cond = function cond(condPairs) {
  var i = 0;
  while (i < condPairs.length) {
    if (condPairs[i][0]) {
      return condPairs[i][1]();
    }
    i++;
  }
};

exports.default = functional;

},{}],26:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var math = {};
math.lerp = function lerp(a, b, t) {
  return a + (b - a) * t;
};

exports.default = math;

},{}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.matrix = exports.point = exports.vector = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var matrix = {};
matrix.identity = new _three2.default.Matrix4();
matrix.translation = function (x, y, z) {
	return new _three2.default.Matrix4().makeTranslation(x, y, z);
};
matrix.rotation = function (axisVector, radians) {
	return new _three2.default.Matrix4().makeRotationAxis(axisVector, radians);
};
matrix.scaling = function (xFactor, yFactor, zFactor) {
	return new _three2.default.Matrix4().makeScale(xFactor, yFactor, zFactor);
};
matrix.multiply = function (m1, m2) {
	return m1.clone().multiply(m2);
};
matrix.basis = function (xVector, yVector, zVector) {
	var origin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : point.byXYZ(0, 0, 0);

	var tmp = new _three2.default.Matrix4();
	tmp.makeBasis(xVector, yVector, zVector);
	tmp.setPosition(origin);
	return tmp;
};
matrix.axisCosSinAngle = function (axisVector, cosAngle, sinAngle) {
	//Based on http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToMatrix/index.htm
	var a = axisVector,
	    c = cosAngle,
	    s = sinAngle;
	var t = 1.0 - c;

	var tmp1 = a.x * a.y * t,
	    tmp2 = a.z * s,
	    tmp3 = a.x * a.z * t,
	    tmp4 = a.y * s,
	    tmp5 = a.y * a.z * t,
	    tmp6 = a.x * s;

	var matr = new _three2.default.Matrix4();
	matr.set(c + a.x * a.x * t, tmp1 - tmp2, tmp3 + tmp4, 0.0, tmp1 + tmp2, c + a.y * a.y * t, tmp5 - tmp6, 0.0, tmp3 - tmp4, tmp5 + tmp6, c + a.z * a.z * t, 0.0, 0.0, 0.0, 0.0, 1.0);

	return matr;
};
matrix.alignFromAxisToAxis = function (fromAxis, toAxis) {
	var dot = fromAxis.dot(toAxis),
	    cross = new _three2.default.Vector3().crossVectors(fromAxis, toAxis),
	    crossLength = cross.length();
	//TODO Improve vector colinearity check. Use approximate equality.
	var areColinear = crossLength === 0.0;
	if (areColinear) {
		var axis = new _three2.default.Vector4(1.0, 0.0, 0.0, 0.0);
		return dot < 0.0 ? matrix.axisCosSinAngle(axis, -1.0, 0.0) : matrix.axisCosSinAngle(axis, 1.0, 0.0);
	} else {
		var _axis = cross.clone().multiplyScalar(1.0 / crossLength);
		return matrix.axisCosSinAngle(_axis, dot, crossLength);
	}
};

var vector = {};
vector.byXYZ = function (x, y, z) {
	return new _three2.default.Vector4(x, y, z, 0.0);
};
vector.byXY = function (x, y) {
	return vector.byXYZ(x, y, 0);
};
vector.byYZ = function (y, z) {
	return vector.byXYZ(0, y, z);
};
vector.byX = function (x) {
	return vector.byXYZ(x, 0.0, 0.0);
};
vector.byY = function (y) {
	return vector.byXYZ(0.0, y, 0.0);
};
vector.byZ = function (z) {
	return vector.byXYZ(0.0, 0.0, z);
};
vector.byPolar = function (radius, theta) {
	return vector.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), 0);
};
vector.byCylindrical = function (radius, theta, height) {
	return vector.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), height);
};
vector.bySpherical = function (radius, azimuthAngle, polarAngle) {
	var sinPolar = Math.sin(polarAngle);
	return vector.byXYZ(radius * Math.cos(azimuthAngle) * sinPolar, radius * Math.sin(azimuthAngle) * sinPolar, radius * Math.cos(polarAngle));
};

vector.add = function (v1, v2) {
	return v1.clone().add(v2);
};
vector.sub = function (v1, v2) {
	return v1.clone().sub(v2);
};
vector.dot = function (v1, v2) {
	return v1.dot(v2);
};
vector.cross = function (v1, v2) {
	var vec3Result = new _three2.default.Vector3().crossVectors(v1, v2);
	return new _three2.default.Vector4(vec3Result.x, vec3Result.y, vec3Result.z, 0.0);
};
vector.scale = function (vec, scalar) {
	return vec.clone().multiplyScalar(scalar);
};
vector.length = function (vec) {
	return vec.length();
};
vector.normalized = function (vec) {
	return vec.clone().normalize();
};
vector.coords = function (vec) {
	return [vec.x, vec.y, vec.z];
};
vector.sphCoords = function (vec) {
	var r = vec.length();
	return [r, Math.atan2(vec.x, vec.y), Math.acos(vec.z / r)];
};

var point = {};
point.byXYZ = function (x, y, z) {
	return new _three2.default.Vector4(x, y, z, 1.0);
};
point.byXY = function (x, y) {
	return point.byXYZ(x, y, 0);
};
point.byXZ = function (x, z) {
	return point.byXYZ(x, 0, z);
};
point.byYZ = function (y, z) {
	return point.byXYZ(0, y, z);
};
point.byX = function (x) {
	return point.byXYZ(x, 0.0, 0.0);
};
point.byY = function (y) {
	return point.byXYZ(0.0, y, 0.0);
};
point.byZ = function (z) {
	return point.byXYZ(0.0, 0.0, z);
};
point.byCylindrical = function (radius, theta, height) {
	return point.byXYZ(radius * Math.cos(theta), radius * Math.sin(theta), height);
};
point.bySpherical = function (radius, azimuthAngle, polarAngle) {
	var sinPolar = Math.sin(polarAngle);
	return point.byXYZ(radius * Math.cos(azimuthAngle) * sinPolar, radius * Math.sin(azimuthAngle) * sinPolar, radius * Math.cos(polarAngle));
};
point.x = function (pt) {
	return pt.x;
};
point.y = function (pt) {
	return pt.y;
};
point.z = function (pt) {
	return pt.z;
};
point.origin = function () {
	return point.byXYZ(0, 0, 0);
};
point.add = function (point, vec) {
	return point.clone().add(vec);
};
point.addX = function (pt, x) {
	return point.add(pt, vector.byXYZ(x, 0, 0));
};
point.addXZ = function (pt, x, z) {
	return point.add(pt, vector.byXYZ(x, 0, z));
};
point.addZ = function (pt, z) {
	return point.add(pt, vector.byXYZ(0, 0, z));
};
point.sub = function (p1, p2) {
	return p1.clone().sub(p2);
};
point.subZ = function (pt, z) {
	return point.sub(pt, vector.byXYZ(0, 0, z));
};
point.pointPlusVector = point.add;
point.pointMinusPoint = point.sub;

exports.vector = vector;
exports.point = point;
exports.matrix = matrix;

},{"three":"three"}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var random = {};
random.inRange = function (lower, upper) {
	return _lodash2.default.random(lower, upper);
};
random.integer = function (upper) {
	return _lodash2.default.random(Math.trunc(upper));
};
random.integer.inRange = function (lower, upper) {
	return _lodash2.default.random(Math.trunc(lower), Math.trunc(upper));
};
random.real = function (upper) {
	return _lodash2.default.random(upper, true);
};
random.real.inRange = function (lower, upper) {
	return _lodash2.default.random(lower, upper, true);
};

exports.default = random;

},{"lodash":"lodash"}],29:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var sequence = {};
sequence.map = function (fn, seq) {
	return seq.map(fn);
};
sequence.reduce = function (fn, seq, initialValue) {
	return seq.reduce(fn, initialValue);
};
/**
	Split the [start, end] interval into _divisions_ intervals.
	Take the starting values of each interval.
	If _last_ then take end value of last interval.
	@returns {Array} An array containing numbers spliting the interval
		[start,end] into _divisions_ equally sized parts, including _end_ if 
		_last_ is true.
*/
sequence.division = function (start, end, divisions) {
	var last = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

	var space = (end - start) / divisions;
	return sequence.count(last ? divisions + 1 : divisions).map(function (i) {
		return start + space * i;
	});
};
/**
	Same as division(a, b, n+1, true).
	@returns {Array} An array containing [a, evenlySpacedVals(n), b].
*/
sequence.cutInterval = function (a, b, n) {
	function cuts(times) {
		var spacing = (b - a) / (n + 1);
		return sequence.count(times).map(function (i) {
			return a + (i + 1) * spacing;
		});
	}

	return [a].concat(_toConsumableArray(cuts(n)), [b]);
};
/**
	Same as cutInterval but n includes _a_ and _b_, that is, cutInterval(a, b, n-2).
	Length of return is _n_.
	Same as division(a, b, n-1, true).
*/
sequence.intervalDivision = function (a, b, n) {
	//[x_1=start, ..., x_n=end]
	// a = 0, b = 10
	//  n = 0
	// []
	//  n = 1
	// [NaN]
	//  n = 2
	// [0, 10]
	//  n = 3
	// [0, 5, 10]
	var spacing = (b - a) / (n - 1);
	var res = [];
	for (var i = 0; i < n; i++) {
		res.push(a + i * spacing);
	}
	return res;
};
/**
	Same as intervalDivision except with n=1 -> [(a+b)*0.5].
*/
sequence.evenValsBetween = function (a, b, n) {
	if (n == 1) {
		return [a + (b - a) * 0.5];
	}

	return sequence.count(n).map(function (i) {
		return a + i * (b - a) / (n - 1);
	});
};
/**
	@returns {Array} An array containing the middle of all segments 
		from cutting [a, b] into _segs_ segments.
*/
sequence.intervalMiddles = function (a, b, segs) {
	var totalSpace = b - a;
	var segmentSpace = totalSpace / segs;
	var cutPosition = segmentSpace / 2;
	return sequence.count(segs).map(function (i) {
		return a + cutPosition + i * segmentSpace;
	});
};
sequence.count = function (n) {
	var arr = [];
	var i = 0;
	while (i < n) {
		arr.push(i);
		i++;
	}
	return arr;
};
sequence.zip = function () {
	for (var _len = arguments.length, lists = Array(_len), _key = 0; _key < _len; _key++) {
		lists[_key] = arguments[_key];
	}

	var smallerLength = Math.min.apply(Math, _toConsumableArray(lists.map(function (lst) {
		return lst.length;
	})));
	var arr = [];
	var i = 0;
	while (i < smallerLength) {
		arr.push(lists.map(function (lst) {
			return lst[i];
		}));
		i++;
	}
	return arr;
};
/**
	@returns {Array} An array containing all the tuples from applying
		the cartesian product to _lists_.
*/
sequence.cartesianProduct = function () {
	function cartAux() {
		for (var _len2 = arguments.length, lists = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
			lists[_key2] = arguments[_key2];
		}

		if (lists.length > 1) {
			var _ret = function () {
				var lst = lists[0],
				    rest = lists.slice(1);

				var smallerCartProd = cartAux.apply(undefined, _toConsumableArray(rest));
				return {
					v: smallerCartProd.map(function (tuple) {
						return lst.map(function (el) {
							return [el].concat(_toConsumableArray(tuple));
						});
					}).reduce(function (prev, cur) {
						return [].concat(_toConsumableArray(cur), _toConsumableArray(prev));
					}, [])
				};
			}();

			if ((typeof _ret === "undefined" ? "undefined" : _typeof(_ret)) === "object") return _ret.v;
		} else {
			return lists[0].map(function (el) {
				return [el];
			});
		}
	}

	return cartAux.apply(undefined, arguments);
	/*
 // This code should be equivalent to the above when lsts.length === 2.
 var arr = [];
 for(let i=0; i<l1.length; i++) {
 	for(let j=0; j<l2.length; j++) {
 		arr.push([l1[i], l2[j]]);
 	}
 }
 return arr;
 */
};
sequence.rotate = function (lst, offset) {
	function posModulo(dividend, divisor) {
		return (dividend % divisor + divisor) % divisor;
	}
	var arr = [];
	for (var i = 0; i < lst.length; i++) {
		arr.push(lst[posModulo(i + offset, lst.length)]);
	}
	return arr;
};
sequence.rotateLeft = sequence.rotate;
sequence.repeatTimes = function (elem, n) {
	var i = 0;
	var arr = [];
	while (i < n) {
		arr.push(elem);
		i++;
	}
	return arr;
};
/**
	@returns {Array} An Array containing the elements of all _lists_
		following the order l1[0], ..., ln[0], ..., l1[m], ..., lk[m],
		where lk is the list before first list that lacks the mth element.
*/
sequence.interleave = function interleave() {
	var res = [];

	for (var _len3 = arguments.length, lists = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
		lists[_key3] = arguments[_key3];
	}

	var smallestLength = Math.min.apply(null, lists.map(function (lst) {
		return lst.length;
	}));
	for (var j = 0; j < smallestLength; j++) {
		for (var i = 0; i < lists.length; i++) {
			res.push(lists[i][j]);
		}
	}
	for (var _i = 0; lists[_i].length !== smallestLength; _i++) {
		res.push(lists[_i][smallestLength]);
	}
	return res;
};
sequence.concat = function () {
	var _ref;

	return (_ref = []).concat.apply(_ref, arguments);
};
sequence.length = function (lst) {
	return lst.length;
};
sequence.drop = function (lst, n) {
	return lst.slice(n);
};
sequence.dropRight = function (lst, n) {
	return lst.slice(0, lst.length - n);
};

exports.default = sequence;

},{}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _three = require('three');

function randomColor() {
  var c = new _three.Color();
  c.setHSL(Math.random(), 0.8, 0.5);
  return c;
}
function colorByHSL(hue, saturation, lightness) {
  var c = new _three.Color();
  c.setHSL(hue, saturation, lightness);
  return c;
}
var color = {};
color.random = randomColor;
color.hsl = colorByHSL;

exports.default = color;

},{"three":"three"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.surfaceMat = exports.solidMat = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var solidMat = exports.solidMat = new _three2.default.MeshPhongMaterial();
var surfaceMat = exports.surfaceMat = new _three2.default.MeshPhongMaterial();
surfaceMat.side = _three2.default.DoubleSide;

},{"three":"three"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.extrusion = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _lodash = require('lodash');

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _defaultMaterials = require('./default-materials.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// naive version:
//   assumes extrudable has vertices property
//   assumes surface extrudable (always closed)
//   assumes standard winding (CCW)
//   assumes convex extrudable

function boundarySection(vertices) {
  return { vertices: vertices };
}

function boundarySectionsFromBoundaryVertices(vertices) {
  // duplicar vertices para cada smooth group
  // em extruso poligonal todos os lados tm smooth group diferente
  // Note: Currenly only for a polygon surface.
  var sections = [];
  for (var sec = 0; sec < vertices.length; sec++) {
    sections.push(boundarySection([vertices[sec], vertices[(sec + 1) % vertices.length]]));
  }
  return sections;
}

function extrudableBoundary(extrudable) {
  var verts = extrudable.args.vertices;
  return {
    vertices: verts,
    sections: boundarySectionsFromBoundaryVertices(verts),
    addVector: function addVector(vector) {
      var newVertices = this.vertices.map(function (v) {
        return v.clone().add(vector);
      });
      return {
        vertices: newVertices,
        sections: boundarySectionsFromBoundaryVertices(newVertices),
        addVector: this.addVector
      };
    }
  };
}

function boundarySurfaceNormal(boundary) {
  var verts = boundary.vertices;
  var v0_1 = verts[1].clone().sub(verts[0]);
  var v0_2 = verts[2].clone().sub(verts[0]);
  return new _three2.default.Vector3().crossVectors(v0_1, v0_2);
}

function triangleFanFaces(vertexNum, reversed, offset) {
  var faces = [];
  for (var v0 = 0, v1 = v0 + 1, v2 = v0 + 2; v2 < vertexNum; v1++, v2++) {
    if (!reversed) {
      faces.push(new _three2.default.Face3(v0 + offset, v1 + offset, v2 + offset));
    } else {
      faces.push(new _three2.default.Face3(v0 + offset, v2 + offset, v1 + offset));
    }
  }
  return faces;
}

/*
    Generates array of THREE.Face3 for a quad strip connecting two separate
  line strips.
*/
function quadStripFaces(vertNum, reversed, offset1, offset2) {
  var faces = [];
  for (var quad = 0; quad < vertNum - 1; quad++) {
    var v1 = offset1 + quad,
        v2 = offset1 + quad + 1,
        v3 = offset2 + quad + 1,
        v4 = offset2 + quad;
    if (!reversed) {
      faces.push(new _three2.default.Face3(v1, v2, v3));
      faces.push(new _three2.default.Face3(v3, v4, v1));
    } else {
      faces.push(new _three2.default.Face3(v1, v3, v2));
      faces.push(new _three2.default.Face3(v3, v1, v4));
    }
  }
  return faces;
}

function extrusionGeometry(extrudable, displacement) {
  var geom = new _three2.default.Geometry();
  // set vertices
  var startBoundary = extrudableBoundary(extrudable);
  var endBoundary = startBoundary.addVector(displacement);
  var startVertices = startBoundary.vertices;
  var endVertices = endBoundary.vertices;
  var startSections = startBoundary.sections;
  var endSections = endBoundary.sections;
  var sectionPairs = (0, _lodash.zip)(startSections, endSections);
  var sectionPairVertices = sectionPairs.map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 2),
        s1 = _ref2[0],
        s2 = _ref2[1];

    return [].concat(_toConsumableArray(s1.vertices), _toConsumableArray(s2.vertices));
  });
  var allSectionVertices = (0, _lodash.flatten)(sectionPairVertices);

  geom.vertices = [].concat(_toConsumableArray(startVertices), _toConsumableArray(endVertices), _toConsumableArray(allSectionVertices));

  var startCapNormal = boundarySurfaceNormal(startBoundary);
  var startCapReversed = startCapNormal.dot(displacement) > 0;
  var startCapFaces = triangleFanFaces(startVertices.length, startCapReversed, 0);
  var endCapFaces = triangleFanFaces(endVertices.length, !startCapReversed, startVertices.length);

  var sectionPairStartingOffset = startVertices.length + endVertices.length;
  var sectionPairVerticeOffsets = sectionPairs.map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        s1 = _ref4[0],
        s2 = _ref4[1];

    return s1.vertices.length + s2.vertices.length;
  }).reduce(function (prev, curr) {
    return [].concat(_toConsumableArray(prev), [prev[prev.length - 1] + curr]);
  }, [sectionPairStartingOffset]); // this is a scan
  var sectionPairFaces = sectionPairs.map(function (_ref5, idx) {
    var _ref6 = _slicedToArray(_ref5, 2),
        s1 = _ref6[0],
        s2 = _ref6[1];

    var baseOffset = sectionPairVerticeOffsets[idx];
    return quadStripFaces(s1.vertices.length, !startCapReversed, baseOffset, baseOffset + s1.vertices.length);
  });
  var sideFaces = (0, _lodash.flatten)(sectionPairFaces);

  geom.faces = [].concat(_toConsumableArray(startCapFaces), _toConsumableArray(endCapFaces), _toConsumableArray(sideFaces));

  // compute normals
  geom.computeFaceNormals();
  geom.computeVertexNormals();
  // compute bounding sphere
  geom.computeBoundingSphere();
  return geom;
}

// extrude.surface
// extrude.path
function toThreeExtrusion(result) {
  var extrudable = result.args.extrudable;
  var displacement = result.args.displacement;
  var geom = extrusionGeometry(extrudable, displacement);
  var obj = new _three2.default.Mesh(geom, _defaultMaterials.solidMat);
  return obj;
}

exports.extrusion = toThreeExtrusion;

},{"./default-materials.js":31,"lodash":"lodash","three":"three"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeMatrixTransformedObject3D(matrix) {
	var object = new _three2.default.Object3D();
	object.matrixAutoUpdate = false;
	object.matrix = matrix;
	return object;
}

exports.default = makeMatrixTransformedObject3D;

},{"three":"three"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.polygonSurface = undefined;

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _defaultMaterials = require('./default-materials.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// naive version:
//  assumes that a convex polygon is provided
//  assumes that all vertices are coplanar

function polygonSurfaceGeometry(vertices) {
  var geom = new _three2.default.Geometry();
  // set vertices
  geom.vertices = vertices;
  // set faces (GL_TRIANGLE_FAN)
  var v0 = 0;
  for (var v1 = 1, v2 = 2; v2 < vertices.length; v1++, v2++) {
    geom.faces.push(new _three2.default.Face3(v0, v1, v2));
  }
  // set normals
  geom.computeFaceNormals();
  geom.computeVertexNormals();
  // set bounding sphere
  geom.computeBoundingSphere();
  return geom;
}

function toThreePolygonSurface(result) {
  var vertices = result.args.vertices;
  var geom = polygonSurfaceGeometry(vertices);
  var obj = new _three2.default.Mesh(geom, _defaultMaterials.surfaceMat);
  return obj;
}

exports.polygonSurface = toThreePolygonSurface;

},{"./default-materials.js":31,"three":"three"}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.PrimitiveProp = undefined;

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _lodash = require("lodash");

var _lodash2 = _interopRequireDefault(_lodash);

var _pointVectorMatrix = require("./Predefs/point-vector-matrix.js");

var _sequence = require("./Predefs/sequence.js");

var _sequence2 = _interopRequireDefault(_sequence);

var _random = require("./Predefs/random.js");

var _random2 = _interopRequireDefault(_random);

var _functional = require("./Predefs/functional.js");

var _functional2 = _interopRequireDefault(_functional);

var _math = require("./Predefs/math.js");

var _math2 = _interopRequireDefault(_math);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//This file defines the set of primitives that programs written in the IDE can use.

//ASCII art font is Colossal
//Generated using http://patorjk.com/software/taag/

//- Provide mechanism
//- Declaration of placeholders for objects that are spawned later in to-three and to-cad
//- User program API specification
//   - points, vectors, translation, rotation
//   - APIs for creating objects


//8888888b.                           d8b      888          
//888   Y88b                          Y8P      888          
//888    888                                   888          
//888   d88P 888d888 .d88b.  888  888 888  .d88888  .d88b.  
//8888888P"  888P"  d88""88b 888  888 888 d88" 888 d8P  Y8b 
//888        888    888  888 Y88  88P 888 888  888 88888888 
//888        888    Y88..88P  Y8bd8P  888 Y88b 888 Y8b.     
//888        888     "Y88P"    Y88P   888  "Y88888  "Y8888  
//
//
//

var PrimitiveProp = Symbol("PrimitiveName");

var registry = {
	primitives: [],
	provide: function provide(name, value) {
		this.primitives.push({
			name: name,
			value: value
		});
	},
	defPrimitive: function defPrimitive(name, args) {
		return function () {
			var _ref;

			var realArguments = arguments;
			var callArgs = {};
			args.forEach(function (paramName, i) {
				callArgs[paramName] = i < realArguments.length ? realArguments[i] : undefined;
			});
			return _ref = {}, _defineProperty(_ref, PrimitiveProp, name), _defineProperty(_ref, "args", callArgs), _ref;
		};
	},
	defPrimitiveAndProvide: function defPrimitiveAndProvide(name, args) {
		var primitive = this.defPrimitive(name, args);
		this.provide(name, primitive);
		return primitive;
	}
};

exports.default = registry.primitives;
exports.PrimitiveProp = PrimitiveProp;

//No points when creating things
//Functional behavior


//888     888 d8b                              .d88888b.  888       d8b          
//888     888 Y8P                             d88P" "Y88b 888       Y8P          
//888     888                                 888     888 888                    
//Y88b   d88P 888  .d88b.  888  888  888      888     888 88888b.  8888 .d8888b  
// Y88b d88P  888 d8P  Y8b 888  888  888      888     888 888 "88b "888 88K      
//  Y88o88P   888 88888888 888  888  888      888     888 888  888  888 "Y8888b. 
//   Y888P    888 Y8b.     Y88b 888 d88P      Y88b. .d88P 888 d88P  888      X88 
//    Y8P     888  "Y8888   "Y8888888P"        "Y88888P"  88888P"   888  88888P' 
//                                                                  888          
//                                                                 d88P          
//                                                               888P"           


//TODO Define more primitives.
//primitives

var boxPrimitive = registry.defPrimitive("box", ["width", "height", "depth"]);
var spherePrimitive = registry.defPrimitive("sphere", ["radius"]);
var cylinderPrimitive = registry.defPrimitive("cylinder", ["radius", "height"]);
var rectanglePrimitive = registry.defPrimitive("rectangle", ["width", "height"]);
var polygonSurfacePrimitive = registry.defPrimitive("polygonSurface", ["vertices"]);
var extrusionPrimitive = registry.defPrimitive("extrusion", ["extrudable", "displacement"]);
var transformObjectPrimitive = registry.defPrimitiveAndProvide("transformObjectWith", ["object", "transform"]);
//registry.defPrimitiveAndProvide("cone", ["radius", "height"]);
var coneFrustumPrimitive = registry.defPrimitive("coneFrustum", ["bottomRadius", "topRadius", "height"]);
//registry.defPrimitiveAndProvide("regularPyramid", ["sides", "height"]);

//registry.defPrimitiveAndProvide("line", ["origin", "direction"]);
//registry.defPrimitiveAndProvide("polyline", ["coordinates", "closed"]);
//registry.defPrimitiveAndProvide("spline", ["coordinates", "closed"]);
//registry.defPrimitiveAndProvide("arc", ["radius", "angle"]);

//registry.defPrimitiveAndProvide("circle", ["radius"]);
//registry.defPrimitiveAndProvide("plane", ["origin", "normal"]);
//registry.defPrimitiveAndProvide("polygon", ["coordinates"]);
//registry.defPrimitiveAndProvide("regularPolygon", ["radius", "sides"]);


//8888888b.          d8b          888                         d8888          d8b          
//888   Y88b         Y8P          888                        d88888          Y8P          
//888    888                      888                       d88P888                       
//888   d88P .d88b.  888 88888b.  888888 .d8888b           d88P 888 888  888 888 .d8888b  
//8888888P" d88""88b 888 888 "88b 888    88K              d88P  888 `Y8bd8P' 888 88K      
//888       888  888 888 888  888 888    "Y8888b.        d88P   888   X88K   888 "Y8888b. 
//888       Y88..88P 888 888  888 Y88b.       X88       d8888888888 .d8""8b. 888      X88 
//888        "Y88P"  888 888  888  "Y888  88888P'      d88P     888 888  888 888  88888P' 
//                                                                                        
//                                                                                        
//                                                                                        

registry.provide("vector", _pointVectorMatrix.vector);
registry.provide("point", _pointVectorMatrix.point);
//TODO Check if all vector operations are implemented and available.


var axis = {};
axis.byPointVector = function (point, vec) {
	return {
		origin: point,
		vector: vec,
		direction: _pointVectorMatrix.vector.normalized(vec)
	};
};
axis.x = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 0, 0));
axis.y = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 1, 0));
axis.z = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 0, 1));
axis.xy = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 1, 0));
axis.xz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 0, 1));
axis.yz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(0, 1, 1));
axis.xyz = axis.byPointVector(_pointVectorMatrix.point.byXYZ(0, 0, 0), _pointVectorMatrix.vector.byXYZ(1, 1, 1));
registry.provide("axis", axis);

// shapes                                 
// .d8888b.  888                                          
//d88P  Y88b 888                                          
//Y88b.      888                                          
// "Y888b.   88888b.   8888b.  88888b.   .d88b.  .d8888b  
//    "Y88b. 888 "88b     "88b 888 "88b d8P  Y8b 88K      
//      "888 888  888 .d888888 888  888 88888888 "Y8888b. 
//Y88b  d88P 888  888 888  888 888 d88P Y8b.          X88 
// "Y8888P"  888  888 "Y888888 88888P"   "Y8888   88888P' 
//                             888                        
//                             888                        
//                             888                        
var box = {};
box.byWidthHeightDepth = function (width, height, depth) {
	return boxPrimitive(width, height, depth);
};
box.byCentersAxes = function (_ref2, _ref3) {
	var _ref5 = _slicedToArray(_ref2, 2),
	    baseCenter = _ref5[0],
	    topCenter = _ref5[1];

	var _ref4 = _slicedToArray(_ref3, 2),
	    xVector = _ref4[0],
	    yVector = _ref4[1];

	var translateBaseToOrigin = _pointVectorMatrix.matrix.translation(0.0, 0.0, 0.5);

	var zVector = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var basisTransform = _pointVectorMatrix.matrix.basis(xVector, yVector, zVector);

	var translateToBaseCenter = _pointVectorMatrix.matrix.translation(baseCenter.x, baseCenter.y, baseCenter.z);

	var completeTransform = _pointVectorMatrix.matrix.multiply(translateToBaseCenter, _pointVectorMatrix.matrix.multiply(basisTransform, translateBaseToOrigin));
	//transform: move base to wanted base * apply basis * move base to origin

	return transformObjectPrimitive(boxPrimitive(1.0, 1.0, 1.0), completeTransform);
};
box.byCentersWidthHeight = function (_ref6, _ref7) {
	var _ref9 = _slicedToArray(_ref6, 2),
	    baseCenter = _ref9[0],
	    topCenter = _ref9[1];

	var _ref8 = _slicedToArray(_ref7, 2),
	    width = _ref8[0],
	    height = _ref8[1];

	function sphPhi(vec) {
		var x = vec.x,
		    y = vec.y;

		if (x == 0 && y == 0) {
			return 0;
		} else {
			return Math.atan2(y, x);
		}
	}

	var boxAxis = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var worldXAxis = _pointVectorMatrix.vector.byCylindrical(1, sphPhi(boxAxis) + Math.PI / 2, 0);
	var worldYAxis = _pointVectorMatrix.vector.normalized(_pointVectorMatrix.vector.cross(boxAxis, worldXAxis));
	//let worldZAxis = vector.normalized(boxAxis);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(baseCenter, _pointVectorMatrix.vector.scale(_pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter), 0.5));

	var transformation = _pointVectorMatrix.matrix.basis(worldXAxis, worldYAxis, boxAxis, midPoint);

	var box = boxPrimitive(width, height, 1.0);
	return transformObjectPrimitive(box, transformation);
};
box.byBottomWidthHeightZ = function (baseCenter, _ref10, z) {
	var _ref11 = _slicedToArray(_ref10, 2),
	    width = _ref11[0],
	    height = _ref11[1];

	var prim = boxPrimitive(width, height, z);
	var transform = _pointVectorMatrix.matrix.translation(baseCenter.x, baseCenter.y, baseCenter.z + z / 2.0);
	return transformObjectPrimitive(prim, transform);
};
box.byCorners = function (_ref12) {
	var _ref13 = _slicedToArray(_ref12, 2),
	    pt1 = _ref13[0],
	    pt2 = _ref13[1];

	var dimsVec = _pointVectorMatrix.point.sub(pt2, pt1);
	var box = boxPrimitive(Math.abs(dimsVec.x), Math.abs(dimsVec.y), Math.abs(dimsVec.z));
	var centerPt = _pointVectorMatrix.point.add(pt1, _pointVectorMatrix.vector.scale(dimsVec, 0.5));
	var transformation = _pointVectorMatrix.matrix.translation(centerPt.x, centerPt.y, centerPt.z);
	return transformObjectPrimitive(box, transformation);
};
box.byCornerXYZ = function (pt, _ref14) {
	var _ref15 = _slicedToArray(_ref14, 3),
	    x = _ref15[0],
	    y = _ref15[1],
	    z = _ref15[2];

	var p2 = _pointVectorMatrix.point.add(pt, _pointVectorMatrix.vector.byXYZ(x, y, z));
	return box.byCorners([pt, p2]);
};
registry.provide("box", box);

var sphere = {};
sphere.byRadius = function (radius) {
	return spherePrimitive(radius);
};
sphere.byCenterRadius = function (vec, radius) {
	var translation = _pointVectorMatrix.matrix.translation(vec.x, vec.y, vec.z);
	return transformObjectPrimitive(spherePrimitive(radius), translation);
};
registry.provide("sphere", sphere);

var cylinder = {};
cylinder.byRadiusHeight = function (radius, height) {
	return cylinderPrimitive(radius, height);
};
cylinder.byBottomRadiusHeight = function (bottom, radius, height) {
	var cylinder = cylinderPrimitive(radius, height);
	var transformation = _pointVectorMatrix.matrix.translation(bottom.x, bottom.y, bottom.z + height / 2.0);
	return transformObjectPrimitive(cylinder, transformation);
};
cylinder.byCentersRadius = function (_ref16, radius) {
	var _ref17 = _slicedToArray(_ref16, 2),
	    baseCenter = _ref17[0],
	    topCenter = _ref17[1];

	var cylinderAxis = _pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter);
	var worldZAxis = _pointVectorMatrix.vector.byXYZ(0.0, 0.0, 1.0);
	var orientAxisTransform = _pointVectorMatrix.matrix.alignFromAxisToAxis(worldZAxis, _pointVectorMatrix.vector.normalized(cylinderAxis));

	var worldOrigin = _pointVectorMatrix.point.byXYZ(0.0, 0.0, 0.0);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(baseCenter, _pointVectorMatrix.vector.scale(_pointVectorMatrix.point.pointMinusPoint(topCenter, baseCenter), 0.5));
	var translationVector = _pointVectorMatrix.point.pointMinusPoint(midPoint, worldOrigin);
	var translationTransform = _pointVectorMatrix.matrix.translation(translationVector.x, translationVector.y, translationVector.z);

	var transformation = _pointVectorMatrix.matrix.multiply(translationTransform, orientAxisTransform);
	var cylinder = cylinderPrimitive(radius, _pointVectorMatrix.vector.length(cylinderAxis));
	return transformObjectPrimitive(cylinder, transformation);
};
registry.provide("cylinder", cylinder);

var rectangle = {};
rectangle.surface = {};
rectangle.surface.byCornerWidthHeight = function (corner, _ref18) {
	var _ref19 = _slicedToArray(_ref18, 2),
	    width = _ref19[0],
	    height = _ref19[1];

	var rect = rectanglePrimitive(width, height);
	var transformation = _pointVectorMatrix.matrix.translation(width * 0.5 + corner.x, height * 0.5 + corner.y, corner.z);
	return transformObjectPrimitive(rect, transformation);
};
registry.provide("rectangle", rectangle);

var polygon = {};
polygon.surface = {};
polygon.surface.byVertices = function (vertices) {
	return polygonSurfacePrimitive(vertices);
};
registry.provide("polygon", polygon);

var extrusion = {};
extrusion.bySurfaceVector = function (surface, displacementVector) {
	return extrusionPrimitive(surface, displacementVector);
};
registry.provide("extrusion", extrusion);

var coneFrustum = {};
coneFrustum.byBottomRadiusTopRadius = function (bottom, botRadius, top, topRadius) {
	var bottomToTop = _pointVectorMatrix.vector.sub(top, bottom);
	var worldZAxis = _pointVectorMatrix.vector.byXYZ(0.0, 0.0, 1.0);
	var orientAxisTransform = _pointVectorMatrix.matrix.alignFromAxisToAxis(worldZAxis, _pointVectorMatrix.vector.normalized(bottomToTop));

	var worldOrigin = _pointVectorMatrix.point.byXYZ(0.0, 0.0, 0.0);
	var midPoint = _pointVectorMatrix.point.pointPlusVector(bottom, _pointVectorMatrix.vector.scale(bottomToTop, 0.5));
	var translationVector = _pointVectorMatrix.point.pointMinusPoint(midPoint, worldOrigin);
	var translationTransform = _pointVectorMatrix.matrix.translation(translationVector.x, translationVector.y, translationVector.z);

	var transformation = _pointVectorMatrix.matrix.multiply(translationTransform, orientAxisTransform);

	var height = _pointVectorMatrix.vector.length(bottomToTop);
	var frustum = coneFrustumPrimitive(botRadius, topRadius, height);

	return transformObjectPrimitive(frustum, transformation);
};
coneFrustum.byRadiusesHeight = function (botRadius, topRadius, height) {
	return coneFrustumPrimitive(botRadius, topRadius, height);
};
coneFrustum.byBottomTopRadiusesHeight = function (bottom, botRadius, topRadius, height) {
	var transformation = _pointVectorMatrix.matrix.translation(bottom.x, bottom.y, bottom.z + height * 0.5);
	return transformObjectPrimitive(coneFrustumPrimitive(botRadius, topRadius, height), transformation);
};
registry.provide("coneFrustum", coneFrustum);

//88888888888                                 .d888                                        
//    888                                    d88P"                                         
//    888                                    888                                           
//    888  888d888 8888b.  88888b.  .d8888b  888888 .d88b.  888d888 88888b.d88b.  .d8888b  
//    888  888P"      "88b 888 "88b 88K      888   d88""88b 888P"   888 "888 "88b 88K      
//    888  888    .d888888 888  888 "Y8888b. 888   888  888 888     888  888  888 "Y8888b. 
//    888  888    888  888 888  888      X88 888   Y88..88P 888     888  888  888      X88 
//    888  888    "Y888888 888  888  88888P' 888    "Y88P"  888     888  888  888  88888P' 
//
//
//

//TODO Make shapes objects that can have methods.
//TODO Consider whether to extend shape objects with methods to transform them.
/*
shape.scale.uniform(scale)
shape.mirror.byPlane
*/

//TODO Add transform to rotate from one axis to other axis.
//TODO Make transforms functions that can be applied to objects.
var transform = {};
transform.translation = {};
transform.translation.byVector = function (vector) {
	return _pointVectorMatrix.matrix.translation(vector.x, vector.y, vector.z);
};
transform.rotation = {};
transform.rotation.aroundAxisByAngle = function (axis, radians) {
	var axisOrig = axis.origin;
	var axisToWorldOriginMatrix = _pointVectorMatrix.matrix.translation(-axisOrig.x, -axisOrig.y, -axisOrig.z);
	var rotationMatrix = _pointVectorMatrix.matrix.rotation(axis.vector, radians);
	var repositionAxisMatrix = _pointVectorMatrix.matrix.translation(axisOrig.x, axisOrig.y, axisOrig.z);
	return _pointVectorMatrix.matrix.multiply(repositionAxisMatrix, _pointVectorMatrix.matrix.multiply(rotationMatrix, axisToWorldOriginMatrix));
};
transform.rotation.aroundAxisVectorByAngle = function (axisVector, radians) {
	var normalizedAxis = axisVector.clone().normalize();
	return _pointVectorMatrix.matrix.rotation(normalizedAxis, radians);
};
transform.rotation.aroundXByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byX(1.0), radians);
};
transform.rotation.aroundYByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byY(1.0), radians);
};
transform.rotation.aroundZByAngle = function (radians) {
	return _pointVectorMatrix.matrix.rotation(_pointVectorMatrix.vector.byZ(1.0), radians);
};
transform.scaling = {};
transform.scaling.byFactor = function (scaleFactor) {
	return _pointVectorMatrix.matrix.scaling(scaleFactor, scaleFactor, scaleFactor);
};
transform.compose = function (t1, t2) {
	return _pointVectorMatrix.matrix.multiply(t1, t2);
};
registry.provide("transform", transform);

function translateAux(object, vec) {
	return transformObjectPrimitive(object, transform.translation.byVector(vec));
}
var translate = function translate(object) {
	return {
		byVector: function byVector(vec) {
			return translateAux(object, vec);
		},
		byXYZ: function byXYZ(x, y, z) {
			return translateAux(object, _pointVectorMatrix.vector.byXYZ(x, y, z));
		},
		byX: function byX(x) {
			return translateAux(object, _pointVectorMatrix.vector.byX(x));
		},
		byY: function byY(y) {
			return translateAux(object, _pointVectorMatrix.vector.byY(y));
		},
		byZ: function byZ(z) {
			return translateAux(object, _pointVectorMatrix.vector.byZ(z));
		}
	};
};
translate.byVector = function (vec) {
	return _lodash2.default.partial(translateAux, _lodash2.default, vec);
};
translate.byXYZ = function (x, y, z) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byXYZ(x, y, z));
};
translate.byX = function (x) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byX(x));
};
translate.byY = function (y) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byY(y));
};
translate.byZ = function (z) {
	return _lodash2.default.partial(translateAux, _lodash2.default, _pointVectorMatrix.vector.byZ(z));
};
registry.provide("translate", translate);

var rotate = function rotate(object) {
	return {
		aroundAxisByAngle: function aroundAxisByAngle(axis, radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundAxisByAngle(axis, radians));
		},
		aroundAxisVectorByAngle: function aroundAxisVectorByAngle(axis, radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundAxisVectorByAngle(axis, radians));
		},
		aroundXByAngle: function aroundXByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundXByAngle(radians));
		},
		aroundYByAngle: function aroundYByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundYByAngle(radians));
		},
		aroundZByAngle: function aroundZByAngle(radians) {
			return transformObjectPrimitive(object, transform.rotation.aroundZByAngle(radians));
		},
		aligningAxes: function aligningAxes(fromAxis, toAxis) {
			return transformObjectPrimitive(object, _pointVectorMatrix.matrix.alignFromAxisToAxis(fromAxis.direction, toAxis.direction));
		}
	};
};
rotate.aroundAxisVectorByAngle = function (axis, radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundAxisVectorByAngle(axis, radians));
	};
};
rotate.aroundXByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundXByAngle(radians));
	};
};
rotate.aroundYByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundYByAngle(radians));
	};
};
rotate.aroundZByAngle = function (radians) {
	return function (object) {
		return transformObjectPrimitive(object, transform.rotation.aroundZByAngle(radians));
	};
};
rotate.aligningAxes = function (fromAxis, toAxis) {
	return function (object) {
		return transformObjectPrimitive(object, _pointVectorMatrix.matrix.alignFromAxisToAxis(fromAxis.direction, toAxis.direction));
	};
};
registry.provide("rotate", rotate);

//888b     d888 d8b                   
//8888b   d8888 Y8P                   
//88888b.d88888                       
//888Y88888P888 888 .d8888b   .d8888b 
//888 Y888P 888 888 88K      d88P"    
//888  Y8P  888 888 "Y8888b. 888      
//888   "   888 888      X88 Y88b.    
//888       888 888  88888P'  "Y8888P 
//
//
//


registry.provide("sequence", _sequence2.default);

registry.provide("random", _random2.default);

registry.provide("functional", _functional2.default);

registry.provide("math", _math2.default);

},{"./Predefs/functional.js":25,"./Predefs/math.js":26,"./Predefs/point-vector-matrix.js":27,"./Predefs/random.js":28,"./Predefs/sequence.js":29,"lodash":"lodash"}],36:[function(require,module,exports){
'use strict';

var _three = require('three');

var _three2 = _interopRequireDefault(_three);

var _primitives = require('./primitives.js');

var _makeMatrixTransformedObject3D = require('./makeMatrixTransformedObject3D.js');

var _makeMatrixTransformedObject3D2 = _interopRequireDefault(_makeMatrixTransformedObject3D);

var _defaultMaterials = require('./default-materials.js');

var _polygonSurface = require('./polygon-surface.js');

var _extrusion = require('./extrusion.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
	THREE representation generation code.
*/
function isRenderable(result) {
	return isPrimitive(result) || isArrayOfRenderables(result);
}

function isPrimitive(result) {
	return isSomething(result) && renderableFunctions[result[_primitives.PrimitiveProp]] !== undefined;
}

function isSomething(result) {
	return result !== undefined && result !== null;
}

function isArrayOfRenderables(result) {
	return Array.isArray(result) && result.every(isRenderable);
}

// The THREEObject generated for non-renderable results.
function nullThreeObj() {
	return new _three2.default.Object3D();
}

function resultToThree(result, callback) {
	var threeObj;
	if (isPrimitive(result)) {
		threeObj = renderableFunctions[result[_primitives.PrimitiveProp]](result, callback);
	} else if (Array.isArray(result)) {
		threeObj = arrayToThree(result, callback);
	} else {
		threeObj = nullThreeObj();
	}
	callback({ result: result, threeObj: threeObj });
	return threeObj;
}

function arrayToThree(array, callback) {
	var objs = array.map(function (r) {
		return resultToThree(r, callback);
	});
	var parent = new _three2.default.Object3D();
	if (objs.length !== 0) {
		parent.add.apply(parent, objs);
	}
	return parent;
}

var renderableFunctions = {
	sphere: sphere,
	cylinder: cylinder,
	box: box,
	rectangle: rectangle,
	transformObjectWith: transformObjectWith,
	polygonSurface: _polygonSurface.polygonSurface,
	extrusion: _extrusion.extrusion,
	coneFrustum: coneFrustum
};

// All geometries need to be rotated so that Z is their up axis.
// They are defined with Y as their up axis so they need to be rotated -pi/2 around X.
// This way Z becomes their up axis.
var yUpToZUpRotation = new _three2.default.Matrix4().makeRotationAxis(new _three2.default.Vector3(1.0, 0.0, 0.0), -Math.PI / 2.0);

var sphereGeom = new _three2.default.SphereGeometry(1, 32, 32);
sphereGeom.applyMatrix(yUpToZUpRotation);
function sphere(result, callback) {
	var radius = result.args.radius;
	var obj = new _three2.default.Mesh(sphereGeom, _defaultMaterials.solidMat);
	obj.scale.set(radius, radius, radius);
	return obj;
}
var cylinderGeom = new _three2.default.CylinderGeometry(1, 1, 1, 32);
cylinderGeom.applyMatrix(yUpToZUpRotation);
function cylinder(result, callback) {
	var radius = result.args.radius;
	var height = result.args.height;
	var obj = new _three2.default.Mesh(cylinderGeom, _defaultMaterials.solidMat);
	obj.scale.set(radius, radius, height);
	return obj;
}
var boxGeom = new _three2.default.BoxGeometry(1, 1, 1);
boxGeom.applyMatrix(yUpToZUpRotation);
function box(result, callback) {
	var width = result.args.width,
	    height = result.args.height,
	    depth = result.args.depth;
	var obj = new _three2.default.Mesh(boxGeom, _defaultMaterials.solidMat);
	obj.scale.set(width, height, depth);
	return obj;
}
var rectangleGeom = new _three2.default.PlaneGeometry(1, 1);
//rectangleGeom.applyMatrix(yUpToZUpRotation);
function rectangle(result, callback) {
	var width = result.args.width,
	    height = result.args.height;
	var obj = new _three2.default.Mesh(rectangleGeom, _defaultMaterials.surfaceMat);
	obj.scale.set(width, height, 1);
	return obj;
}
function transformObjectWith(result, callback) {
	var objToTransform = resultToThree(result.args.object, callback);
	var matrix = result.args.transform;
	var obj = (0, _makeMatrixTransformedObject3D2.default)(matrix);
	obj.add(objToTransform);
	return obj;
}
function coneFrustum(result, callback) {
	var _result$args = result.args,
	    bottomRadius = _result$args.bottomRadius,
	    topRadius = _result$args.topRadius,
	    height = _result$args.height;

	var geom = new _three2.default.CylinderGeometry(bottomRadius, topRadius, height, 32);
	var obj = new _three2.default.Mesh(geom, _defaultMaterials.solidMat);
	geom.applyMatrix(yUpToZUpRotation);
	return obj;
}

//
// 
//
function convertKeepingCorrespondence(resultsIterable) {

	var resultToTHREEObjects = new Map();
	var threeObjectToResult = new Map();
	function keepCorrespondence(_ref) {
		var result = _ref.result,
		    threeObj = _ref.threeObj;

		if (!resultToTHREEObjects.has(result)) {
			resultToTHREEObjects.set(result, []);
		}
		resultToTHREEObjects.get(result).push(threeObj);
		threeObjectToResult.set(threeObj, result);
	}

	var threeObjects = [];
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = resultsIterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var result = _step.value;

			var threeObj = resultToThree(result, keepCorrespondence);
			threeObjects.push(threeObj);
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return {
		threeObjects: threeObjects,
		resultToTHREEObjects: resultToTHREEObjects,
		threeObjectToResult: threeObjectToResult
	};
}

function convertNormally(resultsIterable) {
	var threeObjects = [];
	var _iteratorNormalCompletion2 = true;
	var _didIteratorError2 = false;
	var _iteratorError2 = undefined;

	try {
		for (var _iterator2 = resultsIterable[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
			var result = _step2.value;

			threeObjects.push(resultToThree(result, function (_ref2) {
				var result = _ref2.result,
				    threeObj = _ref2.threeObj;
			}));
		}
	} catch (err) {
		_didIteratorError2 = true;
		_iteratorError2 = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion2 && _iterator2.return) {
				_iterator2.return();
			}
		} finally {
			if (_didIteratorError2) {
				throw _iteratorError2;
			}
		}
	}

	return { threeObjects: threeObjects };
}

module.exports = {
	isRenderable: isRenderable,
	convert: {
		keepingCorrespondence: convertKeepingCorrespondence,
		normally: convertNormally
	}
};

},{"./default-materials.js":31,"./extrusion.js":32,"./makeMatrixTransformedObject3D.js":33,"./polygon-surface.js":34,"./primitives.js":35,"three":"three"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CurrentProgramEditor = undefined;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _generic = require('../ReactComponents/generic.jsx');

var _SuperEditor = require('../ReactComponents/SuperEditor.jsx');

var _SuperEditor2 = _interopRequireDefault(_SuperEditor);

var _actionsReducers = require('./actions-reducers.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ProgramName = function ProgramName(_ref) {
  var name = _ref.name;
  return _react2.default.createElement(
    _generic.HorizontalBar,
    null,
    _react2.default.createElement(
      'h1',
      null,
      name
    )
  );
};

var ProgramNameContainer = (0, _reactRedux.connect)(function (state) {
  return { name: state.activeProgram.name };
})(ProgramName);

var SuperEditorContainer = (0, _reactRedux.connect)(function (state) {
  return {
    program: state.activeProgram.program
  };
}, function (dispatch) {
  return {
    onProgramChange: function onProgramChange(program) {
      return dispatch((0, _actionsReducers.changeProgram)(program));
    }
  };
})(_SuperEditor2.default);

var CurrentProgramEditor = exports.CurrentProgramEditor = function CurrentProgramEditor() {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'div',
      { style: {} },
      _react2.default.createElement(ProgramNameContainer, null)
    ),
    _react2.default.createElement(
      'div',
      { style: { width: '100%', height: 'calc(100% - 3em)' } },
      _react2.default.createElement(SuperEditorContainer, null)
    )
  );
};

exports.default = CurrentProgramEditor;

},{"../ReactComponents/SuperEditor.jsx":8,"../ReactComponents/generic.jsx":11,"./actions-reducers.js":39,"react":"react","react-redux":"react-redux"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _components = require('./components.jsx');

var _components2 = _interopRequireDefault(_components);

var _CurrentProgramEditor = require('./CurrentProgramEditor.jsx');

var _CurrentProgramEditor2 = _interopRequireDefault(_CurrentProgramEditor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EditorPage = function EditorPage() {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'div',
      { style: {
          position: 'absolute',
          width: '80px',
          height: '100%',
          zIndex: '2' } },
      _react2.default.createElement(_components2.default, null)
    ),
    _react2.default.createElement(
      'div',
      { style: {
          position: 'absolute',
          left: '80px',
          width: 'calc(100% - 80px)',
          height: '100%',
          zIndex: '1' } },
      _react2.default.createElement(_CurrentProgramEditor2.default, null)
    )
  );
};

exports.default = EditorPage;

},{"./CurrentProgramEditor.jsx":37,"./components.jsx":41,"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setExportCads = setExportCads;
exports.doExportToCads = doExportToCads;
exports.doClearCads = doClearCads;
exports.createProgram = createProgram;
exports.selectProgram = selectProgram;
exports.changeProgram = changeProgram;

var _redux = require('redux');

var _time = require('../utils/time.js');

var _time2 = _interopRequireDefault(_time);

var _examples = require('../example-programs/examples.js');

var _runInCad = require('../Runner/run-in-cad.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var nullProgram = { name: 'untitled', program: '' };

// .d8888b.           888                   888                             
//d88P  Y88b          888                   888                             
//Y88b.               888                   888                             
// "Y888b.    .d88b.  888  .d88b.   .d8888b 888888 .d88b.  888d888 .d8888b  
//    "Y88b. d8P  Y8b 888 d8P  Y8b d88P"    888   d88""88b 888P"   88K      
//      "888 88888888 888 88888888 888      888   888  888 888     "Y8888b. 
//Y88b  d88P Y8b.     888 Y8b.     Y88b.    Y88b. Y88..88P 888          X88 
// "Y8888P"   "Y8888  888  "Y8888   "Y8888P  "Y888 "Y88P"  888      88888P' 
//                                                                          
//                                                                          
//                                                                          
function activeCads(state) {
  return state.exportCads;
}

//8888888888                                    888    
//888                                           888    
//888                                           888    
//8888888    888  888 88888b.   .d88b.  888d888 888888 
//888        `Y8bd8P' 888 "88b d88""88b 888P"   888    
//888          X88K   888  888 888  888 888     888    
//888        .d8""8b. 888 d88P Y88..88P 888     Y88b.  
//8888888888 888  888 88888P"   "Y88P"  888      "Y888 
//                    888                              
//                    888                              
//                    888                              

/**
  Actions
 */
var SET_EXPORT_CADS = 'SET_EXPORT_CADS';
var EXPORT_TO_CADS = 'EXPORT_TO_CADS';
var CLEAR_EXPORT_CADS = 'CLEAR_EXPORT_CADS';

var EXPORT_DONE = 'EXPORT_DONE'; // Not following the imperative mood...
var EXPORT_FAILED = 'EXPORT_FAILED';

/**
  Action creators
 */
function setExportCads(exportCads) {
  return {
    type: SET_EXPORT_CADS,
    exportCads: exportCads
  };
}

function exportToCads() {
  return {
    type: EXPORT_TO_CADS
  };
}

function clearCads() {
  return {
    type: CLEAR_EXPORT_CADS
  };
}

function doExportToCads() {
  return function (dispatch, getState) {
    dispatch(exportToCads());
    setTimeout(function () {
      try {
        (0, _runInCad.selectCads)(getState().exportCads);
        (0, _time2.default)("CAD export", function () {
          return (0, _runInCad.runInCad)(getState().activeProgram.program);
        });
        dispatch({
          type: EXPORT_DONE
        });
      } catch (e) {
        dispatch({
          type: EXPORT_FAILED,
          error: e
        });
      }
    }, 0);
  };
}

function doClearCads() {
  return function (dispatch, getState) {
    dispatch(clearCads());
    setTimeout(function () {
      try {
        (0, _runInCad.selectCads)(getState().exportCads);
        (0, _runInCad.clearCad)();
        dispatch({
          type: EXPORT_DONE
        });
      } catch (e) {
        dispatch({
          type: EXPORT_FAILED,
          error: e
        });
      }
    }, 0);
  };
}

/**
 Reducers 
 */
function availableCads() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['autocad', 'sketchup'];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    default:
      return state;
  }
}

function exportCads() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case SET_EXPORT_CADS:
      return action.exportCads;
    default:
      return state;
  }
}

function exportingToCAD() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case EXPORT_TO_CADS:
    case CLEAR_EXPORT_CADS:
      return true;
    case EXPORT_DONE:
    case EXPORT_FAILED:
      return false;
    default:
      return state;
  }
}

//8888888b.                                                                  
//888   Y88b                                                                 
//888    888                                                                 
//888   d88P 888d888 .d88b.   .d88b.  888d888 8888b.  88888b.d88b.  .d8888b  
//8888888P"  888P"  d88""88b d88P"88b 888P"      "88b 888 "888 "88b 88K      
//888        888    888  888 888  888 888    .d888888 888  888  888 "Y8888b. 
//888        888    Y88..88P Y88b 888 888    888  888 888  888  888      X88 
//888        888     "Y88P"   "Y88888 888    "Y888888 888  888  888  88888P' 
//                                888                                        
//                           Y8b d88P                                        
//                            "Y88P"                                         

/**
  Program management logic module.
 */

/**
  Actions
 */
var CREATE_PROGRAM = 'CREATE_PROGRAM';
var SAVE_PROGRAM = 'SAVE_PROGRAM';

var SELECT_PROGRAM = 'SELECT_PROGRAM'; // Change the active program
var CHANGE_PROGRAM = 'CHANGE_PROGRAM'; // Make a change to the program's source code

/**
  Action creators
 */
function createProgram(name) {
  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  return {
    type: CREATE_PROGRAM,
    name: name,
    source: source
  };
}

function selectProgram(name, program) {
  return {
    type: SELECT_PROGRAM,
    name: name,
    program: program
  };
}

function changeProgram(program) {
  return {
    type: CHANGE_PROGRAM,
    program: program
  };
}

/**
 Reducers 
 */
function programs() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _examples.examples;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    // Do program storage stuff.
    case CREATE_PROGRAM:
      return [{ name: action.name, program: action.source }].concat(_toConsumableArray(_examples.examples));
    case SAVE_PROGRAM:
      return [{ name: action.name, program: action.program }].concat(_toConsumableArray(state.filter(function (_ref) {
        var name = _ref.name;
        return name !== action.name;
      })));
    default:
      return state;
  }
}

function activeProgram() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : nullProgram;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    case SELECT_PROGRAM:
      return {
        name: action.name,
        program: action.program
      };
    case CHANGE_PROGRAM:
      return {
        name: state.name,
        program: action.program
      };
    default:
      return state;
  }
}

//8888888888     888 d8b 888                    
//888            888 Y8P 888                    
//888            888     888                    
//8888888    .d88888 888 888888 .d88b.  888d888 
//888       d88" 888 888 888   d88""88b 888P"   
//888       888  888 888 888   888  888 888     
//888       Y88b 888 888 Y88b. Y88..88P 888     
//8888888888 "Y88888 888  "Y888 "Y88P"  888     
//                                              
//                                              
//                                              

/**
 Program editing logic.
 */

var REQUEST_PROGRAM_RUN = 'REQUEST_PROGRAM_RUN';
var PROGRAM_RUN_SUCCESS = 'PROGRAM_RUN_SUCCESS';
var PROGRAM_RUN_ERROR = 'PROGRAM_RUN_ERROR';
var PROGRAM_RUN_TIMEOUT = 'PROGRAM_RUN_TIMEOUT';

function runningStatus() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'idle';
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {
    // 
    default:
      return state;
  }
}

function activeProgramResults() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  switch (action.type) {

    default:
      return state;
  }
}

// .d8888b.                         888      8888888b.               888          
//d88P  Y88b                        888      888   Y88b              888          
//888    888                        888      888    888              888          
//888         .d88b.  88888b.d88b.  88888b.  888   d88P .d88b.   .d88888 888  888 
//888        d88""88b 888 "888 "88b 888 "88b 8888888P" d8P  Y8b d88" 888 888  888 
//888    888 888  888 888  888  888 888  888 888 T88b  88888888 888  888 888  888 
//Y88b  d88P Y88..88P 888  888  888 888 d88P 888  T88b Y8b.     Y88b 888 Y88b 888 
// "Y8888P"   "Y88P"  888  888  888 88888P"  888   T88b "Y8888   "Y88888  "Y88888 
//                                                                                
//                                                                                
//                                                                                

exports.default = (0, _redux.combineReducers)({
  availableCads: availableCads,
  exportCads: exportCads,
  exportingToCAD: exportingToCAD,
  programs: programs,
  activeProgram: activeProgram,
  activeProgramResults: activeProgramResults,
  runningStatus: runningStatus
});

},{"../Runner/run-in-cad.js":21,"../example-programs/examples.js":42,"../utils/time.js":44,"redux":"redux"}],40:[function(require,module,exports){
'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _redux = require('redux');

var _reactRedux = require('react-redux');

var _reduxThunk = require('redux-thunk');

var _reduxThunk2 = _interopRequireDefault(_reduxThunk);

var _reduxLogger = require('redux-logger');

var _reduxLogger2 = _interopRequireDefault(_reduxLogger);

var _actionsReducers = require('./actions-reducers.js');

var _actionsReducers2 = _interopRequireDefault(_actionsReducers);

var _EditorPage = require('./EditorPage.jsx');

var _EditorPage2 = _interopRequireDefault(_EditorPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var loggerMiddleware = (0, _reduxLogger2.default)();

var store = (0, _redux.createStore)(_actionsReducers2.default, (0, _redux.applyMiddleware)(_reduxThunk2.default, loggerMiddleware));

(0, _reactDom.render)(_react2.default.createElement(
  _reactRedux.Provider,
  { store: store },
  _react2.default.createElement(_EditorPage2.default, null)
), document.getElementById('container'));

},{"./EditorPage.jsx":38,"./actions-reducers.js":39,"react":"react","react-dom":"react-dom","react-redux":"react-redux","redux":"redux","redux-logger":"redux-logger","redux-thunk":"redux-thunk"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _reactSelect = require('react-select');

var _reactSelect2 = _interopRequireDefault(_reactSelect);

var _generic = require('../ReactComponents/generic.jsx');

var _actionsReducers = require('./actions-reducers.js');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

//8888888b.                                                          .d8888b.           888 
//888   Y88b                                                        d88P  Y88b          888 
//888    888                                                        Y88b.               888 
//888   d88P 888d888 .d88b.   .d88b.  888d888 8888b.  88888b.d88b.   "Y888b.    .d88b.  888 
//8888888P"  888P"  d88""88b d88P"88b 888P"      "88b 888 "888 "88b     "Y88b. d8P  Y8b 888 
//888        888    888  888 888  888 888    .d888888 888  888  888       "888 88888888 888 
//888        888    Y88..88P Y88b 888 888    888  888 888  888  888 Y88b  d88P Y8b.     888 
//888        888     "Y88P"   "Y88888 888    "Y888888 888  888  888  "Y8888P"   "Y8888  888 
//                                888                                                       
//                           Y8b d88P                                                       
//                            "Y88P"                                                        


var ProgramSelectionItem = function ProgramSelectionItem(_ref) {
  var program = _ref.program,
      onClick = _ref.onClick;
  return _react2.default.createElement(
    'p',
    { onClick: onClick },
    program.name
  );
};

var ProgramSelectionPanel = function ProgramSelectionPanel(_ref2) {
  var programs = _ref2.programs,
      onProgramClick = _ref2.onProgramClick;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'h3',
      null,
      'All Programs'
    ),
    programs.map(function (program) {
      return _react2.default.createElement(ProgramSelectionItem, {
        key: program.name,
        program: program,
        onClick: function onClick() {
          return onProgramClick(program);
        } });
    }),
    _react2.default.createElement(
      'h3',
      null,
      'Search'
    ),
    _react2.default.createElement(
      'h3',
      null,
      'Recent'
    ),
    _react2.default.createElement(
      'h3',
      null,
      'Examples'
    )
  );
};

var ProgramSelectionContainer = (0, _reactRedux.connect)(function (state) {
  return { programs: state.programs };
}, function (dispatch) {
  return { onProgramClick: function onProgramClick(program) {
      return dispatch((0, _actionsReducers.selectProgram)(program.name, program.program));
    } };
})(ProgramSelectionPanel);

// .d8888b.        d8888 8888888b.   .d8888b.           888 
//d88P  Y88b      d88888 888  "Y88b d88P  Y88b          888 
//888    888     d88P888 888    888 Y88b.               888 
//888           d88P 888 888    888  "Y888b.    .d88b.  888 
//888          d88P  888 888    888     "Y88b. d8P  Y8b 888 
//888    888  d88P   888 888    888       "888 88888888 888 
//Y88b  d88P d8888888888 888  .d88P Y88b  d88P Y8b.     888 
// "Y8888P" d88P     888 8888888P"   "Y8888P"   "Y8888  888 
//                                                          
//                                                          
//                                                          

var ActiveCadsSelector = function ActiveCadsSelector(_ref3) {
  var availableCads = _ref3.availableCads,
      activeCads = _ref3.activeCads,
      onActiveCadsChange = _ref3.onActiveCadsChange;
  return _react2.default.createElement(_reactSelect2.default, {
    multi: true,
    options: availableCads.map(function (cadName) {
      return { label: cadName, value: cadName };
    }),
    value: activeCads,
    onChange: function onChange(vals) {
      return onActiveCadsChange(vals ? vals.map(function (_ref4) {
        var value = _ref4.value;
        return value;
      }) : []);
    },
    placeholder: 'destination CADs'
  });
};

var RunInCadPanel = function RunInCadPanel(_ref5) {
  var availableCads = _ref5.availableCads,
      activeCads = _ref5.activeCads,
      onActiveCadsChange = _ref5.onActiveCadsChange,
      onRunInCadClicked = _ref5.onRunInCadClicked,
      onClearCadClicked = _ref5.onClearCadClicked;
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'h3',
      null,
      'Export to CAD'
    ),
    _react2.default.createElement(ActiveCadsSelector, {
      activeCads: activeCads,
      availableCads: availableCads,
      onActiveCadsChange: onActiveCadsChange }),
    _react2.default.createElement(
      'button',
      { onClick: onRunInCadClicked },
      'Run in CAD'
    ),
    _react2.default.createElement(
      'button',
      { onClick: onClearCadClicked },
      'Clear CAD'
    )
  );
};

var RunInCadContainer = (0, _reactRedux.connect)(function (state) {
  return {
    availableCads: state.availableCads,
    activeCads: state.exportCads
  };
}, function (dispatch) {
  return {
    onActiveCadsChange: function onActiveCadsChange(activeCads) {
      return dispatch((0, _actionsReducers.setExportCads)(activeCads));
    },
    onRunInCadClicked: function onRunInCadClicked() {
      return dispatch((0, _actionsReducers.doExportToCads)());
    },
    onClearCadClicked: function onClearCadClicked() {
      return dispatch((0, _actionsReducers.doClearCads)());
    }
  };
})(RunInCadPanel);

// .d8888b.  d8b      888          8888888b.                            888 
//d88P  Y88b Y8P      888          888   Y88b                           888 
//Y88b.               888          888    888                           888 
// "Y888b.   888  .d88888  .d88b.  888   d88P 8888b.  88888b.   .d88b.  888 
//    "Y88b. 888 d88" 888 d8P  Y8b 8888888P"     "88b 888 "88b d8P  Y8b 888 
//      "888 888 888  888 88888888 888       .d888888 888  888 88888888 888 
//Y88b  d88P 888 Y88b 888 Y8b.     888       888  888 888  888 Y8b.     888 
// "Y8888P"  888  "Y88888  "Y8888  888       "Y888888 888  888  "Y8888  888 
//                                                                          
//                                                                          
//                                                                          

var topBarHeight = '80px';
var programSelectionIcon = 'icons/program-selection.svg';
var runInCadIcon = 'icons/run-in-cad.svg';

var SidePanel = function SidePanel(_ref6) {
  var onProgramSelectionIconClicked = _ref6.onProgramSelectionIconClicked,
      onRunInCadIconClicked = _ref6.onRunInCadIconClicked;
  return _react2.default.createElement(
    _generic.VerticalIconBar,
    null,
    _react2.default.createElement(_generic.Spacer, { width: '100%', height: topBarHeight }),
    _react2.default.createElement(_generic.IconButton, { icon: programSelectionIcon, onClick: onProgramSelectionIconClicked }),
    _react2.default.createElement(_generic.IconButton, { icon: runInCadIcon, onClick: onRunInCadIconClicked })
  );
};

var SidePanelDrawers = function SidePanelDrawers(_ref7) {
  var activePanel = _ref7.activePanel;
  return _react2.default.createElement(
    'div',
    { className: 'drawer-container' },
    _react2.default.createElement(
      _generic.Drawer,
      { open: activePanel === 'programSelection' },
      _react2.default.createElement(ProgramSelectionContainer, null)
    ),
    _react2.default.createElement(
      _generic.Drawer,
      { open: activePanel === 'runInCad' },
      _react2.default.createElement(RunInCadContainer, null)
    )
  );
};

var SidePanels = function (_React$Component) {
  _inherits(SidePanels, _React$Component);

  function SidePanels(props) {
    _classCallCheck(this, SidePanels);

    var _this = _possibleConstructorReturn(this, (SidePanels.__proto__ || Object.getPrototypeOf(SidePanels)).call(this, props));

    _this.state = {
      activePanel: null
    };
    return _this;
  }

  _createClass(SidePanels, [{
    key: 'toggleOrMakeActive',
    value: function toggleOrMakeActive(panel) {
      var activePanel = this.state.activePanel;

      this.setState({
        activePanel: activePanel === panel ? null : panel
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var activePanel = this.state.activePanel;

      var activateProgSelectPanel = function activateProgSelectPanel() {
        return _this2.toggleOrMakeActive('programSelection');
      };
      var activateRunInCadPanel = function activateRunInCadPanel() {
        return _this2.toggleOrMakeActive('runInCad');
      };
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(SidePanel, {
          onProgramSelectionIconClicked: activateProgSelectPanel,
          onRunInCadIconClicked: activateRunInCadPanel }),
        _react2.default.createElement(SidePanelDrawers, { activePanel: activePanel })
      );
    }
  }]);

  return SidePanels;
}(_react2.default.Component);

exports.default = SidePanels;

},{"../ReactComponents/generic.jsx":11,"./actions-reducers.js":39,"react":"react","react-redux":"react-redux","react-select":"react-select"}],42:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();



var exampleData = [["atomium.js", "\r\n\r\nconst {map, zip, concat, repeatTimes, rotateLeft} = sequence;\r\nconst xyz = point.byXYZ;\r\n\r\nfunction atomiumSpheres(cs, r) {\r\n\treturn map(c => sphere.byCenterRadius(c, r), cs);\r\n}\r\n\r\nfunction atomiumTubes(c0, upCs, downCs, r) {\r\n\treturn [\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(upCs, rotateLeft(upCs, 1))),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(downCs, rotateLeft(downCs, 1))),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(upCs, downCs)),\r\n\t\tmap(([p1,p2]) => atomiumTube(p1, p2, r),\r\n\t\t\tzip(repeatTimes(c0, 8), concat(upCs, downCs)))\r\n\t];\r\n}\r\n\r\nfunction atomiumTube(p1, p2, r) {\r\n\treturn cylinder.byCentersRadius([p1, p2], r);\r\n}\r\n\r\nfunction atomiumFrame(sphereR, frameW, tubeR) {\r\n\tlet c0 = xyz(0,0,0),\r\n\t\tc1 = xyz(-frameW, -frameW, +frameW),\r\n\t\tc2 = xyz(+frameW, -frameW, +frameW),\r\n\t\tc3 = xyz(+frameW, +frameW, +frameW),\r\n\t\tc4 = xyz(-frameW, +frameW, +frameW),\r\n\t\tc5 = xyz(-frameW, -frameW, -frameW),\r\n\t\tc6 = xyz(+frameW, -frameW, -frameW),\r\n\t\tc7 = xyz(+frameW, +frameW, -frameW),\r\n\t\tc8 = xyz(-frameW, +frameW, -frameW);\r\n\treturn [\r\n\t\tatomiumSpheres([c0,c1,c2,c3,c4,c5,c6,c7,c8], sphereR),\r\n\t\tatomiumTubes(c0, [c1,c2,c3,c4], [c5,c6,c7,c8], tubeR)\r\n\t];\r\n}\r\n\r\nfunction atomium(sphereR, frameW, tubeR) {\r\n\treturn rotate(atomiumFrame(sphereR, frameW, tubeR))\r\n\t\t.aligningAxes(axis.z, axis.xyz);\r\n}\r\n\r\natomium(9, 32, 1.5);\r\n\r\n"], ["edificio_carmo.js", "\r\nconst {map, cartesianProduct, division} = sequence;\r\n\r\nconst buildingLength = 90.600,\r\n  buildingWidth = 33.600,\r\n  buildingHeight = 13.500,\r\n  buildingFloors = 4,\r\n  slabHeight = 0.500,\r\n  columnWidth = 0.600,\r\n  barThickness = 0.200;\r\n\r\nfunction floorPlans() {\r\n  let slab = translate(\r\n    box.byWidthHeightDepth(buildingLength, buildingWidth, slabHeight)\r\n  ).byZ(slabHeight*0.5);\r\n  return map(translate(slab).byZ,\r\n    division(0, buildingHeight, buildingFloors));\r\n}\r\n\r\nfloorPlans();\r\n\r\nfunction columns(n, m) {\r\n  let column = translate(\r\n    box.byWidthHeightDepth(columnWidth, columnWidth, buildingHeight))\r\n    .byZ(buildingHeight*0.5);\r\n  let cols = map(\r\n    ([x,y])=>translate(column).byXYZ(x, y, 0),\r\n    cartesianProduct(\r\n      division(0, buildingLength - columnWidth, n),\r\n      division(0, buildingWidth - columnWidth, m)));\r\n  return translate(cols)\r\n    .byXYZ(\r\n      -(buildingLength - columnWidth)*0.5,\r\n      -(buildingWidth - columnWidth)*0.5,\r\n      0);\r\n}\r\n\r\ncolumns(11, 6);\r\n\r\nfunction facade(length, height, n, m) {\r\n  let elementLength = length/n,\r\n    elementHeight = height/m;\r\n  return map(\r\n    ([r, z])=>\r\n        translate(\r\n          facadeElement(elementLength, elementHeight,\r\n            2.000 + (1.000*Math.cos((z*(1.0/height)*2*Math.PI) + (r*(1.0/length)*4*Math.PI))))\r\n        ).byXYZ(r, 0, z + elementHeight/2.0),\r\n    cartesianProduct(\r\n      division(0, length - elementLength, n),\r\n      division(0, height - elementHeight, m)));\r\n}\r\n\r\nfunction facadeElement(width, height, dist) {\r\n  let e = height/2.0;\r\n  let p = point.byXYZ(0,0,0);\r\n  let b1, b2;\r\n  {\r\n    let p0 = p,\r\n      p1 = point.add(p, vector.byXYZ(width/2.0, -dist, 0));\r\n    let v = vector.normalized(point.sub(p1, p0));\r\n    let pa = point.add(p0, vector.scale(v, -e/2)),\r\n      pb = point.add(p1, vector.scale(v, e/2));\r\n    b1 = box.byCentersWidthHeight([pa, pb], [e, e]);\r\n  }\r\n  {\r\n    let p0 = point.add(p, vector.byXYZ(width, 0, e)),\r\n      p1 = point.add(p, vector.byXYZ(width/2.0, -dist, e));\r\n    let v = vector.normalized(point.sub(p1, p0));\r\n    let pa = point.add(p0, vector.scale(v, -e/2)),\r\n      pb = point.add(p1, vector.scale(v, e/2));\r\n    b2 = box.byCentersWidthHeight([pa, pb], [e, e]);\r\n  }\r\n  return [b1, b2];\r\n}\r\n\r\nfunction facades(length, width, height, n0, n1, m) {\r\n  function rotateMove(obj, vec, angle) {\r\n    return translate(rotate(obj).aroundZByAngle(angle)).byVector(vec);\r\n  }\r\n  return [\r\n    rotateMove(\r\n      facade(length, height, n0, m),\r\n      vector.byXYZ(-length/2, -width/2, 0),\r\n      0),\r\n    rotateMove(\r\n      facade(width, height, n1, m),\r\n      vector.byXYZ(length/2, -width/2, 0),\r\n      Math.PI/2),\r\n    rotateMove(\r\n      facade(length, height, n0, m),\r\n      vector.byXYZ(length/2, width/2, 0),\r\n      Math.PI),\r\n    rotateMove(\r\n      facade(width, height, n1, m),\r\n      vector.byXYZ(-length/2, width/2, 0),\r\n      3*Math.PI/2)\r\n  ];\r\n}\r\n\r\nfacades(buildingLength, buildingWidth, buildingHeight, 50, 20, 40);\r\n"], ["ex6_trelica_mobius.js", "\r\nconst {\r\n  map, reduce, zip, intervalDivision, \r\n  drop, dropRight, concat, interleave } = sequence;\r\n\r\nconst mapInInterval = (fn, a, b, n) =>\r\n  map(fn, intervalDivision(a, b, n));\r\nconst enumerateN = mapInInterval;\r\nconst enumerateMN = function(fn, u1, u2, m, v1, v2, n) {\r\n  return enumerateN((u) =>\r\n    enumerateN((v) => fn(u, v), v1, v2, n),\r\n    u1, u2, m);\r\n};\r\nconst distance = (p1, p2) => vector.length(point.pointMinusPoint(p2, p1));\r\n\r\n\r\n\r\nfunction trussKnots(pts, radius) {\r\n  return map((pt) => sphere.byCenterRadius(pt, radius), pts);\r\n}\r\n\r\nfunction trussBars(ps, qs, radius) {\r\n  return map(([p, q]) => cylinder.byCentersRadius([p, q], radius), zip(ps, qs));\r\n}\r\n\r\nfunction spatialTruss(curves, knotRadius, barRadius) {\r\n  let as = curves[0];\r\n  let bs = curves[1];\r\n  let cs = curves[2];\r\n\r\n  return [\r\n    trussKnots(as, knotRadius),\r\n    trussKnots(bs, knotRadius),\r\n    trussBars(as, cs, barRadius),\r\n    trussBars(bs, dropRight(as, 1), barRadius),\r\n    trussBars(bs, dropRight(cs, 1), barRadius),\r\n    trussBars(bs, drop(as, 1), barRadius),\r\n    trussBars(bs, drop(cs, 1), barRadius),\r\n    trussBars(drop(as, 1), dropRight(as, 1), barRadius),\r\n    trussBars(drop(bs, 1), dropRight(bs, 1), barRadius),\r\n    curves.length === 3 ?\r\n      [\r\n        trussKnots(cs, knotRadius),\r\n        trussBars(drop(cs, 1), dropRight(cs, 1), barRadius)\r\n      ]\r\n      : [\r\n        trussBars(bs, curves[3], barRadius),\r\n        spatialTruss(drop(curves, 2), knotRadius, barRadius)\r\n      ]\r\n  ];\r\n}\r\n\r\n\r\n\r\nfunction crossProducts(vecs) {\r\n  let crosses = map(([v1, v2]) => vector.cross(v1, v2),\r\n    zip(vecs, drop(vecs, 1)));\r\n  return reduce((vec, prev) => vector.add(vec, prev),\r\n    crosses, vector.byXYZ(0, 0, 0));\r\n}\r\n\r\nfunction polygonNormal(pts) {\r\n  let loopedPts = concat(pts, [pts[0]]);\r\n  let sideVecs = map(([p1, p2]) => point.pointMinusPoint(p2, p1),\r\n    zip(loopedPts, drop(loopedPts, 1)));\r\n  return vector.scale(\r\n    vector.normalized(\r\n      crossProducts(sideVecs)),\r\n    -1);\r\n}\r\n\r\nfunction midCoord(c1, c2) {\r\n  // This is an hack since c1 and c2 should be points.\r\n  // The result of vector.add will be (x,y,z,2) which is invalid.\r\n  // On top of computing the middle coordinates, vector.scale also corrects the invalid value.\r\n  return vector.scale(vector.add(c1, c2), 0.5);\r\n}\r\n\r\nfunction quadCenter(c1, c2, c3, c4) {\r\n  return midCoord(midCoord(c1, c2), midCoord(c3, c4));\r\n}\r\n\r\nfunction quadNormal(c1, c2, c3, c4) {\r\n  return polygonNormal([c1, c2, c3, c4]);\r\n}\r\n\r\nfunction quadPyramidApex(c1, c2, c3, c4) {\r\n  let h = (distance(c1, c2) + distance(c2, c3)\r\n    + distance(c3, c4) + distance(c4, c1))/(4*Math.sqrt(2));\r\n  return vector.add(\r\n    quadCenter(c1, c2, c3, c4),\r\n    vector.scale(quadNormal(c1, c2, c3, c4), h));\r\n}\r\n\r\nfunction insertPyramidApex2Curves(cs1, cs2) {\r\n  let pts1 = cs1,\r\n    pts2 = cs2,\r\n    pts3 = drop(cs2, 1),\r\n    pts4 = drop(cs1, 1);\r\n  return map(\r\n    ([p1, p2, p3, p4]) => quadPyramidApex(p1, p2, p3, p4),\r\n    zip(pts1, pts2, pts3, pts4));\r\n\r\n  /*\r\n  let res = [];\r\n  for (let baseIndex=0; baseIndex < cs1.length - 1; baseIndex += 1) {\r\n    res.push(\r\n      quadPyramidApex(\r\n          cs1[baseIndex],\r\n          cs2[baseIndex],\r\n          cs2[baseIndex+1],\r\n          cs1[baseIndex+1]));\r\n  }\r\n  return res;\r\n  */\r\n}\r\n\r\nfunction insertPyramidApexCurves(curves) {\r\n  let css1 = curves,\r\n    css2 = drop(curves, 1);\r\n  let apexess = map(\r\n    ([cs1, cs2]) => insertPyramidApex2Curves(cs1, cs2),\r\n    zip(css1, css2));\r\n  return interleave(css1, apexess);\r\n}\r\n\r\nfunction spatialTrussInsertApex(cs) {\r\n  let c1 = (cs[0])[0];\r\n  let c2 = (cs[1])[0];\r\n  let c4 = (cs[0])[1];\r\n\r\n  let d = Math.min(distance(c1, c2), distance(c1, c4));\r\n\r\n  let knotRadius = d/5;\r\n  let barRadius = d/15;\r\n\r\n  return spatialTruss(insertPyramidApexCurves(cs), knotRadius, barRadius);\r\n}\r\n\r\n\r\nconst cylindrical = vector.byCylindrical;\r\n\r\nfunction moebiusCs(r, u1, u2, m, v1, v2, n) {\r\n  return enumerateMN(function(u, v) {\r\n    return cylindrical(\r\n      r*(1 + (v*Math.cos(u/2))),//radius\r\n      u,//angle\r\n      r*(v*Math.sin(u/2)));//z\r\n  }, u1, u2, m, v1, v2, n);\r\n}\r\n\r\nfunction moebiusTruss(r, u1, u2, m, v1, v2, n) {\r\n  return spatialTrussInsertApex(moebiusCs(r, u1, u2, m, v1, v2, n));\r\n}\r\n\r\nmoebiusTruss(10, 0, Math.PI*4, 160, 0, 0.3, 10);\r\n\r\n\r\n\r\n\r\n\r\nconst add = vector.add;\r\nconst xyz = vector.byXYZ;\r\nconst spherical = vector.bySpherical;\r\nconst polar = vector.byPolar;\r\n\r\nfunction arcCs(p, r, phi, psi0, psi1, n) {\r\n  return map(psi => add(p, spherical(r, phi, psi)),\r\n    intervalDivision(psi0, psi1, n));\r\n}\r\n\r\nfunction arcTrussCs(p, apexR, baseR, phi, psi0, psi1, e, n) {\r\n  let dpsi = (psi1 - psi0)/n;\r\n  return [\r\n    arcCs(add(p, polar(e/2, phi + Math.PI/2)), apexR, phi, psi0, psi1, n),//base arc\r\n    arcCs(p, baseR, phi, psi0 + dpsi/2, psi1 - dpsi/2, n-1),//apex arc\r\n    arcCs(add(p, polar(e/2, phi - Math.PI/2)), apexR, phi, psi0, psi1, n)//base arc\r\n  ];\r\n}\r\n\r\nfunction arcTruss(p, apexR, baseR, phi, psi0, psi1, e, n) {\r\n  return spatialTruss(\r\n    arcTrussCs(p, apexR, baseR, phi, psi0, psi1, e, n), \r\n    0.3, 0.1);\r\n}\r\n\r\n\r\n//arcTruss(xyz(0,0,0), 10, 8, 0.0*Math.PI, -1.0*Math.PI/2, 1.0*Math.PI/2, 1.5, 10);\r\n\r\n\r\n\r\n\r\n\r\nfunction waveTrussCs(p, apexR, baseR, l, phi, psi0, psi1, dpsi, alpha0, alpha1, dAlpha, rAmpl) {\r\n  let n = Math.floor((psi1-psi0) / dpsi);\r\n  //caso final - ultimo arcCs\r\n  if(alpha0 >= alpha1) {\r\n    return [\r\n      arcCs(\r\n        add(p, polar(l/2.0, phi - Math.PI/2)), \r\n        apexR + rAmpl * Math.sin(alpha0),\r\n        phi, psi0, psi1, n\r\n      )\r\n    ];\r\n  } else {\r\n    return concat(\r\n      [\r\n        arcCs(\r\n          add(p, polar(l/2.0, phi - Math.PI/2)),\r\n          apexR + rAmpl * Math.sin(alpha0),\r\n          phi, psi0, psi1, n\r\n        ),\r\n        arcCs(\r\n          p, baseR + rAmpl * Math.sin(alpha0),\r\n          phi, psi0 + dpsi/2.0, psi1 - dpsi/2.0, n\r\n        )\r\n      ],\r\n      waveTrussCs(\r\n        add(p, polar(l, phi + Math.PI/2)),\r\n        apexR, baseR, l, phi, psi0, psi1, dpsi,\r\n        alpha0 + dAlpha, alpha1, dAlpha, rAmpl\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\nspatialTruss(\r\n  waveTrussCs(\r\n    xyz(0, 0, 0), 10, 8, 1.5, 0.0*Math.PI, \r\n    -1.0*Math.PI/2, 1.0*Math.PI/2, 0.1*Math.PI, \r\n    0.0*Math.PI, 2.0*Math.PI, 0.1*Math.PI, 4.0\r\n  ),\r\n  0.2, 0.1\r\n);\r\n*/\r\n\r\n\r\n\r\nconst {count} = sequence;\r\n\r\nfunction wavyCs(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl) {\r\n  return map(\r\n    ([i, alpha]) => arcCs(\r\n      add(p, polar(i*l, phi + Math.PI/2)), \r\n      baseR + rAmpl*Math.sin(alpha), phi, psi0, psi1, psiN\r\n    ),\r\n    zip(count(alphaN), intervalDivision(alpha0, alpha1, alphaN))\r\n  );\r\n}\r\n\r\nfunction wavyTruss(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl) {\r\n  return spatialTrussInsertApex(wavyCs(p, baseR, l, phi, psi0, psi1, psiN, alpha0, alpha1, alphaN, rAmpl));\r\n}\r\n\r\n/*\r\nwavyTruss(xyz(0, 0, 0),\r\n  10, 1.5, 0.0*Math.PI,\r\n  -1.0*Math.PI/2, 1.0*Math.PI/2, 15,\r\n  0.0*Math.PI, 2.0*Math.PI, 30,\r\n  4.0);\r\n*/"], ["initialProgram.js", "\r\nfunction house(width, height, depth) {\r\n\treturn [\r\n\t\tbox.byWidthHeightDepth(width, height, depth), \r\n\t\tsphere.byCenterRadius(\r\n\t\t\tpoint.byXYZ(0.0, 0.0, height/2.0), \r\n\t\t\tMath.min(width, height)/2.0)\r\n\t];\r\n}\r\n\r\ntranslate(house(10, 20, 10)).byZ(30);\r\n\r\nvar c1 = cylinder.byRadiusHeight(2, 5);\r\nvar s1 = sphere.byRadius(5);\r\ntranslate.byZ(10)(s1);\r\nvar b1 = box.byWidthHeightDepth(4, 4, 4);\r\nvar s2 = sphere.byRadius(2.5);\r\nvar gr1 = [b1, s2];\r\ntranslate.byXYZ(10, 0, 10)(gr1);\r\nc1;\r\n20;\r\ntranslate.byY(4)(c1);\r\n\r\nvar side = 500;\r\nvar num = 5000;\r\nvar cyls = [];\r\nvar i = 0;\r\nwhile(i<num) {\r\n\tcyls.push(\r\n\t\ttranslate(cylinder.byRadiusHeight(2,2))\r\n\t\t\t.byXYZ(\r\n\t\t\t\tMath.random()*side - side*0.5, \r\n\t\t\t\tMath.random()*side - side*0.5, \r\n\t\t\t\tMath.random()*side - side*0.5));\r\n\ti++;\r\n}\r\ncyls;\r\n\r\n\r\nvar b3 = box.byWidthHeightDepth(5, 5, 5);\r\ntranslate(b3).byX(20);\r\ntranslate(b3).byY(30);\r\n"], ["ines-wall.js", "\r\n//;Medidas convertidas no REVIT\r\nconst cRevit = 1.93333;\r\nconst hRevit = 0.64444;\r\nconst eRevit = 0.322;\r\n\r\nfunction rightCuboid(bottom, width, height, z) {\r\n\tlet p = brickMovement(bottom);\r\n\tlet c1 = point.add(p, vector.byXY(-width / 2 , -height / 2 + 0.01));\r\n\tlet c2 = point.add(p, vector.byXYZ(width / 2, height / 2, z - 0.01));\r\n\treturn box.byCorners([c1, c2]);\r\n}\r\n\r\n\r\nconst j = 0;\r\nconst salienciaRevit = 0.062;\r\nfunction brickMovement(pt) {\r\n\treturn random.integer(4) === 0\r\n\t\t? point.add(pt, vector.byX(salienciaRevit))\r\n\t\t: pt;\r\n}\r\n\r\n//;FUNCAO QUE CRIA QUATRO TIJOLO PEQUENOS NO ESPAO DE 1 TIJOLO GRANDE (30x10cm)\r\nfunction brick4(p, lado, alt, e) {\r\n\tconst lado2 = (lado - j) / 2.0;\r\n\tconst alt2 = (alt - j) / 2.0;\r\n\tconst pp = point.add(p, vector.byXY(e / 2.0, lado2 / 2.0 + j));\r\n\tconst p1 = point.add(pp, vector.byY(lado2));\r\n\tconst p2 = point.add(pp, vector.byZ(alt2));\r\n\tconst p3 = point.add(pp, vector.byYZ(lado2, alt2));\r\n\treturn [\r\n\t\trightCuboid(pp, e, lado2, alt2),\r\n\t\trightCuboid(p1, e, lado2, alt2),\r\n\t\trightCuboid(p2, e, lado2, alt2),\r\n\t\trightCuboid(p3, e, lado2, alt2)\r\n\t];\r\n}\r\n\r\n//;FUNCOES QUE CRIAM SO TRES TIJOLOS PEQUENOS NO ESPAO DE UM GRANDE\r\nfunction brick3(p, lado, alt, e) {\r\n\tconst lado2 = (lado - j) / 2.0;\r\n\tconst alt2 = (alt - j) / 2.0;\r\n\tconst pp = point.add(p, vector.byXY(e / 2.0, lado2/2.0 + j));\r\n\tconst p1 = point.add(pp, vector.byY(lado2));\r\n\t//const p2 = point.add(pp, vector.byZ(alt2));\r\n\tconst p3 = point.add(pp, vector.byYZ(lado2, alt2));\r\n\treturn [\r\n\t\trightCuboid(pp, e, lado2, alt2),\r\n\t\trightCuboid(p1, e, lado2, alt2),\r\n\t\trightCuboid(p3, e, lado2, alt2)\r\n\t];\r\n}\r\n\r\n//;FACHADA NORTE\r\n//;DIMENSOES\r\nconst length = 12.8;\r\nconst height = 10.8;\r\n//;;DIMENSOES BRICKS\r\nconst cBrick = 0.6;//;largura dos tijolos grandes\r\nconst hBrick = 0.2;//;altura dos tijolos grandes\r\nconst eBrick = 0.03;//;espessura dos tijolos\r\nconst nBricks = 21;//;numero em x\r\nconst mBricks = 54;//;numero em z\r\n//;;FATORES DENSIDADE\r\nconst r50 = 2;//;para as zonas de opacidade 100%\r\nconst r100 = 4;\r\n\r\n//;ZONA OPACA 100%\r\n//;0m-3m dos 12.6m-17.4m e dos 25.8m-28.8m\r\nconst a1P = 5 / cBrick;\r\n\r\n//;ZONA OPACIDADE 80%\r\n//;dos 3-6.6m dos 9.6-12.6m dos 17.4-20.4m dos22.8-25.8m\r\nconst b0P = 7.2 / cBrick;\r\nconst b1P = 8.4 / cBrick;\r\nconst b2P = 10.2 / cBrick;\r\nconst b3P = 11.4 / cBrick;\r\n\r\n//;FUNO PARA FAZER A PRIMEIRA E ULTIMA FILEIRA DA FACHADA\r\nfunction rectExt(p, lado, alt, e, n) {\r\n\tconst pts = sequence.map(\r\n\t\ti => point.add(p, vector.byY(lado * i)),\r\n\t\tsequence.count(n));\r\n\treturn sequence.map(p => brick4(p, lado, alt, e), pts);\r\n}\r\n\r\n\r\nfunction rect(p, lado, alt, e, n) {\r\n\tconst lado1 = lado - j;\r\n\tconst alt1 = alt - j;\r\n\tconst pp = point.add(p, vector.byXY(e/2.0, (j + lado)/2.0));\r\n\tconst nextPoint = point.add(p, vector.byY(lado));\r\n\tif (n === 0) {\r\n\t\treturn [];\r\n\t} else if (n < a1P) {\r\n\t\treturn random.inRange(0, r50) < 1 \r\n\t\t\t? [\r\n\t\t\t\trightCuboid(pp, e, lado1, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t] \r\n\t\t\t: random.inRange(0, 6) < 1\r\n\t\t\t\t? [\r\n\t\t\t\t\tbrick3(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t]\r\n\t\t\t\t: [\r\n\t\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t];\r\n\t} else if ((n >= b0P && n <= b1P) || (n >= b2P && n <= b3P)) {\r\n\t\treturn random.inRange(0, r100) < 1\r\n\t\t\t? [\r\n\t\t\t\trightCuboid(pp, e, lado1, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t]\r\n\t\t\t: random.inRange(0, 6) <= 4\r\n\t\t\t\t? [\r\n\t\t\t\t\tbrick3(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t]\r\n\t\t\t\t: [\r\n\t\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t\t];\r\n\t} else {\r\n\t\treturn random.inRange(0, r50) < 1\r\n\t\t\t? [\r\n\t\t\t\tbrick4(p, lado, alt, e),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t]\r\n\t\t\t: [\r\n\t\t\t\trightCuboid(pp, e, lado, alt1),\r\n\t\t\t\trect(nextPoint, lado, alt, e, n-1)\r\n\t\t\t];\r\n\t}\r\n}\r\n\r\n\r\nfunction rects(p, lado, alt, e, n, m, mMax) {\r\n\tif (m === 1) {\r\n\t\treturn rectExt(p, lado, alt, e, n);\r\n\t} else if (m === mMax) {\r\n\t\treturn [\r\n\t\t\trectExt(p, lado, alt, e, n),\r\n\t\t\trects(point.add(p, vector.byZ(alt)), lado, alt, e, n, m-1, mMax)\r\n\t\t];\r\n\t} else {\r\n\t\treturn [\r\n\t\t\trect(p, lado, alt, e, n),\r\n\t\t\trects(point.add(p, vector.byZ(alt)), lado, alt, e, n, m-1, mMax)\r\n\t\t];\r\n\t}\r\n}\r\n\r\n\r\nrects(point.byZ(0), cRevit, hRevit, eRevit, nBricks, mBricks, mBricks);\r\n"], ["nolan-facade.js", "\r\n//nolan facade\r\n\r\nconst lQuads = 1, //aresta dos quadrados\r\n\tm = lQuads/5, //margens laterais dos paineis\r\n\ti = lQuads/10, //margens entre quadrados\r\n\tnQuad = 30, //numero de quadrados\r\n\twidth = m + m +  3*i + 4*lQuads, //altura dos paineis\r\n\theight = nQuad*lQuads + (nQuad - 1)*i; //largura de cada painel\r\n\r\nconst surfaceRectangle = rectangle.surface.byCornerWidthHeight;\r\nconst zAxisAt = pt => axis.byPointVector(pt, vector.byZ(1));\r\nconst yAxisAt = pt => axis.byPointVector(pt, vector.byY(1));\r\n\r\nfunction nolanFaixa(p, n, l, angMax) {\r\n  const freq = 0.06, //Se for > que 0.07 a rotao  comea-se a notar a 1/2 dos paineis.Caso seja < nota-se antes do meio\r\n        a = Math.min(0,\r\n               Math.max(-Math.PI/2,\r\n                    -angMax * Math.sin(Math.PI/2 - freq*n))),\r\n        p1 = point.add(p, vector.byX(m)),\r\n        p11 = point.add(p, vector.byXY(m, l)),\r\n        p2 = point.add(p1, vector.byX(l + i)),\r\n        p3 = point.add(p2, vector.byX(l + i)),\r\n        p4 = point.add(p3, vector.byX(l + i));\r\n    return n === 0\r\n        ? []\r\n        : [\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p1, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p1), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p1, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p2, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p2), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p2, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p3, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p3), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p3, vector.byXY(l/2, l/2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\trotate(\r\n\t\t\t\trotate(surfaceRectangle(p4, [l, l]))\r\n\t\t\t\t\t.aroundAxisByAngle(yAxisAt(p4), a))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\tzAxisAt(point.add(p4, vector.byXY(l/2, l /2))), \r\n\t\t\t\t\trandom.integer(4)*Math.PI/2),\r\n\t\t\tnolanFaixa(point.add(p, vector.byY(l+i)), n-1, l, angMax)\r\n\t\t];\r\n}\r\n\r\nfunction nolanPainel(p, n, l, angMax) {\r\n\treturn [\r\n\t\tbox.byCorners([p, point.add(p, vector.byXYZ(width, height, -width))]),\r\n\t\tnolanFaixa(p, n, l, angMax)\r\n\t];\r\n}\r\n\r\n\r\nfunction nolanPattern(p, n, nFaixas, l, angMax) {\r\n\tconst d = l/2,\r\n\t\tampSinusoide = 0.01, //amplitude varies between 0.01 and 0.15\r\n\t\tfreqSinusoide = 0.5,\r\n  \t\taSinusoide = ampSinusoide + ampSinusoide*Math.sin(freqSinusoide*nFaixas);\r\n    return nFaixas === 0\r\n        ? []\r\n        : [\r\n\t\t\trotate(nolanPainel(p, n, l, angMax))\r\n\t\t\t\t.aroundAxisByAngle(\r\n\t\t\t\t\taxis.byPointVector(p, vector.byX(1)), \r\n\t\t\t\t\taSinusoide),\r\n\t\t\tnolanPattern(point.add(p, vector.byX(width + d)), n, nFaixas - 1, l, angMax)\r\n        ];\r\n}\r\n\r\n\r\nrotate(nolanPattern(point.byXYZ(0, 0, 0), nQuad, 25, lQuads, Math.PI/6))\r\n\t.aroundAxisByAngle(\r\n\t\taxis.byPointVector(point.byXYZ(0,0,0), vector.byX(1)), \r\n\t\tMath.PI/2);\r\n"], ["sheung-wan-hotel-v3.js", "\r\nconst {cond} = functional;\r\n\r\n/*\r\n  @param {List<List<a>>} divisions\r\n  @returns \r\n  @example\r\n  mapDivisions(identity, [0, 1, 2])\r\n  -> [[0], [1], [2]]\r\n  mapDivisions(identity, [[0, 1, 2], [3, 4, 5]])\r\n  -> [[[0,3], [0,4], [0,5]], \r\n      [[1,3], [1,4], [1,5]],\r\n      [[2,3], [2,4], [2,5]]]\r\n  mapDivisions(identity, [[0], [1, 2, 3], [4, 5, 6]])\r\n  -> [[[[0, 1, 4], [0, 1, 5], [0, 1, 6]],\r\n       [[0, 1, 4], [0, 1, 5], [0, 1, 6]],\r\n       [[0, 1, 4], [0, 1, 5], [0, 1, 6]]]]\r\n*/\r\nfunction mapDivisions(fn, divisions) {\r\n  if (divisions.length === 1) {\r\n    return sequence.map(fn, divisions[0]);\r\n  } else {\r\n    return sequence.map(\r\n      el => mapDivisions(fn.bind(null, el), sequence.drop(divisions, 1)), \r\n      divisions[0]);\r\n  }\r\n}\r\n\r\n/*\r\n  @param {List<List<Point>>} pointGrid\r\n  @param {(Point, Point, Point, Point) -> a} fn\r\n  @returns {List<List<a>>} lists of results of each quad strip of pointGrid\r\n*/\r\nfunction iteraQuads(fn, pointGrid) {\r\n  let quadStrips = sequence.zip(pointGrid, sequence.drop(pointGrid, 1));\r\n  return sequence.map(([pts0, pts1]) => \r\n    sequence.map(\r\n      ([p1, p2, p3, p4]) => fn(p1, p2, p3, p4),\r\n      sequence.zip(\r\n        pts0, \r\n        pts1, \r\n        sequence.drop(pts1, 1), \r\n        sequence.drop(pts0, 1))),\r\n    quadStrips);\r\n}\r\n\r\n// Point lerp.\r\nfunction intermediatePoint(p0, p1, f) {\r\n  return point.add(p0, vector.scale(point.sub(p1, p0), f));\r\n}\r\n\r\n// Paralelogram area by three points.\r\nfunction area(p0, p1, p3) {\r\n  let p0To1 = point.sub(p1, p0);\r\n  let p0To3 = point.sub(p3, p0);\r\n  return vector.length(vector.cross(p0To1, p0To3));\r\n}\r\n\r\nconst r1 = 0.1,\r\n  r2 = 0.6,\r\n  r = 0.7,\r\n  h = 75,\r\n  l = 20;\r\nfunction sub(p0, p1, p2, p3) {\r\n  let f1 = random.inRange(0.2, 0.8),\r\n    f2 = random.inRange(0.2, 0.8),\r\n    p01 = intermediatePoint(p0, p1, f1),\r\n    p03 = intermediatePoint(p0, p3, f2),\r\n    p32 = intermediatePoint(p3, p2, f1),\r\n    p12 = intermediatePoint(p1, p2, f2),\r\n    p = intermediatePoint(p03, p12, f1);\r\n    return point.z(p0) > h / 3\r\n      ? block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)\r\n      : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r, r);\r\n}\r\n\r\n\r\n//(define white (create-layer \"white\"))\r\n//(define glass (create-layer \"glass\"))\r\n\r\n//const extrusion = (obj, displacement) => obj;\r\nfunction block(p0, p1, p2, p3, r) {\r\n  let d = -0.01;\r\n  return extrusion.bySurfaceVector(\r\n      polygon.surface.byVertices([\r\n        p0,\r\n        point.addX(p1, d),\r\n        point.addXZ(p2, d, d),\r\n        point.addZ(p3, d),\r\n        p0\r\n      ]),\r\n      vector.byY(-r));\r\n}\r\n\r\nfunction block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2) {\r\n  return [\r\n   block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n   block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n   block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n   block(p03, p, p32, p3, random.inRange(r1, r2))\r\n  ];\r\n}\r\n\r\nfunction hotel(p0, p1, p2, p3) { //fazer rugosidades na parte lisa\r\n  let f1 = random.inRange(0.2, 0.8),\r\n    f2 = random.inRange(0.2, 0.8),\r\n    p01 = intermediatePoint(p0, p1, f1),\r\n    p03 = intermediatePoint(p0, p3, f2),\r\n    p32 = intermediatePoint(p3, p2, f1),\r\n    p12 = intermediatePoint(p1, p2, f2),\r\n    p = intermediatePoint(p03, p12, f1),\r\n    i = area(p0, p1, p2) / 2;\r\n    return point.z(p0) > h / 5\r\n      || (point.x(p0) > l * random.inRange(0.42, 0.65)\r\n        && point.x(p0) < l * random.inRange(0.65, 0.94))\r\n      ? // parte rugosa\r\n        cond([[area(p0, p01, p) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p0, p01, p, p03),\r\n                    block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n                    block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n                    block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [area(p01, p1, p12) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p01, p1, p12, p),\r\n                    block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n                    block(p, p12, p2, p32, random.inRange(r1, r2)),\r\n                    block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [area(p, p12, p2) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                      sub(p, p12, p2, p32),\r\n                      block(p0, p01, p, p03, random.inRange(r1, r2)),\r\n                      block(p01, p1, p12, p, random.inRange(r1, r2)),\r\n                      block(p03, p, p32, p3, random.inRange(r1, r2))\r\n                  ]\r\n                  : block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)],\r\n              [true, () => \r\n                block4(p, p0, p01, p1, p12, p2, p32, p3, p03, r1, r2)]])\r\n      : //parte lisa\r\n        cond([[area(p0, p01, p) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p0, p01, p, p03),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [area(p01, p1, p12) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p01, p1, p12, p),\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [area(p, p12, p2) > i, () => \r\n                random.integer.inRange(0, 2) === 0\r\n                  ? [\r\n                    sub(p, p12, p2, p32),\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]\r\n                  : [\r\n                    block(p0, p01, p, p03, r),\r\n                    block(p01, p1, p12, p, r),\r\n                    block(p, p12, p2, p32, r),\r\n                    block(p03, p, p32, p3, r)\r\n                  ]],\r\n              [true, () => \r\n                [\r\n                  block(p0, p01, p, p03, r),\r\n                  block(p01, p1, p12, p, r),\r\n                  block(p, p12, p2, p32, r),\r\n                  block(p03, p, p32, p3, r)\r\n                ]]]);\r\n}\r\n\r\nconst us = sequence.division(0, l, 16);\r\nconst vs = sequence.division(0, h, 45);\r\nconst quads = mapDivisions((i, j) => point.byXZ(i, j), [us, vs]);\r\n\r\niteraQuads(hotel, quads);\r\n\r\n"], ["dom-ino-frame.js", "\r\nconst {map, division, cartesianProduct, count} = sequence;\r\nconst {compose} = functional;\r\n\r\nconst floors = 3;\r\nconst floorWidth = 13.0;\r\nconst floorDepth = 7.0;\r\nconst floorToCeiling = 2.5;\r\nconst slabThickness = 0.3;\r\nconst stairWidth = 1.0;\r\nconst stairStepNum = 18;\r\n\r\n//columns + foundations\r\nconst spacesBetweenColumns = 3;\r\nconst backColumnDistanceToEdge = 0.20;\r\nconst frontColumnDistanceToEdge = 0.4;\r\nconst columnToSide = 0.20;\r\nconst columnSide = 0.20;\r\nconst foundationSide = 1.0;\r\nconst foundationHeight = 0.5;\r\n\r\ndomIno();\r\n\r\nfunction domIno() {\r\n  return [\r\n    slabs(),\r\n    columns(),\r\n    stairs()\r\n  ];\r\n}\r\n\r\n\r\nfunction slabs() {\r\n  let floorSlab = [\r\n    box.byCorners([ // living area portion\r\n      point.byXYZ(0, 0, 0),\r\n      point.byXYZ(floorWidth, floorDepth, slabThickness)\r\n    ]),\r\n    box.byCorners([ // stair landing extension\r\n      point.byXYZ(floorWidth, 0, 0),\r\n      point.byXYZ(floorWidth + stairWidth, stairWidth, slabThickness)\r\n    ]),\r\n    box.byCornerXYZ( // stair landing\r\n        point.byXYZ(floorWidth, stairWidth, 0),\r\n        [2*stairWidth, stairWidth, slabThickness])\r\n  ];\r\n  return map(\r\n    i => translate(floorSlab).byZ(i*(slabThickness + floorToCeiling)),\r\n    count(floors + 1));\r\n}\r\n\r\n\r\nfunction columns() {\r\n  let backColumnPositions = map(\r\n    ([x, y]) => point.byXY(x,y),\r\n    cartesianProduct(\r\n      division(columnToSide, floorWidth - columnToSide, spacesBetweenColumns),\r\n      [backColumnDistanceToEdge]));\r\n  let frontColumnPositions = map(\r\n    ([x, y]) => point.byXY(x,y),\r\n    cartesianProduct(\r\n      division(columnToSide, floorWidth - columnToSide, spacesBetweenColumns),\r\n      [floorDepth - frontColumnDistanceToEdge]));\r\n  return [\r\n    map(column, backColumnPositions),\r\n    map(column, frontColumnPositions)\r\n  ];\r\n}\r\n\r\nfunction column(pos) {\r\n  const height = slabThickness + (slabThickness + floorToCeiling)*floors;\r\n  return [\r\n    box.byBottomWidthHeightZ(pos, [columnSide, columnSide], height),\r\n    box.byCentersWidthHeight(\r\n      [pos, point.subZ(pos, foundationHeight)],\r\n      [foundationSide, foundationSide])\r\n  ];\r\n}\r\n\r\n\r\nfunction stairs() {\r\n  return map(\r\n    i => translate(\r\n      uShapedStairs(\r\n        stairWidth,\r\n        stairStepNum,\r\n        stairWidth,\r\n        stairStepNum*0.15,\r\n        floorToCeiling + slabThickness))\r\n      .byXYZ(floorWidth, 2*stairWidth, slabThickness + i*(slabThickness + floorToCeiling)),\r\n    count(floors))\r\n}\r\n\r\nfunction straightStairs(width, runLength, riseHeight, steps) {\r\n  const stepLength = runLength/steps;\r\n  const stepHeight = riseHeight/steps;\r\n  const translateVector = vector.byYZ(stepLength, stepHeight);\r\n  const bottomLeftCorner = point.byXYZ(0, 0, 0);\r\n  const topRightCorner = point.byXYZ(width, stepLength, stepHeight);\r\n  const stepsGeom = map(i =>\r\n    box.byCorners([\r\n      point.add(bottomLeftCorner, vector.scale(translateVector, i)),\r\n      point.add(topRightCorner, vector.scale(translateVector, i))\r\n    ]),\r\n    count(steps));\r\n  const underneathAngle = Math.atan2(stepHeight, stepLength);\r\n  const underneathHeight = stepLength*Math.sin(underneathAngle);\r\n  const underneathLength = (steps - 1)*stepLength/Math.cos(underneathAngle);\r\n  const underneath = compose(\r\n    translate.byXYZ(0, stepLength, 0),\r\n    rotate.aroundXByAngle(underneathAngle)\r\n  )(box.byCornerXYZ(point.byXYZ(0,0,0), [width, underneathLength, underneathHeight]));\r\n  return [\r\n    stepsGeom,\r\n    underneath\r\n  ];\r\n}\r\n\r\nfunction uShapedStairs(flightWidth, steps, turnStepLength, straightLength, riseHeight) {\r\n  const stepHeight = riseHeight/steps;\r\n  const straightStepsNum = steps - 1;\r\n  const bottomStepsNum = Math.floor(straightStepsNum/2);\r\n  const topStepsNum = Math.ceil(straightStepsNum/2);\r\n  const bottomRiseHeight = stepHeight*bottomStepsNum;\r\n  const topRiseHeight = stepHeight*topStepsNum;\r\n\r\n  const bottomFlight = straightStairs(flightWidth, straightLength, bottomRiseHeight, bottomStepsNum);\r\n  const turnStep = box.byCorners([\r\n    point.byXYZ(0, straightLength, bottomRiseHeight),\r\n    point.byXYZ(\r\n      2*flightWidth,\r\n      straightLength + turnStepLength,\r\n      bottomRiseHeight + stepHeight)\r\n  ]);\r\n  const topFlight = compose(\r\n    translate.byXYZ(2*flightWidth, straightLength, bottomRiseHeight + stepHeight),\r\n    rotate.aroundZByAngle(Math.PI)\r\n  )(straightStairs(flightWidth, straightLength, topRiseHeight, topStepsNum));\r\n\r\n  return [\r\n    bottomFlight,\r\n    turnStep,\r\n    topFlight\r\n  ];\r\n}\r\n"], ["cruzeta.js", "\r\nconst cFrustum = coneFrustum.byBottomRadiusTopRadius;\r\nconst xyz = point.byXYZ;\r\nconst addP = point.add;\r\nconst vec = vector;\r\n\r\nfunction cruzeta(p, rb, rt, c) {\r\n  return [\r\n    cFrustum(p, rb, vec.add(p, vec.byX(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byY(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byZ(c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byX(-c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byY(-c)), rt),\r\n    cFrustum(p, rb, vec.add(p, vec.byZ(-c)), rt)\r\n  ];\r\n}\r\n\r\n\r\ncruzeta(xyz(0, 0, 0), 0.2, 0.4, 0.8);\r\n"], ["column.js", "\r\nconst xyz = point.byXYZ;\r\nconst add = point.add;\r\nconst z = vector.byZ;\r\n\r\nfunction abacus(p, height, side) {\r\n  return box.byBottomWidthHeightZ(p, [side, side], height);\r\n}\r\n\r\nfunction echinus(p, height, side, neckSide) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(p, neckSide/2, side/2, height);\r\n}\r\n\r\nfunction shaft(p, height, side, neckSide) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(p, side/2, neckSide/2, height);\r\n}\r\n\r\nfunction column(p, shaftH, shaftBaseD, echinusH, echinusBaseD, abacusH, abacusS) {\r\n  return [\r\n    abacus(add(p, z(shaftH + echinusH)), abacusH, abacusS),\r\n    echinus(add(p, z(shaftH)), echinusH, abacusS, echinusBaseD),\r\n    shaft(p, shaftH, shaftBaseD, echinusBaseD)\r\n  ];\r\n}\r\n\r\ncolumn(xyz(0, 0, 0), 6.00, 0.8, 0.2, 0.7, 0.1, 0.9);\r\n"], ["coneSphere.js", "\r\nconst {intervalMiddles, cartesianProduct, map} = sequence;\r\nconst {lerp} = math;\r\nconst sph = point.bySpherical;\r\nconst xyz = point.byXYZ;\r\n\r\nfunction coneSphere(p, sphR, equatorConeR, poleConeR, parallelsNum, meridiansNum) {\r\n  return map(([phi, th]) => {\r\n      let baseP = sph(sphR, th, phi);\r\n      let baseR = sphSurfToRadius(phi, th, equatorConeR, poleConeR);\r\n      return coneFrustum.byBottomRadiusTopRadius(baseP, baseR, p, 0.01);\r\n    },\r\n    sphSurfCoords(parallelsNum, meridiansNum));  \r\n}\r\n\r\nfunction sphSurfCoords(parallelsNum, meridiansNum) {\r\n  let parallelPhis = intervalMiddles(0, Math.PI, parallelsNum);\r\n  let meridianThetas = intervalMiddles(0, 2*Math.PI, meridiansNum);\r\n  return cartesianProduct(parallelPhis, meridianThetas);\r\n}\r\n\r\nfunction sphSurfToRadius(phi, theta, equatorConeR, poleConeR) {\r\n  return lerp(poleConeR, equatorConeR, Math.sin(phi));\r\n}\r\n\r\n\r\nconeSphere(xyz(0, 0, 0), 10, 1, 0.1, 10, 15);\r\n\r\n"], ["cities.js", "\r\nconst {intervalDivision, map, cartesianProduct, count} = sequence;\r\nconst {scale, add} = vector;\r\nconst xyz = vector.byXYZ;\r\nconst x = vector.byX;\r\nconst y = vector.byY;\r\nconst z = vector.byZ;\r\n\r\n\r\n\r\n\r\nfunction coordinateGrid(p, uu, vv, m, n) {\r\n  return map(\r\n    ([u, v]) => add(p,\r\n      add(scale(uu, u), scale(vv, v))),\r\n    cartesianProduct(count(m), count(n))\r\n  );\r\n}\r\n\r\nfunction building1(p) {\r\n  return random.real(3) < 1\r\n    ? cylinder.byCentersRadius(\r\n      [p, add(p, z(75))], 10)\r\n    : box.byBottomWidthHeightZ(\r\n      p, [20, 20], 60);\r\n}\r\n\r\nfunction city1(p) {\r\n  return map(building1,\r\n    coordinateGrid(p, x(25), y(25),\r\n      10, 10));\r\n}\r\n\r\ncity1(xyz(0, 0, 0));\r\n\r\n\r\n\r\n\r\nfunction building2(p) {\r\n  return random.real(3) < 1\r\n    ? cylinder.byCentersRadius(\r\n      [p, add(p,\r\n        z(random.real.inRange(10, 75)))],\r\n      10)\r\n    : box.byBottomWidthHeightZ(p, [20, 20],\r\n      random.real.inRange(5, 60));\r\n}\r\n\r\nfunction city2(p) {\r\n  return map(building2,\r\n    coordinateGrid(p, x(25), y(25),\r\n      10, 10));\r\n}\r\n\r\ncity2(xyz(0, 0, 0));\r\n\r\n\r\n\r\nfunction city3(p, buildingFns) {\r\n  return map(pt =>\r\n    buildingFns[random.integer(buildingFns.length - 1)](pt),\r\n    coordinateGrid(p, x(25), y(25), 10, 10));\r\n}\r\n\r\nfunction cylBuilding(p) {\r\n  return cylinder.byCentersRadius(\r\n    [p, add(p, z(random.real.inRange(10, 75)))],\r\n    10);\r\n}\r\nfunction boxBuilding(p) {\r\n  return box.byBottomWidthHeightZ(p, [20, 20],\r\n    random.real.inRange(5, 60));\r\n}\r\nfunction coneBuilding(p) {\r\n  return coneFrustum.byBottomTopRadiusesHeight(\r\n    p, 10, random.real.inRange(0, 8),\r\n    random.real.inRange(5, 60)\r\n  );\r\n}\r\n\r\n\r\ncity3(xyz(0, 0, 0),\r\n  [cylBuilding, boxBuilding, coneBuilding]);\r\n"]];

var examples = exampleData.map(function (_ref) {
	var _ref2 = _slicedToArray(_ref, 2),
	    name = _ref2[0],
	    sourceCode = _ref2[1];

	return {
		name: name,
		program: sourceCode
	};
});

module.exports.examples = examples;

},{}],43:[function(require,module,exports){
'use strict';

//require('./page');

require('./actions-reducers/components-test.jsx');

},{"./actions-reducers/components-test.jsx":40}],44:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

function time(label, thunk) {
	var t0 = performance.now();
	var res = thunk();
	var t1 = performance.now();
	console.log(label, t1 - t0);
	return res;
}

exports.default = time;

},{}]},{},[43])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzLmpzIiwibm9kZV9tb2R1bGVzL2JyYWNlL21vZGUvamF2YXNjcmlwdC5qcyIsIm5vZGVfbW9kdWxlcy9icmFjZS90aGVtZS9tb25va2FpLmpzIiwibm9kZV9tb2R1bGVzL2JyYWNlL3dvcmtlci9qYXZhc2NyaXB0LmpzIiwic3JjXFxSZWFjdENvbXBvbmVudHNcXE9yYml0VGhyZWVWaWV3LmpzeCIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxQcm9ncmFtRWRpdG9yLmpzeCIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxSZXN1bHRzVmlldy5qc3giLCJzcmNcXFJlYWN0Q29tcG9uZW50c1xcU3VwZXJFZGl0b3IuanN4Iiwic3JjXFxSZWFjdENvbXBvbmVudHNcXFRocmVlUmVuZGVyZXIuanN4Iiwic3JjXFxSZWFjdENvbXBvbmVudHNcXGRyYWctbWFuYWdlci5qcyIsInNyY1xcUmVhY3RDb21wb25lbnRzXFxnZW5lcmljLmpzeCIsInNyY1xcUnVubmVyXFxJbnN0cnVtZW50YXRpb25cXHNhdmUtdG9wLWxldmVsLXRyYW5zZm9ybS5qcyIsInNyY1xcUnVubmVyXFxJbnN0cnVtZW50YXRpb25cXHRyYWNlLWNhbGwtdHJhbnNmb3JtLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXGFzdC11dGlscy5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxnZXROb2RlQnlJZC5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxub2RlLWlkLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXHByb2dyYW0tcXVlcmllcy5qcyIsInNyY1xcUnVubmVyXFxQYXJzaW5nXFxwcm9ncmFtLmpzIiwic3JjXFxSdW5uZXJcXFBhcnNpbmdcXHRyYXZlcnNhbC5qcyIsInNyY1xcUnVubmVyXFxpZC1nZW5lcmF0b3IuanMiLCJzcmNcXFJ1bm5lclxccnVuLWluLWNhZC5qcyIsInNyY1xcUnVubmVyXFxydW4tcXVlcmllcy5qcyIsInNyY1xcUnVubmVyXFxydW4uanMiLCJzcmNcXFJ1bm5lclxccnVubmluZy1pZGVhLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxmdW5jdGlvbmFsLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxtYXRoLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxwb2ludC12ZWN0b3ItbWF0cml4LmpzIiwic3JjXFxTY2VuZUdyYXBoXFxQcmVkZWZzXFxyYW5kb20uanMiLCJzcmNcXFNjZW5lR3JhcGhcXFByZWRlZnNcXHNlcXVlbmNlLmpzIiwic3JjXFxTY2VuZUdyYXBoXFxjb2xvci5qcyIsInNyY1xcU2NlbmVHcmFwaFxcZGVmYXVsdC1tYXRlcmlhbHMuanMiLCJzcmNcXFNjZW5lR3JhcGhcXGV4dHJ1c2lvbi5qcyIsInNyY1xcU2NlbmVHcmFwaFxcbWFrZU1hdHJpeFRyYW5zZm9ybWVkT2JqZWN0M0QuanMiLCJzcmNcXFNjZW5lR3JhcGhcXHBvbHlnb24tc3VyZmFjZS5qcyIsInNyY1xcU2NlbmVHcmFwaFxccHJpbWl0aXZlcy5qcyIsInNyY1xcU2NlbmVHcmFwaFxcdG8tdGhyZWUuanMiLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXEN1cnJlbnRQcm9ncmFtRWRpdG9yLmpzeCIsInNyY1xcYWN0aW9ucy1yZWR1Y2Vyc1xcRWRpdG9yUGFnZS5qc3giLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGFjdGlvbnMtcmVkdWNlcnMuanMiLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGNvbXBvbmVudHMtdGVzdC5qc3giLCJzcmNcXGFjdGlvbnMtcmVkdWNlcnNcXGNvbXBvbmVudHMuanN4Iiwic3JjXFxleGFtcGxlLXByb2dyYW1zXFxleGFtcGxlcy5qcyIsInNyY1xcaW5kZXguanMiLCJzcmNcXHV0aWxzXFx0aW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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WUFBWSxHQUFaLEdBQWtCLFdBQWxDLEVBQStDLE1BQS9DLENBQWQsQ0FWbUIsRUFXbkIsQ0FBQyxlQUFELEVBQWtCLEdBQUcsWUFBSCxDQUFnQixZQUFZLEdBQVosR0FBa0IsZUFBbEMsRUFBbUQsTUFBbkQsQ0FBbEIsQ0FYbUIsRUFZbkIsQ0FBQyxXQUFELEVBQWMsR0FBRyxZQUFILENBQWdCLFlBQVksR0FBWixHQUFrQixXQUFsQyxFQUErQyxNQUEvQyxDQUFkLENBWm1CLENBQXBCOztBQWVBLElBQU0sV0FBVyxZQUFZLEdBQVosQ0FDaEI7QUFBQTtBQUFBLEtBQUUsSUFBRjtBQUFBLEtBQVEsVUFBUjs7QUFBQSxRQUF1QjtBQUN0QixRQUFNLElBRGdCO0FBRXRCLFdBQVM7QUFGYSxFQUF2QjtBQUFBLENBRGdCLENBQWpCOztBQU1BLE9BQU8sT0FBUCxDQUFlLFFBQWYsR0FBMEIsUUFBMUI7Ozs7O0FDdkJBOztBQUVBLFFBQVEsd0NBQVI7Ozs7Ozs7OztBQ0ZBLFNBQVMsSUFBVCxDQUFjLEtBQWQsRUFBcUIsS0FBckIsRUFBNEI7QUFDM0IsS0FBSSxLQUFLLFlBQVksR0FBWixFQUFUO0FBQ0EsS0FBSSxNQUFNLE9BQVY7QUFDQSxLQUFJLEtBQUssWUFBWSxHQUFaLEVBQVQ7QUFDQSxTQUFRLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLEtBQUcsRUFBdEI7QUFDQSxRQUFPLEdBQVA7QUFDQTs7a0JBRWMsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJhY2UuZGVmaW5lKFwiYWNlL3NuaXBwZXRzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9yYW5nZVwiLFwiYWNlL2FuY2hvclwiLFwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiLFwiYWNlL3Rva2VuaXplclwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9lZGl0b3JcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBBbmNob3IgPSBhY2VxdWlyZShcIi4vYW5jaG9yXCIpLkFuY2hvcjtcbnZhciBIYXNoSGFuZGxlciA9IGFjZXF1aXJlKFwiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuSGFzaEhhbmRsZXI7XG52YXIgVG9rZW5pemVyID0gYWNlcXVpcmUoXCIuL3Rva2VuaXplclwiKS5Ub2tlbml6ZXI7XG52YXIgY29tcGFyZVBvaW50cyA9IFJhbmdlLmNvbXBhcmVQb2ludHM7XG5cbnZhciBTbmlwcGV0TWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc25pcHBldE1hcCA9IHt9O1xuICAgIHRoaXMuc25pcHBldE5hbWVNYXAgPSB7fTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgXG4gICAgdGhpcy5nZXRUb2tlbml6ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gVGFic3RvcFRva2VuKHN0ciwgXywgc3RhY2spIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMSk7XG4gICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdChzdHIpICYmICFzdGFjay5pbkZvcm1hdFN0cmluZylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3t0YWJzdG9wSWQ6IHBhcnNlSW50KHN0ciwgMTApfV07XG4gICAgICAgICAgICByZXR1cm4gW3t0ZXh0OiBzdHJ9XTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgICAgICAgIHJldHVybiBcIig/OlteXFxcXFxcXFxcIiArIGNoICsgXCJdfFxcXFxcXFxcLilcIjtcbiAgICAgICAgfVxuICAgICAgICBTbmlwcGV0TWFuYWdlci4kdG9rZW5pemVyID0gbmV3IFRva2VuaXplcih7XG4gICAgICAgICAgICBzdGFydDogW1xuICAgICAgICAgICAgICAgIHtyZWdleDogLzovLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2subGVuZ3RoICYmIHN0YWNrWzBdLmV4cGVjdElmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5leHBlY3RJZiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbMF0uZWxzZUJyYW5jaCA9IHN0YWNrWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFja1swXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiOlwiO1xuICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgIHtyZWdleDogL1xcXFwuLywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoID0gdmFsWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT0gXCJ9XCIgJiYgc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYgKFwiYCRcXFxcXCIuaW5kZXhPZihjaCkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGNoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrLmluRm9ybWF0U3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT0gXCJuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwidFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChcInVsVUxFXCIuaW5kZXhPZihjaCkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB7Y2hhbmdlQ2FzZTogY2gsIGxvY2FsOiBjaCA+IFwiYVwifTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsXTtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC99Lywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFjay5sZW5ndGggPyBzdGFjay5zaGlmdCgpIDogdmFsXTtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC9cXCQoPzpcXGQrfFxcdyspLywgb25NYXRjaDogVGFic3RvcFRva2VufSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC9cXCRcXHtbXFxkQS1aX2Etel0rLywgb25NYXRjaDogZnVuY3Rpb24oc3RyLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBUYWJzdG9wVG9rZW4oc3RyLnN1YnN0cigxKSwgc3RhdGUsIHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgfSwgbmV4dDogXCJzbmlwcGV0VmFyXCJ9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogL1xcbi8sIHRva2VuOiBcIm5ld2xpbmVcIiwgbWVyZ2U6IGZhbHNlfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHNuaXBwZXRWYXI6IFtcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiXFxcXHxcIiArIGVzY2FwZShcIlxcXFx8XCIpICsgXCIqXFxcXHxcIiwgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tbMF0uY2hvaWNlcyA9IHZhbC5zbGljZSgxLCAtMSkuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgIH0sIG5leHQ6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIi8oXCIgKyBlc2NhcGUoXCIvXCIpICsgXCIrKS8oPzooXCIgKyBlc2NhcGUoXCIvXCIpICsgXCIqKS8pKFxcXFx3Kik6P1wiLFxuICAgICAgICAgICAgICAgICBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHMgPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICAgICAgdHMuZm10U3RyaW5nID0gdmFsO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHRzLmd1YXJkID0gdmFsWzFdO1xuICAgICAgICAgICAgICAgICAgICB0cy5mbXQgPSB2YWxbMl07XG4gICAgICAgICAgICAgICAgICAgIHRzLmZsYWcgPSB2YWxbM107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIH0sIG5leHQ6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcImBcIiArIGVzY2FwZShcImBcIikgKyBcIipgXCIsIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWzBdLmNvZGUgPSB2YWwuc3BsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgfSwgbmV4dDogXCJzdGFydFwifSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiXFxcXD9cIiwgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tbMF0uZXhwZWN0SWYgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sIG5leHQ6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIihbXjp9XFxcXFxcXFxdfFxcXFxcXFxcLikqOj9cIiwgdG9rZW46IFwiXCIsIG5leHQ6IFwic3RhcnRcIn1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBmb3JtYXRTdHJpbmc6IFtcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiLyhcIiArIGVzY2FwZShcIi9cIikgKyBcIispL1wiLCB0b2tlbjogXCJyZWdleFwifSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiXCIsIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLmluRm9ybWF0U3RyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgICBTbmlwcGV0TWFuYWdlci5wcm90b3R5cGUuZ2V0VG9rZW5pemVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gU25pcHBldE1hbmFnZXIuJHRva2VuaXplcjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNuaXBwZXRNYW5hZ2VyLiR0b2tlbml6ZXI7XG4gICAgfTtcblxuICAgIHRoaXMudG9rZW5pemVUbVNuaXBwZXQgPSBmdW5jdGlvbihzdHIsIHN0YXJ0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW5pemVyKCkuZ2V0TGluZVRva2VucyhzdHIsIHN0YXJ0U3RhdGUpLnRva2Vucy5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgcmV0dXJuIHgudmFsdWUgfHwgeDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldERlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uKGVkaXRvciwgbmFtZSkge1xuICAgICAgICBpZiAoL15bQS1aXVxcZCskLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG5hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnZhcmlhYmxlc1tuYW1lWzBdICsgXCJfX1wiXSB8fCB7fSlbaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy52YXJpYWJsZXMuX18gfHwge30pW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL15UTV8vLCBcIlwiKTtcblxuICAgICAgICBpZiAoIWVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHMgPSBlZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgc3dpdGNoKG5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJDVVJSRU5UX1dPUkRcIjpcbiAgICAgICAgICAgICAgICB2YXIgciA9IHMuZ2V0V29yZFJhbmdlKCk7XG4gICAgICAgICAgICBjYXNlIFwiU0VMRUNUSU9OXCI6XG4gICAgICAgICAgICBjYXNlIFwiU0VMRUNURURfVEVYVFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFRleHRSYW5nZShyKTtcbiAgICAgICAgICAgIGNhc2UgXCJDVVJSRU5UX0xJTkVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRMaW5lKGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyk7XG4gICAgICAgICAgICBjYXNlIFwiUFJFVl9MSU5FXCI6IC8vIG5vdCBwb3NzaWJsZSBpbiB0ZXh0bWF0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBzLmdldExpbmUoZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCkucm93IC0gMSk7XG4gICAgICAgICAgICBjYXNlIFwiTElORV9JTkRFWFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKS5jb2x1bW47XG4gICAgICAgICAgICBjYXNlIFwiTElORV9OVU1CRVJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCkucm93ICsgMTtcbiAgICAgICAgICAgIGNhc2UgXCJTT0ZUX1RBQlNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRVc2VTb2Z0VGFicygpID8gXCJZRVNcIiA6IFwiTk9cIjtcbiAgICAgICAgICAgIGNhc2UgXCJUQUJfU0laRVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFRhYlNpemUoKTtcbiAgICAgICAgICAgIGNhc2UgXCJGSUxFTkFNRVwiOlxuICAgICAgICAgICAgY2FzZSBcIkZJTEVQQVRIXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICBjYXNlIFwiRlVMTE5BTUVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJBY2VcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy52YXJpYWJsZXMgPSB7fTtcbiAgICB0aGlzLmdldFZhcmlhYmxlVmFsdWUgPSBmdW5jdGlvbihlZGl0b3IsIHZhck5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFyaWFibGVzLmhhc093blByb3BlcnR5KHZhck5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFibGVzW3Zhck5hbWVdKGVkaXRvciwgdmFyTmFtZSkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdldERlZmF1bHRWYWx1ZShlZGl0b3IsIHZhck5hbWUpIHx8IFwiXCI7XG4gICAgfTtcbiAgICB0aGlzLnRtU3RyRm9ybWF0ID0gZnVuY3Rpb24oc3RyLCBjaCwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBmbGFnID0gY2guZmxhZyB8fCBcIlwiO1xuICAgICAgICB2YXIgcmUgPSBjaC5ndWFyZDtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKHJlLCBmbGFnLnJlcGxhY2UoL1teZ2ldLywgXCJcIikpO1xuICAgICAgICB2YXIgZm10VG9rZW5zID0gdGhpcy50b2tlbml6ZVRtU25pcHBldChjaC5mbXQsIFwiZm9ybWF0U3RyaW5nXCIpO1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgZm9ybWF0dGVkID0gc3RyLnJlcGxhY2UocmUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NlbGYudmFyaWFibGVzLl9fID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgdmFyIGZtdFBhcnRzID0gX3NlbGYucmVzb2x2ZVZhcmlhYmxlcyhmbXRUb2tlbnMsIGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgZ0NoYW5nZUNhc2UgPSBcIkVcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgID0gMDsgaSA8IGZtdFBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoID0gZm10UGFydHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoLmNoYW5nZUNhc2UgJiYgY2gubG9jYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZm10UGFydHNbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgdHlwZW9mIG5leHQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaC5jaGFuZ2VDYXNlID09IFwidVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpXSA9IG5leHRbMF0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gbmV4dFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2kgKyAxXSA9IG5leHQuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoLmNoYW5nZUNhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdDaGFuZ2VDYXNlID0gY2guY2hhbmdlQ2FzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ0NoYW5nZUNhc2UgPT0gXCJVXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm10UGFydHNbaV0gPSBjaC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ0NoYW5nZUNhc2UgPT0gXCJMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm10UGFydHNbaV0gPSBjaC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbXRQYXJ0cy5qb2luKFwiXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMuX18gPSBudWxsO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc29sdmVWYXJpYWJsZXMgPSBmdW5jdGlvbihzbmlwcGV0LCBlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNuaXBwZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaCA9IHNuaXBwZXRbaV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNoID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjaCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaCAhPSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoLnNraXApIHtcbiAgICAgICAgICAgICAgICBnb3RvTmV4dChjaCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoLnByb2Nlc3NlZCA8IGkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2gudGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFyaWFibGVWYWx1ZShlZGl0b3IsIGNoLnRleHQpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBjaC5mbXRTdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy50bVN0ckZvcm1hdCh2YWx1ZSwgY2gpO1xuICAgICAgICAgICAgICAgIGNoLnByb2Nlc3NlZCA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGNoLmV4cGVjdElmID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RvTmV4dChjaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoLnNraXAgPSBjaC5lbHNlQnJhbmNoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG9OZXh0KGNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoLnRhYnN0b3BJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2gpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5jaGFuZ2VDYXNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ290b05leHQoY2gpIHtcbiAgICAgICAgICAgIHZhciBpMSA9IHNuaXBwZXQuaW5kZXhPZihjaCwgaSArIDEpO1xuICAgICAgICAgICAgaWYgKGkxICE9IC0xKVxuICAgICAgICAgICAgICAgIGkgPSBpMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICB0aGlzLmluc2VydFNuaXBwZXRGb3JTZWxlY3Rpb24gPSBmdW5jdGlvbihlZGl0b3IsIHNuaXBwZXRUZXh0KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGxpbmUgPSBlZGl0b3Iuc2Vzc2lvbi5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICB2YXIgdGFiU3RyaW5nID0gZWRpdG9yLnNlc3Npb24uZ2V0VGFiU3RyaW5nKCk7XG4gICAgICAgIHZhciBpbmRlbnRTdHJpbmcgPSBsaW5lLm1hdGNoKC9eXFxzKi8pWzBdO1xuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnNvci5jb2x1bW4gPCBpbmRlbnRTdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgaW5kZW50U3RyaW5nID0gaW5kZW50U3RyaW5nLnNsaWNlKDAsIGN1cnNvci5jb2x1bW4pO1xuXG4gICAgICAgIHZhciB0b2tlbnMgPSB0aGlzLnRva2VuaXplVG1TbmlwcGV0KHNuaXBwZXRUZXh0KTtcbiAgICAgICAgdG9rZW5zID0gdGhpcy5yZXNvbHZlVmFyaWFibGVzKHRva2VucywgZWRpdG9yKTtcbiAgICAgICAgdG9rZW5zID0gdG9rZW5zLm1hcChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICBpZiAoeCA9PSBcIlxcblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB4ICsgaW5kZW50U3RyaW5nO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgucmVwbGFjZSgvXFx0L2csIHRhYlN0cmluZyk7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0YWJzdG9wcyA9IFtdO1xuICAgICAgICB0b2tlbnMuZm9yRWFjaChmdW5jdGlvbihwLCBpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB2YXIgaWQgPSBwLnRhYnN0b3BJZDtcbiAgICAgICAgICAgIHZhciB0cyA9IHRhYnN0b3BzW2lkXTtcbiAgICAgICAgICAgIGlmICghdHMpIHtcbiAgICAgICAgICAgICAgICB0cyA9IHRhYnN0b3BzW2lkXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRzLmluZGV4ID0gaWQ7XG4gICAgICAgICAgICAgICAgdHMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRzLmluZGV4T2YocCkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRzLnB1c2gocCk7XG4gICAgICAgICAgICB2YXIgaTEgPSB0b2tlbnMuaW5kZXhPZihwLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoaTEgPT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW5zLnNsaWNlKGkgKyAxLCBpMSk7XG4gICAgICAgICAgICB2YXIgaXNOZXN0ZWQgPSB2YWx1ZS5zb21lKGZ1bmN0aW9uKHQpIHtyZXR1cm4gdHlwZW9mIHQgPT09IFwib2JqZWN0XCJ9KTsgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaXNOZXN0ZWQgJiYgIXRzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICYmICghdHMudmFsdWUgfHwgdHlwZW9mIHRzLnZhbHVlICE9PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgIHRzLnZhbHVlID0gdmFsdWUuam9pbihcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRhYnN0b3BzLmZvckVhY2goZnVuY3Rpb24odHMpIHt0cy5sZW5ndGggPSAwfSk7XG4gICAgICAgIHZhciBleHBhbmRpbmcgPSB7fTtcbiAgICAgICAgZnVuY3Rpb24gY29weVZhbHVlKHZhbCkge1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB2YWxbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGFuZGluZ1twLnRhYnN0b3BJZF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGogPSB2YWwubGFzdEluZGV4T2YocCwgaSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBwID0gY29weVtqXSB8fCB7dGFic3RvcElkOiBwLnRhYnN0b3BJZH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvcHlbaV0gPSBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB2YXIgaWQgPSBwLnRhYnN0b3BJZDtcbiAgICAgICAgICAgIHZhciBpMSA9IHRva2Vucy5pbmRleE9mKHAsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChleHBhbmRpbmdbaWRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4cGFuZGluZ1tpZF0gPT09IHApXG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZGluZ1tpZF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdHMgPSB0YWJzdG9wc1tpZF07XG4gICAgICAgICAgICB2YXIgYXJnID0gdHlwZW9mIHRzLnZhbHVlID09IFwic3RyaW5nXCIgPyBbdHMudmFsdWVdIDogY29weVZhbHVlKHRzLnZhbHVlKTtcbiAgICAgICAgICAgIGFyZy51bnNoaWZ0KGkgKyAxLCBNYXRoLm1heCgwLCBpMSAtIGkpKTtcbiAgICAgICAgICAgIGFyZy5wdXNoKHApO1xuICAgICAgICAgICAgZXhwYW5kaW5nW2lkXSA9IHA7XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlLmFwcGx5KHRva2VucywgYXJnKTtcblxuICAgICAgICAgICAgaWYgKHRzLmluZGV4T2YocCkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHRzLnB1c2gocCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdyA9IDAsIGNvbHVtbiA9IDA7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRbMF0gPT09IFwiXFxuXCIpe1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSB0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHJvdyArKztcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uICs9IHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRleHQgKz0gdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0LnN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICB0LnN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0LmVuZCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciBlbmQgPSBlZGl0b3Iuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCB0ZXh0KTtcblxuICAgICAgICB2YXIgdGFic3RvcE1hbmFnZXIgPSBuZXcgVGFic3RvcE1hbmFnZXIoZWRpdG9yKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbklkID0gZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgJiYgZWRpdG9yLnNlbGVjdGlvbi5pbmRleDtcbiAgICAgICAgdGFic3RvcE1hbmFnZXIuYWRkVGFic3RvcHModGFic3RvcHMsIHJhbmdlLnN0YXJ0LCBlbmQsIHNlbGVjdGlvbklkKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaW5zZXJ0U25pcHBldCA9IGZ1bmN0aW9uKGVkaXRvciwgc25pcHBldFRleHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5pbnNlcnRTbmlwcGV0Rm9yU2VsZWN0aW9uKGVkaXRvciwgc25pcHBldFRleHQpO1xuICAgICAgICBcbiAgICAgICAgZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmluc2VydFNuaXBwZXRGb3JTZWxlY3Rpb24oZWRpdG9yLCBzbmlwcGV0VGV4dCk7XG4gICAgICAgIH0sIG51bGwsIHtrZWVwT3JkZXI6IHRydWV9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlZGl0b3IudGFic3RvcE1hbmFnZXIpXG4gICAgICAgICAgICBlZGl0b3IudGFic3RvcE1hbmFnZXIudGFiTmV4dCgpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRTY29wZSA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgc2NvcGUgPSBlZGl0b3Iuc2Vzc2lvbi4kbW9kZS4kaWQgfHwgXCJcIjtcbiAgICAgICAgc2NvcGUgPSBzY29wZS5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgICAgIGlmIChzY29wZSA9PT0gXCJodG1sXCIgfHwgc2NvcGUgPT09IFwicGhwXCIpIHtcbiAgICAgICAgICAgIGlmIChzY29wZSA9PT0gXCJwaHBcIiAmJiAhZWRpdG9yLnNlc3Npb24uJG1vZGUuaW5saW5lUGhwKSBcbiAgICAgICAgICAgICAgICBzY29wZSA9IFwiaHRtbFwiO1xuICAgICAgICAgICAgdmFyIGMgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5zZXNzaW9uLmdldFN0YXRlKGMucm93KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLnN1YnN0cmluZykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgMykgPT0gXCJqcy1cIilcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUgPSBcImphdmFzY3JpcHRcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgNCkgPT0gXCJjc3MtXCIpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gXCJjc3NcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgNCkgPT0gXCJwaHAtXCIpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gXCJwaHBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFjdGl2ZVNjb3BlcyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLiRnZXRTY29wZShlZGl0b3IpO1xuICAgICAgICB2YXIgc2NvcGVzID0gW3Njb3BlXTtcbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSB0aGlzLnNuaXBwZXRNYXA7XG4gICAgICAgIGlmIChzbmlwcGV0TWFwW3Njb3BlXSAmJiBzbmlwcGV0TWFwW3Njb3BlXS5pbmNsdWRlU2NvcGVzKSB7XG4gICAgICAgICAgICBzY29wZXMucHVzaC5hcHBseShzY29wZXMsIHNuaXBwZXRNYXBbc2NvcGVdLmluY2x1ZGVTY29wZXMpO1xuICAgICAgICB9XG4gICAgICAgIHNjb3Blcy5wdXNoKFwiX1wiKTtcbiAgICAgICAgcmV0dXJuIHNjb3BlcztcbiAgICB9O1xuXG4gICAgdGhpcy5leHBhbmRXaXRoVGFiID0gZnVuY3Rpb24oZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IGVkaXRvci5mb3JFYWNoU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZXhwYW5kU25pcHBldEZvclNlbGVjdGlvbihlZGl0b3IsIG9wdGlvbnMpO1xuICAgICAgICB9LCBudWxsLCB7a2VlcE9yZGVyOiB0cnVlfSk7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgZWRpdG9yLnRhYnN0b3BNYW5hZ2VyKVxuICAgICAgICAgICAgZWRpdG9yLnRhYnN0b3BNYW5hZ2VyLnRhYk5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZXhwYW5kU25pcHBldEZvclNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVkaXRvciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIGJlZm9yZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICB2YXIgYWZ0ZXIgPSBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKTtcblxuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXQ7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcikuc29tZShmdW5jdGlvbihzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNuaXBwZXRzID0gc25pcHBldE1hcFtzY29wZV07XG4gICAgICAgICAgICBpZiAoc25pcHBldHMpXG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHRoaXMuZmluZE1hdGNoaW5nU25pcHBldChzbmlwcGV0cywgYmVmb3JlLCBhZnRlcik7XG4gICAgICAgICAgICByZXR1cm4gISFzbmlwcGV0O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgaWYgKCFzbmlwcGV0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRyeVJ1bilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBlZGl0b3Iuc2Vzc2lvbi5kb2MucmVtb3ZlSW5MaW5lKGN1cnNvci5yb3csXG4gICAgICAgICAgICBjdXJzb3IuY29sdW1uIC0gc25pcHBldC5yZXBsYWNlQmVmb3JlLmxlbmd0aCxcbiAgICAgICAgICAgIGN1cnNvci5jb2x1bW4gKyBzbmlwcGV0LnJlcGxhY2VBZnRlci5sZW5ndGhcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5NX18gPSBzbmlwcGV0Lm1hdGNoQmVmb3JlO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcy5UX18gPSBzbmlwcGV0Lm1hdGNoQWZ0ZXI7XG4gICAgICAgIHRoaXMuaW5zZXJ0U25pcHBldEZvclNlbGVjdGlvbihlZGl0b3IsIHNuaXBwZXQuY29udGVudCk7XG5cbiAgICAgICAgdGhpcy52YXJpYWJsZXMuTV9fID0gdGhpcy52YXJpYWJsZXMuVF9fID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZmluZE1hdGNoaW5nU25pcHBldCA9IGZ1bmN0aW9uKHNuaXBwZXRMaXN0LCBiZWZvcmUsIGFmdGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzbmlwcGV0TGlzdC5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciBzID0gc25pcHBldExpc3RbaV07XG4gICAgICAgICAgICBpZiAocy5zdGFydFJlICYmICFzLnN0YXJ0UmUudGVzdChiZWZvcmUpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHMuZW5kUmUgJiYgIXMuZW5kUmUudGVzdChhZnRlcikpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXMuc3RhcnRSZSAmJiAhcy5lbmRSZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgcy5tYXRjaEJlZm9yZSA9IHMuc3RhcnRSZSA/IHMuc3RhcnRSZS5leGVjKGJlZm9yZSkgOiBbXCJcIl07XG4gICAgICAgICAgICBzLm1hdGNoQWZ0ZXIgPSBzLmVuZFJlID8gcy5lbmRSZS5leGVjKGFmdGVyKSA6IFtcIlwiXTtcbiAgICAgICAgICAgIHMucmVwbGFjZUJlZm9yZSA9IHMudHJpZ2dlclJlID8gcy50cmlnZ2VyUmUuZXhlYyhiZWZvcmUpWzBdIDogXCJcIjtcbiAgICAgICAgICAgIHMucmVwbGFjZUFmdGVyID0gcy5lbmRUcmlnZ2VyUmUgPyBzLmVuZFRyaWdnZXJSZS5leGVjKGFmdGVyKVswXSA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNuaXBwZXRNYXAgPSB7fTtcbiAgICB0aGlzLnNuaXBwZXROYW1lTWFwID0ge307XG4gICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKHNuaXBwZXRzLCBzY29wZSkge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXROYW1lTWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzbmlwcGV0cykgXG4gICAgICAgICAgICBzbmlwcGV0cyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gd3JhcFJlZ2V4cChzcmMpIHtcbiAgICAgICAgICAgIGlmIChzcmMgJiYgIS9eXFxeP1xcKC4qXFwpXFwkPyR8XlxcXFxiJC8udGVzdChzcmMpKVxuICAgICAgICAgICAgICAgIHNyYyA9IFwiKD86XCIgKyBzcmMgKyBcIilcIjtcblxuICAgICAgICAgICAgcmV0dXJuIHNyYyB8fCBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGd1YXJkZWRSZWdleHAocmUsIGd1YXJkLCBvcGVuaW5nKSB7XG4gICAgICAgICAgICByZSA9IHdyYXBSZWdleHAocmUpO1xuICAgICAgICAgICAgZ3VhcmQgPSB3cmFwUmVnZXhwKGd1YXJkKTtcbiAgICAgICAgICAgIGlmIChvcGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgcmUgPSBndWFyZCArIHJlO1xuICAgICAgICAgICAgICAgIGlmIChyZSAmJiByZVtyZS5sZW5ndGggLSAxXSAhPSBcIiRcIilcbiAgICAgICAgICAgICAgICAgICAgcmUgPSByZSArIFwiJFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZSA9IHJlICsgZ3VhcmQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlICYmIHJlWzBdICE9IFwiXlwiKVxuICAgICAgICAgICAgICAgICAgICByZSA9IFwiXlwiICsgcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRTbmlwcGV0KHMpIHtcbiAgICAgICAgICAgIGlmICghcy5zY29wZSlcbiAgICAgICAgICAgICAgICBzLnNjb3BlID0gc2NvcGUgfHwgXCJfXCI7XG4gICAgICAgICAgICBzY29wZSA9IHMuc2NvcGU7XG4gICAgICAgICAgICBpZiAoIXNuaXBwZXRNYXBbc2NvcGVdKSB7XG4gICAgICAgICAgICAgICAgc25pcHBldE1hcFtzY29wZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBzbmlwcGV0TmFtZU1hcFtzY29wZV0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1hcCA9IHNuaXBwZXROYW1lTWFwW3Njb3BlXTtcbiAgICAgICAgICAgIGlmIChzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkID0gbWFwW3MubmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG9sZClcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51bnJlZ2lzdGVyKG9sZCk7XG4gICAgICAgICAgICAgICAgbWFwW3MubmFtZV0gPSBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc25pcHBldE1hcFtzY29wZV0ucHVzaChzKTtcblxuICAgICAgICAgICAgaWYgKHMudGFiVHJpZ2dlciAmJiAhcy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzLmd1YXJkICYmIC9eXFx3Ly50ZXN0KHMudGFiVHJpZ2dlcikpXG4gICAgICAgICAgICAgICAgICAgIHMuZ3VhcmQgPSBcIlxcXFxiXCI7XG4gICAgICAgICAgICAgICAgcy50cmlnZ2VyID0gbGFuZy5lc2NhcGVSZWdFeHAocy50YWJUcmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFzLnRyaWdnZXIgJiYgIXMuZ3VhcmQgJiYgIXMuZW5kVHJpZ2dlciAmJiAhcy5lbmRHdWFyZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHMuc3RhcnRSZSA9IGd1YXJkZWRSZWdleHAocy50cmlnZ2VyLCBzLmd1YXJkLCB0cnVlKTtcbiAgICAgICAgICAgIHMudHJpZ2dlclJlID0gbmV3IFJlZ0V4cChzLnRyaWdnZXIsIFwiXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBzLmVuZFJlID0gZ3VhcmRlZFJlZ2V4cChzLmVuZFRyaWdnZXIsIHMuZW5kR3VhcmQsIHRydWUpO1xuICAgICAgICAgICAgcy5lbmRUcmlnZ2VyUmUgPSBuZXcgUmVnRXhwKHMuZW5kVHJpZ2dlciwgXCJcIiwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc25pcHBldHMgJiYgc25pcHBldHMuY29udGVudClcbiAgICAgICAgICAgIGFkZFNuaXBwZXQoc25pcHBldHMpO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNuaXBwZXRzKSlcbiAgICAgICAgICAgIHNuaXBwZXRzLmZvckVhY2goYWRkU25pcHBldCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zaWduYWwoXCJyZWdpc3RlclNuaXBwZXRzXCIsIHtzY29wZTogc2NvcGV9KTtcbiAgICB9O1xuICAgIHRoaXMudW5yZWdpc3RlciA9IGZ1bmN0aW9uKHNuaXBwZXRzLCBzY29wZSkge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXROYW1lTWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVTbmlwcGV0KHMpIHtcbiAgICAgICAgICAgIHZhciBuYW1lTWFwID0gc25pcHBldE5hbWVNYXBbcy5zY29wZXx8c2NvcGVdO1xuICAgICAgICAgICAgaWYgKG5hbWVNYXAgJiYgbmFtZU1hcFtzLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5hbWVNYXBbcy5uYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gc25pcHBldE1hcFtzLnNjb3BlfHxzY29wZV07XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBtYXAgJiYgbWFwLmluZGV4T2Yocyk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc25pcHBldHMuY29udGVudClcbiAgICAgICAgICAgIHJlbW92ZVNuaXBwZXQoc25pcHBldHMpO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNuaXBwZXRzKSlcbiAgICAgICAgICAgIHNuaXBwZXRzLmZvckVhY2gocmVtb3ZlU25pcHBldCk7XG4gICAgfTtcbiAgICB0aGlzLnBhcnNlU25pcHBldEZpbGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcci9nLCBcIlwiKTtcbiAgICAgICAgdmFyIGxpc3QgPSBbXSwgc25pcHBldCA9IHt9O1xuICAgICAgICB2YXIgcmUgPSAvXiMuKnxeKHtbXFxzXFxTXSp9KVxccyokfF4oXFxTKykgKC4qKSR8XigoPzpcXG4qXFx0LiopKykvZ207XG4gICAgICAgIHZhciBtO1xuICAgICAgICB3aGlsZSAobSA9IHJlLmV4ZWMoc3RyKSkge1xuICAgICAgICAgICAgaWYgKG1bMV0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0ID0gSlNPTi5wYXJzZShtWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB9IGlmIChtWzRdKSB7XG4gICAgICAgICAgICAgICAgc25pcHBldC5jb250ZW50ID0gbVs0XS5yZXBsYWNlKC9eXFx0L2dtLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goc25pcHBldCk7XG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHt9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbVsyXSwgdmFsID0gbVszXTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3VhcmRSZSA9IC9cXC8oKD86W15cXC9cXFxcXXxcXFxcLikqKXwkL2c7XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZ3VhcmQgPSBndWFyZFJlLmV4ZWModmFsKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldC50cmlnZ2VyID0gZ3VhcmRSZS5leGVjKHZhbClbMV07XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZW5kVHJpZ2dlciA9IGd1YXJkUmUuZXhlYyh2YWwpWzFdO1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LmVuZEd1YXJkID0gZ3VhcmRSZS5leGVjKHZhbClbMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gXCJzbmlwcGV0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldC50YWJUcmlnZ2VyID0gdmFsLm1hdGNoKC9eXFxTKi8pWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNuaXBwZXQubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXQubmFtZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0W2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH07XG4gICAgdGhpcy5nZXRTbmlwcGV0QnlOYW1lID0gZnVuY3Rpb24obmFtZSwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBzbmlwcGV0TWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXQ7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcikuc29tZShmdW5jdGlvbihzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNuaXBwZXRzID0gc25pcHBldE1hcFtzY29wZV07XG4gICAgICAgICAgICBpZiAoc25pcHBldHMpXG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHNuaXBwZXRzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuICEhc25pcHBldDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBzbmlwcGV0O1xuICAgIH07XG5cbn0pLmNhbGwoU25pcHBldE1hbmFnZXIucHJvdG90eXBlKTtcblxuXG52YXIgVGFic3RvcE1hbmFnZXIgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBpZiAoZWRpdG9yLnRhYnN0b3BNYW5hZ2VyKVxuICAgICAgICByZXR1cm4gZWRpdG9yLnRhYnN0b3BNYW5hZ2VyO1xuICAgIGVkaXRvci50YWJzdG9wTWFuYWdlciA9IHRoaXM7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kb25DaGFuZ2VTZWxlY3Rpb24gPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25DaGFuZ2VTZWxlY3Rpb24uYmluZCh0aGlzKSkuc2NoZWR1bGU7XG4gICAgdGhpcy4kb25DaGFuZ2VTZXNzaW9uID0gdGhpcy5vbkNoYW5nZVNlc3Npb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLiRvbkFmdGVyRXhlYyA9IHRoaXMub25BZnRlckV4ZWMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmF0dGFjaChlZGl0b3IpO1xufTtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy50YWJzdG9wcyA9IFtdO1xuICAgICAgICB0aGlzLiRvcGVuVGFic3RvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFic3RvcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25DaGFuZ2VTZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLmVkaXRvci5vbihcImNoYW5nZVNlc3Npb25cIiwgdGhpcy4kb25DaGFuZ2VTZXNzaW9uKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tbWFuZHMub24oXCJhZnRlckV4ZWNcIiwgdGhpcy4kb25BZnRlckV4ZWMpO1xuICAgICAgICB0aGlzLmVkaXRvci5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgfTtcbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRhYnN0b3BzLmZvckVhY2godGhpcy5yZW1vdmVUYWJzdG9wTWFya2VycywgdGhpcyk7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWJzdG9wcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWJzdG9wID0gbnVsbDtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy4kb25DaGFuZ2UpO1xuICAgICAgICB0aGlzLmVkaXRvci5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVNlbGVjdGlvblwiLCB0aGlzLiRvbkNoYW5nZVNlbGVjdGlvbik7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlU2Vzc2lvblwiLCB0aGlzLiRvbkNoYW5nZVNlc3Npb24pO1xuICAgICAgICB0aGlzLmVkaXRvci5jb21tYW5kcy5yZW1vdmVMaXN0ZW5lcihcImFmdGVyRXhlY1wiLCB0aGlzLiRvbkFmdGVyRXhlYyk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmtleUJpbmRpbmcucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3IudGFic3RvcE1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRvciA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgY2hhbmdlUmFuZ2UgPSBkZWx0YTtcbiAgICAgICAgdmFyIGlzUmVtb3ZlID0gZGVsdGEuYWN0aW9uWzBdID09IFwiclwiO1xuICAgICAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IGRlbHRhLmVuZDtcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gc3RhcnQucm93O1xuICAgICAgICB2YXIgZW5kUm93ID0gZW5kLnJvdztcbiAgICAgICAgdmFyIGxpbmVEaWYgPSBlbmRSb3cgLSBzdGFydFJvdztcbiAgICAgICAgdmFyIGNvbERpZmYgPSBlbmQuY29sdW1uIC0gc3RhcnQuY29sdW1uO1xuXG4gICAgICAgIGlmIChpc1JlbW92ZSkge1xuICAgICAgICAgICAgbGluZURpZiA9IC1saW5lRGlmO1xuICAgICAgICAgICAgY29sRGlmZiA9IC1jb2xEaWZmO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy4kaW5DaGFuZ2UgJiYgaXNSZW1vdmUpIHtcbiAgICAgICAgICAgIHZhciB0cyA9IHRoaXMuc2VsZWN0ZWRUYWJzdG9wO1xuICAgICAgICAgICAgdmFyIGNoYW5nZWRPdXRzaWRlID0gdHMgJiYgIXRzLnNvbWUoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlUG9pbnRzKHIuc3RhcnQsIHN0YXJ0KSA8PSAwICYmIGNvbXBhcmVQb2ludHMoci5lbmQsIGVuZCkgPj0gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRPdXRzaWRlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLnJhbmdlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKHIuZW5kLnJvdyA8IHN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZlICYmIGNvbXBhcmVQb2ludHMoc3RhcnQsIHIuc3RhcnQpIDwgMCAmJiBjb21wYXJlUG9pbnRzKGVuZCwgci5lbmQpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmFuZ2Uocik7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoci5zdGFydC5yb3cgPT0gc3RhcnRSb3cgJiYgci5zdGFydC5jb2x1bW4gPiBzdGFydC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgci5zdGFydC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPT0gc3RhcnRSb3cgJiYgci5lbmQuY29sdW1uID49IHN0YXJ0LmNvbHVtbilcbiAgICAgICAgICAgICAgICByLmVuZC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgICAgIGlmIChyLnN0YXJ0LnJvdyA+PSBzdGFydFJvdylcbiAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgaWYgKHIuZW5kLnJvdyA+PSBzdGFydFJvdylcbiAgICAgICAgICAgICAgICByLmVuZC5yb3cgKz0gbGluZURpZjtcblxuICAgICAgICAgICAgaWYgKGNvbXBhcmVQb2ludHMoci5zdGFydCwgci5lbmQpID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVJhbmdlKHIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUxpbmtlZEZpZWxkcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdHMgPSB0aGlzLnNlbGVjdGVkVGFic3RvcDtcbiAgICAgICAgaWYgKCF0cyB8fCAhdHMuaGFzTGlua2VkUmFuZ2VzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLiRpbkNoYW5nZSA9IHRydWU7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5lZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHRleHQgPSBzZXNzaW9uLmdldFRleHRSYW5nZSh0cy5maXJzdE5vbkxpbmtlZCk7XG4gICAgICAgIGZvciAodmFyIGkgPSB0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRzW2ldO1xuICAgICAgICAgICAgaWYgKCFyYW5nZS5saW5rZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB2YXIgZm10ID0gZXhwb3J0cy5zbmlwcGV0TWFuYWdlci50bVN0ckZvcm1hdCh0ZXh0LCByYW5nZS5vcmlnaW5hbCk7XG4gICAgICAgICAgICBzZXNzaW9uLnJlcGxhY2UocmFuZ2UsIGZtdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kaW5DaGFuZ2UgPSBmYWxzZTtcbiAgICB9O1xuICAgIHRoaXMub25BZnRlckV4ZWMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmNvbW1hbmQgJiYgIWUuY29tbWFuZC5yZWFkT25seSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGlua2VkRmllbGRzKCk7XG4gICAgfTtcbiAgICB0aGlzLm9uQ2hhbmdlU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5lZGl0b3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmxlYWQ7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24uYW5jaG9yO1xuICAgICAgICB2YXIgaXNFbXB0eSA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5pc0VtcHR5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlc1tpXS5saW5rZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB2YXIgY29udGFpbnNMZWFkID0gdGhpcy5yYW5nZXNbaV0uY29udGFpbnMobGVhZC5yb3csIGxlYWQuY29sdW1uKTtcbiAgICAgICAgICAgIHZhciBjb250YWluc0FuY2hvciA9IGlzRW1wdHkgfHwgdGhpcy5yYW5nZXNbaV0uY29udGFpbnMoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY29udGFpbnNMZWFkICYmIGNvbnRhaW5zQW5jaG9yKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG4gICAgdGhpcy5vbkNoYW5nZVNlc3Npb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuICAgIHRoaXMudGFiTmV4dCA9IGZ1bmN0aW9uKGRpcikge1xuICAgICAgICB2YXIgbWF4ID0gdGhpcy50YWJzdG9wcy5sZW5ndGg7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXggKyAoZGlyIHx8IDEpO1xuICAgICAgICBpbmRleCA9IE1hdGgubWluKE1hdGgubWF4KGluZGV4LCAxKSwgbWF4KTtcbiAgICAgICAgaWYgKGluZGV4ID09IG1heClcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZWxlY3RUYWJzdG9wKGluZGV4KTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VGFic3RvcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHRoaXMuJG9wZW5UYWJzdG9wcyA9IG51bGw7XG4gICAgICAgIHZhciB0cyA9IHRoaXMudGFic3RvcHNbdGhpcy5pbmRleF07XG4gICAgICAgIGlmICh0cylcbiAgICAgICAgICAgIHRoaXMuYWRkVGFic3RvcE1hcmtlcnModHMpO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRzID0gdGhpcy50YWJzdG9wc1t0aGlzLmluZGV4XTtcbiAgICAgICAgaWYgKCF0cyB8fCAhdHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRhYnN0b3AgPSB0cztcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKSB7ICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZWwgPSB0aGlzLmVkaXRvci5tdWx0aVNlbGVjdDtcbiAgICAgICAgICAgIHNlbC50b1NpbmdsZVJhbmdlKHRzLmZpcnN0Tm9uTGlua2VkLmNsb25lKCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIGlmICh0cy5oYXNMaW5rZWRSYW5nZXMgJiYgdHNbaV0ubGlua2VkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UodHNbaV0uY2xvbmUoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsLnJhbmdlc1swXSlcbiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2Uoc2VsLnJhbmdlc1swXS5jbG9uZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZSh0cy5maXJzdE5vbkxpbmtlZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWRpdG9yLmtleUJpbmRpbmcuYWRkS2V5Ym9hcmRIYW5kbGVyKHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkVGFic3RvcHMgPSBmdW5jdGlvbih0YWJzdG9wcywgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoIXRoaXMuJG9wZW5UYWJzdG9wcylcbiAgICAgICAgICAgIHRoaXMuJG9wZW5UYWJzdG9wcyA9IFtdO1xuICAgICAgICBpZiAoIXRhYnN0b3BzWzBdKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFJhbmdlLmZyb21Qb2ludHMoZW5kLCBlbmQpO1xuICAgICAgICAgICAgbW92ZVJlbGF0aXZlKHAuc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgICAgIG1vdmVSZWxhdGl2ZShwLmVuZCwgc3RhcnQpO1xuICAgICAgICAgICAgdGFic3RvcHNbMF0gPSBbcF07XG4gICAgICAgICAgICB0YWJzdG9wc1swXS5pbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHZhciBhcmcgPSBbaSArIDEsIDBdO1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG4gICAgICAgIHRhYnN0b3BzLmZvckVhY2goZnVuY3Rpb24odHMsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGVzdCA9IHRoaXMuJG9wZW5UYWJzdG9wc1tpbmRleF0gfHwgdHM7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSB0c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHAuc3RhcnQsIHAuZW5kIHx8IHAuc3RhcnQpO1xuICAgICAgICAgICAgICAgIG1vdmVQb2ludChyYW5nZS5zdGFydCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgIG1vdmVQb2ludChyYW5nZS5lbmQsIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5vcmlnaW5hbCA9IHA7XG4gICAgICAgICAgICAgICAgcmFuZ2UudGFic3RvcCA9IGRlc3Q7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChkZXN0ICE9IHRzKVxuICAgICAgICAgICAgICAgICAgICBkZXN0LnVuc2hpZnQocmFuZ2UpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZGVzdFtpXSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChwLmZtdFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5saW5rZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkZXN0Lmhhc0xpbmtlZFJhbmdlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGVzdC5maXJzdE5vbkxpbmtlZClcbiAgICAgICAgICAgICAgICAgICAgZGVzdC5maXJzdE5vbkxpbmtlZCA9IHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkZXN0LmZpcnN0Tm9uTGlua2VkKVxuICAgICAgICAgICAgICAgIGRlc3QuaGFzTGlua2VkUmFuZ2VzID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZGVzdCA9PT0gdHMpIHtcbiAgICAgICAgICAgICAgICBhcmcucHVzaChkZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRvcGVuVGFic3RvcHNbaW5kZXhdID0gZGVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkVGFic3RvcE1hcmtlcnMoZGVzdCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFyZy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YWJzdG9wcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYXJnLnB1c2goYXJnLnNwbGljZSgyLCAxKVswXSk7XG4gICAgICAgICAgICB0aGlzLnRhYnN0b3BzLnNwbGljZS5hcHBseSh0aGlzLnRhYnN0b3BzLCBhcmcpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYWRkVGFic3RvcE1hcmtlcnMgPSBmdW5jdGlvbih0cykge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZWRpdG9yLnNlc3Npb247XG4gICAgICAgIHRzLmZvckVhY2goZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmICAoIXJhbmdlLm1hcmtlcklkKVxuICAgICAgICAgICAgICAgIHJhbmdlLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIocmFuZ2UsIFwiYWNlX3NuaXBwZXQtbWFya2VyXCIsIFwidGV4dFwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZVRhYnN0b3BNYXJrZXJzID0gZnVuY3Rpb24odHMpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLmVkaXRvci5zZXNzaW9uO1xuICAgICAgICB0cy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXJJZCk7XG4gICAgICAgICAgICByYW5nZS5tYXJrZXJJZCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHZhciBpID0gcmFuZ2UudGFic3RvcC5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgcmFuZ2UudGFic3RvcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGkgPSB0aGlzLnJhbmdlcy5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgdGhpcy5yYW5nZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB0aGlzLmVkaXRvci5zZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXJJZCk7XG4gICAgICAgIGlmICghcmFuZ2UudGFic3RvcC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLnRhYnN0b3BzLmluZGV4T2YocmFuZ2UudGFic3RvcCk7XG4gICAgICAgICAgICBpZiAoaSAhPSAtMSlcbiAgICAgICAgICAgICAgICB0aGlzLnRhYnN0b3BzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGlmICghdGhpcy50YWJzdG9wcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlciA9IG5ldyBIYXNoSGFuZGxlcigpO1xuICAgIHRoaXMua2V5Ym9hcmRIYW5kbGVyLmJpbmRLZXlzKHtcbiAgICAgICAgXCJUYWJcIjogZnVuY3Rpb24oZWQpIHtcbiAgICAgICAgICAgIGlmIChleHBvcnRzLnNuaXBwZXRNYW5hZ2VyICYmIGV4cG9ydHMuc25pcHBldE1hbmFnZXIuZXhwYW5kV2l0aFRhYihlZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVkLnRhYnN0b3BNYW5hZ2VyLnRhYk5leHQoMSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiU2hpZnQtVGFiXCI6IGZ1bmN0aW9uKGVkKSB7XG4gICAgICAgICAgICBlZC50YWJzdG9wTWFuYWdlci50YWJOZXh0KC0xKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJFc2NcIjogZnVuY3Rpb24oZWQpIHtcbiAgICAgICAgICAgIGVkLnRhYnN0b3BNYW5hZ2VyLmRldGFjaCgpO1xuICAgICAgICB9LFxuICAgICAgICBcIlJldHVyblwiOiBmdW5jdGlvbihlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59KS5jYWxsKFRhYnN0b3BNYW5hZ2VyLnByb3RvdHlwZSk7XG5cblxuXG52YXIgY2hhbmdlVHJhY2tlciA9IHt9O1xuY2hhbmdlVHJhY2tlci5vbkNoYW5nZSA9IEFuY2hvci5wcm90b3R5cGUub25DaGFuZ2U7XG5jaGFuZ2VUcmFja2VyLnNldFBvc2l0aW9uID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICB0aGlzLnBvcy5yb3cgPSByb3c7XG4gICAgdGhpcy5wb3MuY29sdW1uID0gY29sdW1uO1xufTtcbmNoYW5nZVRyYWNrZXIudXBkYXRlID0gZnVuY3Rpb24ocG9zLCBkZWx0YSwgJGluc2VydFJpZ2h0KSB7XG4gICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSAkaW5zZXJ0UmlnaHQ7XG4gICAgdGhpcy5wb3MgPSBwb3M7IFxuICAgIHRoaXMub25DaGFuZ2UoZGVsdGEpO1xufTtcblxudmFyIG1vdmVQb2ludCA9IGZ1bmN0aW9uKHBvaW50LCBkaWZmKSB7XG4gICAgaWYgKHBvaW50LnJvdyA9PSAwKVxuICAgICAgICBwb2ludC5jb2x1bW4gKz0gZGlmZi5jb2x1bW47XG4gICAgcG9pbnQucm93ICs9IGRpZmYucm93O1xufTtcblxudmFyIG1vdmVSZWxhdGl2ZSA9IGZ1bmN0aW9uKHBvaW50LCBzdGFydCkge1xuICAgIGlmIChwb2ludC5yb3cgPT0gc3RhcnQucm93KVxuICAgICAgICBwb2ludC5jb2x1bW4gLT0gc3RhcnQuY29sdW1uO1xuICAgIHBvaW50LnJvdyAtPSBzdGFydC5yb3c7XG59O1xuXG5cbmFjZXF1aXJlKFwiLi9saWIvZG9tXCIpLmltcG9ydENzc1N0cmluZyhcIlxcXG4uYWNlX3NuaXBwZXQtbWFya2VyIHtcXFxuICAgIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE5NCwgMTkzLCAyMDgsIDAuMDkpO1xcXG4gICAgYm9yZGVyOiAxcHggZG90dGVkIHJnYmEoMjExLCAyMDgsIDIzNSwgMC42Mik7XFxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcbn1cIik7XG5cbmV4cG9ydHMuc25pcHBldE1hbmFnZXIgPSBuZXcgU25pcHBldE1hbmFnZXIoKTtcblxuXG52YXIgRWRpdG9yID0gYWNlcXVpcmUoXCIuL2VkaXRvclwiKS5FZGl0b3I7XG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbnNlcnRTbmlwcGV0ID0gZnVuY3Rpb24oY29udGVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5zbmlwcGV0TWFuYWdlci5pbnNlcnRTbmlwcGV0KHRoaXMsIGNvbnRlbnQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgdGhpcy5leHBhbmRTbmlwcGV0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5zbmlwcGV0TWFuYWdlci5leHBhbmRXaXRoVGFiKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG59KS5jYWxsKEVkaXRvci5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGUvcG9wdXBcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS92aXJ0dWFsX3JlbmRlcmVyXCIsXCJhY2UvZWRpdG9yXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi9kb21cIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmVuZGVyZXIgPSBhY2VxdWlyZShcIi4uL3ZpcnR1YWxfcmVuZGVyZXJcIikuVmlydHVhbFJlbmRlcmVyO1xudmFyIEVkaXRvciA9IGFjZXF1aXJlKFwiLi4vZWRpdG9yXCIpLkVkaXRvcjtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgZXZlbnQgPSBhY2VxdWlyZShcIi4uL2xpYi9ldmVudFwiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5cbnZhciAkc2luZ2xlTGluZUVkaXRvciA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgdmFyIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGVsKTtcblxuICAgIHJlbmRlcmVyLiRtYXhMaW5lcyA9IDQ7XG5cbiAgICB2YXIgZWRpdG9yID0gbmV3IEVkaXRvcihyZW5kZXJlcik7XG5cbiAgICBlZGl0b3Iuc2V0SGlnaGxpZ2h0QWN0aXZlTGluZShmYWxzZSk7XG4gICAgZWRpdG9yLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7XG4gICAgZWRpdG9yLnJlbmRlcmVyLnNldFNob3dHdXR0ZXIoZmFsc2UpO1xuICAgIGVkaXRvci5yZW5kZXJlci5zZXRIaWdobGlnaHRHdXR0ZXJMaW5lKGZhbHNlKTtcblxuICAgIGVkaXRvci4kbW91c2VIYW5kbGVyLiRmb2N1c1dhaXRUaW1vdXQgPSAwO1xuICAgIGVkaXRvci4kaGlnaGxpZ2h0VGFnUGVuZGluZyA9IHRydWU7XG5cbiAgICByZXR1cm4gZWRpdG9yO1xufTtcblxudmFyIEFjZVBvcHVwID0gZnVuY3Rpb24ocGFyZW50Tm9kZSkge1xuICAgIHZhciBlbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHZhciBwb3B1cCA9IG5ldyAkc2luZ2xlTGluZUVkaXRvcihlbCk7XG5cbiAgICBpZiAocGFyZW50Tm9kZSlcbiAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChlbCk7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBvcHVwLnJlbmRlcmVyLmNvbnRlbnQuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgcG9wdXAucmVuZGVyZXIuc2V0U3R5bGUoXCJhY2VfYXV0b2NvbXBsZXRlXCIpO1xuXG4gICAgcG9wdXAuc2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiLCBmYWxzZSk7XG4gICAgcG9wdXAuc2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIsIDE1MCk7XG5cbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAgIHBvcHVwLmZvY3VzID0gbm9vcDtcbiAgICBwb3B1cC4kaXNGb2N1c2VkID0gdHJ1ZTtcblxuICAgIHBvcHVwLnJlbmRlcmVyLiRjdXJzb3JMYXllci5yZXN0YXJ0VGltZXIgPSBub29wO1xuICAgIHBvcHVwLnJlbmRlcmVyLiRjdXJzb3JMYXllci5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgcG9wdXAucmVuZGVyZXIuJG1heExpbmVzID0gODtcbiAgICBwb3B1cC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSBmYWxzZTtcblxuICAgIHBvcHVwLnNldEhpZ2hsaWdodEFjdGl2ZUxpbmUoZmFsc2UpO1xuICAgIHBvcHVwLnNlc3Npb24uaGlnaGxpZ2h0KFwiXCIpO1xuICAgIHBvcHVwLnNlc3Npb24uJHNlYXJjaEhpZ2hsaWdodC5jbGF6eiA9IFwiYWNlX2hpZ2hsaWdodC1tYXJrZXJcIjtcblxuICAgIHBvcHVwLm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHBvcyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgICAgICBwb3B1cC5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgc2VsZWN0aW9uTWFya2VyLnN0YXJ0LnJvdyA9IHNlbGVjdGlvbk1hcmtlci5lbmQucm93ID0gcG9zLnJvdztcbiAgICAgICAgZS5zdG9wKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgbGFzdE1vdXNlRXZlbnQ7XG4gICAgdmFyIGhvdmVyTWFya2VyID0gbmV3IFJhbmdlKC0xLDAsLTEsSW5maW5pdHkpO1xuICAgIHZhciBzZWxlY3Rpb25NYXJrZXIgPSBuZXcgUmFuZ2UoLTEsMCwtMSxJbmZpbml0eSk7XG4gICAgc2VsZWN0aW9uTWFya2VyLmlkID0gcG9wdXAuc2Vzc2lvbi5hZGRNYXJrZXIoc2VsZWN0aW9uTWFya2VyLCBcImFjZV9hY3RpdmUtbGluZVwiLCBcImZ1bGxMaW5lXCIpO1xuICAgIHBvcHVwLnNldFNlbGVjdE9uSG92ZXIgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgIGhvdmVyTWFya2VyLmlkID0gcG9wdXAuc2Vzc2lvbi5hZGRNYXJrZXIoaG92ZXJNYXJrZXIsIFwiYWNlX2xpbmUtaG92ZXJcIiwgXCJmdWxsTGluZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChob3Zlck1hcmtlci5pZCkge1xuICAgICAgICAgICAgcG9wdXAuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaG92ZXJNYXJrZXIuaWQpO1xuICAgICAgICAgICAgaG92ZXJNYXJrZXIuaWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwb3B1cC5zZXRTZWxlY3RPbkhvdmVyKGZhbHNlKTtcbiAgICBwb3B1cC5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghbGFzdE1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIGxhc3RNb3VzZUV2ZW50ID0gZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdE1vdXNlRXZlbnQueCA9PSBlLnggJiYgbGFzdE1vdXNlRXZlbnQueSA9PSBlLnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsYXN0TW91c2VFdmVudCA9IGU7XG4gICAgICAgIGxhc3RNb3VzZUV2ZW50LnNjcm9sbFRvcCA9IHBvcHVwLnJlbmRlcmVyLnNjcm9sbFRvcDtcbiAgICAgICAgdmFyIHJvdyA9IGxhc3RNb3VzZUV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3c7XG4gICAgICAgIGlmIChob3Zlck1hcmtlci5zdGFydC5yb3cgIT0gcm93KSB7XG4gICAgICAgICAgICBpZiAoIWhvdmVyTWFya2VyLmlkKVxuICAgICAgICAgICAgICAgIHBvcHVwLnNldFJvdyhyb3cpO1xuICAgICAgICAgICAgc2V0SG92ZXJNYXJrZXIocm93KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHBvcHVwLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobGFzdE1vdXNlRXZlbnQgJiYgaG92ZXJNYXJrZXIuc3RhcnQucm93ICE9IC0xKSB7XG4gICAgICAgICAgICBsYXN0TW91c2VFdmVudC4kcG9zID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByb3cgPSBsYXN0TW91c2VFdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICAgICAgaWYgKCFob3Zlck1hcmtlci5pZClcbiAgICAgICAgICAgICAgICBwb3B1cC5zZXRSb3cocm93KTtcbiAgICAgICAgICAgIHNldEhvdmVyTWFya2VyKHJvdywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwb3B1cC5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gcG9wdXAuZ2V0Um93KCk7XG4gICAgICAgIHZhciB0ID0gcG9wdXAucmVuZGVyZXIuJHRleHRMYXllcjtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gdC5lbGVtZW50LmNoaWxkTm9kZXNbcm93IC0gdC5jb25maWcuZmlyc3RSb3ddO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPT0gdC5zZWxlY3RlZE5vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0LnNlbGVjdGVkTm9kZSlcbiAgICAgICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyh0LnNlbGVjdGVkTm9kZSwgXCJhY2Vfc2VsZWN0ZWRcIik7XG4gICAgICAgIHQuc2VsZWN0ZWROb2RlID0gc2VsZWN0ZWQ7XG4gICAgICAgIGlmIChzZWxlY3RlZClcbiAgICAgICAgICAgIGRvbS5hZGRDc3NDbGFzcyhzZWxlY3RlZCwgXCJhY2Vfc2VsZWN0ZWRcIik7XG4gICAgfSk7XG4gICAgdmFyIGhpZGVIb3Zlck1hcmtlciA9IGZ1bmN0aW9uKCkgeyBzZXRIb3Zlck1hcmtlcigtMSkgfTtcbiAgICB2YXIgc2V0SG92ZXJNYXJrZXIgPSBmdW5jdGlvbihyb3csIHN1cHByZXNzUmVkcmF3KSB7XG4gICAgICAgIGlmIChyb3cgIT09IGhvdmVyTWFya2VyLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgaG92ZXJNYXJrZXIuc3RhcnQucm93ID0gaG92ZXJNYXJrZXIuZW5kLnJvdyA9IHJvdztcbiAgICAgICAgICAgIGlmICghc3VwcHJlc3NSZWRyYXcpXG4gICAgICAgICAgICAgICAgcG9wdXAuc2Vzc2lvbi5fZW1pdChcImNoYW5nZUJhY2tNYXJrZXJcIik7XG4gICAgICAgICAgICBwb3B1cC5fZW1pdChcImNoYW5nZUhvdmVyTWFya2VyXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwb3B1cC5nZXRIb3ZlcmVkUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBob3Zlck1hcmtlci5zdGFydC5yb3c7XG4gICAgfTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHBvcHVwLmNvbnRhaW5lciwgXCJtb3VzZW91dFwiLCBoaWRlSG92ZXJNYXJrZXIpO1xuICAgIHBvcHVwLm9uKFwiaGlkZVwiLCBoaWRlSG92ZXJNYXJrZXIpO1xuICAgIHBvcHVwLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGhpZGVIb3Zlck1hcmtlcik7XG5cbiAgICBwb3B1cC5zZXNzaW9uLmRvYy5nZXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBvcHVwLmRhdGEubGVuZ3RoO1xuICAgIH07XG4gICAgcG9wdXAuc2Vzc2lvbi5kb2MuZ2V0TGluZSA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3B1cC5kYXRhW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICByZXR1cm4gKGRhdGEgJiYgZGF0YS52YWx1ZSkgfHwgXCJcIjtcbiAgICB9O1xuXG4gICAgdmFyIGJnVG9rZW5pemVyID0gcG9wdXAuc2Vzc2lvbi5iZ1Rva2VuaXplcjtcbiAgICBiZ1Rva2VuaXplci4kdG9rZW5pemVSb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3B1cC5kYXRhW3Jvd107XG4gICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBkYXRhID0ge3ZhbHVlOiBkYXRhfTtcbiAgICAgICAgaWYgKCFkYXRhLmNhcHRpb24pXG4gICAgICAgICAgICBkYXRhLmNhcHRpb24gPSBkYXRhLnZhbHVlIHx8IGRhdGEubmFtZTtcblxuICAgICAgICB2YXIgbGFzdCA9IC0xO1xuICAgICAgICB2YXIgZmxhZywgYztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNhcHRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGMgPSBkYXRhLmNhcHRpb25baV07XG4gICAgICAgICAgICBmbGFnID0gZGF0YS5tYXRjaE1hc2sgJiAoMSA8PCBpKSA/IDEgOiAwO1xuICAgICAgICAgICAgaWYgKGxhc3QgIT09IGZsYWcpIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7dHlwZTogZGF0YS5jbGFzc05hbWUgfHwgXCJcIiArICggZmxhZyA/IFwiY29tcGxldGlvbi1oaWdobGlnaHRcIiA6IFwiXCIpLCB2YWx1ZTogY30pO1xuICAgICAgICAgICAgICAgIGxhc3QgPSBmbGFnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdLnZhbHVlICs9IGM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5tZXRhKSB7XG4gICAgICAgICAgICB2YXIgbWF4VyA9IHBvcHVwLnJlbmRlcmVyLiRzaXplLnNjcm9sbGVyV2lkdGggLyBwb3B1cC5yZW5kZXJlci5sYXllckNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgIHZhciBtZXRhRGF0YSA9IGRhdGEubWV0YTtcbiAgICAgICAgICAgIGlmIChtZXRhRGF0YS5sZW5ndGggKyBkYXRhLmNhcHRpb24ubGVuZ3RoID4gbWF4VyAtIDIpIHtcbiAgICAgICAgICAgICAgICBtZXRhRGF0YSA9IG1ldGFEYXRhLnN1YnN0cigwLCBtYXhXIC0gZGF0YS5jYXB0aW9uLmxlbmd0aCAtIDMpICsgXCJcXHUyMDI2XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHt0eXBlOiBcInJpZ2h0QWxpZ25lZFRleHRcIiwgdmFsdWU6IG1ldGFEYXRhfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIGJnVG9rZW5pemVyLiR1cGRhdGVPbkNoYW5nZSA9IG5vb3A7XG4gICAgYmdUb2tlbml6ZXIuc3RhcnQgPSBub29wO1xuXG4gICAgcG9wdXAuc2Vzc2lvbi4kY29tcHV0ZVdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoID0gMDtcbiAgICB9O1xuXG4gICAgcG9wdXAuJGJsb2NrU2Nyb2xsaW5nID0gSW5maW5pdHk7XG4gICAgcG9wdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgcG9wdXAuaXNUb3Bkb3duID0gZmFsc2U7XG5cbiAgICBwb3B1cC5kYXRhID0gW107XG4gICAgcG9wdXAuc2V0RGF0YSA9IGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgICAgcG9wdXAuc2V0VmFsdWUobGFuZy5zdHJpbmdSZXBlYXQoXCJcXG5cIiwgbGlzdC5sZW5ndGgpLCAtMSk7XG4gICAgICAgIHBvcHVwLmRhdGEgPSBsaXN0IHx8IFtdO1xuICAgICAgICBwb3B1cC5zZXRSb3coMCk7XG4gICAgfTtcbiAgICBwb3B1cC5nZXREYXRhID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiBwb3B1cC5kYXRhW3Jvd107XG4gICAgfTtcblxuICAgIHBvcHVwLmdldFJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0aW9uTWFya2VyLnN0YXJ0LnJvdztcbiAgICB9O1xuICAgIHBvcHVwLnNldFJvdyA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgbGluZSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbih0aGlzLmRhdGEubGVuZ3RoLCBsaW5lKSk7XG4gICAgICAgIGlmIChzZWxlY3Rpb25NYXJrZXIuc3RhcnQucm93ICE9IGxpbmUpIHtcbiAgICAgICAgICAgIHBvcHVwLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgc2VsZWN0aW9uTWFya2VyLnN0YXJ0LnJvdyA9IHNlbGVjdGlvbk1hcmtlci5lbmQucm93ID0gbGluZSB8fCAwO1xuICAgICAgICAgICAgcG9wdXAuc2Vzc2lvbi5fZW1pdChcImNoYW5nZUJhY2tNYXJrZXJcIik7XG4gICAgICAgICAgICBwb3B1cC5tb3ZlQ3Vyc29yVG8obGluZSB8fCAwLCAwKTtcbiAgICAgICAgICAgIGlmIChwb3B1cC5pc09wZW4pXG4gICAgICAgICAgICAgICAgcG9wdXAuX3NpZ25hbChcInNlbGVjdFwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwb3B1cC5vbihcImNoYW5nZVNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHBvcHVwLmlzT3BlbilcbiAgICAgICAgICAgIHBvcHVwLnNldFJvdyhwb3B1cC5zZWxlY3Rpb24ubGVhZC5yb3cpO1xuICAgICAgICBwb3B1cC5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgIH0pO1xuXG4gICAgcG9wdXAuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImhpZGVcIik7XG4gICAgICAgIHBvcHVwLmlzT3BlbiA9IGZhbHNlO1xuICAgIH07XG4gICAgcG9wdXAuc2hvdyA9IGZ1bmN0aW9uKHBvcywgbGluZUhlaWdodCwgdG9wZG93bk9ubHkpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgIHZhciBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgbWF4SCA9IHJlbmRlcmVyLiRtYXhMaW5lcyAqIGxpbmVIZWlnaHQgKiAxLjQ7XG4gICAgICAgIHZhciB0b3AgPSBwb3MudG9wICsgdGhpcy4kYm9yZGVyU2l6ZTtcbiAgICAgICAgaWYgKHRvcCArIG1heEggPiBzY3JlZW5IZWlnaHQgLSBsaW5lSGVpZ2h0ICYmICF0b3Bkb3duT25seSkge1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gXCJcIjtcbiAgICAgICAgICAgIGVsLnN0eWxlLmJvdHRvbSA9IHNjcmVlbkhlaWdodCAtIHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIHBvcHVwLmlzVG9wZG93biA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICBlbC5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgICAgICAgICBlbC5zdHlsZS5ib3R0b20gPSBcIlwiO1xuICAgICAgICAgICAgcG9wdXAuaXNUb3Bkb3duID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcG9zLmxlZnQ7XG4gICAgICAgIGlmIChsZWZ0ICsgZWwub2Zmc2V0V2lkdGggPiBzY3JlZW5XaWR0aClcbiAgICAgICAgICAgIGxlZnQgPSBzY3JlZW5XaWR0aCAtIGVsLm9mZnNldFdpZHRoO1xuXG4gICAgICAgIGVsLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuXG4gICAgICAgIHRoaXMuX3NpZ25hbChcInNob3dcIik7XG4gICAgICAgIGxhc3RNb3VzZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgcG9wdXAuaXNPcGVuID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcG9wdXAuZ2V0VGV4dExlZnRPZmZzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGJvcmRlclNpemUgKyB0aGlzLnJlbmRlcmVyLiRwYWRkaW5nICsgdGhpcy4kaW1hZ2VTaXplO1xuICAgIH07XG5cbiAgICBwb3B1cC4kaW1hZ2VTaXplID0gMDtcbiAgICBwb3B1cC4kYm9yZGVyU2l6ZSA9IDE7XG5cbiAgICByZXR1cm4gcG9wdXA7XG59O1xuXG5kb20uaW1wb3J0Q3NzU3RyaW5nKFwiXFxcbi5hY2VfZWRpdG9yLmFjZV9hdXRvY29tcGxldGUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0FENkZBO1xcXG4gICAgei1pbmRleDogMTtcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2VfbGluZS1ob3ZlciB7XFxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWJiZmZlO1xcXG4gICAgbWFyZ2luLXRvcDogLTFweDtcXFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMjMzLDIzMywyNTMsMC40KTtcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2VfbGluZS1ob3ZlciB7XFxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcbiAgICB6LWluZGV4OiAyO1xcXG59XFxcbi5hY2VfZWRpdG9yLmFjZV9hdXRvY29tcGxldGUgLmFjZV9zY3JvbGxlciB7XFxcbiAgIGJhY2tncm91bmQ6IG5vbmU7XFxcbiAgIGJvcmRlcjogbm9uZTtcXFxuICAgYm94LXNoYWRvdzogbm9uZTtcXFxufVxcXG4uYWNlX3JpZ2h0QWxpZ25lZFRleHQge1xcXG4gICAgY29sb3I6IGdyYXk7XFxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcbiAgICByaWdodDogNHB4O1xcXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxcbiAgICB6LWluZGV4OiAtMTtcXFxufVxcXG4uYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2VfY29tcGxldGlvbi1oaWdobGlnaHR7XFxcbiAgICBjb2xvcjogIzAwMDtcXFxuICAgIHRleHQtc2hhZG93OiAwIDAgMC4wMWVtO1xcXG59XFxcbi5hY2VfZWRpdG9yLmFjZV9hdXRvY29tcGxldGUge1xcXG4gICAgd2lkdGg6IDI4MHB4O1xcXG4gICAgei1pbmRleDogMjAwMDAwO1xcXG4gICAgYmFja2dyb3VuZDogI2ZiZmJmYjtcXFxuICAgIGNvbG9yOiAjNDQ0O1xcXG4gICAgYm9yZGVyOiAxcHggbGlnaHRncmF5IHNvbGlkO1xcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcXG4gICAgYm94LXNoYWRvdzogMnB4IDNweCA1cHggcmdiYSgwLDAsMCwuMik7XFxcbiAgICBsaW5lLWhlaWdodDogMS40O1xcXG59XCIpO1xuXG5leHBvcnRzLkFjZVBvcHVwID0gQWNlUG9wdXA7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2F1dG9jb21wbGV0ZS91dGlsXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5wYXJGb3JFYWNoID0gZnVuY3Rpb24oYXJyYXksIGZuLCBjYWxsYmFjaykge1xuICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgIHZhciBhckxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoYXJMZW5ndGggPT09IDApXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuKGFycmF5W2ldLCBmdW5jdGlvbihyZXN1bHQsIGVycikge1xuICAgICAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkID09PSBhckxlbmd0aClcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnZhciBJRF9SRUdFWCA9IC9bYS16QS1aXzAtOVxcJFxcLVxcdTAwQTItXFx1RkZGRl0vO1xuXG5leHBvcnRzLnJldHJpZXZlUHJlY2VkaW5nSWRlbnRpZmllciA9IGZ1bmN0aW9uKHRleHQsIHBvcywgcmVnZXgpIHtcbiAgICByZWdleCA9IHJlZ2V4IHx8IElEX1JFR0VYO1xuICAgIHZhciBidWYgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gcG9zLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChyZWdleC50ZXN0KHRleHRbaV0pKVxuICAgICAgICAgICAgYnVmLnB1c2godGV4dFtpXSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYnVmLnJldmVyc2UoKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0cy5yZXRyaWV2ZUZvbGxvd2luZ0lkZW50aWZpZXIgPSBmdW5jdGlvbih0ZXh0LCBwb3MsIHJlZ2V4KSB7XG4gICAgcmVnZXggPSByZWdleCB8fCBJRF9SRUdFWDtcbiAgICB2YXIgYnVmID0gW107XG4gICAgZm9yICh2YXIgaSA9IHBvczsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlZ2V4LnRlc3QodGV4dFtpXSkpXG4gICAgICAgICAgICBidWYucHVzaCh0ZXh0W2ldKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS9hdXRvY29tcGxldGUvcG9wdXBcIixcImFjZS9hdXRvY29tcGxldGUvdXRpbFwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL3NuaXBwZXRzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEhhc2hIYW5kbGVyID0gYWNlcXVpcmUoXCIuL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKS5IYXNoSGFuZGxlcjtcbnZhciBBY2VQb3B1cCA9IGFjZXF1aXJlKFwiLi9hdXRvY29tcGxldGUvcG9wdXBcIikuQWNlUG9wdXA7XG52YXIgdXRpbCA9IGFjZXF1aXJlKFwiLi9hdXRvY29tcGxldGUvdXRpbFwiKTtcbnZhciBldmVudCA9IGFjZXF1aXJlKFwiLi9saWIvZXZlbnRcIik7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBkb20gPSBhY2VxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBzbmlwcGV0TWFuYWdlciA9IGFjZXF1aXJlKFwiLi9zbmlwcGV0c1wiKS5zbmlwcGV0TWFuYWdlcjtcblxudmFyIEF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYXV0b0luc2VydCA9IGZhbHNlO1xuICAgIHRoaXMuYXV0b1NlbGVjdCA9IHRydWU7XG4gICAgdGhpcy5leGFjdE1hdGNoID0gZmFsc2U7XG4gICAgdGhpcy5nYXRoZXJDb21wbGV0aW9uc0lkID0gMDtcbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlciA9IG5ldyBIYXNoSGFuZGxlcigpO1xuICAgIHRoaXMua2V5Ym9hcmRIYW5kbGVyLmJpbmRLZXlzKHRoaXMuY29tbWFuZHMpO1xuXG4gICAgdGhpcy5ibHVyTGlzdGVuZXIgPSB0aGlzLmJsdXJMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSB0aGlzLmNoYW5nZUxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3VzZWRvd25MaXN0ZW5lciA9IHRoaXMubW91c2Vkb3duTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lciA9IHRoaXMubW91c2V3aGVlbExpc3RlbmVyLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmNoYW5nZVRpbWVyID0gbGFuZy5kZWxheWVkQ2FsbChmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb21wbGV0aW9ucyh0cnVlKTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy50b29sdGlwVGltZXIgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMudXBkYXRlRG9jVG9vbHRpcC5iaW5kKHRoaXMpLCA1MCk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLiRpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucG9wdXAgPSBuZXcgQWNlUG9wdXAoZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnBvcHVwLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRNYXRjaCgpO1xuICAgICAgICAgICAgZS5zdG9wKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucG9wdXAuZm9jdXMgPSB0aGlzLmVkaXRvci5mb2N1cy5iaW5kKHRoaXMuZWRpdG9yKTtcbiAgICAgICAgdGhpcy5wb3B1cC5vbihcInNob3dcIiwgdGhpcy50b29sdGlwVGltZXIuYmluZChudWxsLCBudWxsKSk7XG4gICAgICAgIHRoaXMucG9wdXAub24oXCJzZWxlY3RcIiwgdGhpcy50b29sdGlwVGltZXIuYmluZChudWxsLCBudWxsKSk7XG4gICAgICAgIHRoaXMucG9wdXAub24oXCJjaGFuZ2VIb3Zlck1hcmtlclwiLCB0aGlzLnRvb2x0aXBUaW1lci5iaW5kKG51bGwsIG51bGwpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9wdXA7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UG9wdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9wdXAgfHwgdGhpcy4kaW5pdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLm9wZW5Qb3B1cCA9IGZ1bmN0aW9uKGVkaXRvciwgcHJlZml4LCBrZWVwUG9wdXBQb3NpdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMucG9wdXApXG4gICAgICAgICAgICB0aGlzLiRpbml0KCk7XG5cbiAgICAgICAgdGhpcy5wb3B1cC5zZXREYXRhKHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQpO1xuXG4gICAgICAgIGVkaXRvci5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgICAgIFxuICAgICAgICB2YXIgcmVuZGVyZXIgPSBlZGl0b3IucmVuZGVyZXI7XG4gICAgICAgIHRoaXMucG9wdXAuc2V0Um93KHRoaXMuYXV0b1NlbGVjdCA/IDAgOiAtMSk7XG4gICAgICAgIGlmICgha2VlcFBvcHVwUG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc2V0VGhlbWUoZWRpdG9yLmdldFRoZW1lKCkpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zZXRGb250U2l6ZShlZGl0b3IuZ2V0Rm9udFNpemUoKSk7XG5cbiAgICAgICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gcmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHBvcyA9IHJlbmRlcmVyLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKHRoaXMuYmFzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBwb3MubGVmdCAtPSB0aGlzLnBvcHVwLmdldFRleHRMZWZ0T2Zmc2V0KCk7XG5cbiAgICAgICAgICAgIHZhciByZWN0ID0gZWRpdG9yLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHBvcy50b3AgKz0gcmVjdC50b3AgLSByZW5kZXJlci5sYXllckNvbmZpZy5vZmZzZXQ7XG4gICAgICAgICAgICBwb3MubGVmdCArPSByZWN0LmxlZnQgLSBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHBvcy5sZWZ0ICs9IHJlbmRlcmVyLmd1dHRlcldpZHRoO1xuXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnNob3cocG9zLCBsaW5lSGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIGlmIChrZWVwUG9wdXBQb3NpdGlvbiAmJiAhcHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLmtleUJpbmRpbmcucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKFwiY2hhbmdlU2VsZWN0aW9uXCIsIHRoaXMuY2hhbmdlTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJibHVyXCIsIHRoaXMuYmx1ckxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2Vkb3duTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJtb3VzZXdoZWVsXCIsIHRoaXMubW91c2V3aGVlbExpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VUaW1lci5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy5oaWRlRG9jVG9vbHRpcCgpO1xuXG4gICAgICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnNJZCArPSAxO1xuICAgICAgICBpZiAodGhpcy5wb3B1cCAmJiB0aGlzLnBvcHVwLmlzT3BlbilcbiAgICAgICAgICAgIHRoaXMucG9wdXAuaGlkZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmJhc2UpXG4gICAgICAgICAgICB0aGlzLmJhc2UuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSB0aGlzLmJhc2UgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmxlYWQ7XG4gICAgICAgIGlmIChjdXJzb3Iucm93ICE9IHRoaXMuYmFzZS5yb3cgfHwgY3Vyc29yLmNvbHVtbiA8IHRoaXMuYmFzZS5jb2x1bW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZhdGVkKVxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUaW1lci5zY2hlZHVsZSgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmJsdXJMaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgICAgICB2YXIgZnJvbVRvb2x0aXAgPSBlLnJlbGF0ZWRUYXJnZXQgJiYgZS5yZWxhdGVkVGFyZ2V0ID09IHRoaXMudG9vbHRpcE5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnBvcHVwICYmIHRoaXMucG9wdXAuY29udGFpbmVyO1xuICAgICAgICBpZiAoZWwgIT0gdGV4dCAmJiBlbC5wYXJlbnROb2RlICE9IGNvbnRhaW5lciAmJiAhZnJvbVRvb2x0aXBcbiAgICAgICAgICAgICYmIGVsICE9IHRoaXMudG9vbHRpcE5vZGUgJiYgZS5yZWxhdGVkVGFyZ2V0ICE9IHRleHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubW91c2Vkb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcblxuICAgIHRoaXMubW91c2V3aGVlbExpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmdvVG8gPSBmdW5jdGlvbih3aGVyZSkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5wb3B1cC5nZXRSb3coKTtcbiAgICAgICAgdmFyIG1heCA9IHRoaXMucG9wdXAuc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDE7XG5cbiAgICAgICAgc3dpdGNoKHdoZXJlKSB7XG4gICAgICAgICAgICBjYXNlIFwidXBcIjogcm93ID0gcm93IDw9IDAgPyBtYXggOiByb3cgLSAxOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6IHJvdyA9IHJvdyA+PSBtYXggPyAtMSA6IHJvdyArIDE7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6IHJvdyA9IDA7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVuZFwiOiByb3cgPSBtYXg7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb3B1cC5zZXRSb3cocm93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5pbnNlcnRNYXRjaCA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgZGF0YSA9IHRoaXMucG9wdXAuZ2V0RGF0YSh0aGlzLnBvcHVwLmdldFJvdygpKTtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChkYXRhLmNvbXBsZXRlciAmJiBkYXRhLmNvbXBsZXRlci5pbnNlcnRNYXRjaCkge1xuICAgICAgICAgICAgZGF0YS5jb21wbGV0ZXIuaW5zZXJ0TWF0Y2godGhpcy5lZGl0b3IsIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGxldGlvbnMuZmlsdGVyVGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZXMgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24uZ2V0QWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHJhbmdlOyByYW5nZSA9IHJhbmdlc1tpXTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiAtPSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlclRleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc25pcHBldClcbiAgICAgICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5pbnNlcnRTbmlwcGV0KHRoaXMuZWRpdG9yLCBkYXRhLnNuaXBwZXQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKFwiaW5zZXJ0c3RyaW5nXCIsIGRhdGEudmFsdWUgfHwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLmNvbW1hbmRzID0ge1xuICAgICAgICBcIlVwXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJ1cFwiKTsgfSxcbiAgICAgICAgXCJEb3duXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJkb3duXCIpOyB9LFxuICAgICAgICBcIkN0cmwtVXB8Q3RybC1Ib21lXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJzdGFydFwiKTsgfSxcbiAgICAgICAgXCJDdHJsLURvd258Q3RybC1FbmRcIjogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21wbGV0ZXIuZ29UbyhcImVuZFwiKTsgfSxcblxuICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5kZXRhY2goKTsgfSxcbiAgICAgICAgXCJSZXR1cm5cIjogZnVuY3Rpb24oZWRpdG9yKSB7IHJldHVybiBlZGl0b3IuY29tcGxldGVyLmluc2VydE1hdGNoKCk7IH0sXG4gICAgICAgIFwiU2hpZnQtUmV0dXJuXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmluc2VydE1hdGNoKG51bGwsIHtkZWxldGVTdWZmaXg6IHRydWV9KTsgfSxcbiAgICAgICAgXCJUYWJcIjogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWRpdG9yLmNvbXBsZXRlci5pbnNlcnRNYXRjaCgpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgIWVkaXRvci50YWJzdG9wTWFuYWdlcilcbiAgICAgICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJkb3duXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgXCJQYWdlVXBcIjogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21wbGV0ZXIucG9wdXAuZ290b1BhZ2VVcCgpOyB9LFxuICAgICAgICBcIlBhZ2VEb3duXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLnBvcHVwLmdvdG9QYWdlRG93bigpOyB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnMgPSBmdW5jdGlvbihlZGl0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLmdldFNlc3Npb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuXG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHBvcy5yb3cpO1xuICAgICAgICB2YXIgcHJlZml4ID0gdXRpbC5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbik7XG5cbiAgICAgICAgdGhpcy5iYXNlID0gc2Vzc2lvbi5kb2MuY3JlYXRlQW5jaG9yKHBvcy5yb3csIHBvcy5jb2x1bW4gLSBwcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5iYXNlLiRpbnNlcnRSaWdodCA9IHRydWU7XG5cbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgdmFyIHRvdGFsID0gZWRpdG9yLmNvbXBsZXRlcnMubGVuZ3RoO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVycy5mb3JFYWNoKGZ1bmN0aW9uKGNvbXBsZXRlciwgaSkge1xuICAgICAgICAgICAgY29tcGxldGVyLmdldENvbXBsZXRpb25zKGVkaXRvciwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gbWF0Y2hlcy5jb25jYXQocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHBvcy5yb3cpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiB1dGlsLnJldHJpZXZlUHJlY2VkaW5nSWRlbnRpZmllcihsaW5lLCBwb3MuY29sdW1uLCByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uaWRlbnRpZmllclJlZ2V4KSxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQ6ICgtLXRvdGFsID09PSAwKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5zaG93UG9wdXAgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yKVxuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcblxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIGlmIChlZGl0b3IuY29tcGxldGVyICE9IHRoaXMpIHtcbiAgICAgICAgICAgIGlmIChlZGl0b3IuY29tcGxldGVyKVxuICAgICAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIuZGV0YWNoKCk7XG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5vbihcImNoYW5nZVNlbGVjdGlvblwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgZWRpdG9yLm9uKFwiYmx1clwiLCB0aGlzLmJsdXJMaXN0ZW5lcik7XG4gICAgICAgIGVkaXRvci5vbihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgZWRpdG9yLm9uKFwibW91c2V3aGVlbFwiLCB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDb21wbGV0aW9ucygpO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oa2VlcFBvcHVwUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKGtlZXBQb3B1cFBvc2l0aW9uICYmIHRoaXMuYmFzZSAmJiB0aGlzLmNvbXBsZXRpb25zKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBwcmVmaXggPSB0aGlzLmVkaXRvci5zZXNzaW9uLmdldFRleHRSYW5nZSh7c3RhcnQ6IHRoaXMuYmFzZSwgZW5kOiBwb3N9KTtcbiAgICAgICAgICAgIGlmIChwcmVmaXggPT0gdGhpcy5jb21wbGV0aW9ucy5maWx0ZXJUZXh0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGlvbnMuc2V0RmlsdGVyKHByZWZpeCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRldGFjaCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQubGVuZ3RoID09IDFcbiAgICAgICAgICAgICYmIHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWRbMF0udmFsdWUgPT0gcHJlZml4XG4gICAgICAgICAgICAmJiAhdGhpcy5jb21wbGV0aW9ucy5maWx0ZXJlZFswXS5zbmlwcGV0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRldGFjaCgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuUG9wdXAodGhpcy5lZGl0b3IsIHByZWZpeCwga2VlcFBvcHVwUG9zaXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfaWQgPSB0aGlzLmdhdGhlckNvbXBsZXRpb25zSWQ7XG4gICAgICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnModGhpcy5lZGl0b3IsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgdmFyIGRldGFjaElmRmluaXNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdHMuZmluaXNoZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZXRhY2goKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHJlc3VsdHMucHJlZml4O1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSByZXN1bHRzICYmIHJlc3VsdHMubWF0Y2hlcztcblxuICAgICAgICAgICAgaWYgKCFtYXRjaGVzIHx8ICFtYXRjaGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWNoSWZGaW5pc2hlZCgpO1xuICAgICAgICAgICAgaWYgKHByZWZpeC5pbmRleE9mKHJlc3VsdHMucHJlZml4KSAhPT0gMCB8fCBfaWQgIT0gdGhpcy5nYXRoZXJDb21wbGV0aW9uc0lkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBGaWx0ZXJlZExpc3QobWF0Y2hlcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4YWN0TWF0Y2gpXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucy5leGFjdE1hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucy5zZXRGaWx0ZXIocHJlZml4KTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQ7XG4gICAgICAgICAgICBpZiAoIWZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWNoSWZGaW5pc2hlZCgpO1xuICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PSAxICYmIGZpbHRlcmVkWzBdLnZhbHVlID09IHByZWZpeCAmJiAhZmlsdGVyZWRbMF0uc25pcHBldClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWNoSWZGaW5pc2hlZCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b0luc2VydCAmJiBmaWx0ZXJlZC5sZW5ndGggPT0gMSAmJiByZXN1bHRzLmZpbmlzaGVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydE1hdGNoKGZpbHRlcmVkWzBdKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuUG9wdXAodGhpcy5lZGl0b3IsIHByZWZpeCwga2VlcFBvcHVwUG9zaXRpb24pO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH07XG5cbiAgICB0aGlzLmNhbmNlbENvbnRleHRNZW51ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLiRtb3VzZUhhbmRsZXIuY2FuY2VsQ29udGV4dE1lbnUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVEb2NUb29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwb3B1cCA9IHRoaXMucG9wdXA7XG4gICAgICAgIHZhciBhbGwgPSBwb3B1cC5kYXRhO1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBhbGwgJiYgKGFsbFtwb3B1cC5nZXRIb3ZlcmVkUm93KCldIHx8IGFsbFtwb3B1cC5nZXRSb3coKV0pO1xuICAgICAgICB2YXIgZG9jID0gbnVsbDtcbiAgICAgICAgaWYgKCFzZWxlY3RlZCB8fCAhdGhpcy5lZGl0b3IgfHwgIXRoaXMucG9wdXAuaXNPcGVuKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZURvY1Rvb2x0aXAoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tcGxldGVycy5zb21lKGZ1bmN0aW9uKGNvbXBsZXRlcikge1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlci5nZXREb2NUb29sdGlwKVxuICAgICAgICAgICAgICAgIGRvYyA9IGNvbXBsZXRlci5nZXREb2NUb29sdGlwKHNlbGVjdGVkKTtcbiAgICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWRvYylcbiAgICAgICAgICAgIGRvYyA9IHNlbGVjdGVkO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZG9jID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBkb2MgPSB7ZG9jVGV4dDogZG9jfTtcbiAgICAgICAgaWYgKCFkb2MgfHwgIShkb2MuZG9jSFRNTCB8fCBkb2MuZG9jVGV4dCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlRG9jVG9vbHRpcCgpO1xuICAgICAgICB0aGlzLnNob3dEb2NUb29sdGlwKGRvYyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0RvY1Rvb2x0aXAgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmICghdGhpcy50b29sdGlwTm9kZSkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZSA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5jbGFzc05hbWUgPSBcImFjZV90b29sdGlwIGFjZV9kb2MtdG9vbHRpcFwiO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5zdHlsZS5tYXJnaW4gPSAwO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBOb2RlLnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXBOb2RlLm9uYmx1ciA9IHRoaXMuYmx1ckxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9vbHRpcE5vZGUgPSB0aGlzLnRvb2x0aXBOb2RlO1xuICAgICAgICBpZiAoaXRlbS5kb2NIVE1MKSB7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS5pbm5lckhUTUwgPSBpdGVtLmRvY0hUTUw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5kb2NUZXh0KSB7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS50ZXh0Q29udGVudCA9IGl0ZW0uZG9jVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdG9vbHRpcE5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcE5vZGUpO1xuICAgICAgICB2YXIgcG9wdXAgPSB0aGlzLnBvcHVwO1xuICAgICAgICB2YXIgcmVjdCA9IHBvcHVwLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUudG9wID0gcG9wdXAuY29udGFpbmVyLnN0eWxlLnRvcDtcbiAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUuYm90dG9tID0gcG9wdXAuY29udGFpbmVyLnN0eWxlLmJvdHRvbTtcblxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggLSByZWN0LnJpZ2h0IDwgMzIwKSB7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5yaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5sZWZ0ICsgXCJweFwiO1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUubGVmdCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5sZWZ0ID0gKHJlY3QucmlnaHQgKyAxKSArIFwicHhcIjtcbiAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZGVEb2NUb29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudG9vbHRpcFRpbWVyLmNhbmNlbCgpO1xuICAgICAgICBpZiAoIXRoaXMudG9vbHRpcE5vZGUpIHJldHVybjtcbiAgICAgICAgdmFyIGVsID0gdGhpcy50b29sdGlwTm9kZTtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci5pc0ZvY3VzZWQoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09IGVsKVxuICAgICAgICAgICAgdGhpcy5lZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgdGhpcy50b29sdGlwTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChlbC5wYXJlbnROb2RlKVxuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgfTtcblxufSkuY2FsbChBdXRvY29tcGxldGUucHJvdG90eXBlKTtcblxuQXV0b2NvbXBsZXRlLnN0YXJ0Q29tbWFuZCA9IHtcbiAgICBuYW1lOiBcInN0YXJ0QXV0b2NvbXBsZXRlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmICghZWRpdG9yLmNvbXBsZXRlcilcbiAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIgPSBuZXcgQXV0b2NvbXBsZXRlKCk7XG4gICAgICAgIGVkaXRvci5jb21wbGV0ZXIuYXV0b0luc2VydCA9IGZhbHNlO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyLmF1dG9TZWxlY3QgPSB0cnVlO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyLnNob3dQb3B1cChlZGl0b3IpO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyLmNhbmNlbENvbnRleHRNZW51KCk7XG4gICAgfSxcbiAgICBiaW5kS2V5OiBcIkN0cmwtU3BhY2V8Q3RybC1TaGlmdC1TcGFjZXxBbHQtU3BhY2VcIlxufTtcblxudmFyIEZpbHRlcmVkTGlzdCA9IGZ1bmN0aW9uKGFycmF5LCBmaWx0ZXJUZXh0KSB7XG4gICAgdGhpcy5hbGwgPSBhcnJheTtcbiAgICB0aGlzLmZpbHRlcmVkID0gYXJyYXk7XG4gICAgdGhpcy5maWx0ZXJUZXh0ID0gZmlsdGVyVGV4dCB8fCBcIlwiO1xuICAgIHRoaXMuZXhhY3RNYXRjaCA9IGZhbHNlO1xufTtcbihmdW5jdGlvbigpe1xuICAgIHRoaXMuc2V0RmlsdGVyID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID4gdGhpcy5maWx0ZXJUZXh0ICYmIHN0ci5sYXN0SW5kZXhPZih0aGlzLmZpbHRlclRleHQsIDApID09PSAwKVxuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSB0aGlzLmZpbHRlcmVkO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHRoaXMuYWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyVGV4dCA9IHN0cjtcbiAgICAgICAgbWF0Y2hlcyA9IHRoaXMuZmlsdGVyQ29tcGxldGlvbnMobWF0Y2hlcywgdGhpcy5maWx0ZXJUZXh0KTtcbiAgICAgICAgbWF0Y2hlcyA9IG1hdGNoZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5leGFjdE1hdGNoIC0gYS5leGFjdE1hdGNoIHx8IGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHByZXYgPSBudWxsO1xuICAgICAgICBtYXRjaGVzID0gbWF0Y2hlcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICB2YXIgY2FwdGlvbiA9IGl0ZW0uc25pcHBldCB8fCBpdGVtLmNhcHRpb24gfHwgaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChjYXB0aW9uID09PSBwcmV2KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBwcmV2ID0gY2FwdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZpbHRlcmVkID0gbWF0Y2hlcztcbiAgICB9O1xuICAgIHRoaXMuZmlsdGVyQ29tcGxldGlvbnMgPSBmdW5jdGlvbihpdGVtcywgbmVlZGxlKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHZhciB1cHBlciA9IG5lZWRsZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbG93ZXIgPSBuZWVkbGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbG9vcDogZm9yICh2YXIgaSA9IDAsIGl0ZW07IGl0ZW0gPSBpdGVtc1tpXTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FwdGlvbiA9IGl0ZW0udmFsdWUgfHwgaXRlbS5jYXB0aW9uIHx8IGl0ZW0uc25pcHBldDtcbiAgICAgICAgICAgIGlmICghY2FwdGlvbikgY29udGludWU7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbWF0Y2hNYXNrID0gMDtcbiAgICAgICAgICAgIHZhciBwZW5hbHR5ID0gMDtcbiAgICAgICAgICAgIHZhciBpbmRleCwgZGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobmVlZGxlICE9PSBjYXB0aW9uLnN1YnN0cigwLCBuZWVkbGUubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVlZGxlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpMSA9IGNhcHRpb24uaW5kZXhPZihsb3dlcltqXSwgbGFzdEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpMiA9IGNhcHRpb24uaW5kZXhPZih1cHBlcltqXSwgbGFzdEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gKGkxID49IDApID8gKChpMiA8IDAgfHwgaTEgPCBpMikgPyBpMSA6IGkyKSA6IGkyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBpbmRleCAtIGxhc3RJbmRleCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmFsdHkgKz0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5hbHR5ICs9IGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoTWFzayA9IG1hdGNoTWFzayB8ICgxIDw8IGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbS5tYXRjaE1hc2sgPSBtYXRjaE1hc2s7XG4gICAgICAgICAgICBpdGVtLmV4YWN0TWF0Y2ggPSBwZW5hbHR5ID8gMCA6IDE7XG4gICAgICAgICAgICBpdGVtLnNjb3JlID0gKGl0ZW0uc2NvcmUgfHwgMCkgLSBwZW5hbHR5O1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG59KS5jYWxsKEZpbHRlcmVkTGlzdC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkF1dG9jb21wbGV0ZSA9IEF1dG9jb21wbGV0ZTtcbmV4cG9ydHMuRmlsdGVyZWRMaXN0ID0gRmlsdGVyZWRMaXN0O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGUvdGV4dF9jb21wbGV0ZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIHZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG4gICAgXG4gICAgdmFyIHNwbGl0UmVnZXggPSAvW15hLXpBLVpfMC05XFwkXFwtXFx1MDBDMC1cXHUxRkZGXFx1MkMwMC1cXHVEN0ZGXFx3XSsvO1xuXG4gICAgZnVuY3Rpb24gZ2V0V29yZEluZGV4KGRvYywgcG9zKSB7XG4gICAgICAgIHZhciB0ZXh0QmVmb3JlID0gZG9jLmdldFRleHRSYW5nZShSYW5nZS5mcm9tUG9pbnRzKHtyb3c6IDAsIGNvbHVtbjowfSwgcG9zKSk7XG4gICAgICAgIHJldHVybiB0ZXh0QmVmb3JlLnNwbGl0KHNwbGl0UmVnZXgpLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdvcmREaXN0YW5jZShkb2MsIHBvcykge1xuICAgICAgICB2YXIgcHJlZml4UG9zID0gZ2V0V29yZEluZGV4KGRvYywgcG9zKTtcbiAgICAgICAgdmFyIHdvcmRzID0gZG9jLmdldFZhbHVlKCkuc3BsaXQoc3BsaXRSZWdleCk7XG4gICAgICAgIHZhciB3b3JkU2NvcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBjdXJyZW50V29yZCA9IHdvcmRzW3ByZWZpeFBvc107XG5cbiAgICAgICAgd29yZHMuZm9yRWFjaChmdW5jdGlvbih3b3JkLCBpZHgpIHtcbiAgICAgICAgICAgIGlmICghd29yZCB8fCB3b3JkID09PSBjdXJyZW50V29yZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhwcmVmaXhQb3MgLSBpZHgpO1xuICAgICAgICAgICAgdmFyIHNjb3JlID0gd29yZHMubGVuZ3RoIC0gZGlzdGFuY2U7XG4gICAgICAgICAgICBpZiAod29yZFNjb3Jlc1t3b3JkXSkge1xuICAgICAgICAgICAgICAgIHdvcmRTY29yZXNbd29yZF0gPSBNYXRoLm1heChzY29yZSwgd29yZFNjb3Jlc1t3b3JkXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdvcmRTY29yZXNbd29yZF0gPSBzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3b3JkU2NvcmVzO1xuICAgIH1cblxuICAgIGV4cG9ydHMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgd29yZFNjb3JlID0gd29yZERpc3RhbmNlKHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgdmFyIHdvcmRMaXN0ID0gT2JqZWN0LmtleXMod29yZFNjb3JlKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgd29yZExpc3QubWFwKGZ1bmN0aW9uKHdvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogd29yZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogd29yZCxcbiAgICAgICAgICAgICAgICBzY29yZTogd29yZFNjb3JlW3dvcmRdLFxuICAgICAgICAgICAgICAgIG1ldGE6IFwibG9jYWxcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH07XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9leHQvbGFuZ3VhZ2VfdG9vbHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9zbmlwcGV0c1wiLFwiYWNlL2F1dG9jb21wbGV0ZVwiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvYXV0b2NvbXBsZXRlL3V0aWxcIixcImFjZS9hdXRvY29tcGxldGUvdGV4dF9jb21wbGV0ZXJcIixcImFjZS9lZGl0b3JcIixcImFjZS9jb25maWdcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgc25pcHBldE1hbmFnZXIgPSBhY2VxdWlyZShcIi4uL3NuaXBwZXRzXCIpLnNuaXBwZXRNYW5hZ2VyO1xudmFyIEF1dG9jb21wbGV0ZSA9IGFjZXF1aXJlKFwiLi4vYXV0b2NvbXBsZXRlXCIpLkF1dG9jb21wbGV0ZTtcbnZhciBjb25maWcgPSBhY2VxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBsYW5nID0gYWNlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciB1dGlsID0gYWNlcXVpcmUoXCIuLi9hdXRvY29tcGxldGUvdXRpbFwiKTtcblxudmFyIHRleHRDb21wbGV0ZXIgPSBhY2VxdWlyZShcIi4uL2F1dG9jb21wbGV0ZS90ZXh0X2NvbXBsZXRlclwiKTtcbnZhciBrZXlXb3JkQ29tcGxldGVyID0ge1xuICAgIGdldENvbXBsZXRpb25zOiBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoc2Vzc2lvbi4kbW9kZS5jb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLiRtb2RlLmNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRlID0gZWRpdG9yLnNlc3Npb24uZ2V0U3RhdGUocG9zLnJvdyk7XG4gICAgICAgIHZhciBjb21wbGV0aW9ucyA9IHNlc3Npb24uJG1vZGUuZ2V0Q29tcGxldGlvbnMoc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgY29tcGxldGlvbnMpO1xuICAgIH1cbn07XG5cbnZhciBzbmlwcGV0Q29tcGxldGVyID0ge1xuICAgIGdldENvbXBsZXRpb25zOiBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHNuaXBwZXRNYW5hZ2VyLnNuaXBwZXRNYXA7XG4gICAgICAgIHZhciBjb21wbGV0aW9ucyA9IFtdO1xuICAgICAgICBzbmlwcGV0TWFuYWdlci5nZXRBY3RpdmVTY29wZXMoZWRpdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgc25pcHBldHMgPSBzbmlwcGV0TWFwW3Njb3BlXSB8fCBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzbmlwcGV0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IHNuaXBwZXRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBjYXB0aW9uID0gcy5uYW1lIHx8IHMudGFiVHJpZ2dlcjtcbiAgICAgICAgICAgICAgICBpZiAoIWNhcHRpb24pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0OiBzLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IHMudGFiVHJpZ2dlciAmJiAhcy5uYW1lID8gcy50YWJUcmlnZ2VyICsgXCJcXHUyMUU1IFwiIDogXCJzbmlwcGV0XCIsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic25pcHBldFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCBjb21wbGV0aW9ucyk7XG4gICAgfSxcbiAgICBnZXREb2NUb29sdGlwOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT0gXCJzbmlwcGV0XCIgJiYgIWl0ZW0uZG9jSFRNTCkge1xuICAgICAgICAgICAgaXRlbS5kb2NIVE1MID0gW1xuICAgICAgICAgICAgICAgIFwiPGI+XCIsIGxhbmcuZXNjYXBlSFRNTChpdGVtLmNhcHRpb24pLCBcIjwvYj5cIiwgXCI8aHI+PC9ocj5cIixcbiAgICAgICAgICAgICAgICBsYW5nLmVzY2FwZUhUTUwoaXRlbS5zbmlwcGV0KVxuICAgICAgICAgICAgXS5qb2luKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGNvbXBsZXRlcnMgPSBbc25pcHBldENvbXBsZXRlciwgdGV4dENvbXBsZXRlciwga2V5V29yZENvbXBsZXRlcl07XG5leHBvcnRzLnNldENvbXBsZXRlcnMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBjb21wbGV0ZXJzID0gdmFsIHx8IFtdO1xufTtcbmV4cG9ydHMuYWRkQ29tcGxldGVyID0gZnVuY3Rpb24oY29tcGxldGVyKSB7XG4gICAgY29tcGxldGVycy5wdXNoKGNvbXBsZXRlcik7XG59O1xuZXhwb3J0cy50ZXh0Q29tcGxldGVyID0gdGV4dENvbXBsZXRlcjtcbmV4cG9ydHMua2V5V29yZENvbXBsZXRlciA9IGtleVdvcmRDb21wbGV0ZXI7XG5leHBvcnRzLnNuaXBwZXRDb21wbGV0ZXIgPSBzbmlwcGV0Q29tcGxldGVyO1xuXG52YXIgZXhwYW5kU25pcHBldCA9IHtcbiAgICBuYW1lOiBcImV4cGFuZFNuaXBwZXRcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIHNuaXBwZXRNYW5hZ2VyLmV4cGFuZFdpdGhUYWIoZWRpdG9yKTtcbiAgICB9LFxuICAgIGJpbmRLZXk6IFwiVGFiXCJcbn07XG5cbnZhciBvbkNoYW5nZU1vZGUgPSBmdW5jdGlvbihlLCBlZGl0b3IpIHtcbiAgICBsb2FkU25pcHBldHNGb3JNb2RlKGVkaXRvci5zZXNzaW9uLiRtb2RlKTtcbn07XG5cbnZhciBsb2FkU25pcHBldHNGb3JNb2RlID0gZnVuY3Rpb24obW9kZSkge1xuICAgIHZhciBpZCA9IG1vZGUuJGlkO1xuICAgIGlmICghc25pcHBldE1hbmFnZXIuZmlsZXMpXG4gICAgICAgIHNuaXBwZXRNYW5hZ2VyLmZpbGVzID0ge307XG4gICAgbG9hZFNuaXBwZXRGaWxlKGlkKTtcbiAgICBpZiAobW9kZS5tb2RlcylcbiAgICAgICAgbW9kZS5tb2Rlcy5mb3JFYWNoKGxvYWRTbmlwcGV0c0Zvck1vZGUpO1xufTtcblxudmFyIGxvYWRTbmlwcGV0RmlsZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgaWYgKCFpZCB8fCBzbmlwcGV0TWFuYWdlci5maWxlc1tpZF0pXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgc25pcHBldEZpbGVQYXRoID0gaWQucmVwbGFjZShcIm1vZGVcIiwgXCJzbmlwcGV0c1wiKTtcbiAgICBzbmlwcGV0TWFuYWdlci5maWxlc1tpZF0gPSB7fTtcbiAgICBjb25maWcubG9hZE1vZHVsZShzbmlwcGV0RmlsZVBhdGgsIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHNuaXBwZXRNYW5hZ2VyLmZpbGVzW2lkXSA9IG07XG4gICAgICAgICAgICBpZiAoIW0uc25pcHBldHMgJiYgbS5zbmlwcGV0VGV4dClcbiAgICAgICAgICAgICAgICBtLnNuaXBwZXRzID0gc25pcHBldE1hbmFnZXIucGFyc2VTbmlwcGV0RmlsZShtLnNuaXBwZXRUZXh0KTtcbiAgICAgICAgICAgIHNuaXBwZXRNYW5hZ2VyLnJlZ2lzdGVyKG0uc25pcHBldHMgfHwgW10sIG0uc2NvcGUpO1xuICAgICAgICAgICAgaWYgKG0uaW5jbHVkZVNjb3Blcykge1xuICAgICAgICAgICAgICAgIHNuaXBwZXRNYW5hZ2VyLnNuaXBwZXRNYXBbbS5zY29wZV0uaW5jbHVkZVNjb3BlcyA9IG0uaW5jbHVkZVNjb3BlcztcbiAgICAgICAgICAgICAgICBtLmluY2x1ZGVTY29wZXMuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRTbmlwcGV0RmlsZShcImFjZS9tb2RlL1wiICsgeCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGdldENvbXBsZXRpb25QcmVmaXgoZWRpdG9yKSB7XG4gICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShwb3Mucm93KTtcbiAgICB2YXIgcHJlZml4O1xuICAgIGVkaXRvci5jb21wbGV0ZXJzLmZvckVhY2goZnVuY3Rpb24oY29tcGxldGVyKSB7XG4gICAgICAgIGlmIChjb21wbGV0ZXIuaWRlbnRpZmllclJlZ2V4cHMpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlci5pZGVudGlmaWVyUmVnZXhwcy5mb3JFYWNoKGZ1bmN0aW9uKGlkZW50aWZpZXJSZWdleCkge1xuICAgICAgICAgICAgICAgIGlmICghcHJlZml4ICYmIGlkZW50aWZpZXJSZWdleClcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gdXRpbC5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbiwgaWRlbnRpZmllclJlZ2V4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHByZWZpeCB8fCB1dGlsLnJldHJpZXZlUHJlY2VkaW5nSWRlbnRpZmllcihsaW5lLCBwb3MuY29sdW1uKTtcbn1cblxudmFyIGRvTGl2ZUF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWRpdG9yID0gZS5lZGl0b3I7XG4gICAgdmFyIGhhc0NvbXBsZXRlciA9IGVkaXRvci5jb21wbGV0ZXIgJiYgZWRpdG9yLmNvbXBsZXRlci5hY3RpdmF0ZWQ7XG4gICAgaWYgKGUuY29tbWFuZC5uYW1lID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgIGlmIChoYXNDb21wbGV0ZXIgJiYgIWdldENvbXBsZXRpb25QcmVmaXgoZWRpdG9yKSlcbiAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIuZGV0YWNoKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUuY29tbWFuZC5uYW1lID09PSBcImluc2VydHN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBwcmVmaXggPSBnZXRDb21wbGV0aW9uUHJlZml4KGVkaXRvcik7XG4gICAgICAgIGlmIChwcmVmaXggJiYgIWhhc0NvbXBsZXRlcikge1xuICAgICAgICAgICAgaWYgKCFlZGl0b3IuY29tcGxldGVyKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmNvbXBsZXRlciA9IG5ldyBBdXRvY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIuYXV0b0luc2VydCA9IGZhbHNlO1xuICAgICAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5zaG93UG9wdXAoZWRpdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBFZGl0b3IgPSBhY2VxdWlyZShcIi4uL2VkaXRvclwiKS5FZGl0b3I7XG5hY2VxdWlyZShcIi4uL2NvbmZpZ1wiKS5kZWZpbmVPcHRpb25zKEVkaXRvci5wcm90b3R5cGUsIFwiZWRpdG9yXCIsIHtcbiAgICBlbmFibGVCYXNpY0F1dG9jb21wbGV0aW9uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBsZXRlcnMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVycyA9IEFycmF5LmlzQXJyYXkodmFsKT8gdmFsOiBjb21wbGV0ZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuYWRkQ29tbWFuZChBdXRvY29tcGxldGUuc3RhcnRDb21tYW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5yZW1vdmVDb21tYW5kKEF1dG9jb21wbGV0ZS5zdGFydENvbW1hbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIGVuYWJsZUxpdmVBdXRvY29tcGxldGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wbGV0ZXJzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcnMgPSBBcnJheS5pc0FycmF5KHZhbCk/IHZhbDogY29tcGxldGVycztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKCdhZnRlckV4ZWMnLCBkb0xpdmVBdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLnJlbW92ZUxpc3RlbmVyKCdhZnRlckV4ZWMnLCBkb0xpdmVBdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIGVuYWJsZVNuaXBwZXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5hZGRDb21tYW5kKGV4cGFuZFNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub24oXCJjaGFuZ2VNb2RlXCIsIG9uQ2hhbmdlTW9kZSk7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VNb2RlKG51bGwsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLnJlbW92ZUNvbW1hbmQoZXhwYW5kU25pcHBldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYoXCJjaGFuZ2VNb2RlXCIsIG9uQ2hhbmdlTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH1cbn0pO1xufSk7XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhY2UuYWNlcXVpcmUoW1wiYWNlL2V4dC9sYW5ndWFnZV90b29sc1wiXSwgZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICIsImFjZS5kZWZpbmUoXCJhY2UvbW9kZS9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gYWNlcXVpcmUoXCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCIpLlRleHRIaWdobGlnaHRSdWxlcztcblxudmFyIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJHJ1bGVzID0ge1xuICAgICAgICBcInN0YXJ0XCIgOiBbIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvYy50YWdcIixcbiAgICAgICAgICAgIHJlZ2V4IDogXCJAW1xcXFx3XFxcXGRfXStcIiAvLyBUT0RPOiBmaXggZW1haWwgYWRkcmVzc2VzXG4gICAgICAgIH0sIFxuICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsXG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IHRydWVcbiAgICAgICAgfV1cbiAgICB9O1xufTtcblxub29wLmluaGVyaXRzKERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvYy50YWcuc3RvcmFnZS50eXBlXCIsXG4gICAgICAgIHJlZ2V4IDogXCJcXFxcYig/OlRPRE98RklYTUV8WFhYfEhBQ0spXFxcXGJcIlxuICAgIH07XG59XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvY1wiLCAvLyBkb2MgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKig/PVxcXFwqKVwiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsIC8vIGNsb3NpbmcgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXCpcXFxcL1wiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cblxuZXhwb3J0cy5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vZG9jX2NvbW1lbnRfaGlnaGxpZ2h0X3J1bGVzXCIpLkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcztcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzO1xudmFyIGlkZW50aWZpZXJSZSA9IFwiW2EtekEtWlxcXFwkX1xcdTAwYTEtXFx1ZmZmZl1bYS16QS1aXFxcXGRcXFxcJF9cXHUwMGExLVxcdWZmZmZdKlxcXFxiXCI7XG5cbnZhciBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGtleXdvcmRNYXBwZXIgPSB0aGlzLmNyZWF0ZUtleXdvcmRNYXBwZXIoe1xuICAgICAgICBcInZhcmlhYmxlLmxhbmd1YWdlXCI6XG4gICAgICAgICAgICBcIkFycmF5fEJvb2xlYW58RGF0ZXxGdW5jdGlvbnxJdGVyYXRvcnxOdW1iZXJ8T2JqZWN0fFJlZ0V4cHxTdHJpbmd8UHJveHl8XCIgICsgLy8gQ29uc3RydWN0b3JzXG4gICAgICAgICAgICBcIk5hbWVzcGFjZXxRTmFtZXxYTUx8WE1MTGlzdHxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgLy8gRTRYXG4gICAgICAgICAgICBcIkFycmF5QnVmZmVyfEZsb2F0MzJBcnJheXxGbG9hdDY0QXJyYXl8SW50MTZBcnJheXxJbnQzMkFycmF5fEludDhBcnJheXxcIiAgICtcbiAgICAgICAgICAgIFwiVWludDE2QXJyYXl8VWludDMyQXJyYXl8VWludDhBcnJheXxVaW50OENsYW1wZWRBcnJheXxcIiAgICAgICAgICAgICAgICAgICAgK1xuICAgICAgICAgICAgXCJFcnJvcnxFdmFsRXJyb3J8SW50ZXJuYWxFcnJvcnxSYW5nZUVycm9yfFJlZmVyZW5jZUVycm9yfFN0b3BJdGVyYXRpb258XCIgICArIC8vIEVycm9yc1xuICAgICAgICAgICAgXCJTeW50YXhFcnJvcnxUeXBlRXJyb3J8VVJJRXJyb3J8XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICBcImRlY29kZVVSSXxkZWNvZGVVUklDb21wb25lbnR8ZW5jb2RlVVJJfGVuY29kZVVSSUNvbXBvbmVudHxldmFsfGlzRmluaXRlfFwiICsgLy8gTm9uLWNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xuICAgICAgICAgICAgXCJpc05hTnxwYXJzZUZsb2F0fHBhcnNlSW50fFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICBcIkpTT058TWF0aHxcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgLy8gT3RoZXJcbiAgICAgICAgICAgIFwidGhpc3xhcmd1bWVudHN8cHJvdG90eXBlfHdpbmRvd3xkb2N1bWVudFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAvLyBQc2V1ZG9cbiAgICAgICAgXCJrZXl3b3JkXCI6XG4gICAgICAgICAgICBcImNvbnN0fHlpZWxkfGltcG9ydHxnZXR8c2V0fFwiICtcbiAgICAgICAgICAgIFwiYnJlYWt8Y2FzZXxjYXRjaHxjb250aW51ZXxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGZpbmFsbHl8Zm9yfGZ1bmN0aW9ufFwiICtcbiAgICAgICAgICAgIFwiaWZ8aW58aW5zdGFuY2VvZnxuZXd8cmV0dXJufHN3aXRjaHx0aHJvd3x0cnl8dHlwZW9mfGxldHx2YXJ8d2hpbGV8d2l0aHxkZWJ1Z2dlcnxcIiArXG4gICAgICAgICAgICBcIl9fcGFyZW50X198X19jb3VudF9ffGVzY2FwZXx1bmVzY2FwZXx3aXRofF9fcHJvdG9fX3xcIiArXG4gICAgICAgICAgICBcImNsYXNzfGVudW18ZXh0ZW5kc3xzdXBlcnxleHBvcnR8aW1wbGVtZW50c3xwcml2YXRlfHB1YmxpY3xpbnRlcmZhY2V8cGFja2FnZXxwcm90ZWN0ZWR8c3RhdGljXCIsXG4gICAgICAgIFwic3RvcmFnZS50eXBlXCI6XG4gICAgICAgICAgICBcImNvbnN0fGxldHx2YXJ8ZnVuY3Rpb25cIixcbiAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZVwiOlxuICAgICAgICAgICAgXCJudWxsfEluZmluaXR5fE5hTnx1bmRlZmluZWRcIixcbiAgICAgICAgXCJzdXBwb3J0LmZ1bmN0aW9uXCI6XG4gICAgICAgICAgICBcImFsZXJ0XCIsXG4gICAgICAgIFwiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhblwiOiBcInRydWV8ZmFsc2VcIlxuICAgIH0sIFwiaWRlbnRpZmllclwiKTtcbiAgICB2YXIga3dCZWZvcmVSZSA9IFwiY2FzZXxkb3xlbHNlfGZpbmFsbHl8aW58aW5zdGFuY2VvZnxyZXR1cm58dGhyb3d8dHJ5fHR5cGVvZnx5aWVsZHx2b2lkXCI7XG5cbiAgICB2YXIgZXNjYXBlZFJlID0gXCJcXFxcXFxcXCg/OnhbMC05YS1mQS1GXXsyfXxcIiArIC8vIGhleFxuICAgICAgICBcInVbMC05YS1mQS1GXXs0fXxcIiArIC8vIHVuaWNvZGVcbiAgICAgICAgXCJbMC0yXVswLTddezAsMn18XCIgKyAvLyBvY3RcbiAgICAgICAgXCIzWzAtNl1bMC03XT98XCIgKyAvLyBvY3RcbiAgICAgICAgXCIzN1swLTddP3xcIiArIC8vIG9jdFxuICAgICAgICBcIls0LTddWzAtN10/fFwiICsgLy9vY3RcbiAgICAgICAgXCIuKVwiO1xuXG4gICAgdGhpcy4kcnVsZXMgPSB7XG4gICAgICAgIFwibm9fcmVnZXhcIiA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCJcXFxcL1xcXFwvXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwibGluZV9jb21tZW50XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0U3RhcnRSdWxlKFwiZG9jLXN0YXJ0XCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsIC8vIG11bHRpIGxpbmUgY29tbWVudFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1xcL1xcKi8sXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwiY29tbWVudFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCInKD89LilcIixcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwicXN0cmluZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJ1wiKD89LiknLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxcXN0cmluZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgLy8gaGV4XG4gICAgICAgICAgICAgICAgcmVnZXggOiAvMFt4WF1bMC05YS1mQS1GXStcXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lm51bWVyaWNcIiwgLy8gZmxvYXRcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bKy1dP1xcZCsoPzooPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pP1xcYi9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcInN1cHBvcnQuZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLFwia2V5d29yZC5vcGVyYXRvclwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFwuKShwcm90b3R5cGUpKFxcXFwuKShcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSlcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBbXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJrZXl3b3JkLm9wZXJhdG9yXCIsIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxcLikoXCIgKyBpZGVudGlmaWVyUmUgK1wiKShcXFxccyopKD0pKFxcXFxzKikoZnVuY3Rpb24pKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCIsIFwic3RvcmFnZS50eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICtcIikoXFxcXHMqKSg9KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFwuKShcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoXFxcXHMrKShcXFxcdyspKFxcXFxzKikoXFxcXCgpXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJmdW5jdGlvbl9hcmd1bWVudHNcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogW1xuICAgICAgICAgICAgICAgICAgICBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIihmdW5jdGlvbikoXFxcXHMrKShcIiArIGlkZW50aWZpZXJSZSArIFwiKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJlbnRpdHkubmFtZS5mdW5jdGlvblwiLCBcInRleHRcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIiwgXCJzdG9yYWdlLnR5cGVcIiwgXCJ0ZXh0XCIsIFwicGFyZW4ubHBhcmVuXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoXCIgKyBpZGVudGlmaWVyUmUgKyBcIikoXFxcXHMqKSg6KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCIsIFwidGV4dFwiLCBcInN0b3JhZ2UudHlwZVwiLCBcInRleHRcIiwgXCJwYXJlbi5scGFyZW5cIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIig6KShcXFxccyopKGZ1bmN0aW9uKShcXFxccyopKFxcXFwoKVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwiZnVuY3Rpb25fYXJndW1lbnRzXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwia2V5d29yZFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogXCIoPzpcIiArIGt3QmVmb3JlUmUgKyBcIilcXFxcYlwiLFxuICAgICAgICAgICAgICAgIG5leHQgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcInN1cHBvcnQuY29uc3RhbnRcIl0sXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvdGhhdFxcYi9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcInN0b3JhZ2UudHlwZVwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwic3VwcG9ydC5mdW5jdGlvbi5maXJlYnVnXCJdLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhjb25zb2xlKShcXC4pKHdhcm58aW5mb3xsb2d8ZXJyb3J8dGltZXx0cmFjZXx0aW1lRW5kfGFzc2VydClcXGIvXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBrZXl3b3JkTWFwcGVyLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogaWRlbnRpZmllclJlXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWy5dKD8hWy5dKS8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInByb3BlcnR5XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwia2V5d29yZC5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLy0tfFxcK1xcK3xcXC57M318PT09fD09fD18IT18IT09fDw9fD49fDw8PXw+Pj18Pj4+PXw8Pnw8fD58IXwmJnxcXHxcXHx8XFw/XFw6fFshJCUmKitcXC1+XFwvXl09Py8sXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInN0YXJ0XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bPzosOy5dLyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwYXJlbi5scGFyZW5cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bXFxbKHtdLyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwYXJlbi5ycGFyZW5cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9bXFxdKX1dL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICByZWdleDogL14jIS4qJC9cbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgcHJvcGVydHk6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlLnR5cGVcIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBcImtleXdvcmQub3BlcmF0b3JcIiwgXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcmFnZS50eXBlXCIsIFwidGV4dFwiLCBcImVudGl0eS5uYW1lLmZ1bmN0aW9uXCIsIFwidGV4dFwiLCBcInBhcmVuLmxwYXJlblwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiKFwiICsgaWRlbnRpZmllclJlICsgXCIpKFxcXFwuKShcIiArIGlkZW50aWZpZXJSZSArXCIpKFxcXFxzKikoPSkoXFxcXHMqKShmdW5jdGlvbikoPzooXFxcXHMrKShcXFxcdyspKT8oXFxcXHMqKShcXFxcKClcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiAvWy5dKD8hWy5dKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3VwcG9ydC5mdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogLyhzKD86aCg/OmlmdHxvdyg/Ok1vZCg/OmVsZXNzRGlhbG9nfGFsRGlhbG9nKXxIZWxwKSl8Y3JvbGwoPzpYfEJ5KD86UGFnZXN8TGluZXMpP3xZfFRvKT98dCg/Om9wfHJpa2UpfGkoPzpufHplVG9Db250ZW50fGRlYmFyfGduVGV4dCl8b3J0fHUoPzpwfGIoPzpzdHIoPzppbmcpPyk/KXxwbGkoPzpjZXx0KXxlKD86bmR8dCg/OlJlKD86c2l6YWJsZXxxdWVzdEhlYWRlcil8TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvKD86dEtleXN8dXJzKXxZZWFyfEN1cnNvcnxUaW1lKD86b3V0KT98SW50ZXJ2YWx8Wk9wdGlvbnN8RGF0ZXxVVEMoPzpNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlY29uZHN8SG91cnN8RGF0ZXxGdWxsWWVhcil8RnVsbFllYXJ8QWN0aXZlKXxhcmNoKXxxcnR8bGljZXxhdmVQcmVmZXJlbmNlc3xtYWxsKXxoKD86b21lfGFuZGxlRXZlbnQpfG5hdmlnYXRlfGMoPzpoYXIoPzpDb2RlQXR8QXQpfG8oPzpzfG4oPzpjYXR8dGV4dHVhbHxmaXJtKXxtcGlsZSl8ZWlsfGxlYXIoPzpUaW1lb3V0fEludGVydmFsKT98YSg/OnB0dXJlRXZlbnRzfGxsKXxyZWF0ZSg/OlN0eWxlU2hlZXR8UG9wdXB8RXZlbnRPYmplY3QpKXx0KD86byg/OkdNVFN0cmluZ3xTKD86dHJpbmd8b3VyY2UpfFUoPzpUQ1N0cmluZ3xwcGVyQ2FzZSl8TG8oPzpjYWxlU3RyaW5nfHdlckNhc2UpKXxlc3R8YSg/Om58aW50KD86RW5hYmxlZCk/KSl8aSg/OnMoPzpOYU58RmluaXRlKXxuZGV4T2Z8dGFsaWNzKXxkKD86aXNhYmxlRXh0ZXJuYWxDYXB0dXJlfHVtcHxldGFjaEV2ZW50KXx1KD86big/OnNoaWZ0fHRhaW50fGVzY2FwZXx3YXRjaCl8cGRhdGVDb21tYW5kcyl8aig/Om9pbnxhdmFFbmFibGVkKXxwKD86byg/OnB8dyl8dXNofGx1Z2lucy5yZWZyZXNofGEoPzpkZGluZ3N8cnNlKD86SW50fEZsb2F0KT8pfHIoPzppbnR8b21wdHxlZmVyZW5jZSkpfGUoPzpzY2FwZXxuYWJsZUV4dGVybmFsQ2FwdHVyZXx2YWx8bGVtZW50RnJvbVBvaW50fHgoPzpwfGVjKD86U2NyaXB0fENvbW1hbmQpPykpfHZhbHVlT2Z8VVRDfHF1ZXJ5Q29tbWFuZCg/OlN0YXRlfEluZGV0ZXJtfEVuYWJsZWR8VmFsdWUpfGYoPzppKD86bmR8bGUoPzpNb2RpZmllZERhdGV8U2l6ZXxDcmVhdGVkRGF0ZXxVcGRhdGVkRGF0ZSl8eGVkKXxvKD86bnQoPzpzaXplfGNvbG9yKXxyd2FyZCl8bG9vcnxyb21DaGFyQ29kZSl8d2F0Y2h8bCg/Omlua3xvKD86YWR8Zyl8YXN0SW5kZXhPZil8YSg/OnNpbnxuY2hvcnxjb3N8dCg/OnRhY2hFdmVudHxvYnxhbig/OjIpPyl8cHBseXxsZXJ0fGIoPzpzfG9ydCkpfHIoPzpvdSg/Om5kfHRlRXZlbnRzKXxlKD86c2l6ZSg/OkJ5fFRvKXxjYWxjfHR1cm5WYWx1ZXxwbGFjZXx2ZXJzZXxsKD86b2FkfGVhc2UoPzpDYXB0dXJlfEV2ZW50cykpKXxhbmRvbSl8Zyg/Om98ZXQoPzpSZXNwb25zZUhlYWRlcnxNKD86aSg/Om51dGVzfGxsaXNlY29uZHMpfG9udGgpfFNlKD86Y29uZHN8bGVjdGlvbil8SG91cnN8WWVhcnxUaW1lKD86em9uZU9mZnNldCk/fERhKD86eXx0ZSl8VVRDKD86TSg/OmkoPzpudXRlc3xsbGlzZWNvbmRzKXxvbnRoKXxTZWNvbmRzfEhvdXJzfERhKD86eXx0ZSl8RnVsbFllYXIpfEZ1bGxZZWFyfEEoPzp0dGVudGlvbnxsbFJlc3BvbnNlSGVhZGVycykpKXxtKD86aW58b3ZlKD86Qig/Onl8ZWxvdyl8VG8oPzpBYnNvbHV0ZSk/fEFib3ZlKXxlcmdlQXR0cmlidXRlc3xhKD86dGNofHJnaW5zfHgpKXxiKD86dG9hfGlnfG8oPzpsZHxyZGVyV2lkdGhzKXxsaW5rfGFjaykpXFxiKD89XFwoKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3VwcG9ydC5mdW5jdGlvbi5kb21cIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8ocyg/OnViKD86c3RyaW5nRGF0YXxtaXQpfHBsaXRUZXh0fGUoPzp0KD86TmFtZWRJdGVtfEF0dHJpYnV0ZSg/Ok5vZGUpPyl8bGVjdCkpfGhhcyg/OkNoaWxkTm9kZXN8RmVhdHVyZSl8bmFtZWRJdGVtfGMoPzpsKD86aWNrfG8oPzpzZXxuZU5vZGUpKXxyZWF0ZSg/OkMoPzpvbW1lbnR8REFUQVNlY3Rpb258YXB0aW9uKXxUKD86SGVhZHxleHROb2RlfEZvb3QpfERvY3VtZW50RnJhZ21lbnR8UHJvY2Vzc2luZ0luc3RydWN0aW9ufEUoPzpudGl0eVJlZmVyZW5jZXxsZW1lbnQpfEF0dHJpYnV0ZSkpfHRhYkluZGV4fGkoPzpuc2VydCg/OlJvd3xCZWZvcmV8Q2VsbHxEYXRhKXx0ZW0pfG9wZW58ZGVsZXRlKD86Um93fEMoPzplbGx8YXB0aW9uKXxUKD86SGVhZHxGb290KXxEYXRhKXxmb2N1c3x3cml0ZSg/OmxuKT98YSg/OmRkfHBwZW5kKD86Q2hpbGR8RGF0YSkpfHJlKD86c2V0fHBsYWNlKD86Q2hpbGR8RGF0YSl8bW92ZSg/Ok5hbWVkSXRlbXxDaGlsZHxBdHRyaWJ1dGUoPzpOb2RlKT8pPyl8Z2V0KD86TmFtZWRJdGVtfEVsZW1lbnQoPzpzQnkoPzpOYW1lfFRhZ05hbWV8Q2xhc3NOYW1lKXxCeUlkKXxBdHRyaWJ1dGUoPzpOb2RlKT8pfGJsdXIpXFxiKD89XFwoKS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6ICBcInN1cHBvcnQuY29uc3RhbnRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC8ocyg/OnlzdGVtTGFuZ3VhZ2V8Y3IoPzppcHRzfG9sbGJhcnN8ZWVuKD86WHxZfFRvcHxMZWZ0KSl8dCg/OnlsZSg/OlNoZWV0cyk/fGF0dXMoPzpUZXh0fGJhcik/KXxpYmxpbmcoPzpCZWxvd3xBYm92ZSl8b3VyY2V8dWZmaXhlc3xlKD86Y3VyaXR5KD86UG9saWN5KT98bCg/OmVjdGlvbnxmKSkpfGgoPzppc3Rvcnl8b3N0KD86bmFtZSk/fGFzKD86aHxGb2N1cykpfHl8WCg/Ok1MRG9jdW1lbnR8U0xEb2N1bWVudCl8big/OmV4dHxhbWUoPzpzcGFjZSg/OnN8VVJJKXxQcm9wKSl8TSg/OklOX1ZBTFVFfEFYX1ZBTFVFKXxjKD86aGFyYWN0ZXJTZXR8byg/Om4oPzpzdHJ1Y3Rvcnx0cm9sbGVycyl8b2tpZUVuYWJsZWR8bG9yRGVwdGh8bXAoPzpvbmVudHN8bGV0ZSkpfHVycmVudHxwdUNsYXNzfGwoPzppKD86cCg/OmJvYXJkRGF0YSk/fGVudEluZm9ybWF0aW9uKXxvc2VkfGFzc2VzKXxhbGxlKD86ZXxyKXxyeXB0byl8dCg/Om8oPzpvbGJhcnxwKXxleHQoPzpUcmFuc2Zvcm18SW5kZW50fERlY29yYXRpb258QWxpZ24pfGFncyl8U1FSVCg/OjFfMnwyKXxpKD86big/Om5lcig/OkhlaWdodHxXaWR0aCl8cHV0KXxkc3xnbm9yZUNhc2UpfHpJbmRleHxvKD86c2NwdXxuKD86cmVhZHlzdGF0ZWNoYW5nZXxMaW5lKXx1dGVyKD86SGVpZ2h0fFdpZHRoKXxwKD86c1Byb2ZpbGV8ZW5lcil8ZmZzY3JlZW5CdWZmZXJpbmcpfE5FR0FUSVZFX0lORklOSVRZfGQoPzppKD86c3BsYXl8YWxvZyg/OkhlaWdodHxUb3B8V2lkdGh8TGVmdHxBcmd1bWVudHMpfHJlY3Rvcmllcyl8ZSg/OnNjcmlwdGlvbnxmYXVsdCg/OlN0YXR1c3xDaCg/OmVja2VkfGFyc2V0KXxWaWV3KSkpfHUoPzpzZXIoPzpQcm9maWxlfExhbmd1YWdlfEFnZW50KXxuKD86aXF1ZUlEfGRlZmluZWQpfHBkYXRlSW50ZXJ2YWwpfF9jb250ZW50fHAoPzppeGVsRGVwdGh8b3J0fGVyc29uYWxiYXJ8a2NzMTF8bCg/OnVnaW5zfGF0Zm9ybSl8YSg/OnRobmFtZXxkZGluZyg/OlJpZ2h0fEJvdHRvbXxUb3B8TGVmdCl8cmVudCg/OldpbmRvd3xMYXllcik/fGdlKD86WCg/Ok9mZnNldCk/fFkoPzpPZmZzZXQpPykpfHIoPzpvKD86dG8oPzpjb2x8dHlwZSl8ZHVjdCg/OlN1Yik/fG1wdGVyKXxlKD86dmlvdXN8Zml4KSkpfGUoPzpuKD86Y29kaW5nfGFibGVkUGx1Z2luKXx4KD86dGVybmFsfHBhbmRvKXxtYmVkcyl8dig/OmlzaWJpbGl0eXxlbmRvcig/OlN1Yik/fExpbmtjb2xvcil8VVJMVW5lbmNvZGVkfFAoPzpJfE9TSVRJVkVfSU5GSU5JVFkpfGYoPzppbGVuYW1lfG8oPzpudCg/OlNpemV8RmFtaWx5fFdlaWdodCl8cm1OYW1lKXxyYW1lKD86c3xFbGVtZW50KXxnQ29sb3IpfEV8d2hpdGVTcGFjZXxsKD86aSg/OnN0U3R5bGVUeXBlfG4oPzplSGVpZ2h0fGtDb2xvcikpfG8oPzpjYSg/OnRpb24oPzpiYXIpP3xsTmFtZSl8d3NyYyl8ZSg/Om5ndGh8ZnQoPzpDb250ZXh0KT8pfGEoPzpzdCg/Ok0oPzpvZGlmaWVkfGF0Y2gpfEluZGV4fFBhcmVuKXx5ZXIoPzpzfFgpfG5ndWFnZSkpfGEoPzpwcCg/Ok1pbm9yVmVyc2lvbnxOYW1lfENvKD86ZGVOYW1lfHJlKXxWZXJzaW9uKXx2YWlsKD86SGVpZ2h0fFRvcHxXaWR0aHxMZWZ0KXxsbHxyKD86aXR5fGd1bWVudHMpfExpbmtjb2xvcnxib3ZlKXxyKD86aWdodCg/OkNvbnRleHQpP3xlKD86c3BvbnNlKD86WE1MfFRleHQpfGFkeVN0YXRlKSl8Z2xvYmFsfHh8bSg/OmltZVR5cGVzfHVsdGlsaW5lfGVudWJhcnxhcmdpbig/OlJpZ2h0fEJvdHRvbXxUb3B8TGVmdCkpfEwoPzpOKD86MTB8Mil8T0coPzoxMEV8MkUpKXxiKD86byg/OnR0b218cmRlcig/OldpZHRofFJpZ2h0V2lkdGh8Qm90dG9tV2lkdGh8U3R5bGV8Q29sb3J8VG9wV2lkdGh8TGVmdFdpZHRoKSl8dWZmZXJEZXB0aHxlbG93fGFja2dyb3VuZCg/OkNvbG9yfEltYWdlKSkpXFxiL1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJpZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBpZGVudGlmaWVyUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICByZWdleDogXCJcIixcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcInN0YXJ0XCI6IFtcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUoXCJkb2Mtc3RhcnRcIiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnRcIiwgLy8gbXVsdGkgbGluZSBjb21tZW50XG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFwvXFxcXCpcIixcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJjb21tZW50X3JlZ2V4X2FsbG93ZWRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb21tZW50XCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFwvXFxcXC9cIixcbiAgICAgICAgICAgICAgICBuZXh0IDogXCJsaW5lX2NvbW1lbnRfcmVnZXhfYWxsb3dlZFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nLnJlZ2V4cFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFwvXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJyZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXHMrfF4kXCIsXG4gICAgICAgICAgICAgICAgbmV4dCA6IFwic3RhcnRcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicmVnZXhcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInJlZ2V4cC5rZXl3b3JkLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiXFxcXFxcXFwoPzp1W1xcXFxkYS1mQS1GXXs0fXx4W1xcXFxkYS1mQS1GXXsyfXwuKVwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwic3RyaW5nLnJlZ2V4cFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIi9bc3huZ2lteV0qXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImludmFsaWRcIixcbiAgICAgICAgICAgICAgICByZWdleDogL1xce1xcZCtcXGIsP1xcZCpcXH1bKypdfFsrKiReP11bKypdfFskXl1bP118XFw/ezMsfS9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC9cXChcXD9bOj0hXXxcXCl8XFx7XFxkK1xcYiw/XFxkKlxcfXxbKypdXFw/fFsoKSReKyo/Ll0vXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcImNvbnN0YW50Lmxhbmd1YWdlLmRlbGltaXRlclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFx8L1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiAvXFxbXFxePy8sXG4gICAgICAgICAgICAgICAgbmV4dDogXCJyZWdleF9jaGFyYWN0ZXJfY2xhc3NcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImVtcHR5XCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiJFwiLFxuICAgICAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmcucmVnZXhwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJyZWdleF9jaGFyYWN0ZXJfY2xhc3NcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInJlZ2V4cC5jaGFyY2xhc3Mua2V5d29yZC5vcGVyYXRvclwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFxcXFxcKD86dVtcXFxcZGEtZkEtRl17NH18eFtcXFxcZGEtZkEtRl17Mn18LilcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIl1cIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcInJlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCItXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJlbXB0eVwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIiRcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nLnJlZ2V4cC5jaGFyYWNodGVyY2xhc3NcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImZ1bmN0aW9uX2FyZ3VtZW50c1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwidmFyaWFibGUucGFyYW1ldGVyXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IGlkZW50aWZpZXJSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiWywgXStcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuOiBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IFwiJFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiZW1wdHlcIixcbiAgICAgICAgICAgICAgICByZWdleDogXCJcIixcbiAgICAgICAgICAgICAgICBuZXh0OiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJjb21tZW50X3JlZ2V4X2FsbG93ZWRcIiA6IFtcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlKCksXG4gICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnRcIiwgcmVnZXggOiBcIlxcXFwqXFxcXC9cIiwgbmV4dCA6IFwic3RhcnRcIn0sXG4gICAgICAgICAgICB7ZGVmYXVsdFRva2VuIDogXCJjb21tZW50XCIsIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZX1cbiAgICAgICAgXSxcbiAgICAgICAgXCJjb21tZW50XCIgOiBbXG4gICAgICAgICAgICBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSgpLFxuICAgICAgICAgICAge3Rva2VuIDogXCJjb21tZW50XCIsIHJlZ2V4IDogXCJcXFxcKlxcXFwvXCIsIG5leHQgOiBcIm5vX3JlZ2V4XCJ9LFxuICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwiLCBjYXNlSW5zZW5zaXRpdmU6IHRydWV9XG4gICAgICAgIF0sXG4gICAgICAgIFwibGluZV9jb21tZW50X3JlZ2V4X2FsbG93ZWRcIiA6IFtcbiAgICAgICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlKCksXG4gICAgICAgICAgICB7dG9rZW4gOiBcImNvbW1lbnRcIiwgcmVnZXggOiBcIiR8XlwiLCBuZXh0IDogXCJzdGFydFwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcImNvbW1lbnRcIiwgY2FzZUluc2Vuc2l0aXZlOiB0cnVlfVxuICAgICAgICBdLFxuICAgICAgICBcImxpbmVfY29tbWVudFwiIDogW1xuICAgICAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFRhZ1J1bGUoKSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwiY29tbWVudFwiLCByZWdleCA6IFwiJHxeXCIsIG5leHQgOiBcIm5vX3JlZ2V4XCJ9LFxuICAgICAgICAgICAge2RlZmF1bHRUb2tlbiA6IFwiY29tbWVudFwiLCBjYXNlSW5zZW5zaXRpdmU6IHRydWV9XG4gICAgICAgIF0sXG4gICAgICAgIFwicXFzdHJpbmdcIiA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBlc2NhcGVkUmVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgcmVnZXggOiBcIlxcXFxcXFxcJFwiLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJxcXN0cmluZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogJ1wifCQnLFxuICAgICAgICAgICAgICAgIG5leHQgIDogXCJub19yZWdleFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFRva2VuOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwicXN0cmluZ1wiIDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IGVzY2FwZWRSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiXFxcXFxcXFwkXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcInFzdHJpbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IFwiJ3wkXCIsXG4gICAgICAgICAgICAgICAgbmV4dCAgOiBcIm5vX3JlZ2V4XCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH07XG4gICAgXG4gICAgXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLm5vRVM2KSB7XG4gICAgICAgIHRoaXMuJHJ1bGVzLm5vX3JlZ2V4LnVuc2hpZnQoe1xuICAgICAgICAgICAgcmVnZXg6IFwiW3t9XVwiLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IHZhbCA9PSBcIntcIiA/IHRoaXMubmV4dFN0YXRlIDogXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAodmFsID09IFwie1wiICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KFwic3RhcnRcIiwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwYXJlblwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsID09IFwifVwiICYmIHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0LmluZGV4T2YoXCJzdHJpbmdcIikgIT0gLTEgfHwgdGhpcy5uZXh0LmluZGV4T2YoXCJqc3hcIikgIT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwYXJlbi5xdWFzaS5lbmRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbCA9PSBcIntcIiA/IFwicGFyZW4ubHBhcmVuXCIgOiBcInBhcmVuLnJwYXJlblwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRTdGF0ZTogXCJzdGFydFwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuIDogXCJzdHJpbmcucXVhc2kuc3RhcnRcIixcbiAgICAgICAgICAgIHJlZ2V4IDogL2AvLFxuICAgICAgICAgICAgcHVzaCAgOiBbe1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGVcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IGVzY2FwZWRSZVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRva2VuIDogXCJwYXJlbi5xdWFzaS5zdGFydFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4IDogL1xcJHsvLFxuICAgICAgICAgICAgICAgIHB1c2ggIDogXCJzdGFydFwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdG9rZW4gOiBcInN0cmluZy5xdWFzaS5lbmRcIixcbiAgICAgICAgICAgICAgICByZWdleCA6IC9gLyxcbiAgICAgICAgICAgICAgICBuZXh0ICA6IFwicG9wXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwic3RyaW5nLnF1YXNpXCJcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLm5vSlNYKVxuICAgICAgICAgICAgSlNYLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZW1iZWRSdWxlcyhEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMsIFwiZG9jLVwiLFxuICAgICAgICBbIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlKFwibm9fcmVnZXhcIikgXSk7XG4gICAgXG4gICAgdGhpcy5ub3JtYWxpemVSdWxlcygpO1xufTtcblxub29wLmluaGVyaXRzKEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTtcblxuZnVuY3Rpb24gSlNYKCkge1xuICAgIHZhciB0YWdSZWdleCA9IGlkZW50aWZpZXJSZS5yZXBsYWNlKFwiXFxcXGRcIiwgXCJcXFxcZFxcXFwtXCIpO1xuICAgIHZhciBqc3hUYWcgPSB7XG4gICAgICAgIG9uTWF0Y2ggOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHZhbC5jaGFyQXQoMSkgPT0gXCIvXCIgPyAyIDogMTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAhPSB0aGlzLm5leHRTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHQsIHRoaXMubmV4dFN0YXRlLCAwKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVuc2hpZnQodGhpcy5uZXh0KTtcbiAgICAgICAgICAgICAgICBzdGFja1syXSsrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZzZXQgPT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSB0aGlzLm5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFja1sxXS0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YWNrWzFdIHx8IHN0YWNrWzFdIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm1ldGEudGFnLnB1bmN0dWF0aW9uLlwiICsgKG9mZnNldCA9PSAxID8gXCJcIiA6IFwiZW5kLVwiKSArIFwidGFnLW9wZW4ueG1sXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbC5zbGljZSgwLCBvZmZzZXQpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJtZXRhLnRhZy50YWctbmFtZS54bWxcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsLnN1YnN0cihvZmZzZXQpXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnZXggOiBcIjwvP1wiICsgdGFnUmVnZXggKyBcIlwiLFxuICAgICAgICBuZXh0OiBcImpzeEF0dHJpYnV0ZXNcIixcbiAgICAgICAgbmV4dFN0YXRlOiBcImpzeFwiXG4gICAgfTtcbiAgICB0aGlzLiRydWxlcy5zdGFydC51bnNoaWZ0KGpzeFRhZyk7XG4gICAgdmFyIGpzeEpzUnVsZSA9IHtcbiAgICAgICAgcmVnZXg6IFwie1wiLFxuICAgICAgICB0b2tlbjogXCJwYXJlbi5xdWFzaS5zdGFydFwiLFxuICAgICAgICBwdXNoOiBcInN0YXJ0XCJcbiAgICB9O1xuICAgIHRoaXMuJHJ1bGVzLmpzeCA9IFtcbiAgICAgICAganN4SnNSdWxlLFxuICAgICAgICBqc3hUYWcsXG4gICAgICAgIHtpbmNsdWRlIDogXCJyZWZlcmVuY2VcIn0sXG4gICAgICAgIHtkZWZhdWx0VG9rZW46IFwic3RyaW5nXCJ9XG4gICAgXTtcbiAgICB0aGlzLiRydWxlcy5qc3hBdHRyaWJ1dGVzID0gW3tcbiAgICAgICAgdG9rZW4gOiBcIm1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1jbG9zZS54bWxcIiwgXG4gICAgICAgIHJlZ2V4IDogXCIvPz5cIiwgXG4gICAgICAgIG9uTWF0Y2ggOiBmdW5jdGlvbih2YWx1ZSwgY3VycmVudFN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PSBzdGFja1swXSlcbiAgICAgICAgICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrWzBdID09IHRoaXMubmV4dFN0YXRlKVxuICAgICAgICAgICAgICAgICAgICBzdGFja1sxXS0tO1xuICAgICAgICAgICAgICAgIGlmICghc3RhY2tbMV0gfHwgc3RhY2tbMV0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnNwbGljZSgwLCAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBzdGFja1swXSB8fCBcInN0YXJ0XCI7XG4gICAgICAgICAgICByZXR1cm4gW3t0eXBlOiB0aGlzLnRva2VuLCB2YWx1ZTogdmFsdWV9XTtcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dFN0YXRlOiBcImpzeFwiXG4gICAgfSwgXG4gICAganN4SnNSdWxlLFxuICAgIHtcbiAgICAgICAgdG9rZW4gOiBcImVudGl0eS5vdGhlci5hdHRyaWJ1dGUtbmFtZS54bWxcIixcbiAgICAgICAgcmVnZXggOiB0YWdSZWdleFxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcImtleXdvcmQub3BlcmF0b3IuYXR0cmlidXRlLWVxdWFscy54bWxcIixcbiAgICAgICAgcmVnZXggOiBcIj1cIlxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcInRleHQudGFnLXdoaXRlc3BhY2UueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCJcXFxccytcIlxuICAgIH0sIHtcbiAgICAgICAgdG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCIsXG4gICAgICAgIHJlZ2V4IDogXCInXCIsXG4gICAgICAgIHN0YXRlTmFtZSA6IFwianN4X2F0dHJfcVwiLFxuICAgICAgICBwdXNoIDogW1xuICAgICAgICAgICAge3Rva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLCByZWdleDogXCInXCIsIG5leHQ6IFwicG9wXCJ9LFxuICAgICAgICAgICAganN4SnNSdWxlLFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCJ9XG4gICAgICAgIF1cbiAgICB9LCB7XG4gICAgICAgIHRva2VuIDogXCJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbFwiLFxuICAgICAgICByZWdleCA6ICdcIicsXG4gICAgICAgIHN0YXRlTmFtZSA6IFwianN4X2F0dHJfcXFcIixcbiAgICAgICAgcHVzaCA6IFtcbiAgICAgICAgICAgIGpzeEpzUnVsZSxcbiAgICAgICAgICAgIHt0b2tlbiA6IFwic3RyaW5nLmF0dHJpYnV0ZS12YWx1ZS54bWxcIiwgcmVnZXg6ICdcIicsIG5leHQ6IFwicG9wXCJ9LFxuICAgICAgICAgICAge2luY2x1ZGUgOiBcInJlZmVyZW5jZVwifSxcbiAgICAgICAgICAgIHtkZWZhdWx0VG9rZW4gOiBcInN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sXCJ9XG4gICAgICAgIF1cbiAgICB9XTtcbiAgICB0aGlzLiRydWxlcy5yZWZlcmVuY2UgPSBbe1xuICAgICAgICB0b2tlbiA6IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlLnJlZmVyZW5jZS54bWxcIixcbiAgICAgICAgcmVnZXggOiBcIig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcXFwuLV0rOylcIlxuICAgIH1dO1xufVxuXG5leHBvcnRzLkphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcztcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIE1hdGNoaW5nQnJhY2VPdXRkZW50ID0gZnVuY3Rpb24oKSB7fTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihsaW5lLCBpbnB1dCkge1xuICAgICAgICBpZiAoISAvXlxccyskLy50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiAvXlxccypcXH0vLnRlc3QoaW5wdXQpO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oZG9jLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccypcXH0pLyk7XG5cbiAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGNvbHVtbiA9IG1hdGNoWzFdLmxlbmd0aDtcbiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59KTtcblxuICAgICAgICBpZiAoIW9wZW5CcmFjZVBvcyB8fCBvcGVuQnJhY2VQb3Mucm93ID09IHJvdykgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChkb2MuZ2V0TGluZShvcGVuQnJhY2VQb3Mucm93KSk7XG4gICAgICAgIGRvYy5yZXBsYWNlKG5ldyBSYW5nZShyb3csIDAsIHJvdywgY29sdW1uLTEpLCBpbmRlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRJbmRlbnQgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHJldHVybiBsaW5lLm1hdGNoKC9eXFxzKi8pWzBdO1xuICAgIH07XG5cbn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvYmVoYXZpb3VyXCIsXCJhY2UvdG9rZW5faXRlcmF0b3JcIixcImFjZS9saWIvbGFuZ1wiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuLi9iZWhhdmlvdXJcIikuQmVoYXZpb3VyO1xudmFyIFRva2VuSXRlcmF0b3IgPSBhY2VxdWlyZShcIi4uLy4uL3Rva2VuX2l0ZXJhdG9yXCIpLlRva2VuSXRlcmF0b3I7XG52YXIgbGFuZyA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG5cbnZhciBTQUZFX0lOU0VSVF9JTl9UT0tFTlMgPVxuICAgIFtcInRleHRcIiwgXCJwYXJlbi5ycGFyZW5cIiwgXCJwdW5jdHVhdGlvbi5vcGVyYXRvclwiXTtcbnZhciBTQUZFX0lOU0VSVF9CRUZPUkVfVE9LRU5TID1cbiAgICBbXCJ0ZXh0XCIsIFwicGFyZW4ucnBhcmVuXCIsIFwicHVuY3R1YXRpb24ub3BlcmF0b3JcIiwgXCJjb21tZW50XCJdO1xuXG52YXIgY29udGV4dDtcbnZhciBjb250ZXh0Q2FjaGUgPSB7fTtcbnZhciBpbml0Q29udGV4dCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHZhciBpZCA9IC0xO1xuICAgIGlmIChlZGl0b3IubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgaWQgPSBlZGl0b3Iuc2VsZWN0aW9uLmluZGV4O1xuICAgICAgICBpZiAoY29udGV4dENhY2hlLnJhbmdlQ291bnQgIT0gZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnQpXG4gICAgICAgICAgICBjb250ZXh0Q2FjaGUgPSB7cmFuZ2VDb3VudDogZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnR9O1xuICAgIH1cbiAgICBpZiAoY29udGV4dENhY2hlW2lkXSlcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdO1xuICAgIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdID0ge1xuICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0czogMCxcbiAgICAgICAgYXV0b0luc2VydGVkUm93OiAtMSxcbiAgICAgICAgYXV0b0luc2VydGVkTGluZUVuZDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzOiAwLFxuICAgICAgICBtYXliZUluc2VydGVkUm93OiAtMSxcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVTdGFydDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVFbmQ6IFwiXCJcbiAgICB9O1xufTtcblxudmFyIGdldFdyYXBwZWQgPSBmdW5jdGlvbihzZWxlY3Rpb24sIHNlbGVjdGVkLCBvcGVuaW5nLCBjbG9zaW5nKSB7XG4gICAgdmFyIHJvd0RpZmYgPSBzZWxlY3Rpb24uZW5kLnJvdyAtIHNlbGVjdGlvbi5zdGFydC5yb3c7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogb3BlbmluZyArIHNlbGVjdGVkICsgY2xvc2luZyxcbiAgICAgICAgc2VsZWN0aW9uOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc3RhcnQuY29sdW1uICsgMSxcbiAgICAgICAgICAgICAgICByb3dEaWZmLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5lbmQuY29sdW1uICsgKHJvd0RpZmYgPyAwIDogMSlcbiAgICAgICAgICAgIF1cbiAgICB9O1xufTtcblxudmFyIENzdHlsZUJlaGF2aW91ciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYWRkKFwiYnJhY2VzXCIsIFwiaW5zZXJ0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgdGV4dCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgaWYgKHRleHQgPT0gJ3snKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgc2VsZWN0ZWQgIT09IFwie1wiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICd7JywgJ30nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKC9bXFxdXFx9XFwpXS8udGVzdChsaW5lW2N1cnNvci5jb2x1bW5dKSB8fCBlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIn1cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAne30nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkTWF5YmVJbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIntcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAneycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICd9Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnfScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCJcXG5cIiB8fCB0ZXh0ID09IFwiXFxyXFxuXCIpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgY2xvc2luZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lKSkge1xuICAgICAgICAgICAgICAgIGNsb3NpbmcgPSBsYW5nLnN0cmluZ1JlcGVhdChcIn1cIiwgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IHNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW4rMX0sICd9Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcGVuQnJhY2VQb3MpXG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dF9pbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoc2Vzc2lvbi5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvc2luZykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0X2luZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV4dF9pbmRlbnQgKyBzZXNzaW9uLmdldFRhYlN0cmluZygpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdcXG4nICsgaW5kZW50ICsgJ1xcbicgKyBuZXh0X2luZGVudCArIGNsb3NpbmcsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgaW5kZW50Lmxlbmd0aCwgMSwgaW5kZW50Lmxlbmd0aF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIuY2xlYXJNYXliZUluc2VydGVkQ2xvc2luZygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImRlbGV0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICd7Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLmVuZC5jb2x1bW4sIHJhbmdlLmVuZC5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJwYXJlbnNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICcoJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICcoJywgJyknKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIilcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJygpJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJyknKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJyknKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCcpJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwicGFyZW5zXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJygnKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICcpJykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdbJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICdbJywgJ10nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIl1cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1tdJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJ10nKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCddJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiBzZWxlY3RlZCA9PSAnWycpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRleHQgPT0gJ1wiJyB8fCB0ZXh0ID09IFwiJ1wiKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIHF1b3RlID0gdGV4dDtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIidcIiAmJiBzZWxlY3RlZCAhPSAnXCInICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsIHF1b3RlLCBxdW90ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbi0xLCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRUb2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRDaGFyID09IFwiXFxcXFwiICYmIHRva2VuICYmIC9lc2NhcGUvLnRlc3QodG9rZW4udHlwZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdCZWZvcmUgPSB0b2tlbiAmJiAvc3RyaW5nfGVzY2FwZS8udGVzdCh0b2tlbi50eXBlKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQWZ0ZXIgPSAhcmlnaHRUb2tlbiB8fCAvc3RyaW5nfGVzY2FwZS8udGVzdChyaWdodFRva2VuLnR5cGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBwYWlyO1xuICAgICAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gcXVvdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpciA9IHN0cmluZ0JlZm9yZSAhPT0gc3RyaW5nQWZ0ZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiAhc3RyaW5nQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gd3JhcCBzdHJpbmcgd2l0aCBkaWZmZXJlbnQgcXVvdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiBzdHJpbmdBZnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkbyBub3QgcGFpciBxdW90ZXMgaW5zaWRlIHN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmRSZSA9IHNlc3Npb24uJG1vZGUudG9rZW5SZTtcbiAgICAgICAgICAgICAgICAgICAgd29yZFJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1dvcmRCZWZvcmUgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRSZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNXb3JkQWZ0ZXIgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dvcmRCZWZvcmUgfHwgaXNXb3JkQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gYmVmb3JlIG9yIGFmdGVyIGFscGhhbnVtZXJpY1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyICYmICEvW1xcczssLn0pXFxdXFxcXF0vLnRlc3QocmlnaHRDaGFyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyB0aGVyZSBpcyByaWdodENoYXIgYW5kIGl0IGlzbid0IGNsb3NpbmdcbiAgICAgICAgICAgICAgICAgICAgcGFpciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHBhaXIgPyBxdW90ZSArIHF1b3RlIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiAoc2VsZWN0ZWQgPT0gJ1wiJyB8fCBzZWxlY3RlZCA9PSBcIidcIikpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbn07XG5cbiAgICBcbkNzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24gPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24pIHtcbiAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgaWYgKCF0aGlzLiRtYXRjaFRva2VuVHlwZShpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSkge1xuICAgICAgICB2YXIgaXRlcmF0b3IyID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICBpZiAoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yMi5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICByZXR1cm4gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCkgIT09IGN1cnNvci5yb3cgfHxcbiAgICAgICAgdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0JFRk9SRV9UT0tFTlMpO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLiRtYXRjaFRva2VuVHlwZSA9IGZ1bmN0aW9uKHRva2VuLCB0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5pbmRleE9mKHRva2VuLnR5cGUgfHwgdG9rZW4pID4gLTE7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydCA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgYnJhY2tldCkge1xuICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgaWYgKCF0aGlzLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSkpXG4gICAgICAgIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPSAwO1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmQgPSBicmFja2V0ICsgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cysrO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0ID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBicmFja2V0KSB7XG4gICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICBpZiAoIXRoaXMuaXNNYXliZUluc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUpKVxuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQgPSBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSArIGJyYWNrZXQ7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCA9IGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pO1xuICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzKys7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oY3Vyc29yLCBsaW5lLCBicmFja2V0KSB7XG4gICAgcmV0dXJuIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQuYXV0b0luc2VydGVkUm93ICYmXG4gICAgICAgIGJyYWNrZXQgPT09IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5hdXRvSW5zZXJ0ZWRMaW5lRW5kO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbihjdXJzb3IsIGxpbmUpIHtcbiAgICByZXR1cm4gY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCAmJlxuICAgICAgICBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSA9PSBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucG9wQXV0b0luc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZCA9IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZC5zdWJzdHIoMSk7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cy0tO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyA9IC0xO1xuICAgIH1cbn07XG5cblxuXG5vb3AuaW5oZXJpdHMoQ3N0eWxlQmVoYXZpb3VyLCBCZWhhdmlvdXIpO1xuXG5leHBvcnRzLkNzdHlsZUJlaGF2aW91ciA9IENzdHlsZUJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vLi4vbGliL29vcFwiKTtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQmFzZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRfbW9kZVwiKS5Gb2xkTW9kZTtcblxudmFyIEZvbGRNb2RlID0gZXhwb3J0cy5Gb2xkTW9kZSA9IGZ1bmN0aW9uKGNvbW1lbnRSZWdleCkge1xuICAgIGlmIChjb21tZW50UmVnZXgpIHtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIuc291cmNlLnJlcGxhY2UoL1xcfFtefF0qPyQvLCBcInxcIiArIGNvbW1lbnRSZWdleC5zdGFydClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguZW5kKVxuICAgICAgICApO1xuICAgIH1cbn07XG5vb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7XG5cbihmdW5jdGlvbigpIHtcbiAgICBcbiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oXFx7fFxcWylbXlxcfVxcXV0qJHxeXFxzKihcXC9cXCopLztcbiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxcW1xce10qKFxcfXxcXF0pfF5bXFxzXFwqXSooXFwqXFwvKS87XG4gICAgdGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmU9IC9eXFxzKihcXC9cXCopLipcXCpcXC9cXHMqJC87XG4gICAgdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUgPSAvXlxccyooXFwvXFwqXFwqXFwqKS4qXFwqXFwvXFxzKiQvO1xuICAgIHRoaXMuc3RhcnRSZWdpb25SZSA9IC9eXFxzKihcXC9cXCp8XFwvXFwvKSM/cmVnaW9uXFxiLztcbiAgICB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldDtcbiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSAmJiAhdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgZncgPSB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZShzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdyk7XG4gICAgXG4gICAgICAgIGlmICghZncgJiYgdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiOyAvLyBsaW5lQ29tbWVudFJlZ2lvblN0YXJ0XG4gICAgXG4gICAgICAgIHJldHVybiBmdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhzZXNzaW9uLCBsaW5lLCByb3cpO1xuICAgICAgICBcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpICsgbWF0Y2hbMF0ubGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJhbmdlICYmICFyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRTdHlsZSAhPSBcImFsbFwiKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2xkU3R5bGUgPT09IFwibWFya2JlZ2luXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhzZXNzaW9uLCBtYXRjaFsxXSwgcm93LCBpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGksIC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICByb3cgPSByb3cgKyAxO1xuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTtcbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAgKHN0YXJ0SW5kZW50ID4gaW5kZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdmFyIHN1YlJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uoc2Vzc2lvbiwgXCJhbGxcIiwgcm93KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YlJhbmdlLnN0YXJ0LnJvdyA8PSBzdGFydFJvdykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YlJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRSb3cgPSByb3c7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIHNlc3Npb24uZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7XG4gICAgfTtcbiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uKHNlc3Npb24sIGxpbmUsIHJvdykge1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXFxzKiQvKTtcbiAgICAgICAgdmFyIG1heFJvdyA9IHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHJvdztcbiAgICAgICAgXG4gICAgICAgIHZhciByZSA9IC9eXFxzKig/OlxcL1xcKnxcXC9cXC98LS0pIz8oZW5kKT9yZWdpb25cXGIvO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAobVsxXSkgZGVwdGgtLTtcbiAgICAgICAgICAgIGVsc2UgZGVwdGgrKztcblxuICAgICAgICAgICAgaWYgKCFkZXB0aCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICBpZiAoZW5kUm93ID4gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL21vZGUvdGV4dFwiLFwiYWNlL21vZGUvamF2YXNjcmlwdF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnRcIixcImFjZS9yYW5nZVwiLFwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50XCIsXCJhY2UvbW9kZS9iZWhhdmlvdXIvY3N0eWxlXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uL2xpYi9vb3BcIik7XG52YXIgVGV4dE1vZGUgPSBhY2VxdWlyZShcIi4vdGV4dFwiKS5Nb2RlO1xudmFyIEphdmFTY3JpcHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9qYXZhc2NyaXB0X2hpZ2hsaWdodF9ydWxlc1wiKS5KYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG52YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSBhY2VxdWlyZShcIi4vbWF0Y2hpbmdfYnJhY2Vfb3V0ZGVudFwiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDtcbnZhciBSYW5nZSA9IGFjZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgV29ya2VyQ2xpZW50ID0gYWNlcXVpcmUoXCIuLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKS5Xb3JrZXJDbGllbnQ7XG52YXIgQ3N0eWxlQmVoYXZpb3VyID0gYWNlcXVpcmUoXCIuL2JlaGF2aW91ci9jc3R5bGVcIikuQ3N0eWxlQmVoYXZpb3VyO1xudmFyIENTdHlsZUZvbGRNb2RlID0gYWNlcXVpcmUoXCIuL2ZvbGRpbmcvY3N0eWxlXCIpLkZvbGRNb2RlO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuSGlnaGxpZ2h0UnVsZXMgPSBKYXZhU2NyaXB0SGlnaGxpZ2h0UnVsZXM7XG4gICAgXG4gICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpO1xuICAgIHRoaXMuJGJlaGF2aW91ciA9IG5ldyBDc3R5bGVCZWhhdmlvdXIoKTtcbiAgICB0aGlzLmZvbGRpbmdSdWxlcyA9IG5ldyBDU3R5bGVGb2xkTW9kZSgpO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9IFwiLy9cIjtcbiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHtzdGFydDogXCIvKlwiLCBlbmQ6IFwiKi9cIn07XG5cbiAgICB0aGlzLmdldE5leHRMaW5lSW5kZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIHRhYikge1xuICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGxpbmUpO1xuXG4gICAgICAgIHZhciB0b2tlbml6ZWRMaW5lID0gdGhpcy5nZXRUb2tlbml6ZXIoKS5nZXRMaW5lVG9rZW5zKGxpbmUsIHN0YXRlKTtcbiAgICAgICAgdmFyIHRva2VucyA9IHRva2VuaXplZExpbmUudG9rZW5zO1xuICAgICAgICB2YXIgZW5kU3RhdGUgPSB0b2tlbml6ZWRMaW5lLnN0YXRlO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoICYmIHRva2Vuc1t0b2tlbnMubGVuZ3RoLTFdLnR5cGUgPT0gXCJjb21tZW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUgPT0gXCJzdGFydFwiIHx8IHN0YXRlID09IFwibm9fcmVnZXhcIikge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvXi4qKD86XFxiY2FzZVxcYi4qXFw6fFtcXHtcXChcXFtdKVxccyokLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFwiZG9jLXN0YXJ0XCIpIHtcbiAgICAgICAgICAgIGlmIChlbmRTdGF0ZSA9PSBcInN0YXJ0XCIgfHwgZW5kU3RhdGUgPT0gXCJub19yZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eXFxzKihcXC8/KVxcKi8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZW50ICs9IFwiKiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGxpbmUsIGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdXRkZW50LmNoZWNrT3V0ZGVudChsaW5lLCBpbnB1dCk7XG4gICAgfTtcblxuICAgIHRoaXMuYXV0b091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgZG9jLCByb3cpIHtcbiAgICAgICAgdGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudChkb2MsIHJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbXCJhY2VcIl0sIHJlcXVpcmUoXCIuLi93b3JrZXIvamF2YXNjcmlwdFwiKSwgXCJKYXZhU2NyaXB0V29ya2VyXCIpO1xuICAgICAgICB3b3JrZXIuYXR0YWNoVG9Eb2N1bWVudChzZXNzaW9uLmdldERvY3VtZW50KCkpO1xuXG4gICAgICAgIHdvcmtlci5vbihcImFubm90YXRlXCIsIGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMocmVzdWx0cy5kYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd29ya2VyLm9uKFwidGVybWluYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB3b3JrZXI7XG4gICAgfTtcblxuICAgIHRoaXMuJGlkID0gXCJhY2UvbW9kZS9qYXZhc2NyaXB0XCI7XG59KS5jYWxsKE1vZGUucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Nb2RlID0gTW9kZTtcbn0pO1xuIiwiYWNlLmRlZmluZShcImFjZS90aGVtZS9tb25va2FpXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG5leHBvcnRzLmlzRGFyayA9IHRydWU7XG5leHBvcnRzLmNzc0NsYXNzID0gXCJhY2UtbW9ub2thaVwiO1xuZXhwb3J0cy5jc3NUZXh0ID0gXCIuYWNlLW1vbm9rYWkgLmFjZV9ndXR0ZXIge1xcXG5iYWNrZ3JvdW5kOiAjMkYzMTI5O1xcXG5jb2xvcjogIzhGOTA4QVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3ByaW50LW1hcmdpbiB7XFxcbndpZHRoOiAxcHg7XFxcbmJhY2tncm91bmQ6ICM1NTU2NTFcXFxufVxcXG4uYWNlLW1vbm9rYWkge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjMjcyODIyO1xcXG5jb2xvcjogI0Y4RjhGMlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2N1cnNvciB7XFxcbmNvbG9yOiAjRjhGOEYwXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcXFxuYmFja2dyb3VuZDogIzQ5NDgzRVxcXG59XFxcbi5hY2UtbW9ub2thaS5hY2VfbXVsdGlzZWxlY3QgLmFjZV9zZWxlY3Rpb24uYWNlX3N0YXJ0IHtcXFxuYm94LXNoYWRvdzogMCAwIDNweCAwcHggIzI3MjgyMjtcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcXFxuYmFja2dyb3VuZDogcmdiKDEwMiwgODIsIDApXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxcbm1hcmdpbjogLTFweCAwIDAgLTFweDtcXFxuYm9yZGVyOiAxcHggc29saWQgIzQ5NDgzRVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX21hcmtlci1sYXllciAuYWNlX2FjdGl2ZS1saW5lIHtcXFxuYmFja2dyb3VuZDogIzIwMjAyMFxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2d1dHRlci1hY3RpdmUtbGluZSB7XFxcbmJhY2tncm91bmQtY29sb3I6ICMyNzI3MjdcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXFxuYm9yZGVyOiAxcHggc29saWQgIzQ5NDgzRVxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2ludmlzaWJsZSB7XFxcbmNvbG9yOiAjNTI1MjRkXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV90YWcsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2tleXdvcmQsXFxcbi5hY2UtbW9ub2thaSAuYWNlX21ldGEuYWNlX3RhZyxcXFxuLmFjZS1tb25va2FpIC5hY2Vfc3RvcmFnZSB7XFxcbmNvbG9yOiAjRjkyNjcyXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfcHVuY3R1YXRpb24sXFxcbi5hY2UtbW9ub2thaSAuYWNlX3B1bmN0dWF0aW9uLmFjZV90YWcge1xcXG5jb2xvcjogI2ZmZlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSxcXFxuLmFjZS1tb25va2FpIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMsXFxcbi5hY2UtbW9ub2thaSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XFxcbmNvbG9yOiAjQUU4MUZGXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfaW52YWxpZCB7XFxcbmNvbG9yOiAjRjhGOEYwO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjRjkyNjcyXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfaW52YWxpZC5hY2VfZGVwcmVjYXRlZCB7XFxcbmNvbG9yOiAjRjhGOEYwO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiAjQUU4MUZGXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2Vfc3VwcG9ydC5hY2VfY29uc3RhbnQsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX2Z1bmN0aW9uIHtcXFxuY29sb3I6ICM2NkQ5RUZcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV9mb2xkIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0E2RTIyRTtcXFxuYm9yZGVyLWNvbG9yOiAjRjhGOEYyXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2Vfc3RvcmFnZS5hY2VfdHlwZSxcXFxuLmFjZS1tb25va2FpIC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3MsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3N1cHBvcnQuYWNlX3R5cGUge1xcXG5mb250LXN0eWxlOiBpdGFsaWM7XFxcbmNvbG9yOiAjNjZEOUVGXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9uYW1lLmFjZV9mdW5jdGlvbixcXFxuLmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9vdGhlcixcXFxuLmFjZS1tb25va2FpIC5hY2VfZW50aXR5LmFjZV9vdGhlci5hY2VfYXR0cmlidXRlLW5hbWUsXFxcbi5hY2UtbW9ub2thaSAuYWNlX3ZhcmlhYmxlIHtcXFxuY29sb3I6ICNBNkUyMkVcXFxufVxcXG4uYWNlLW1vbm9rYWkgLmFjZV92YXJpYWJsZS5hY2VfcGFyYW1ldGVyIHtcXFxuZm9udC1zdHlsZTogaXRhbGljO1xcXG5jb2xvcjogI0ZEOTcxRlxcXG59XFxcbi5hY2UtbW9ub2thaSAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiAjRTZEQjc0XFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfY29tbWVudCB7XFxcbmNvbG9yOiAjNzU3MTVFXFxcbn1cXFxuLmFjZS1tb25va2FpIC5hY2VfaW5kZW50LWd1aWRlIHtcXFxuYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XUFEwRkQwWlhCemQvd1BBQWpWQW94ZVNnTmVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxcXG59XCI7XG5cbnZhciBkb20gPSBhY2VxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcyk7XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzLmlkID0gJ2FjZS9tb2RlL2phdmFzY3JpcHRfd29ya2VyJztcbm1vZHVsZS5leHBvcnRzLnNyYyA9IFwiXFxcIm5vIHVzZSBzdHJpY3RcXFwiOyhmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCxwYXRocyl7Zm9yKHZhciB0ZXN0UGF0aD1pZCx0YWlsPVxcXCJcXFwiO3Rlc3RQYXRoOyl7dmFyIGFsaWFzPXBhdGhzW3Rlc3RQYXRoXTtpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGFsaWFzKXJldHVybiBhbGlhcyt0YWlsO2lmKGFsaWFzKXJldHVybiBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cXFxcLyokLyxcXFwiL1xcXCIpKyh0YWlsfHxhbGlhcy5tYWlufHxhbGlhcy5uYW1lKTtpZihhbGlhcz09PSExKXJldHVyblxcXCJcXFwiO3ZhciBpPXRlc3RQYXRoLmxhc3RJbmRleE9mKFxcXCIvXFxcIik7aWYoLTE9PT1pKWJyZWFrO3RhaWw9dGVzdFBhdGguc3Vic3RyKGkpK3RhaWwsdGVzdFBhdGg9dGVzdFBhdGguc2xpY2UoMCxpKX1yZXR1cm4gaWR9aWYoISh2b2lkIDAhPT13aW5kb3cud2luZG93JiZ3aW5kb3cuZG9jdW1lbnR8fHdpbmRvdy5hY2VxdWlyZSYmd2luZG93LmRlZmluZSkpe3dpbmRvdy5jb25zb2xlfHwod2luZG93LmNvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgbXNncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cG9zdE1lc3NhZ2Uoe3R5cGU6XFxcImxvZ1xcXCIsZGF0YTptc2dzfSl9LHdpbmRvdy5jb25zb2xlLmVycm9yPXdpbmRvdy5jb25zb2xlLndhcm49d2luZG93LmNvbnNvbGUubG9nPXdpbmRvdy5jb25zb2xlLnRyYWNlPXdpbmRvdy5jb25zb2xlKSx3aW5kb3cud2luZG93PXdpbmRvdyx3aW5kb3cuYWNlPXdpbmRvdyx3aW5kb3cub25lcnJvcj1mdW5jdGlvbihtZXNzYWdlLGZpbGUsbGluZSxjb2wsZXJyKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXJyb3JcXFwiLGRhdGE6e21lc3NhZ2U6bWVzc2FnZSxkYXRhOmVyci5kYXRhLGZpbGU6ZmlsZSxsaW5lOmxpbmUsY29sOmNvbCxzdGFjazplcnIuc3RhY2t9fSl9LHdpbmRvdy5ub3JtYWxpemVNb2R1bGU9ZnVuY3Rpb24ocGFyZW50SWQsbW9kdWxlTmFtZSl7aWYoLTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoXFxcIiFcXFwiKSl7dmFyIGNodW5rcz1tb2R1bGVOYW1lLnNwbGl0KFxcXCIhXFxcIik7cmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzBdKStcXFwiIVxcXCIrd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMV0pfWlmKFxcXCIuXFxcIj09bW9kdWxlTmFtZS5jaGFyQXQoMCkpe3ZhciBiYXNlPXBhcmVudElkLnNwbGl0KFxcXCIvXFxcIikuc2xpY2UoMCwtMSkuam9pbihcXFwiL1xcXCIpO2Zvcihtb2R1bGVOYW1lPShiYXNlP2Jhc2UrXFxcIi9cXFwiOlxcXCJcXFwiKSttb2R1bGVOYW1lOy0xIT09bW9kdWxlTmFtZS5pbmRleE9mKFxcXCIuXFxcIikmJnByZXZpb3VzIT1tb2R1bGVOYW1lOyl7dmFyIHByZXZpb3VzPW1vZHVsZU5hbWU7bW9kdWxlTmFtZT1tb2R1bGVOYW1lLnJlcGxhY2UoL15cXFxcLlxcXFwvLyxcXFwiXFxcIikucmVwbGFjZSgvXFxcXC9cXFxcLlxcXFwvLyxcXFwiL1xcXCIpLnJlcGxhY2UoL1teXFxcXC9dK1xcXFwvXFxcXC5cXFxcLlxcXFwvLyxcXFwiXFxcIil9fXJldHVybiBtb2R1bGVOYW1lfSx3aW5kb3cuYWNlcXVpcmU9ZnVuY3Rpb24gYWNlcXVpcmUocGFyZW50SWQsaWQpe2lmKGlkfHwoaWQ9cGFyZW50SWQscGFyZW50SWQ9bnVsbCksIWlkLmNoYXJBdCl0aHJvdyBFcnJvcihcXFwid29ya2VyLmpzIGFjZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50c1xcXCIpO2lkPXdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsaWQpO3ZhciBtb2R1bGU9d2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdO2lmKG1vZHVsZSlyZXR1cm4gbW9kdWxlLmluaXRpYWxpemVkfHwobW9kdWxlLmluaXRpYWxpemVkPSEwLG1vZHVsZS5leHBvcnRzPW1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0cyksbW9kdWxlLmV4cG9ydHM7aWYoIXdpbmRvdy5hY2VxdWlyZS50bG5zKXJldHVybiBjb25zb2xlLmxvZyhcXFwidW5hYmxlIHRvIGxvYWQgXFxcIitpZCk7dmFyIHBhdGg9cmVzb2x2ZU1vZHVsZUlkKGlkLHdpbmRvdy5hY2VxdWlyZS50bG5zKTtyZXR1cm5cXFwiLmpzXFxcIiE9cGF0aC5zbGljZSgtMykmJihwYXRoKz1cXFwiLmpzXFxcIiksd2luZG93LmFjZXF1aXJlLmlkPWlkLHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17fSxpbXBvcnRTY3JpcHRzKHBhdGgpLHdpbmRvdy5hY2VxdWlyZShwYXJlbnRJZCxpZCl9LHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzPXt9LHdpbmRvdy5hY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5kZWZpbmU9ZnVuY3Rpb24oaWQsZGVwcyxmYWN0b3J5KXtpZigyPT1hcmd1bWVudHMubGVuZ3RoPyhmYWN0b3J5PWRlcHMsXFxcInN0cmluZ1xcXCIhPXR5cGVvZiBpZCYmKGRlcHM9aWQsaWQ9d2luZG93LmFjZXF1aXJlLmlkKSk6MT09YXJndW1lbnRzLmxlbmd0aCYmKGZhY3Rvcnk9aWQsZGVwcz1bXSxpZD13aW5kb3cuYWNlcXVpcmUuaWQpLFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBmYWN0b3J5KXJldHVybiB3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e2V4cG9ydHM6ZmFjdG9yeSxpbml0aWFsaXplZDohMH0sdm9pZCAwO2RlcHMubGVuZ3RofHwoZGVwcz1bXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0pO3ZhciByZXE9ZnVuY3Rpb24oY2hpbGRJZCl7cmV0dXJuIHdpbmRvdy5hY2VxdWlyZShpZCxjaGlsZElkKX07d2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXtleHBvcnRzOnt9LGZhY3Rvcnk6ZnVuY3Rpb24oKXt2YXIgbW9kdWxlPXRoaXMscmV0dXJuRXhwb3J0cz1mYWN0b3J5LmFwcGx5KHRoaXMsZGVwcy5tYXAoZnVuY3Rpb24oZGVwKXtzd2l0Y2goZGVwKXtjYXNlXFxcInJlcXVpcmVcXFwiOnJldHVybiByZXE7Y2FzZVxcXCJleHBvcnRzXFxcIjpyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Y2FzZVxcXCJtb2R1bGVcXFwiOnJldHVybiBtb2R1bGU7ZGVmYXVsdDpyZXR1cm4gcmVxKGRlcCl9fSkpO3JldHVybiByZXR1cm5FeHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9cmV0dXJuRXhwb3J0cyksbW9kdWxlfX19LHdpbmRvdy5kZWZpbmUuYW1kPXt9LGFjZXF1aXJlLnRsbnM9e30sd2luZG93LmluaXRCYXNlVXJscz1mdW5jdGlvbih0b3BMZXZlbE5hbWVzcGFjZXMpe2Zvcih2YXIgaSBpbiB0b3BMZXZlbE5hbWVzcGFjZXMpYWNlcXVpcmUudGxuc1tpXT10b3BMZXZlbE5hbWVzcGFjZXNbaV19LHdpbmRvdy5pbml0U2VuZGVyPWZ1bmN0aW9uKCl7dmFyIEV2ZW50RW1pdHRlcj13aW5kb3cuYWNlcXVpcmUoXFxcImFjZS9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixvb3A9d2luZG93LmFjZXF1aXJlKFxcXCJhY2UvbGliL29vcFxcXCIpLFNlbmRlcj1mdW5jdGlvbigpe307cmV0dXJuIGZ1bmN0aW9uKCl7b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5jYWxsYmFjaz1mdW5jdGlvbihkYXRhLGNhbGxiYWNrSWQpe3Bvc3RNZXNzYWdlKHt0eXBlOlxcXCJjYWxsXFxcIixpZDpjYWxsYmFja0lkLGRhdGE6ZGF0YX0pfSx0aGlzLmVtaXQ9ZnVuY3Rpb24obmFtZSxkYXRhKXtwb3N0TWVzc2FnZSh7dHlwZTpcXFwiZXZlbnRcXFwiLG5hbWU6bmFtZSxkYXRhOmRhdGF9KX19LmNhbGwoU2VuZGVyLnByb3RvdHlwZSksbmV3IFNlbmRlcn07dmFyIG1haW49d2luZG93Lm1haW49bnVsbCxzZW5kZXI9d2luZG93LnNlbmRlcj1udWxsO3dpbmRvdy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dmFyIG1zZz1lLmRhdGE7aWYobXNnLmV2ZW50JiZzZW5kZXIpc2VuZGVyLl9zaWduYWwobXNnLmV2ZW50LG1zZy5kYXRhKTtlbHNlIGlmKG1zZy5jb21tYW5kKWlmKG1haW5bbXNnLmNvbW1hbmRdKW1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sbXNnLmFyZ3MpO2Vsc2V7aWYoIXdpbmRvd1ttc2cuY29tbWFuZF0pdGhyb3cgRXJyb3IoXFxcIlVua25vd24gY29tbWFuZDpcXFwiK21zZy5jb21tYW5kKTt3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdyxtc2cuYXJncyl9ZWxzZSBpZihtc2cuaW5pdCl7d2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyksYWNlcXVpcmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiKSxzZW5kZXI9d2luZG93LnNlbmRlcj13aW5kb3cuaW5pdFNlbmRlcigpO3ZhciBjbGF6ej1hY2VxdWlyZShtc2cubW9kdWxlKVttc2cuY2xhc3NuYW1lXTttYWluPXdpbmRvdy5tYWluPW5ldyBjbGF6eihzZW5kZXIpfX19fSkodGhpcyksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9vb3BcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yLGN0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmN0b3IsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9LGV4cG9ydHMubWl4aW49ZnVuY3Rpb24ob2JqLG1peGluKXtmb3IodmFyIGtleSBpbiBtaXhpbilvYmpba2V5XT1taXhpbltrZXldO3JldHVybiBvYmp9LGV4cG9ydHMuaW1wbGVtZW50PWZ1bmN0aW9uKHByb3RvLG1peGluKXtleHBvcnRzLm1peGluKHByb3RvLG1peGluKX19KSxhY2UuZGVmaW5lKFxcXCJhY2UvcmFuZ2VcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIlJhbmdlOiBbXFxcIit0aGlzLnN0YXJ0LnJvdytcXFwiL1xcXCIrdGhpcy5zdGFydC5jb2x1bW4rXFxcIl0gLT4gW1xcXCIrdGhpcy5lbmQucm93K1xcXCIvXFxcIit0aGlzLmVuZC5jb2x1bW4rXFxcIl1cXFwifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7XFxcIm9iamVjdFxcXCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXtcXFwib2JqZWN0XFxcIj09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZShcXFwiYWNlL2FwcGx5X2RlbHRhXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2V4cG9ydHMuYXBwbHlEZWx0YT1mdW5jdGlvbihkb2NMaW5lcyxkZWx0YSl7dmFyIHJvdz1kZWx0YS5zdGFydC5yb3csc3RhcnRDb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGxpbmU9ZG9jTGluZXNbcm93XXx8XFxcIlxcXCI7c3dpdGNoKGRlbHRhLmFjdGlvbil7Y2FzZVxcXCJpbnNlcnRcXFwiOnZhciBsaW5lcz1kZWx0YS5saW5lcztpZigxPT09bGluZXMubGVuZ3RoKWRvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZGVsdGEubGluZXNbMF0rbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pO2Vsc2V7dmFyIGFyZ3M9W3JvdywxXS5jb25jYXQoZGVsdGEubGluZXMpO2RvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcyxhcmdzKSxkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RvY0xpbmVzW3Jvd10sZG9jTGluZXNbcm93K2RlbHRhLmxpbmVzLmxlbmd0aC0xXSs9bGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pfWJyZWFrO2Nhc2VcXFwicmVtb3ZlXFxcIjp2YXIgZW5kQ29sdW1uPWRlbHRhLmVuZC5jb2x1bW4sZW5kUm93PWRlbHRhLmVuZC5yb3c7cm93PT09ZW5kUm93P2RvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uKTpkb2NMaW5lcy5zcGxpY2Uocm93LGVuZFJvdy1yb3crMSxsaW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pKX19fSksYWNlLmRlZmluZShcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpe1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCksbGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aSYmKGxpc3RlbmVyc1tpXShlLHRoaXMpLCFlLnByb3BhZ2F0aW9uU3RvcHBlZCk7aSsrKTtyZXR1cm4gZGVmYXVsdEhhbmRsZXImJiFlLmRlZmF1bHRQcmV2ZW50ZWQ/ZGVmYXVsdEhhbmRsZXIoZSx0aGlzKTp2b2lkIDB9fSxFdmVudEVtaXR0ZXIuX3NpZ25hbD1mdW5jdGlvbihldmVudE5hbWUsZSl7dmFyIGxpc3RlbmVycz0odGhpcy5fZXZlbnRSZWdpc3RyeXx8e30pW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXtsaXN0ZW5lcnM9bGlzdGVuZXJzLnNsaWNlKCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX19LEV2ZW50RW1pdHRlci5vbmNlPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIF9zZWxmPXRoaXM7Y2FsbGJhY2smJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsZnVuY3Rpb24gbmV3Q2FsbGJhY2soKXtfc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxuZXdDYWxsYmFjayksY2FsbGJhY2suYXBwbHkobnVsbCxhcmd1bWVudHMpfSl9LEV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnN8fChoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM9e19kaXNhYmxlZF86e319KSxoYW5kbGVyc1tldmVudE5hbWVdKXt2YXIgb2xkPWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2Rpc2FibGVkfHwoaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdPWRpc2FibGVkPVtdKSxkaXNhYmxlZC5wdXNoKG9sZCk7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfWhhbmRsZXJzW2V2ZW50TmFtZV09Y2FsbGJhY2t9LEV2ZW50RW1pdHRlci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnMpe3ZhciBkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07aWYoaGFuZGxlcnNbZXZlbnROYW1lXT09Y2FsbGJhY2spaGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZCYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsZGlzYWJsZWQucG9wKCkpO2Vsc2UgaWYoZGlzYWJsZWQpe3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX19fSxFdmVudEVtaXR0ZXIub249RXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrLGNhcHR1cmluZyl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtyZXR1cm4gbGlzdGVuZXJzfHwobGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSksLTE9PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSYmbGlzdGVuZXJzW2NhcHR1cmluZz9cXFwidW5zaGlmdFxcXCI6XFxcInB1c2hcXFwiXShjYWxsYmFjayksY2FsbGJhY2t9LEV2ZW50RW1pdHRlci5vZmY9RXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyPUV2ZW50RW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpe3ZhciBpbmRleD1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7LTEhPT1pbmRleCYmbGlzdGVuZXJzLnNwbGljZShpbmRleCwxKX19LEV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnROYW1lKXt0aGlzLl9ldmVudFJlZ2lzdHJ5JiYodGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKX0sZXhwb3J0cy5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyfSksYWNlLmRlZmluZShcXFwiYWNlL2FuY2hvclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixBbmNob3I9ZXhwb3J0cy5BbmNob3I9ZnVuY3Rpb24oZG9jLHJvdyxjb2x1bW4pe3RoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaChkb2MpLGNvbHVtbj09PXZvaWQgMD90aGlzLnNldFBvc2l0aW9uKHJvdy5yb3cscm93LmNvbHVtbik6dGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uKX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLHBvaW50MixlcXVhbFBvaW50c0luT3JkZXIpe3ZhciBiQ29sSXNBZnRlcj1lcXVhbFBvaW50c0luT3JkZXI/cG9pbnQxLmNvbHVtbjw9cG9pbnQyLmNvbHVtbjpwb2ludDEuY29sdW1uPHBvaW50Mi5jb2x1bW47cmV0dXJuIHBvaW50MS5yb3c8cG9pbnQyLnJvd3x8cG9pbnQxLnJvdz09cG9pbnQyLnJvdyYmYkNvbElzQWZ0ZXJ9ZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEscG9pbnQsbW92ZUlmRXF1YWwpe3ZhciBkZWx0YUlzSW5zZXJ0PVxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb24sZGVsdGFSb3dTaGlmdD0oZGVsdGFJc0luc2VydD8xOi0xKSooZGVsdGEuZW5kLnJvdy1kZWx0YS5zdGFydC5yb3cpLGRlbHRhQ29sU2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5jb2x1bW4tZGVsdGEuc3RhcnQuY29sdW1uKSxkZWx0YVN0YXJ0PWRlbHRhLnN0YXJ0LGRlbHRhRW5kPWRlbHRhSXNJbnNlcnQ/ZGVsdGFTdGFydDpkZWx0YS5lbmQ7cmV0dXJuICRwb2ludHNJbk9yZGVyKHBvaW50LGRlbHRhU3RhcnQsbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93LGNvbHVtbjpwb2ludC5jb2x1bW59OiRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLHBvaW50LCFtb3ZlSWZFcXVhbCk/e3Jvdzpwb2ludC5yb3crZGVsdGFSb3dTaGlmdCxjb2x1bW46cG9pbnQuY29sdW1uKyhwb2ludC5yb3c9PWRlbHRhRW5kLnJvdz9kZWx0YUNvbFNoaWZ0OjApfTp7cm93OmRlbHRhU3RhcnQucm93LGNvbHVtbjpkZWx0YVN0YXJ0LmNvbHVtbn19b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LHRoaXMuY29sdW1uKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50fSx0aGlzLiRpbnNlcnRSaWdodD0hMSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKGRlbHRhKXtpZighKGRlbHRhLnN0YXJ0LnJvdz09ZGVsdGEuZW5kLnJvdyYmZGVsdGEuc3RhcnQucm93IT10aGlzLnJvd3x8ZGVsdGEuc3RhcnQucm93PnRoaXMucm93KSl7dmFyIHBvaW50PSRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufSx0aGlzLiRpbnNlcnRSaWdodCk7dGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3cscG9pbnQuY29sdW1uLCEwKX19LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24ocm93LGNvbHVtbixub0NsaXApe3ZhciBwb3M7aWYocG9zPW5vQ2xpcD97cm93OnJvdyxjb2x1bW46Y29sdW1ufTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdyxjb2x1bW4pLHRoaXMucm93IT1wb3Mucm93fHx0aGlzLmNvbHVtbiE9cG9zLmNvbHVtbil7dmFyIG9sZD17cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn07dGhpcy5yb3c9cG9zLnJvdyx0aGlzLmNvbHVtbj1wb3MuY29sdW1uLHRoaXMuX3NpZ25hbChcXFwiY2hhbmdlXFxcIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZG9jKXt0aGlzLmRvY3VtZW50PWRvY3x8dGhpcy5kb2N1bWVudCx0aGlzLmRvY3VtZW50Lm9uKFxcXCJjaGFuZ2VcXFwiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZShcXFwiYWNlL2RvY3VtZW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL2xpYi9vb3BcXFwiLFxcXCJhY2UvYXBwbHlfZGVsdGFcXFwiLFxcXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcXFwiLFxcXCJhY2UvcmFuZ2VcXFwiLFxcXCJhY2UvYW5jaG9yXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBvb3A9YWNlcXVpcmUoXFxcIi4vbGliL29vcFxcXCIpLGFwcGx5RGVsdGE9YWNlcXVpcmUoXFxcIi4vYXBwbHlfZGVsdGFcXFwiKS5hcHBseURlbHRhLEV2ZW50RW1pdHRlcj1hY2VxdWlyZShcXFwiLi9saWIvZXZlbnRfZW1pdHRlclxcXCIpLkV2ZW50RW1pdHRlcixSYW5nZT1hY2VxdWlyZShcXFwiLi9yYW5nZVxcXCIpLlJhbmdlLEFuY2hvcj1hY2VxdWlyZShcXFwiLi9hbmNob3JcXFwiKS5BbmNob3IsRG9jdW1lbnQ9ZnVuY3Rpb24odGV4dE9yTGluZXMpe3RoaXMuJGxpbmVzPVtcXFwiXFxcIl0sMD09PXRleHRPckxpbmVzLmxlbmd0aD90aGlzLiRsaW5lcz1bXFxcIlxcXCJdOkFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpP3RoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyl9OyhmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odGV4dCl7dmFyIGxlbj10aGlzLmdldExlbmd0aCgpLTE7dGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsMCxsZW4sdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0KX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiBuZXcgQW5jaG9yKHRoaXMscm93LGNvbHVtbil9LHRoaXMuJHNwbGl0PTA9PT1cXFwiYWFhXFxcIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXFxcclxcXFxufFxcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIil9OmZ1bmN0aW9uKHRleHQpe3JldHVybiB0ZXh0LnNwbGl0KC9cXFxcclxcXFxufFxcXFxyfFxcXFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxcXHJcXFxcbnxcXFxccnxcXFxcbikvbSk7dGhpcy4kYXV0b05ld0xpbmU9bWF0Y2g/bWF0Y2hbMV06XFxcIlxcXFxuXFxcIix0aGlzLl9zaWduYWwoXFxcImNoYW5nZU5ld0xpbmVNb2RlXFxcIil9LHRoaXMuZ2V0TmV3TGluZUNoYXJhY3Rlcj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLiRuZXdMaW5lTW9kZSl7Y2FzZVxcXCJ3aW5kb3dzXFxcIjpyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI7Y2FzZVxcXCJ1bml4XFxcIjpyZXR1cm5cXFwiXFxcXG5cXFwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lfHxcXFwiXFxcXG5cXFwifX0sdGhpcy4kYXV0b05ld0xpbmU9XFxcIlxcXCIsdGhpcy4kbmV3TGluZU1vZGU9XFxcImF1dG9cXFwiLHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24obmV3TGluZU1vZGUpe3RoaXMuJG5ld0xpbmVNb2RlIT09bmV3TGluZU1vZGUmJih0aGlzLiRuZXdMaW5lTW9kZT1uZXdMaW5lTW9kZSx0aGlzLl9zaWduYWwoXFxcImNoYW5nZU5ld0xpbmVNb2RlXFxcIikpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm5cXFwiXFxcXHJcXFxcblxcXCI9PXRleHR8fFxcXCJcXFxcclxcXCI9PXRleHR8fFxcXCJcXFxcblxcXCI9PXRleHR9LHRoaXMuZ2V0TGluZT1mdW5jdGlvbihyb3cpe3JldHVybiB0aGlzLiRsaW5lc1tyb3ddfHxcXFwiXFxcIn0sdGhpcy5nZXRMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csbGFzdFJvdysxKX0sdGhpcy5nZXRBbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExpbmVzKDAsdGhpcy5nZXRMZW5ndGgoKSl9LHRoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aH0sdGhpcy5nZXRUZXh0UmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3JldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpfSx0aGlzLmdldExpbmVzRm9yUmFuZ2U9ZnVuY3Rpb24ocmFuZ2Upe3ZhciBsaW5lcztpZihyYW5nZS5zdGFydC5yb3c9PT1yYW5nZS5lbmQucm93KWxpbmVzPVt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLHJhbmdlLmVuZC5jb2x1bW4pXTtlbHNle2xpbmVzPXRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LHJhbmdlLmVuZC5yb3cpLGxpbmVzWzBdPShsaW5lc1swXXx8XFxcIlxcXCIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pO3ZhciBsPWxpbmVzLmxlbmd0aC0xO3JhbmdlLmVuZC5yb3ctcmFuZ2Uuc3RhcnQucm93PT1sJiYobGluZXNbbF09bGluZXNbbF0uc3Vic3RyaW5nKDAscmFuZ2UuZW5kLmNvbHVtbikpfXJldHVybiBsaW5lc30sdGhpcy5pbnNlcnRMaW5lcz1mdW5jdGlvbihyb3csbGluZXMpe3JldHVybiBjb25zb2xlLndhcm4oXFxcIlVzZSBvZiBkb2N1bWVudC5pbnNlcnRMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIGluc2VydEZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC5cXFwiKSx0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csbGluZXMpfSx0aGlzLnJlbW92ZUxpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe3JldHVybiBjb25zb2xlLndhcm4oXFxcIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC5cXFwiKSx0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdyxsYXN0Um93KX0sdGhpcy5pbnNlcnROZXdMaW5lPWZ1bmN0aW9uKHBvc2l0aW9uKXtyZXR1cm4gY29uc29sZS53YXJuKFxcXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLlxcXCIpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sW1xcXCJcXFwiLFxcXCJcXFwiXSl9LHRoaXMuaW5zZXJ0PWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe3JldHVybiAxPj10aGlzLmdldExlbmd0aCgpJiZ0aGlzLiRkZXRlY3ROZXdMaW5lKHRleHQpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sdGhpcy4kc3BsaXQodGV4dCkpfSx0aGlzLmluc2VydEluTGluZT1mdW5jdGlvbihwb3NpdGlvbix0ZXh0KXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4pLGVuZD10aGlzLnBvcyhwb3NpdGlvbi5yb3cscG9zaXRpb24uY29sdW1uK3RleHQubGVuZ3RoKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwiaW5zZXJ0XFxcIixsaW5lczpbdGV4dF19LCEwKSx0aGlzLmNsb25lUG9zKGVuZCl9LHRoaXMuY2xpcHBlZFBvcz1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgbGVuZ3RoPXRoaXMuZ2V0TGVuZ3RoKCk7dm9pZCAwPT09cm93P3Jvdz1sZW5ndGg6MD5yb3c/cm93PTA6cm93Pj1sZW5ndGgmJihyb3c9bGVuZ3RoLTEsY29sdW1uPXZvaWQgMCk7dmFyIGxpbmU9dGhpcy5nZXRMaW5lKHJvdyk7cmV0dXJuIHZvaWQgMD09Y29sdW1uJiYoY29sdW1uPWxpbmUubGVuZ3RoKSxjb2x1bW49TWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLDApLGxpbmUubGVuZ3RoKSx7cm93OnJvdyxjb2x1bW46Y29sdW1ufX0sdGhpcy5jbG9uZVBvcz1mdW5jdGlvbihwb3Mpe3JldHVybntyb3c6cG9zLnJvdyxjb2x1bW46cG9zLmNvbHVtbn19LHRoaXMucG9zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybntyb3c6cm93LGNvbHVtbjpjb2x1bW59fSx0aGlzLiRjbGlwUG9zaXRpb249ZnVuY3Rpb24ocG9zaXRpb24pe3ZhciBsZW5ndGg9dGhpcy5nZXRMZW5ndGgoKTtyZXR1cm4gcG9zaXRpb24ucm93Pj1sZW5ndGg/KHBvc2l0aW9uLnJvdz1NYXRoLm1heCgwLGxlbmd0aC0xKSxwb3NpdGlvbi5jb2x1bW49dGhpcy5nZXRMaW5lKGxlbmd0aC0xKS5sZW5ndGgpOihwb3NpdGlvbi5yb3c9TWF0aC5tYXgoMCxwb3NpdGlvbi5yb3cpLHBvc2l0aW9uLmNvbHVtbj1NYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sMCksdGhpcy5nZXRMaW5lKHBvc2l0aW9uLnJvdykubGVuZ3RoKSkscG9zaXRpb259LHRoaXMuaW5zZXJ0RnVsbExpbmVzPWZ1bmN0aW9uKHJvdyxsaW5lcyl7cm93PU1hdGgubWluKE1hdGgubWF4KHJvdywwKSx0aGlzLmdldExlbmd0aCgpKTt2YXIgY29sdW1uPTA7dGhpcy5nZXRMZW5ndGgoKT5yb3c/KGxpbmVzPWxpbmVzLmNvbmNhdChbXFxcIlxcXCJdKSxjb2x1bW49MCk6KGxpbmVzPVtcXFwiXFxcIl0uY29uY2F0KGxpbmVzKSxyb3ctLSxjb2x1bW49dGhpcy4kbGluZXNbcm93XS5sZW5ndGgpLHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3Jvdzpyb3csY29sdW1uOmNvbHVtbn0sbGluZXMpfSx0aGlzLmluc2VydE1lcmdlZExpbmVzPWZ1bmN0aW9uKHBvc2l0aW9uLGxpbmVzKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4pLGVuZD17cm93OnN0YXJ0LnJvdytsaW5lcy5sZW5ndGgtMSxjb2x1bW46KDE9PWxpbmVzLmxlbmd0aD9zdGFydC5jb2x1bW46MCkrbGluZXNbbGluZXMubGVuZ3RoLTFdLmxlbmd0aH07cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6c3RhcnQsZW5kOmVuZCxhY3Rpb246XFxcImluc2VydFxcXCIsbGluZXM6bGluZXN9KSx0aGlzLmNsb25lUG9zKGVuZCl9LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5zdGFydC5jb2x1bW4pLGVuZD10aGlzLmNsaXBwZWRQb3MocmFuZ2UuZW5kLnJvdyxyYW5nZS5lbmQuY29sdW1uKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OnN0YXJ0LGVuZDplbmR9KX0pLHRoaXMuY2xvbmVQb3Moc3RhcnQpfSx0aGlzLnJlbW92ZUluTGluZT1mdW5jdGlvbihyb3csc3RhcnRDb2x1bW4sZW5kQ29sdW1uKXt2YXIgc3RhcnQ9dGhpcy5jbGlwcGVkUG9zKHJvdyxzdGFydENvbHVtbiksZW5kPXRoaXMuY2xpcHBlZFBvcyhyb3csZW5kQ29sdW1uKTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjpcXFwicmVtb3ZlXFxcIixsaW5lczp0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OnN0YXJ0LGVuZDplbmR9KX0sITApLHRoaXMuY2xvbmVQb3Moc3RhcnQpfSx0aGlzLnJlbW92ZUZ1bGxMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtmaXJzdFJvdz1NYXRoLm1pbihNYXRoLm1heCgwLGZpcnN0Um93KSx0aGlzLmdldExlbmd0aCgpLTEpLGxhc3RSb3c9TWF0aC5taW4oTWF0aC5tYXgoMCxsYXN0Um93KSx0aGlzLmdldExlbmd0aCgpLTEpO3ZhciBkZWxldGVGaXJzdE5ld0xpbmU9bGFzdFJvdz09dGhpcy5nZXRMZW5ndGgoKS0xJiZmaXJzdFJvdz4wLGRlbGV0ZUxhc3ROZXdMaW5lPXRoaXMuZ2V0TGVuZ3RoKCktMT5sYXN0Um93LHN0YXJ0Um93PWRlbGV0ZUZpcnN0TmV3TGluZT9maXJzdFJvdy0xOmZpcnN0Um93LHN0YXJ0Q29sPWRlbGV0ZUZpcnN0TmV3TGluZT90aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aDowLGVuZFJvdz1kZWxldGVMYXN0TmV3TGluZT9sYXN0Um93KzE6bGFzdFJvdyxlbmRDb2w9ZGVsZXRlTGFzdE5ld0xpbmU/MDp0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGgscmFuZ2U9bmV3IFJhbmdlKHN0YXJ0Um93LHN0YXJ0Q29sLGVuZFJvdyxlbmRDb2wpLGRlbGV0ZWRMaW5lcz10aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdyxsYXN0Um93KzEpO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnJhbmdlLnN0YXJ0LGVuZDpyYW5nZS5lbmQsYWN0aW9uOlxcXCJyZW1vdmVcXFwiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSl9KSxkZWxldGVkTGluZXN9LHRoaXMucmVtb3ZlTmV3TGluZT1mdW5jdGlvbihyb3cpe3RoaXMuZ2V0TGVuZ3RoKCktMT5yb3cmJnJvdz49MCYmdGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLnBvcyhyb3csdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSxlbmQ6dGhpcy5wb3Mocm93KzEsMCksYWN0aW9uOlxcXCJyZW1vdmVcXFwiLGxpbmVzOltcXFwiXFxcIixcXFwiXFxcIl19KX0sdGhpcy5yZXBsYWNlPWZ1bmN0aW9uKHJhbmdlLHRleHQpe2lmKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2V8fChyYW5nZT1SYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LHJhbmdlLmVuZCkpLDA9PT10ZXh0Lmxlbmd0aCYmcmFuZ2UuaXNFbXB0eSgpKXJldHVybiByYW5nZS5zdGFydDtpZih0ZXh0PT10aGlzLmdldFRleHRSYW5nZShyYW5nZSkpcmV0dXJuIHJhbmdlLmVuZDt0aGlzLnJlbW92ZShyYW5nZSk7dmFyIGVuZDtyZXR1cm4gZW5kPXRleHQ/dGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsdGV4dCk6cmFuZ2Uuc3RhcnR9LHRoaXMuYXBwbHlEZWx0YXM9ZnVuY3Rpb24oZGVsdGFzKXtmb3IodmFyIGk9MDtkZWx0YXMubGVuZ3RoPmk7aSsrKXRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pfSx0aGlzLnJldmVydERlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT1kZWx0YXMubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pfSx0aGlzLmFwcGx5RGVsdGE9ZnVuY3Rpb24oZGVsdGEsZG9Ob3RWYWxpZGF0ZSl7dmFyIGlzSW5zZXJ0PVxcXCJpbnNlcnRcXFwiPT1kZWx0YS5hY3Rpb247KGlzSW5zZXJ0PzE+PWRlbHRhLmxpbmVzLmxlbmd0aCYmIWRlbHRhLmxpbmVzWzBdOiFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LGRlbHRhLmVuZCkpfHwoaXNJbnNlcnQmJmRlbHRhLmxpbmVzLmxlbmd0aD4yZTQmJnRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLDJlNCksYXBwbHlEZWx0YSh0aGlzLiRsaW5lcyxkZWx0YSxkb05vdFZhbGlkYXRlKSx0aGlzLl9zaWduYWwoXFxcImNoYW5nZVxcXCIsZGVsdGEpKX0sdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGE9ZnVuY3Rpb24oZGVsdGEsTUFYKXtmb3IodmFyIGxpbmVzPWRlbHRhLmxpbmVzLGw9bGluZXMubGVuZ3RoLHJvdz1kZWx0YS5zdGFydC5yb3csY29sdW1uPWRlbHRhLnN0YXJ0LmNvbHVtbixmcm9tPTAsdG89MDs7KXtmcm9tPXRvLHRvKz1NQVgtMTt2YXIgY2h1bms9bGluZXMuc2xpY2UoZnJvbSx0byk7aWYodG8+bCl7ZGVsdGEubGluZXM9Y2h1bmssZGVsdGEuc3RhcnQucm93PXJvdytmcm9tLGRlbHRhLnN0YXJ0LmNvbHVtbj1jb2x1bW47YnJlYWt9Y2h1bmsucHVzaChcXFwiXFxcIiksdGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLnBvcyhyb3crZnJvbSxjb2x1bW4pLGVuZDp0aGlzLnBvcyhyb3crdG8sY29sdW1uPTApLGFjdGlvbjpkZWx0YS5hY3Rpb24sbGluZXM6Y2h1bmt9LCEwKX19LHRoaXMucmV2ZXJ0RGVsdGE9ZnVuY3Rpb24oZGVsdGEpe3RoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6dGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksZW5kOnRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSxhY3Rpb246XFxcImluc2VydFxcXCI9PWRlbHRhLmFjdGlvbj9cXFwicmVtb3ZlXFxcIjpcXFwiaW5zZXJ0XFxcIixsaW5lczpkZWx0YS5saW5lcy5zbGljZSgpfSl9LHRoaXMuaW5kZXhUb1Bvc2l0aW9uPWZ1bmN0aW9uKGluZGV4LHN0YXJ0Um93KXtmb3IodmFyIGxpbmVzPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCksbmV3bGluZUxlbmd0aD10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaT1zdGFydFJvd3x8MCxsPWxpbmVzLmxlbmd0aDtsPmk7aSsrKWlmKGluZGV4LT1saW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aCwwPmluZGV4KXJldHVybntyb3c6aSxjb2x1bW46aW5kZXgrbGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGh9O3JldHVybntyb3c6bC0xLGNvbHVtbjpsaW5lc1tsLTFdLmxlbmd0aH19LHRoaXMucG9zaXRpb25Ub0luZGV4PWZ1bmN0aW9uKHBvcyxzdGFydFJvdyl7Zm9yKHZhciBsaW5lcz10aGlzLiRsaW5lc3x8dGhpcy5nZXRBbGxMaW5lcygpLG5ld2xpbmVMZW5ndGg9dGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoLGluZGV4PTAscm93PU1hdGgubWluKHBvcy5yb3csbGluZXMubGVuZ3RoKSxpPXN0YXJ0Um93fHwwO3Jvdz5pOysraSlpbmRleCs9bGluZXNbaV0ubGVuZ3RoK25ld2xpbmVMZW5ndGg7cmV0dXJuIGluZGV4K3Bvcy5jb2x1bW59fSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpLGV4cG9ydHMuRG9jdW1lbnQ9RG9jdW1lbnR9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbGliL2xhbmdcXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5sYXN0PWZ1bmN0aW9uKGEpe3JldHVybiBhW2EubGVuZ3RoLTFdfSxleHBvcnRzLnN0cmluZ1JldmVyc2U9ZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnNwbGl0KFxcXCJcXFwiKS5yZXZlcnNlKCkuam9pbihcXFwiXFxcIil9LGV4cG9ydHMuc3RyaW5nUmVwZWF0PWZ1bmN0aW9uKHN0cmluZyxjb3VudCl7Zm9yKHZhciByZXN1bHQ9XFxcIlxcXCI7Y291bnQ+MDspMSZjb3VudCYmKHJlc3VsdCs9c3RyaW5nKSwoY291bnQ+Pj0xKSYmKHN0cmluZys9c3RyaW5nKTtyZXR1cm4gcmVzdWx0fTt2YXIgdHJpbUJlZ2luUmVnZXhwPS9eXFxcXHNcXFxccyovLHRyaW1FbmRSZWdleHA9L1xcXFxzXFxcXHMqJC87ZXhwb3J0cy5zdHJpbmdUcmltTGVmdD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsXFxcIlxcXCIpfSxleHBvcnRzLnN0cmluZ1RyaW1SaWdodD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX0sZXhwb3J0cy5jb3B5T2JqZWN0PWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e307Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1vYmpba2V5XTtyZXR1cm4gY29weX0sZXhwb3J0cy5jb3B5QXJyYXk9ZnVuY3Rpb24oYXJyYXkpe2Zvcih2YXIgY29weT1bXSxpPTAsbD1hcnJheS5sZW5ndGg7bD5pO2krKyljb3B5W2ldPWFycmF5W2ldJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGFycmF5W2ldP3RoaXMuY29weU9iamVjdChhcnJheVtpXSk6YXJyYXlbaV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuZGVlcENvcHk9ZnVuY3Rpb24gZGVlcENvcHkob2JqKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9ianx8IW9iailyZXR1cm4gb2JqO3ZhciBjb3B5O2lmKEFycmF5LmlzQXJyYXkob2JqKSl7Y29weT1bXTtmb3IodmFyIGtleT0wO29iai5sZW5ndGg+a2V5O2tleSsrKWNvcHlba2V5XT1kZWVwQ29weShvYmpba2V5XSk7cmV0dXJuIGNvcHl9dmFyIGNvbnM9b2JqLmNvbnN0cnVjdG9yO2lmKGNvbnM9PT1SZWdFeHApcmV0dXJuIG9iajtjb3B5PWNvbnMoKTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX0sZXhwb3J0cy5hcnJheVRvTWFwPWZ1bmN0aW9uKGFycil7Zm9yKHZhciBtYXA9e30saT0wO2Fyci5sZW5ndGg+aTtpKyspbWFwW2FycltpXV09MTtyZXR1cm4gbWFwfSxleHBvcnRzLmNyZWF0ZU1hcD1mdW5jdGlvbihwcm9wcyl7dmFyIG1hcD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgaSBpbiBwcm9wcyltYXBbaV09cHJvcHNbaV07cmV0dXJuIG1hcH0sZXhwb3J0cy5hcnJheVJlbW92ZT1mdW5jdGlvbihhcnJheSx2YWx1ZSl7Zm9yKHZhciBpPTA7YXJyYXkubGVuZ3RoPj1pO2krKyl2YWx1ZT09PWFycmF5W2ldJiZhcnJheS5zcGxpY2UoaSwxKX0sZXhwb3J0cy5lc2NhcGVSZWdFeHA9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXFxcXF1cXFxcL1xcXFxcXFxcXSkvZyxcXFwiXFxcXFxcXFwkMVxcXCIpfSxleHBvcnRzLmVzY2FwZUhUTUw9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyYvZyxcXFwiJiMzODtcXFwiKS5yZXBsYWNlKC9cXFwiL2csXFxcIiYjMzQ7XFxcIikucmVwbGFjZSgvJy9nLFxcXCImIzM5O1xcXCIpLnJlcGxhY2UoLzwvZyxcXFwiJiM2MDtcXFwiKX0sZXhwb3J0cy5nZXRNYXRjaE9mZnNldHM9ZnVuY3Rpb24oc3RyaW5nLHJlZ0V4cCl7dmFyIG1hdGNoZXM9W107cmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCxmdW5jdGlvbihzdHIpe21hdGNoZXMucHVzaCh7b2Zmc2V0OmFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLGxlbmd0aDpzdHIubGVuZ3RofSl9KSxtYXRjaGVzfSxleHBvcnRzLmRlZmVycmVkQ2FsbD1mdW5jdGlvbihmY24pe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sZGVmZXJyZWQ9ZnVuY3Rpb24odGltZW91dCl7cmV0dXJuIGRlZmVycmVkLmNhbmNlbCgpLHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8MCksZGVmZXJyZWR9O3JldHVybiBkZWZlcnJlZC5zY2hlZHVsZT1kZWZlcnJlZCxkZWZlcnJlZC5jYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FuY2VsKCksZmNuKCksZGVmZXJyZWR9LGRlZmVycmVkLmNhbmNlbD1mdW5jdGlvbigpe3JldHVybiBjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGwsZGVmZXJyZWR9LGRlZmVycmVkLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sZGVmZXJyZWR9LGV4cG9ydHMuZGVsYXllZENhbGw9ZnVuY3Rpb24oZmNuLGRlZmF1bHRUaW1lb3V0KXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LF9zZWxmPWZ1bmN0aW9uKHRpbWVvdXQpe251bGw9PXRpbWVyJiYodGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCkpfTtyZXR1cm4gX3NlbGYuZGVsYXk9ZnVuY3Rpb24odGltZW91dCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHxkZWZhdWx0VGltZW91dCl9LF9zZWxmLnNjaGVkdWxlPV9zZWxmLF9zZWxmLmNhbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbCgpLGZjbigpfSxfc2VsZi5jYW5jZWw9ZnVuY3Rpb24oKXt0aW1lciYmY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsfSxfc2VsZi5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGltZXJ9LF9zZWxmfX0pLGFjZS5kZWZpbmUoXFxcImFjZS93b3JrZXIvbWlycm9yXFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIixcXFwiYWNlL3JhbmdlXFxcIixcXFwiYWNlL2RvY3VtZW50XFxcIixcXFwiYWNlL2xpYi9sYW5nXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO2FjZXF1aXJlKFxcXCIuLi9yYW5nZVxcXCIpLlJhbmdlO3ZhciBEb2N1bWVudD1hY2VxdWlyZShcXFwiLi4vZG9jdW1lbnRcXFwiKS5Eb2N1bWVudCxsYW5nPWFjZXF1aXJlKFxcXCIuLi9saWIvbGFuZ1xcXCIpLE1pcnJvcj1leHBvcnRzLk1pcnJvcj1mdW5jdGlvbihzZW5kZXIpe3RoaXMuc2VuZGVyPXNlbmRlcjt2YXIgZG9jPXRoaXMuZG9jPW5ldyBEb2N1bWVudChcXFwiXFxcIiksZGVmZXJyZWRVcGRhdGU9dGhpcy5kZWZlcnJlZFVwZGF0ZT1sYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSksX3NlbGY9dGhpcztzZW5kZXIub24oXFxcImNoYW5nZVxcXCIsZnVuY3Rpb24oZSl7dmFyIGRhdGE9ZS5kYXRhO2lmKGRhdGFbMF0uc3RhcnQpZG9jLmFwcGx5RGVsdGFzKGRhdGEpO2Vsc2UgZm9yKHZhciBpPTA7ZGF0YS5sZW5ndGg+aTtpKz0yKXtpZihBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpdmFyIGQ9e2FjdGlvbjpcXFwiaW5zZXJ0XFxcIixzdGFydDpkYXRhW2ldLGxpbmVzOmRhdGFbaSsxXX07ZWxzZSB2YXIgZD17YWN0aW9uOlxcXCJyZW1vdmVcXFwiLHN0YXJ0OmRhdGFbaV0sZW5kOmRhdGFbaSsxXX07ZG9jLmFwcGx5RGVsdGEoZCwhMCl9cmV0dXJuIF9zZWxmLiR0aW1lb3V0P2RlZmVycmVkVXBkYXRlLnNjaGVkdWxlKF9zZWxmLiR0aW1lb3V0KTooX3NlbGYub25VcGRhdGUoKSx2b2lkIDApfSl9OyhmdW5jdGlvbigpe3RoaXMuJHRpbWVvdXQ9NTAwLHRoaXMuc2V0VGltZW91dD1mdW5jdGlvbih0aW1lb3V0KXt0aGlzLiR0aW1lb3V0PXRpbWVvdXR9LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3RoaXMuZG9jLnNldFZhbHVlKHZhbHVlKSx0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKGNhbGxiYWNrSWQpe3RoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksY2FsbGJhY2tJZCl9LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt9LHRoaXMuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmZXJyZWRVcGRhdGUuaXNQZW5kaW5nKCl9fSkuY2FsbChNaXJyb3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9tb2RlL2phdmFzY3JpcHQvanNoaW50XFxcIixbXFxcInJlcXVpcmVcXFwiLFxcXCJleHBvcnRzXFxcIixcXFwibW9kdWxlXFxcIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyxtb2R1bGUpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uIG91dGVyKG1vZHVsZXMsY2FjaGUsZW50cnkpe2Z1bmN0aW9uIG5ld1JlcXVpcmUobmFtZSxqdW1wZWQpe2lmKCFjYWNoZVtuYW1lXSl7aWYoIW1vZHVsZXNbbmFtZV0pe3ZhciBjdXJyZW50UmVxdWlyZT1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYWNlcXVpcmUmJmFjZXF1aXJlO2lmKCFqdW1wZWQmJmN1cnJlbnRSZXF1aXJlKXJldHVybiBjdXJyZW50UmVxdWlyZShuYW1lLCEwKTtpZihwcmV2aW91c1JlcXVpcmUpcmV0dXJuIHByZXZpb3VzUmVxdWlyZShuYW1lLCEwKTt2YXIgZXJyPUVycm9yKFxcXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1xcXCIrbmFtZStcXFwiJ1xcXCIpO3Rocm93IGVyci5jb2RlPVxcXCJNT0RVTEVfTk9UX0ZPVU5EXFxcIixlcnJ9dmFyIG09Y2FjaGVbbmFtZV09e2V4cG9ydHM6e319O21vZHVsZXNbbmFtZV1bMF0uY2FsbChtLmV4cG9ydHMsZnVuY3Rpb24oeCl7dmFyIGlkPW1vZHVsZXNbbmFtZV1bMV1beF07cmV0dXJuIG5ld1JlcXVpcmUoaWQ/aWQ6eCl9LG0sbS5leHBvcnRzLG91dGVyLG1vZHVsZXMsY2FjaGUsZW50cnkpfXJldHVybiBjYWNoZVtuYW1lXS5leHBvcnRzfWZvcih2YXIgcHJldmlvdXNSZXF1aXJlPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhY2VxdWlyZSYmYWNlcXVpcmUsaT0wO2VudHJ5Lmxlbmd0aD5pO2krKyluZXdSZXF1aXJlKGVudHJ5W2ldKTtyZXR1cm4gbmV3UmVxdWlyZShlbnRyeVswXSl9KHtcXFwiL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZyl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGFyZ31mdW5jdGlvbiBpc051bWJlcihhcmcpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgYXJnfWZ1bmN0aW9uIGlzT2JqZWN0KGFyZyl7cmV0dXJuXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhcmcmJm51bGwhPT1hcmd9ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKXtyZXR1cm4gdm9pZCAwPT09YXJnfW1vZHVsZS5leHBvcnRzPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoIWlzTnVtYmVyKG4pfHwwPm58fGlzTmFOKG4pKXRocm93IFR5cGVFcnJvcihcXFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXFxcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1uLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0eXBlKXt2YXIgZXIsaGFuZGxlcixsZW4sYXJncyxpLGxpc3RlbmVycztpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFxcXCJlcnJvclxcXCI9PT10eXBlJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8aXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZihlcj1hcmd1bWVudHNbMV0sZXIgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBlcjt0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcXFwiZXJyb3JcXFwiIGV2ZW50LicpfWlmKGhhbmRsZXI9dGhpcy5fZXZlbnRzW3R5cGVdLGlzVW5kZWZpbmVkKGhhbmRsZXIpKXJldHVybiExO2lmKGlzRnVuY3Rpb24oaGFuZGxlcikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpoYW5kbGVyLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOmhhbmRsZXIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOmhhbmRsZXIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6Zm9yKGxlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkobGVuLTEpLGk9MTtsZW4+aTtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtoYW5kbGVyLmFwcGx5KHRoaXMsYXJncyl9ZWxzZSBpZihpc09iamVjdChoYW5kbGVyKSl7Zm9yKGxlbj1hcmd1bWVudHMubGVuZ3RoLGFyZ3M9QXJyYXkobGVuLTEpLGk9MTtsZW4+aTtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtmb3IobGlzdGVuZXJzPWhhbmRsZXIuc2xpY2UoKSxsZW49bGlzdGVuZXJzLmxlbmd0aCxpPTA7bGVuPmk7aSsrKWxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3ZhciBtO2lmKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl0aHJvdyBUeXBlRXJyb3IoXFxcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblxcXCIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoXFxcIm5ld0xpc3RlbmVyXFxcIix0eXBlLGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpP2xpc3RlbmVyLmxpc3RlbmVyOmxpc3RlbmVyKSx0aGlzLl9ldmVudHNbdHlwZV0/aXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKT90aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik6dGhpcy5fZXZlbnRzW3R5cGVdPVt0aGlzLl9ldmVudHNbdHlwZV0sbGlzdGVuZXJdOnRoaXMuX2V2ZW50c1t0eXBlXT1saXN0ZW5lcixpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pJiYhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCl7dmFyIG07bT1pc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxtJiZtPjAmJnRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGg+bSYmKHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcihcXFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cXFwiLHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpfXJldHVybiB0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uPUV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe2Z1bmN0aW9uIGcoKXt0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsZyksZmlyZWR8fChmaXJlZD0hMCxsaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSl0aHJvdyBUeXBlRXJyb3IoXFxcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblxcXCIpO3ZhciBmaXJlZD0hMTtyZXR1cm4gZy5saXN0ZW5lcj1saXN0ZW5lcix0aGlzLm9uKHR5cGUsZyksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxwb3NpdGlvbixsZW5ndGgsaTtpZighaXNGdW5jdGlvbihsaXN0ZW5lcikpdGhyb3cgVHlwZUVycm9yKFxcXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cXFwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW3R5cGVdKXJldHVybiB0aGlzO2lmKGxpc3Q9dGhpcy5fZXZlbnRzW3R5cGVdLGxlbmd0aD1saXN0Lmxlbmd0aCxwb3NpdGlvbj0tMSxsaXN0PT09bGlzdGVuZXJ8fGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikmJmxpc3QubGlzdGVuZXI9PT1saXN0ZW5lcilkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFxcXCJyZW1vdmVMaXN0ZW5lclxcXCIsdHlwZSxsaXN0ZW5lcik7ZWxzZSBpZihpc09iamVjdChsaXN0KSl7Zm9yKGk9bGVuZ3RoO2ktLT4wOylpZihsaXN0W2ldPT09bGlzdGVuZXJ8fGxpc3RbaV0ubGlzdGVuZXImJmxpc3RbaV0ubGlzdGVuZXI9PT1saXN0ZW5lcil7cG9zaXRpb249aTticmVha31pZigwPnBvc2l0aW9uKXJldHVybiB0aGlzOzE9PT1saXN0Lmxlbmd0aD8obGlzdC5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdKTpsaXN0LnNwbGljZShwb3NpdGlvbiwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcXFwicmVtb3ZlTGlzdGVuZXJcXFwiLHR5cGUsbGlzdGVuZXIpfXJldHVybiB0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0eXBlKXt2YXIga2V5LGxpc3RlbmVycztpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbdHlwZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKGtleSBpbiB0aGlzLl9ldmVudHMpXFxcInJlbW92ZUxpc3RlbmVyXFxcIiE9PWtleSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXFxcInJlbW92ZUxpc3RlbmVyXFxcIiksdGhpcy5fZXZlbnRzPXt9LHRoaXNcXG59aWYobGlzdGVuZXJzPXRoaXMuX2V2ZW50c1t0eXBlXSxpc0Z1bmN0aW9uKGxpc3RlbmVycykpdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLGxpc3RlbmVycyk7ZWxzZSBmb3IoO2xpc3RlbmVycy5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV0sdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIHJldDtyZXR1cm4gcmV0PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW3R5cGVdP2lzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKT9bdGhpcy5fZXZlbnRzW3R5cGVdXTp0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTpbXX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXt2YXIgcmV0O3JldHVybiByZXQ9ZW1pdHRlci5fZXZlbnRzJiZlbWl0dGVyLl9ldmVudHNbdHlwZV0/aXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pPzE6ZW1pdHRlci5fZXZlbnRzW3R5cGVdLmxlbmd0aDowfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9kYXRhL2FzY2lpLWlkZW50aWZpZXItZGF0YS5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlKXtmb3IodmFyIGlkZW50aWZpZXJTdGFydFRhYmxlPVtdLGk9MDsxMjg+aTtpKyspaWRlbnRpZmllclN0YXJ0VGFibGVbaV09MzY9PT1pfHxpPj02NSYmOTA+PWl8fDk1PT09aXx8aT49OTcmJjEyMj49aTtmb3IodmFyIGlkZW50aWZpZXJQYXJ0VGFibGU9W10saT0wOzEyOD5pO2krKylpZGVudGlmaWVyUGFydFRhYmxlW2ldPWlkZW50aWZpZXJTdGFydFRhYmxlW2ldfHxpPj00OCYmNTc+PWk7bW9kdWxlLmV4cG9ydHM9e2FzY2lpSWRlbnRpZmllclN0YXJ0VGFibGU6aWRlbnRpZmllclN0YXJ0VGFibGUsYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlOmlkZW50aWZpZXJQYXJ0VGFibGV9fSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpeyhmdW5jdGlvbigpe2Z1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXkscHJlZGljYXRlLGZyb21SaWdodCl7Zm9yKHZhciBsZW5ndGg9YXJyYXkubGVuZ3RoLGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTE7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KWlmKHByZWRpY2F0ZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSx2YWx1ZSxmcm9tSW5kZXgpe2lmKHZhbHVlIT09dmFsdWUpcmV0dXJuIGluZGV4T2ZOYU4oYXJyYXksZnJvbUluZGV4KTtmb3IodmFyIGluZGV4PWZyb21JbmRleC0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KWlmKGFycmF5W2luZGV4XT09PXZhbHVlKXJldHVybiBpbmRleDtyZXR1cm4tMX1mdW5jdGlvbiBiYXNlSXNGdW5jdGlvbih2YWx1ZSl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHZhbHVlfHwhMX1mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdmFsdWU/dmFsdWU6bnVsbD09dmFsdWU/XFxcIlxcXCI6dmFsdWUrXFxcIlxcXCJ9ZnVuY3Rpb24gaW5kZXhPZk5hTihhcnJheSxmcm9tSW5kZXgsZnJvbVJpZ2h0KXtmb3IodmFyIGxlbmd0aD1hcnJheS5sZW5ndGgsaW5kZXg9ZnJvbUluZGV4Kyhmcm9tUmlnaHQ/MDotMSk7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KXt2YXIgb3RoZXI9YXJyYXlbaW5kZXhdO2lmKG90aGVyIT09b3RoZXIpcmV0dXJuIGluZGV4fXJldHVybi0xfWZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSl7cmV0dXJuISF2YWx1ZSYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB2YWx1ZX1mdW5jdGlvbiBsb2Rhc2goKXt9ZnVuY3Rpb24gYXJyYXlDb3B5KHNvdXJjZSxhcnJheSl7dmFyIGluZGV4PS0xLGxlbmd0aD1zb3VyY2UubGVuZ3RoO2ZvcihhcnJheXx8KGFycmF5PUFycmF5KGxlbmd0aCkpO2xlbmd0aD4rK2luZGV4OylhcnJheVtpbmRleF09c291cmNlW2luZGV4XTtyZXR1cm4gYXJyYXl9ZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LGl0ZXJhdGVlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXgmJml0ZXJhdGVlKGFycmF5W2luZGV4XSxpbmRleCxhcnJheSkhPT0hMTspO3JldHVybiBhcnJheX1mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSxwcmVkaWNhdGUpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXNJbmRleD0tMSxyZXN1bHQ9W107bGVuZ3RoPisraW5kZXg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO3ByZWRpY2F0ZSh2YWx1ZSxpbmRleCxhcnJheSkmJihyZXN1bHRbKytyZXNJbmRleF09dmFsdWUpfXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksaXRlcmF0ZWUpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1pdGVyYXRlZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpO3JldHVybiByZXN1bHR9ZnVuY3Rpb24gYXJyYXlNYXgoYXJyYXkpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPWFycmF5Lmxlbmd0aCxyZXN1bHQ9TkVHQVRJVkVfSU5GSU5JVFk7bGVuZ3RoPisraW5kZXg7KXt2YXIgdmFsdWU9YXJyYXlbaW5kZXhdO3ZhbHVlPnJlc3VsdCYmKHJlc3VsdD12YWx1ZSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXkscHJlZGljYXRlKXtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1hcnJheS5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KWlmKHByZWRpY2F0ZShhcnJheVtpbmRleF0saW5kZXgsYXJyYXkpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGFzc2lnbldpdGgob2JqZWN0LHNvdXJjZSxjdXN0b21pemVyKXt2YXIgcHJvcHM9a2V5cyhzb3VyY2UpO3B1c2guYXBwbHkocHJvcHMsZ2V0U3ltYm9scyhzb3VyY2UpKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wcm9wcy5sZW5ndGg7bGVuZ3RoPisraW5kZXg7KXt2YXIga2V5PXByb3BzW2luZGV4XSx2YWx1ZT1vYmplY3Rba2V5XSxyZXN1bHQ9Y3VzdG9taXplcih2YWx1ZSxzb3VyY2Vba2V5XSxrZXksb2JqZWN0LHNvdXJjZSk7KHJlc3VsdD09PXJlc3VsdD9yZXN1bHQ9PT12YWx1ZTp2YWx1ZSE9PXZhbHVlKSYmKHZhbHVlIT09dW5kZWZpbmVkfHxrZXkgaW4gb2JqZWN0KXx8KG9iamVjdFtrZXldPXJlc3VsdCl9cmV0dXJuIG9iamVjdH1mdW5jdGlvbiBiYXNlQ29weShzb3VyY2UscHJvcHMsb2JqZWN0KXtvYmplY3R8fChvYmplY3Q9e30pO2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aDtsZW5ndGg+KytpbmRleDspe3ZhciBrZXk9cHJvcHNbaW5kZXhdO29iamVjdFtrZXldPXNvdXJjZVtrZXldfXJldHVybiBvYmplY3R9ZnVuY3Rpb24gYmFzZUNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7dmFyIHR5cGU9dHlwZW9mIGZ1bmM7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZT90aGlzQXJnPT09dW5kZWZpbmVkP2Z1bmM6YmluZENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCk6bnVsbD09ZnVuYz9pZGVudGl0eTpcXFwib2JqZWN0XFxcIj09dHlwZT9iYXNlTWF0Y2hlcyhmdW5jKTp0aGlzQXJnPT09dW5kZWZpbmVkP3Byb3BlcnR5KGZ1bmMpOmJhc2VNYXRjaGVzUHJvcGVydHkoZnVuYyx0aGlzQXJnKX1mdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsaXNEZWVwLGN1c3RvbWl6ZXIsa2V5LG9iamVjdCxzdGFja0Esc3RhY2tCKXt2YXIgcmVzdWx0O2lmKGN1c3RvbWl6ZXImJihyZXN1bHQ9b2JqZWN0P2N1c3RvbWl6ZXIodmFsdWUsa2V5LG9iamVjdCk6Y3VzdG9taXplcih2YWx1ZSkpLHJlc3VsdCE9PXVuZGVmaW5lZClyZXR1cm4gcmVzdWx0O2lmKCFpc09iamVjdCh2YWx1ZSkpcmV0dXJuIHZhbHVlO3ZhciBpc0Fycj1pc0FycmF5KHZhbHVlKTtpZihpc0Fycil7aWYocmVzdWx0PWluaXRDbG9uZUFycmF5KHZhbHVlKSwhaXNEZWVwKXJldHVybiBhcnJheUNvcHkodmFsdWUscmVzdWx0KX1lbHNle3ZhciB0YWc9b2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSksaXNGdW5jPXRhZz09ZnVuY1RhZztpZih0YWchPW9iamVjdFRhZyYmdGFnIT1hcmdzVGFnJiYoIWlzRnVuY3x8b2JqZWN0KSlyZXR1cm4gY2xvbmVhYmxlVGFnc1t0YWddP2luaXRDbG9uZUJ5VGFnKHZhbHVlLHRhZyxpc0RlZXApOm9iamVjdD92YWx1ZTp7fTtpZihyZXN1bHQ9aW5pdENsb25lT2JqZWN0KGlzRnVuYz97fTp2YWx1ZSksIWlzRGVlcClyZXR1cm4gYmFzZUFzc2lnbihyZXN1bHQsdmFsdWUpfXN0YWNrQXx8KHN0YWNrQT1bXSksc3RhY2tCfHwoc3RhY2tCPVtdKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09dmFsdWUpcmV0dXJuIHN0YWNrQltsZW5ndGhdO3JldHVybiBzdGFja0EucHVzaCh2YWx1ZSksc3RhY2tCLnB1c2gocmVzdWx0KSwoaXNBcnI/YXJyYXlFYWNoOmJhc2VGb3JPd24pKHZhbHVlLGZ1bmN0aW9uKHN1YlZhbHVlLGtleSl7cmVzdWx0W2tleV09YmFzZUNsb25lKHN1YlZhbHVlLGlzRGVlcCxjdXN0b21pemVyLGtleSx2YWx1ZSxzdGFja0Esc3RhY2tCKX0pLHJlc3VsdH1mdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24scHJlZGljYXRlKXt2YXIgcmVzdWx0PVtdO3JldHVybiBiYXNlRWFjaChjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3ByZWRpY2F0ZSh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSYmcmVzdWx0LnB1c2godmFsdWUpfSkscmVzdWx0fWZ1bmN0aW9uIGJhc2VGb3JJbihvYmplY3QsaXRlcmF0ZWUpe3JldHVybiBiYXNlRm9yKG9iamVjdCxpdGVyYXRlZSxrZXlzSW4pfWZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LGl0ZXJhdGVlKXtyZXR1cm4gYmFzZUZvcihvYmplY3QsaXRlcmF0ZWUsa2V5cyl9ZnVuY3Rpb24gYmFzZUdldChvYmplY3QscGF0aCxwYXRoS2V5KXtpZihudWxsIT1vYmplY3Qpe3BhdGhLZXkhPT11bmRlZmluZWQmJnBhdGhLZXkgaW4gdG9PYmplY3Qob2JqZWN0KSYmKHBhdGg9W3BhdGhLZXldKTtmb3IodmFyIGluZGV4PS0xLGxlbmd0aD1wYXRoLmxlbmd0aDtudWxsIT1vYmplY3QmJmxlbmd0aD4rK2luZGV4Oyl2YXIgcmVzdWx0PW9iamVjdD1vYmplY3RbcGF0aFtpbmRleF1dO3JldHVybiByZXN1bHR9fWZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLG90aGVyLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKXtpZih2YWx1ZT09PW90aGVyKXJldHVybiAwIT09dmFsdWV8fDEvdmFsdWU9PTEvb3RoZXI7dmFyIHZhbFR5cGU9dHlwZW9mIHZhbHVlLG90aFR5cGU9dHlwZW9mIG90aGVyO3JldHVyblxcXCJmdW5jdGlvblxcXCIhPXZhbFR5cGUmJlxcXCJvYmplY3RcXFwiIT12YWxUeXBlJiZcXFwiZnVuY3Rpb25cXFwiIT1vdGhUeXBlJiZcXFwib2JqZWN0XFxcIiE9b3RoVHlwZXx8bnVsbD09dmFsdWV8fG51bGw9PW90aGVyP3ZhbHVlIT09dmFsdWUmJm90aGVyIT09b3RoZXI6YmFzZUlzRXF1YWxEZWVwKHZhbHVlLG90aGVyLGJhc2VJc0VxdWFsLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LG90aGVyLGVxdWFsRnVuYyxjdXN0b21pemVyLGlzTG9vc2Usc3RhY2tBLHN0YWNrQil7dmFyIG9iaklzQXJyPWlzQXJyYXkob2JqZWN0KSxvdGhJc0Fycj1pc0FycmF5KG90aGVyKSxvYmpUYWc9YXJyYXlUYWcsb3RoVGFnPWFycmF5VGFnO29iaklzQXJyfHwob2JqVGFnPW9ialRvU3RyaW5nLmNhbGwob2JqZWN0KSxvYmpUYWc9PWFyZ3NUYWc/b2JqVGFnPW9iamVjdFRhZzpvYmpUYWchPW9iamVjdFRhZyYmKG9iaklzQXJyPWlzVHlwZWRBcnJheShvYmplY3QpKSksb3RoSXNBcnJ8fChvdGhUYWc9b2JqVG9TdHJpbmcuY2FsbChvdGhlciksb3RoVGFnPT1hcmdzVGFnP290aFRhZz1vYmplY3RUYWc6b3RoVGFnIT1vYmplY3RUYWcmJihvdGhJc0Fycj1pc1R5cGVkQXJyYXkob3RoZXIpKSk7dmFyIG9iaklzT2JqPW9ialRhZz09b2JqZWN0VGFnLG90aElzT2JqPW90aFRhZz09b2JqZWN0VGFnLGlzU2FtZVRhZz1vYmpUYWc9PW90aFRhZztpZihpc1NhbWVUYWcmJiFvYmpJc0FyciYmIW9iaklzT2JqKXJldHVybiBlcXVhbEJ5VGFnKG9iamVjdCxvdGhlcixvYmpUYWcpO2lmKCFpc0xvb3NlKXt2YXIgdmFsV3JhcHBlZD1vYmpJc09iaiYmaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsXFxcIl9fd3JhcHBlZF9fXFxcIiksb3RoV3JhcHBlZD1vdGhJc09iaiYmaGFzT3duUHJvcGVydHkuY2FsbChvdGhlcixcXFwiX193cmFwcGVkX19cXFwiKTtpZih2YWxXcmFwcGVkfHxvdGhXcmFwcGVkKXJldHVybiBlcXVhbEZ1bmModmFsV3JhcHBlZD9vYmplY3QudmFsdWUoKTpvYmplY3Qsb3RoV3JhcHBlZD9vdGhlci52YWx1ZSgpOm90aGVyLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1pZighaXNTYW1lVGFnKXJldHVybiExO3N0YWNrQXx8KHN0YWNrQT1bXSksc3RhY2tCfHwoc3RhY2tCPVtdKTtmb3IodmFyIGxlbmd0aD1zdGFja0EubGVuZ3RoO2xlbmd0aC0tOylpZihzdGFja0FbbGVuZ3RoXT09b2JqZWN0KXJldHVybiBzdGFja0JbbGVuZ3RoXT09b3RoZXI7c3RhY2tBLnB1c2gob2JqZWN0KSxzdGFja0IucHVzaChvdGhlcik7dmFyIHJlc3VsdD0ob2JqSXNBcnI/ZXF1YWxBcnJheXM6ZXF1YWxPYmplY3RzKShvYmplY3Qsb3RoZXIsZXF1YWxGdW5jLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKTtyZXR1cm4gc3RhY2tBLnBvcCgpLHN0YWNrQi5wb3AoKSxyZXN1bHR9ZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LHByb3BzLHZhbHVlcyxzdHJpY3RDb21wYXJlRmxhZ3MsY3VzdG9taXplcil7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9cHJvcHMubGVuZ3RoLG5vQ3VzdG9taXplcj0hY3VzdG9taXplcjtsZW5ndGg+KytpbmRleDspaWYobm9DdXN0b21pemVyJiZzdHJpY3RDb21wYXJlRmxhZ3NbaW5kZXhdP3ZhbHVlc1tpbmRleF0hPT1vYmplY3RbcHJvcHNbaW5kZXhdXTohKHByb3BzW2luZGV4XWluIG9iamVjdCkpcmV0dXJuITE7Zm9yKGluZGV4PS0xO2xlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF0sb2JqVmFsdWU9b2JqZWN0W2tleV0sc3JjVmFsdWU9dmFsdWVzW2luZGV4XTtpZihub0N1c3RvbWl6ZXImJnN0cmljdENvbXBhcmVGbGFnc1tpbmRleF0pdmFyIHJlc3VsdD1vYmpWYWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIG9iamVjdDtlbHNlIHJlc3VsdD1jdXN0b21pemVyP2N1c3RvbWl6ZXIob2JqVmFsdWUsc3JjVmFsdWUsa2V5KTp1bmRlZmluZWQscmVzdWx0PT09dW5kZWZpbmVkJiYocmVzdWx0PWJhc2VJc0VxdWFsKHNyY1ZhbHVlLG9ialZhbHVlLGN1c3RvbWl6ZXIsITApKTtpZighcmVzdWx0KXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSl7dmFyIHByb3BzPWtleXMoc291cmNlKSxsZW5ndGg9cHJvcHMubGVuZ3RoO2lmKCFsZW5ndGgpcmV0dXJuIGNvbnN0YW50KCEwKTtpZigxPT1sZW5ndGgpe3ZhciBrZXk9cHJvcHNbMF0sdmFsdWU9c291cmNlW2tleV07aWYoaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSlyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gbnVsbD09b2JqZWN0PyExOm9iamVjdFtrZXldPT09dmFsdWUmJih2YWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIHRvT2JqZWN0KG9iamVjdCkpfX1mb3IodmFyIHZhbHVlcz1BcnJheShsZW5ndGgpLHN0cmljdENvbXBhcmVGbGFncz1BcnJheShsZW5ndGgpO2xlbmd0aC0tOyl2YWx1ZT1zb3VyY2VbcHJvcHNbbGVuZ3RoXV0sdmFsdWVzW2xlbmd0aF09dmFsdWUsc3RyaWN0Q29tcGFyZUZsYWdzW2xlbmd0aF09aXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKTtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gbnVsbCE9b2JqZWN0JiZiYXNlSXNNYXRjaCh0b09iamVjdChvYmplY3QpLHByb3BzLHZhbHVlcyxzdHJpY3RDb21wYXJlRmxhZ3MpfX1mdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsdmFsdWUpe3ZhciBpc0Fycj1pc0FycmF5KHBhdGgpLGlzQ29tbW9uPWlzS2V5KHBhdGgpJiZpc1N0cmljdENvbXBhcmFibGUodmFsdWUpLHBhdGhLZXk9cGF0aCtcXFwiXFxcIjtyZXR1cm4gcGF0aD10b1BhdGgocGF0aCksZnVuY3Rpb24ob2JqZWN0KXtpZihudWxsPT1vYmplY3QpcmV0dXJuITE7dmFyIGtleT1wYXRoS2V5O2lmKG9iamVjdD10b09iamVjdChvYmplY3QpLCEoIWlzQXJyJiZpc0NvbW1vbnx8a2V5IGluIG9iamVjdCkpe2lmKG9iamVjdD0xPT1wYXRoLmxlbmd0aD9vYmplY3Q6YmFzZUdldChvYmplY3QsYmFzZVNsaWNlKHBhdGgsMCwtMSkpLG51bGw9PW9iamVjdClyZXR1cm4hMTtrZXk9bGFzdChwYXRoKSxvYmplY3Q9dG9PYmplY3Qob2JqZWN0KX1yZXR1cm4gb2JqZWN0W2tleV09PT12YWx1ZT92YWx1ZSE9PXVuZGVmaW5lZHx8a2V5IGluIG9iamVjdDpiYXNlSXNFcXVhbCh2YWx1ZSxvYmplY3Rba2V5XSxudWxsLCEwKX19ZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcixzdGFja0Esc3RhY2tCKXtpZighaXNPYmplY3Qob2JqZWN0KSlyZXR1cm4gb2JqZWN0O3ZhciBpc1NyY0Fycj1pc0xlbmd0aChzb3VyY2UubGVuZ3RoKSYmKGlzQXJyYXkoc291cmNlKXx8aXNUeXBlZEFycmF5KHNvdXJjZSkpO2lmKCFpc1NyY0Fycil7dmFyIHByb3BzPWtleXMoc291cmNlKTtwdXNoLmFwcGx5KHByb3BzLGdldFN5bWJvbHMoc291cmNlKSl9cmV0dXJuIGFycmF5RWFjaChwcm9wc3x8c291cmNlLGZ1bmN0aW9uKHNyY1ZhbHVlLGtleSl7aWYocHJvcHMmJihrZXk9c3JjVmFsdWUsc3JjVmFsdWU9c291cmNlW2tleV0pLGlzT2JqZWN0TGlrZShzcmNWYWx1ZSkpc3RhY2tBfHwoc3RhY2tBPVtdKSxzdGFja0J8fChzdGFja0I9W10pLGJhc2VNZXJnZURlZXAob2JqZWN0LHNvdXJjZSxrZXksYmFzZU1lcmdlLGN1c3RvbWl6ZXIsc3RhY2tBLHN0YWNrQik7ZWxzZXt2YXIgdmFsdWU9b2JqZWN0W2tleV0scmVzdWx0PWN1c3RvbWl6ZXI/Y3VzdG9taXplcih2YWx1ZSxzcmNWYWx1ZSxrZXksb2JqZWN0LHNvdXJjZSk6dW5kZWZpbmVkLGlzQ29tbW9uPXJlc3VsdD09PXVuZGVmaW5lZDtpc0NvbW1vbiYmKHJlc3VsdD1zcmNWYWx1ZSksIWlzU3JjQXJyJiZyZXN1bHQ9PT11bmRlZmluZWR8fCFpc0NvbW1vbiYmKHJlc3VsdD09PXJlc3VsdD9yZXN1bHQ9PT12YWx1ZTp2YWx1ZSE9PXZhbHVlKXx8KG9iamVjdFtrZXldPXJlc3VsdCl9fSksb2JqZWN0fWZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LHNvdXJjZSxrZXksbWVyZ2VGdW5jLGN1c3RvbWl6ZXIsc3RhY2tBLHN0YWNrQil7Zm9yKHZhciBsZW5ndGg9c3RhY2tBLmxlbmd0aCxzcmNWYWx1ZT1zb3VyY2Vba2V5XTtsZW5ndGgtLTspaWYoc3RhY2tBW2xlbmd0aF09PXNyY1ZhbHVlKXJldHVybiBvYmplY3Rba2V5XT1zdGFja0JbbGVuZ3RoXSx1bmRlZmluZWQ7dmFyIHZhbHVlPW9iamVjdFtrZXldLHJlc3VsdD1jdXN0b21pemVyP2N1c3RvbWl6ZXIodmFsdWUsc3JjVmFsdWUsa2V5LG9iamVjdCxzb3VyY2UpOnVuZGVmaW5lZCxpc0NvbW1vbj1yZXN1bHQ9PT11bmRlZmluZWQ7aXNDb21tb24mJihyZXN1bHQ9c3JjVmFsdWUsaXNMZW5ndGgoc3JjVmFsdWUubGVuZ3RoKSYmKGlzQXJyYXkoc3JjVmFsdWUpfHxpc1R5cGVkQXJyYXkoc3JjVmFsdWUpKT9yZXN1bHQ9aXNBcnJheSh2YWx1ZSk/dmFsdWU6Z2V0TGVuZ3RoKHZhbHVlKT9hcnJheUNvcHkodmFsdWUpOltdOmlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpfHxpc0FyZ3VtZW50cyhzcmNWYWx1ZSk/cmVzdWx0PWlzQXJndW1lbnRzKHZhbHVlKT90b1BsYWluT2JqZWN0KHZhbHVlKTppc1BsYWluT2JqZWN0KHZhbHVlKT92YWx1ZTp7fTppc0NvbW1vbj0hMSksc3RhY2tBLnB1c2goc3JjVmFsdWUpLHN0YWNrQi5wdXNoKHJlc3VsdCksaXNDb21tb24/b2JqZWN0W2tleV09bWVyZ2VGdW5jKHJlc3VsdCxzcmNWYWx1ZSxjdXN0b21pemVyLHN0YWNrQSxzdGFja0IpOihyZXN1bHQ9PT1yZXN1bHQ/cmVzdWx0IT09dmFsdWU6dmFsdWU9PT12YWx1ZSkmJihvYmplY3Rba2V5XT1yZXN1bHQpfWZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiBudWxsPT1vYmplY3Q/dW5kZWZpbmVkOm9iamVjdFtrZXldfX1mdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpe3ZhciBwYXRoS2V5PXBhdGgrXFxcIlxcXCI7cmV0dXJuIHBhdGg9dG9QYXRoKHBhdGgpLGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIGJhc2VHZXQob2JqZWN0LHBhdGgscGF0aEtleSl9fWZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSxzdGFydCxlbmQpe3ZhciBpbmRleD0tMSxsZW5ndGg9YXJyYXkubGVuZ3RoO3N0YXJ0PW51bGw9PXN0YXJ0PzA6K3N0YXJ0fHwwLDA+c3RhcnQmJihzdGFydD0tc3RhcnQ+bGVuZ3RoPzA6bGVuZ3RoK3N0YXJ0KSxlbmQ9ZW5kPT09dW5kZWZpbmVkfHxlbmQ+bGVuZ3RoP2xlbmd0aDorZW5kfHwwLDA+ZW5kJiYoZW5kKz1sZW5ndGgpLGxlbmd0aD1zdGFydD5lbmQ/MDplbmQtc3RhcnQ+Pj4wLHN0YXJ0Pj4+PTA7Zm9yKHZhciByZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1hcnJheVtpbmRleCtzdGFydF07cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLHByZWRpY2F0ZSl7dmFyIHJlc3VsdDtyZXR1cm4gYmFzZUVhY2goY29sbGVjdGlvbixmdW5jdGlvbih2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gcmVzdWx0PXByZWRpY2F0ZSh2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKSwhcmVzdWx0fSksISFyZXN1bHR9ZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QscHJvcHMpe2Zvcih2YXIgaW5kZXg9LTEsbGVuZ3RoPXByb3BzLmxlbmd0aCxyZXN1bHQ9QXJyYXkobGVuZ3RoKTtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1vYmplY3RbcHJvcHNbaW5kZXhdXTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGJpbmFyeUluZGV4KGFycmF5LHZhbHVlLHJldEhpZ2hlc3Qpe3ZhciBsb3c9MCxoaWdoPWFycmF5P2FycmF5Lmxlbmd0aDpsb3c7aWYoXFxcIm51bWJlclxcXCI9PXR5cGVvZiB2YWx1ZSYmdmFsdWU9PT12YWx1ZSYmSEFMRl9NQVhfQVJSQVlfTEVOR1RIPj1oaWdoKXtmb3IoO2hpZ2g+bG93Oyl7dmFyIG1pZD1sb3craGlnaD4+PjEsY29tcHV0ZWQ9YXJyYXlbbWlkXTsocmV0SGlnaGVzdD92YWx1ZT49Y29tcHV0ZWQ6dmFsdWU+Y29tcHV0ZWQpP2xvdz1taWQrMTpoaWdoPW1pZH1yZXR1cm4gaGlnaH1yZXR1cm4gYmluYXJ5SW5kZXhCeShhcnJheSx2YWx1ZSxpZGVudGl0eSxyZXRIaWdoZXN0KX1mdW5jdGlvbiBiaW5hcnlJbmRleEJ5KGFycmF5LHZhbHVlLGl0ZXJhdGVlLHJldEhpZ2hlc3Qpe3ZhbHVlPWl0ZXJhdGVlKHZhbHVlKTtmb3IodmFyIGxvdz0wLGhpZ2g9YXJyYXk/YXJyYXkubGVuZ3RoOjAsdmFsSXNOYU49dmFsdWUhPT12YWx1ZSx2YWxJc1VuZGVmPXZhbHVlPT09dW5kZWZpbmVkO2hpZ2g+bG93Oyl7dmFyIG1pZD1mbG9vcigobG93K2hpZ2gpLzIpLGNvbXB1dGVkPWl0ZXJhdGVlKGFycmF5W21pZF0pLGlzUmVmbGV4aXZlPWNvbXB1dGVkPT09Y29tcHV0ZWQ7aWYodmFsSXNOYU4pdmFyIHNldExvdz1pc1JlZmxleGl2ZXx8cmV0SGlnaGVzdDtlbHNlIHNldExvdz12YWxJc1VuZGVmP2lzUmVmbGV4aXZlJiYocmV0SGlnaGVzdHx8Y29tcHV0ZWQhPT11bmRlZmluZWQpOnJldEhpZ2hlc3Q/dmFsdWU+PWNvbXB1dGVkOnZhbHVlPmNvbXB1dGVkO3NldExvdz9sb3c9bWlkKzE6aGlnaD1taWR9cmV0dXJuIG5hdGl2ZU1pbihoaWdoLE1BWF9BUlJBWV9JTkRFWCl9ZnVuY3Rpb24gYmluZENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7aWYoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGZ1bmMpcmV0dXJuIGlkZW50aXR5O2lmKHRoaXNBcmc9PT11bmRlZmluZWQpcmV0dXJuIGZ1bmM7c3dpdGNoKGFyZ0NvdW50KXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsdmFsdWUpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyx2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvcix2YWx1ZSxpbmRleCxjb2xsZWN0aW9uKXtyZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsYWNjdW11bGF0b3IsdmFsdWUsaW5kZXgsY29sbGVjdGlvbil9O2Nhc2UgNTpyZXR1cm4gZnVuY3Rpb24odmFsdWUsb3RoZXIsa2V5LG9iamVjdCxzb3VyY2Upe3JldHVybiBmdW5jLmNhbGwodGhpc0FyZyx2YWx1ZSxvdGhlcixrZXksb2JqZWN0LHNvdXJjZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsYXJndW1lbnRzKX19ZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmZmVyKXtyZXR1cm4gYnVmZmVyU2xpY2UuY2FsbChidWZmZXIsMCl9ZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpe3JldHVybiByZXN0UGFyYW0oZnVuY3Rpb24ob2JqZWN0LHNvdXJjZXMpe3ZhciBpbmRleD0tMSxsZW5ndGg9bnVsbD09b2JqZWN0PzA6c291cmNlcy5sZW5ndGgsY3VzdG9taXplcj1sZW5ndGg+MiYmc291cmNlc1tsZW5ndGgtMl0sZ3VhcmQ9bGVuZ3RoPjImJnNvdXJjZXNbMl0sdGhpc0FyZz1sZW5ndGg+MSYmc291cmNlc1tsZW5ndGgtMV07Zm9yKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjdXN0b21pemVyPyhjdXN0b21pemVyPWJpbmRDYWxsYmFjayhjdXN0b21pemVyLHRoaXNBcmcsNSksbGVuZ3RoLT0yKTooY3VzdG9taXplcj1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgdGhpc0FyZz90aGlzQXJnOm51bGwsbGVuZ3RoLT1jdXN0b21pemVyPzE6MCksZ3VhcmQmJmlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sc291cmNlc1sxXSxndWFyZCkmJihjdXN0b21pemVyPTM+bGVuZ3RoP251bGw6Y3VzdG9taXplcixsZW5ndGg9MSk7bGVuZ3RoPisraW5kZXg7KXt2YXIgc291cmNlPXNvdXJjZXNbaW5kZXhdO3NvdXJjZSYmYXNzaWduZXIob2JqZWN0LHNvdXJjZSxjdXN0b21pemVyKX1yZXR1cm4gb2JqZWN0fSl9ZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbixpdGVyYXRlZSl7dmFyIGxlbmd0aD1jb2xsZWN0aW9uP2dldExlbmd0aChjb2xsZWN0aW9uKTowO2lmKCFpc0xlbmd0aChsZW5ndGgpKXJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLGl0ZXJhdGVlKTtmb3IodmFyIGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTEsaXRlcmFibGU9dG9PYmplY3QoY29sbGVjdGlvbik7KGZyb21SaWdodD9pbmRleC0tOmxlbmd0aD4rK2luZGV4KSYmaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLGluZGV4LGl0ZXJhYmxlKSE9PSExOyk7cmV0dXJuIGNvbGxlY3Rpb259fWZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0LGl0ZXJhdGVlLGtleXNGdW5jKXtmb3IodmFyIGl0ZXJhYmxlPXRvT2JqZWN0KG9iamVjdCkscHJvcHM9a2V5c0Z1bmMob2JqZWN0KSxsZW5ndGg9cHJvcHMubGVuZ3RoLGluZGV4PWZyb21SaWdodD9sZW5ndGg6LTE7ZnJvbVJpZ2h0P2luZGV4LS06bGVuZ3RoPisraW5kZXg7KXt2YXIga2V5PXByb3BzW2luZGV4XTtpZihpdGVyYXRlZShpdGVyYWJsZVtrZXldLGtleSxpdGVyYWJsZSk9PT0hMSlicmVha31yZXR1cm4gb2JqZWN0fX1mdW5jdGlvbiBjcmVhdGVGaW5kSW5kZXgoZnJvbVJpZ2h0KXtyZXR1cm4gZnVuY3Rpb24oYXJyYXkscHJlZGljYXRlLHRoaXNBcmcpe3JldHVybiBhcnJheSYmYXJyYXkubGVuZ3RoPyhwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMyksYmFzZUZpbmRJbmRleChhcnJheSxwcmVkaWNhdGUsZnJvbVJpZ2h0KSk6LTF9fWZ1bmN0aW9uIGNyZWF0ZUZvckVhY2goYXJyYXlGdW5jLGVhY2hGdW5jKXtyZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbixpdGVyYXRlZSx0aGlzQXJnKXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgaXRlcmF0ZWUmJnRoaXNBcmc9PT11bmRlZmluZWQmJmlzQXJyYXkoY29sbGVjdGlvbik/YXJyYXlGdW5jKGNvbGxlY3Rpb24saXRlcmF0ZWUpOmVhY2hGdW5jKGNvbGxlY3Rpb24sYmluZENhbGxiYWNrKGl0ZXJhdGVlLHRoaXNBcmcsMykpfX1mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSxvdGhlcixlcXVhbEZ1bmMsY3VzdG9taXplcixpc0xvb3NlLHN0YWNrQSxzdGFja0Ipe3ZhciBpbmRleD0tMSxhcnJMZW5ndGg9YXJyYXkubGVuZ3RoLG90aExlbmd0aD1vdGhlci5sZW5ndGgscmVzdWx0PSEwO2lmKGFyckxlbmd0aCE9b3RoTGVuZ3RoJiYhKGlzTG9vc2UmJm90aExlbmd0aD5hcnJMZW5ndGgpKXJldHVybiExO2Zvcig7cmVzdWx0JiZhcnJMZW5ndGg+KytpbmRleDspe3ZhciBhcnJWYWx1ZT1hcnJheVtpbmRleF0sb3RoVmFsdWU9b3RoZXJbaW5kZXhdO2lmKHJlc3VsdD11bmRlZmluZWQsY3VzdG9taXplciYmKHJlc3VsdD1pc0xvb3NlP2N1c3RvbWl6ZXIob3RoVmFsdWUsYXJyVmFsdWUsaW5kZXgpOmN1c3RvbWl6ZXIoYXJyVmFsdWUsb3RoVmFsdWUsaW5kZXgpKSxyZXN1bHQ9PT11bmRlZmluZWQpaWYoaXNMb29zZSlmb3IodmFyIG90aEluZGV4PW90aExlbmd0aDtvdGhJbmRleC0tJiYob3RoVmFsdWU9b3RoZXJbb3RoSW5kZXhdLCEocmVzdWx0PWFyclZhbHVlJiZhcnJWYWx1ZT09PW90aFZhbHVlfHxlcXVhbEZ1bmMoYXJyVmFsdWUsb3RoVmFsdWUsY3VzdG9taXplcixpc0xvb3NlLHN0YWNrQSxzdGFja0IpKSk7KTtlbHNlIHJlc3VsdD1hcnJWYWx1ZSYmYXJyVmFsdWU9PT1vdGhWYWx1ZXx8ZXF1YWxGdW5jKGFyclZhbHVlLG90aFZhbHVlLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKX1yZXR1cm4hIXJlc3VsdH1mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCxvdGhlcix0YWcpe3N3aXRjaCh0YWcpe2Nhc2UgYm9vbFRhZzpjYXNlIGRhdGVUYWc6cmV0dXJuK29iamVjdD09K290aGVyO2Nhc2UgZXJyb3JUYWc6cmV0dXJuIG9iamVjdC5uYW1lPT1vdGhlci5uYW1lJiZvYmplY3QubWVzc2FnZT09b3RoZXIubWVzc2FnZTtjYXNlIG51bWJlclRhZzpyZXR1cm4gb2JqZWN0IT0rb2JqZWN0P290aGVyIT0rb3RoZXI6MD09b2JqZWN0PzEvb2JqZWN0PT0xL290aGVyOm9iamVjdD09K290aGVyO2Nhc2UgcmVnZXhwVGFnOmNhc2Ugc3RyaW5nVGFnOnJldHVybiBvYmplY3Q9PW90aGVyK1xcXCJcXFwifXJldHVybiExfWZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3Qsb3RoZXIsZXF1YWxGdW5jLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKXt2YXIgb2JqUHJvcHM9a2V5cyhvYmplY3QpLG9iakxlbmd0aD1vYmpQcm9wcy5sZW5ndGgsb3RoUHJvcHM9a2V5cyhvdGhlciksb3RoTGVuZ3RoPW90aFByb3BzLmxlbmd0aDtpZihvYmpMZW5ndGghPW90aExlbmd0aCYmIWlzTG9vc2UpcmV0dXJuITE7Zm9yKHZhciBza2lwQ3Rvcj1pc0xvb3NlLGluZGV4PS0xO29iakxlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1vYmpQcm9wc1tpbmRleF0scmVzdWx0PWlzTG9vc2U/a2V5IGluIG90aGVyOmhhc093blByb3BlcnR5LmNhbGwob3RoZXIsa2V5KTtpZihyZXN1bHQpe3ZhciBvYmpWYWx1ZT1vYmplY3Rba2V5XSxvdGhWYWx1ZT1vdGhlcltrZXldO3Jlc3VsdD11bmRlZmluZWQsY3VzdG9taXplciYmKHJlc3VsdD1pc0xvb3NlP2N1c3RvbWl6ZXIob3RoVmFsdWUsb2JqVmFsdWUsa2V5KTpjdXN0b21pemVyKG9ialZhbHVlLG90aFZhbHVlLGtleSkpLHJlc3VsdD09PXVuZGVmaW5lZCYmKHJlc3VsdD1vYmpWYWx1ZSYmb2JqVmFsdWU9PT1vdGhWYWx1ZXx8ZXF1YWxGdW5jKG9ialZhbHVlLG90aFZhbHVlLGN1c3RvbWl6ZXIsaXNMb29zZSxzdGFja0Esc3RhY2tCKSl9aWYoIXJlc3VsdClyZXR1cm4hMTtza2lwQ3Rvcnx8KHNraXBDdG9yPVxcXCJjb25zdHJ1Y3RvclxcXCI9PWtleSl9aWYoIXNraXBDdG9yKXt2YXIgb2JqQ3Rvcj1vYmplY3QuY29uc3RydWN0b3Isb3RoQ3Rvcj1vdGhlci5jb25zdHJ1Y3RvcjtpZihvYmpDdG9yIT1vdGhDdG9yJiZcXFwiY29uc3RydWN0b3JcXFwiaW4gb2JqZWN0JiZcXFwiY29uc3RydWN0b3JcXFwiaW4gb3RoZXImJiEoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iakN0b3ImJm9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygb3RoQ3RvciYmb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGdldENhbGxiYWNrKGZ1bmMsdGhpc0FyZyxhcmdDb3VudCl7dmFyIHJlc3VsdD1sb2Rhc2guY2FsbGJhY2t8fGNhbGxiYWNrO3JldHVybiByZXN1bHQ9cmVzdWx0PT09Y2FsbGJhY2s/YmFzZUNhbGxiYWNrOnJlc3VsdCxhcmdDb3VudD9yZXN1bHQoZnVuYyx0aGlzQXJnLGFyZ0NvdW50KTpyZXN1bHR9ZnVuY3Rpb24gZ2V0SW5kZXhPZihjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpe3ZhciByZXN1bHQ9bG9kYXNoLmluZGV4T2Z8fGluZGV4T2Y7cmV0dXJuIHJlc3VsdD1yZXN1bHQ9PT1pbmRleE9mP2Jhc2VJbmRleE9mOnJlc3VsdCxjb2xsZWN0aW9uP3Jlc3VsdChjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpOnJlc3VsdH1mdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSl7dmFyIGxlbmd0aD1hcnJheS5sZW5ndGgscmVzdWx0PW5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO3JldHVybiBsZW5ndGgmJlxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYXJyYXlbMF0mJmhhc093blByb3BlcnR5LmNhbGwoYXJyYXksXFxcImluZGV4XFxcIikmJihyZXN1bHQuaW5kZXg9YXJyYXkuaW5kZXgscmVzdWx0LmlucHV0PWFycmF5LmlucHV0KSxyZXN1bHR9ZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCl7dmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yO3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yIGluc3RhbmNlb2YgQ3Rvcnx8KEN0b3I9T2JqZWN0KSxuZXcgQ3Rvcn1mdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsdGFnLGlzRGVlcCl7dmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yO3N3aXRjaCh0YWcpe2Nhc2UgYXJyYXlCdWZmZXJUYWc6cmV0dXJuIGJ1ZmZlckNsb25lKG9iamVjdCk7Y2FzZSBib29sVGFnOmNhc2UgZGF0ZVRhZzpyZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7Y2FzZSBmbG9hdDMyVGFnOmNhc2UgZmxvYXQ2NFRhZzpjYXNlIGludDhUYWc6Y2FzZSBpbnQxNlRhZzpjYXNlIGludDMyVGFnOmNhc2UgdWludDhUYWc6Y2FzZSB1aW50OENsYW1wZWRUYWc6Y2FzZSB1aW50MTZUYWc6Y2FzZSB1aW50MzJUYWc6dmFyIGJ1ZmZlcj1vYmplY3QuYnVmZmVyO3JldHVybiBuZXcgQ3Rvcihpc0RlZXA/YnVmZmVyQ2xvbmUoYnVmZmVyKTpidWZmZXIsb2JqZWN0LmJ5dGVPZmZzZXQsb2JqZWN0Lmxlbmd0aCk7Y2FzZSBudW1iZXJUYWc6Y2FzZSBzdHJpbmdUYWc6cmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7Y2FzZSByZWdleHBUYWc6dmFyIHJlc3VsdD1uZXcgQ3RvcihvYmplY3Quc291cmNlLHJlRmxhZ3MuZXhlYyhvYmplY3QpKTtyZXN1bHQubGFzdEluZGV4PW9iamVjdC5sYXN0SW5kZXh9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBpc0luZGV4KHZhbHVlLGxlbmd0aCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxsZW5ndGg9bnVsbD09bGVuZ3RoP01BWF9TQUZFX0lOVEVHRVI6bGVuZ3RoLHZhbHVlPi0xJiYwPT12YWx1ZSUxJiZsZW5ndGg+dmFsdWV9ZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsaW5kZXgsb2JqZWN0KXtpZighaXNPYmplY3Qob2JqZWN0KSlyZXR1cm4hMTt2YXIgdHlwZT10eXBlb2YgaW5kZXg7aWYoXFxcIm51bWJlclxcXCI9PXR5cGUpdmFyIGxlbmd0aD1nZXRMZW5ndGgob2JqZWN0KSxwcmVyZXE9aXNMZW5ndGgobGVuZ3RoKSYmaXNJbmRleChpbmRleCxsZW5ndGgpO2Vsc2UgcHJlcmVxPVxcXCJzdHJpbmdcXFwiPT10eXBlJiZpbmRleCBpbiBvYmplY3Q7aWYocHJlcmVxKXt2YXIgb3RoZXI9b2JqZWN0W2luZGV4XTtyZXR1cm4gdmFsdWU9PT12YWx1ZT92YWx1ZT09PW90aGVyOm90aGVyIT09b3RoZXJ9cmV0dXJuITF9ZnVuY3Rpb24gaXNLZXkodmFsdWUsb2JqZWN0KXt2YXIgdHlwZT10eXBlb2YgdmFsdWU7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGUmJnJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSl8fFxcXCJudW1iZXJcXFwiPT10eXBlKXJldHVybiEwO2lmKGlzQXJyYXkodmFsdWUpKXJldHVybiExO3ZhciByZXN1bHQ9IXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKTtyZXR1cm4gcmVzdWx0fHxudWxsIT1vYmplY3QmJnZhbHVlIGluIHRvT2JqZWN0KG9iamVjdCl9ZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdmFsdWUmJnZhbHVlPi0xJiYwPT12YWx1ZSUxJiZNQVhfU0FGRV9JTlRFR0VSPj12YWx1ZX1mdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpe3JldHVybiB2YWx1ZT09PXZhbHVlJiYoMD09PXZhbHVlPzEvdmFsdWU+MDohaXNPYmplY3QodmFsdWUpKX1mdW5jdGlvbiBzaGltSXNQbGFpbk9iamVjdCh2YWx1ZSl7dmFyIEN0b3I7aWYobG9kYXNoLnN1cHBvcnQsIWlzT2JqZWN0TGlrZSh2YWx1ZSl8fG9ialRvU3RyaW5nLmNhbGwodmFsdWUpIT1vYmplY3RUYWd8fCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLFxcXCJjb25zdHJ1Y3RvclxcXCIpJiYoQ3Rvcj12YWx1ZS5jb25zdHJ1Y3RvcixcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgQ3RvciYmIShDdG9yIGluc3RhbmNlb2YgQ3RvcikpKXJldHVybiExO3ZhciByZXN1bHQ7cmV0dXJuIGJhc2VGb3JJbih2YWx1ZSxmdW5jdGlvbihzdWJWYWx1ZSxrZXkpe3Jlc3VsdD1rZXl9KSxyZXN1bHQ9PT11bmRlZmluZWR8fGhhc093blByb3BlcnR5LmNhbGwodmFsdWUscmVzdWx0KX1mdW5jdGlvbiBzaGltS2V5cyhvYmplY3Qpe2Zvcih2YXIgcHJvcHM9a2V5c0luKG9iamVjdCkscHJvcHNMZW5ndGg9cHJvcHMubGVuZ3RoLGxlbmd0aD1wcm9wc0xlbmd0aCYmb2JqZWN0Lmxlbmd0aCxzdXBwb3J0PWxvZGFzaC5zdXBwb3J0LGFsbG93SW5kZXhlcz1sZW5ndGgmJmlzTGVuZ3RoKGxlbmd0aCkmJihpc0FycmF5KG9iamVjdCl8fHN1cHBvcnQubm9uRW51bUFyZ3MmJmlzQXJndW1lbnRzKG9iamVjdCkpLGluZGV4PS0xLHJlc3VsdD1bXTtwcm9wc0xlbmd0aD4rK2luZGV4Oyl7dmFyIGtleT1wcm9wc1tpbmRleF07KGFsbG93SW5kZXhlcyYmaXNJbmRleChrZXksbGVuZ3RoKXx8aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3Qsa2V5KSkmJnJlc3VsdC5wdXNoKGtleSl9cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiB0b09iamVjdCh2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0KHZhbHVlKT92YWx1ZTpPYmplY3QodmFsdWUpfWZ1bmN0aW9uIHRvUGF0aCh2YWx1ZSl7aWYoaXNBcnJheSh2YWx1ZSkpcmV0dXJuIHZhbHVlO3ZhciByZXN1bHQ9W107cmV0dXJuIGJhc2VUb1N0cmluZyh2YWx1ZSkucmVwbGFjZShyZVByb3BOYW1lLGZ1bmN0aW9uKG1hdGNoLG51bWJlcixxdW90ZSxzdHJpbmcpe3Jlc3VsdC5wdXNoKHF1b3RlP3N0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhcixcXFwiJDFcXFwiKTpudW1iZXJ8fG1hdGNoKX0pLHJlc3VsdH1mdW5jdGlvbiBpbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleCl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtpZighbGVuZ3RoKXJldHVybi0xO2lmKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgZnJvbUluZGV4KWZyb21JbmRleD0wPmZyb21JbmRleD9uYXRpdmVNYXgobGVuZ3RoK2Zyb21JbmRleCwwKTpmcm9tSW5kZXg7ZWxzZSBpZihmcm9tSW5kZXgpe3ZhciBpbmRleD1iaW5hcnlJbmRleChhcnJheSx2YWx1ZSksb3RoZXI9YXJyYXlbaW5kZXhdO3JldHVybih2YWx1ZT09PXZhbHVlP3ZhbHVlPT09b3RoZXI6b3RoZXIhPT1vdGhlcik/aW5kZXg6LTF9cmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LHZhbHVlLGZyb21JbmRleHx8MCl9ZnVuY3Rpb24gbGFzdChhcnJheSl7dmFyIGxlbmd0aD1hcnJheT9hcnJheS5sZW5ndGg6MDtyZXR1cm4gbGVuZ3RoP2FycmF5W2xlbmd0aC0xXTp1bmRlZmluZWR9ZnVuY3Rpb24gc2xpY2UoYXJyYXksc3RhcnQsZW5kKXt2YXIgbGVuZ3RoPWFycmF5P2FycmF5Lmxlbmd0aDowO3JldHVybiBsZW5ndGg/KGVuZCYmXFxcIm51bWJlclxcXCIhPXR5cGVvZiBlbmQmJmlzSXRlcmF0ZWVDYWxsKGFycmF5LHN0YXJ0LGVuZCkmJihzdGFydD0wLGVuZD1sZW5ndGgpLGJhc2VTbGljZShhcnJheSxzdGFydCxlbmQpKTpbXX1mdW5jdGlvbiB1bnppcChhcnJheSl7Zm9yKHZhciBpbmRleD0tMSxsZW5ndGg9KGFycmF5JiZhcnJheS5sZW5ndGgmJmFycmF5TWF4KGFycmF5TWFwKGFycmF5LGdldExlbmd0aCkpKT4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3VsdFtpbmRleF09YXJyYXlNYXAoYXJyYXksYmFzZVByb3BlcnR5KGluZGV4KSk7cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgsZ3VhcmQpe3ZhciBsZW5ndGg9Y29sbGVjdGlvbj9nZXRMZW5ndGgoY29sbGVjdGlvbik6MDtyZXR1cm4gaXNMZW5ndGgobGVuZ3RoKXx8KGNvbGxlY3Rpb249dmFsdWVzKGNvbGxlY3Rpb24pLGxlbmd0aD1jb2xsZWN0aW9uLmxlbmd0aCksbGVuZ3RoPyhmcm9tSW5kZXg9XFxcIm51bWJlclxcXCIhPXR5cGVvZiBmcm9tSW5kZXh8fGd1YXJkJiZpc0l0ZXJhdGVlQ2FsbCh0YXJnZXQsZnJvbUluZGV4LGd1YXJkKT8wOjA+ZnJvbUluZGV4P25hdGl2ZU1heChsZW5ndGgrZnJvbUluZGV4LDApOmZyb21JbmRleHx8MCxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGNvbGxlY3Rpb258fCFpc0FycmF5KGNvbGxlY3Rpb24pJiZpc1N0cmluZyhjb2xsZWN0aW9uKT9sZW5ndGg+ZnJvbUluZGV4JiZjb2xsZWN0aW9uLmluZGV4T2YodGFyZ2V0LGZyb21JbmRleCk+LTE6Z2V0SW5kZXhPZihjb2xsZWN0aW9uLHRhcmdldCxmcm9tSW5kZXgpPi0xKTohMX1mdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbixwcmVkaWNhdGUsdGhpc0FyZyl7dmFyIGZ1bmM9aXNBcnJheShjb2xsZWN0aW9uKT9hcnJheUZpbHRlcjpiYXNlRmlsdGVyO3JldHVybiBwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMyksZnVuYyhjb2xsZWN0aW9uLGZ1bmN0aW9uKHZhbHVlLGluZGV4LGNvbGxlY3Rpb24pe3JldHVybiFwcmVkaWNhdGUodmFsdWUsaW5kZXgsY29sbGVjdGlvbil9KX1mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24scHJlZGljYXRlLHRoaXNBcmcpe3ZhciBmdW5jPWlzQXJyYXkoY29sbGVjdGlvbik/YXJyYXlTb21lOmJhc2VTb21lO3JldHVybiB0aGlzQXJnJiZpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLHByZWRpY2F0ZSx0aGlzQXJnKSYmKHByZWRpY2F0ZT1udWxsKSwoXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIHByZWRpY2F0ZXx8dGhpc0FyZyE9PXVuZGVmaW5lZCkmJihwcmVkaWNhdGU9Z2V0Q2FsbGJhY2socHJlZGljYXRlLHRoaXNBcmcsMykpLGZ1bmMoY29sbGVjdGlvbixwcmVkaWNhdGUpfWZ1bmN0aW9uIHJlc3RQYXJhbShmdW5jLHN0YXJ0KXtpZihcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgZnVuYyl0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7cmV0dXJuIHN0YXJ0PW5hdGl2ZU1heChzdGFydD09PXVuZGVmaW5lZD9mdW5jLmxlbmd0aC0xOitzdGFydHx8MCwwKSxmdW5jdGlvbigpe2Zvcih2YXIgYXJncz1hcmd1bWVudHMsaW5kZXg9LTEsbGVuZ3RoPW5hdGl2ZU1heChhcmdzLmxlbmd0aC1zdGFydCwwKSxyZXN0PUFycmF5KGxlbmd0aCk7bGVuZ3RoPisraW5kZXg7KXJlc3RbaW5kZXhdPWFyZ3Nbc3RhcnQraW5kZXhdO3N3aXRjaChzdGFydCl7Y2FzZSAwOnJldHVybiBmdW5jLmNhbGwodGhpcyxyZXN0KTtjYXNlIDE6cmV0dXJuIGZ1bmMuY2FsbCh0aGlzLGFyZ3NbMF0scmVzdCk7Y2FzZSAyOnJldHVybiBmdW5jLmNhbGwodGhpcyxhcmdzWzBdLGFyZ3NbMV0scmVzdCl9dmFyIG90aGVyQXJncz1BcnJheShzdGFydCsxKTtmb3IoaW5kZXg9LTE7c3RhcnQ+KytpbmRleDspb3RoZXJBcmdzW2luZGV4XT1hcmdzW2luZGV4XTtyZXR1cm4gb3RoZXJBcmdzW3N0YXJ0XT1yZXN0LGZ1bmMuYXBwbHkodGhpcyxvdGhlckFyZ3MpfX1mdW5jdGlvbiBjbG9uZSh2YWx1ZSxpc0RlZXAsY3VzdG9taXplcix0aGlzQXJnKXtyZXR1cm4gaXNEZWVwJiZcXFwiYm9vbGVhblxcXCIhPXR5cGVvZiBpc0RlZXAmJmlzSXRlcmF0ZWVDYWxsKHZhbHVlLGlzRGVlcCxjdXN0b21pemVyKT9pc0RlZXA9ITE6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGlzRGVlcCYmKHRoaXNBcmc9Y3VzdG9taXplcixjdXN0b21pemVyPWlzRGVlcCxpc0RlZXA9ITEpLGN1c3RvbWl6ZXI9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGN1c3RvbWl6ZXImJmJpbmRDYWxsYmFjayhjdXN0b21pemVyLHRoaXNBcmcsMSksYmFzZUNsb25lKHZhbHVlLGlzRGVlcCxjdXN0b21pemVyKX1mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSl7dmFyIGxlbmd0aD1pc09iamVjdExpa2UodmFsdWUpP3ZhbHVlLmxlbmd0aDp1bmRlZmluZWQ7cmV0dXJuIGlzTGVuZ3RoKGxlbmd0aCkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcmdzVGFnfWZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpe2lmKG51bGw9PXZhbHVlKXJldHVybiEwO3ZhciBsZW5ndGg9Z2V0TGVuZ3RoKHZhbHVlKTtyZXR1cm4gaXNMZW5ndGgobGVuZ3RoKSYmKGlzQXJyYXkodmFsdWUpfHxpc1N0cmluZyh2YWx1ZSl8fGlzQXJndW1lbnRzKHZhbHVlKXx8aXNPYmplY3RMaWtlKHZhbHVlKSYmaXNGdW5jdGlvbih2YWx1ZS5zcGxpY2UpKT8hbGVuZ3RoOiFrZXlzKHZhbHVlKS5sZW5ndGh9ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpe3ZhciB0eXBlPXR5cGVvZiB2YWx1ZTtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlfHwhIXZhbHVlJiZcXFwib2JqZWN0XFxcIj09dHlwZX1mdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSl7cmV0dXJuIG51bGw9PXZhbHVlPyExOm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1mdW5jVGFnP3JlSXNOYXRpdmUudGVzdChmblRvU3RyaW5nLmNhbGwodmFsdWUpKTppc09iamVjdExpa2UodmFsdWUpJiZyZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSl9ZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpe3JldHVyblxcXCJudW1iZXJcXFwiPT10eXBlb2YgdmFsdWV8fGlzT2JqZWN0TGlrZSh2YWx1ZSkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1udW1iZXJUYWd9ZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdmFsdWV8fGlzT2JqZWN0TGlrZSh2YWx1ZSkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1zdHJpbmdUYWd9ZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKXtyZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSYmaXNMZW5ndGgodmFsdWUubGVuZ3RoKSYmISF0eXBlZEFycmF5VGFnc1tvYmpUb1N0cmluZy5jYWxsKHZhbHVlKV19ZnVuY3Rpb24gdG9QbGFpbk9iamVjdCh2YWx1ZSl7cmV0dXJuIGJhc2VDb3B5KHZhbHVlLGtleXNJbih2YWx1ZSkpfWZ1bmN0aW9uIGhhcyhvYmplY3QscGF0aCl7aWYobnVsbD09b2JqZWN0KXJldHVybiExO3ZhciByZXN1bHQ9aGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscGF0aCk7cmV0dXJuIHJlc3VsdHx8aXNLZXkocGF0aCl8fChwYXRoPXRvUGF0aChwYXRoKSxvYmplY3Q9MT09cGF0aC5sZW5ndGg/b2JqZWN0OmJhc2VHZXQob2JqZWN0LGJhc2VTbGljZShwYXRoLDAsLTEpKSxwYXRoPWxhc3QocGF0aCkscmVzdWx0PW51bGwhPW9iamVjdCYmaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QscGF0aCkpLHJlc3VsdH1mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KXtpZihudWxsPT1vYmplY3QpcmV0dXJuW107aXNPYmplY3Qob2JqZWN0KXx8KG9iamVjdD1PYmplY3Qob2JqZWN0KSk7dmFyIGxlbmd0aD1vYmplY3QubGVuZ3RoO2xlbmd0aD1sZW5ndGgmJmlzTGVuZ3RoKGxlbmd0aCkmJihpc0FycmF5KG9iamVjdCl8fHN1cHBvcnQubm9uRW51bUFyZ3MmJmlzQXJndW1lbnRzKG9iamVjdCkpJiZsZW5ndGh8fDA7Zm9yKHZhciBDdG9yPW9iamVjdC5jb25zdHJ1Y3RvcixpbmRleD0tMSxpc1Byb3RvPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yLnByb3RvdHlwZT09PW9iamVjdCxyZXN1bHQ9QXJyYXkobGVuZ3RoKSxza2lwSW5kZXhlcz1sZW5ndGg+MDtsZW5ndGg+KytpbmRleDspcmVzdWx0W2luZGV4XT1pbmRleCtcXFwiXFxcIjtmb3IodmFyIGtleSBpbiBvYmplY3Qpc2tpcEluZGV4ZXMmJmlzSW5kZXgoa2V5LGxlbmd0aCl8fFxcXCJjb25zdHJ1Y3RvclxcXCI9PWtleSYmKGlzUHJvdG98fCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxrZXkpKXx8cmVzdWx0LnB1c2goa2V5KTtyZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIHZhbHVlcyhvYmplY3Qpe3JldHVybiBiYXNlVmFsdWVzKG9iamVjdCxrZXlzKG9iamVjdCkpfWZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpe3JldHVybiBzdHJpbmc9YmFzZVRvU3RyaW5nKHN0cmluZyksc3RyaW5nJiZyZUhhc1JlZ0V4cENoYXJzLnRlc3Qoc3RyaW5nKT9zdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXJzLFxcXCJcXFxcXFxcXCQmXFxcIik6c3RyaW5nfWZ1bmN0aW9uIGNhbGxiYWNrKGZ1bmMsdGhpc0FyZyxndWFyZCl7cmV0dXJuIGd1YXJkJiZpc0l0ZXJhdGVlQ2FsbChmdW5jLHRoaXNBcmcsZ3VhcmQpJiYodGhpc0FyZz1udWxsKSxiYXNlQ2FsbGJhY2soZnVuYyx0aGlzQXJnKX1mdW5jdGlvbiBjb25zdGFudCh2YWx1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfX1mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSl7cmV0dXJuIHZhbHVlfWZ1bmN0aW9uIHByb3BlcnR5KHBhdGgpe3JldHVybiBpc0tleShwYXRoKT9iYXNlUHJvcGVydHkocGF0aCk6YmFzZVByb3BlcnR5RGVlcChwYXRoKX12YXIgdW5kZWZpbmVkLFZFUlNJT049XFxcIjMuNy4wXFxcIixGVU5DX0VSUk9SX1RFWFQ9XFxcIkV4cGVjdGVkIGEgZnVuY3Rpb25cXFwiLGFyZ3NUYWc9XFxcIltvYmplY3QgQXJndW1lbnRzXVxcXCIsYXJyYXlUYWc9XFxcIltvYmplY3QgQXJyYXldXFxcIixib29sVGFnPVxcXCJbb2JqZWN0IEJvb2xlYW5dXFxcIixkYXRlVGFnPVxcXCJbb2JqZWN0IERhdGVdXFxcIixlcnJvclRhZz1cXFwiW29iamVjdCBFcnJvcl1cXFwiLGZ1bmNUYWc9XFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIixtYXBUYWc9XFxcIltvYmplY3QgTWFwXVxcXCIsbnVtYmVyVGFnPVxcXCJbb2JqZWN0IE51bWJlcl1cXFwiLG9iamVjdFRhZz1cXFwiW29iamVjdCBPYmplY3RdXFxcIixyZWdleHBUYWc9XFxcIltvYmplY3QgUmVnRXhwXVxcXCIsc2V0VGFnPVxcXCJbb2JqZWN0IFNldF1cXFwiLHN0cmluZ1RhZz1cXFwiW29iamVjdCBTdHJpbmddXFxcIix3ZWFrTWFwVGFnPVxcXCJbb2JqZWN0IFdlYWtNYXBdXFxcIixhcnJheUJ1ZmZlclRhZz1cXFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cXFwiLGZsb2F0MzJUYWc9XFxcIltvYmplY3QgRmxvYXQzMkFycmF5XVxcXCIsZmxvYXQ2NFRhZz1cXFwiW29iamVjdCBGbG9hdDY0QXJyYXldXFxcIixpbnQ4VGFnPVxcXCJbb2JqZWN0IEludDhBcnJheV1cXFwiLGludDE2VGFnPVxcXCJbb2JqZWN0IEludDE2QXJyYXldXFxcIixpbnQzMlRhZz1cXFwiW29iamVjdCBJbnQzMkFycmF5XVxcXCIsdWludDhUYWc9XFxcIltvYmplY3QgVWludDhBcnJheV1cXFwiLHVpbnQ4Q2xhbXBlZFRhZz1cXFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cXFwiLHVpbnQxNlRhZz1cXFwiW29iamVjdCBVaW50MTZBcnJheV1cXFwiLHVpbnQzMlRhZz1cXFwiW29iamVjdCBVaW50MzJBcnJheV1cXFwiLHJlSXNEZWVwUHJvcD0vXFxcXC58XFxcXFsoPzpbXltcXFxcXV0rfChbXFxcIiddKSg/Oig/IVxcXFwxKVteXFxcXG5cXFxcXFxcXF18XFxcXFxcXFwuKSo/KVxcXFwxXFxcXF0vLHJlSXNQbGFpblByb3A9L15cXFxcdyokLyxyZVByb3BOYW1lPS9bXi5bXFxcXF1dK3xcXFxcWyg/OigtP1xcXFxkKyg/OlxcXFwuXFxcXGQrKT8pfChbXFxcIiddKSgoPzooPyFcXFxcMilbXlxcXFxuXFxcXFxcXFxdfFxcXFxcXFxcLikqPylcXFxcMilcXFxcXS9nLHJlUmVnRXhwQ2hhcnM9L1suKis/XiR7fSgpfFtcXFxcXVxcXFwvXFxcXFxcXFxdL2cscmVIYXNSZWdFeHBDaGFycz1SZWdFeHAocmVSZWdFeHBDaGFycy5zb3VyY2UpLHJlRXNjYXBlQ2hhcj0vXFxcXFxcXFwoXFxcXFxcXFwpPy9nLHJlRmxhZ3M9L1xcXFx3KiQvLHJlSXNIb3N0Q3Rvcj0vXlxcXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxcXF0kLyx0eXBlZEFycmF5VGFncz17fTt0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXT10eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXT10eXBlZEFycmF5VGFnc1tpbnQ4VGFnXT10eXBlZEFycmF5VGFnc1tpbnQxNlRhZ109dHlwZWRBcnJheVRhZ3NbaW50MzJUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXT10eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddPXR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ109dHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXT0hMCx0eXBlZEFycmF5VGFnc1thcmdzVGFnXT10eXBlZEFycmF5VGFnc1thcnJheVRhZ109dHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddPXR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddPXR5cGVkQXJyYXlUYWdzW2RhdGVUYWddPXR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXT10eXBlZEFycmF5VGFnc1tmdW5jVGFnXT10eXBlZEFycmF5VGFnc1ttYXBUYWddPXR5cGVkQXJyYXlUYWdzW251bWJlclRhZ109dHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXT10eXBlZEFycmF5VGFnc1tyZWdleHBUYWddPXR5cGVkQXJyYXlUYWdzW3NldFRhZ109dHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXT10eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXT0hMTt2YXIgY2xvbmVhYmxlVGFncz17fTtjbG9uZWFibGVUYWdzW2FyZ3NUYWddPWNsb25lYWJsZVRhZ3NbYXJyYXlUYWddPWNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddPWNsb25lYWJsZVRhZ3NbYm9vbFRhZ109Y2xvbmVhYmxlVGFnc1tkYXRlVGFnXT1jbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddPWNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ109Y2xvbmVhYmxlVGFnc1tpbnQ4VGFnXT1jbG9uZWFibGVUYWdzW2ludDE2VGFnXT1jbG9uZWFibGVUYWdzW2ludDMyVGFnXT1jbG9uZWFibGVUYWdzW251bWJlclRhZ109Y2xvbmVhYmxlVGFnc1tvYmplY3RUYWddPWNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXT1jbG9uZWFibGVUYWdzW3N0cmluZ1RhZ109Y2xvbmVhYmxlVGFnc1t1aW50OFRhZ109Y2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddPWNsb25lYWJsZVRhZ3NbdWludDE2VGFnXT1jbG9uZWFibGVUYWdzW3VpbnQzMlRhZ109ITAsY2xvbmVhYmxlVGFnc1tlcnJvclRhZ109Y2xvbmVhYmxlVGFnc1tmdW5jVGFnXT1jbG9uZWFibGVUYWdzW21hcFRhZ109Y2xvbmVhYmxlVGFnc1tzZXRUYWddPWNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ109ITE7dmFyIG9iamVjdFR5cGVzPXtcXFwiZnVuY3Rpb25cXFwiOiEwLG9iamVjdDohMH0sZnJlZUV4cG9ydHM9b2JqZWN0VHlwZXNbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxmcmVlTW9kdWxlPW9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJm1vZHVsZSxmcmVlR2xvYmFsPWZyZWVFeHBvcnRzJiZmcmVlTW9kdWxlJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsJiZnbG9iYWwuT2JqZWN0JiZnbG9iYWwsZnJlZVNlbGY9b2JqZWN0VHlwZXNbdHlwZW9mIHNlbGZdJiZzZWxmJiZzZWxmLk9iamVjdCYmc2VsZixmcmVlV2luZG93PW9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3cmJndpbmRvdy5PYmplY3QmJndpbmRvdyxtb2R1bGVFeHBvcnRzPWZyZWVNb2R1bGUmJmZyZWVNb2R1bGUuZXhwb3J0cz09PWZyZWVFeHBvcnRzJiZmcmVlRXhwb3J0cyxyb290PWZyZWVHbG9iYWx8fGZyZWVXaW5kb3chPT0odGhpcyYmdGhpcy53aW5kb3cpJiZmcmVlV2luZG93fHxmcmVlU2VsZnx8dGhpcyxhcnJheVByb3RvPUFycmF5LnByb3RvdHlwZSxvYmplY3RQcm90bz1PYmplY3QucHJvdG90eXBlLGZuVG9TdHJpbmc9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGhhc093blByb3BlcnR5PW9iamVjdFByb3RvLmhhc093blByb3BlcnR5LG9ialRvU3RyaW5nPW9iamVjdFByb3RvLnRvU3RyaW5nLHJlSXNOYXRpdmU9UmVnRXhwKFxcXCJeXFxcIitlc2NhcGVSZWdFeHAob2JqVG9TdHJpbmcpLnJlcGxhY2UoL3RvU3RyaW5nfChmdW5jdGlvbikuKj8oPz1cXFxcXFxcXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXFxcXFxcXF0pL2csXFxcIiQxLio/XFxcIikrXFxcIiRcXFwiKSxBcnJheUJ1ZmZlcj1pc05hdGl2ZShBcnJheUJ1ZmZlcj1yb290LkFycmF5QnVmZmVyKSYmQXJyYXlCdWZmZXIsYnVmZmVyU2xpY2U9aXNOYXRpdmUoYnVmZmVyU2xpY2U9QXJyYXlCdWZmZXImJm5ldyBBcnJheUJ1ZmZlcigwKS5zbGljZSkmJmJ1ZmZlclNsaWNlLGZsb29yPU1hdGguZmxvb3IsZ2V0T3duUHJvcGVydHlTeW1ib2xzPWlzTmF0aXZlKGdldE93blByb3BlcnR5U3ltYm9scz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSYmZ2V0T3duUHJvcGVydHlTeW1ib2xzLGdldFByb3RvdHlwZU9mPWlzTmF0aXZlKGdldFByb3RvdHlwZU9mPU9iamVjdC5nZXRQcm90b3R5cGVPZikmJmdldFByb3RvdHlwZU9mLHB1c2g9YXJyYXlQcm90by5wdXNoLHByZXZlbnRFeHRlbnNpb25zPWlzTmF0aXZlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1PYmplY3QucHJldmVudEV4dGVuc2lvbnMpJiZwcmV2ZW50RXh0ZW5zaW9ucyxwcm9wZXJ0eUlzRW51bWVyYWJsZT1vYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxVaW50OEFycmF5PWlzTmF0aXZlKFVpbnQ4QXJyYXk9cm9vdC5VaW50OEFycmF5KSYmVWludDhBcnJheSxGbG9hdDY0QXJyYXk9ZnVuY3Rpb24oKXt0cnl7dmFyIGZ1bmM9aXNOYXRpdmUoZnVuYz1yb290LkZsb2F0NjRBcnJheSkmJmZ1bmMscmVzdWx0PW5ldyBmdW5jKG5ldyBBcnJheUJ1ZmZlcigxMCksMCwxKSYmZnVuY31jYXRjaChlKXt9cmV0dXJuIHJlc3VsdH0oKSxuYXRpdmVBc3NpZ249ZnVuY3Rpb24oKXt2YXIgb2JqZWN0PXsxOjB9LGZ1bmM9cHJldmVudEV4dGVuc2lvbnMmJmlzTmF0aXZlKGZ1bmM9T2JqZWN0LmFzc2lnbikmJmZ1bmM7dHJ5e2Z1bmMocHJldmVudEV4dGVuc2lvbnMob2JqZWN0KSxcXFwieG9cXFwiKX1jYXRjaChlKXt9cmV0dXJuIW9iamVjdFsxXSYmZnVuY30oKSxuYXRpdmVJc0FycmF5PWlzTmF0aXZlKG5hdGl2ZUlzQXJyYXk9QXJyYXkuaXNBcnJheSkmJm5hdGl2ZUlzQXJyYXksbmF0aXZlS2V5cz1pc05hdGl2ZShuYXRpdmVLZXlzPU9iamVjdC5rZXlzKSYmbmF0aXZlS2V5cyxuYXRpdmVNYXg9TWF0aC5tYXgsbmF0aXZlTWluPU1hdGgubWluLE5FR0FUSVZFX0lORklOSVRZPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxNQVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMzIpLTEsTUFYX0FSUkFZX0lOREVYPU1BWF9BUlJBWV9MRU5HVEgtMSxIQUxGX01BWF9BUlJBWV9MRU5HVEg9TUFYX0FSUkFZX0xFTkdUSD4+PjEsRkxPQVQ2NF9CWVRFU19QRVJfRUxFTUVOVD1GbG9hdDY0QXJyYXk/RmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UOjAsTUFYX1NBRkVfSU5URUdFUj1NYXRoLnBvdygyLDUzKS0xLHN1cHBvcnQ9bG9kYXNoLnN1cHBvcnQ9e307KGZ1bmN0aW9uKHgpe3ZhciBDdG9yPWZ1bmN0aW9uKCl7dGhpcy54PXh9LHByb3BzPVtdO0N0b3IucHJvdG90eXBlPXt2YWx1ZU9mOngseTp4fTtmb3IodmFyIGtleSBpbiBuZXcgQ3Rvcilwcm9wcy5wdXNoKGtleSk7c3VwcG9ydC5mdW5jRGVjb21wPS9cXFxcYnRoaXNcXFxcYi8udGVzdChmdW5jdGlvbigpe3JldHVybiB0aGlzfSksc3VwcG9ydC5mdW5jTmFtZXM9XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBGdW5jdGlvbi5uYW1lO3RyeXtzdXBwb3J0Lm5vbkVudW1BcmdzPSFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGFyZ3VtZW50cywxKX1jYXRjaChlKXtzdXBwb3J0Lm5vbkVudW1BcmdzPSEwfX0pKDEsMCk7dmFyIGJhc2VBc3NpZ249bmF0aXZlQXNzaWdufHxmdW5jdGlvbihvYmplY3Qsc291cmNlKXtyZXR1cm4gbnVsbD09c291cmNlP29iamVjdDpiYXNlQ29weShzb3VyY2UsZ2V0U3ltYm9scyhzb3VyY2UpLGJhc2VDb3B5KHNvdXJjZSxrZXlzKHNvdXJjZSksb2JqZWN0KSl9LGJhc2VFYWNoPWNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pLGJhc2VGb3I9Y3JlYXRlQmFzZUZvcigpO2J1ZmZlclNsaWNlfHwoYnVmZmVyQ2xvbmU9QXJyYXlCdWZmZXImJlVpbnQ4QXJyYXk/ZnVuY3Rpb24oYnVmZmVyKXt2YXIgYnl0ZUxlbmd0aD1idWZmZXIuYnl0ZUxlbmd0aCxmbG9hdExlbmd0aD1GbG9hdDY0QXJyYXk/Zmxvb3IoYnl0ZUxlbmd0aC9GTE9BVDY0X0JZVEVTX1BFUl9FTEVNRU5UKTowLG9mZnNldD1mbG9hdExlbmd0aCpGTE9BVDY0X0JZVEVTX1BFUl9FTEVNRU5ULHJlc3VsdD1uZXcgQXJyYXlCdWZmZXIoYnl0ZUxlbmd0aCk7aWYoZmxvYXRMZW5ndGgpe3ZhciB2aWV3PW5ldyBGbG9hdDY0QXJyYXkocmVzdWx0LDAsZmxvYXRMZW5ndGgpO3ZpZXcuc2V0KG5ldyBGbG9hdDY0QXJyYXkoYnVmZmVyLDAsZmxvYXRMZW5ndGgpKX1yZXR1cm4gYnl0ZUxlbmd0aCE9b2Zmc2V0JiYodmlldz1uZXcgVWludDhBcnJheShyZXN1bHQsb2Zmc2V0KSx2aWV3LnNldChuZXcgVWludDhBcnJheShidWZmZXIsb2Zmc2V0KSkpLHJlc3VsdH06Y29uc3RhbnQobnVsbCkpO3ZhciBnZXRMZW5ndGg9YmFzZVByb3BlcnR5KFxcXCJsZW5ndGhcXFwiKSxnZXRTeW1ib2xzPWdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihvYmplY3Qpe3JldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHModG9PYmplY3Qob2JqZWN0KSl9OmNvbnN0YW50KFtdKSxmaW5kTGFzdEluZGV4PWNyZWF0ZUZpbmRJbmRleCghMCksemlwPXJlc3RQYXJhbSh1bnppcCksZm9yRWFjaD1jcmVhdGVGb3JFYWNoKGFycmF5RWFjaCxiYXNlRWFjaCksaXNBcnJheT1uYXRpdmVJc0FycmF5fHxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkmJmlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkmJm9ialRvU3RyaW5nLmNhbGwodmFsdWUpPT1hcnJheVRhZ30saXNGdW5jdGlvbj1iYXNlSXNGdW5jdGlvbigveC8pfHxVaW50OEFycmF5JiYhYmFzZUlzRnVuY3Rpb24oVWludDhBcnJheSk/ZnVuY3Rpb24odmFsdWUpe3JldHVybiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKT09ZnVuY1RhZ306YmFzZUlzRnVuY3Rpb24saXNQbGFpbk9iamVjdD1nZXRQcm90b3R5cGVPZj9mdW5jdGlvbih2YWx1ZSl7aWYoIXZhbHVlfHxvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSE9b2JqZWN0VGFnKXJldHVybiExO3ZhciB2YWx1ZU9mPXZhbHVlLnZhbHVlT2Ysb2JqUHJvdG89aXNOYXRpdmUodmFsdWVPZikmJihvYmpQcm90bz1nZXRQcm90b3R5cGVPZih2YWx1ZU9mKSkmJmdldFByb3RvdHlwZU9mKG9ialByb3RvKTtyZXR1cm4gb2JqUHJvdG8/dmFsdWU9PW9ialByb3RvfHxnZXRQcm90b3R5cGVPZih2YWx1ZSk9PW9ialByb3RvOnNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKX06c2hpbUlzUGxhaW5PYmplY3QsYXNzaWduPWNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCxzb3VyY2UsY3VzdG9taXplcil7cmV0dXJuIGN1c3RvbWl6ZXI/YXNzaWduV2l0aChvYmplY3Qsc291cmNlLGN1c3RvbWl6ZXIpOmJhc2VBc3NpZ24ob2JqZWN0LHNvdXJjZSl9KSxrZXlzPW5hdGl2ZUtleXM/ZnVuY3Rpb24ob2JqZWN0KXtpZihvYmplY3QpdmFyIEN0b3I9b2JqZWN0LmNvbnN0cnVjdG9yLGxlbmd0aD1vYmplY3QubGVuZ3RoO3JldHVyblxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBDdG9yJiZDdG9yLnByb3RvdHlwZT09PW9iamVjdHx8XFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdCYmaXNMZW5ndGgobGVuZ3RoKT9zaGltS2V5cyhvYmplY3QpOmlzT2JqZWN0KG9iamVjdCk/bmF0aXZlS2V5cyhvYmplY3QpOltdfTpzaGltS2V5cyxtZXJnZT1jcmVhdGVBc3NpZ25lcihiYXNlTWVyZ2UpO2xvZGFzaC5hc3NpZ249YXNzaWduLGxvZGFzaC5jYWxsYmFjaz1jYWxsYmFjayxsb2Rhc2guY29uc3RhbnQ9Y29uc3RhbnQsbG9kYXNoLmZvckVhY2g9Zm9yRWFjaCxsb2Rhc2gua2V5cz1rZXlzLGxvZGFzaC5rZXlzSW49a2V5c0luLGxvZGFzaC5tZXJnZT1tZXJnZSxsb2Rhc2gucHJvcGVydHk9cHJvcGVydHksbG9kYXNoLnJlamVjdD1yZWplY3QsbG9kYXNoLnJlc3RQYXJhbT1yZXN0UGFyYW0sbG9kYXNoLnNsaWNlPXNsaWNlLGxvZGFzaC50b1BsYWluT2JqZWN0PXRvUGxhaW5PYmplY3QsbG9kYXNoLnVuemlwPXVuemlwLGxvZGFzaC52YWx1ZXM9dmFsdWVzLGxvZGFzaC56aXA9emlwLGxvZGFzaC5lYWNoPWZvckVhY2gsbG9kYXNoLmV4dGVuZD1hc3NpZ24sbG9kYXNoLml0ZXJhdGVlPWNhbGxiYWNrLGxvZGFzaC5jbG9uZT1jbG9uZSxsb2Rhc2guZXNjYXBlUmVnRXhwPWVzY2FwZVJlZ0V4cCxsb2Rhc2guZmluZExhc3RJbmRleD1maW5kTGFzdEluZGV4LGxvZGFzaC5oYXM9aGFzLGxvZGFzaC5pZGVudGl0eT1pZGVudGl0eSxsb2Rhc2guaW5jbHVkZXM9aW5jbHVkZXMsbG9kYXNoLmluZGV4T2Y9aW5kZXhPZixsb2Rhc2guaXNBcmd1bWVudHM9aXNBcmd1bWVudHMsbG9kYXNoLmlzQXJyYXk9aXNBcnJheSxsb2Rhc2guaXNFbXB0eT1pc0VtcHR5LGxvZGFzaC5pc0Z1bmN0aW9uPWlzRnVuY3Rpb24sbG9kYXNoLmlzTmF0aXZlPWlzTmF0aXZlLGxvZGFzaC5pc051bWJlcj1pc051bWJlcixsb2Rhc2guaXNPYmplY3Q9aXNPYmplY3QsbG9kYXNoLmlzUGxhaW5PYmplY3Q9aXNQbGFpbk9iamVjdCxsb2Rhc2guaXNTdHJpbmc9aXNTdHJpbmcsbG9kYXNoLmlzVHlwZWRBcnJheT1pc1R5cGVkQXJyYXksbG9kYXNoLmxhc3Q9bGFzdCxsb2Rhc2guc29tZT1zb21lLGxvZGFzaC5hbnk9c29tZSxsb2Rhc2guY29udGFpbnM9aW5jbHVkZXMsbG9kYXNoLmluY2x1ZGU9aW5jbHVkZXMsbG9kYXNoLlZFUlNJT049VkVSU0lPTixmcmVlRXhwb3J0cyYmZnJlZU1vZHVsZT9tb2R1bGVFeHBvcnRzPyhmcmVlTW9kdWxlLmV4cG9ydHM9bG9kYXNoKS5fPWxvZGFzaDpmcmVlRXhwb3J0cy5fPWxvZGFzaDpyb290Ll89bG9kYXNoXFxufSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBzZWxmP3NlbGY6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvanNoaW50LmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7dmFyIF89X2RlcmVxXyhcXFwiLi4vbG9kYXNoXFxcIiksZXZlbnRzPV9kZXJlcV8oXFxcImV2ZW50c1xcXCIpLHZhcnM9X2RlcmVxXyhcXFwiLi92YXJzLmpzXFxcIiksbWVzc2FnZXM9X2RlcmVxXyhcXFwiLi9tZXNzYWdlcy5qc1xcXCIpLExleGVyPV9kZXJlcV8oXFxcIi4vbGV4LmpzXFxcIikuTGV4ZXIscmVnPV9kZXJlcV8oXFxcIi4vcmVnLmpzXFxcIiksc3RhdGU9X2RlcmVxXyhcXFwiLi9zdGF0ZS5qc1xcXCIpLnN0YXRlLHN0eWxlPV9kZXJlcV8oXFxcIi4vc3R5bGUuanNcXFwiKSxvcHRpb25zPV9kZXJlcV8oXFxcIi4vb3B0aW9ucy5qc1xcXCIpLHNjb3BlTWFuYWdlcj1fZGVyZXFfKFxcXCIuL3Njb3BlLW1hbmFnZXIuanNcXFwiKSxKU0hJTlQ9ZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gY2hlY2tPcHRpb24obmFtZSx0KXtyZXR1cm4gbmFtZT1uYW1lLnRyaW0oKSwvXlsrLV1XXFxcXGR7M30kL2cudGVzdChuYW1lKT8hMDotMSE9PW9wdGlvbnMudmFsaWROYW1lcy5pbmRleE9mKG5hbWUpfHxcXFwianNsaW50XFxcIj09PXQudHlwZXx8Xy5oYXMob3B0aW9ucy5yZW1vdmVkLG5hbWUpPyEwOihlcnJvcihcXFwiRTAwMVxcXCIsdCxuYW1lKSwhMSl9ZnVuY3Rpb24gaXNTdHJpbmcob2JqKXtyZXR1cm5cXFwiW29iamVjdCBTdHJpbmddXFxcIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopfWZ1bmN0aW9uIGlzSWRlbnRpZmllcih0a24sdmFsdWUpe3JldHVybiB0a24/dGtuLmlkZW50aWZpZXImJnRrbi52YWx1ZT09PXZhbHVlPyEwOiExOiExfWZ1bmN0aW9uIGlzUmVzZXJ2ZWQodG9rZW4pe2lmKCF0b2tlbi5yZXNlcnZlZClyZXR1cm4hMTt2YXIgbWV0YT10b2tlbi5tZXRhO2lmKG1ldGEmJm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJnN0YXRlLmluRVM1KCkpe2lmKCFtZXRhLmVzNSlyZXR1cm4hMTtpZihtZXRhLnN0cmljdE9ubHkmJiFzdGF0ZS5vcHRpb24uc3RyaWN0JiYhc3RhdGUuaXNTdHJpY3QoKSlyZXR1cm4hMTtpZih0b2tlbi5pc1Byb3BlcnR5KXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHN1cHBsYW50KHN0cixkYXRhKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFx7KFtee31dKilcXFxcfS9nLGZ1bmN0aW9uKGEsYil7dmFyIHI9ZGF0YVtiXTtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIHJ8fFxcXCJudW1iZXJcXFwiPT10eXBlb2Ygcj9yOmF9KX1mdW5jdGlvbiBjb21iaW5lKGRlc3Qsc3JjKXtPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7Xy5oYXMoSlNISU5ULmJsYWNrbGlzdCxuYW1lKXx8KGRlc3RbbmFtZV09c3JjW25hbWVdKX0pfWZ1bmN0aW9uIHByb2Nlc3NlbmZvcmNlYWxsKCl7aWYoc3RhdGUub3B0aW9uLmVuZm9yY2VhbGwpe2Zvcih2YXIgZW5mb3JjZW9wdCBpbiBvcHRpb25zLmJvb2wuZW5mb3JjaW5nKXZvaWQgMCE9PXN0YXRlLm9wdGlvbltlbmZvcmNlb3B0XXx8b3B0aW9ucy5ub2VuZm9yY2VhbGxbZW5mb3JjZW9wdF18fChzdGF0ZS5vcHRpb25bZW5mb3JjZW9wdF09ITApO2Zvcih2YXIgcmVsYXhvcHQgaW4gb3B0aW9ucy5ib29sLnJlbGF4aW5nKXZvaWQgMD09PXN0YXRlLm9wdGlvbltyZWxheG9wdF0mJihzdGF0ZS5vcHRpb25bcmVsYXhvcHRdPSExKX19ZnVuY3Rpb24gYXNzdW1lKCl7cHJvY2Vzc2VuZm9yY2VhbGwoKSxzdGF0ZS5vcHRpb24uZXN2ZXJzaW9ufHxzdGF0ZS5vcHRpb24ubW96fHwoc3RhdGUub3B0aW9uLmVzdmVyc2lvbj1zdGF0ZS5vcHRpb24uZXMzPzM6c3RhdGUub3B0aW9uLmVzbmV4dD82OjUpLHN0YXRlLmluRVM1KCkmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmVjbWFJZGVudGlmaWVyc1s1XSksc3RhdGUuaW5FUzYoKSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuZWNtYUlkZW50aWZpZXJzWzZdKSxzdGF0ZS5vcHRpb24ubW9kdWxlJiYoc3RhdGUub3B0aW9uLnN0cmljdD09PSEwJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIiksc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEzNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm1vZHVsZVxcXCIsNikpLHN0YXRlLm9wdGlvbi5jb3VjaCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuY291Y2gpLHN0YXRlLm9wdGlvbi5xdW5pdCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucXVuaXQpLHN0YXRlLm9wdGlvbi5yaGlubyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucmhpbm8pLHN0YXRlLm9wdGlvbi5zaGVsbGpzJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMuc2hlbGxqcyksY29tYmluZShwcmVkZWZpbmVkLHZhcnMubm9kZSkpLHN0YXRlLm9wdGlvbi50eXBlZCYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLHN0YXRlLm9wdGlvbi5waGFudG9tJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMucGhhbnRvbSksc3RhdGUub3B0aW9uLnN0cmljdD09PSEwJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIikpLHN0YXRlLm9wdGlvbi5wcm90b3R5cGVqcyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMucHJvdG90eXBlanMpLHN0YXRlLm9wdGlvbi5ub2RlJiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMubm9kZSksY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpKSxzdGF0ZS5vcHRpb24uZGV2ZWwmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmRldmVsKSxzdGF0ZS5vcHRpb24uZG9qbyYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuZG9qbyksc3RhdGUub3B0aW9uLmJyb3dzZXImJihjb21iaW5lKHByZWRlZmluZWQsdmFycy5icm93c2VyKSxjb21iaW5lKHByZWRlZmluZWQsdmFycy50eXBlZCkpLHN0YXRlLm9wdGlvbi5icm93c2VyaWZ5JiYoY29tYmluZShwcmVkZWZpbmVkLHZhcnMuYnJvd3NlciksY29tYmluZShwcmVkZWZpbmVkLHZhcnMudHlwZWQpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmJyb3dzZXJpZnkpLHN0YXRlLm9wdGlvbi5zdHJpY3Q9PT0hMCYmKHN0YXRlLm9wdGlvbi5zdHJpY3Q9XFxcImdsb2JhbFxcXCIpKSxzdGF0ZS5vcHRpb24ubm9uc3RhbmRhcmQmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm5vbnN0YW5kYXJkKSxzdGF0ZS5vcHRpb24uamFzbWluZSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuamFzbWluZSksc3RhdGUub3B0aW9uLmpxdWVyeSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMuanF1ZXJ5KSxzdGF0ZS5vcHRpb24ubW9vdG9vbHMmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm1vb3Rvb2xzKSxzdGF0ZS5vcHRpb24ud29ya2VyJiZjb21iaW5lKHByZWRlZmluZWQsdmFycy53b3JrZXIpLHN0YXRlLm9wdGlvbi53c2gmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLndzaCksc3RhdGUub3B0aW9uLmdsb2JhbHN0cmljdCYmc3RhdGUub3B0aW9uLnN0cmljdCE9PSExJiYoc3RhdGUub3B0aW9uLnN0cmljdD1cXFwiZ2xvYmFsXFxcIiksc3RhdGUub3B0aW9uLnl1aSYmY29tYmluZShwcmVkZWZpbmVkLHZhcnMueXVpKSxzdGF0ZS5vcHRpb24ubW9jaGEmJmNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLm1vY2hhKX1mdW5jdGlvbiBxdWl0KGNvZGUsbGluZSxjaHIpe3ZhciBwZXJjZW50YWdlPU1hdGguZmxvb3IoMTAwKihsaW5lL3N0YXRlLmxpbmVzLmxlbmd0aCkpLG1lc3NhZ2U9bWVzc2FnZXMuZXJyb3JzW2NvZGVdLmRlc2M7dGhyb3d7bmFtZTpcXFwiSlNIaW50RXJyb3JcXFwiLGxpbmU6bGluZSxjaGFyYWN0ZXI6Y2hyLG1lc3NhZ2U6bWVzc2FnZStcXFwiIChcXFwiK3BlcmNlbnRhZ2UrXFxcIiUgc2Nhbm5lZCkuXFxcIixyYXc6bWVzc2FnZSxjb2RlOmNvZGV9fWZ1bmN0aW9uIHJlbW92ZUlnbm9yZWRNZXNzYWdlcygpe3ZhciBpZ25vcmVkPXN0YXRlLmlnbm9yZWRMaW5lcztfLmlzRW1wdHkoaWdub3JlZCl8fChKU0hJTlQuZXJyb3JzPV8ucmVqZWN0KEpTSElOVC5lcnJvcnMsZnVuY3Rpb24oZXJyKXtyZXR1cm4gaWdub3JlZFtlcnIubGluZV19KSl9ZnVuY3Rpb24gd2FybmluZyhjb2RlLHQsYSxiLGMsZCl7dmFyIGNoLGwsdyxtc2c7aWYoL15XXFxcXGR7M30kLy50ZXN0KGNvZGUpKXtpZihzdGF0ZS5pZ25vcmVkW2NvZGVdKXJldHVybjttc2c9bWVzc2FnZXMud2FybmluZ3NbY29kZV19ZWxzZS9FXFxcXGR7M30vLnRlc3QoY29kZSk/bXNnPW1lc3NhZ2VzLmVycm9yc1tjb2RlXTovSVxcXFxkezN9Ly50ZXN0KGNvZGUpJiYobXNnPW1lc3NhZ2VzLmluZm9bY29kZV0pO3JldHVybiB0PXR8fHN0YXRlLnRva2Vucy5uZXh0fHx7fSxcXFwiKGVuZClcXFwiPT09dC5pZCYmKHQ9c3RhdGUudG9rZW5zLmN1cnIpLGw9dC5saW5lfHwwLGNoPXQuZnJvbXx8MCx3PXtpZDpcXFwiKGVycm9yKVxcXCIscmF3Om1zZy5kZXNjLGNvZGU6bXNnLmNvZGUsZXZpZGVuY2U6c3RhdGUubGluZXNbbC0xXXx8XFxcIlxcXCIsbGluZTpsLGNoYXJhY3RlcjpjaCxzY29wZTpKU0hJTlQuc2NvcGUsYTphLGI6YixjOmMsZDpkfSx3LnJlYXNvbj1zdXBwbGFudChtc2cuZGVzYyx3KSxKU0hJTlQuZXJyb3JzLnB1c2godykscmVtb3ZlSWdub3JlZE1lc3NhZ2VzKCksSlNISU5ULmVycm9ycy5sZW5ndGg+PXN0YXRlLm9wdGlvbi5tYXhlcnImJnF1aXQoXFxcIkUwNDNcXFwiLGwsY2gpLHd9ZnVuY3Rpb24gd2FybmluZ0F0KG0sbCxjaCxhLGIsYyxkKXtyZXR1cm4gd2FybmluZyhtLHtsaW5lOmwsZnJvbTpjaH0sYSxiLGMsZCl9ZnVuY3Rpb24gZXJyb3IobSx0LGEsYixjLGQpe3dhcm5pbmcobSx0LGEsYixjLGQpfWZ1bmN0aW9uIGVycm9yQXQobSxsLGNoLGEsYixjLGQpe3JldHVybiBlcnJvcihtLHtsaW5lOmwsZnJvbTpjaH0sYSxiLGMsZCl9ZnVuY3Rpb24gYWRkSW50ZXJuYWxTcmMoZWxlbSxzcmMpe3ZhciBpO3JldHVybiBpPXtpZDpcXFwiKGludGVybmFsKVxcXCIsZWxlbTplbGVtLHZhbHVlOnNyY30sSlNISU5ULmludGVybmFscy5wdXNoKGkpLGl9ZnVuY3Rpb24gZG9PcHRpb24oKXt2YXIgbnQ9c3RhdGUudG9rZW5zLm5leHQsYm9keT1udC5ib2R5Lm1hdGNoKC8oLVxcXFxzKyk/W15cXFxccyw6XSsoPzpcXFxccyo6XFxcXHMqKC1cXFxccyspP1teXFxcXHMsXSspPy9nKXx8W10scHJlZGVmPXt9O2lmKFxcXCJnbG9iYWxzXFxcIj09PW50LnR5cGUpe2JvZHkuZm9yRWFjaChmdW5jdGlvbihnLGlkeCl7Zz1nLnNwbGl0KFxcXCI6XFxcIik7dmFyIGtleT0oZ1swXXx8XFxcIlxcXCIpLnRyaW0oKSx2YWw9KGdbMV18fFxcXCJcXFwiKS50cmltKCk7aWYoXFxcIi1cXFwiPT09a2V5fHwha2V5Lmxlbmd0aCl7aWYoaWR4PjAmJmlkeD09PWJvZHkubGVuZ3RoLTEpcmV0dXJuO3JldHVybiBlcnJvcihcXFwiRTAwMlxcXCIsbnQpLHZvaWQgMH1cXFwiLVxcXCI9PT1rZXkuY2hhckF0KDApPyhrZXk9a2V5LnNsaWNlKDEpLHZhbD0hMSxKU0hJTlQuYmxhY2tsaXN0W2tleV09a2V5LGRlbGV0ZSBwcmVkZWZpbmVkW2tleV0pOnByZWRlZltrZXldPVxcXCJ0cnVlXFxcIj09PXZhbH0pLGNvbWJpbmUocHJlZGVmaW5lZCxwcmVkZWYpO2Zvcih2YXIga2V5IGluIHByZWRlZilfLmhhcyhwcmVkZWYsa2V5KSYmKGRlY2xhcmVkW2tleV09bnQpfVxcXCJleHBvcnRlZFxcXCI9PT1udC50eXBlJiZib2R5LmZvckVhY2goZnVuY3Rpb24oZSxpZHgpe2lmKCFlLmxlbmd0aCl7aWYoaWR4PjAmJmlkeD09PWJvZHkubGVuZ3RoLTEpcmV0dXJuO3JldHVybiBlcnJvcihcXFwiRTAwMlxcXCIsbnQpLHZvaWQgMH1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZEV4cG9ydGVkKGUpfSksXFxcIm1lbWJlcnNcXFwiPT09bnQudHlwZSYmKG1lbWJlcnNPbmx5PW1lbWJlcnNPbmx5fHx7fSxib2R5LmZvckVhY2goZnVuY3Rpb24obSl7dmFyIGNoMT1tLmNoYXJBdCgwKSxjaDI9bS5jaGFyQXQobS5sZW5ndGgtMSk7Y2gxIT09Y2gyfHwnXFxcIichPT1jaDEmJlxcXCInXFxcIiE9PWNoMXx8KG09bS5zdWJzdHIoMSxtLmxlbmd0aC0yKS5yZXBsYWNlKCdcXFxcXFxcXFxcXCInLCdcXFwiJykpLG1lbWJlcnNPbmx5W21dPSExfSkpO3ZhciBudW12YWxzPVtcXFwibWF4c3RhdGVtZW50c1xcXCIsXFxcIm1heHBhcmFtc1xcXCIsXFxcIm1heGRlcHRoXFxcIixcXFwibWF4Y29tcGxleGl0eVxcXCIsXFxcIm1heGVyclxcXCIsXFxcIm1heGxlblxcXCIsXFxcImluZGVudFxcXCJdOyhcXFwianNoaW50XFxcIj09PW50LnR5cGV8fFxcXCJqc2xpbnRcXFwiPT09bnQudHlwZSkmJihib2R5LmZvckVhY2goZnVuY3Rpb24oZyl7Zz1nLnNwbGl0KFxcXCI6XFxcIik7dmFyIGtleT0oZ1swXXx8XFxcIlxcXCIpLnRyaW0oKSx2YWw9KGdbMV18fFxcXCJcXFwiKS50cmltKCk7aWYoY2hlY2tPcHRpb24oa2V5LG50KSlpZihudW12YWxzLmluZGV4T2Yoa2V5KT49MClpZihcXFwiZmFsc2VcXFwiIT09dmFsKXtpZih2YWw9K3ZhbCxcXFwibnVtYmVyXFxcIiE9dHlwZW9mIHZhbHx8IWlzRmluaXRlKHZhbCl8fDA+PXZhbHx8TWF0aC5mbG9vcih2YWwpIT09dmFsKXJldHVybiBlcnJvcihcXFwiRTAzMlxcXCIsbnQsZ1sxXS50cmltKCkpLHZvaWQgMDtzdGF0ZS5vcHRpb25ba2V5XT12YWx9ZWxzZSBzdGF0ZS5vcHRpb25ba2V5XT1cXFwiaW5kZW50XFxcIj09PWtleT80OiExO2Vsc2V7aWYoXFxcInZhbGlkdGhpc1xcXCI9PT1rZXkpcmV0dXJuIHN0YXRlLmZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdP3ZvaWQgZXJyb3IoXFxcIkUwMDlcXFwiKTpcXFwidHJ1ZVxcXCIhPT12YWwmJlxcXCJmYWxzZVxcXCIhPT12YWw/dm9pZCBlcnJvcihcXFwiRTAwMlxcXCIsbnQpOihzdGF0ZS5vcHRpb24udmFsaWR0aGlzPVxcXCJ0cnVlXFxcIj09PXZhbCx2b2lkIDApO2lmKFxcXCJxdW90bWFya1xcXCIhPT1rZXkpaWYoXFxcInNoYWRvd1xcXCIhPT1rZXkpaWYoXFxcInVudXNlZFxcXCIhPT1rZXkpaWYoXFxcImxhdGVkZWZcXFwiIT09a2V5KWlmKFxcXCJpZ25vcmVcXFwiIT09a2V5KWlmKFxcXCJzdHJpY3RcXFwiIT09a2V5KXtcXFwibW9kdWxlXFxcIj09PWtleSYmKGhhc1BhcnNlZENvZGUoc3RhdGUuZnVuY3QpfHxlcnJvcihcXFwiRTA1NVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm1vZHVsZVxcXCIpKTt2YXIgZXN2ZXJzaW9ucz17ZXMzOjMsZXM1OjUsZXNuZXh0OjZ9O2lmKCFfLmhhcyhlc3ZlcnNpb25zLGtleSkpe2lmKFxcXCJlc3ZlcnNpb25cXFwiPT09a2V5KXtzd2l0Y2godmFsKXtjYXNlXFxcIjVcXFwiOnN0YXRlLmluRVM1KCEwKSYmd2FybmluZyhcXFwiSTAwM1xcXCIpO2Nhc2VcXFwiM1xcXCI6Y2FzZVxcXCI2XFxcIjpzdGF0ZS5vcHRpb24ubW96PSExLHN0YXRlLm9wdGlvbi5lc3ZlcnNpb249K3ZhbDticmVhaztjYXNlXFxcIjIwMTVcXFwiOnN0YXRlLm9wdGlvbi5tb3o9ITEsc3RhdGUub3B0aW9uLmVzdmVyc2lvbj02O2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkUwMDJcXFwiLG50KX1yZXR1cm4gaGFzUGFyc2VkQ29kZShzdGF0ZS5mdW5jdCl8fGVycm9yKFxcXCJFMDU1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwiZXN2ZXJzaW9uXFxcIiksdm9pZCAwfXZhciBtYXRjaD0vXihbKy1dKShXXFxcXGR7M30pJC9nLmV4ZWMoa2V5KTtpZihtYXRjaClyZXR1cm4gc3RhdGUuaWdub3JlZFttYXRjaFsyXV09XFxcIi1cXFwiPT09bWF0Y2hbMV0sdm9pZCAwO3ZhciB0bjtyZXR1cm5cXFwidHJ1ZVxcXCI9PT12YWx8fFxcXCJmYWxzZVxcXCI9PT12YWw/KFxcXCJqc2xpbnRcXFwiPT09bnQudHlwZT8odG49b3B0aW9ucy5yZW5hbWVkW2tleV18fGtleSxzdGF0ZS5vcHRpb25bdG5dPVxcXCJ0cnVlXFxcIj09PXZhbCx2b2lkIDAhPT1vcHRpb25zLmludmVydGVkW3RuXSYmKHN0YXRlLm9wdGlvblt0bl09IXN0YXRlLm9wdGlvblt0bl0pKTpzdGF0ZS5vcHRpb25ba2V5XT1cXFwidHJ1ZVxcXCI9PT12YWwsXFxcIm5ld2NhcFxcXCI9PT1rZXkmJihzdGF0ZS5vcHRpb25bXFxcIihleHBsaWNpdE5ld2NhcClcXFwiXT0hMCksdm9pZCAwKTooZXJyb3IoXFxcIkUwMDJcXFwiLG50KSx2b2lkIDApfXN3aXRjaCh2YWwpe2Nhc2VcXFwidHJ1ZVxcXCI6c3RhdGUub3B0aW9uLm1vej0hMSxzdGF0ZS5vcHRpb24uZXN2ZXJzaW9uPWVzdmVyc2lvbnNba2V5XTticmVhaztjYXNlXFxcImZhbHNlXFxcIjpzdGF0ZS5vcHRpb24ubW96fHwoc3RhdGUub3B0aW9uLmVzdmVyc2lvbj01KTticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9fWVsc2Ugc3dpdGNoKHZhbCl7Y2FzZVxcXCJ0cnVlXFxcIjpzdGF0ZS5vcHRpb24uc3RyaWN0PSEwO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5zdHJpY3Q9ITE7YnJlYWs7Y2FzZVxcXCJmdW5jXFxcIjpjYXNlXFxcImdsb2JhbFxcXCI6Y2FzZVxcXCJpbXBsaWVkXFxcIjpzdGF0ZS5vcHRpb24uc3RyaWN0PXZhbDticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcImxpbmVcXFwiOnN0YXRlLmlnbm9yZWRMaW5lc1tudC5saW5lXT0hMCxyZW1vdmVJZ25vcmVkTWVzc2FnZXMoKTticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi5sYXRlZGVmPSEwO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5sYXRlZGVmPSExO2JyZWFrO2Nhc2VcXFwibm9mdW5jXFxcIjpzdGF0ZS5vcHRpb24ubGF0ZWRlZj1cXFwibm9mdW5jXFxcIjticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi51bnVzZWQ9ITA7YnJlYWs7Y2FzZVxcXCJmYWxzZVxcXCI6c3RhdGUub3B0aW9uLnVudXNlZD0hMTticmVhaztjYXNlXFxcInZhcnNcXFwiOmNhc2VcXFwic3RyaWN0XFxcIjpzdGF0ZS5vcHRpb24udW51c2VkPXZhbDticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOnN0YXRlLm9wdGlvbi5zaGFkb3c9ITA7YnJlYWs7Y2FzZVxcXCJvdXRlclxcXCI6c3RhdGUub3B0aW9uLnNoYWRvdz1cXFwib3V0ZXJcXFwiO2JyZWFrO2Nhc2VcXFwiZmFsc2VcXFwiOmNhc2VcXFwiaW5uZXJcXFwiOnN0YXRlLm9wdGlvbi5zaGFkb3c9XFxcImlubmVyXFxcIjticmVhaztkZWZhdWx0OmVycm9yKFxcXCJFMDAyXFxcIixudCl9ZWxzZSBzd2l0Y2godmFsKXtjYXNlXFxcInRydWVcXFwiOmNhc2VcXFwiZmFsc2VcXFwiOnN0YXRlLm9wdGlvbi5xdW90bWFyaz1cXFwidHJ1ZVxcXCI9PT12YWw7YnJlYWs7Y2FzZVxcXCJkb3VibGVcXFwiOmNhc2VcXFwic2luZ2xlXFxcIjpzdGF0ZS5vcHRpb24ucXVvdG1hcms9dmFsO2JyZWFrO2RlZmF1bHQ6ZXJyb3IoXFxcIkUwMDJcXFwiLG50KX19fSksYXNzdW1lKCkpfWZ1bmN0aW9uIHBlZWsocCl7dmFyIHQsaT1wfHwwLGo9bG9va2FoZWFkLmxlbmd0aDtpZihqPmkpcmV0dXJuIGxvb2thaGVhZFtpXTtmb3IoO2k+PWo7KXQ9bG9va2FoZWFkW2pdLHR8fCh0PWxvb2thaGVhZFtqXT1sZXgudG9rZW4oKSksais9MTtyZXR1cm4gdHx8XFxcIihlbmQpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkP3Q6c3RhdGUudG9rZW5zLm5leHR9ZnVuY3Rpb24gcGVla0lnbm9yZUVPTCgpe3ZhciB0LGk9MDtkbyB0PXBlZWsoaSsrKTt3aGlsZShcXFwiKGVuZGxpbmUpXFxcIj09PXQuaWQpO3JldHVybiB0fWZ1bmN0aW9uIGFkdmFuY2UoaWQsdCl7c3dpdGNoKHN0YXRlLnRva2Vucy5jdXJyLmlkKXtjYXNlXFxcIihudW1iZXIpXFxcIjpcXFwiLlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzAwNVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2JyZWFrO2Nhc2VcXFwiLVxcXCI6KFxcXCItXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiLS1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpJiZ3YXJuaW5nKFxcXCJXMDA2XFxcIik7YnJlYWs7Y2FzZVxcXCIrXFxcIjooXFxcIitcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCIrK1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCkmJndhcm5pbmcoXFxcIlcwMDdcXFwiKX1mb3IoaWQmJnN0YXRlLnRva2Vucy5uZXh0LmlkIT09aWQmJih0P1xcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD9lcnJvcihcXFwiRTAxOVxcXCIsdCx0LmlkKTplcnJvcihcXFwiRTAyMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsaWQsdC5pZCx0LmxpbmUsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpOihcXFwiKGlkZW50aWZpZXIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnR5cGV8fHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlIT09aWQpJiZ3YXJuaW5nKFxcXCJXMTE2XFxcIixzdGF0ZS50b2tlbnMubmV4dCxpZCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSkpLHN0YXRlLnRva2Vucy5wcmV2PXN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyPXN0YXRlLnRva2Vucy5uZXh0Ozspe2lmKHN0YXRlLnRva2Vucy5uZXh0PWxvb2thaGVhZC5zaGlmdCgpfHxsZXgudG9rZW4oKSxzdGF0ZS50b2tlbnMubmV4dHx8cXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxcXFwiKGVycm9yKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClyZXR1cm47aWYoc3RhdGUudG9rZW5zLm5leHQuY2hlY2smJnN0YXRlLnRva2Vucy5uZXh0LmNoZWNrKCksc3RhdGUudG9rZW5zLm5leHQuaXNTcGVjaWFsKVxcXCJmYWxscyB0aHJvdWdoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/c3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaD0hMDpkb09wdGlvbigpO2Vsc2UgaWYoXFxcIihlbmRsaW5lKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVha319ZnVuY3Rpb24gaXNJbmZpeCh0b2tlbil7cmV0dXJuIHRva2VuLmluZml4fHwhdG9rZW4uaWRlbnRpZmllciYmIXRva2VuLnRlbXBsYXRlJiYhIXRva2VuLmxlZH1mdW5jdGlvbiBpc0VuZE9mRXhwcigpe3ZhciBjdXJyPXN0YXRlLnRva2Vucy5jdXJyLG5leHQ9c3RhdGUudG9rZW5zLm5leHQ7cmV0dXJuXFxcIjtcXFwiPT09bmV4dC5pZHx8XFxcIn1cXFwiPT09bmV4dC5pZHx8XFxcIjpcXFwiPT09bmV4dC5pZD8hMDppc0luZml4KG5leHQpPT09aXNJbmZpeChjdXJyKXx8XFxcInlpZWxkXFxcIj09PWN1cnIuaWQmJnN0YXRlLmluTW96KCk/Y3Vyci5saW5lIT09c3RhcnRMaW5lKG5leHQpOiExfWZ1bmN0aW9uIGlzQmVnaW5PZkV4cHIocHJldil7cmV0dXJuIXByZXYubGVmdCYmXFxcInVuYXJ5XFxcIiE9PXByZXYuYXJpdHl9ZnVuY3Rpb24gZXhwcmVzc2lvbihyYnAsaW5pdGlhbCl7dmFyIGxlZnQsaXNBcnJheT0hMSxpc09iamVjdD0hMSxpc0xldEV4cHI9ITE7c3RhdGUubmFtZVN0YWNrLnB1c2goKSxpbml0aWFsfHxcXFwibGV0XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlfHxcXFwiKFxcXCIhPT1wZWVrKDApLnZhbHVlfHwoc3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImxldCBleHByZXNzaW9uc1xcXCIpLGlzTGV0RXhwcj0hMCxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnN0YWNrKCksYWR2YW5jZShcXFwibGV0XFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLnRva2Vucy5wcmV2LmZ1ZCgpLGFkdmFuY2UoXFxcIilcXFwiKSksXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiRTAwNlxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO3ZhciBpc0Rhbmdlcm91cz1zdGF0ZS5vcHRpb24uYXNpJiZzdGF0ZS50b2tlbnMucHJldi5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5jdXJyKSYmXy5jb250YWlucyhbXFxcIl1cXFwiLFxcXCIpXFxcIl0sc3RhdGUudG9rZW5zLnByZXYuaWQpJiZfLmNvbnRhaW5zKFtcXFwiW1xcXCIsXFxcIihcXFwiXSxzdGF0ZS50b2tlbnMuY3Vyci5pZCk7aWYoaXNEYW5nZXJvdXMmJndhcm5pbmcoXFxcIlcwMTRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLmlkKSxhZHZhbmNlKCksaW5pdGlhbCYmKHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXT1zdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSxzdGF0ZS50b2tlbnMuY3Vyci5iZWdpbnNTdG10PSEwKSxpbml0aWFsPT09ITAmJnN0YXRlLnRva2Vucy5jdXJyLmZ1ZClsZWZ0PXN0YXRlLnRva2Vucy5jdXJyLmZ1ZCgpO2Vsc2UgZm9yKHN0YXRlLnRva2Vucy5jdXJyLm51ZD9sZWZ0PXN0YXRlLnRva2Vucy5jdXJyLm51ZCgpOmVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCk7KHN0YXRlLnRva2Vucy5uZXh0LmxicD5yYnB8fFxcXCIodGVtcGxhdGUpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpJiYhaXNFbmRPZkV4cHIoKTspaXNBcnJheT1cXFwiQXJyYXlcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUsaXNPYmplY3Q9XFxcIk9iamVjdFxcXCI9PT1zdGF0ZS50b2tlbnMuY3Vyci52YWx1ZSxsZWZ0JiYobGVmdC52YWx1ZXx8bGVmdC5maXJzdCYmbGVmdC5maXJzdC52YWx1ZSkmJihcXFwibmV3XFxcIiE9PWxlZnQudmFsdWV8fGxlZnQuZmlyc3QmJmxlZnQuZmlyc3QudmFsdWUmJlxcXCIuXFxcIj09PWxlZnQuZmlyc3QudmFsdWUpJiYoaXNBcnJheT0hMSxsZWZ0LnZhbHVlIT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWUmJihpc09iamVjdD0hMSkpLGFkdmFuY2UoKSxpc0FycmF5JiZcXFwiKFxcXCI9PT1zdGF0ZS50b2tlbnMuY3Vyci5pZCYmXFxcIilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwMDlcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxpc09iamVjdCYmXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIuaWQmJlxcXCIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDEwXFxcIixzdGF0ZS50b2tlbnMuY3VyciksbGVmdCYmc3RhdGUudG9rZW5zLmN1cnIubGVkP2xlZnQ9c3RhdGUudG9rZW5zLmN1cnIubGVkKGxlZnQpOmVycm9yKFxcXCJFMDMzXFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCk7cmV0dXJuIGlzTGV0RXhwciYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksc3RhdGUubmFtZVN0YWNrLnBvcCgpLGxlZnR9ZnVuY3Rpb24gc3RhcnRMaW5lKHRva2VuKXtyZXR1cm4gdG9rZW4uc3RhcnRMaW5lfHx0b2tlbi5saW5lfWZ1bmN0aW9uIG5vYnJlYWtub25hZGphY2VudChsZWZ0LHJpZ2h0KXtsZWZ0PWxlZnR8fHN0YXRlLnRva2Vucy5jdXJyLHJpZ2h0PXJpZ2h0fHxzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS5vcHRpb24ubGF4YnJlYWt8fGxlZnQubGluZT09PXN0YXJ0TGluZShyaWdodCl8fHdhcm5pbmcoXFxcIlcwMTRcXFwiLHJpZ2h0LHJpZ2h0LnZhbHVlKX1mdW5jdGlvbiBub2xpbmVicmVhayh0KXt0PXR8fHN0YXRlLnRva2Vucy5jdXJyLHQubGluZSE9PXN0YXJ0TGluZShzdGF0ZS50b2tlbnMubmV4dCkmJndhcm5pbmcoXFxcIkUwMjJcXFwiLHQsdC52YWx1ZSl9ZnVuY3Rpb24gbm9icmVha2NvbW1hKGxlZnQscmlnaHQpe2xlZnQubGluZSE9PXN0YXJ0TGluZShyaWdodCkmJihzdGF0ZS5vcHRpb24ubGF4Y29tbWF8fChjb21tYS5maXJzdCYmKHdhcm5pbmcoXFxcIkkwMDFcXFwiKSxjb21tYS5maXJzdD0hMSksd2FybmluZyhcXFwiVzAxNFxcXCIsbGVmdCxyaWdodC52YWx1ZSkpKX1mdW5jdGlvbiBjb21tYShvcHRzKXtpZihvcHRzPW9wdHN8fHt9LG9wdHMucGVlaz9ub2JyZWFrY29tbWEoc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLmN1cnIpOihub2JyZWFrY29tbWEoc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLm5leHQpLGFkdmFuY2UoXFxcIixcXFwiKSksc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmKCFvcHRzLnByb3BlcnR5fHwhc3RhdGUuaW5FUzUoKSkpc3dpdGNoKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtjYXNlXFxcImJyZWFrXFxcIjpjYXNlXFxcImNhc2VcXFwiOmNhc2VcXFwiY2F0Y2hcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwiZGVmYXVsdFxcXCI6Y2FzZVxcXCJkb1xcXCI6Y2FzZVxcXCJlbHNlXFxcIjpjYXNlXFxcImZpbmFsbHlcXFwiOmNhc2VcXFwiZm9yXFxcIjpjYXNlXFxcImlmXFxcIjpjYXNlXFxcImluXFxcIjpjYXNlXFxcImluc3RhbmNlb2ZcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInN3aXRjaFxcXCI6Y2FzZVxcXCJ0aHJvd1xcXCI6Y2FzZVxcXCJ0cnlcXFwiOmNhc2VcXFwidmFyXFxcIjpjYXNlXFxcImxldFxcXCI6Y2FzZVxcXCJ3aGlsZVxcXCI6Y2FzZVxcXCJ3aXRoXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSwhMX1pZihcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUpc3dpdGNoKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXtjYXNlXFxcIn1cXFwiOmNhc2VcXFwiXVxcXCI6Y2FzZVxcXCIsXFxcIjppZihvcHRzLmFsbG93VHJhaWxpbmcpcmV0dXJuITA7Y2FzZVxcXCIpXFxcIjpyZXR1cm4gZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSwhMX1yZXR1cm4hMH1mdW5jdGlvbiBzeW1ib2wocyxwKXt2YXIgeD1zdGF0ZS5zeW50YXhbc107cmV0dXJuIHgmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgeHx8KHN0YXRlLnN5bnRheFtzXT14PXtpZDpzLGxicDpwLHZhbHVlOnN9KSx4fWZ1bmN0aW9uIGRlbGltKHMpe3ZhciB4PXN5bWJvbChzLDApO3JldHVybiB4LmRlbGltPSEwLHh9ZnVuY3Rpb24gc3RtdChzLGYpe3ZhciB4PWRlbGltKHMpO3JldHVybiB4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCx4LmZ1ZD1mLHh9ZnVuY3Rpb24gYmxvY2tzdG10KHMsZil7dmFyIHg9c3RtdChzLGYpO3JldHVybiB4LmJsb2NrPSEwLHh9ZnVuY3Rpb24gcmVzZXJ2ZU5hbWUoeCl7dmFyIGM9eC5pZC5jaGFyQXQoMCk7cmV0dXJuKGM+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jfHxjPj1cXFwiQVxcXCImJlxcXCJaXFxcIj49YykmJih4LmlkZW50aWZpZXI9eC5yZXNlcnZlZD0hMCkseH1mdW5jdGlvbiBwcmVmaXgocyxmKXt2YXIgeD1zeW1ib2wocywxNTApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4Lm51ZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSwoXFxcIisrXFxcIj09PXRoaXMuaWR8fFxcXCItLVxcXCI9PT10aGlzLmlkKSYmKHN0YXRlLm9wdGlvbi5wbHVzcGx1cz93YXJuaW5nKFxcXCJXMDE2XFxcIix0aGlzLHRoaXMuaWQpOiF0aGlzLnJpZ2h0fHx0aGlzLnJpZ2h0LmlkZW50aWZpZXImJiFpc1Jlc2VydmVkKHRoaXMucmlnaHQpfHxcXFwiLlxcXCI9PT10aGlzLnJpZ2h0LmlkfHxcXFwiW1xcXCI9PT10aGlzLnJpZ2h0LmlkfHx3YXJuaW5nKFxcXCJXMDE3XFxcIix0aGlzKSx0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmlzTWV0YVByb3BlcnR5P2Vycm9yKFxcXCJFMDMxXFxcIix0aGlzKTp0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmlkZW50aWZpZXImJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2subW9kaWZ5KHRoaXMucmlnaHQudmFsdWUsdGhpcykpLHRoaXN9LHh9ZnVuY3Rpb24gdHlwZShzLGYpe3ZhciB4PWRlbGltKHMpO3JldHVybiB4LnR5cGU9cyx4Lm51ZD1mLHh9ZnVuY3Rpb24gcmVzZXJ2ZShuYW1lLGZ1bmMpe3ZhciB4PXR5cGUobmFtZSxmdW5jKTtyZXR1cm4geC5pZGVudGlmaWVyPSEwLHgucmVzZXJ2ZWQ9ITAseH1mdW5jdGlvbiBGdXR1cmVSZXNlcnZlZFdvcmQobmFtZSxtZXRhKXt2YXIgeD10eXBlKG5hbWUsbWV0YSYmbWV0YS5udWR8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KTtyZXR1cm4gbWV0YT1tZXRhfHx7fSxtZXRhLmlzRnV0dXJlUmVzZXJ2ZWRXb3JkPSEwLHgudmFsdWU9bmFtZSx4LmlkZW50aWZpZXI9ITAseC5yZXNlcnZlZD0hMCx4Lm1ldGE9bWV0YSx4fWZ1bmN0aW9uIHJlc2VydmV2YXIocyx2KXtyZXR1cm4gcmVzZXJ2ZShzLGZ1bmN0aW9uKCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHYmJnYodGhpcyksdGhpc30pfWZ1bmN0aW9uIGluZml4KHMsZixwLHcpe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmluZml4PSEwLHgubGVkPWZ1bmN0aW9uKGxlZnQpe3JldHVybiB3fHxub2JyZWFrbm9uYWRqYWNlbnQoc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLmN1cnIpLFxcXCJpblxcXCIhPT1zJiZcXFwiaW5zdGFuY2VvZlxcXCIhPT1zfHxcXFwiIVxcXCIhPT1sZWZ0LmlkfHx3YXJuaW5nKFxcXCJXMDE4XFxcIixsZWZ0LFxcXCIhXFxcIiksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGY/ZihsZWZ0LHRoaXMpOih0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24ocCksdGhpcyl9LHh9ZnVuY3Rpb24gYXBwbGljYXRpb24ocyl7dmFyIHg9c3ltYm9sKHMsNDIpO3JldHVybiB4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gbm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWRvRnVuY3Rpb24oe3R5cGU6XFxcImFycm93XFxcIixsb25lQXJnOmxlZnR9KSx0aGlzfSx4fWZ1bmN0aW9uIHJlbGF0aW9uKHMsZil7dmFyIHg9c3ltYm9sKHMsMTAwKTtyZXR1cm4geC5sZWQ9ZnVuY3Rpb24obGVmdCl7bm9icmVha25vbmFkamFjZW50KHN0YXRlLnRva2Vucy5wcmV2LHN0YXRlLnRva2Vucy5jdXJyKSx0aGlzLmxlZnQ9bGVmdDt2YXIgcmlnaHQ9dGhpcy5yaWdodD1leHByZXNzaW9uKDEwMCk7cmV0dXJuIGlzSWRlbnRpZmllcihsZWZ0LFxcXCJOYU5cXFwiKXx8aXNJZGVudGlmaWVyKHJpZ2h0LFxcXCJOYU5cXFwiKT93YXJuaW5nKFxcXCJXMDE5XFxcIix0aGlzKTpmJiZmLmFwcGx5KHRoaXMsW2xlZnQscmlnaHRdKSxsZWZ0JiZyaWdodHx8cXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksXFxcIiFcXFwiPT09bGVmdC5pZCYmd2FybmluZyhcXFwiVzAxOFxcXCIsbGVmdCxcXFwiIVxcXCIpLFxcXCIhXFxcIj09PXJpZ2h0LmlkJiZ3YXJuaW5nKFxcXCJXMDE4XFxcIixyaWdodCxcXFwiIVxcXCIpLHRoaXN9LHh9ZnVuY3Rpb24gaXNQb29yUmVsYXRpb24obm9kZSl7cmV0dXJuIG5vZGUmJihcXFwiKG51bWJlcilcXFwiPT09bm9kZS50eXBlJiYwPT09K25vZGUudmFsdWV8fFxcXCIoc3RyaW5nKVxcXCI9PT1ub2RlLnR5cGUmJlxcXCJcXFwiPT09bm9kZS52YWx1ZXx8XFxcIm51bGxcXFwiPT09bm9kZS50eXBlJiYhc3RhdGUub3B0aW9uLmVxbnVsbHx8XFxcInRydWVcXFwiPT09bm9kZS50eXBlfHxcXFwiZmFsc2VcXFwiPT09bm9kZS50eXBlfHxcXFwidW5kZWZpbmVkXFxcIj09PW5vZGUudHlwZSl9ZnVuY3Rpb24gaXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpe3ZhciB2YWx1ZXM7cmV0dXJuIHN0YXRlLm9wdGlvbi5ub3R5cGVvZj8hMTpsZWZ0JiZyaWdodD8odmFsdWVzPXN0YXRlLmluRVM2KCk/dHlwZW9mVmFsdWVzLmVzNjp0eXBlb2ZWYWx1ZXMuZXMzLFxcXCIoaWRlbnRpZmllcilcXFwiPT09cmlnaHQudHlwZSYmXFxcInR5cGVvZlxcXCI9PT1yaWdodC52YWx1ZSYmXFxcIihzdHJpbmcpXFxcIj09PWxlZnQudHlwZT8hXy5jb250YWlucyh2YWx1ZXMsbGVmdC52YWx1ZSk6ITEpOiExfWZ1bmN0aW9uIGlzR2xvYmFsRXZhbChsZWZ0LHN0YXRlKXt2YXIgaXNHbG9iYWw9ITE7cmV0dXJuXFxcInRoaXNcXFwiPT09bGVmdC50eXBlJiZudWxsPT09c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdP2lzR2xvYmFsPSEwOlxcXCIoaWRlbnRpZmllcilcXFwiPT09bGVmdC50eXBlJiYoc3RhdGUub3B0aW9uLm5vZGUmJlxcXCJnbG9iYWxcXFwiPT09bGVmdC52YWx1ZT9pc0dsb2JhbD0hMDohc3RhdGUub3B0aW9uLmJyb3dzZXJ8fFxcXCJ3aW5kb3dcXFwiIT09bGVmdC52YWx1ZSYmXFxcImRvY3VtZW50XFxcIiE9PWxlZnQudmFsdWV8fChpc0dsb2JhbD0hMCkpLGlzR2xvYmFsfWZ1bmN0aW9uIGZpbmROYXRpdmVQcm90b3R5cGUobGVmdCl7ZnVuY3Rpb24gd2Fsa1Byb3RvdHlwZShvYmope3JldHVyblxcXCJvYmplY3RcXFwiPT10eXBlb2Ygb2JqP1xcXCJwcm90b3R5cGVcXFwiPT09b2JqLnJpZ2h0P29iajp3YWxrUHJvdG90eXBlKG9iai5sZWZ0KTp2b2lkIDB9ZnVuY3Rpb24gd2Fsa05hdGl2ZShvYmope2Zvcig7IW9iai5pZGVudGlmaWVyJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIG9iai5sZWZ0OylvYmo9b2JqLmxlZnQ7cmV0dXJuIG9iai5pZGVudGlmaWVyJiZuYXRpdmVzLmluZGV4T2Yob2JqLnZhbHVlKT49MD9vYmoudmFsdWU6dm9pZCAwfXZhciBuYXRpdmVzPVtcXFwiQXJyYXlcXFwiLFxcXCJBcnJheUJ1ZmZlclxcXCIsXFxcIkJvb2xlYW5cXFwiLFxcXCJDb2xsYXRvclxcXCIsXFxcIkRhdGFWaWV3XFxcIixcXFwiRGF0ZVxcXCIsXFxcIkRhdGVUaW1lRm9ybWF0XFxcIixcXFwiRXJyb3JcXFwiLFxcXCJFdmFsRXJyb3JcXFwiLFxcXCJGbG9hdDMyQXJyYXlcXFwiLFxcXCJGbG9hdDY0QXJyYXlcXFwiLFxcXCJGdW5jdGlvblxcXCIsXFxcIkluZmluaXR5XFxcIixcXFwiSW50bFxcXCIsXFxcIkludDE2QXJyYXlcXFwiLFxcXCJJbnQzMkFycmF5XFxcIixcXFwiSW50OEFycmF5XFxcIixcXFwiSXRlcmF0b3JcXFwiLFxcXCJOdW1iZXJcXFwiLFxcXCJOdW1iZXJGb3JtYXRcXFwiLFxcXCJPYmplY3RcXFwiLFxcXCJSYW5nZUVycm9yXFxcIixcXFwiUmVmZXJlbmNlRXJyb3JcXFwiLFxcXCJSZWdFeHBcXFwiLFxcXCJTdG9wSXRlcmF0aW9uXFxcIixcXFwiU3RyaW5nXFxcIixcXFwiU3ludGF4RXJyb3JcXFwiLFxcXCJUeXBlRXJyb3JcXFwiLFxcXCJVaW50MTZBcnJheVxcXCIsXFxcIlVpbnQzMkFycmF5XFxcIixcXFwiVWludDhBcnJheVxcXCIsXFxcIlVpbnQ4Q2xhbXBlZEFycmF5XFxcIixcXFwiVVJJRXJyb3JcXFwiXSxwcm90b3R5cGU9d2Fsa1Byb3RvdHlwZShsZWZ0KTtyZXR1cm4gcHJvdG90eXBlP3dhbGtOYXRpdmUocHJvdG90eXBlKTp2b2lkIDB9ZnVuY3Rpb24gY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LGFzc2lnblRva2VuLG9wdGlvbnMpe3ZhciBhbGxvd0Rlc3RydWN0dXJpbmc9b3B0aW9ucyYmb3B0aW9ucy5hbGxvd0Rlc3RydWN0dXJpbmc7aWYoYXNzaWduVG9rZW49YXNzaWduVG9rZW58fGxlZnQsc3RhdGUub3B0aW9uLmZyZWV6ZSl7dmFyIG5hdGl2ZU9iamVjdD1maW5kTmF0aXZlUHJvdG90eXBlKGxlZnQpO25hdGl2ZU9iamVjdCYmd2FybmluZyhcXFwiVzEyMVxcXCIsbGVmdCxuYXRpdmVPYmplY3QpfXJldHVybiBsZWZ0LmlkZW50aWZpZXImJiFsZWZ0LmlzTWV0YVByb3BlcnR5JiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLnJlYXNzaWduKGxlZnQudmFsdWUsbGVmdCksXFxcIi5cXFwiPT09bGVmdC5pZD8oKCFsZWZ0LmxlZnR8fFxcXCJhcmd1bWVudHNcXFwiPT09bGVmdC5sZWZ0LnZhbHVlJiYhc3RhdGUuaXNTdHJpY3QoKSkmJndhcm5pbmcoXFxcIkUwMzFcXFwiLGFzc2lnblRva2VuKSxzdGF0ZS5uYW1lU3RhY2suc2V0KHN0YXRlLnRva2Vucy5wcmV2KSwhMCk6XFxcIntcXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZD8oYWxsb3dEZXN0cnVjdHVyaW5nJiZzdGF0ZS50b2tlbnMuY3Vyci5sZWZ0LmRlc3RydWN0QXNzaWduP3N0YXRlLnRva2Vucy5jdXJyLmxlZnQuZGVzdHJ1Y3RBc3NpZ24uZm9yRWFjaChmdW5jdGlvbih0KXt0LmlkJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLm1vZGlmeSh0LmlkLHQudG9rZW4pfSk6XFxcIntcXFwiIT09bGVmdC5pZCYmbGVmdC5sZWZ0P1xcXCJhcmd1bWVudHNcXFwiIT09bGVmdC5sZWZ0LnZhbHVlfHxzdGF0ZS5pc1N0cmljdCgpfHx3YXJuaW5nKFxcXCJFMDMxXFxcIixhc3NpZ25Ub2tlbik6d2FybmluZyhcXFwiRTAzMVxcXCIsYXNzaWduVG9rZW4pLFxcXCJbXFxcIj09PWxlZnQuaWQmJnN0YXRlLm5hbWVTdGFjay5zZXQobGVmdC5yaWdodCksITApOmxlZnQuaXNNZXRhUHJvcGVydHk/KGVycm9yKFxcXCJFMDMxXFxcIixhc3NpZ25Ub2tlbiksITApOmxlZnQuaWRlbnRpZmllciYmIWlzUmVzZXJ2ZWQobGVmdCk/KFxcXCJleGNlcHRpb25cXFwiPT09c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5sYWJlbHR5cGUobGVmdC52YWx1ZSkmJndhcm5pbmcoXFxcIlcwMjJcXFwiLGxlZnQpLHN0YXRlLm5hbWVTdGFjay5zZXQobGVmdCksITApOihsZWZ0PT09c3RhdGUuc3ludGF4W1xcXCJmdW5jdGlvblxcXCJdJiZ3YXJuaW5nKFxcXCJXMDIzXFxcIixzdGF0ZS50b2tlbnMuY3VyciksITEpfWZ1bmN0aW9uIGFzc2lnbm9wKHMsZixwKXt2YXIgeD1pbmZpeChzLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBmP2Y6ZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gdGhhdC5sZWZ0PWxlZnQsbGVmdCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LHRoYXQse2FsbG93RGVzdHJ1Y3R1cmluZzohMH0pPyh0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLHRoYXQpOihlcnJvcihcXFwiRTAzMVxcXCIsdGhhdCksdm9pZCAwKX0scCk7cmV0dXJuIHguZXhwcz0hMCx4LmFzc2lnbj0hMCx4fWZ1bmN0aW9uIGJpdHdpc2UocyxmLHApe3ZhciB4PXN5bWJvbChzLHApO3JldHVybiByZXNlcnZlTmFtZSh4KSx4LmxlZD1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZj9mOmZ1bmN0aW9uKGxlZnQpe3JldHVybiBzdGF0ZS5vcHRpb24uYml0d2lzZSYmd2FybmluZyhcXFwiVzAxNlxcXCIsdGhpcyx0aGlzLmlkKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24ocCksdGhpc30seH1mdW5jdGlvbiBiaXR3aXNlYXNzaWdub3Aocyl7cmV0dXJuIGFzc2lnbm9wKHMsZnVuY3Rpb24obGVmdCx0aGF0KXtyZXR1cm4gc3RhdGUub3B0aW9uLmJpdHdpc2UmJndhcm5pbmcoXFxcIlcwMTZcXFwiLHRoYXQsdGhhdC5pZCksbGVmdCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihsZWZ0LHRoYXQpPyh0aGF0LnJpZ2h0PWV4cHJlc3Npb24oMTApLHRoYXQpOihlcnJvcihcXFwiRTAzMVxcXCIsdGhhdCksdm9pZCAwKX0sMjApfWZ1bmN0aW9uIHN1ZmZpeChzKXt2YXIgeD1zeW1ib2wocywxNTApO3JldHVybiB4LmxlZD1mdW5jdGlvbihsZWZ0KXtyZXR1cm4gc3RhdGUub3B0aW9uLnBsdXNwbHVzP3dhcm5pbmcoXFxcIlcwMTZcXFwiLHRoaXMsdGhpcy5pZCk6bGVmdC5pZGVudGlmaWVyJiYhaXNSZXNlcnZlZChsZWZ0KXx8XFxcIi5cXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZHx8d2FybmluZyhcXFwiVzAxN1xcXCIsdGhpcyksbGVmdC5pc01ldGFQcm9wZXJ0eT9lcnJvcihcXFwiRTAzMVxcXCIsdGhpcyk6bGVmdCYmbGVmdC5pZGVudGlmaWVyJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLm1vZGlmeShsZWZ0LnZhbHVlLGxlZnQpLHRoaXMubGVmdD1sZWZ0LHRoaXN9LHh9ZnVuY3Rpb24gb3B0aW9uYWxpZGVudGlmaWVyKGZucGFyYW0scHJvcCxwcmVzZXJ2ZSl7aWYoc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcil7cHJlc2VydmV8fGFkdmFuY2UoKTt2YXIgY3Vycj1zdGF0ZS50b2tlbnMuY3Vycix2YWw9c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7cmV0dXJuIGlzUmVzZXJ2ZWQoY3Vycik/cHJvcCYmc3RhdGUuaW5FUzUoKT92YWw6Zm5wYXJhbSYmXFxcInVuZGVmaW5lZFxcXCI9PT12YWw/dmFsOih3YXJuaW5nKFxcXCJXMDI0XFxcIixzdGF0ZS50b2tlbnMuY3VycixzdGF0ZS50b2tlbnMuY3Vyci5pZCksdmFsKTp2YWx9fWZ1bmN0aW9uIGlkZW50aWZpZXIoZm5wYXJhbSxwcm9wKXt2YXIgaT1vcHRpb25hbGlkZW50aWZpZXIoZm5wYXJhbSxwcm9wLCExKTtpZihpKXJldHVybiBpO2lmKFxcXCIuLi5cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2lmKHN0YXRlLmluRVM2KCEwKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcInNwcmVhZC9yZXN0IG9wZXJhdG9yXFxcIixcXFwiNlxcXCIpLGFkdmFuY2UoKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIi4uLlxcXCIpKWZvcih3YXJuaW5nKFxcXCJFMDI0XFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIik7Y2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIuLi5cXFwiKTspYWR2YW5jZSgpO3JldHVybiBzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyP2lkZW50aWZpZXIoZm5wYXJhbSxwcm9wKTood2FybmluZyhcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcIi4uLlxcXCIpLHZvaWQgMCl9ZXJyb3IoXFxcIkUwMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxcXFwiO1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmYWR2YW5jZSgpfWZ1bmN0aW9uIHJlYWNoYWJsZShjb250cm9sVG9rZW4pe3ZhciB0LGk9MDtpZihcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmIWNvbnRyb2xUb2tlbi5pbkJyYWNlbGVzc0Jsb2NrKWZvcig7Oyl7ZG8gdD1wZWVrKGkpLGkrPTE7d2hpbGUoXFxcIihlbmQpXFxcIiE9PXQuaWQmJlxcXCIoY29tbWVudClcXFwiPT09dC5pZCk7aWYodC5yZWFjaClyZXR1cm47aWYoXFxcIihlbmRsaW5lKVxcXCIhPT10LmlkKXtpZihcXFwiZnVuY3Rpb25cXFwiPT09dC5pZCl7c3RhdGUub3B0aW9uLmxhdGVkZWY9PT0hMCYmd2FybmluZyhcXFwiVzAyNlxcXCIsdCk7YnJlYWt9d2FybmluZyhcXFwiVzAyN1xcXCIsdCx0LnZhbHVlLGNvbnRyb2xUb2tlbi52YWx1ZSk7YnJlYWt9fX1mdW5jdGlvbiBwYXJzZUZpbmFsU2VtaWNvbG9uKCl7aWYoXFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpe2lmKHN0YXRlLnRva2Vucy5uZXh0LmlzVW5jbG9zZWQpcmV0dXJuIGFkdmFuY2UoKTt2YXIgc2FtZUxpbmU9c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KT09PXN0YXRlLnRva2Vucy5jdXJyLmxpbmUmJlxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCxibG9ja0VuZD1jaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKTtzYW1lTGluZSYmIWJsb2NrRW5kP2Vycm9yQXQoXFxcIkUwNThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUudG9rZW5zLmN1cnIuY2hhcmFjdGVyKTpzdGF0ZS5vcHRpb24uYXNpfHwoYmxvY2tFbmQmJiFzdGF0ZS5vcHRpb24ubGFzdHNlbWljfHwhc2FtZUxpbmUpJiZ3YXJuaW5nQXQoXFxcIlcwMzNcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUudG9rZW5zLmN1cnIuY2hhcmFjdGVyKX1lbHNlIGFkdmFuY2UoXFxcIjtcXFwiKX1mdW5jdGlvbiBzdGF0ZW1lbnQoKXt2YXIgcixpPWluZGVudCx0PXN0YXRlLnRva2Vucy5uZXh0LGhhc093blNjb3BlPSExO2lmKFxcXCI7XFxcIj09PXQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIjtcXFwiKSx2b2lkIDA7dmFyIHJlcz1pc1Jlc2VydmVkKHQpO2lmKHJlcyYmdC5tZXRhJiZ0Lm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJlxcXCI6XFxcIj09PXBlZWsoKS5pZCYmKHdhcm5pbmcoXFxcIlcwMjRcXFwiLHQsdC5pZCkscmVzPSExKSx0LmlkZW50aWZpZXImJiFyZXMmJlxcXCI6XFxcIj09PXBlZWsoKS5pZCYmKGFkdmFuY2UoKSxhZHZhbmNlKFxcXCI6XFxcIiksaGFzT3duU2NvcGU9ITAsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2suYWRkQnJlYWtMYWJlbCh0LnZhbHVlLHt0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLHN0YXRlLnRva2Vucy5uZXh0LmxhYmVsbGVkfHxcXFwie1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZXx8d2FybmluZyhcXFwiVzAyOFxcXCIsc3RhdGUudG9rZW5zLm5leHQsdC52YWx1ZSxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksc3RhdGUudG9rZW5zLm5leHQubGFiZWw9dC52YWx1ZSx0PXN0YXRlLnRva2Vucy5uZXh0KSxcXFwie1xcXCI9PT10LmlkKXt2YXIgaXNjYXNlPVxcXCJjYXNlXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXSYmXFxcIjpcXFwiPT09c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7cmV0dXJuIGJsb2NrKCEwLCEwLCExLCExLGlzY2FzZSksdm9pZCAwfXJldHVybiByPWV4cHJlc3Npb24oMCwhMCksIXJ8fHIuaWRlbnRpZmllciYmXFxcImZ1bmN0aW9uXFxcIj09PXIudmFsdWV8fFxcXCIocHVuY3R1YXRvcilcXFwiPT09ci50eXBlJiZyLmxlZnQmJnIubGVmdC5pZGVudGlmaWVyJiZcXFwiZnVuY3Rpb25cXFwiPT09ci5sZWZ0LnZhbHVlfHxzdGF0ZS5pc1N0cmljdCgpfHxcXFwiZ2xvYmFsXFxcIiE9PXN0YXRlLm9wdGlvbi5zdHJpY3R8fHdhcm5pbmcoXFxcIkUwMDdcXFwiKSx0LmJsb2NrfHwoc3RhdGUub3B0aW9uLmV4cHJ8fHImJnIuZXhwcz9zdGF0ZS5vcHRpb24ubm9uZXcmJnImJnIubGVmdCYmXFxcIihcXFwiPT09ci5pZCYmXFxcIm5ld1xcXCI9PT1yLmxlZnQuaWQmJndhcm5pbmcoXFxcIlcwMzFcXFwiLHQpOndhcm5pbmcoXFxcIlcwMzBcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxwYXJzZUZpbmFsU2VtaWNvbG9uKCkpLGluZGVudD1pLGhhc093blNjb3BlJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxyfWZ1bmN0aW9uIHN0YXRlbWVudHMoKXtmb3IodmFyIHAsYT1bXTshc3RhdGUudG9rZW5zLm5leHQucmVhY2gmJlxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZDspXFxcIjtcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KHA9cGVlaygpLCghcHx8XFxcIihcXFwiIT09cC5pZCYmXFxcIltcXFwiIT09cC5pZCkmJndhcm5pbmcoXFxcIlcwMzJcXFwiKSxhZHZhbmNlKFxcXCI7XFxcIikpOmEucHVzaChzdGF0ZW1lbnQoKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZGlyZWN0aXZlcygpe2Zvcih2YXIgaSxwLHBuO1xcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspe2lmKHA9cGVlaygwKSxcXFwiKGVuZGxpbmUpXFxcIj09PXAuaWQpe2k9MTtkbyBwbj1wZWVrKGkrKyk7d2hpbGUoXFxcIihlbmRsaW5lKVxcXCI9PT1wbi5pZCk7aWYoXFxcIjtcXFwiPT09cG4uaWQpcD1wbjtlbHNle2lmKFxcXCJbXFxcIj09PXBuLnZhbHVlfHxcXFwiLlxcXCI9PT1wbi52YWx1ZSlicmVhaztzdGF0ZS5vcHRpb24uYXNpJiZcXFwiKFxcXCIhPT1wbi52YWx1ZXx8d2FybmluZyhcXFwiVzAzM1xcXCIsc3RhdGUudG9rZW5zLm5leHQpfX1lbHNle2lmKFxcXCIuXFxcIj09PXAuaWR8fFxcXCJbXFxcIj09PXAuaWQpYnJlYWs7XFxcIjtcXFwiIT09cC5pZCYmd2FybmluZyhcXFwiVzAzM1xcXCIscCl9YWR2YW5jZSgpO3ZhciBkaXJlY3RpdmU9c3RhdGUudG9rZW5zLmN1cnIudmFsdWU7KHN0YXRlLmRpcmVjdGl2ZVtkaXJlY3RpdmVdfHxcXFwidXNlIHN0cmljdFxcXCI9PT1kaXJlY3RpdmUmJlxcXCJpbXBsaWVkXFxcIj09PXN0YXRlLm9wdGlvbi5zdHJpY3QpJiZ3YXJuaW5nKFxcXCJXMDM0XFxcIixzdGF0ZS50b2tlbnMuY3VycixkaXJlY3RpdmUpLHN0YXRlLmRpcmVjdGl2ZVtkaXJlY3RpdmVdPSEwLFxcXCI7XFxcIj09PXAuaWQmJmFkdmFuY2UoXFxcIjtcXFwiKX1zdGF0ZS5pc1N0cmljdCgpJiYoc3RhdGUub3B0aW9uW1xcXCIoZXhwbGljaXROZXdjYXApXFxcIl18fChzdGF0ZS5vcHRpb24ubmV3Y2FwPSEwKSxzdGF0ZS5vcHRpb24udW5kZWY9ITApfWZ1bmN0aW9uIGJsb2NrKG9yZGluYXJ5LHN0bXQsaXNmdW5jLGlzZmF0YXJyb3csaXNjYXNlKXt2YXIgYSxtLHQsbGluZSxkLGI9aW5ibG9jayxvbGRfaW5kZW50PWluZGVudDtpbmJsb2NrPW9yZGluYXJ5LHQ9c3RhdGUudG9rZW5zLm5leHQ7dmFyIG1ldHJpY3M9c3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdO2lmKG1ldHJpY3MubmVzdGVkQmxvY2tEZXB0aCs9MSxtZXRyaWNzLnZlcmlmeU1heE5lc3RlZEJsb2NrRGVwdGhQZXJGdW5jdGlvbigpLFxcXCJ7XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXtpZihhZHZhbmNlKFxcXCJ7XFxcIiksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLGxpbmU9c3RhdGUudG9rZW5zLmN1cnIubGluZSxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCl7Zm9yKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudDshb3JkaW5hcnkmJnN0YXRlLnRva2Vucy5uZXh0LmZyb20+aW5kZW50OylpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQ7aWYoaXNmdW5jKXttPXt9O2ZvcihkIGluIHN0YXRlLmRpcmVjdGl2ZSlfLmhhcyhzdGF0ZS5kaXJlY3RpdmUsZCkmJihtW2RdPXN0YXRlLmRpcmVjdGl2ZVtkXSk7ZGlyZWN0aXZlcygpLHN0YXRlLm9wdGlvbi5zdHJpY3QmJnN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGdsb2JhbClcXFwiXSYmKG1bXFxcInVzZSBzdHJpY3RcXFwiXXx8c3RhdGUuaXNTdHJpY3QoKXx8d2FybmluZyhcXFwiRTAwN1xcXCIpKX1hPXN0YXRlbWVudHMoKSxtZXRyaWNzLnN0YXRlbWVudENvdW50Kz1hLmxlbmd0aCxpbmRlbnQtPXN0YXRlLm9wdGlvbi5pbmRlbnR9YWR2YW5jZShcXFwifVxcXCIsdCksaXNmdW5jJiYoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS52YWxpZGF0ZVBhcmFtcygpLG0mJihzdGF0ZS5kaXJlY3RpdmU9bSkpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLGluZGVudD1vbGRfaW5kZW50fWVsc2UgaWYob3JkaW5hcnkpc3RhdGUuZnVuY3RbXFxcIihub2Jsb2Nrc2NvcGVkdmFyKVxcXCJdPVxcXCJmb3JcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLCghc3RtdHx8c3RhdGUub3B0aW9uLmN1cmx5KSYmd2FybmluZyhcXFwiVzExNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIntcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxzdGF0ZS50b2tlbnMubmV4dC5pbkJyYWNlbGVzc0Jsb2NrPSEwLGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCxhPVtzdGF0ZW1lbnQoKV0saW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpLGRlbGV0ZSBzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl07ZWxzZSBpZihpc2Z1bmMpe2lmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxtPXt9LCFzdG10fHxpc2ZhdGFycm93fHxzdGF0ZS5pbk1veigpfHxlcnJvcihcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImZ1bmN0aW9uIGNsb3N1cmUgZXhwcmVzc2lvbnNcXFwiKSwhc3RtdClmb3IoZCBpbiBzdGF0ZS5kaXJlY3RpdmUpXy5oYXMoc3RhdGUuZGlyZWN0aXZlLGQpJiYobVtkXT1zdGF0ZS5kaXJlY3RpdmVbZF0pO2V4cHJlc3Npb24oMTApLHN0YXRlLm9wdGlvbi5zdHJpY3QmJnN0YXRlLmZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGdsb2JhbClcXFwiXSYmKG1bXFxcInVzZSBzdHJpY3RcXFwiXXx8c3RhdGUuaXNTdHJpY3QoKXx8d2FybmluZyhcXFwiRTAwN1xcXCIpKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKX1lbHNlIGVycm9yKFxcXCJFMDIxXFxcIixzdGF0ZS50b2tlbnMubmV4dCxcXFwie1xcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpO3N3aXRjaChzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0pe2Nhc2VcXFwiYnJlYWtcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInRocm93XFxcIjppZihpc2Nhc2UpYnJlYWs7ZGVmYXVsdDpzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl09bnVsbH1yZXR1cm4gaW5ibG9jaz1iLCFvcmRpbmFyeXx8IXN0YXRlLm9wdGlvbi5ub2VtcHR5fHxhJiYwIT09YS5sZW5ndGh8fHdhcm5pbmcoXFxcIlcwMzVcXFwiLHN0YXRlLnRva2Vucy5wcmV2KSxtZXRyaWNzLm5lc3RlZEJsb2NrRGVwdGgtPTEsYX1mdW5jdGlvbiBjb3VudE1lbWJlcihtKXttZW1iZXJzT25seSYmXFxcImJvb2xlYW5cXFwiIT10eXBlb2YgbWVtYmVyc09ubHlbbV0mJndhcm5pbmcoXFxcIlcwMzZcXFwiLHN0YXRlLnRva2Vucy5jdXJyLG0pLFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbWVtYmVyW21dP21lbWJlclttXSs9MTptZW1iZXJbbV09MX1mdW5jdGlvbiBjb21wcmVoZW5zaXZlQXJyYXlFeHByZXNzaW9uKCl7dmFyIHJlcz17fTtyZXMuZXhwcz0hMCxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zdGFjaygpO3ZhciByZXZlcnNlZD0hMTtyZXR1cm5cXFwiZm9yXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYocmV2ZXJzZWQ9ITAsc3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImZvclxcXCIsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJ1c2VcXFwiKSxyZXMucmlnaHQ9ZXhwcmVzc2lvbigxMCkpLGFkdmFuY2UoXFxcImZvclxcXCIpLFxcXCJlYWNoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiZWFjaFxcXCIpLHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJmb3IgZWFjaFxcXCIpKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc2V0U3RhdGUoXFxcImRlZmluZVxcXCIpLHJlcy5sZWZ0PWV4cHJlc3Npb24oMTMwKSxfLmNvbnRhaW5zKFtcXFwiaW5cXFwiLFxcXCJvZlxcXCJdLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT9hZHZhbmNlKCk6ZXJyb3IoXFxcIkUwNDVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS5zZXRTdGF0ZShcXFwiZ2VuZXJhdGVcXFwiKSxleHByZXNzaW9uKDEwKSxhZHZhbmNlKFxcXCIpXFxcIiksXFxcImlmXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiaWZcXFwiKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uc2V0U3RhdGUoXFxcImZpbHRlclxcXCIpLHJlcy5maWx0ZXI9ZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiKVxcXCIpKSxyZXZlcnNlZHx8KHN0YXRlLmZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdLnNldFN0YXRlKFxcXCJ1c2VcXFwiKSxyZXMucmlnaHQ9ZXhwcmVzc2lvbigxMCkpLGFkdmFuY2UoXFxcIl1cXFwiKSxzdGF0ZS5mdW5jdFtcXFwiKGNvbXBhcnJheSlcXFwiXS51bnN0YWNrKCkscmVzfWZ1bmN0aW9uIGlzTWV0aG9kKCl7cmV0dXJuIHN0YXRlLmZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdJiZcXFwiY2xhc3NcXFwiPT09c3RhdGUuZnVuY3RbXFxcIihzdGF0ZW1lbnQpXFxcIl0udHlwZXx8c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdJiZcXFwiY2xhc3NcXFwiPT09c3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdW1xcXCIodmVyYilcXFwiXX1mdW5jdGlvbiBpc1Byb3BlcnR5TmFtZSh0b2tlbil7cmV0dXJuIHRva2VuLmlkZW50aWZpZXJ8fFxcXCIoc3RyaW5nKVxcXCI9PT10b2tlbi5pZHx8XFxcIihudW1iZXIpXFxcIj09PXRva2VuLmlkfWZ1bmN0aW9uIHByb3BlcnR5TmFtZShwcmVzZXJ2ZU9yVG9rZW4pe3ZhciBpZCxwcmVzZXJ2ZT0hMDtyZXR1cm5cXFwib2JqZWN0XFxcIj09dHlwZW9mIHByZXNlcnZlT3JUb2tlbj9pZD1wcmVzZXJ2ZU9yVG9rZW46KHByZXNlcnZlPXByZXNlcnZlT3JUb2tlbixpZD1vcHRpb25hbGlkZW50aWZpZXIoITEsITAscHJlc2VydmUpKSxpZD9cXFwib2JqZWN0XFxcIj09dHlwZW9mIGlkJiYoXFxcIihzdHJpbmcpXFxcIj09PWlkLmlkfHxcXFwiKGlkZW50aWZpZXIpXFxcIj09PWlkLmlkP2lkPWlkLnZhbHVlOlxcXCIobnVtYmVyKVxcXCI9PT1pZC5pZCYmKGlkPVxcXCJcXFwiK2lkLnZhbHVlKSk6XFxcIihzdHJpbmcpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhpZD1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSxwcmVzZXJ2ZXx8YWR2YW5jZSgpKTpcXFwiKG51bWJlcilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihpZD1cXFwiXFxcIitzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSxwcmVzZXJ2ZXx8YWR2YW5jZSgpKSxcXFwiaGFzT3duUHJvcGVydHlcXFwiPT09aWQmJndhcm5pbmcoXFxcIlcwMDFcXFwiKSxpZH1mdW5jdGlvbiBmdW5jdGlvbnBhcmFtcyhvcHRpb25zKXtmdW5jdGlvbiBhZGRQYXJhbShhZGRQYXJhbUFyZ3Mpe3N0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkUGFyYW0uYXBwbHkoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXSxhZGRQYXJhbUFyZ3MpfXZhciBuZXh0LGlkZW50LHQscGFyYW1zSWRzPVtdLHRva2Vucz1bXSxwYXN0RGVmYXVsdD0hMSxwYXN0UmVzdD0hMSxhcml0eT0wLGxvbmVBcmc9b3B0aW9ucyYmb3B0aW9ucy5sb25lQXJnO2lmKGxvbmVBcmcmJmxvbmVBcmcuaWRlbnRpZmllcj09PSEwKXJldHVybiBzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZFBhcmFtKGxvbmVBcmcudmFsdWUsbG9uZUFyZykse2FyaXR5OjEscGFyYW1zOltsb25lQXJnLnZhbHVlXX07aWYobmV4dD1zdGF0ZS50b2tlbnMubmV4dCxvcHRpb25zJiZvcHRpb25zLnBhcnNlZE9wZW5pbmd8fGFkdmFuY2UoXFxcIihcXFwiKSxcXFwiKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIpLHZvaWQgMDtmb3IoOzspe2FyaXR5Kys7dmFyIGN1cnJlbnRQYXJhbXM9W107aWYoXy5jb250YWlucyhbXFxcIntcXFwiLFxcXCJbXFxcIl0sc3RhdGUudG9rZW5zLm5leHQuaWQpKXt0b2tlbnM9ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oKTtmb3IodCBpbiB0b2tlbnMpdD10b2tlbnNbdF0sdC5pZCYmKHBhcmFtc0lkcy5wdXNoKHQuaWQpLGN1cnJlbnRQYXJhbXMucHVzaChbdC5pZCx0LnRva2VuXSkpfWVsc2UgaWYoY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIuLi5cXFwiKSYmKHBhc3RSZXN0PSEwKSxpZGVudD1pZGVudGlmaWVyKCEwKSlwYXJhbXNJZHMucHVzaChpZGVudCksY3VycmVudFBhcmFtcy5wdXNoKFtpZGVudCxzdGF0ZS50b2tlbnMuY3Vycl0pO2Vsc2UgZm9yKDshY2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIixcXFwiLFxcXCIpXFxcIl0pOylhZHZhbmNlKCk7aWYocGFzdERlZmF1bHQmJlxcXCI9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiVzEzOFxcXCIsc3RhdGUudG9rZW5zLmN1cnJlbnQpLFxcXCI9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYoc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImRlZmF1bHQgcGFyYW1ldGVyc1xcXCIsXFxcIjZcXFwiKSxhZHZhbmNlKFxcXCI9XFxcIikscGFzdERlZmF1bHQ9ITAsZXhwcmVzc2lvbigxMCkpLGN1cnJlbnRQYXJhbXMuZm9yRWFjaChhZGRQYXJhbSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpcmV0dXJuIGFkdmFuY2UoXFxcIilcXFwiLG5leHQpLHthcml0eTphcml0eSxwYXJhbXM6cGFyYW1zSWRzfTtwYXN0UmVzdCYmd2FybmluZyhcXFwiVzEzMVxcXCIsc3RhdGUudG9rZW5zLm5leHQpLGNvbW1hKCl9fWZ1bmN0aW9uIGZ1bmN0b3IobmFtZSx0b2tlbixvdmVyd3JpdGVzKXt2YXIgZnVuY3Q9e1xcXCIobmFtZSlcXFwiOm5hbWUsXFxcIihicmVha2FnZSlcXFwiOjAsXFxcIihsb29wYWdlKVxcXCI6MCxcXFwiKHRva2VucylcXFwiOnt9LFxcXCIocHJvcGVydGllcylcXFwiOnt9LFxcXCIoY2F0Y2gpXFxcIjohMSxcXFwiKGdsb2JhbClcXFwiOiExLFxcXCIobGluZSlcXFwiOm51bGwsXFxcIihjaGFyYWN0ZXIpXFxcIjpudWxsLFxcXCIobWV0cmljcylcXFwiOm51bGwsXFxcIihzdGF0ZW1lbnQpXFxcIjpudWxsLFxcXCIoY29udGV4dClcXFwiOm51bGwsXFxcIihzY29wZSlcXFwiOm51bGwsXFxcIihjb21wYXJyYXkpXFxcIjpudWxsLFxcXCIoZ2VuZXJhdG9yKVxcXCI6bnVsbCxcXFwiKGFycm93KVxcXCI6bnVsbCxcXFwiKHBhcmFtcylcXFwiOm51bGx9O3JldHVybiB0b2tlbiYmXy5leHRlbmQoZnVuY3Qse1xcXCIobGluZSlcXFwiOnRva2VuLmxpbmUsXFxcIihjaGFyYWN0ZXIpXFxcIjp0b2tlbi5jaGFyYWN0ZXIsXFxcIihtZXRyaWNzKVxcXCI6Y3JlYXRlTWV0cmljcyh0b2tlbil9KSxfLmV4dGVuZChmdW5jdCxvdmVyd3JpdGVzKSxmdW5jdFtcXFwiKGNvbnRleHQpXFxcIl0mJihmdW5jdFtcXFwiKHNjb3BlKVxcXCJdPWZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKHNjb3BlKVxcXCJdLGZ1bmN0W1xcXCIoY29tcGFycmF5KVxcXCJdPWZ1bmN0W1xcXCIoY29udGV4dClcXFwiXVtcXFwiKGNvbXBhcnJheSlcXFwiXSksZnVuY3R9ZnVuY3Rpb24gaXNGdW5jdG9yKHRva2VuKXtyZXR1cm5cXFwiKHNjb3BlKVxcXCJpbiB0b2tlbn1mdW5jdGlvbiBoYXNQYXJzZWRDb2RlKGZ1bmN0KXtyZXR1cm4gZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0mJiFmdW5jdFtcXFwiKHZlcmIpXFxcIl19ZnVuY3Rpb24gZG9UZW1wbGF0ZUxpdGVyYWwobGVmdCl7ZnVuY3Rpb24gZW5kKCl7aWYoc3RhdGUudG9rZW5zLmN1cnIudGVtcGxhdGUmJnN0YXRlLnRva2Vucy5jdXJyLnRhaWwmJnN0YXRlLnRva2Vucy5jdXJyLmNvbnRleHQ9PT1jdHgpcmV0dXJuITA7dmFyIGNvbXBsZXRlPXN0YXRlLnRva2Vucy5uZXh0LnRlbXBsYXRlJiZzdGF0ZS50b2tlbnMubmV4dC50YWlsJiZzdGF0ZS50b2tlbnMubmV4dC5jb250ZXh0PT09Y3R4O3JldHVybiBjb21wbGV0ZSYmYWR2YW5jZSgpLGNvbXBsZXRlfHxzdGF0ZS50b2tlbnMubmV4dC5pc1VuY2xvc2VkfXZhciBjdHg9dGhpcy5jb250ZXh0LG5vU3Vic3Q9dGhpcy5ub1N1YnN0LGRlcHRoPXRoaXMuZGVwdGg7aWYoIW5vU3Vic3QpZm9yKDshZW5kKCk7KSFzdGF0ZS50b2tlbnMubmV4dC50ZW1wbGF0ZXx8c3RhdGUudG9rZW5zLm5leHQuZGVwdGg+ZGVwdGg/ZXhwcmVzc2lvbigwKTphZHZhbmNlKCk7cmV0dXJue2lkOlxcXCIodGVtcGxhdGUpXFxcIix0eXBlOlxcXCIodGVtcGxhdGUpXFxcIix0YWc6bGVmdH19ZnVuY3Rpb24gZG9GdW5jdGlvbihvcHRpb25zKXt2YXIgZix0b2tlbixuYW1lLHN0YXRlbWVudCxjbGFzc0V4cHJCaW5kaW5nLGlzR2VuZXJhdG9yLGlzQXJyb3csaWdub3JlTG9vcEZ1bmMsb2xkT3B0aW9uPXN0YXRlLm9wdGlvbixvbGRJZ25vcmVkPXN0YXRlLmlnbm9yZWQ7b3B0aW9ucyYmKG5hbWU9b3B0aW9ucy5uYW1lLHN0YXRlbWVudD1vcHRpb25zLnN0YXRlbWVudCxjbGFzc0V4cHJCaW5kaW5nPW9wdGlvbnMuY2xhc3NFeHByQmluZGluZyxpc0dlbmVyYXRvcj1cXFwiZ2VuZXJhdG9yXFxcIj09PW9wdGlvbnMudHlwZSxpc0Fycm93PVxcXCJhcnJvd1xcXCI9PT1vcHRpb25zLnR5cGUsaWdub3JlTG9vcEZ1bmM9b3B0aW9ucy5pZ25vcmVMb29wRnVuYyksc3RhdGUub3B0aW9uPU9iamVjdC5jcmVhdGUoc3RhdGUub3B0aW9uKSxzdGF0ZS5pZ25vcmVkPU9iamVjdC5jcmVhdGUoc3RhdGUuaWdub3JlZCksc3RhdGUuZnVuY3Q9ZnVuY3RvcihuYW1lfHxzdGF0ZS5uYW1lU3RhY2suaW5mZXIoKSxzdGF0ZS50b2tlbnMubmV4dCx7XFxcIihzdGF0ZW1lbnQpXFxcIjpzdGF0ZW1lbnQsXFxcIihjb250ZXh0KVxcXCI6c3RhdGUuZnVuY3QsXFxcIihhcnJvdylcXFwiOmlzQXJyb3csXFxcIihnZW5lcmF0b3IpXFxcIjppc0dlbmVyYXRvcn0pLGY9c3RhdGUuZnVuY3QsdG9rZW49c3RhdGUudG9rZW5zLmN1cnIsdG9rZW4uZnVuY3Q9c3RhdGUuZnVuY3QsZnVuY3Rpb25zLnB1c2goc3RhdGUuZnVuY3QpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImZ1bmN0aW9ub3V0ZXJcXFwiKTt2YXIgaW50ZXJuYWxseUFjY2Vzc2libGVOYW1lPW5hbWV8fGNsYXNzRXhwckJpbmRpbmc7aW50ZXJuYWxseUFjY2Vzc2libGVOYW1lJiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmFkZChpbnRlcm5hbGx5QWNjZXNzaWJsZU5hbWUsY2xhc3NFeHByQmluZGluZz9cXFwiY2xhc3NcXFwiOlxcXCJmdW5jdGlvblxcXCIsc3RhdGUudG9rZW5zLmN1cnIsITEpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImZ1bmN0aW9ucGFyYW1zXFxcIik7dmFyIHBhcmFtc0luZm89ZnVuY3Rpb25wYXJhbXMob3B0aW9ucyk7cmV0dXJuIHBhcmFtc0luZm8/KHN0YXRlLmZ1bmN0W1xcXCIocGFyYW1zKVxcXCJdPXBhcmFtc0luZm8ucGFyYW1zLHN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS5hcml0eT1wYXJhbXNJbmZvLmFyaXR5LHN0YXRlLmZ1bmN0W1xcXCIobWV0cmljcylcXFwiXS52ZXJpZnlNYXhQYXJhbWV0ZXJzUGVyRnVuY3Rpb24oKSk6c3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLmFyaXR5PTAsaXNBcnJvdyYmKHN0YXRlLmluRVM2KCEwKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImFycm93IGZ1bmN0aW9uIHN5bnRheCAoPT4pXFxcIixcXFwiNlxcXCIpLG9wdGlvbnMubG9uZUFyZ3x8YWR2YW5jZShcXFwiPT5cXFwiKSksYmxvY2soITEsITAsITAsaXNBcnJvdyksIXN0YXRlLm9wdGlvbi5ub3lpZWxkJiZpc0dlbmVyYXRvciYmXFxcInlpZWxkZWRcXFwiIT09c3RhdGUuZnVuY3RbXFxcIihnZW5lcmF0b3IpXFxcIl0mJndhcm5pbmcoXFxcIlcxMjRcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSxzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0udmVyaWZ5TWF4U3RhdGVtZW50c1BlckZ1bmN0aW9uKCksc3RhdGUuZnVuY3RbXFxcIihtZXRyaWNzKVxcXCJdLnZlcmlmeU1heENvbXBsZXhpdHlQZXJGdW5jdGlvbigpLHN0YXRlLmZ1bmN0W1xcXCIodW51c2VkT3B0aW9uKVxcXCJdPXN0YXRlLm9wdGlvbi51bnVzZWQsc3RhdGUub3B0aW9uPW9sZE9wdGlvbixzdGF0ZS5pZ25vcmVkPW9sZElnbm9yZWQsc3RhdGUuZnVuY3RbXFxcIihsYXN0KVxcXCJdPXN0YXRlLnRva2Vucy5jdXJyLmxpbmUsc3RhdGUuZnVuY3RbXFxcIihsYXN0Y2hhcmFjdGVyKVxcXCJdPXN0YXRlLnRva2Vucy5jdXJyLmNoYXJhY3RlcixzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnVuc3RhY2soKSxzdGF0ZS5mdW5jdD1zdGF0ZS5mdW5jdFtcXFwiKGNvbnRleHQpXFxcIl0saWdub3JlTG9vcEZ1bmN8fHN0YXRlLm9wdGlvbi5sb29wZnVuY3x8IXN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXXx8ZltcXFwiKGlzQ2FwdHVyaW5nKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDgzXFxcIix0b2tlbiksZn1mdW5jdGlvbiBjcmVhdGVNZXRyaWNzKGZ1bmN0aW9uU3RhcnRUb2tlbil7cmV0dXJue3N0YXRlbWVudENvdW50OjAsbmVzdGVkQmxvY2tEZXB0aDotMSxDb21wbGV4aXR5Q291bnQ6MSxhcml0eTowLHZlcmlmeU1heFN0YXRlbWVudHNQZXJGdW5jdGlvbjpmdW5jdGlvbigpe3N0YXRlLm9wdGlvbi5tYXhzdGF0ZW1lbnRzJiZ0aGlzLnN0YXRlbWVudENvdW50PnN0YXRlLm9wdGlvbi5tYXhzdGF0ZW1lbnRzJiZ3YXJuaW5nKFxcXCJXMDcxXFxcIixmdW5jdGlvblN0YXJ0VG9rZW4sdGhpcy5zdGF0ZW1lbnRDb3VudClcXG59LHZlcmlmeU1heFBhcmFtZXRlcnNQZXJGdW5jdGlvbjpmdW5jdGlvbigpe18uaXNOdW1iZXIoc3RhdGUub3B0aW9uLm1heHBhcmFtcykmJnRoaXMuYXJpdHk+c3RhdGUub3B0aW9uLm1heHBhcmFtcyYmd2FybmluZyhcXFwiVzA3MlxcXCIsZnVuY3Rpb25TdGFydFRva2VuLHRoaXMuYXJpdHkpfSx2ZXJpZnlNYXhOZXN0ZWRCbG9ja0RlcHRoUGVyRnVuY3Rpb246ZnVuY3Rpb24oKXtzdGF0ZS5vcHRpb24ubWF4ZGVwdGgmJnRoaXMubmVzdGVkQmxvY2tEZXB0aD4wJiZ0aGlzLm5lc3RlZEJsb2NrRGVwdGg9PT1zdGF0ZS5vcHRpb24ubWF4ZGVwdGgrMSYmd2FybmluZyhcXFwiVzA3M1xcXCIsbnVsbCx0aGlzLm5lc3RlZEJsb2NrRGVwdGgpfSx2ZXJpZnlNYXhDb21wbGV4aXR5UGVyRnVuY3Rpb246ZnVuY3Rpb24oKXt2YXIgbWF4PXN0YXRlLm9wdGlvbi5tYXhjb21wbGV4aXR5LGNjPXRoaXMuQ29tcGxleGl0eUNvdW50O21heCYmY2M+bWF4JiZ3YXJuaW5nKFxcXCJXMDc0XFxcIixmdW5jdGlvblN0YXJ0VG9rZW4sY2MpfX19ZnVuY3Rpb24gaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKXtzdGF0ZS5mdW5jdFtcXFwiKG1ldHJpY3MpXFxcIl0uQ29tcGxleGl0eUNvdW50Kz0xfWZ1bmN0aW9uIGNoZWNrQ29uZEFzc2lnbm1lbnQoZXhwcil7dmFyIGlkLHBhcmVuO3N3aXRjaChleHByJiYoaWQ9ZXhwci5pZCxwYXJlbj1leHByLnBhcmVuLFxcXCIsXFxcIj09PWlkJiYoZXhwcj1leHByLmV4cHJzW2V4cHIuZXhwcnMubGVuZ3RoLTFdKSYmKGlkPWV4cHIuaWQscGFyZW49cGFyZW58fGV4cHIucGFyZW4pKSxpZCl7Y2FzZVxcXCI9XFxcIjpjYXNlXFxcIis9XFxcIjpjYXNlXFxcIi09XFxcIjpjYXNlXFxcIio9XFxcIjpjYXNlXFxcIiU9XFxcIjpjYXNlXFxcIiY9XFxcIjpjYXNlXFxcInw9XFxcIjpjYXNlXFxcIl49XFxcIjpjYXNlXFxcIi89XFxcIjpwYXJlbnx8c3RhdGUub3B0aW9uLmJvc3N8fHdhcm5pbmcoXFxcIlcwODRcXFwiKX19ZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzKHByb3BzKXtpZihzdGF0ZS5pbkVTNSgpKWZvcih2YXIgbmFtZSBpbiBwcm9wcylwcm9wc1tuYW1lXSYmcHJvcHNbbmFtZV0uc2V0dGVyVG9rZW4mJiFwcm9wc1tuYW1lXS5nZXR0ZXJUb2tlbiYmd2FybmluZyhcXFwiVzA3OFxcXCIscHJvcHNbbmFtZV0uc2V0dGVyVG9rZW4pfWZ1bmN0aW9uIG1ldGFQcm9wZXJ0eShuYW1lLGMpe2lmKGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLlxcXCIpKXt2YXIgbGVmdD1zdGF0ZS50b2tlbnMuY3Vyci5pZDthZHZhbmNlKFxcXCIuXFxcIik7dmFyIGlkPWlkZW50aWZpZXIoKTtyZXR1cm4gc3RhdGUudG9rZW5zLmN1cnIuaXNNZXRhUHJvcGVydHk9ITAsbmFtZSE9PWlkP2Vycm9yKFxcXCJFMDU3XFxcIixzdGF0ZS50b2tlbnMucHJldixsZWZ0LGlkKTpjKCksc3RhdGUudG9rZW5zLmN1cnJ9fWZ1bmN0aW9uIGRlc3RydWN0dXJpbmdQYXR0ZXJuKG9wdGlvbnMpe3ZhciBpc0Fzc2lnbm1lbnQ9b3B0aW9ucyYmb3B0aW9ucy5hc3NpZ25tZW50O3JldHVybiBzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTA0XFxcIixzdGF0ZS50b2tlbnMuY3Vycixpc0Fzc2lnbm1lbnQ/XFxcImRlc3RydWN0dXJpbmcgYXNzaWdubWVudFxcXCI6XFxcImRlc3RydWN0dXJpbmcgYmluZGluZ1xcXCIsXFxcIjZcXFwiKSxkZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShvcHRpb25zKX1mdW5jdGlvbiBkZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShvcHRpb25zKXt2YXIgaWRzLGlkZW50aWZpZXJzPVtdLG9wZW5pbmdQYXJzZWQ9b3B0aW9ucyYmb3B0aW9ucy5vcGVuaW5nUGFyc2VkLGlzQXNzaWdubWVudD1vcHRpb25zJiZvcHRpb25zLmFzc2lnbm1lbnQscmVjdXJzaXZlT3B0aW9ucz1pc0Fzc2lnbm1lbnQ/e2Fzc2lnbm1lbnQ6aXNBc3NpZ25tZW50fTpudWxsLGZpcnN0VG9rZW49b3BlbmluZ1BhcnNlZD9zdGF0ZS50b2tlbnMuY3VycjpzdGF0ZS50b2tlbnMubmV4dCxuZXh0SW5uZXJERT1mdW5jdGlvbigpe3ZhciBpZGVudDtpZihjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5uZXh0LFtcXFwiW1xcXCIsXFxcIntcXFwiXSkpe2lkcz1kZXN0cnVjdHVyaW5nUGF0dGVyblJlY3Vyc2l2ZShyZWN1cnNpdmVPcHRpb25zKTtmb3IodmFyIGlkIGluIGlkcylpZD1pZHNbaWRdLGlkZW50aWZpZXJzLnB1c2goe2lkOmlkLmlkLHRva2VuOmlkLnRva2VufSl9ZWxzZSBpZihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIixcXFwiKSlpZGVudGlmaWVycy5wdXNoKHtpZDpudWxsLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSk7ZWxzZXtpZighY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCIoXFxcIikpe3ZhciBpc19yZXN0PWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLi4uXFxcIik7aWYoaXNBc3NpZ25tZW50KXt2YXIgaWRlbnRpZmllclRva2VuPWlzX3Jlc3Q/cGVlaygwKTpzdGF0ZS50b2tlbnMubmV4dDtpZGVudGlmaWVyVG9rZW4uaWRlbnRpZmllcnx8d2FybmluZyhcXFwiRTAzMFxcXCIsaWRlbnRpZmllclRva2VuLGlkZW50aWZpZXJUb2tlbi52YWx1ZSk7dmFyIGFzc2lnblRhcmdldD1leHByZXNzaW9uKDE1NSk7YXNzaWduVGFyZ2V0JiYoY2hlY2tMZWZ0U2lkZUFzc2lnbihhc3NpZ25UYXJnZXQpLGFzc2lnblRhcmdldC5pZGVudGlmaWVyJiYoaWRlbnQ9YXNzaWduVGFyZ2V0LnZhbHVlKSl9ZWxzZSBpZGVudD1pZGVudGlmaWVyKCk7cmV0dXJuIGlkZW50JiZpZGVudGlmaWVycy5wdXNoKHtpZDppZGVudCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLGlzX3Jlc3R9YWR2YW5jZShcXFwiKFxcXCIpLG5leHRJbm5lckRFKCksYWR2YW5jZShcXFwiKVxcXCIpfXJldHVybiExfSxhc3NpZ25tZW50UHJvcGVydHk9ZnVuY3Rpb24oKXt2YXIgaWQ7Y2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJbXFxcIik/KGFkdmFuY2UoXFxcIltcXFwiKSxleHByZXNzaW9uKDEwKSxhZHZhbmNlKFxcXCJdXFxcIiksYWR2YW5jZShcXFwiOlxcXCIpLG5leHRJbm5lckRFKCkpOlxcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8XFxcIihudW1iZXIpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkPyhhZHZhbmNlKCksYWR2YW5jZShcXFwiOlxcXCIpLG5leHRJbm5lckRFKCkpOihpZD1pZGVudGlmaWVyKCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCI6XFxcIik/KGFkdmFuY2UoXFxcIjpcXFwiKSxuZXh0SW5uZXJERSgpKTppZCYmKGlzQXNzaWdubWVudCYmY2hlY2tMZWZ0U2lkZUFzc2lnbihzdGF0ZS50b2tlbnMuY3VyciksaWRlbnRpZmllcnMucHVzaCh7aWQ6aWQsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSkpfTtpZihjaGVja1B1bmN0dWF0b3IoZmlyc3RUb2tlbixcXFwiW1xcXCIpKXtvcGVuaW5nUGFyc2VkfHxhZHZhbmNlKFxcXCJbXFxcIiksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJdXFxcIikmJndhcm5pbmcoXFxcIlcxMzdcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTtmb3IodmFyIGVsZW1lbnRfYWZ0ZXJfcmVzdD0hMTshY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJdXFxcIik7KW5leHRJbm5lckRFKCkmJiFlbGVtZW50X2FmdGVyX3Jlc3QmJmNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiLFxcXCIpJiYod2FybmluZyhcXFwiVzEzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQpLGVsZW1lbnRfYWZ0ZXJfcmVzdD0hMCksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCI9XFxcIikmJihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLnByZXYsXFxcIi4uLlxcXCIpP2FkdmFuY2UoXFxcIl1cXFwiKTphZHZhbmNlKFxcXCI9XFxcIiksXFxcInVuZGVmaW5lZFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmd2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLGV4cHJlc3Npb24oMTApKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIl1cXFwiKXx8YWR2YW5jZShcXFwiLFxcXCIpO2FkdmFuY2UoXFxcIl1cXFwiKX1lbHNlIGlmKGNoZWNrUHVuY3R1YXRvcihmaXJzdFRva2VuLFxcXCJ7XFxcIikpe2ZvcihvcGVuaW5nUGFyc2VkfHxhZHZhbmNlKFxcXCJ7XFxcIiksY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIikmJndhcm5pbmcoXFxcIlcxMzdcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTshY2hlY2tQdW5jdHVhdG9yKHN0YXRlLnRva2Vucy5uZXh0LFxcXCJ9XFxcIikmJihhc3NpZ25tZW50UHJvcGVydHkoKSxjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIj1cXFwiKSYmKGFkdmFuY2UoXFxcIj1cXFwiKSxcXFwidW5kZWZpbmVkXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDgwXFxcIixzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMucHJldi52YWx1ZSksZXhwcmVzc2lvbigxMCkpLGNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwifVxcXCIpfHwoYWR2YW5jZShcXFwiLFxcXCIpLCFjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKSkpOyk7YWR2YW5jZShcXFwifVxcXCIpfXJldHVybiBpZGVudGlmaWVyc31mdW5jdGlvbiBkZXN0cnVjdHVyaW5nUGF0dGVybk1hdGNoKHRva2Vucyx2YWx1ZSl7dmFyIGZpcnN0PXZhbHVlLmZpcnN0O2ZpcnN0JiZfLnppcCh0b2tlbnMsQXJyYXkuaXNBcnJheShmaXJzdCk/Zmlyc3Q6W2ZpcnN0XSkuZm9yRWFjaChmdW5jdGlvbih2YWwpe3ZhciB0b2tlbj12YWxbMF0sdmFsdWU9dmFsWzFdO3Rva2VuJiZ2YWx1ZT90b2tlbi5maXJzdD12YWx1ZTp0b2tlbiYmdG9rZW4uZmlyc3QmJiF2YWx1ZSYmd2FybmluZyhcXFwiVzA4MFxcXCIsdG9rZW4uZmlyc3QsdG9rZW4uZmlyc3QudmFsdWUpfSl9ZnVuY3Rpb24gYmxvY2tWYXJpYWJsZVN0YXRlbWVudCh0eXBlLHN0YXRlbWVudCxjb250ZXh0KXt2YXIgdG9rZW5zLGxvbmUsdmFsdWUsbGV0YmxvY2sscHJlZml4PWNvbnRleHQmJmNvbnRleHQucHJlZml4LGluZXhwb3J0PWNvbnRleHQmJmNvbnRleHQuaW5leHBvcnQsaXNMZXQ9XFxcImxldFxcXCI9PT10eXBlLGlzQ29uc3Q9XFxcImNvbnN0XFxcIj09PXR5cGU7Zm9yKHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMDRcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHR5cGUsXFxcIjZcXFwiKSxpc0xldCYmXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJsZXQgYmxvY2tcXFwiKSxhZHZhbmNlKFxcXCIoXFxcIiksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLGxldGJsb2NrPSEwKTpzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl0mJmVycm9yKFxcXCJFMDQ4XFxcIixzdGF0ZS50b2tlbnMuY3Vycixpc0NvbnN0P1xcXCJDb25zdFxcXCI6XFxcIkxldFxcXCIpLHN0YXRlbWVudC5maXJzdD1bXTs7KXt2YXIgbmFtZXM9W107Xy5jb250YWlucyhbXFxcIntcXFwiLFxcXCJbXFxcIl0sc3RhdGUudG9rZW5zLm5leHQudmFsdWUpPyh0b2tlbnM9ZGVzdHJ1Y3R1cmluZ1BhdHRlcm4oKSxsb25lPSExKToodG9rZW5zPVt7aWQ6aWRlbnRpZmllcigpLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfV0sbG9uZT0hMCksIXByZWZpeCYmaXNDb25zdCYmXFxcIj1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIkUwMTJcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLnZhbHVlKTtmb3IodmFyIHQgaW4gdG9rZW5zKXRva2Vucy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dG9rZW5zW3RdLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2suaXNHbG9iYWwoKSYmcHJlZGVmaW5lZFt0LmlkXT09PSExJiZ3YXJuaW5nKFxcXCJXMDc5XFxcIix0LnRva2VuLHQuaWQpLHQuaWQmJiFzdGF0ZS5mdW5jdFtcXFwiKG5vYmxvY2tzY29wZWR2YXIpXFxcIl0mJihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHQuaWQse3R5cGU6dHlwZSx0b2tlbjp0LnRva2VufSksbmFtZXMucHVzaCh0LnRva2VuKSxsb25lJiZpbmV4cG9ydCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZCh0LnRva2VuLnZhbHVlLHQudG9rZW4pKSk7aWYoXFxcIj1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJihhZHZhbmNlKFxcXCI9XFxcIikscHJlZml4fHxcXFwidW5kZWZpbmVkXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkfHx3YXJuaW5nKFxcXCJXMDgwXFxcIixzdGF0ZS50b2tlbnMucHJldixzdGF0ZS50b2tlbnMucHJldi52YWx1ZSksIXByZWZpeCYmXFxcIj1cXFwiPT09cGVlaygwKS5pZCYmc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllciYmd2FybmluZyhcXFwiVzEyMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLHZhbHVlPWV4cHJlc3Npb24ocHJlZml4PzEyMDoxMCksbG9uZT90b2tlbnNbMF0uZmlyc3Q9dmFsdWU6ZGVzdHJ1Y3R1cmluZ1BhdHRlcm5NYXRjaChuYW1lcyx2YWx1ZSkpLHN0YXRlbWVudC5maXJzdD1zdGF0ZW1lbnQuZmlyc3QuY29uY2F0KG5hbWVzKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztjb21tYSgpfXJldHVybiBsZXRibG9jayYmKGFkdmFuY2UoXFxcIilcXFwiKSxibG9jayghMCwhMCksc3RhdGVtZW50LmJsb2NrPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0udW5zdGFjaygpKSxzdGF0ZW1lbnR9ZnVuY3Rpb24gY2xhc3NkZWYoaXNTdGF0ZW1lbnQpe3JldHVybiBzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTA0XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiY2xhc3NcXFwiLFxcXCI2XFxcIiksaXNTdGF0ZW1lbnQ/KHRoaXMubmFtZT1pZGVudGlmaWVyKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0aGlzLm5hbWUse3R5cGU6XFxcImNsYXNzXFxcIix0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pKTpzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyJiZcXFwiZXh0ZW5kc1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZT8odGhpcy5uYW1lPWlkZW50aWZpZXIoKSx0aGlzLm5hbWVkRXhwcj0hMCk6dGhpcy5uYW1lPXN0YXRlLm5hbWVTdGFjay5pbmZlcigpLGNsYXNzdGFpbCh0aGlzKSx0aGlzfWZ1bmN0aW9uIGNsYXNzdGFpbChjKXt2YXIgd2FzSW5DbGFzc0JvZHk9c3RhdGUuaW5DbGFzc0JvZHk7XFxcImV4dGVuZHNcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihhZHZhbmNlKFxcXCJleHRlbmRzXFxcIiksYy5oZXJpdGFnZT1leHByZXNzaW9uKDEwKSksc3RhdGUuaW5DbGFzc0JvZHk9ITAsYWR2YW5jZShcXFwie1xcXCIpLGMuYm9keT1jbGFzc2JvZHkoYyksYWR2YW5jZShcXFwifVxcXCIpLHN0YXRlLmluQ2xhc3NCb2R5PXdhc0luQ2xhc3NCb2R5fWZ1bmN0aW9uIGNsYXNzYm9keShjKXtmb3IodmFyIG5hbWUsaXNTdGF0aWMsaXNHZW5lcmF0b3IsZ2V0c2V0LGNvbXB1dGVkLHByb3BzPU9iamVjdC5jcmVhdGUobnVsbCksc3RhdGljUHJvcHM9T2JqZWN0LmNyZWF0ZShudWxsKSxpPTA7XFxcIn1cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KytpKWlmKG5hbWU9c3RhdGUudG9rZW5zLm5leHQsaXNTdGF0aWM9ITEsaXNHZW5lcmF0b3I9ITEsZ2V0c2V0PW51bGwsXFxcIjtcXFwiIT09bmFtZS5pZCl7aWYoXFxcIipcXFwiPT09bmFtZS5pZCYmKGlzR2VuZXJhdG9yPSEwLGFkdmFuY2UoXFxcIipcXFwiKSxuYW1lPXN0YXRlLnRva2Vucy5uZXh0KSxcXFwiW1xcXCI9PT1uYW1lLmlkKW5hbWU9Y29tcHV0ZWRQcm9wZXJ0eU5hbWUoKSxjb21wdXRlZD0hMDtlbHNle2lmKCFpc1Byb3BlcnR5TmFtZShuYW1lKSl7d2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWV8fHN0YXRlLnRva2Vucy5uZXh0LnR5cGUpLGFkdmFuY2UoKTtjb250aW51ZX1hZHZhbmNlKCksY29tcHV0ZWQ9ITEsbmFtZS5pZGVudGlmaWVyJiZcXFwic3RhdGljXFxcIj09PW5hbWUudmFsdWUmJihjaGVja1B1bmN0dWF0b3Ioc3RhdGUudG9rZW5zLm5leHQsXFxcIipcXFwiKSYmKGlzR2VuZXJhdG9yPSEwLGFkdmFuY2UoXFxcIipcXFwiKSksKGlzUHJvcGVydHlOYW1lKHN0YXRlLnRva2Vucy5uZXh0KXx8XFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpJiYoY29tcHV0ZWQ9XFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQsaXNTdGF0aWM9ITAsbmFtZT1zdGF0ZS50b2tlbnMubmV4dCxcXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD9uYW1lPWNvbXB1dGVkUHJvcGVydHlOYW1lKCk6YWR2YW5jZSgpKSksIW5hbWUuaWRlbnRpZmllcnx8XFxcImdldFxcXCIhPT1uYW1lLnZhbHVlJiZcXFwic2V0XFxcIiE9PW5hbWUudmFsdWV8fChpc1Byb3BlcnR5TmFtZShzdGF0ZS50b2tlbnMubmV4dCl8fFxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKSYmKGNvbXB1dGVkPVxcXCJbXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkLGdldHNldD1uYW1lLG5hbWU9c3RhdGUudG9rZW5zLm5leHQsXFxcIltcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/bmFtZT1jb21wdXRlZFByb3BlcnR5TmFtZSgpOmFkdmFuY2UoKSl9aWYoIWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiKFxcXCIpKXtmb3IoZXJyb3IoXFxcIkUwNTRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTtcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmIWNoZWNrUHVuY3R1YXRvcihzdGF0ZS50b2tlbnMubmV4dCxcXFwiKFxcXCIpOylhZHZhbmNlKCk7XFxcIihcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJmRvRnVuY3Rpb24oe3N0YXRlbWVudDpjfSl9aWYoY29tcHV0ZWR8fChnZXRzZXQ/c2F2ZUFjY2Vzc29yKGdldHNldC52YWx1ZSxpc1N0YXRpYz9zdGF0aWNQcm9wczpwcm9wcyxuYW1lLnZhbHVlLG5hbWUsITAsaXNTdGF0aWMpOihcXFwiY29uc3RydWN0b3JcXFwiPT09bmFtZS52YWx1ZT9zdGF0ZS5uYW1lU3RhY2suc2V0KGMpOnN0YXRlLm5hbWVTdGFjay5zZXQobmFtZSksc2F2ZVByb3BlcnR5KGlzU3RhdGljP3N0YXRpY1Byb3BzOnByb3BzLG5hbWUudmFsdWUsbmFtZSwhMCxpc1N0YXRpYykpKSxnZXRzZXQmJlxcXCJjb25zdHJ1Y3RvclxcXCI9PT1uYW1lLnZhbHVlKXt2YXIgcHJvcERlc2M9XFxcImdldFxcXCI9PT1nZXRzZXQudmFsdWU/XFxcImNsYXNzIGdldHRlciBtZXRob2RcXFwiOlxcXCJjbGFzcyBzZXR0ZXIgbWV0aG9kXFxcIjtlcnJvcihcXFwiRTA0OVxcXCIsbmFtZSxwcm9wRGVzYyxcXFwiY29uc3RydWN0b3JcXFwiKX1lbHNlXFxcInByb3RvdHlwZVxcXCI9PT1uYW1lLnZhbHVlJiZlcnJvcihcXFwiRTA0OVxcXCIsbmFtZSxcXFwiY2xhc3MgbWV0aG9kXFxcIixcXFwicHJvdG90eXBlXFxcIik7cHJvcGVydHlOYW1lKG5hbWUpLGRvRnVuY3Rpb24oe3N0YXRlbWVudDpjLHR5cGU6aXNHZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbCxjbGFzc0V4cHJCaW5kaW5nOmMubmFtZWRFeHByP2MubmFtZTpudWxsfSl9ZWxzZSB3YXJuaW5nKFxcXCJXMDMyXFxcIiksYWR2YW5jZShcXFwiO1xcXCIpO2NoZWNrUHJvcGVydGllcyhwcm9wcyl9ZnVuY3Rpb24gc2F2ZVByb3BlcnR5KHByb3BzLG5hbWUsdGtuLGlzQ2xhc3MsaXNTdGF0aWMpe3ZhciBtc2c9W1xcXCJrZXlcXFwiLFxcXCJjbGFzcyBtZXRob2RcXFwiLFxcXCJzdGF0aWMgY2xhc3MgbWV0aG9kXFxcIl07bXNnPW1zZ1soaXNDbGFzc3x8ITEpKyhpc1N0YXRpY3x8ITEpXSx0a24uaWRlbnRpZmllciYmKG5hbWU9dGtuLnZhbHVlKSxwcm9wc1tuYW1lXSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1uYW1lP3dhcm5pbmcoXFxcIlcwNzVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LG1zZyxuYW1lKTpwcm9wc1tuYW1lXT1PYmplY3QuY3JlYXRlKG51bGwpLHByb3BzW25hbWVdLmJhc2ljPSEwLHByb3BzW25hbWVdLmJhc2ljdGtuPXRrbn1mdW5jdGlvbiBzYXZlQWNjZXNzb3IoYWNjZXNzb3JUeXBlLHByb3BzLG5hbWUsdGtuLGlzQ2xhc3MsaXNTdGF0aWMpe3ZhciBmbGFnTmFtZT1cXFwiZ2V0XFxcIj09PWFjY2Vzc29yVHlwZT9cXFwiZ2V0dGVyVG9rZW5cXFwiOlxcXCJzZXR0ZXJUb2tlblxcXCIsbXNnPVxcXCJcXFwiO2lzQ2xhc3M/KGlzU3RhdGljJiYobXNnKz1cXFwic3RhdGljIFxcXCIpLG1zZys9YWNjZXNzb3JUeXBlK1xcXCJ0ZXIgbWV0aG9kXFxcIik6bXNnPVxcXCJrZXlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLmFjY2Vzc29yVHlwZT1hY2Nlc3NvclR5cGUsc3RhdGUubmFtZVN0YWNrLnNldCh0a24pLHByb3BzW25hbWVdPyhwcm9wc1tuYW1lXS5iYXNpY3x8cHJvcHNbbmFtZV1bZmxhZ05hbWVdKSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1uYW1lJiZ3YXJuaW5nKFxcXCJXMDc1XFxcIixzdGF0ZS50b2tlbnMubmV4dCxtc2csbmFtZSk6cHJvcHNbbmFtZV09T2JqZWN0LmNyZWF0ZShudWxsKSxwcm9wc1tuYW1lXVtmbGFnTmFtZV09dGtufWZ1bmN0aW9uIGNvbXB1dGVkUHJvcGVydHlOYW1lKCl7YWR2YW5jZShcXFwiW1xcXCIpLHN0YXRlLmluRVM2KCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjb21wdXRlZCBwcm9wZXJ0eSBuYW1lc1xcXCIsXFxcIjZcXFwiKTt2YXIgdmFsdWU9ZXhwcmVzc2lvbigxMCk7cmV0dXJuIGFkdmFuY2UoXFxcIl1cXFwiKSx2YWx1ZX1mdW5jdGlvbiBjaGVja1B1bmN0dWF0b3JzKHRva2VuLHZhbHVlcyl7cmV0dXJuXFxcIihwdW5jdHVhdG9yKVxcXCI9PT10b2tlbi50eXBlP18uY29udGFpbnModmFsdWVzLHRva2VuLnZhbHVlKTohMX1mdW5jdGlvbiBjaGVja1B1bmN0dWF0b3IodG9rZW4sdmFsdWUpe3JldHVyblxcXCIocHVuY3R1YXRvcilcXFwiPT09dG9rZW4udHlwZSYmdG9rZW4udmFsdWU9PT12YWx1ZX1mdW5jdGlvbiBkZXN0cnVjdHVyaW5nQXNzaWduT3JKc29uVmFsdWUoKXt2YXIgYmxvY2s9bG9va3VwQmxvY2tUeXBlKCk7YmxvY2subm90SnNvbj8oIXN0YXRlLmluRVM2KCkmJmJsb2NrLmlzRGVzdEFzc2lnbiYmd2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImRlc3RydWN0dXJpbmcgYXNzaWdubWVudFxcXCIsXFxcIjZcXFwiKSxzdGF0ZW1lbnRzKCkpOihzdGF0ZS5vcHRpb24ubGF4YnJlYWs9ITAsc3RhdGUuanNvbk1vZGU9ITAsanNvblZhbHVlKCkpfWZ1bmN0aW9uIGpzb25WYWx1ZSgpe2Z1bmN0aW9uIGpzb25PYmplY3QoKXt2YXIgbz17fSx0PXN0YXRlLnRva2Vucy5uZXh0O2lmKGFkdmFuY2UoXFxcIntcXFwiKSxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClmb3IoOzspe2lmKFxcXCIoZW5kKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCllcnJvcihcXFwiRTAyNlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdC5saW5lKTtlbHNle2lmKFxcXCJ9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKXt3YXJuaW5nKFxcXCJXMDk0XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7YnJlYWt9XFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/ZXJyb3IoXFxcIkUwMjhcXFwiLHN0YXRlLnRva2Vucy5uZXh0KTpcXFwiKHN0cmluZylcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJndhcm5pbmcoXFxcIlcwOTVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKX1pZihvW3N0YXRlLnRva2Vucy5uZXh0LnZhbHVlXT09PSEwP3dhcm5pbmcoXFxcIlcwNzVcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJrZXlcXFwiLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTpcXFwiX19wcm90b19fXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYhc3RhdGUub3B0aW9uLnByb3RvfHxcXFwiX19pdGVyYXRvcl9fXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYhc3RhdGUub3B0aW9uLml0ZXJhdG9yP3dhcm5pbmcoXFxcIlcwOTZcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTpvW3N0YXRlLnRva2Vucy5uZXh0LnZhbHVlXT0hMCxhZHZhbmNlKCksYWR2YW5jZShcXFwiOlxcXCIpLGpzb25WYWx1ZSgpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWJyZWFrO2FkdmFuY2UoXFxcIixcXFwiKX1hZHZhbmNlKFxcXCJ9XFxcIil9ZnVuY3Rpb24ganNvbkFycmF5KCl7dmFyIHQ9c3RhdGUudG9rZW5zLm5leHQ7aWYoYWR2YW5jZShcXFwiW1xcXCIpLFxcXCJdXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7Oyl7aWYoXFxcIihlbmQpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWVycm9yKFxcXCJFMDI3XFxcIixzdGF0ZS50b2tlbnMubmV4dCx0LmxpbmUpO2Vsc2V7aWYoXFxcIl1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpe3dhcm5pbmcoXFxcIlcwOTRcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTticmVha31cXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmZXJyb3IoXFxcIkUwMjhcXFwiLHN0YXRlLnRva2Vucy5uZXh0KX1pZihqc29uVmFsdWUoKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhazthZHZhbmNlKFxcXCIsXFxcIil9YWR2YW5jZShcXFwiXVxcXCIpfXN3aXRjaChzdGF0ZS50b2tlbnMubmV4dC5pZCl7Y2FzZVxcXCJ7XFxcIjpqc29uT2JqZWN0KCk7YnJlYWs7Y2FzZVxcXCJbXFxcIjpqc29uQXJyYXkoKTticmVhaztjYXNlXFxcInRydWVcXFwiOmNhc2VcXFwiZmFsc2VcXFwiOmNhc2VcXFwibnVsbFxcXCI6Y2FzZVxcXCIobnVtYmVyKVxcXCI6Y2FzZVxcXCIoc3RyaW5nKVxcXCI6YWR2YW5jZSgpO2JyZWFrO2Nhc2VcXFwiLVxcXCI6YWR2YW5jZShcXFwiLVxcXCIpLGFkdmFuY2UoXFxcIihudW1iZXIpXFxcIik7YnJlYWs7ZGVmYXVsdDplcnJvcihcXFwiRTAwM1xcXCIsc3RhdGUudG9rZW5zLm5leHQpfX12YXIgYXBpLGRlY2xhcmVkLGZ1bmN0aW9ucyxpbmJsb2NrLGluZGVudCxsb29rYWhlYWQsbGV4LG1lbWJlcixtZW1iZXJzT25seSxwcmVkZWZpbmVkLHN0YWNrLHVybHMsYmFuZz17XFxcIjxcXFwiOiEwLFxcXCI8PVxcXCI6ITAsXFxcIj09XFxcIjohMCxcXFwiPT09XFxcIjohMCxcXFwiIT09XFxcIjohMCxcXFwiIT1cXFwiOiEwLFxcXCI+XFxcIjohMCxcXFwiPj1cXFwiOiEwLFxcXCIrXFxcIjohMCxcXFwiLVxcXCI6ITAsXFxcIipcXFwiOiEwLFxcXCIvXFxcIjohMCxcXFwiJVxcXCI6ITB9LGZ1bmN0aW9uaWNpdHk9W1xcXCJjbG9zdXJlXFxcIixcXFwiZXhjZXB0aW9uXFxcIixcXFwiZ2xvYmFsXFxcIixcXFwibGFiZWxcXFwiLFxcXCJvdXRlclxcXCIsXFxcInVudXNlZFxcXCIsXFxcInZhclxcXCJdLGV4dHJhTW9kdWxlcz1bXSxlbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLHR5cGVvZlZhbHVlcz17fTt0eXBlb2ZWYWx1ZXMubGVnYWN5PVtcXFwieG1sXFxcIixcXFwidW5rbm93blxcXCJdLHR5cGVvZlZhbHVlcy5lczM9W1xcXCJ1bmRlZmluZWRcXFwiLFxcXCJib29sZWFuXFxcIixcXFwibnVtYmVyXFxcIixcXFwic3RyaW5nXFxcIixcXFwiZnVuY3Rpb25cXFwiLFxcXCJvYmplY3RcXFwiXSx0eXBlb2ZWYWx1ZXMuZXMzPXR5cGVvZlZhbHVlcy5lczMuY29uY2F0KHR5cGVvZlZhbHVlcy5sZWdhY3kpLHR5cGVvZlZhbHVlcy5lczY9dHlwZW9mVmFsdWVzLmVzMy5jb25jYXQoXFxcInN5bWJvbFxcXCIpLHR5cGUoXFxcIihudW1iZXIpXFxcIixmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdHlwZShcXFwiKHN0cmluZylcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzdGF0ZS5zeW50YXhbXFxcIihpZGVudGlmaWVyKVxcXCJdPXt0eXBlOlxcXCIoaWRlbnRpZmllcilcXFwiLGxicDowLGlkZW50aWZpZXI6ITAsbnVkOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy52YWx1ZTtyZXR1cm5cXFwiPT5cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/dGhpczooc3RhdGUuZnVuY3RbXFxcIihjb21wYXJyYXkpXFxcIl0uY2hlY2sodil8fHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLHRoaXMpfSxsZWQ6ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAzM1xcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpfX07dmFyIGJhc2VUZW1wbGF0ZVN5bnRheD17bGJwOjAsaWRlbnRpZmllcjohMSx0ZW1wbGF0ZTohMH07c3RhdGUuc3ludGF4W1xcXCIodGVtcGxhdGUpXFxcIl09Xy5leHRlbmQoe3R5cGU6XFxcIih0ZW1wbGF0ZSlcXFwiLG51ZDpkb1RlbXBsYXRlTGl0ZXJhbCxsZWQ6ZG9UZW1wbGF0ZUxpdGVyYWwsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIih0ZW1wbGF0ZSBtaWRkbGUpXFxcIl09Xy5leHRlbmQoe3R5cGU6XFxcIih0ZW1wbGF0ZSBtaWRkbGUpXFxcIixtaWRkbGU6ITAsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIih0ZW1wbGF0ZSB0YWlsKVxcXCJdPV8uZXh0ZW5kKHt0eXBlOlxcXCIodGVtcGxhdGUgdGFpbClcXFwiLHRhaWw6ITAsbm9TdWJzdDohMX0sYmFzZVRlbXBsYXRlU3ludGF4KSxzdGF0ZS5zeW50YXhbXFxcIihubyBzdWJzdCB0ZW1wbGF0ZSlcXFwiXT1fLmV4dGVuZCh7dHlwZTpcXFwiKHRlbXBsYXRlKVxcXCIsbnVkOmRvVGVtcGxhdGVMaXRlcmFsLGxlZDpkb1RlbXBsYXRlTGl0ZXJhbCxub1N1YnN0OiEwLHRhaWw6ITB9LGJhc2VUZW1wbGF0ZVN5bnRheCksdHlwZShcXFwiKHJlZ2V4cClcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxkZWxpbShcXFwiKGVuZGxpbmUpXFxcIiksZGVsaW0oXFxcIihiZWdpbilcXFwiKSxkZWxpbShcXFwiKGVuZClcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiKGVycm9yKVxcXCIpLnJlYWNoPSEwLGRlbGltKFxcXCJ9XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIilcXFwiKSxkZWxpbShcXFwiXVxcXCIpLGRlbGltKCdcXFwiJykucmVhY2g9ITAsZGVsaW0oXFxcIidcXFwiKS5yZWFjaD0hMCxkZWxpbShcXFwiO1xcXCIpLGRlbGltKFxcXCI6XFxcIikucmVhY2g9ITAsZGVsaW0oXFxcIiNcXFwiKSxyZXNlcnZlKFxcXCJlbHNlXFxcIikscmVzZXJ2ZShcXFwiY2FzZVxcXCIpLnJlYWNoPSEwLHJlc2VydmUoXFxcImNhdGNoXFxcIikscmVzZXJ2ZShcXFwiZGVmYXVsdFxcXCIpLnJlYWNoPSEwLHJlc2VydmUoXFxcImZpbmFsbHlcXFwiKSxyZXNlcnZldmFyKFxcXCJhcmd1bWVudHNcXFwiLGZ1bmN0aW9uKHgpe3N0YXRlLmlzU3RyaWN0KCkmJnN0YXRlLmZ1bmN0W1xcXCIoZ2xvYmFsKVxcXCJdJiZ3YXJuaW5nKFxcXCJFMDA4XFxcIix4KX0pLHJlc2VydmV2YXIoXFxcImV2YWxcXFwiKSxyZXNlcnZldmFyKFxcXCJmYWxzZVxcXCIpLHJlc2VydmV2YXIoXFxcIkluZmluaXR5XFxcIikscmVzZXJ2ZXZhcihcXFwibnVsbFxcXCIpLHJlc2VydmV2YXIoXFxcInRoaXNcXFwiLGZ1bmN0aW9uKHgpe3N0YXRlLmlzU3RyaWN0KCkmJiFpc01ldGhvZCgpJiYhc3RhdGUub3B0aW9uLnZhbGlkdGhpcyYmKHN0YXRlLmZ1bmN0W1xcXCIoc3RhdGVtZW50KVxcXCJdJiZzdGF0ZS5mdW5jdFtcXFwiKG5hbWUpXFxcIl0uY2hhckF0KDApPlxcXCJaXFxcInx8c3RhdGUuZnVuY3RbXFxcIihnbG9iYWwpXFxcIl0pJiZ3YXJuaW5nKFxcXCJXMDQwXFxcIix4KX0pLHJlc2VydmV2YXIoXFxcInRydWVcXFwiKSxyZXNlcnZldmFyKFxcXCJ1bmRlZmluZWRcXFwiKSxhc3NpZ25vcChcXFwiPVxcXCIsXFxcImFzc2lnblxcXCIsMjApLGFzc2lnbm9wKFxcXCIrPVxcXCIsXFxcImFzc2lnbmFkZFxcXCIsMjApLGFzc2lnbm9wKFxcXCItPVxcXCIsXFxcImFzc2lnbnN1YlxcXCIsMjApLGFzc2lnbm9wKFxcXCIqPVxcXCIsXFxcImFzc2lnbm11bHRcXFwiLDIwKSxhc3NpZ25vcChcXFwiLz1cXFwiLFxcXCJhc3NpZ25kaXZcXFwiLDIwKS5udWQ9ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAxNFxcXCIpfSxhc3NpZ25vcChcXFwiJT1cXFwiLFxcXCJhc3NpZ25tb2RcXFwiLDIwKSxiaXR3aXNlYXNzaWdub3AoXFxcIiY9XFxcIiksYml0d2lzZWFzc2lnbm9wKFxcXCJ8PVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwiXj1cXFwiKSxiaXR3aXNlYXNzaWdub3AoXFxcIjw8PVxcXCIpLGJpdHdpc2Vhc3NpZ25vcChcXFwiPj49XFxcIiksYml0d2lzZWFzc2lnbm9wKFxcXCI+Pj49XFxcIiksaW5maXgoXFxcIixcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7dmFyIGV4cHI7aWYodGhhdC5leHBycz1bbGVmdF0sc3RhdGUub3B0aW9uLm5vY29tbWEmJndhcm5pbmcoXFxcIlcxMjdcXFwiKSwhY29tbWEoe3BlZWs6ITB9KSlyZXR1cm4gdGhhdDtmb3IoOzspe2lmKCEoZXhwcj1leHByZXNzaW9uKDEwKSkpYnJlYWs7aWYodGhhdC5leHBycy5wdXNoKGV4cHIpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlfHwhY29tbWEoKSlicmVha31yZXR1cm4gdGhhdH0sMTAsITApLGluZml4KFxcXCI/XFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiBpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZXhwcmVzc2lvbigxMCksYWR2YW5jZShcXFwiOlxcXCIpLHRoYXRbXFxcImVsc2VcXFwiXT1leHByZXNzaW9uKDEwKSx0aGF0fSwzMCk7dmFyIG9yUHJlY2VuZGVuY2U9NDA7aW5maXgoXFxcInx8XFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3JldHVybiBpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZXhwcmVzc2lvbihvclByZWNlbmRlbmNlKSx0aGF0fSxvclByZWNlbmRlbmNlKSxpbmZpeChcXFwiJiZcXFwiLFxcXCJhbmRcXFwiLDUwKSxiaXR3aXNlKFxcXCJ8XFxcIixcXFwiYml0b3JcXFwiLDcwKSxiaXR3aXNlKFxcXCJeXFxcIixcXFwiYml0eG9yXFxcIiw4MCksYml0d2lzZShcXFwiJlxcXCIsXFxcImJpdGFuZFxcXCIsOTApLHJlbGF0aW9uKFxcXCI9PVxcXCIsZnVuY3Rpb24obGVmdCxyaWdodCl7dmFyIGVxbnVsbD1zdGF0ZS5vcHRpb24uZXFudWxsJiYoXFxcIm51bGxcXFwiPT09KGxlZnQmJmxlZnQudmFsdWUpfHxcXFwibnVsbFxcXCI9PT0ocmlnaHQmJnJpZ2h0LnZhbHVlKSk7c3dpdGNoKCEwKXtjYXNlIWVxbnVsbCYmc3RhdGUub3B0aW9uLmVxZXFlcTp0aGlzLmZyb209dGhpcy5jaGFyYWN0ZXIsd2FybmluZyhcXFwiVzExNlxcXCIsdGhpcyxcXFwiPT09XFxcIixcXFwiPT1cXFwiKTticmVhaztjYXNlIGlzUG9vclJlbGF0aW9uKGxlZnQpOndhcm5pbmcoXFxcIlcwNDFcXFwiLHRoaXMsXFxcIj09PVxcXCIsbGVmdC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1Bvb3JSZWxhdGlvbihyaWdodCk6d2FybmluZyhcXFwiVzA0MVxcXCIsdGhpcyxcXFwiPT09XFxcIixyaWdodC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk6d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk7YnJlYWs7Y2FzZSBpc1R5cG9UeXBlb2YobGVmdCxyaWdodCxzdGF0ZSk6d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKX1yZXR1cm4gdGhpc30pLHJlbGF0aW9uKFxcXCI9PT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3JldHVybiBpc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk/d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk6aXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMTIyXFxcIix0aGlzLGxlZnQudmFsdWUpLHRoaXN9KSxyZWxhdGlvbihcXFwiIT1cXFwiLGZ1bmN0aW9uKGxlZnQscmlnaHQpe3ZhciBlcW51bGw9c3RhdGUub3B0aW9uLmVxbnVsbCYmKFxcXCJudWxsXFxcIj09PShsZWZ0JiZsZWZ0LnZhbHVlKXx8XFxcIm51bGxcXFwiPT09KHJpZ2h0JiZyaWdodC52YWx1ZSkpO3JldHVybiFlcW51bGwmJnN0YXRlLm9wdGlvbi5lcWVxZXE/KHRoaXMuZnJvbT10aGlzLmNoYXJhY3Rlcix3YXJuaW5nKFxcXCJXMTE2XFxcIix0aGlzLFxcXCIhPT1cXFwiLFxcXCIhPVxcXCIpKTppc1Bvb3JSZWxhdGlvbihsZWZ0KT93YXJuaW5nKFxcXCJXMDQxXFxcIix0aGlzLFxcXCIhPT1cXFwiLGxlZnQudmFsdWUpOmlzUG9vclJlbGF0aW9uKHJpZ2h0KT93YXJuaW5nKFxcXCJXMDQxXFxcIix0aGlzLFxcXCIhPT1cXFwiLHJpZ2h0LnZhbHVlKTppc1R5cG9UeXBlb2YocmlnaHQsbGVmdCxzdGF0ZSk/d2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxyaWdodC52YWx1ZSk6aXNUeXBvVHlwZW9mKGxlZnQscmlnaHQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMTIyXFxcIix0aGlzLGxlZnQudmFsdWUpLHRoaXN9KSxyZWxhdGlvbihcXFwiIT09XFxcIixmdW5jdGlvbihsZWZ0LHJpZ2h0KXtyZXR1cm4gaXNUeXBvVHlwZW9mKHJpZ2h0LGxlZnQsc3RhdGUpP3dhcm5pbmcoXFxcIlcxMjJcXFwiLHRoaXMscmlnaHQudmFsdWUpOmlzVHlwb1R5cGVvZihsZWZ0LHJpZ2h0LHN0YXRlKSYmd2FybmluZyhcXFwiVzEyMlxcXCIsdGhpcyxsZWZ0LnZhbHVlKSx0aGlzfSkscmVsYXRpb24oXFxcIjxcXFwiKSxyZWxhdGlvbihcXFwiPlxcXCIpLHJlbGF0aW9uKFxcXCI8PVxcXCIpLHJlbGF0aW9uKFxcXCI+PVxcXCIpLGJpdHdpc2UoXFxcIjw8XFxcIixcXFwic2hpZnRsZWZ0XFxcIiwxMjApLGJpdHdpc2UoXFxcIj4+XFxcIixcXFwic2hpZnRyaWdodFxcXCIsMTIwKSxiaXR3aXNlKFxcXCI+Pj5cXFwiLFxcXCJzaGlmdHJpZ2h0dW5zaWduZWRcXFwiLDEyMCksaW5maXgoXFxcImluXFxcIixcXFwiaW5cXFwiLDEyMCksaW5maXgoXFxcImluc3RhbmNlb2ZcXFwiLFxcXCJpbnN0YW5jZW9mXFxcIiwxMjApLGluZml4KFxcXCIrXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciByaWdodDtyZXR1cm4gdGhhdC5sZWZ0PWxlZnQsdGhhdC5yaWdodD1yaWdodD1leHByZXNzaW9uKDEzMCksbGVmdCYmcmlnaHQmJlxcXCIoc3RyaW5nKVxcXCI9PT1sZWZ0LmlkJiZcXFwiKHN0cmluZylcXFwiPT09cmlnaHQuaWQ/KGxlZnQudmFsdWUrPXJpZ2h0LnZhbHVlLGxlZnQuY2hhcmFjdGVyPXJpZ2h0LmNoYXJhY3Rlciwhc3RhdGUub3B0aW9uLnNjcmlwdHVybCYmcmVnLmphdmFzY3JpcHRVUkwudGVzdChsZWZ0LnZhbHVlKSYmd2FybmluZyhcXFwiVzA1MFxcXCIsbGVmdCksbGVmdCk6dGhhdH0sMTMwKSxwcmVmaXgoXFxcIitcXFwiLFxcXCJudW1cXFwiKSxwcmVmaXgoXFxcIisrK1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gd2FybmluZyhcXFwiVzAwN1xcXCIpLHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzfSksaW5maXgoXFxcIisrK1xcXCIsZnVuY3Rpb24obGVmdCl7cmV0dXJuIHdhcm5pbmcoXFxcIlcwMDdcXFwiKSx0aGlzLmxlZnQ9bGVmdCx0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTMwKSx0aGlzfSwxMzApLGluZml4KFxcXCItXFxcIixcXFwic3ViXFxcIiwxMzApLHByZWZpeChcXFwiLVxcXCIsXFxcIm5lZ1xcXCIpLHByZWZpeChcXFwiLS0tXFxcIixmdW5jdGlvbigpe3JldHVybiB3YXJuaW5nKFxcXCJXMDA2XFxcIiksdGhpcy5hcml0eT1cXFwidW5hcnlcXFwiLHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxNTApLHRoaXN9KSxpbmZpeChcXFwiLS0tXFxcIixmdW5jdGlvbihsZWZ0KXtyZXR1cm4gd2FybmluZyhcXFwiVzAwNlxcXCIpLHRoaXMubGVmdD1sZWZ0LHRoaXMucmlnaHQ9ZXhwcmVzc2lvbigxMzApLHRoaXN9LDEzMCksaW5maXgoXFxcIipcXFwiLFxcXCJtdWx0XFxcIiwxNDApLGluZml4KFxcXCIvXFxcIixcXFwiZGl2XFxcIiwxNDApLGluZml4KFxcXCIlXFxcIixcXFwibW9kXFxcIiwxNDApLHN1ZmZpeChcXFwiKytcXFwiKSxwcmVmaXgoXFxcIisrXFxcIixcXFwicHJlaW5jXFxcIiksc3RhdGUuc3ludGF4W1xcXCIrK1xcXCJdLmV4cHM9ITAsc3VmZml4KFxcXCItLVxcXCIpLHByZWZpeChcXFwiLS1cXFwiLFxcXCJwcmVkZWNcXFwiKSxzdGF0ZS5zeW50YXhbXFxcIi0tXFxcIl0uZXhwcz0hMCxwcmVmaXgoXFxcImRlbGV0ZVxcXCIsZnVuY3Rpb24oKXt2YXIgcD1leHByZXNzaW9uKDEwKTtyZXR1cm4gcD8oXFxcIi5cXFwiIT09cC5pZCYmXFxcIltcXFwiIT09cC5pZCYmd2FybmluZyhcXFwiVzA1MVxcXCIpLHRoaXMuZmlyc3Q9cCxwLmlkZW50aWZpZXImJiFzdGF0ZS5pc1N0cmljdCgpJiYocC5mb3JnaXZlVW5kZWY9ITApLHRoaXMpOnRoaXN9KS5leHBzPSEwLHByZWZpeChcXFwiflxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUub3B0aW9uLmJpdHdpc2UmJndhcm5pbmcoXFxcIlcwMTZcXFwiLHRoaXMsXFxcIn5cXFwiKSx0aGlzLmFyaXR5PVxcXCJ1bmFyeVxcXCIsdGhpcy5yaWdodD1leHByZXNzaW9uKDE1MCksdGhpc30pLHByZWZpeChcXFwiLi4uXFxcIixmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5pbkVTNighMCl8fHdhcm5pbmcoXFxcIlcxMTlcXFwiLHRoaXMsXFxcInNwcmVhZC9yZXN0IG9wZXJhdG9yXFxcIixcXFwiNlxcXCIpLHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXJ8fFxcXCIoc3RyaW5nKVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC50eXBlfHxjaGVja1B1bmN0dWF0b3JzKHN0YXRlLnRva2Vucy5uZXh0LFtcXFwiW1xcXCIsXFxcIihcXFwiXSl8fGVycm9yKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksZXhwcmVzc2lvbigxNTApLHRoaXN9KSxwcmVmaXgoXFxcIiFcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJpdHk9XFxcInVuYXJ5XFxcIix0aGlzLnJpZ2h0PWV4cHJlc3Npb24oMTUwKSx0aGlzLnJpZ2h0fHxxdWl0KFxcXCJFMDQxXFxcIix0aGlzLmxpbmV8fDApLGJhbmdbdGhpcy5yaWdodC5pZF09PT0hMCYmd2FybmluZyhcXFwiVzAxOFxcXCIsdGhpcyxcXFwiIVxcXCIpLHRoaXN9KSxwcmVmaXgoXFxcInR5cGVvZlxcXCIsZnVuY3Rpb24oKXt2YXIgcD1leHByZXNzaW9uKDE1MCk7cmV0dXJuIHRoaXMuZmlyc3Q9dGhpcy5yaWdodD1wLHB8fHF1aXQoXFxcIkUwNDFcXFwiLHRoaXMubGluZXx8MCx0aGlzLmNoYXJhY3Rlcnx8MCkscC5pZGVudGlmaWVyJiYocC5mb3JnaXZlVW5kZWY9ITApLHRoaXN9KSxwcmVmaXgoXFxcIm5ld1xcXCIsZnVuY3Rpb24oKXt2YXIgbXA9bWV0YVByb3BlcnR5KFxcXCJ0YXJnZXRcXFwiLGZ1bmN0aW9uKCl7c3RhdGUuaW5FUzYoITApfHx3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMucHJldixcXFwibmV3LnRhcmdldFxcXCIsXFxcIjZcXFwiKTtmb3IodmFyIGluRnVuY3Rpb24sYz1zdGF0ZS5mdW5jdDtjJiYoaW5GdW5jdGlvbj0hY1tcXFwiKGdsb2JhbClcXFwiXSxjW1xcXCIoYXJyb3cpXFxcIl0pOyljPWNbXFxcIihjb250ZXh0KVxcXCJdO2luRnVuY3Rpb258fHdhcm5pbmcoXFxcIlcxMzZcXFwiLHN0YXRlLnRva2Vucy5wcmV2LFxcXCJuZXcudGFyZ2V0XFxcIil9KTtpZihtcClyZXR1cm4gbXA7dmFyIGksYz1leHByZXNzaW9uKDE1NSk7aWYoYyYmXFxcImZ1bmN0aW9uXFxcIiE9PWMuaWQpaWYoYy5pZGVudGlmaWVyKXN3aXRjaChjW1xcXCJuZXdcXFwiXT0hMCxjLnZhbHVlKXtjYXNlXFxcIk51bWJlclxcXCI6Y2FzZVxcXCJTdHJpbmdcXFwiOmNhc2VcXFwiQm9vbGVhblxcXCI6Y2FzZVxcXCJNYXRoXFxcIjpjYXNlXFxcIkpTT05cXFwiOndhcm5pbmcoXFxcIlcwNTNcXFwiLHN0YXRlLnRva2Vucy5wcmV2LGMudmFsdWUpO2JyZWFrO2Nhc2VcXFwiU3ltYm9sXFxcIjpzdGF0ZS5pbkVTNigpJiZ3YXJuaW5nKFxcXCJXMDUzXFxcIixzdGF0ZS50b2tlbnMucHJldixjLnZhbHVlKTticmVhaztjYXNlXFxcIkZ1bmN0aW9uXFxcIjpzdGF0ZS5vcHRpb24uZXZpbHx8d2FybmluZyhcXFwiVzA1NFxcXCIpO2JyZWFrO2Nhc2VcXFwiRGF0ZVxcXCI6Y2FzZVxcXCJSZWdFeHBcXFwiOmNhc2VcXFwidGhpc1xcXCI6YnJlYWs7ZGVmYXVsdDpcXFwiZnVuY3Rpb25cXFwiIT09Yy5pZCYmKGk9Yy52YWx1ZS5zdWJzdHIoMCwxKSxzdGF0ZS5vcHRpb24ubmV3Y2FwJiYoXFxcIkFcXFwiPml8fGk+XFxcIlpcXFwiKSYmIXN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uaXNQcmVkZWZpbmVkKGMudmFsdWUpJiZ3YXJuaW5nKFxcXCJXMDU1XFxcIixzdGF0ZS50b2tlbnMuY3VycikpfWVsc2VcXFwiLlxcXCIhPT1jLmlkJiZcXFwiW1xcXCIhPT1jLmlkJiZcXFwiKFxcXCIhPT1jLmlkJiZ3YXJuaW5nKFxcXCJXMDU2XFxcIixzdGF0ZS50b2tlbnMuY3Vycik7ZWxzZSBzdGF0ZS5vcHRpb24uc3VwZXJuZXd8fHdhcm5pbmcoXFxcIlcwNTdcXFwiLHRoaXMpO3JldHVyblxcXCIoXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxzdGF0ZS5vcHRpb24uc3VwZXJuZXd8fHdhcm5pbmcoXFxcIlcwNThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLHN0YXRlLnRva2Vucy5jdXJyLnZhbHVlKSx0aGlzLmZpcnN0PXRoaXMucmlnaHQ9Yyx0aGlzfSksc3RhdGUuc3ludGF4W1xcXCJuZXdcXFwiXS5leHBzPSEwLHByZWZpeChcXFwidm9pZFxcXCIpLmV4cHM9ITAsaW5maXgoXFxcIi5cXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7dmFyIG09aWRlbnRpZmllcighMSwhMCk7cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBtJiZjb3VudE1lbWJlcihtKSx0aGF0LmxlZnQ9bGVmdCx0aGF0LnJpZ2h0PW0sbSYmXFxcImhhc093blByb3BlcnR5XFxcIj09PW0mJlxcXCI9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiZ3YXJuaW5nKFxcXCJXMDAxXFxcIiksIWxlZnR8fFxcXCJhcmd1bWVudHNcXFwiIT09bGVmdC52YWx1ZXx8XFxcImNhbGxlZVxcXCIhPT1tJiZcXFwiY2FsbGVyXFxcIiE9PW0/c3RhdGUub3B0aW9uLmV2aWx8fCFsZWZ0fHxcXFwiZG9jdW1lbnRcXFwiIT09bGVmdC52YWx1ZXx8XFxcIndyaXRlXFxcIiE9PW0mJlxcXCJ3cml0ZWxuXFxcIiE9PW18fHdhcm5pbmcoXFxcIlcwNjBcXFwiLGxlZnQpOnN0YXRlLm9wdGlvbi5ub2FyZz93YXJuaW5nKFxcXCJXMDU5XFxcIixsZWZ0LG0pOnN0YXRlLmlzU3RyaWN0KCkmJmVycm9yKFxcXCJFMDA4XFxcIiksc3RhdGUub3B0aW9uLmV2aWx8fFxcXCJldmFsXFxcIiE9PW0mJlxcXCJleGVjU2NyaXB0XFxcIiE9PW18fGlzR2xvYmFsRXZhbChsZWZ0LHN0YXRlKSYmd2FybmluZyhcXFwiVzA2MVxcXCIpLHRoYXR9LDE2MCwhMCksaW5maXgoXFxcIihcXFwiLGZ1bmN0aW9uKGxlZnQsdGhhdCl7c3RhdGUub3B0aW9uLmltbWVkJiZsZWZ0JiYhbGVmdC5pbW1lZCYmXFxcImZ1bmN0aW9uXFxcIj09PWxlZnQuaWQmJndhcm5pbmcoXFxcIlcwNjJcXFwiKTt2YXIgbj0wLHA9W107aWYobGVmdCYmXFxcIihpZGVudGlmaWVyKVxcXCI9PT1sZWZ0LnR5cGUmJmxlZnQudmFsdWUubWF0Y2goL15bQS1aXShbQS1aMC05XyRdKlthLXpdW0EtWmEtejAtOV8kXSopPyQvKSYmLTE9PT1cXFwiQXJyYXkgTnVtYmVyIFN0cmluZyBCb29sZWFuIERhdGUgT2JqZWN0IEVycm9yIFN5bWJvbFxcXCIuaW5kZXhPZihsZWZ0LnZhbHVlKSYmKFxcXCJNYXRoXFxcIj09PWxlZnQudmFsdWU/d2FybmluZyhcXFwiVzA2M1xcXCIsbGVmdCk6c3RhdGUub3B0aW9uLm5ld2NhcCYmd2FybmluZyhcXFwiVzA2NFxcXCIsbGVmdCkpLFxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7cFtwLmxlbmd0aF09ZXhwcmVzc2lvbigxMCksbis9MSxcXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspY29tbWEoKTtyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIpLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgbGVmdCYmKHN0YXRlLmluRVM1KCl8fFxcXCJwYXJzZUludFxcXCIhPT1sZWZ0LnZhbHVlfHwxIT09bnx8d2FybmluZyhcXFwiVzA2NVxcXCIsc3RhdGUudG9rZW5zLmN1cnIpLHN0YXRlLm9wdGlvbi5ldmlsfHwoXFxcImV2YWxcXFwiPT09bGVmdC52YWx1ZXx8XFxcIkZ1bmN0aW9uXFxcIj09PWxlZnQudmFsdWV8fFxcXCJleGVjU2NyaXB0XFxcIj09PWxlZnQudmFsdWU/KHdhcm5pbmcoXFxcIlcwNjFcXFwiLGxlZnQpLHBbMF0mJlxcXCIoc3RyaW5nKVxcXCI9PT1bMF0uaWQmJmFkZEludGVybmFsU3JjKGxlZnQscFswXS52YWx1ZSkpOiFwWzBdfHxcXFwiKHN0cmluZylcXFwiIT09cFswXS5pZHx8XFxcInNldFRpbWVvdXRcXFwiIT09bGVmdC52YWx1ZSYmXFxcInNldEludGVydmFsXFxcIiE9PWxlZnQudmFsdWU/IXBbMF18fFxcXCIoc3RyaW5nKVxcXCIhPT1wWzBdLmlkfHxcXFwiLlxcXCIhPT1sZWZ0LnZhbHVlfHxcXFwid2luZG93XFxcIiE9PWxlZnQubGVmdC52YWx1ZXx8XFxcInNldFRpbWVvdXRcXFwiIT09bGVmdC5yaWdodCYmXFxcInNldEludGVydmFsXFxcIiE9PWxlZnQucmlnaHR8fCh3YXJuaW5nKFxcXCJXMDY2XFxcIixsZWZ0KSxhZGRJbnRlcm5hbFNyYyhsZWZ0LHBbMF0udmFsdWUpKTood2FybmluZyhcXFwiVzA2NlxcXCIsbGVmdCksYWRkSW50ZXJuYWxTcmMobGVmdCxwWzBdLnZhbHVlKSkpLGxlZnQuaWRlbnRpZmllcnx8XFxcIi5cXFwiPT09bGVmdC5pZHx8XFxcIltcXFwiPT09bGVmdC5pZHx8XFxcIj0+XFxcIj09PWxlZnQuaWR8fFxcXCIoXFxcIj09PWxlZnQuaWR8fFxcXCImJlxcXCI9PT1sZWZ0LmlkfHxcXFwifHxcXFwiPT09bGVmdC5pZHx8XFxcIj9cXFwiPT09bGVmdC5pZHx8c3RhdGUuaW5FUzYoKSYmbGVmdFtcXFwiKG5hbWUpXFxcIl18fHdhcm5pbmcoXFxcIlcwNjdcXFwiLHRoYXQpKSx0aGF0LmxlZnQ9bGVmdCx0aGF0fSwxNTUsITApLmV4cHM9ITAscHJlZml4KFxcXCIoXFxcIixmdW5jdGlvbigpe3ZhciBwbjEscmV0LHRyaWdnZXJGbkV4cHIsZmlyc3QsbGFzdCxwbj1zdGF0ZS50b2tlbnMubmV4dCxpPS0xLHBhcmVucz0xLG9wZW5pbmc9c3RhdGUudG9rZW5zLmN1cnIscHJlY2VlZGluZz1zdGF0ZS50b2tlbnMucHJldixpc05lY2Vzc2FyeT0hc3RhdGUub3B0aW9uLnNpbmdsZUdyb3Vwcztkb1xcXCIoXFxcIj09PXBuLnZhbHVlP3BhcmVucys9MTpcXFwiKVxcXCI9PT1wbi52YWx1ZSYmKHBhcmVucy09MSksaSs9MSxwbjE9cG4scG49cGVlayhpKTt3aGlsZSgoMCE9PXBhcmVuc3x8XFxcIilcXFwiIT09cG4xLnZhbHVlKSYmXFxcIjtcXFwiIT09cG4udmFsdWUmJlxcXCIoZW5kKVxcXCIhPT1wbi50eXBlKTtpZihcXFwiZnVuY3Rpb25cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJih0cmlnZ2VyRm5FeHByPXN0YXRlLnRva2Vucy5uZXh0LmltbWVkPSEwKSxcXFwiPT5cXFwiPT09cG4udmFsdWUpcmV0dXJuIGRvRnVuY3Rpb24oe3R5cGU6XFxcImFycm93XFxcIixwYXJzZWRPcGVuaW5nOiEwfSk7dmFyIGV4cHJzPVtdO2lmKFxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWZvcig7ZXhwcnMucHVzaChleHByZXNzaW9uKDEwKSksXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXN0YXRlLm9wdGlvbi5ub2NvbW1hJiZ3YXJuaW5nKFxcXCJXMTI3XFxcIiksY29tbWEoKTtyZXR1cm4gYWR2YW5jZShcXFwiKVxcXCIsdGhpcyksc3RhdGUub3B0aW9uLmltbWVkJiZleHByc1swXSYmXFxcImZ1bmN0aW9uXFxcIj09PWV4cHJzWzBdLmlkJiZcXFwiKFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmXFxcIi5cXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJlxcXCJbXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZ3YXJuaW5nKFxcXCJXMDY4XFxcIix0aGlzKSxleHBycy5sZW5ndGg/KGV4cHJzLmxlbmd0aD4xPyhyZXQ9T2JqZWN0LmNyZWF0ZShzdGF0ZS5zeW50YXhbXFxcIixcXFwiXSkscmV0LmV4cHJzPWV4cHJzLGZpcnN0PWV4cHJzWzBdLGxhc3Q9ZXhwcnNbZXhwcnMubGVuZ3RoLTFdLGlzTmVjZXNzYXJ5fHwoaXNOZWNlc3Nhcnk9cHJlY2VlZGluZy5hc3NpZ258fHByZWNlZWRpbmcuZGVsaW0pKToocmV0PWZpcnN0PWxhc3Q9ZXhwcnNbMF0saXNOZWNlc3Nhcnl8fChpc05lY2Vzc2FyeT1vcGVuaW5nLmJlZ2luc1N0bXQmJihcXFwie1xcXCI9PT1yZXQuaWR8fHRyaWdnZXJGbkV4cHJ8fGlzRnVuY3RvcihyZXQpKXx8dHJpZ2dlckZuRXhwciYmKCFpc0VuZE9mRXhwcigpfHxcXFwifVxcXCIhPT1zdGF0ZS50b2tlbnMucHJldi5pZCl8fGlzRnVuY3RvcihyZXQpJiYhaXNFbmRPZkV4cHIoKXx8XFxcIntcXFwiPT09cmV0LmlkJiZcXFwiPT5cXFwiPT09cHJlY2VlZGluZy5pZHx8XFxcIihudW1iZXIpXFxcIj09PXJldC50eXBlJiZjaGVja1B1bmN0dWF0b3IocG4sXFxcIi5cXFwiKSYmL15cXFxcZCskLy50ZXN0KHJldC52YWx1ZSkpKSxyZXQmJighaXNOZWNlc3NhcnkmJihmaXJzdC5sZWZ0fHxmaXJzdC5yaWdodHx8cmV0LmV4cHJzKSYmKGlzTmVjZXNzYXJ5PSFpc0JlZ2luT2ZFeHByKHByZWNlZWRpbmcpJiZmaXJzdC5sYnA8PXByZWNlZWRpbmcubGJwfHwhaXNFbmRPZkV4cHIoKSYmbGFzdC5sYnA8c3RhdGUudG9rZW5zLm5leHQubGJwKSxpc05lY2Vzc2FyeXx8d2FybmluZyhcXFwiVzEyNlxcXCIsb3BlbmluZykscmV0LnBhcmVuPSEwKSxyZXQpOnZvaWQgMH0pLGFwcGxpY2F0aW9uKFxcXCI9PlxcXCIpLGluZml4KFxcXCJbXFxcIixmdW5jdGlvbihsZWZ0LHRoYXQpe3ZhciBzLGU9ZXhwcmVzc2lvbigxMCk7cmV0dXJuIGUmJlxcXCIoc3RyaW5nKVxcXCI9PT1lLnR5cGUmJihzdGF0ZS5vcHRpb24uZXZpbHx8XFxcImV2YWxcXFwiIT09ZS52YWx1ZSYmXFxcImV4ZWNTY3JpcHRcXFwiIT09ZS52YWx1ZXx8aXNHbG9iYWxFdmFsKGxlZnQsc3RhdGUpJiZ3YXJuaW5nKFxcXCJXMDYxXFxcIiksY291bnRNZW1iZXIoZS52YWx1ZSksIXN0YXRlLm9wdGlvbi5zdWImJnJlZy5pZGVudGlmaWVyLnRlc3QoZS52YWx1ZSkmJihzPXN0YXRlLnN5bnRheFtlLnZhbHVlXSxzJiZpc1Jlc2VydmVkKHMpfHx3YXJuaW5nKFxcXCJXMDY5XFxcIixzdGF0ZS50b2tlbnMucHJldixlLnZhbHVlKSkpLGFkdmFuY2UoXFxcIl1cXFwiLHRoYXQpLGUmJlxcXCJoYXNPd25Qcm9wZXJ0eVxcXCI9PT1lLnZhbHVlJiZcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmd2FybmluZyhcXFwiVzAwMVxcXCIpLHRoYXQubGVmdD1sZWZ0LHRoYXQucmlnaHQ9ZSx0aGF0fSwxNjAsITApLHByZWZpeChcXFwiW1xcXCIsZnVuY3Rpb24oKXt2YXIgYmxvY2t0eXBlPWxvb2t1cEJsb2NrVHlwZSgpO2lmKGJsb2NrdHlwZS5pc0NvbXBBcnJheSlyZXR1cm4gc3RhdGUub3B0aW9uLmVzbmV4dHx8c3RhdGUuaW5Nb3ooKXx8d2FybmluZyhcXFwiVzExOFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImFycmF5IGNvbXByZWhlbnNpb25cXFwiKSxjb21wcmVoZW5zaXZlQXJyYXlFeHByZXNzaW9uKCk7aWYoYmxvY2t0eXBlLmlzRGVzdEFzc2lnbilyZXR1cm4gdGhpcy5kZXN0cnVjdEFzc2lnbj1kZXN0cnVjdHVyaW5nUGF0dGVybih7b3BlbmluZ1BhcnNlZDohMCxhc3NpZ25tZW50OiEwfSksdGhpczt2YXIgYj1zdGF0ZS50b2tlbnMuY3Vyci5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KTtmb3IodGhpcy5maXJzdD1bXSxiJiYoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQrc3RhdGUub3B0aW9uLmluZGVudCYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCkpO1xcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZDspe2Zvcig7XFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KXtpZighc3RhdGUub3B0aW9uLmVsaXNpb24pe2lmKHN0YXRlLmluRVM1KCkpe3dhcm5pbmcoXFxcIlcxMjhcXFwiKTtkbyBhZHZhbmNlKFxcXCIsXFxcIik7d2hpbGUoXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpO2NvbnRpbnVlfXdhcm5pbmcoXFxcIlcwNzBcXFwiKX1hZHZhbmNlKFxcXCIsXFxcIil9aWYoXFxcIl1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYnJlYWs7aWYodGhpcy5maXJzdC5wdXNoKGV4cHJlc3Npb24oMTApKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztpZihjb21tYSh7YWxsb3dUcmFpbGluZzohMH0pLFxcXCJdXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYhc3RhdGUuaW5FUzUoKSl7d2FybmluZyhcXFwiVzA3MFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpO2JyZWFrfX1yZXR1cm4gYiYmKGluZGVudC09c3RhdGUub3B0aW9uLmluZGVudCksYWR2YW5jZShcXFwiXVxcXCIsdGhpcyksdGhpc30pLGZ1bmN0aW9uKHgpe3gubnVkPWZ1bmN0aW9uKCl7dmFyIGIsZixpLHAsdCxuZXh0VmFsLGlzR2VuZXJhdG9yTWV0aG9kPSExLHByb3BzPU9iamVjdC5jcmVhdGUobnVsbCk7Yj1zdGF0ZS50b2tlbnMuY3Vyci5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KSxiJiYoaW5kZW50Kz1zdGF0ZS5vcHRpb24uaW5kZW50LHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQrc3RhdGUub3B0aW9uLmluZGVudCYmKGluZGVudCs9c3RhdGUub3B0aW9uLmluZGVudCkpO3ZhciBibG9ja3R5cGU9bG9va3VwQmxvY2tUeXBlKCk7aWYoYmxvY2t0eXBlLmlzRGVzdEFzc2lnbilyZXR1cm4gdGhpcy5kZXN0cnVjdEFzc2lnbj1kZXN0cnVjdHVyaW5nUGF0dGVybih7b3BlbmluZ1BhcnNlZDohMCxhc3NpZ25tZW50OiEwfSksdGhpcztmb3IoO1xcXCJ9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkOyl7aWYobmV4dFZhbD1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSwhc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcnx8XFxcIixcXFwiIT09cGVla0lnbm9yZUVPTCgpLmlkJiZcXFwifVxcXCIhPT1wZWVrSWdub3JlRU9MKCkuaWQpaWYoXFxcIjpcXFwiPT09cGVlaygpLmlkfHxcXFwiZ2V0XFxcIiE9PW5leHRWYWwmJlxcXCJzZXRcXFwiIT09bmV4dFZhbCl7aWYoXFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJlxcXCIocHVuY3R1YXRvcilcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZT8oc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImdlbmVyYXRvciBmdW5jdGlvbnNcXFwiLFxcXCI2XFxcIiksYWR2YW5jZShcXFwiKlxcXCIpLGlzR2VuZXJhdG9yTWV0aG9kPSEwKTppc0dlbmVyYXRvck1ldGhvZD0hMSxcXFwiW1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClpPWNvbXB1dGVkUHJvcGVydHlOYW1lKCksc3RhdGUubmFtZVN0YWNrLnNldChpKTtlbHNlIGlmKHN0YXRlLm5hbWVTdGFjay5zZXQoc3RhdGUudG9rZW5zLm5leHQpLGk9cHJvcGVydHlOYW1lKCksc2F2ZVByb3BlcnR5KHByb3BzLGksc3RhdGUudG9rZW5zLm5leHQpLFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgaSlicmVhaztcXFwiKFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZT8oc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImNvbmNpc2UgbWV0aG9kc1xcXCIsXFxcIjZcXFwiKSxkb0Z1bmN0aW9uKHt0eXBlOmlzR2VuZXJhdG9yTWV0aG9kP1xcXCJnZW5lcmF0b3JcXFwiOm51bGx9KSk6KGFkdmFuY2UoXFxcIjpcXFwiKSxleHByZXNzaW9uKDEwKSl9ZWxzZSBhZHZhbmNlKG5leHRWYWwpLHN0YXRlLmluRVM1KCl8fGVycm9yKFxcXCJFMDM0XFxcIiksaT1wcm9wZXJ0eU5hbWUoKSxpfHxzdGF0ZS5pbkVTNigpfHxlcnJvcihcXFwiRTAzNVxcXCIpLGkmJnNhdmVBY2Nlc3NvcihuZXh0VmFsLHByb3BzLGksc3RhdGUudG9rZW5zLmN1cnIpLHQ9c3RhdGUudG9rZW5zLm5leHQsZj1kb0Z1bmN0aW9uKCkscD1mW1xcXCIocGFyYW1zKVxcXCJdLFxcXCJnZXRcXFwiPT09bmV4dFZhbCYmaSYmcD93YXJuaW5nKFxcXCJXMDc2XFxcIix0LHBbMF0saSk6XFxcInNldFxcXCIhPT1uZXh0VmFsfHwhaXx8cCYmMT09PXAubGVuZ3RofHx3YXJuaW5nKFxcXCJXMDc3XFxcIix0LGkpO2Vsc2Ugc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIm9iamVjdCBzaG9ydCBub3RhdGlvblxcXCIsXFxcIjZcXFwiKSxpPXByb3BlcnR5TmFtZSghMCksc2F2ZVByb3BlcnR5KHByb3BzLGksc3RhdGUudG9rZW5zLm5leHQpLGV4cHJlc3Npb24oMTApO2lmKGNvdW50TWVtYmVyKGkpLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWJyZWFrO2NvbW1hKHthbGxvd1RyYWlsaW5nOiEwLHByb3BlcnR5OiEwfSksXFxcIixcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/d2FybmluZyhcXFwiVzA3MFxcXCIsc3RhdGUudG9rZW5zLmN1cnIpOlxcXCJ9XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkfHxzdGF0ZS5pbkVTNSgpfHx3YXJuaW5nKFxcXCJXMDcwXFxcIixzdGF0ZS50b2tlbnMuY3Vycil9cmV0dXJuIGImJihpbmRlbnQtPXN0YXRlLm9wdGlvbi5pbmRlbnQpLGFkdmFuY2UoXFxcIn1cXFwiLHRoaXMpLGNoZWNrUHJvcGVydGllcyhwcm9wcyksdGhpc30seC5mdWQ9ZnVuY3Rpb24oKXtlcnJvcihcXFwiRTAzNlxcXCIsc3RhdGUudG9rZW5zLmN1cnIpfX0oZGVsaW0oXFxcIntcXFwiKSk7dmFyIGNvbnN0c3RhdGVtZW50PXN0bXQoXFxcImNvbnN0XFxcIixmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gYmxvY2tWYXJpYWJsZVN0YXRlbWVudChcXFwiY29uc3RcXFwiLHRoaXMsY29udGV4dCl9KTtjb25zdHN0YXRlbWVudC5leHBzPSEwO3ZhciBsZXRzdGF0ZW1lbnQ9c3RtdChcXFwibGV0XFxcIixmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gYmxvY2tWYXJpYWJsZVN0YXRlbWVudChcXFwibGV0XFxcIix0aGlzLGNvbnRleHQpfSk7bGV0c3RhdGVtZW50LmV4cHM9ITA7dmFyIHZhcnN0YXRlbWVudD1zdG10KFxcXCJ2YXJcXFwiLGZ1bmN0aW9uKGNvbnRleHQpe3ZhciB0b2tlbnMsbG9uZSx2YWx1ZSxwcmVmaXg9Y29udGV4dCYmY29udGV4dC5wcmVmaXgsaW5leHBvcnQ9Y29udGV4dCYmY29udGV4dC5pbmV4cG9ydCxpbXBsaWVkPWNvbnRleHQmJmNvbnRleHQuaW1wbGllZCxyZXBvcnQ9IShjb250ZXh0JiZjb250ZXh0Lmlnbm9yZSk7Zm9yKHRoaXMuZmlyc3Q9W107Oyl7dmFyIG5hbWVzPVtdO18uY29udGFpbnMoW1xcXCJ7XFxcIixcXFwiW1xcXCJdLHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKT8odG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCksbG9uZT0hMSk6KHRva2Vucz1be2lkOmlkZW50aWZpZXIoKSx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn1dLGxvbmU9ITApLHByZWZpeCYmaW1wbGllZHx8IXJlcG9ydHx8IXN0YXRlLm9wdGlvbi52YXJzdG10fHx3YXJuaW5nKFxcXCJXMTMyXFxcIix0aGlzKSx0aGlzLmZpcnN0PXRoaXMuZmlyc3QuY29uY2F0KG5hbWVzKTtmb3IodmFyIHQgaW4gdG9rZW5zKXRva2Vucy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dG9rZW5zW3RdLCFpbXBsaWVkJiZzdGF0ZS5mdW5jdFtcXFwiKGdsb2JhbClcXFwiXSYmKHByZWRlZmluZWRbdC5pZF09PT0hMT93YXJuaW5nKFxcXCJXMDc5XFxcIix0LnRva2VuLHQuaWQpOnN0YXRlLm9wdGlvbi5mdXR1cmVob3N0aWxlPT09ITEmJighc3RhdGUuaW5FUzUoKSYmdmFycy5lY21hSWRlbnRpZmllcnNbNV1bdC5pZF09PT0hMXx8IXN0YXRlLmluRVM2KCkmJnZhcnMuZWNtYUlkZW50aWZpZXJzWzZdW3QuaWRdPT09ITEpJiZ3YXJuaW5nKFxcXCJXMTI5XFxcIix0LnRva2VuLHQuaWQpKSx0LmlkJiYoXFxcImZvclxcXCI9PT1pbXBsaWVkPyhzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmhhcyh0LmlkKXx8cmVwb3J0JiZ3YXJuaW5nKFxcXCJXMDg4XFxcIix0LnRva2VuLHQuaWQpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHQuaWQsdC50b2tlbikpOihzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHQuaWQse3R5cGU6XFxcInZhclxcXCIsdG9rZW46dC50b2tlbn0pLGxvbmUmJmluZXhwb3J0JiZzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLnNldEV4cG9ydGVkKHQuaWQsdC50b2tlbikpLG5hbWVzLnB1c2godC50b2tlbikpKTtpZihcXFwiPVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKHN0YXRlLm5hbWVTdGFjay5zZXQoc3RhdGUudG9rZW5zLmN1cnIpLGFkdmFuY2UoXFxcIj1cXFwiKSxwcmVmaXh8fCFyZXBvcnR8fHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXXx8XFxcInVuZGVmaW5lZFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8d2FybmluZyhcXFwiVzA4MFxcXCIsc3RhdGUudG9rZW5zLnByZXYsc3RhdGUudG9rZW5zLnByZXYudmFsdWUpLFxcXCI9XFxcIj09PXBlZWsoMCkuaWQmJnN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXImJighcHJlZml4JiZyZXBvcnQmJiFzdGF0ZS5mdW5jdFtcXFwiKHBhcmFtcylcXFwiXXx8LTE9PT1zdGF0ZS5mdW5jdFtcXFwiKHBhcmFtcylcXFwiXS5pbmRleE9mKHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSkmJndhcm5pbmcoXFxcIlcxMjBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSx2YWx1ZT1leHByZXNzaW9uKHByZWZpeD8xMjA6MTApLGxvbmU/dG9rZW5zWzBdLmZpcnN0PXZhbHVlOmRlc3RydWN0dXJpbmdQYXR0ZXJuTWF0Y2gobmFtZXMsdmFsdWUpKSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZClicmVhaztjb21tYSgpfXJldHVybiB0aGlzfSk7dmFyc3RhdGVtZW50LmV4cHM9ITAsYmxvY2tzdG10KFxcXCJjbGFzc1xcXCIsZnVuY3Rpb24oKXtyZXR1cm4gY2xhc3NkZWYuY2FsbCh0aGlzLCEwKX0pLGJsb2Nrc3RtdChcXFwiZnVuY3Rpb25cXFwiLGZ1bmN0aW9uKGNvbnRleHQpe3ZhciBpbmV4cG9ydD1jb250ZXh0JiZjb250ZXh0LmluZXhwb3J0LGdlbmVyYXRvcj0hMTtcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKGFkdmFuY2UoXFxcIipcXFwiKSxzdGF0ZS5pbkVTNih7c3RyaWN0OiEwfSk/Z2VuZXJhdG9yPSEwOndhcm5pbmcoXFxcIlcxMTlcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJmdW5jdGlvbipcXFwiLFxcXCI2XFxcIikpLGluYmxvY2smJndhcm5pbmcoXFxcIlcwODJcXFwiLHN0YXRlLnRva2Vucy5jdXJyKTt2YXIgaT1vcHRpb25hbGlkZW50aWZpZXIoKTtyZXR1cm4gc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbChpLHt0eXBlOlxcXCJmdW5jdGlvblxcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSx2b2lkIDA9PT1pP3dhcm5pbmcoXFxcIlcwMjVcXFwiKTppbmV4cG9ydCYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZChpLHN0YXRlLnRva2Vucy5wcmV2KSxkb0Z1bmN0aW9uKHtuYW1lOmksc3RhdGVtZW50OnRoaXMsdHlwZTpnZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbCxpZ25vcmVMb29wRnVuYzppbmJsb2NrfSksXFxcIihcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQmJnN0YXRlLnRva2Vucy5uZXh0LmxpbmU9PT1zdGF0ZS50b2tlbnMuY3Vyci5saW5lJiZlcnJvcihcXFwiRTAzOVxcXCIpLHRoaXN9KSxwcmVmaXgoXFxcImZ1bmN0aW9uXFxcIixmdW5jdGlvbigpe3ZhciBnZW5lcmF0b3I9ITE7XFxcIipcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUmJihzdGF0ZS5pbkVTNigpfHx3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZnVuY3Rpb24qXFxcIixcXFwiNlxcXCIpLGFkdmFuY2UoXFxcIipcXFwiKSxnZW5lcmF0b3I9ITApO3ZhciBpPW9wdGlvbmFsaWRlbnRpZmllcigpO3JldHVybiBkb0Z1bmN0aW9uKHtuYW1lOmksdHlwZTpnZW5lcmF0b3I/XFxcImdlbmVyYXRvclxcXCI6bnVsbH0pLHRoaXN9KSxibG9ja3N0bXQoXFxcImlmXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O2luY3JlYXNlQ29tcGxleGl0eUNvdW50KCksc3RhdGUuY29uZGl0aW9uPSEwLGFkdmFuY2UoXFxcIihcXFwiKTt2YXIgZXhwcj1leHByZXNzaW9uKDApO2NoZWNrQ29uZEFzc2lnbm1lbnQoZXhwcik7dmFyIGZvcmluaWZjaGVjaz1udWxsO3N0YXRlLm9wdGlvbi5mb3JpbiYmc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkJiYoc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSExLGZvcmluaWZjaGVjaz1zdGF0ZS5mb3JpbmlmY2hlY2tzW3N0YXRlLmZvcmluaWZjaGVja3MubGVuZ3RoLTFdLGZvcmluaWZjaGVjay50eXBlPVxcXCIocHVuY3R1YXRvcilcXFwiPT09ZXhwci50eXBlJiZcXFwiIVxcXCI9PT1leHByLnZhbHVlP1xcXCIobmVnYXRpdmUpXFxcIjpcXFwiKHBvc2l0aXZlKVxcXCIpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmNvbmRpdGlvbj0hMTt2YXIgcz1ibG9jayghMCwhMCk7cmV0dXJuIGZvcmluaWZjaGVjayYmXFxcIihuZWdhdGl2ZSlcXFwiPT09Zm9yaW5pZmNoZWNrLnR5cGUmJnMmJnNbMF0mJlxcXCIoaWRlbnRpZmllcilcXFwiPT09c1swXS50eXBlJiZcXFwiY29udGludWVcXFwiPT09c1swXS52YWx1ZSYmKGZvcmluaWZjaGVjay50eXBlPVxcXCIobmVnYXRpdmUtd2l0aC1jb250aW51ZSlcXFwiKSxcXFwiZWxzZVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmKGFkdmFuY2UoXFxcImVsc2VcXFwiKSxcXFwiaWZcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCJzd2l0Y2hcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/c3RhdGVtZW50KCk6YmxvY2soITAsITApKSx0aGlzfSksYmxvY2tzdG10KFxcXCJ0cnlcXFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZG9DYXRjaCgpe2lmKGFkdmFuY2UoXFxcImNhdGNoXFxcIiksYWR2YW5jZShcXFwiKFxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soXFxcImNhdGNocGFyYW1zXFxcIiksY2hlY2tQdW5jdHVhdG9ycyhzdGF0ZS50b2tlbnMubmV4dCxbXFxcIltcXFwiLFxcXCJ7XFxcIl0pKXt2YXIgdG9rZW5zPWRlc3RydWN0dXJpbmdQYXR0ZXJuKCk7Xy5lYWNoKHRva2VucyxmdW5jdGlvbih0b2tlbil7dG9rZW4uaWQmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkUGFyYW0odG9rZW4uaWQsdG9rZW4sXFxcImV4Y2VwdGlvblxcXCIpfSl9ZWxzZVxcXCIoaWRlbnRpZmllcilcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudHlwZT93YXJuaW5nKFxcXCJFMDMwXFxcIixzdGF0ZS50b2tlbnMubmV4dCxzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSk6c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRQYXJhbShpZGVudGlmaWVyKCksc3RhdGUudG9rZW5zLmN1cnIsXFxcImV4Y2VwdGlvblxcXCIpO1xcXCJpZlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSYmKHN0YXRlLmluTW96KCl8fHdhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5jdXJyLFxcXCJjYXRjaCBmaWx0ZXJcXFwiKSxhZHZhbmNlKFxcXCJpZlxcXCIpLGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiKSxibG9jayghMSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCl9dmFyIGI7Zm9yKGJsb2NrKCEwKTtcXFwiY2F0Y2hcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ7KWluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksYiYmIXN0YXRlLmluTW96KCkmJndhcm5pbmcoXFxcIlcxMThcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJtdWx0aXBsZSBjYXRjaCBibG9ja3NcXFwiKSxkb0NhdGNoKCksYj0hMDtyZXR1cm5cXFwiZmluYWxseVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oYWR2YW5jZShcXFwiZmluYWxseVxcXCIpLGJsb2NrKCEwKSx2b2lkIDApOihifHxlcnJvcihcXFwiRTAyMVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcImNhdGNoXFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksdGhpcyl9KSxibG9ja3N0bXQoXFxcIndoaWxlXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVybiBzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLGJsb2NrKCEwLCEwKSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXS09MSx0aGlzfSkubGFiZWxsZWQ9ITAsYmxvY2tzdG10KFxcXCJ3aXRoXFxcIixmdW5jdGlvbigpe3ZhciB0PXN0YXRlLnRva2Vucy5uZXh0O3JldHVybiBzdGF0ZS5pc1N0cmljdCgpP2Vycm9yKFxcXCJFMDEwXFxcIixzdGF0ZS50b2tlbnMuY3Vycik6c3RhdGUub3B0aW9uLndpdGhzdG10fHx3YXJuaW5nKFxcXCJXMDg1XFxcIixzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiKFxcXCIpLGV4cHJlc3Npb24oMCksYWR2YW5jZShcXFwiKVxcXCIsdCksYmxvY2soITAsITApLHRoaXN9KSxibG9ja3N0bXQoXFxcInN3aXRjaFxcXCIsZnVuY3Rpb24oKXt2YXIgdD1zdGF0ZS50b2tlbnMubmV4dCxnPSExLG5vaW5kZW50PSExO1xcbmZvcihzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHQ9c3RhdGUudG9rZW5zLm5leHQsYWR2YW5jZShcXFwie1xcXCIpLHN0YXRlLnRva2Vucy5uZXh0LmZyb209PT1pbmRlbnQmJihub2luZGVudD0hMCksbm9pbmRlbnR8fChpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQpLHRoaXMuY2FzZXM9W107Oylzd2l0Y2goc3RhdGUudG9rZW5zLm5leHQuaWQpe2Nhc2VcXFwiY2FzZVxcXCI6c3dpdGNoKHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXSl7Y2FzZVxcXCJ5aWVsZFxcXCI6Y2FzZVxcXCJicmVha1xcXCI6Y2FzZVxcXCJjYXNlXFxcIjpjYXNlXFxcImNvbnRpbnVlXFxcIjpjYXNlXFxcInJldHVyblxcXCI6Y2FzZVxcXCJzd2l0Y2hcXFwiOmNhc2VcXFwidGhyb3dcXFwiOmJyZWFrO2RlZmF1bHQ6c3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaHx8d2FybmluZyhcXFwiVzA4NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImNhc2VcXFwiKX1hZHZhbmNlKFxcXCJjYXNlXFxcIiksdGhpcy5jYXNlcy5wdXNoKGV4cHJlc3Npb24oMCkpLGluY3JlYXNlQ29tcGxleGl0eUNvdW50KCksZz0hMCxhZHZhbmNlKFxcXCI6XFxcIiksc3RhdGUuZnVuY3RbXFxcIih2ZXJiKVxcXCJdPVxcXCJjYXNlXFxcIjticmVhaztjYXNlXFxcImRlZmF1bHRcXFwiOnN3aXRjaChzdGF0ZS5mdW5jdFtcXFwiKHZlcmIpXFxcIl0pe2Nhc2VcXFwieWllbGRcXFwiOmNhc2VcXFwiYnJlYWtcXFwiOmNhc2VcXFwiY29udGludWVcXFwiOmNhc2VcXFwicmV0dXJuXFxcIjpjYXNlXFxcInRocm93XFxcIjpicmVhaztkZWZhdWx0OnRoaXMuY2FzZXMubGVuZ3RoJiYoc3RhdGUudG9rZW5zLmN1cnIuY2FzZUZhbGxzVGhyb3VnaHx8d2FybmluZyhcXFwiVzA4NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImRlZmF1bHRcXFwiKSl9YWR2YW5jZShcXFwiZGVmYXVsdFxcXCIpLGc9ITAsYWR2YW5jZShcXFwiOlxcXCIpO2JyZWFrO2Nhc2VcXFwifVxcXCI6cmV0dXJuIG5vaW5kZW50fHwoaW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50KSxhZHZhbmNlKFxcXCJ9XFxcIix0KSxzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdLT0xLHN0YXRlLmZ1bmN0W1xcXCIodmVyYilcXFwiXT12b2lkIDAsdm9pZCAwO2Nhc2VcXFwiKGVuZClcXFwiOnJldHVybiBlcnJvcihcXFwiRTAyM1xcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIn1cXFwiKSx2b2lkIDA7ZGVmYXVsdDppZihpbmRlbnQrPXN0YXRlLm9wdGlvbi5pbmRlbnQsZylzd2l0Y2goc3RhdGUudG9rZW5zLmN1cnIuaWQpe2Nhc2VcXFwiLFxcXCI6cmV0dXJuIGVycm9yKFxcXCJFMDQwXFxcIiksdm9pZCAwO2Nhc2VcXFwiOlxcXCI6Zz0hMSxzdGF0ZW1lbnRzKCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gZXJyb3IoXFxcIkUwMjVcXFwiLHN0YXRlLnRva2Vucy5jdXJyKSx2b2lkIDB9ZWxzZXtpZihcXFwiOlxcXCIhPT1zdGF0ZS50b2tlbnMuY3Vyci5pZClyZXR1cm4gZXJyb3IoXFxcIkUwMjFcXFwiLHN0YXRlLnRva2Vucy5uZXh0LFxcXCJjYXNlXFxcIixzdGF0ZS50b2tlbnMubmV4dC52YWx1ZSksdm9pZCAwO2FkdmFuY2UoXFxcIjpcXFwiKSxlcnJvcihcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcIjpcXFwiKSxzdGF0ZW1lbnRzKCl9aW5kZW50LT1zdGF0ZS5vcHRpb24uaW5kZW50fXJldHVybiB0aGlzfSkubGFiZWxsZWQ9ITAsc3RtdChcXFwiZGVidWdnZXJcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5kZWJ1Z3x8d2FybmluZyhcXFwiVzA4N1xcXCIsdGhpcyksdGhpc30pLmV4cHM9ITAsZnVuY3Rpb24oKXt2YXIgeD1zdG10KFxcXCJkb1xcXCIsZnVuY3Rpb24oKXtzdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdKz0xLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxpbmNyZWFzZUNvbXBsZXhpdHlDb3VudCgpLHRoaXMuZmlyc3Q9YmxvY2soITAsITApLGFkdmFuY2UoXFxcIndoaWxlXFxcIik7dmFyIHQ9c3RhdGUudG9rZW5zLm5leHQ7cmV0dXJuIGFkdmFuY2UoXFxcIihcXFwiKSxjaGVja0NvbmRBc3NpZ25tZW50KGV4cHJlc3Npb24oMCkpLGFkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xLHRoaXN9KTt4LmxhYmVsbGVkPSEwLHguZXhwcz0hMH0oKSxibG9ja3N0bXQoXFxcImZvclxcXCIsZnVuY3Rpb24oKXt2YXIgcyx0PXN0YXRlLnRva2Vucy5uZXh0LGxldHNjb3BlPSExLGZvcmVhY2h0b2s9bnVsbDtcXFwiZWFjaFxcXCI9PT10LnZhbHVlJiYoZm9yZWFjaHRvaz10LGFkdmFuY2UoXFxcImVhY2hcXFwiKSxzdGF0ZS5pbk1veigpfHx3YXJuaW5nKFxcXCJXMTE4XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZm9yIGVhY2hcXFwiKSksaW5jcmVhc2VDb21wbGV4aXR5Q291bnQoKSxhZHZhbmNlKFxcXCIoXFxcIik7dmFyIG5leHRvcCxjb21tYSxpbml0aWFsaXplcixpPTAsaW5vZj1bXFxcImluXFxcIixcXFwib2ZcXFwiXSxsZXZlbD0wO2NoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLm5leHQsW1xcXCJ7XFxcIixcXFwiW1xcXCJdKSYmKytsZXZlbDtkb3tpZihuZXh0b3A9cGVlayhpKSwrK2ksY2hlY2tQdW5jdHVhdG9ycyhuZXh0b3AsW1xcXCJ7XFxcIixcXFwiW1xcXCJdKT8rK2xldmVsOmNoZWNrUHVuY3R1YXRvcnMobmV4dG9wLFtcXFwifVxcXCIsXFxcIl1cXFwiXSkmJi0tbGV2ZWwsMD5sZXZlbClicmVhazswPT09bGV2ZWwmJighY29tbWEmJmNoZWNrUHVuY3R1YXRvcihuZXh0b3AsXFxcIixcXFwiKT9jb21tYT1uZXh0b3A6IWluaXRpYWxpemVyJiZjaGVja1B1bmN0dWF0b3IobmV4dG9wLFxcXCI9XFxcIikmJihpbml0aWFsaXplcj1uZXh0b3ApKX13aGlsZShsZXZlbD4wfHwhXy5jb250YWlucyhpbm9mLG5leHRvcC52YWx1ZSkmJlxcXCI7XFxcIiE9PW5leHRvcC52YWx1ZSYmXFxcIihlbmQpXFxcIiE9PW5leHRvcC50eXBlKTtpZihfLmNvbnRhaW5zKGlub2YsbmV4dG9wLnZhbHVlKSl7c3RhdGUuaW5FUzYoKXx8XFxcIm9mXFxcIiE9PW5leHRvcC52YWx1ZXx8d2FybmluZyhcXFwiVzEwNFxcXCIsbmV4dG9wLFxcXCJmb3Igb2ZcXFwiLFxcXCI2XFxcIik7dmFyIG9rPSEoaW5pdGlhbGl6ZXJ8fGNvbW1hKTtpZihpbml0aWFsaXplciYmZXJyb3IoXFxcIlcxMzNcXFwiLGNvbW1hLG5leHRvcC52YWx1ZSxcXFwiaW5pdGlhbGl6ZXIgaXMgZm9yYmlkZGVuXFxcIiksY29tbWEmJmVycm9yKFxcXCJXMTMzXFxcIixjb21tYSxuZXh0b3AudmFsdWUsXFxcIm1vcmUgdGhhbiBvbmUgRm9yQmluZGluZ1xcXCIpLFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQ/KGFkdmFuY2UoXFxcInZhclxcXCIpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCh7cHJlZml4OiEwfSkpOlxcXCJsZXRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWR8fFxcXCJjb25zdFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZD8oYWR2YW5jZShzdGF0ZS50b2tlbnMubmV4dC5pZCksbGV0c2NvcGU9ITAsc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zdGFjaygpLHN0YXRlLnRva2Vucy5jdXJyLmZ1ZCh7cHJlZml4OiEwfSkpOk9iamVjdC5jcmVhdGUodmFyc3RhdGVtZW50KS5mdWQoe3ByZWZpeDohMCxpbXBsaWVkOlxcXCJmb3JcXFwiLGlnbm9yZTohb2t9KSxhZHZhbmNlKG5leHRvcC52YWx1ZSksZXhwcmVzc2lvbigyMCksYWR2YW5jZShcXFwiKVxcXCIsdCksXFxcImluXFxcIj09PW5leHRvcC52YWx1ZSYmc3RhdGUub3B0aW9uLmZvcmluJiYoc3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSEwLHZvaWQgMD09PXN0YXRlLmZvcmluaWZjaGVja3MmJihzdGF0ZS5mb3JpbmlmY2hlY2tzPVtdKSxzdGF0ZS5mb3JpbmlmY2hlY2tzLnB1c2goe3R5cGU6XFxcIihub25lKVxcXCJ9KSksc3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSs9MSxzdGF0ZS5mdW5jdFtcXFwiKGxvb3BhZ2UpXFxcIl0rPTEscz1ibG9jayghMCwhMCksXFxcImluXFxcIj09PW5leHRvcC52YWx1ZSYmc3RhdGUub3B0aW9uLmZvcmluKXtpZihzdGF0ZS5mb3JpbmlmY2hlY2tzJiZzdGF0ZS5mb3JpbmlmY2hlY2tzLmxlbmd0aD4wKXt2YXIgY2hlY2s9c3RhdGUuZm9yaW5pZmNoZWNrcy5wb3AoKTsocyYmcy5sZW5ndGg+MCYmKFxcXCJvYmplY3RcXFwiIT10eXBlb2Ygc1swXXx8XFxcImlmXFxcIiE9PXNbMF0udmFsdWUpfHxcXFwiKHBvc2l0aXZlKVxcXCI9PT1jaGVjay50eXBlJiZzLmxlbmd0aD4xfHxcXFwiKG5lZ2F0aXZlKVxcXCI9PT1jaGVjay50eXBlKSYmd2FybmluZyhcXFwiVzA4OVxcXCIsdGhpcyl9c3RhdGUuZm9yaW5pZmNoZWNrbmVlZGVkPSExfXN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xfWVsc2V7aWYoZm9yZWFjaHRvayYmZXJyb3IoXFxcIkUwNDVcXFwiLGZvcmVhY2h0b2spLFxcXCI7XFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkKWlmKFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwidmFyXFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKCk7ZWxzZSBpZihcXFwibGV0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkKWFkdmFuY2UoXFxcImxldFxcXCIpLGxldHNjb3BlPSEwLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc3RhY2soKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoKTtlbHNlIGZvcig7ZXhwcmVzc2lvbigwLFxcXCJmb3JcXFwiKSxcXFwiLFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZDspY29tbWEoKTtpZihub2xpbmVicmVhayhzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiO1xcXCIpLHN0YXRlLmZ1bmN0W1xcXCIobG9vcGFnZSlcXFwiXSs9MSxcXFwiO1xcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmY2hlY2tDb25kQXNzaWdubWVudChleHByZXNzaW9uKDApKSxub2xpbmVicmVhayhzdGF0ZS50b2tlbnMuY3VyciksYWR2YW5jZShcXFwiO1xcXCIpLFxcXCI7XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkJiZlcnJvcihcXFwiRTAyMVxcXCIsc3RhdGUudG9rZW5zLm5leHQsXFxcIilcXFwiLFxcXCI7XFxcIiksXFxcIilcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQpZm9yKDtleHByZXNzaW9uKDAsXFxcImZvclxcXCIpLFxcXCIsXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LmlkOyljb21tYSgpO2FkdmFuY2UoXFxcIilcXFwiLHQpLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0rPTEsYmxvY2soITAsITApLHN0YXRlLmZ1bmN0W1xcXCIoYnJlYWthZ2UpXFxcIl0tPTEsc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdLT0xfXJldHVybiBsZXRzY29wZSYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCksdGhpc30pLmxhYmVsbGVkPSEwLHN0bXQoXFxcImJyZWFrXFxcIixmdW5jdGlvbigpe3ZhciB2PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlO3JldHVybiBzdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKSxcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fHN0YXRlLnRva2Vucy5jdXJyLmxpbmUhPT1zdGFydExpbmUoc3RhdGUudG9rZW5zLm5leHQpPzA9PT1zdGF0ZS5mdW5jdFtcXFwiKGJyZWFrYWdlKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDUyXFxcIixzdGF0ZS50b2tlbnMubmV4dCx0aGlzLnZhbHVlKTooc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5mdW5jdC5oYXNCcmVha0xhYmVsKHYpfHx3YXJuaW5nKFxcXCJXMDkwXFxcIixzdGF0ZS50b2tlbnMubmV4dCx2KSx0aGlzLmZpcnN0PXN0YXRlLnRva2Vucy5uZXh0LGFkdmFuY2UoKSkscmVhY2hhYmxlKHRoaXMpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcImNvbnRpbnVlXFxcIixmdW5jdGlvbigpe3ZhciB2PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlO3JldHVybiAwPT09c3RhdGUuZnVuY3RbXFxcIihicmVha2FnZSlcXFwiXSYmd2FybmluZyhcXFwiVzA1MlxcXCIsc3RhdGUudG9rZW5zLm5leHQsdGhpcy52YWx1ZSksc3RhdGUuZnVuY3RbXFxcIihsb29wYWdlKVxcXCJdfHx3YXJuaW5nKFxcXCJXMDUyXFxcIixzdGF0ZS50b2tlbnMubmV4dCx0aGlzLnZhbHVlKSxzdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKSxcXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fHN0YXRlLnRva2Vucy5jdXJyLmxpbmU9PT1zdGFydExpbmUoc3RhdGUudG9rZW5zLm5leHQpJiYoc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5mdW5jdC5oYXNCcmVha0xhYmVsKHYpfHx3YXJuaW5nKFxcXCJXMDkwXFxcIixzdGF0ZS50b2tlbnMubmV4dCx2KSx0aGlzLmZpcnN0PXN0YXRlLnRva2Vucy5uZXh0LGFkdmFuY2UoKSkscmVhY2hhYmxlKHRoaXMpLHRoaXN9KS5leHBzPSEwLHN0bXQoXFxcInJldHVyblxcXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lPT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KT9cXFwiO1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZHx8c3RhdGUudG9rZW5zLm5leHQucmVhY2h8fCh0aGlzLmZpcnN0PWV4cHJlc3Npb24oMCksIXRoaXMuZmlyc3R8fFxcXCIocHVuY3R1YXRvcilcXFwiIT09dGhpcy5maXJzdC50eXBlfHxcXFwiPVxcXCIhPT10aGlzLmZpcnN0LnZhbHVlfHx0aGlzLmZpcnN0LnBhcmVufHxzdGF0ZS5vcHRpb24uYm9zc3x8d2FybmluZ0F0KFxcXCJXMDkzXFxcIix0aGlzLmZpcnN0LmxpbmUsdGhpcy5maXJzdC5jaGFyYWN0ZXIpKTpcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGUmJltcXFwiW1xcXCIsXFxcIntcXFwiLFxcXCIrXFxcIixcXFwiLVxcXCJdLmluZGV4T2Yoc3RhdGUudG9rZW5zLm5leHQudmFsdWUpPi0xJiZub2xpbmVicmVhayh0aGlzKSxyZWFjaGFibGUodGhpcyksdGhpc30pLmV4cHM9ITAsZnVuY3Rpb24oeCl7eC5leHBzPSEwLHgubGJwPTI1fShwcmVmaXgoXFxcInlpZWxkXFxcIixmdW5jdGlvbigpe3ZhciBwcmV2PXN0YXRlLnRva2Vucy5wcmV2O3N0YXRlLmluRVM2KCEwKSYmIXN0YXRlLmZ1bmN0W1xcXCIoZ2VuZXJhdG9yKVxcXCJdP1xcXCIoY2F0Y2gpXFxcIj09PXN0YXRlLmZ1bmN0W1xcXCIobmFtZSlcXFwiXSYmc3RhdGUuZnVuY3RbXFxcIihjb250ZXh0KVxcXCJdW1xcXCIoZ2VuZXJhdG9yKVxcXCJdfHxlcnJvcihcXFwiRTA0NlxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcInlpZWxkXFxcIik6c3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzEwNFxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcInlpZWxkXFxcIixcXFwiNlxcXCIpLHN0YXRlLmZ1bmN0W1xcXCIoZ2VuZXJhdG9yKVxcXCJdPVxcXCJ5aWVsZGVkXFxcIjt2YXIgZGVsZWdhdGluZ1lpZWxkPSExO3JldHVyblxcXCIqXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoZGVsZWdhdGluZ1lpZWxkPSEwLGFkdmFuY2UoXFxcIipcXFwiKSksdGhpcy5saW5lIT09c3RhcnRMaW5lKHN0YXRlLnRva2Vucy5uZXh0KSYmc3RhdGUuaW5Nb3ooKT9zdGF0ZS5vcHRpb24uYXNpfHxub2xpbmVicmVhayh0aGlzKTooKGRlbGVnYXRpbmdZaWVsZHx8XFxcIjtcXFwiIT09c3RhdGUudG9rZW5zLm5leHQuaWQmJiFzdGF0ZS5vcHRpb24uYXNpJiYhc3RhdGUudG9rZW5zLm5leHQucmVhY2gmJnN0YXRlLnRva2Vucy5uZXh0Lm51ZCkmJihub2JyZWFrbm9uYWRqYWNlbnQoc3RhdGUudG9rZW5zLmN1cnIsc3RhdGUudG9rZW5zLm5leHQpLHRoaXMuZmlyc3Q9ZXhwcmVzc2lvbigxMCksXFxcIihwdW5jdHVhdG9yKVxcXCIhPT10aGlzLmZpcnN0LnR5cGV8fFxcXCI9XFxcIiE9PXRoaXMuZmlyc3QudmFsdWV8fHRoaXMuZmlyc3QucGFyZW58fHN0YXRlLm9wdGlvbi5ib3NzfHx3YXJuaW5nQXQoXFxcIlcwOTNcXFwiLHRoaXMuZmlyc3QubGluZSx0aGlzLmZpcnN0LmNoYXJhY3RlcikpLHN0YXRlLmluTW96KCkmJlxcXCIpXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LmlkJiYocHJldi5sYnA+MzB8fCFwcmV2LmFzc2lnbiYmIWlzRW5kT2ZFeHByKCl8fFxcXCJ5aWVsZFxcXCI9PT1wcmV2LmlkKSYmZXJyb3IoXFxcIkUwNTBcXFwiLHRoaXMpKSx0aGlzfSkpLHN0bXQoXFxcInRocm93XFxcIixmdW5jdGlvbigpe3JldHVybiBub2xpbmVicmVhayh0aGlzKSx0aGlzLmZpcnN0PWV4cHJlc3Npb24oMjApLHJlYWNoYWJsZSh0aGlzKSx0aGlzfSkuZXhwcz0hMCxzdG10KFxcXCJpbXBvcnRcXFwiLGZ1bmN0aW9uKCl7aWYoc3RhdGUuaW5FUzYoKXx8d2FybmluZyhcXFwiVzExOVxcXCIsc3RhdGUudG9rZW5zLmN1cnIsXFxcImltcG9ydFxcXCIsXFxcIjZcXFwiKSxcXFwiKHN0cmluZylcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZSlyZXR1cm4gYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSx0aGlzO2lmKHN0YXRlLnRva2Vucy5uZXh0LmlkZW50aWZpZXIpe2lmKHRoaXMubmFtZT1pZGVudGlmaWVyKCksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbCh0aGlzLm5hbWUse3R5cGU6XFxcImNvbnN0XFxcIix0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycn0pLFxcXCIsXFxcIiE9PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXJldHVybiBhZHZhbmNlKFxcXCJmcm9tXFxcIiksYWR2YW5jZShcXFwiKHN0cmluZylcXFwiKSx0aGlzO2FkdmFuY2UoXFxcIixcXFwiKX1pZihcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClhZHZhbmNlKFxcXCIqXFxcIiksYWR2YW5jZShcXFwiYXNcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyJiYodGhpcy5uYW1lPWlkZW50aWZpZXIoKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmFkZGxhYmVsKHRoaXMubmFtZSx7dHlwZTpcXFwiY29uc3RcXFwiLHRva2VuOnN0YXRlLnRva2Vucy5jdXJyfSkpO2Vsc2UgZm9yKGFkdmFuY2UoXFxcIntcXFwiKTs7KXtpZihcXFwifVxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7YWR2YW5jZShcXFwifVxcXCIpO2JyZWFrfXZhciBpbXBvcnROYW1lO2lmKFxcXCJkZWZhdWx0XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnR5cGU/KGltcG9ydE5hbWU9XFxcImRlZmF1bHRcXFwiLGFkdmFuY2UoXFxcImRlZmF1bHRcXFwiKSk6aW1wb3J0TmFtZT1pZGVudGlmaWVyKCksXFxcImFzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiYXNcXFwiKSxpbXBvcnROYW1lPWlkZW50aWZpZXIoKSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5hZGRsYWJlbChpbXBvcnROYW1lLHt0eXBlOlxcXCJjb25zdFxcXCIsdG9rZW46c3RhdGUudG9rZW5zLmN1cnJ9KSxcXFwiLFxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7aWYoXFxcIn1cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2FkdmFuY2UoXFxcIn1cXFwiKTticmVha31lcnJvcihcXFwiRTAyNFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpO2JyZWFrfWFkdmFuY2UoXFxcIixcXFwiKX1yZXR1cm4gYWR2YW5jZShcXFwiZnJvbVxcXCIpLGFkdmFuY2UoXFxcIihzdHJpbmcpXFxcIiksdGhpc30pLmV4cHM9ITAsc3RtdChcXFwiZXhwb3J0XFxcIixmdW5jdGlvbigpe3ZhciB0b2tlbixpZGVudGlmaWVyLG9rPSEwO2lmKHN0YXRlLmluRVM2KCl8fCh3YXJuaW5nKFxcXCJXMTE5XFxcIixzdGF0ZS50b2tlbnMuY3VycixcXFwiZXhwb3J0XFxcIixcXFwiNlxcXCIpLG9rPSExKSxzdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmJsb2NrLmlzR2xvYmFsKCl8fChlcnJvcihcXFwiRTA1M1xcXCIsc3RhdGUudG9rZW5zLmN1cnIpLG9rPSExKSxcXFwiKlxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSlyZXR1cm4gYWR2YW5jZShcXFwiKlxcXCIpLGFkdmFuY2UoXFxcImZyb21cXFwiKSxhZHZhbmNlKFxcXCIoc3RyaW5nKVxcXCIpLHRoaXM7aWYoXFxcImRlZmF1bHRcXFwiPT09c3RhdGUudG9rZW5zLm5leHQudHlwZSl7c3RhdGUubmFtZVN0YWNrLnNldChzdGF0ZS50b2tlbnMubmV4dCksYWR2YW5jZShcXFwiZGVmYXVsdFxcXCIpO3ZhciBleHBvcnRUeXBlPXN0YXRlLnRva2Vucy5uZXh0LmlkO3JldHVybihcXFwiZnVuY3Rpb25cXFwiPT09ZXhwb3J0VHlwZXx8XFxcImNsYXNzXFxcIj09PWV4cG9ydFR5cGUpJiYodGhpcy5ibG9jaz0hMCksdG9rZW49cGVlaygpLGV4cHJlc3Npb24oMTApLGlkZW50aWZpZXI9dG9rZW4udmFsdWUsdGhpcy5ibG9jayYmKHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYWRkbGFiZWwoaWRlbnRpZmllcix7dHlwZTpleHBvcnRUeXBlLHRva2VuOnRva2VufSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZChpZGVudGlmaWVyLHRva2VuKSksdGhpc31pZihcXFwie1xcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC52YWx1ZSl7YWR2YW5jZShcXFwie1xcXCIpO2Zvcih2YXIgZXhwb3J0ZWRUb2tlbnM9W107Oyl7aWYoc3RhdGUudG9rZW5zLm5leHQuaWRlbnRpZmllcnx8ZXJyb3IoXFxcIkUwMzBcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKSxhZHZhbmNlKCksZXhwb3J0ZWRUb2tlbnMucHVzaChzdGF0ZS50b2tlbnMuY3VyciksXFxcImFzXFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlJiYoYWR2YW5jZShcXFwiYXNcXFwiKSxzdGF0ZS50b2tlbnMubmV4dC5pZGVudGlmaWVyfHxlcnJvcihcXFwiRTAzMFxcXCIsc3RhdGUudG9rZW5zLm5leHQsc3RhdGUudG9rZW5zLm5leHQudmFsdWUpLGFkdmFuY2UoKSksXFxcIixcXFwiIT09c3RhdGUudG9rZW5zLm5leHQudmFsdWUpe2lmKFxcXCJ9XFxcIj09PXN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKXthZHZhbmNlKFxcXCJ9XFxcIik7YnJlYWt9ZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTticmVha31hZHZhbmNlKFxcXCIsXFxcIil9cmV0dXJuXFxcImZyb21cXFwiPT09c3RhdGUudG9rZW5zLm5leHQudmFsdWU/KGFkdmFuY2UoXFxcImZyb21cXFwiKSxhZHZhbmNlKFxcXCIoc3RyaW5nKVxcXCIpKTpvayYmZXhwb3J0ZWRUb2tlbnMuZm9yRWFjaChmdW5jdGlvbih0b2tlbil7c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5zZXRFeHBvcnRlZCh0b2tlbi52YWx1ZSx0b2tlbil9KSx0aGlzfWlmKFxcXCJ2YXJcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwidmFyXFxcIiksc3RhdGUudG9rZW5zLmN1cnIuZnVkKHtpbmV4cG9ydDohMH0pO2Vsc2UgaWYoXFxcImxldFxcXCI9PT1zdGF0ZS50b2tlbnMubmV4dC5pZClhZHZhbmNlKFxcXCJsZXRcXFwiKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiY29uc3RcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpYWR2YW5jZShcXFwiY29uc3RcXFwiKSxzdGF0ZS50b2tlbnMuY3Vyci5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiZnVuY3Rpb25cXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpdGhpcy5ibG9jaz0hMCxhZHZhbmNlKFxcXCJmdW5jdGlvblxcXCIpLHN0YXRlLnN5bnRheFtcXFwiZnVuY3Rpb25cXFwiXS5mdWQoe2luZXhwb3J0OiEwfSk7ZWxzZSBpZihcXFwiY2xhc3NcXFwiPT09c3RhdGUudG9rZW5zLm5leHQuaWQpe3RoaXMuYmxvY2s9ITAsYWR2YW5jZShcXFwiY2xhc3NcXFwiKTt2YXIgY2xhc3NOYW1lVG9rZW49c3RhdGUudG9rZW5zLm5leHQ7c3RhdGUuc3ludGF4W1xcXCJjbGFzc1xcXCJdLmZ1ZCgpLHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uc2V0RXhwb3J0ZWQoY2xhc3NOYW1lVG9rZW4udmFsdWUsY2xhc3NOYW1lVG9rZW4pfWVsc2UgZXJyb3IoXFxcIkUwMjRcXFwiLHN0YXRlLnRva2Vucy5uZXh0LHN0YXRlLnRva2Vucy5uZXh0LnZhbHVlKTtyZXR1cm4gdGhpc30pLmV4cHM9ITAsRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJhYnN0cmFjdFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiYm9vbGVhblxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiYnl0ZVxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiY2hhclxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiY2xhc3NcXFwiLHtlczU6ITAsbnVkOmNsYXNzZGVmfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJkb3VibGVcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImVudW1cXFwiLHtlczU6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImV4cG9ydFxcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZXh0ZW5kc1xcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiZmluYWxcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImZsb2F0XFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJnb3RvXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJpbXBsZW1lbnRzXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcImltcG9ydFxcXCIse2VzNTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwiaW50XFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJpbnRlcmZhY2VcXFwiLHtlczU6ITAsc3RyaWN0T25seTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwibG9uZ1xcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwibmF0aXZlXFxcIiksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJwYWNrYWdlXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInByaXZhdGVcXFwiLHtlczU6ITAsc3RyaWN0T25seTohMH0pLEZ1dHVyZVJlc2VydmVkV29yZChcXFwicHJvdGVjdGVkXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInB1YmxpY1xcXCIse2VzNTohMCxzdHJpY3RPbmx5OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJzaG9ydFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwic3RhdGljXFxcIix7ZXM1OiEwLHN0cmljdE9ubHk6ITB9KSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInN1cGVyXFxcIix7ZXM1OiEwfSksRnV0dXJlUmVzZXJ2ZWRXb3JkKFxcXCJzeW5jaHJvbml6ZWRcXFwiKSxGdXR1cmVSZXNlcnZlZFdvcmQoXFxcInRyYW5zaWVudFxcXCIpLEZ1dHVyZVJlc2VydmVkV29yZChcXFwidm9sYXRpbGVcXFwiKTt2YXIgbG9va3VwQmxvY2tUeXBlPWZ1bmN0aW9uKCl7dmFyIHBuLHBuMSxwcmV2LGk9LTEsYnJhY2tldFN0YWNrPTAscmV0PXt9O2NoZWNrUHVuY3R1YXRvcnMoc3RhdGUudG9rZW5zLmN1cnIsW1xcXCJbXFxcIixcXFwie1xcXCJdKSYmKGJyYWNrZXRTdGFjays9MSk7ZG97aWYocHJldj0tMT09PWk/c3RhdGUudG9rZW5zLmN1cnI6cG4scG49LTE9PT1pP3N0YXRlLnRva2Vucy5uZXh0OnBlZWsoaSkscG4xPXBlZWsoaSsxKSxpKz0xLGNoZWNrUHVuY3R1YXRvcnMocG4sW1xcXCJbXFxcIixcXFwie1xcXCJdKT9icmFja2V0U3RhY2srPTE6Y2hlY2tQdW5jdHVhdG9ycyhwbixbXFxcIl1cXFwiLFxcXCJ9XFxcIl0pJiYoYnJhY2tldFN0YWNrLT0xKSwxPT09YnJhY2tldFN0YWNrJiZwbi5pZGVudGlmaWVyJiZcXFwiZm9yXFxcIj09PXBuLnZhbHVlJiYhY2hlY2tQdW5jdHVhdG9yKHByZXYsXFxcIi5cXFwiKSl7cmV0LmlzQ29tcEFycmF5PSEwLHJldC5ub3RKc29uPSEwO2JyZWFrfWlmKDA9PT1icmFja2V0U3RhY2smJmNoZWNrUHVuY3R1YXRvcnMocG4sW1xcXCJ9XFxcIixcXFwiXVxcXCJdKSl7aWYoXFxcIj1cXFwiPT09cG4xLnZhbHVlKXtyZXQuaXNEZXN0QXNzaWduPSEwLHJldC5ub3RKc29uPSEwO2JyZWFrfWlmKFxcXCIuXFxcIj09PXBuMS52YWx1ZSl7cmV0Lm5vdEpzb249ITA7YnJlYWt9fWNoZWNrUHVuY3R1YXRvcihwbixcXFwiO1xcXCIpJiYocmV0LmlzQmxvY2s9ITAscmV0Lm5vdEpzb249ITApfXdoaWxlKGJyYWNrZXRTdGFjaz4wJiZcXFwiKGVuZClcXFwiIT09cG4uaWQpO3JldHVybiByZXR9LGFycmF5Q29tcHJlaGVuc2lvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlY2xhcmUodil7dmFyIGw9X2N1cnJlbnQudmFyaWFibGVzLmZpbHRlcihmdW5jdGlvbihlbHQpe3JldHVybiBlbHQudmFsdWU9PT12PyhlbHQudW5kZWY9ITEsdik6dm9pZCAwfSkubGVuZ3RoO3JldHVybiAwIT09bH1mdW5jdGlvbiB1c2Uodil7dmFyIGw9X2N1cnJlbnQudmFyaWFibGVzLmZpbHRlcihmdW5jdGlvbihlbHQpe3JldHVybiBlbHQudmFsdWUhPT12fHxlbHQudW5kZWY/dm9pZCAwOihlbHQudW51c2VkPT09ITAmJihlbHQudW51c2VkPSExKSx2KX0pLmxlbmd0aDtyZXR1cm4gMD09PWx9dmFyIF9jdXJyZW50LENvbXBBcnJheT1mdW5jdGlvbigpe3RoaXMubW9kZT1cXFwidXNlXFxcIix0aGlzLnZhcmlhYmxlcz1bXX0sX2NhcnJheXM9W107cmV0dXJue3N0YWNrOmZ1bmN0aW9uKCl7X2N1cnJlbnQ9bmV3IENvbXBBcnJheSxfY2FycmF5cy5wdXNoKF9jdXJyZW50KX0sdW5zdGFjazpmdW5jdGlvbigpe19jdXJyZW50LnZhcmlhYmxlcy5maWx0ZXIoZnVuY3Rpb24odil7di51bnVzZWQmJndhcm5pbmcoXFxcIlcwOThcXFwiLHYudG9rZW4sdi5yYXdfdGV4dHx8di52YWx1ZSksdi51bmRlZiYmc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5ibG9jay51c2Uodi52YWx1ZSx2LnRva2VuKX0pLF9jYXJyYXlzLnNwbGljZSgtMSwxKSxfY3VycmVudD1fY2FycmF5c1tfY2FycmF5cy5sZW5ndGgtMV19LHNldFN0YXRlOmZ1bmN0aW9uKHMpe18uY29udGFpbnMoW1xcXCJ1c2VcXFwiLFxcXCJkZWZpbmVcXFwiLFxcXCJnZW5lcmF0ZVxcXCIsXFxcImZpbHRlclxcXCJdLHMpJiYoX2N1cnJlbnQubW9kZT1zKX0sY2hlY2s6ZnVuY3Rpb24odil7cmV0dXJuIF9jdXJyZW50P19jdXJyZW50JiZcXFwidXNlXFxcIj09PV9jdXJyZW50Lm1vZGU/KHVzZSh2KSYmX2N1cnJlbnQudmFyaWFibGVzLnB1c2goe2Z1bmN0OnN0YXRlLmZ1bmN0LHRva2VuOnN0YXRlLnRva2Vucy5jdXJyLHZhbHVlOnYsdW5kZWY6ITAsdW51c2VkOiExfSksITApOl9jdXJyZW50JiZcXFwiZGVmaW5lXFxcIj09PV9jdXJyZW50Lm1vZGU/KGRlY2xhcmUodil8fF9jdXJyZW50LnZhcmlhYmxlcy5wdXNoKHtmdW5jdDpzdGF0ZS5mdW5jdCx0b2tlbjpzdGF0ZS50b2tlbnMuY3Vycix2YWx1ZTp2LHVuZGVmOiExLHVudXNlZDohMH0pLCEwKTpfY3VycmVudCYmXFxcImdlbmVyYXRlXFxcIj09PV9jdXJyZW50Lm1vZGU/KHN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLCEwKTpfY3VycmVudCYmXFxcImZpbHRlclxcXCI9PT1fY3VycmVudC5tb2RlPyh1c2UodikmJnN0YXRlLmZ1bmN0W1xcXCIoc2NvcGUpXFxcIl0uYmxvY2sudXNlKHYsc3RhdGUudG9rZW5zLmN1cnIpLCEwKTohMTp2b2lkIDB9fX0sZXNjYXBlUmVnZXg9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoL1stXFxcXC9cXFxcXFxcXF4kKis/LigpfFtcXFxcXXt9XS9nLFxcXCJcXFxcXFxcXCQmXFxcIil9LGl0c2VsZj1mdW5jdGlvbihzLG8sZyl7ZnVuY3Rpb24gZWFjaChvYmosY2Ipe29iaiYmKEFycmF5LmlzQXJyYXkob2JqKXx8XFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmp8fChvYmo9T2JqZWN0LmtleXMob2JqKSksb2JqLmZvckVhY2goY2IpKX12YXIgaSxrLHgscmVJZ25vcmVTdHIscmVJZ25vcmUsb3B0aW9uS2V5cyxuZXdPcHRpb25PYmo9e30sbmV3SWdub3JlZE9iaj17fTtvPV8uY2xvbmUobyksc3RhdGUucmVzZXQoKSxvJiZvLnNjb3BlP0pTSElOVC5zY29wZT1vLnNjb3BlOihKU0hJTlQuZXJyb3JzPVtdLEpTSElOVC51bmRlZnM9W10sSlNISU5ULmludGVybmFscz1bXSxKU0hJTlQuYmxhY2tsaXN0PXt9LEpTSElOVC5zY29wZT1cXFwiKG1haW4pXFxcIikscHJlZGVmaW5lZD1PYmplY3QuY3JlYXRlKG51bGwpLGNvbWJpbmUocHJlZGVmaW5lZCx2YXJzLmVjbWFJZGVudGlmaWVyc1szXSksY29tYmluZShwcmVkZWZpbmVkLHZhcnMucmVzZXJ2ZWRWYXJzKSxjb21iaW5lKHByZWRlZmluZWQsZ3x8e30pLGRlY2xhcmVkPU9iamVjdC5jcmVhdGUobnVsbCk7dmFyIGV4cG9ydGVkPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobylmb3IoZWFjaChvLnByZWRlZnx8bnVsbCxmdW5jdGlvbihpdGVtKXt2YXIgc2xpY2UscHJvcDtcXFwiLVxcXCI9PT1pdGVtWzBdPyhzbGljZT1pdGVtLnNsaWNlKDEpLEpTSElOVC5ibGFja2xpc3Rbc2xpY2VdPXNsaWNlLGRlbGV0ZSBwcmVkZWZpbmVkW3NsaWNlXSk6KHByb3A9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLnByZWRlZixpdGVtKSxwcmVkZWZpbmVkW2l0ZW1dPXByb3A/cHJvcC52YWx1ZTohMSl9KSxlYWNoKG8uZXhwb3J0ZWR8fG51bGwsZnVuY3Rpb24oaXRlbSl7ZXhwb3J0ZWRbaXRlbV09ITB9KSxkZWxldGUgby5wcmVkZWYsZGVsZXRlIG8uZXhwb3J0ZWQsb3B0aW9uS2V5cz1PYmplY3Qua2V5cyhvKSx4PTA7b3B0aW9uS2V5cy5sZW5ndGg+eDt4KyspaWYoL14tV1xcXFxkezN9JC9nLnRlc3Qob3B0aW9uS2V5c1t4XSkpbmV3SWdub3JlZE9ialtvcHRpb25LZXlzW3hdLnNsaWNlKDEpXT0hMDtlbHNle3ZhciBvcHRpb25LZXk9b3B0aW9uS2V5c1t4XTtuZXdPcHRpb25PYmpbb3B0aW9uS2V5XT1vW29wdGlvbktleV0sKFxcXCJlc3ZlcnNpb25cXFwiPT09b3B0aW9uS2V5JiY1PT09b1tvcHRpb25LZXldfHxcXFwiZXM1XFxcIj09PW9wdGlvbktleSYmb1tvcHRpb25LZXldKSYmd2FybmluZyhcXFwiSTAwM1xcXCIpLFxcXCJuZXdjYXBcXFwiPT09b3B0aW9uS2V5c1t4XSYmb1tvcHRpb25LZXldPT09ITEmJihuZXdPcHRpb25PYmpbXFxcIihleHBsaWNpdE5ld2NhcClcXFwiXT0hMCl9c3RhdGUub3B0aW9uPW5ld09wdGlvbk9iaixzdGF0ZS5pZ25vcmVkPW5ld0lnbm9yZWRPYmosc3RhdGUub3B0aW9uLmluZGVudD1zdGF0ZS5vcHRpb24uaW5kZW50fHw0LHN0YXRlLm9wdGlvbi5tYXhlcnI9c3RhdGUub3B0aW9uLm1heGVycnx8NTAsaW5kZW50PTE7dmFyIHNjb3BlTWFuYWdlckluc3Q9c2NvcGVNYW5hZ2VyKHN0YXRlLHByZWRlZmluZWQsZXhwb3J0ZWQsZGVjbGFyZWQpO2lmKHNjb3BlTWFuYWdlckluc3Qub24oXFxcIndhcm5pbmdcXFwiLGZ1bmN0aW9uKGV2KXt3YXJuaW5nLmFwcGx5KG51bGwsW2V2LmNvZGUsZXYudG9rZW5dLmNvbmNhdChldi5kYXRhKSl9KSxzY29wZU1hbmFnZXJJbnN0Lm9uKFxcXCJlcnJvclxcXCIsZnVuY3Rpb24oZXYpe2Vycm9yLmFwcGx5KG51bGwsW2V2LmNvZGUsZXYudG9rZW5dLmNvbmNhdChldi5kYXRhKSl9KSxzdGF0ZS5mdW5jdD1mdW5jdG9yKFxcXCIoZ2xvYmFsKVxcXCIsbnVsbCx7XFxcIihnbG9iYWwpXFxcIjohMCxcXFwiKHNjb3BlKVxcXCI6c2NvcGVNYW5hZ2VySW5zdCxcXFwiKGNvbXBhcnJheSlcXFwiOmFycmF5Q29tcHJlaGVuc2lvbigpLFxcXCIobWV0cmljcylcXFwiOmNyZWF0ZU1ldHJpY3Moc3RhdGUudG9rZW5zLm5leHQpfSksZnVuY3Rpb25zPVtzdGF0ZS5mdW5jdF0sdXJscz1bXSxzdGFjaz1udWxsLG1lbWJlcj17fSxtZW1iZXJzT25seT1udWxsLGluYmxvY2s9ITEsbG9va2FoZWFkPVtdLCFpc1N0cmluZyhzKSYmIUFycmF5LmlzQXJyYXkocykpcmV0dXJuIGVycm9yQXQoXFxcIkUwMDRcXFwiLDApLCExO2FwaT17Z2V0IGlzSlNPTigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBzdGF0ZS5vcHRpb25bbmFtZV18fG51bGx9LGdldENhY2hlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBzdGF0ZS5jYWNoZVtuYW1lXX0sc2V0Q2FjaGU6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7c3RhdGUuY2FjaGVbbmFtZV09dmFsdWV9LHdhcm46ZnVuY3Rpb24oY29kZSxkYXRhKXt3YXJuaW5nQXQuYXBwbHkobnVsbCxbY29kZSxkYXRhLmxpbmUsZGF0YS5jaGFyXS5jb25jYXQoZGF0YS5kYXRhKSl9LG9uOmZ1bmN0aW9uKG5hbWVzLGxpc3RlbmVyKXtuYW1lcy5zcGxpdChcXFwiIFxcXCIpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7ZW1pdHRlci5vbihuYW1lLGxpc3RlbmVyKX0uYmluZCh0aGlzKSl9fSxlbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLChleHRyYU1vZHVsZXN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGZ1bmMpe2Z1bmMoYXBpKX0pLHN0YXRlLnRva2Vucy5wcmV2PXN0YXRlLnRva2Vucy5jdXJyPXN0YXRlLnRva2Vucy5uZXh0PXN0YXRlLnN5bnRheFtcXFwiKGJlZ2luKVxcXCJdLG8mJm8uaWdub3JlRGVsaW1pdGVycyYmKEFycmF5LmlzQXJyYXkoby5pZ25vcmVEZWxpbWl0ZXJzKXx8KG8uaWdub3JlRGVsaW1pdGVycz1bby5pZ25vcmVEZWxpbWl0ZXJzXSksby5pZ25vcmVEZWxpbWl0ZXJzLmZvckVhY2goZnVuY3Rpb24oZGVsaW1pdGVyUGFpcil7ZGVsaW1pdGVyUGFpci5zdGFydCYmZGVsaW1pdGVyUGFpci5lbmQmJihyZUlnbm9yZVN0cj1lc2NhcGVSZWdleChkZWxpbWl0ZXJQYWlyLnN0YXJ0KStcXFwiW1xcXFxcXFxcc1xcXFxcXFxcU10qP1xcXCIrZXNjYXBlUmVnZXgoZGVsaW1pdGVyUGFpci5lbmQpLHJlSWdub3JlPVJlZ0V4cChyZUlnbm9yZVN0cixcXFwiaWdcXFwiKSxzPXMucmVwbGFjZShyZUlnbm9yZSxmdW5jdGlvbihtYXRjaCl7cmV0dXJuIG1hdGNoLnJlcGxhY2UoLy4vZyxcXFwiIFxcXCIpfSkpfSkpLGxleD1uZXcgTGV4ZXIocyksbGV4Lm9uKFxcXCJ3YXJuaW5nXFxcIixmdW5jdGlvbihldil7d2FybmluZ0F0LmFwcGx5KG51bGwsW2V2LmNvZGUsZXYubGluZSxldi5jaGFyYWN0ZXJdLmNvbmNhdChldi5kYXRhKSl9KSxsZXgub24oXFxcImVycm9yXFxcIixmdW5jdGlvbihldil7ZXJyb3JBdC5hcHBseShudWxsLFtldi5jb2RlLGV2LmxpbmUsZXYuY2hhcmFjdGVyXS5jb25jYXQoZXYuZGF0YSkpfSksbGV4Lm9uKFxcXCJmYXRhbFxcXCIsZnVuY3Rpb24oZXYpe3F1aXQoXFxcIkUwNDFcXFwiLGV2LmxpbmUsZXYuZnJvbSl9KSxsZXgub24oXFxcIklkZW50aWZpZXJcXFwiLGZ1bmN0aW9uKGV2KXtlbWl0dGVyLmVtaXQoXFxcIklkZW50aWZpZXJcXFwiLGV2KX0pLGxleC5vbihcXFwiU3RyaW5nXFxcIixmdW5jdGlvbihldil7ZW1pdHRlci5lbWl0KFxcXCJTdHJpbmdcXFwiLGV2KX0pLGxleC5vbihcXFwiTnVtYmVyXFxcIixmdW5jdGlvbihldil7ZW1pdHRlci5lbWl0KFxcXCJOdW1iZXJcXFwiLGV2KX0pLGxleC5zdGFydCgpO2Zvcih2YXIgbmFtZSBpbiBvKV8uaGFzKG8sbmFtZSkmJmNoZWNrT3B0aW9uKG5hbWUsc3RhdGUudG9rZW5zLmN1cnIpO2Fzc3VtZSgpLGNvbWJpbmUocHJlZGVmaW5lZCxnfHx7fSksY29tbWEuZmlyc3Q9ITA7dHJ5e3N3aXRjaChhZHZhbmNlKCksc3RhdGUudG9rZW5zLm5leHQuaWQpe2Nhc2VcXFwie1xcXCI6Y2FzZVxcXCJbXFxcIjpkZXN0cnVjdHVyaW5nQXNzaWduT3JKc29uVmFsdWUoKTticmVhaztkZWZhdWx0OmRpcmVjdGl2ZXMoKSxzdGF0ZS5kaXJlY3RpdmVbXFxcInVzZSBzdHJpY3RcXFwiXSYmXFxcImdsb2JhbFxcXCIhPT1zdGF0ZS5vcHRpb24uc3RyaWN0JiZ3YXJuaW5nKFxcXCJXMDk3XFxcIixzdGF0ZS50b2tlbnMucHJldiksc3RhdGVtZW50cygpfVxcXCIoZW5kKVxcXCIhPT1zdGF0ZS50b2tlbnMubmV4dC5pZCYmcXVpdChcXFwiRTA0MVxcXCIsc3RhdGUudG9rZW5zLmN1cnIubGluZSksc3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS51bnN0YWNrKCl9Y2F0Y2goZXJyKXtpZighZXJyfHxcXFwiSlNIaW50RXJyb3JcXFwiIT09ZXJyLm5hbWUpdGhyb3cgZXJyO3ZhciBudD1zdGF0ZS50b2tlbnMubmV4dHx8e307SlNISU5ULmVycm9ycy5wdXNoKHtzY29wZTpcXFwiKG1haW4pXFxcIixyYXc6ZXJyLnJhdyxjb2RlOmVyci5jb2RlLHJlYXNvbjplcnIubWVzc2FnZSxsaW5lOmVyci5saW5lfHxudC5saW5lLGNoYXJhY3RlcjplcnIuY2hhcmFjdGVyfHxudC5mcm9tfSxudWxsKX1pZihcXFwiKG1haW4pXFxcIj09PUpTSElOVC5zY29wZSlmb3Iobz1vfHx7fSxpPTA7SlNISU5ULmludGVybmFscy5sZW5ndGg+aTtpKz0xKWs9SlNISU5ULmludGVybmFsc1tpXSxvLnNjb3BlPWsuZWxlbSxpdHNlbGYoay52YWx1ZSxvLGcpO3JldHVybiAwPT09SlNISU5ULmVycm9ycy5sZW5ndGh9O3JldHVybiBpdHNlbGYuYWRkTW9kdWxlPWZ1bmN0aW9uKGZ1bmMpe2V4dHJhTW9kdWxlcy5wdXNoKGZ1bmMpfSxpdHNlbGYuYWRkTW9kdWxlKHN0eWxlLnJlZ2lzdGVyKSxpdHNlbGYuZGF0YT1mdW5jdGlvbigpe3ZhciBmdSxmLGksaixuLGdsb2JhbHMsZGF0YT17ZnVuY3Rpb25zOltdLG9wdGlvbnM6c3RhdGUub3B0aW9ufTtpdHNlbGYuZXJyb3JzLmxlbmd0aCYmKGRhdGEuZXJyb3JzPWl0c2VsZi5lcnJvcnMpLHN0YXRlLmpzb25Nb2RlJiYoZGF0YS5qc29uPSEwKTt2YXIgaW1wbGllZEdsb2JhbHM9c3RhdGUuZnVuY3RbXFxcIihzY29wZSlcXFwiXS5nZXRJbXBsaWVkR2xvYmFscygpO2ZvcihpbXBsaWVkR2xvYmFscy5sZW5ndGg+MCYmKGRhdGEuaW1wbGllZHM9aW1wbGllZEdsb2JhbHMpLHVybHMubGVuZ3RoPjAmJihkYXRhLnVybHM9dXJscyksZ2xvYmFscz1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmdldFVzZWRPckRlZmluZWRHbG9iYWxzKCksZ2xvYmFscy5sZW5ndGg+MCYmKGRhdGEuZ2xvYmFscz1nbG9iYWxzKSxpPTE7ZnVuY3Rpb25zLmxlbmd0aD5pO2krPTEpe2ZvcihmPWZ1bmN0aW9uc1tpXSxmdT17fSxqPTA7ZnVuY3Rpb25pY2l0eS5sZW5ndGg+ajtqKz0xKWZ1W2Z1bmN0aW9uaWNpdHlbal1dPVtdO2ZvcihqPTA7ZnVuY3Rpb25pY2l0eS5sZW5ndGg+ajtqKz0xKTA9PT1mdVtmdW5jdGlvbmljaXR5W2pdXS5sZW5ndGgmJmRlbGV0ZSBmdVtmdW5jdGlvbmljaXR5W2pdXTtmdS5uYW1lPWZbXFxcIihuYW1lKVxcXCJdLGZ1LnBhcmFtPWZbXFxcIihwYXJhbXMpXFxcIl0sZnUubGluZT1mW1xcXCIobGluZSlcXFwiXSxmdS5jaGFyYWN0ZXI9ZltcXFwiKGNoYXJhY3RlcilcXFwiXSxmdS5sYXN0PWZbXFxcIihsYXN0KVxcXCJdLGZ1Lmxhc3RjaGFyYWN0ZXI9ZltcXFwiKGxhc3RjaGFyYWN0ZXIpXFxcIl0sZnUubWV0cmljcz17Y29tcGxleGl0eTpmW1xcXCIobWV0cmljcylcXFwiXS5Db21wbGV4aXR5Q291bnQscGFyYW1ldGVyczpmW1xcXCIobWV0cmljcylcXFwiXS5hcml0eSxzdGF0ZW1lbnRzOmZbXFxcIihtZXRyaWNzKVxcXCJdLnN0YXRlbWVudENvdW50fSxkYXRhLmZ1bmN0aW9ucy5wdXNoKGZ1KX12YXIgdW51c2Vkcz1zdGF0ZS5mdW5jdFtcXFwiKHNjb3BlKVxcXCJdLmdldFVudXNlZHMoKTt1bnVzZWRzLmxlbmd0aD4wJiYoZGF0YS51bnVzZWQ9dW51c2Vkcyk7Zm9yKG4gaW4gbWVtYmVyKWlmKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgbWVtYmVyW25dKXtkYXRhLm1lbWJlcj1tZW1iZXI7YnJlYWt9cmV0dXJuIGRhdGF9LGl0c2VsZi5qc2hpbnQ9aXRzZWxmLGl0c2VsZn0oKTtcXFwib2JqZWN0XFxcIj09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMmJihleHBvcnRzLkpTSElOVD1KU0hJTlQpfSx7XFxcIi4uL2xvZGFzaFxcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCIsXFxcIi4vbGV4LmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL2xleC5qc1xcXCIsXFxcIi4vbWVzc2FnZXMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvbWVzc2FnZXMuanNcXFwiLFxcXCIuL29wdGlvbnMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvb3B0aW9ucy5qc1xcXCIsXFxcIi4vcmVnLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3JlZy5qc1xcXCIsXFxcIi4vc2NvcGUtbWFuYWdlci5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zY29wZS1tYW5hZ2VyLmpzXFxcIixcXFwiLi9zdGF0ZS5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zdGF0ZS5qc1xcXCIsXFxcIi4vc3R5bGUuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc3R5bGUuanNcXFwiLFxcXCIuL3ZhcnMuanNcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvdmFycy5qc1xcXCIsZXZlbnRzOlxcXCIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcXFwifV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9sZXguanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYXN5bmNUcmlnZ2VyKCl7dmFyIF9jaGVja3M9W107cmV0dXJue3B1c2g6ZnVuY3Rpb24oZm4pe19jaGVja3MucHVzaChmbil9LGNoZWNrOmZ1bmN0aW9uKCl7Zm9yKHZhciBjaGVjaz0wO19jaGVja3MubGVuZ3RoPmNoZWNrOysrY2hlY2spX2NoZWNrc1tjaGVja10oKTtfY2hlY2tzLnNwbGljZSgwLF9jaGVja3MubGVuZ3RoKX19fWZ1bmN0aW9uIExleGVyKHNvdXJjZSl7dmFyIGxpbmVzPXNvdXJjZTtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGxpbmVzJiYobGluZXM9bGluZXMucmVwbGFjZSgvXFxcXHJcXFxcbi9nLFxcXCJcXFxcblxcXCIpLnJlcGxhY2UoL1xcXFxyL2csXFxcIlxcXFxuXFxcIikuc3BsaXQoXFxcIlxcXFxuXFxcIikpLGxpbmVzWzBdJiZcXFwiIyFcXFwiPT09bGluZXNbMF0uc3Vic3RyKDAsMikmJigtMSE9PWxpbmVzWzBdLmluZGV4T2YoXFxcIm5vZGVcXFwiKSYmKHN0YXRlLm9wdGlvbi5ub2RlPSEwKSxsaW5lc1swXT1cXFwiXFxcIiksdGhpcy5lbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLHRoaXMuc291cmNlPXNvdXJjZSx0aGlzLnNldExpbmVzKGxpbmVzKSx0aGlzLnByZXJlZz0hMCx0aGlzLmxpbmU9MCx0aGlzLmNoYXI9MSx0aGlzLmZyb209MSx0aGlzLmlucHV0PVxcXCJcXFwiLHRoaXMuaW5Db21tZW50PSExLHRoaXMuY29udGV4dD1bXSx0aGlzLnRlbXBsYXRlU3RhcnRzPVtdO2Zvcih2YXIgaT0wO3N0YXRlLm9wdGlvbi5pbmRlbnQ+aTtpKz0xKXN0YXRlLnRhYis9XFxcIiBcXFwiO3RoaXMuaWdub3JlTGludGVyRXJyb3JzPSExfXZhciBfPV9kZXJlcV8oXFxcIi4uL2xvZGFzaFxcXCIpLGV2ZW50cz1fZGVyZXFfKFxcXCJldmVudHNcXFwiKSxyZWc9X2RlcmVxXyhcXFwiLi9yZWcuanNcXFwiKSxzdGF0ZT1fZGVyZXFfKFxcXCIuL3N0YXRlLmpzXFxcIikuc3RhdGUsdW5pY29kZURhdGE9X2RlcmVxXyhcXFwiLi4vZGF0YS9hc2NpaS1pZGVudGlmaWVyLWRhdGEuanNcXFwiKSxhc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlPXVuaWNvZGVEYXRhLmFzY2lpSWRlbnRpZmllclN0YXJ0VGFibGUsYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlPXVuaWNvZGVEYXRhLmFzY2lpSWRlbnRpZmllclBhcnRUYWJsZSxUb2tlbj17SWRlbnRpZmllcjoxLFB1bmN0dWF0b3I6MixOdW1lcmljTGl0ZXJhbDozLFN0cmluZ0xpdGVyYWw6NCxDb21tZW50OjUsS2V5d29yZDo2LE51bGxMaXRlcmFsOjcsQm9vbGVhbkxpdGVyYWw6OCxSZWdFeHA6OSxUZW1wbGF0ZUhlYWQ6MTAsVGVtcGxhdGVNaWRkbGU6MTEsVGVtcGxhdGVUYWlsOjEyLE5vU3Vic3RUZW1wbGF0ZToxM30sQ29udGV4dD17QmxvY2s6MSxUZW1wbGF0ZToyfTtMZXhlci5wcm90b3R5cGU9e19saW5lczpbXSxpbkNvbnRleHQ6ZnVuY3Rpb24oY3R4VHlwZSl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg+MCYmdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5sZW5ndGgtMV0udHlwZT09PWN0eFR5cGV9LHB1c2hDb250ZXh0OmZ1bmN0aW9uKGN0eFR5cGUpe3RoaXMuY29udGV4dC5wdXNoKHt0eXBlOmN0eFR5cGV9KX0scG9wQ29udGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQucG9wKCl9LGlzQ29udGV4dDpmdW5jdGlvbihjb250ZXh0KXtyZXR1cm4gdGhpcy5jb250ZXh0Lmxlbmd0aD4wJiZ0aGlzLmNvbnRleHRbdGhpcy5jb250ZXh0Lmxlbmd0aC0xXT09PWNvbnRleHR9LGN1cnJlbnRDb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg+MCYmdGhpcy5jb250ZXh0W3RoaXMuY29udGV4dC5sZW5ndGgtMV19LGdldExpbmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVzPXN0YXRlLmxpbmVzLHRoaXMuX2xpbmVzfSxzZXRMaW5lczpmdW5jdGlvbih2YWwpe3RoaXMuX2xpbmVzPXZhbCxzdGF0ZS5saW5lcz10aGlzLl9saW5lc30scGVlazpmdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5pbnB1dC5jaGFyQXQoaXx8MCl9LHNraXA6ZnVuY3Rpb24oaSl7aT1pfHwxLHRoaXMuY2hhcis9aSx0aGlzLmlucHV0PXRoaXMuaW5wdXQuc2xpY2UoaSl9LG9uOmZ1bmN0aW9uKG5hbWVzLGxpc3RlbmVyKXtuYW1lcy5zcGxpdChcXFwiIFxcXCIpLmZvckVhY2goZnVuY3Rpb24obmFtZSl7dGhpcy5lbWl0dGVyLm9uKG5hbWUsbGlzdGVuZXIpfS5iaW5kKHRoaXMpKX0sdHJpZ2dlcjpmdW5jdGlvbigpe3RoaXMuZW1pdHRlci5lbWl0LmFwcGx5KHRoaXMuZW1pdHRlcixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sdHJpZ2dlckFzeW5jOmZ1bmN0aW9uKHR5cGUsYXJncyxjaGVja3MsZm4pe2NoZWNrcy5wdXNoKGZ1bmN0aW9uKCl7Zm4oKSYmdGhpcy50cmlnZ2VyKHR5cGUsYXJncyl9LmJpbmQodGhpcykpfSxzY2FuUHVuY3R1YXRvcjpmdW5jdGlvbigpe3ZhciBjaDIsY2gzLGNoNCxjaDE9dGhpcy5wZWVrKCk7c3dpdGNoKGNoMSl7Y2FzZVxcXCIuXFxcIjppZigvXlswLTldJC8udGVzdCh0aGlzLnBlZWsoMSkpKXJldHVybiBudWxsO2lmKFxcXCIuXFxcIj09PXRoaXMucGVlaygxKSYmXFxcIi5cXFwiPT09dGhpcy5wZWVrKDIpKXJldHVybnt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIi4uLlxcXCJ9O2Nhc2VcXFwiKFxcXCI6Y2FzZVxcXCIpXFxcIjpjYXNlXFxcIjtcXFwiOmNhc2VcXFwiLFxcXCI6Y2FzZVxcXCJbXFxcIjpjYXNlXFxcIl1cXFwiOmNhc2VcXFwiOlxcXCI6Y2FzZVxcXCJ+XFxcIjpjYXNlXFxcIj9cXFwiOnJldHVybnt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIntcXFwiOnJldHVybiB0aGlzLnB1c2hDb250ZXh0KENvbnRleHQuQmxvY2spLHt0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTtjYXNlXFxcIn1cXFwiOnJldHVybiB0aGlzLmluQ29udGV4dChDb250ZXh0LkJsb2NrKSYmdGhpcy5wb3BDb250ZXh0KCkse3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDF9O2Nhc2VcXFwiI1xcXCI6cmV0dXJue3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDF9O2Nhc2VcXFwiXFxcIjpyZXR1cm4gbnVsbH1yZXR1cm4gY2gyPXRoaXMucGVlaygxKSxjaDM9dGhpcy5wZWVrKDIpLGNoND10aGlzLnBlZWsoMyksXFxcIj5cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDImJlxcXCI+XFxcIj09PWNoMyYmXFxcIj1cXFwiPT09Y2g0P3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIj4+Pj1cXFwifTpcXFwiPVxcXCI9PT1jaDEmJlxcXCI9XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIj09PVxcXCJ9OlxcXCIhXFxcIj09PWNoMSYmXFxcIj1cXFwiPT09Y2gyJiZcXFwiPVxcXCI9PT1jaDM/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiIT09XFxcIn06XFxcIj5cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDImJlxcXCI+XFxcIj09PWNoMz97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOlxcXCI+Pj5cXFwifTpcXFwiPFxcXCI9PT1jaDEmJlxcXCI8XFxcIj09PWNoMiYmXFxcIj1cXFwiPT09Y2gzP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIjw8PVxcXCJ9OlxcXCI+XFxcIj09PWNoMSYmXFxcIj5cXFwiPT09Y2gyJiZcXFwiPVxcXCI9PT1jaDM/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiPj49XFxcIn06XFxcIj1cXFwiPT09Y2gxJiZcXFwiPlxcXCI9PT1jaDI/e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpjaDErY2gyfTpjaDE9PT1jaDImJlxcXCIrLTw+JnxcXFwiLmluZGV4T2YoY2gxKT49MD97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMStjaDJ9OlxcXCI8Pj0hKy0qJSZ8XlxcXCIuaW5kZXhPZihjaDEpPj0wP1xcXCI9XFxcIj09PWNoMj97dHlwZTpUb2tlbi5QdW5jdHVhdG9yLHZhbHVlOmNoMStjaDJ9Ont0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6Y2gxfTpcXFwiL1xcXCI9PT1jaDE/XFxcIj1cXFwiPT09Y2gyP3t0eXBlOlRva2VuLlB1bmN0dWF0b3IsdmFsdWU6XFxcIi89XFxcIn06e3R5cGU6VG9rZW4uUHVuY3R1YXRvcix2YWx1ZTpcXFwiL1xcXCJ9Om51bGx9LHNjYW5Db21tZW50czpmdW5jdGlvbigpe2Z1bmN0aW9uIGNvbW1lbnRUb2tlbihsYWJlbCxib2R5LG9wdCl7dmFyIHNwZWNpYWw9W1xcXCJqc2hpbnRcXFwiLFxcXCJqc2xpbnRcXFwiLFxcXCJtZW1iZXJzXFxcIixcXFwibWVtYmVyXFxcIixcXFwiZ2xvYmFsc1xcXCIsXFxcImdsb2JhbFxcXCIsXFxcImV4cG9ydGVkXFxcIl0saXNTcGVjaWFsPSExLHZhbHVlPWxhYmVsK2JvZHksY29tbWVudFR5cGU9XFxcInBsYWluXFxcIjtyZXR1cm4gb3B0PW9wdHx8e30sb3B0LmlzTXVsdGlsaW5lJiYodmFsdWUrPVxcXCIqL1xcXCIpLGJvZHk9Ym9keS5yZXBsYWNlKC9cXFxcbi9nLFxcXCIgXFxcIiksXFxcIi8qXFxcIj09PWxhYmVsJiZyZWcuZmFsbHNUaHJvdWdoLnRlc3QoYm9keSkmJihpc1NwZWNpYWw9ITAsY29tbWVudFR5cGU9XFxcImZhbGxzIHRocm91Z2hcXFwiKSxzcGVjaWFsLmZvckVhY2goZnVuY3Rpb24oc3RyKXtpZighaXNTcGVjaWFsJiYoXFxcIi8vXFxcIiE9PWxhYmVsfHxcXFwianNoaW50XFxcIj09PXN0cikmJihcXFwiIFxcXCI9PT1ib2R5LmNoYXJBdChzdHIubGVuZ3RoKSYmYm9keS5zdWJzdHIoMCxzdHIubGVuZ3RoKT09PXN0ciYmKGlzU3BlY2lhbD0hMCxsYWJlbCs9c3RyLGJvZHk9Ym9keS5zdWJzdHIoc3RyLmxlbmd0aCkpLGlzU3BlY2lhbHx8XFxcIiBcXFwiIT09Ym9keS5jaGFyQXQoMCl8fFxcXCIgXFxcIiE9PWJvZHkuY2hhckF0KHN0ci5sZW5ndGgrMSl8fGJvZHkuc3Vic3RyKDEsc3RyLmxlbmd0aCkhPT1zdHJ8fChpc1NwZWNpYWw9ITAsbGFiZWw9bGFiZWwrXFxcIiBcXFwiK3N0cixib2R5PWJvZHkuc3Vic3RyKHN0ci5sZW5ndGgrMSkpLGlzU3BlY2lhbCkpc3dpdGNoKHN0cil7Y2FzZVxcXCJtZW1iZXJcXFwiOmNvbW1lbnRUeXBlPVxcXCJtZW1iZXJzXFxcIjticmVhaztjYXNlXFxcImdsb2JhbFxcXCI6Y29tbWVudFR5cGU9XFxcImdsb2JhbHNcXFwiO2JyZWFrO2RlZmF1bHQ6dmFyIG9wdGlvbnM9Ym9keS5zcGxpdChcXFwiOlxcXCIpLm1hcChmdW5jdGlvbih2KXtyZXR1cm4gdi5yZXBsYWNlKC9eXFxcXHMrLyxcXFwiXFxcIikucmVwbGFjZSgvXFxcXHMrJC8sXFxcIlxcXCIpfSk7aWYoMj09PW9wdGlvbnMubGVuZ3RoKXN3aXRjaChvcHRpb25zWzBdKXtjYXNlXFxcImlnbm9yZVxcXCI6c3dpdGNoKG9wdGlvbnNbMV0pe2Nhc2VcXFwic3RhcnRcXFwiOnNlbGYuaWdub3JpbmdMaW50ZXJFcnJvcnM9ITAsaXNTcGVjaWFsPSExO2JyZWFrO2Nhc2VcXFwiZW5kXFxcIjpzZWxmLmlnbm9yaW5nTGludGVyRXJyb3JzPSExLGlzU3BlY2lhbD0hMX19Y29tbWVudFR5cGU9c3RyfX0pLHt0eXBlOlRva2VuLkNvbW1lbnQsY29tbWVudFR5cGU6Y29tbWVudFR5cGUsdmFsdWU6dmFsdWUsYm9keTpib2R5LGlzU3BlY2lhbDppc1NwZWNpYWwsaXNNdWx0aWxpbmU6b3B0LmlzTXVsdGlsaW5lfHwhMSxpc01hbGZvcm1lZDpvcHQuaXNNYWxmb3JtZWR8fCExfX12YXIgY2gxPXRoaXMucGVlaygpLGNoMj10aGlzLnBlZWsoMSkscmVzdD10aGlzLmlucHV0LnN1YnN0cigyKSxzdGFydExpbmU9dGhpcy5saW5lLHN0YXJ0Q2hhcj10aGlzLmNoYXIsc2VsZj10aGlzO2lmKFxcXCIqXFxcIj09PWNoMSYmXFxcIi9cXFwiPT09Y2gyKXJldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAxOFxcXCIsbGluZTpzdGFydExpbmUsY2hhcmFjdGVyOnN0YXJ0Q2hhcn0pLHRoaXMuc2tpcCgyKSxudWxsO2lmKFxcXCIvXFxcIiE9PWNoMXx8XFxcIipcXFwiIT09Y2gyJiZcXFwiL1xcXCIhPT1jaDIpcmV0dXJuIG51bGw7aWYoXFxcIi9cXFwiPT09Y2gyKXJldHVybiB0aGlzLnNraXAodGhpcy5pbnB1dC5sZW5ndGgpLGNvbW1lbnRUb2tlbihcXFwiLy9cXFwiLHJlc3QpO3ZhciBib2R5PVxcXCJcXFwiO2lmKFxcXCIqXFxcIj09PWNoMil7Zm9yKHRoaXMuaW5Db21tZW50PSEwLHRoaXMuc2tpcCgyKTtcXFwiKlxcXCIhPT10aGlzLnBlZWsoKXx8XFxcIi9cXFwiIT09dGhpcy5wZWVrKDEpOylpZihcXFwiXFxcIj09PXRoaXMucGVlaygpKXtpZihib2R5Kz1cXFwiXFxcXG5cXFwiLCF0aGlzLm5leHRMaW5lKCkpcmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiZXJyb3JcXFwiLHtjb2RlOlxcXCJFMDE3XFxcIixsaW5lOnN0YXJ0TGluZSxjaGFyYWN0ZXI6c3RhcnRDaGFyfSksdGhpcy5pbkNvbW1lbnQ9ITEsY29tbWVudFRva2VuKFxcXCIvKlxcXCIsYm9keSx7aXNNdWx0aWxpbmU6ITAsaXNNYWxmb3JtZWQ6ITB9KX1lbHNlIGJvZHkrPXRoaXMucGVlaygpLHRoaXMuc2tpcCgpO3JldHVybiB0aGlzLnNraXAoMiksdGhpcy5pbkNvbW1lbnQ9ITEsY29tbWVudFRva2VuKFxcXCIvKlxcXCIsYm9keSx7aXNNdWx0aWxpbmU6ITB9KX19LHNjYW5LZXl3b3JkOmZ1bmN0aW9uKCl7dmFyIHJlc3VsdD0vXlthLXpBLVpfJF1bYS16QS1aMC05XyRdKi8uZXhlYyh0aGlzLmlucHV0KSxrZXl3b3Jkcz1bXFxcImlmXFxcIixcXFwiaW5cXFwiLFxcXCJkb1xcXCIsXFxcInZhclxcXCIsXFxcImZvclxcXCIsXFxcIm5ld1xcXCIsXFxcInRyeVxcXCIsXFxcImxldFxcXCIsXFxcInRoaXNcXFwiLFxcXCJlbHNlXFxcIixcXFwiY2FzZVxcXCIsXFxcInZvaWRcXFwiLFxcXCJ3aXRoXFxcIixcXFwiZW51bVxcXCIsXFxcIndoaWxlXFxcIixcXFwiYnJlYWtcXFwiLFxcXCJjYXRjaFxcXCIsXFxcInRocm93XFxcIixcXFwiY29uc3RcXFwiLFxcXCJ5aWVsZFxcXCIsXFxcImNsYXNzXFxcIixcXFwic3VwZXJcXFwiLFxcXCJyZXR1cm5cXFwiLFxcXCJ0eXBlb2ZcXFwiLFxcXCJkZWxldGVcXFwiLFxcXCJzd2l0Y2hcXFwiLFxcXCJleHBvcnRcXFwiLFxcXCJpbXBvcnRcXFwiLFxcXCJkZWZhdWx0XFxcIixcXFwiZmluYWxseVxcXCIsXFxcImV4dGVuZHNcXFwiLFxcXCJmdW5jdGlvblxcXCIsXFxcImNvbnRpbnVlXFxcIixcXFwiZGVidWdnZXJcXFwiLFxcXCJpbnN0YW5jZW9mXFxcIl07cmV0dXJuIHJlc3VsdCYma2V5d29yZHMuaW5kZXhPZihyZXN1bHRbMF0pPj0wP3t0eXBlOlRva2VuLktleXdvcmQsdmFsdWU6cmVzdWx0WzBdfTpudWxsfSxzY2FuSWRlbnRpZmllcjpmdW5jdGlvbigpe2Z1bmN0aW9uIGlzTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQoY29kZSl7cmV0dXJuIGNvZGU+MjU2fWZ1bmN0aW9uIGlzTm9uQXNjaWlJZGVudGlmaWVyUGFydChjb2RlKXtyZXR1cm4gY29kZT4yNTZ9ZnVuY3Rpb24gaXNIZXhEaWdpdChzdHIpe3JldHVybi9eWzAtOWEtZkEtRl0kLy50ZXN0KHN0cil9ZnVuY3Rpb24gcmVtb3ZlRXNjYXBlU2VxdWVuY2VzKGlkKXtyZXR1cm4gaWQucmVwbGFjZSgvXFxcXFxcXFx1KFswLTlhLWZBLUZdezR9KS9nLGZ1bmN0aW9uKG0wLGNvZGVwb2ludCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29kZXBvaW50LDE2KSl9KX12YXIgdHlwZSxjaGFyLGlkPVxcXCJcXFwiLGluZGV4PTAscmVhZFVuaWNvZGVFc2NhcGVTZXF1ZW5jZT1mdW5jdGlvbigpe2lmKGluZGV4Kz0xLFxcXCJ1XFxcIiE9PXRoaXMucGVlayhpbmRleCkpcmV0dXJuIG51bGw7dmFyIGNvZGUsY2gxPXRoaXMucGVlayhpbmRleCsxKSxjaDI9dGhpcy5wZWVrKGluZGV4KzIpLGNoMz10aGlzLnBlZWsoaW5kZXgrMyksY2g0PXRoaXMucGVlayhpbmRleCs0KTtyZXR1cm4gaXNIZXhEaWdpdChjaDEpJiZpc0hleERpZ2l0KGNoMikmJmlzSGV4RGlnaXQoY2gzKSYmaXNIZXhEaWdpdChjaDQpPyhjb2RlPXBhcnNlSW50KGNoMStjaDIrY2gzK2NoNCwxNiksYXNjaWlJZGVudGlmaWVyUGFydFRhYmxlW2NvZGVdfHxpc05vbkFzY2lpSWRlbnRpZmllclBhcnQoY29kZSk/KGluZGV4Kz01LFxcXCJcXFxcXFxcXHVcXFwiK2NoMStjaDIrY2gzK2NoNCk6bnVsbCk6bnVsbH0uYmluZCh0aGlzKSxnZXRJZGVudGlmaWVyU3RhcnQ9ZnVuY3Rpb24oKXt2YXIgY2hyPXRoaXMucGVlayhpbmRleCksY29kZT1jaHIuY2hhckNvZGVBdCgwKTtyZXR1cm4gOTI9PT1jb2RlP3JlYWRVbmljb2RlRXNjYXBlU2VxdWVuY2UoKToxMjg+Y29kZT9hc2NpaUlkZW50aWZpZXJTdGFydFRhYmxlW2NvZGVdPyhpbmRleCs9MSxjaHIpOm51bGw6aXNOb25Bc2NpaUlkZW50aWZpZXJTdGFydChjb2RlKT8oaW5kZXgrPTEsY2hyKTpudWxsfS5iaW5kKHRoaXMpLGdldElkZW50aWZpZXJQYXJ0PWZ1bmN0aW9uKCl7dmFyIGNocj10aGlzLnBlZWsoaW5kZXgpLGNvZGU9Y2hyLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDkyPT09Y29kZT9yZWFkVW5pY29kZUVzY2FwZVNlcXVlbmNlKCk6MTI4PmNvZGU/YXNjaWlJZGVudGlmaWVyUGFydFRhYmxlW2NvZGVdPyhpbmRleCs9MSxjaHIpOm51bGw6aXNOb25Bc2NpaUlkZW50aWZpZXJQYXJ0KGNvZGUpPyhpbmRleCs9MSxjaHIpOm51bGx9LmJpbmQodGhpcyk7aWYoY2hhcj1nZXRJZGVudGlmaWVyU3RhcnQoKSxudWxsPT09Y2hhcilyZXR1cm4gbnVsbDtmb3IoaWQ9Y2hhcjtjaGFyPWdldElkZW50aWZpZXJQYXJ0KCksbnVsbCE9PWNoYXI7KWlkKz1jaGFyO3N3aXRjaChpZCl7Y2FzZVxcXCJ0cnVlXFxcIjpjYXNlXFxcImZhbHNlXFxcIjp0eXBlPVRva2VuLkJvb2xlYW5MaXRlcmFsO2JyZWFrO2Nhc2VcXFwibnVsbFxcXCI6dHlwZT1Ub2tlbi5OdWxsTGl0ZXJhbDticmVhaztkZWZhdWx0OnR5cGU9VG9rZW4uSWRlbnRpZmllcn1yZXR1cm57dHlwZTp0eXBlLHZhbHVlOnJlbW92ZUVzY2FwZVNlcXVlbmNlcyhpZCksdGV4dDppZCx0b2tlbkxlbmd0aDppZC5sZW5ndGh9fSxzY2FuTnVtZXJpY0xpdGVyYWw6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpc0RlY2ltYWxEaWdpdChzdHIpe3JldHVybi9eWzAtOV0kLy50ZXN0KHN0cil9ZnVuY3Rpb24gaXNPY3RhbERpZ2l0KHN0cil7cmV0dXJuL15bMC03XSQvLnRlc3Qoc3RyKX1mdW5jdGlvbiBpc0JpbmFyeURpZ2l0KHN0cil7cmV0dXJuL15bMDFdJC8udGVzdChzdHIpfWZ1bmN0aW9uIGlzSGV4RGlnaXQoc3RyKXtyZXR1cm4vXlswLTlhLWZBLUZdJC8udGVzdChzdHIpfWZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKXtyZXR1cm5cXFwiJFxcXCI9PT1jaHx8XFxcIl9cXFwiPT09Y2h8fFxcXCJcXFxcXFxcXFxcXCI9PT1jaHx8Y2g+PVxcXCJhXFxcIiYmXFxcInpcXFwiPj1jaHx8Y2g+PVxcXCJBXFxcIiYmXFxcIlpcXFwiPj1jaH12YXIgYmFkLGluZGV4PTAsdmFsdWU9XFxcIlxcXCIsbGVuZ3RoPXRoaXMuaW5wdXQubGVuZ3RoLGNoYXI9dGhpcy5wZWVrKGluZGV4KSxpc0FsbG93ZWREaWdpdD1pc0RlY2ltYWxEaWdpdCxiYXNlPTEwLGlzTGVnYWN5PSExO2lmKFxcXCIuXFxcIiE9PWNoYXImJiFpc0RlY2ltYWxEaWdpdChjaGFyKSlyZXR1cm4gbnVsbDtpZihcXFwiLlxcXCIhPT1jaGFyKXtmb3IodmFsdWU9dGhpcy5wZWVrKGluZGV4KSxpbmRleCs9MSxjaGFyPXRoaXMucGVlayhpbmRleCksXFxcIjBcXFwiPT09dmFsdWUmJigoXFxcInhcXFwiPT09Y2hhcnx8XFxcIlhcXFwiPT09Y2hhcikmJihpc0FsbG93ZWREaWdpdD1pc0hleERpZ2l0LGJhc2U9MTYsaW5kZXgrPTEsdmFsdWUrPWNoYXIpLChcXFwib1xcXCI9PT1jaGFyfHxcXFwiT1xcXCI9PT1jaGFyKSYmKGlzQWxsb3dlZERpZ2l0PWlzT2N0YWxEaWdpdCxiYXNlPTgsc3RhdGUuaW5FUzYoITApfHx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE5XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJPY3RhbCBpbnRlZ2VyIGxpdGVyYWxcXFwiLFxcXCI2XFxcIl19KSxpbmRleCs9MSx2YWx1ZSs9Y2hhciksKFxcXCJiXFxcIj09PWNoYXJ8fFxcXCJCXFxcIj09PWNoYXIpJiYoaXNBbGxvd2VkRGlnaXQ9aXNCaW5hcnlEaWdpdCxiYXNlPTIsc3RhdGUuaW5FUzYoITApfHx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE5XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJCaW5hcnkgaW50ZWdlciBsaXRlcmFsXFxcIixcXFwiNlxcXCJdfSksaW5kZXgrPTEsdmFsdWUrPWNoYXIpLGlzT2N0YWxEaWdpdChjaGFyKSYmKGlzQWxsb3dlZERpZ2l0PWlzT2N0YWxEaWdpdCxiYXNlPTgsaXNMZWdhY3k9ITAsYmFkPSExLGluZGV4Kz0xLHZhbHVlKz1jaGFyKSwhaXNPY3RhbERpZ2l0KGNoYXIpJiZpc0RlY2ltYWxEaWdpdChjaGFyKSYmKGluZGV4Kz0xLHZhbHVlKz1jaGFyKSk7bGVuZ3RoPmluZGV4Oyl7aWYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzTGVnYWN5JiZpc0RlY2ltYWxEaWdpdChjaGFyKSliYWQ9ITA7ZWxzZSBpZighaXNBbGxvd2VkRGlnaXQoY2hhcikpYnJlYWs7dmFsdWUrPWNoYXIsaW5kZXgrPTF9aWYoaXNBbGxvd2VkRGlnaXQhPT1pc0RlY2ltYWxEaWdpdClyZXR1cm4haXNMZWdhY3kmJjI+PXZhbHVlLmxlbmd0aD97dHlwZTpUb2tlbi5OdW1lcmljTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxpc01hbGZvcm1lZDohMH06bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzSWRlbnRpZmllclN0YXJ0KGNoYXIpKT9udWxsOnt0eXBlOlRva2VuLk51bWVyaWNMaXRlcmFsLHZhbHVlOnZhbHVlLGJhc2U6YmFzZSxpc0xlZ2FjeTppc0xlZ2FjeSxpc01hbGZvcm1lZDohMX19aWYoXFxcIi5cXFwiPT09Y2hhcilmb3IodmFsdWUrPWNoYXIsaW5kZXgrPTE7bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzRGVjaW1hbERpZ2l0KGNoYXIpKTspdmFsdWUrPWNoYXIsaW5kZXgrPTE7aWYoXFxcImVcXFwiPT09Y2hhcnx8XFxcIkVcXFwiPT09Y2hhcil7aWYodmFsdWUrPWNoYXIsaW5kZXgrPTEsY2hhcj10aGlzLnBlZWsoaW5kZXgpLChcXFwiK1xcXCI9PT1jaGFyfHxcXFwiLVxcXCI9PT1jaGFyKSYmKHZhbHVlKz10aGlzLnBlZWsoaW5kZXgpLGluZGV4Kz0xKSxjaGFyPXRoaXMucGVlayhpbmRleCksIWlzRGVjaW1hbERpZ2l0KGNoYXIpKXJldHVybiBudWxsO2Zvcih2YWx1ZSs9Y2hhcixpbmRleCs9MTtsZW5ndGg+aW5kZXgmJihjaGFyPXRoaXMucGVlayhpbmRleCksaXNEZWNpbWFsRGlnaXQoY2hhcikpOyl2YWx1ZSs9Y2hhcixpbmRleCs9MX1yZXR1cm4gbGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLGlzSWRlbnRpZmllclN0YXJ0KGNoYXIpKT9udWxsOnt0eXBlOlRva2VuLk51bWVyaWNMaXRlcmFsLHZhbHVlOnZhbHVlLGJhc2U6YmFzZSxpc01hbGZvcm1lZDohaXNGaW5pdGUodmFsdWUpfX0sc2NhbkVzY2FwZVNlcXVlbmNlOmZ1bmN0aW9uKGNoZWNrcyl7dmFyIGFsbG93TmV3TGluZT0hMSxqdW1wPTE7dGhpcy5za2lwKCk7dmFyIGNoYXI9dGhpcy5wZWVrKCk7c3dpdGNoKGNoYXIpe2Nhc2VcXFwiJ1xcXCI6dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE0XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJcXFxcXFxcXCdcXFwiXX0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmpzb25Nb2RlfSk7YnJlYWs7Y2FzZVxcXCJiXFxcIjpjaGFyPVxcXCJcXFxcXFxcXGJcXFwiO2JyZWFrO2Nhc2VcXFwiZlxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxmXFxcIjticmVhaztjYXNlXFxcIm5cXFwiOmNoYXI9XFxcIlxcXFxcXFxcblxcXCI7YnJlYWs7Y2FzZVxcXCJyXFxcIjpjaGFyPVxcXCJcXFxcXFxcXHJcXFwiO2JyZWFrO2Nhc2VcXFwidFxcXCI6Y2hhcj1cXFwiXFxcXFxcXFx0XFxcIjticmVhaztjYXNlXFxcIjBcXFwiOmNoYXI9XFxcIlxcXFxcXFxcMFxcXCI7dmFyIG49cGFyc2VJbnQodGhpcy5wZWVrKDEpLDEwKTt0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXJ9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBuPj0wJiY3Pj1uJiZzdGF0ZS5pc1N0cmljdCgpfSk7YnJlYWs7Y2FzZVxcXCJ1XFxcIjp2YXIgaGV4Q29kZT10aGlzLmlucHV0LnN1YnN0cigxLDQpLGNvZGU9cGFyc2VJbnQoaGV4Q29kZSwxNik7aXNOYU4oY29kZSkmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcwNTJcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbXFxcInVcXFwiK2hleENvZGVdfSksY2hhcj1TdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpLGp1bXA9NTticmVhaztjYXNlXFxcInZcXFwiOnRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltcXFwiXFxcXFxcXFx2XFxcIl19LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0pLGNoYXI9XFxcIlxcdTAwMGJcXFwiO2JyZWFrO2Nhc2VcXFwieFxcXCI6dmFyIHg9cGFyc2VJbnQodGhpcy5pbnB1dC5zdWJzdHIoMSwyKSwxNik7dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTE0XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCJcXFxcXFxcXHgtXFxcIl19LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiBzdGF0ZS5qc29uTW9kZX0pLGNoYXI9U3RyaW5nLmZyb21DaGFyQ29kZSh4KSxqdW1wPTM7YnJlYWs7Y2FzZVxcXCJcXFxcXFxcXFxcXCI6Y2hhcj1cXFwiXFxcXFxcXFxcXFxcXFxcXFxcXCI7YnJlYWs7Y2FzZSdcXFwiJzpjaGFyPSdcXFxcXFxcXFxcXCInO2JyZWFrO2Nhc2VcXFwiL1xcXCI6YnJlYWs7Y2FzZVxcXCJcXFwiOmFsbG93TmV3TGluZT0hMCxjaGFyPVxcXCJcXFwifXJldHVybntcXFwiY2hhclxcXCI6Y2hhcixqdW1wOmp1bXAsYWxsb3dOZXdMaW5lOmFsbG93TmV3TGluZX19LHNjYW5UZW1wbGF0ZUxpdGVyYWw6ZnVuY3Rpb24oY2hlY2tzKXt2YXIgdG9rZW5UeXBlLGNoLHZhbHVlPVxcXCJcXFwiLHN0YXJ0TGluZT10aGlzLmxpbmUsc3RhcnRDaGFyPXRoaXMuY2hhcixkZXB0aD10aGlzLnRlbXBsYXRlU3RhcnRzLmxlbmd0aDtpZighc3RhdGUuaW5FUzYoITApKXJldHVybiBudWxsO2lmKFxcXCJgXFxcIj09PXRoaXMucGVlaygpKXRva2VuVHlwZT1Ub2tlbi5UZW1wbGF0ZUhlYWQsdGhpcy50ZW1wbGF0ZVN0YXJ0cy5wdXNoKHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyfSksZGVwdGg9dGhpcy50ZW1wbGF0ZVN0YXJ0cy5sZW5ndGgsdGhpcy5za2lwKDEpLHRoaXMucHVzaENvbnRleHQoQ29udGV4dC5UZW1wbGF0ZSk7ZWxzZXtpZighdGhpcy5pbkNvbnRleHQoQ29udGV4dC5UZW1wbGF0ZSl8fFxcXCJ9XFxcIiE9PXRoaXMucGVlaygpKXJldHVybiBudWxsO3Rva2VuVHlwZT1Ub2tlbi5UZW1wbGF0ZU1pZGRsZX1mb3IoO1xcXCJgXFxcIiE9PXRoaXMucGVlaygpOyl7Zm9yKDtcXFwiXFxcIj09PShjaD10aGlzLnBlZWsoKSk7KWlmKHZhbHVlKz1cXFwiXFxcXG5cXFwiLCF0aGlzLm5leHRMaW5lKCkpe3ZhciBzdGFydFBvcz10aGlzLnRlbXBsYXRlU3RhcnRzLnBvcCgpO3JldHVybiB0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTA1MlxcXCIsbGluZTpzdGFydFBvcy5saW5lLGNoYXJhY3RlcjpzdGFydFBvcy5jaGFyfSkse3R5cGU6dG9rZW5UeXBlLHZhbHVlOnZhbHVlLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDaGFyOnN0YXJ0Q2hhcixpc1VuY2xvc2VkOiEwLGRlcHRoOmRlcHRoLGNvbnRleHQ6dGhpcy5wb3BDb250ZXh0KCl9fWlmKFxcXCIkXFxcIj09PWNoJiZcXFwie1xcXCI9PT10aGlzLnBlZWsoMSkpcmV0dXJuIHZhbHVlKz1cXFwiJHtcXFwiLHRoaXMuc2tpcCgyKSx7dHlwZTp0b2tlblR5cGUsdmFsdWU6dmFsdWUsc3RhcnRMaW5lOnN0YXJ0TGluZSxzdGFydENoYXI6c3RhcnRDaGFyLGlzVW5jbG9zZWQ6ITEsZGVwdGg6ZGVwdGgsY29udGV4dDp0aGlzLmN1cnJlbnRDb250ZXh0KCl9O1xcbmlmKFxcXCJcXFxcXFxcXFxcXCI9PT1jaCl7dmFyIGVzY2FwZT10aGlzLnNjYW5Fc2NhcGVTZXF1ZW5jZShjaGVja3MpO3ZhbHVlKz1lc2NhcGUuY2hhcix0aGlzLnNraXAoZXNjYXBlLmp1bXApfWVsc2VcXFwiYFxcXCIhPT1jaCYmKHZhbHVlKz1jaCx0aGlzLnNraXAoMSkpfXJldHVybiB0b2tlblR5cGU9dG9rZW5UeXBlPT09VG9rZW4uVGVtcGxhdGVIZWFkP1Rva2VuLk5vU3Vic3RUZW1wbGF0ZTpUb2tlbi5UZW1wbGF0ZVRhaWwsdGhpcy5za2lwKDEpLHRoaXMudGVtcGxhdGVTdGFydHMucG9wKCkse3R5cGU6dG9rZW5UeXBlLHZhbHVlOnZhbHVlLHN0YXJ0TGluZTpzdGFydExpbmUsc3RhcnRDaGFyOnN0YXJ0Q2hhcixpc1VuY2xvc2VkOiExLGRlcHRoOmRlcHRoLGNvbnRleHQ6dGhpcy5wb3BDb250ZXh0KCl9fSxzY2FuU3RyaW5nTGl0ZXJhbDpmdW5jdGlvbihjaGVja3Mpe3ZhciBxdW90ZT10aGlzLnBlZWsoKTtpZignXFxcIichPT1xdW90ZSYmXFxcIidcXFwiIT09cXVvdGUpcmV0dXJuIG51bGw7dGhpcy50cmlnZ2VyQXN5bmMoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTA4XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gc3RhdGUuanNvbk1vZGUmJidcXFwiJyE9PXF1b3RlfSk7dmFyIHZhbHVlPVxcXCJcXFwiLHN0YXJ0TGluZT10aGlzLmxpbmUsc3RhcnRDaGFyPXRoaXMuY2hhcixhbGxvd05ld0xpbmU9ITE7Zm9yKHRoaXMuc2tpcCgpO3RoaXMucGVlaygpIT09cXVvdGU7KWlmKFxcXCJcXFwiPT09dGhpcy5wZWVrKCkpe2lmKGFsbG93TmV3TGluZT8oYWxsb3dOZXdMaW5lPSExLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0M1xcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIXN0YXRlLm9wdGlvbi5tdWx0aXN0cn0pLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0MlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmpzb25Nb2RlJiZzdGF0ZS5vcHRpb24ubXVsdGlzdHJ9KSk6dGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExMlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0pLCF0aGlzLm5leHRMaW5lKCkpcmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiZXJyb3JcXFwiLHtjb2RlOlxcXCJFMDI5XFxcIixsaW5lOnN0YXJ0TGluZSxjaGFyYWN0ZXI6c3RhcnRDaGFyfSkse3R5cGU6VG9rZW4uU3RyaW5nTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMCxxdW90ZTpxdW90ZX19ZWxzZXthbGxvd05ld0xpbmU9ITE7dmFyIGNoYXI9dGhpcy5wZWVrKCksanVtcD0xO2lmKFxcXCIgXFxcIj5jaGFyJiZ0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMTEzXFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyLGRhdGE6W1xcXCI8bm9uLXByaW50YWJsZT5cXFwiXX0pLFxcXCJcXFxcXFxcXFxcXCI9PT1jaGFyKXt2YXIgcGFyc2VkPXRoaXMuc2NhbkVzY2FwZVNlcXVlbmNlKGNoZWNrcyk7Y2hhcj1wYXJzZWQuY2hhcixqdW1wPXBhcnNlZC5qdW1wLGFsbG93TmV3TGluZT1wYXJzZWQuYWxsb3dOZXdMaW5lfXZhbHVlKz1jaGFyLHRoaXMuc2tpcChqdW1wKX1yZXR1cm4gdGhpcy5za2lwKCkse3R5cGU6VG9rZW4uU3RyaW5nTGl0ZXJhbCx2YWx1ZTp2YWx1ZSxzdGFydExpbmU6c3RhcnRMaW5lLHN0YXJ0Q2hhcjpzdGFydENoYXIsaXNVbmNsb3NlZDohMSxxdW90ZTpxdW90ZX19LHNjYW5SZWdFeHA6ZnVuY3Rpb24oKXt2YXIgdGVybWluYXRlZCxpbmRleD0wLGxlbmd0aD10aGlzLmlucHV0Lmxlbmd0aCxjaGFyPXRoaXMucGVlaygpLHZhbHVlPWNoYXIsYm9keT1cXFwiXFxcIixmbGFncz1bXSxtYWxmb3JtZWQ9ITEsaXNDaGFyU2V0PSExLHNjYW5VbmV4cGVjdGVkQ2hhcnM9ZnVuY3Rpb24oKXtcXFwiIFxcXCI+Y2hhciYmKG1hbGZvcm1lZD0hMCx0aGlzLnRyaWdnZXIoXFxcIndhcm5pbmdcXFwiLHtjb2RlOlxcXCJXMDQ4XFxcIixsaW5lOnRoaXMubGluZSxjaGFyYWN0ZXI6dGhpcy5jaGFyfSkpLFxcXCI8XFxcIj09PWNoYXImJihtYWxmb3JtZWQ9ITAsdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0OVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltjaGFyXX0pKX0uYmluZCh0aGlzKTtpZighdGhpcy5wcmVyZWd8fFxcXCIvXFxcIiE9PWNoYXIpcmV0dXJuIG51bGw7Zm9yKGluZGV4Kz0xLHRlcm1pbmF0ZWQ9ITE7bGVuZ3RoPmluZGV4OylpZihjaGFyPXRoaXMucGVlayhpbmRleCksdmFsdWUrPWNoYXIsYm9keSs9Y2hhcixpc0NoYXJTZXQpXFxcIl1cXFwiPT09Y2hhciYmKFxcXCJcXFxcXFxcXFxcXCIhPT10aGlzLnBlZWsoaW5kZXgtMSl8fFxcXCJcXFxcXFxcXFxcXCI9PT10aGlzLnBlZWsoaW5kZXgtMikpJiYoaXNDaGFyU2V0PSExKSxcXFwiXFxcXFxcXFxcXFwiPT09Y2hhciYmKGluZGV4Kz0xLGNoYXI9dGhpcy5wZWVrKGluZGV4KSxib2R5Kz1jaGFyLHZhbHVlKz1jaGFyLHNjYW5VbmV4cGVjdGVkQ2hhcnMoKSksaW5kZXgrPTE7ZWxzZXtpZihcXFwiXFxcXFxcXFxcXFwiPT09Y2hhcil7aWYoaW5kZXgrPTEsY2hhcj10aGlzLnBlZWsoaW5kZXgpLGJvZHkrPWNoYXIsdmFsdWUrPWNoYXIsc2NhblVuZXhwZWN0ZWRDaGFycygpLFxcXCIvXFxcIj09PWNoYXIpe2luZGV4Kz0xO2NvbnRpbnVlfWlmKFxcXCJbXFxcIj09PWNoYXIpe2luZGV4Kz0xO2NvbnRpbnVlfX1pZihcXFwiW1xcXCIhPT1jaGFyKXtpZihcXFwiL1xcXCI9PT1jaGFyKXtib2R5PWJvZHkuc3Vic3RyKDAsYm9keS5sZW5ndGgtMSksdGVybWluYXRlZD0hMCxpbmRleCs9MTticmVha31pbmRleCs9MX1lbHNlIGlzQ2hhclNldD0hMCxpbmRleCs9MX1pZighdGVybWluYXRlZClyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJlcnJvclxcXCIse2NvZGU6XFxcIkUwMTVcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmZyb219KSx2b2lkIHRoaXMudHJpZ2dlcihcXFwiZmF0YWxcXFwiLHtsaW5lOnRoaXMubGluZSxmcm9tOnRoaXMuZnJvbX0pO2Zvcig7bGVuZ3RoPmluZGV4JiYoY2hhcj10aGlzLnBlZWsoaW5kZXgpLC9bZ2ltXS8udGVzdChjaGFyKSk7KWZsYWdzLnB1c2goY2hhciksdmFsdWUrPWNoYXIsaW5kZXgrPTE7dHJ5e1JlZ0V4cChib2R5LGZsYWdzLmpvaW4oXFxcIlxcXCIpKX1jYXRjaChlcnIpe21hbGZvcm1lZD0hMCx0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAxNlxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOltlcnIubWVzc2FnZV19KX1yZXR1cm57dHlwZTpUb2tlbi5SZWdFeHAsdmFsdWU6dmFsdWUsZmxhZ3M6ZmxhZ3MsaXNNYWxmb3JtZWQ6bWFsZm9ybWVkfX0sc2Nhbk5vbkJyZWFraW5nU3BhY2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLm9wdGlvbi5ub25ic3A/dGhpcy5pbnB1dC5zZWFyY2goLyhcXFxcdTAwQTApLyk6LTF9LHNjYW5VbnNhZmVDaGFyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0LnNlYXJjaChyZWcudW5zYWZlQ2hhcnMpfSxuZXh0OmZ1bmN0aW9uKGNoZWNrcyl7dGhpcy5mcm9tPXRoaXMuY2hhcjt2YXIgc3RhcnQ7aWYoL1xcXFxzLy50ZXN0KHRoaXMucGVlaygpKSlmb3Ioc3RhcnQ9dGhpcy5jaGFyOy9cXFxccy8udGVzdCh0aGlzLnBlZWsoKSk7KXRoaXMuZnJvbSs9MSx0aGlzLnNraXAoKTt2YXIgbWF0Y2g9dGhpcy5zY2FuQ29tbWVudHMoKXx8dGhpcy5zY2FuU3RyaW5nTGl0ZXJhbChjaGVja3MpfHx0aGlzLnNjYW5UZW1wbGF0ZUxpdGVyYWwoY2hlY2tzKTtyZXR1cm4gbWF0Y2g/bWF0Y2g6KG1hdGNoPXRoaXMuc2NhblJlZ0V4cCgpfHx0aGlzLnNjYW5QdW5jdHVhdG9yKCl8fHRoaXMuc2NhbktleXdvcmQoKXx8dGhpcy5zY2FuSWRlbnRpZmllcigpfHx0aGlzLnNjYW5OdW1lcmljTGl0ZXJhbCgpLG1hdGNoPyh0aGlzLnNraXAobWF0Y2gudG9rZW5MZW5ndGh8fG1hdGNoLnZhbHVlLmxlbmd0aCksbWF0Y2gpOm51bGwpfSxuZXh0TGluZTpmdW5jdGlvbigpe3ZhciBjaGFyO2lmKHRoaXMubGluZT49dGhpcy5nZXRMaW5lcygpLmxlbmd0aClyZXR1cm4hMTt0aGlzLmlucHV0PXRoaXMuZ2V0TGluZXMoKVt0aGlzLmxpbmVdLHRoaXMubGluZSs9MSx0aGlzLmNoYXI9MSx0aGlzLmZyb209MTt2YXIgaW5wdXRUcmltbWVkPXRoaXMuaW5wdXQudHJpbSgpLHN0YXJ0c1dpdGg9ZnVuY3Rpb24oKXtyZXR1cm4gXy5zb21lKGFyZ3VtZW50cyxmdW5jdGlvbihwcmVmaXgpe3JldHVybiAwPT09aW5wdXRUcmltbWVkLmluZGV4T2YocHJlZml4KX0pfSxlbmRzV2l0aD1mdW5jdGlvbigpe3JldHVybiBfLnNvbWUoYXJndW1lbnRzLGZ1bmN0aW9uKHN1ZmZpeCl7cmV0dXJuLTEhPT1pbnB1dFRyaW1tZWQuaW5kZXhPZihzdWZmaXgsaW5wdXRUcmltbWVkLmxlbmd0aC1zdWZmaXgubGVuZ3RoKX0pfTtpZih0aGlzLmlnbm9yaW5nTGludGVyRXJyb3JzPT09ITAmJihzdGFydHNXaXRoKFxcXCIvKlxcXCIsXFxcIi8vXFxcIil8fHRoaXMuaW5Db21tZW50JiZlbmRzV2l0aChcXFwiKi9cXFwiKXx8KHRoaXMuaW5wdXQ9XFxcIlxcXCIpKSxjaGFyPXRoaXMuc2Nhbk5vbkJyZWFraW5nU3BhY2VzKCksY2hhcj49MCYmdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzEyNVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOmNoYXIrMX0pLHRoaXMuaW5wdXQ9dGhpcy5pbnB1dC5yZXBsYWNlKC9cXFxcdC9nLHN0YXRlLnRhYiksY2hhcj10aGlzLnNjYW5VbnNhZmVDaGFycygpLGNoYXI+PTAmJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMDBcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3RlcjpjaGFyfSksIXRoaXMuaWdub3JpbmdMaW50ZXJFcnJvcnMmJnN0YXRlLm9wdGlvbi5tYXhsZW4mJnN0YXRlLm9wdGlvbi5tYXhsZW48dGhpcy5pbnB1dC5sZW5ndGgpe3ZhciBpbkNvbW1lbnQ9dGhpcy5pbkNvbW1lbnR8fHN0YXJ0c1dpdGguY2FsbChpbnB1dFRyaW1tZWQsXFxcIi8vXFxcIil8fHN0YXJ0c1dpdGguY2FsbChpbnB1dFRyaW1tZWQsXFxcIi8qXFxcIiksc2hvdWxkVHJpZ2dlckVycm9yPSFpbkNvbW1lbnR8fCFyZWcubWF4bGVuRXhjZXB0aW9uLnRlc3QoaW5wdXRUcmltbWVkKTtzaG91bGRUcmlnZ2VyRXJyb3ImJnRoaXMudHJpZ2dlcihcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMDFcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmlucHV0Lmxlbmd0aH0pfXJldHVybiEwfSxzdGFydDpmdW5jdGlvbigpe3RoaXMubmV4dExpbmUoKX0sdG9rZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBpc1Jlc2VydmVkKHRva2VuLGlzUHJvcGVydHkpe2lmKCF0b2tlbi5yZXNlcnZlZClyZXR1cm4hMTt2YXIgbWV0YT10b2tlbi5tZXRhO2lmKG1ldGEmJm1ldGEuaXNGdXR1cmVSZXNlcnZlZFdvcmQmJnN0YXRlLmluRVM1KCkpe2lmKCFtZXRhLmVzNSlyZXR1cm4hMTtpZihtZXRhLnN0cmljdE9ubHkmJiFzdGF0ZS5vcHRpb24uc3RyaWN0JiYhc3RhdGUuaXNTdHJpY3QoKSlyZXR1cm4hMTtpZihpc1Byb3BlcnR5KXJldHVybiExfXJldHVybiEwfWZvcih2YXIgdG9rZW4sY2hlY2tzPWFzeW5jVHJpZ2dlcigpLGNyZWF0ZT1mdW5jdGlvbih0eXBlLHZhbHVlLGlzUHJvcGVydHksdG9rZW4pe3ZhciBvYmo7aWYoXFxcIihlbmRsaW5lKVxcXCIhPT10eXBlJiZcXFwiKGVuZClcXFwiIT09dHlwZSYmKHRoaXMucHJlcmVnPSExKSxcXFwiKHB1bmN0dWF0b3IpXFxcIj09PXR5cGUpe3N3aXRjaCh2YWx1ZSl7Y2FzZVxcXCIuXFxcIjpjYXNlXFxcIilcXFwiOmNhc2VcXFwiflxcXCI6Y2FzZVxcXCIjXFxcIjpjYXNlXFxcIl1cXFwiOmNhc2VcXFwiKytcXFwiOmNhc2VcXFwiLS1cXFwiOnRoaXMucHJlcmVnPSExO2JyZWFrO2RlZmF1bHQ6dGhpcy5wcmVyZWc9ITB9b2JqPU9iamVjdC5jcmVhdGUoc3RhdGUuc3ludGF4W3ZhbHVlXXx8c3RhdGUuc3ludGF4W1xcXCIoZXJyb3IpXFxcIl0pfXJldHVyblxcXCIoaWRlbnRpZmllcilcXFwiPT09dHlwZSYmKChcXFwicmV0dXJuXFxcIj09PXZhbHVlfHxcXFwiY2FzZVxcXCI9PT12YWx1ZXx8XFxcInR5cGVvZlxcXCI9PT12YWx1ZSkmJih0aGlzLnByZXJlZz0hMCksXy5oYXMoc3RhdGUuc3ludGF4LHZhbHVlKSYmKG9iaj1PYmplY3QuY3JlYXRlKHN0YXRlLnN5bnRheFt2YWx1ZV18fHN0YXRlLnN5bnRheFtcXFwiKGVycm9yKVxcXCJdKSxpc1Jlc2VydmVkKG9iaixpc1Byb3BlcnR5JiZcXFwiKGlkZW50aWZpZXIpXFxcIj09PXR5cGUpfHwob2JqPW51bGwpKSksb2JqfHwob2JqPU9iamVjdC5jcmVhdGUoc3RhdGUuc3ludGF4W3R5cGVdKSksb2JqLmlkZW50aWZpZXI9XFxcIihpZGVudGlmaWVyKVxcXCI9PT10eXBlLG9iai50eXBlPW9iai50eXBlfHx0eXBlLG9iai52YWx1ZT12YWx1ZSxvYmoubGluZT10aGlzLmxpbmUsb2JqLmNoYXJhY3Rlcj10aGlzLmNoYXIsb2JqLmZyb209dGhpcy5mcm9tLG9iai5pZGVudGlmaWVyJiZ0b2tlbiYmKG9iai5yYXdfdGV4dD10b2tlbi50ZXh0fHx0b2tlbi52YWx1ZSksdG9rZW4mJnRva2VuLnN0YXJ0TGluZSYmdG9rZW4uc3RhcnRMaW5lIT09dGhpcy5saW5lJiYob2JqLnN0YXJ0TGluZT10b2tlbi5zdGFydExpbmUpLHRva2VuJiZ0b2tlbi5jb250ZXh0JiYob2JqLmNvbnRleHQ9dG9rZW4uY29udGV4dCksdG9rZW4mJnRva2VuLmRlcHRoJiYob2JqLmRlcHRoPXRva2VuLmRlcHRoKSx0b2tlbiYmdG9rZW4uaXNVbmNsb3NlZCYmKG9iai5pc1VuY2xvc2VkPXRva2VuLmlzVW5jbG9zZWQpLGlzUHJvcGVydHkmJm9iai5pZGVudGlmaWVyJiYob2JqLmlzUHJvcGVydHk9aXNQcm9wZXJ0eSksb2JqLmNoZWNrPWNoZWNrcy5jaGVjayxvYmp9LmJpbmQodGhpcyk7Oyl7aWYoIXRoaXMuaW5wdXQubGVuZ3RoKXJldHVybiB0aGlzLm5leHRMaW5lKCk/Y3JlYXRlKFxcXCIoZW5kbGluZSlcXFwiLFxcXCJcXFwiKTp0aGlzLmV4aGF1c3RlZD9udWxsOih0aGlzLmV4aGF1c3RlZD0hMCxjcmVhdGUoXFxcIihlbmQpXFxcIixcXFwiXFxcIikpO2lmKHRva2VuPXRoaXMubmV4dChjaGVja3MpKXN3aXRjaCh0b2tlbi50eXBlKXtjYXNlIFRva2VuLlN0cmluZ0xpdGVyYWw6cmV0dXJuIHRoaXMudHJpZ2dlckFzeW5jKFxcXCJTdHJpbmdcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tLHN0YXJ0TGluZTp0b2tlbi5zdGFydExpbmUsc3RhcnRDaGFyOnRva2VuLnN0YXJ0Q2hhcix2YWx1ZTp0b2tlbi52YWx1ZSxxdW90ZTp0b2tlbi5xdW90ZX0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuITB9KSxjcmVhdGUoXFxcIihzdHJpbmcpXFxcIix0b2tlbi52YWx1ZSxudWxsLHRva2VuKTtjYXNlIFRva2VuLlRlbXBsYXRlSGVhZDpyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJUZW1wbGF0ZUhlYWRcXFwiLHtsaW5lOnRoaXMubGluZSxcXFwiY2hhclxcXCI6dGhpcy5jaGFyLGZyb206dGhpcy5mcm9tLHN0YXJ0TGluZTp0b2tlbi5zdGFydExpbmUsc3RhcnRDaGFyOnRva2VuLnN0YXJ0Q2hhcix2YWx1ZTp0b2tlbi52YWx1ZX0pLGNyZWF0ZShcXFwiKHRlbXBsYXRlKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5UZW1wbGF0ZU1pZGRsZTpyZXR1cm4gdGhpcy50cmlnZ2VyKFxcXCJUZW1wbGF0ZU1pZGRsZVxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb20sc3RhcnRMaW5lOnRva2VuLnN0YXJ0TGluZSxzdGFydENoYXI6dG9rZW4uc3RhcnRDaGFyLHZhbHVlOnRva2VuLnZhbHVlfSksY3JlYXRlKFxcXCIodGVtcGxhdGUgbWlkZGxlKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5UZW1wbGF0ZVRhaWw6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiVGVtcGxhdGVUYWlsXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWV9KSxjcmVhdGUoXFxcIih0ZW1wbGF0ZSB0YWlsKVxcXCIsdG9rZW4udmFsdWUsbnVsbCx0b2tlbik7Y2FzZSBUb2tlbi5Ob1N1YnN0VGVtcGxhdGU6cmV0dXJuIHRoaXMudHJpZ2dlcihcXFwiTm9TdWJzdFRlbXBsYXRlXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSxzdGFydExpbmU6dG9rZW4uc3RhcnRMaW5lLHN0YXJ0Q2hhcjp0b2tlbi5zdGFydENoYXIsdmFsdWU6dG9rZW4udmFsdWV9KSxjcmVhdGUoXFxcIihubyBzdWJzdCB0ZW1wbGF0ZSlcXFwiLHRva2VuLnZhbHVlLG51bGwsdG9rZW4pO2Nhc2UgVG9rZW4uSWRlbnRpZmllcjp0aGlzLnRyaWdnZXJBc3luYyhcXFwiSWRlbnRpZmllclxcXCIse2xpbmU6dGhpcy5saW5lLFxcXCJjaGFyXFxcIjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZvcm0sbmFtZTp0b2tlbi52YWx1ZSxyYXdfbmFtZTp0b2tlbi50ZXh0LGlzUHJvcGVydHk6XFxcIi5cXFwiPT09c3RhdGUudG9rZW5zLmN1cnIuaWR9LGNoZWNrcyxmdW5jdGlvbigpe3JldHVybiEwfSk7Y2FzZSBUb2tlbi5LZXl3b3JkOmNhc2UgVG9rZW4uTnVsbExpdGVyYWw6Y2FzZSBUb2tlbi5Cb29sZWFuTGl0ZXJhbDpyZXR1cm4gY3JlYXRlKFxcXCIoaWRlbnRpZmllcilcXFwiLHRva2VuLnZhbHVlLFxcXCIuXFxcIj09PXN0YXRlLnRva2Vucy5jdXJyLmlkLHRva2VuKTtjYXNlIFRva2VuLk51bWVyaWNMaXRlcmFsOnJldHVybiB0b2tlbi5pc01hbGZvcm1lZCYmdGhpcy50cmlnZ2VyKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzA0NVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOlt0b2tlbi52YWx1ZV19KSx0aGlzLnRyaWdnZXJBc3luYyhcXFwid2FybmluZ1xcXCIse2NvZGU6XFxcIlcxMTRcXFwiLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZGF0YTpbXFxcIjB4LVxcXCJdfSxjaGVja3MsZnVuY3Rpb24oKXtyZXR1cm4gMTY9PT10b2tlbi5iYXNlJiZzdGF0ZS5qc29uTW9kZX0pLHRoaXMudHJpZ2dlckFzeW5jKFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpcXFwiVzExNVxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcn0sY2hlY2tzLGZ1bmN0aW9uKCl7cmV0dXJuIHN0YXRlLmlzU3RyaWN0KCkmJjg9PT10b2tlbi5iYXNlJiZ0b2tlbi5pc0xlZ2FjeX0pLHRoaXMudHJpZ2dlcihcXFwiTnVtYmVyXFxcIix7bGluZTp0aGlzLmxpbmUsXFxcImNoYXJcXFwiOnRoaXMuY2hhcixmcm9tOnRoaXMuZnJvbSx2YWx1ZTp0b2tlbi52YWx1ZSxiYXNlOnRva2VuLmJhc2UsaXNNYWxmb3JtZWQ6dG9rZW4ubWFsZm9ybWVkfSksY3JlYXRlKFxcXCIobnVtYmVyKVxcXCIsdG9rZW4udmFsdWUpO2Nhc2UgVG9rZW4uUmVnRXhwOnJldHVybiBjcmVhdGUoXFxcIihyZWdleHApXFxcIix0b2tlbi52YWx1ZSk7Y2FzZSBUb2tlbi5Db21tZW50OmlmKHN0YXRlLnRva2Vucy5jdXJyLmNvbW1lbnQ9ITAsdG9rZW4uaXNTcGVjaWFsKXJldHVybntpZDpcXFwiKGNvbW1lbnQpXFxcIix2YWx1ZTp0b2tlbi52YWx1ZSxib2R5OnRva2VuLmJvZHksdHlwZTp0b2tlbi5jb21tZW50VHlwZSxpc1NwZWNpYWw6dG9rZW4uaXNTcGVjaWFsLGxpbmU6dGhpcy5saW5lLGNoYXJhY3Rlcjp0aGlzLmNoYXIsZnJvbTp0aGlzLmZyb219O2JyZWFrO2Nhc2VcXFwiXFxcIjpicmVhaztkZWZhdWx0OnJldHVybiBjcmVhdGUoXFxcIihwdW5jdHVhdG9yKVxcXCIsdG9rZW4udmFsdWUpfWVsc2UgdGhpcy5pbnB1dC5sZW5ndGgmJih0aGlzLnRyaWdnZXIoXFxcImVycm9yXFxcIix7Y29kZTpcXFwiRTAyNFxcXCIsbGluZTp0aGlzLmxpbmUsY2hhcmFjdGVyOnRoaXMuY2hhcixkYXRhOlt0aGlzLnBlZWsoKV19KSx0aGlzLmlucHV0PVxcXCJcXFwiKX19fSxleHBvcnRzLkxleGVyPUxleGVyLGV4cG9ydHMuQ29udGV4dD1Db250ZXh0fSx7XFxcIi4uL2RhdGEvYXNjaWktaWRlbnRpZmllci1kYXRhLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvZGF0YS9hc2NpaS1pZGVudGlmaWVyLWRhdGEuanNcXFwiLFxcXCIuLi9sb2Rhc2hcXFwiOlxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9sb2Rhc2guanNcXFwiLFxcXCIuL3JlZy5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9yZWcuanNcXFwiLFxcXCIuL3N0YXRlLmpzXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0YXRlLmpzXFxcIixldmVudHM6XFxcIi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL21lc3NhZ2VzLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBfPV9kZXJlcV8oXFxcIi4uL2xvZGFzaFxcXCIpLGVycm9ycz17RTAwMTpcXFwiQmFkIG9wdGlvbjogJ3thfScuXFxcIixFMDAyOlxcXCJCYWQgb3B0aW9uIHZhbHVlLlxcXCIsRTAwMzpcXFwiRXhwZWN0ZWQgYSBKU09OIHZhbHVlLlxcXCIsRTAwNDpcXFwiSW5wdXQgaXMgbmVpdGhlciBhIHN0cmluZyBub3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cXFwiLEUwMDU6XFxcIklucHV0IGlzIGVtcHR5LlxcXCIsRTAwNjpcXFwiVW5leHBlY3RlZCBlYXJseSBlbmQgb2YgcHJvZ3JhbS5cXFwiLEUwMDc6J01pc3NpbmcgXFxcInVzZSBzdHJpY3RcXFwiIHN0YXRlbWVudC4nLEUwMDg6XFxcIlN0cmljdCB2aW9sYXRpb24uXFxcIixFMDA5OlxcXCJPcHRpb24gJ3ZhbGlkdGhpcycgY2FuJ3QgYmUgdXNlZCBpbiBhIGdsb2JhbCBzY29wZS5cXFwiLEUwMTA6XFxcIid3aXRoJyBpcyBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS5cXFwiLEUwMTE6XFxcIid7YX0nIGhhcyBhbHJlYWR5IGJlZW4gZGVjbGFyZWQuXFxcIixFMDEyOlxcXCJjb25zdCAne2F9JyBpcyBpbml0aWFsaXplZCB0byAndW5kZWZpbmVkJy5cXFwiLEUwMTM6XFxcIkF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJ3thfScgd2hpY2ggaXMgYSBjb25zdGFudC5cXFwiLEUwMTQ6XFxcIkEgcmVndWxhciBleHByZXNzaW9uIGxpdGVyYWwgY2FuIGJlIGNvbmZ1c2VkIHdpdGggJy89Jy5cXFwiLEUwMTU6XFxcIlVuY2xvc2VkIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLEUwMTY6XFxcIkludmFsaWQgcmVndWxhciBleHByZXNzaW9uLlxcXCIsRTAxNzpcXFwiVW5jbG9zZWQgY29tbWVudC5cXFwiLEUwMTg6XFxcIlVuYmVndW4gY29tbWVudC5cXFwiLEUwMTk6XFxcIlVubWF0Y2hlZCAne2F9Jy5cXFwiLEUwMjA6XFxcIkV4cGVjdGVkICd7YX0nIHRvIG1hdGNoICd7Yn0nIGZyb20gbGluZSB7Y30gYW5kIGluc3RlYWQgc2F3ICd7ZH0nLlxcXCIsRTAyMTpcXFwiRXhwZWN0ZWQgJ3thfScgYW5kIGluc3RlYWQgc2F3ICd7Yn0nLlxcXCIsRTAyMjpcXFwiTGluZSBicmVha2luZyBlcnJvciAne2F9Jy5cXFwiLEUwMjM6XFxcIk1pc3NpbmcgJ3thfScuXFxcIixFMDI0OlxcXCJVbmV4cGVjdGVkICd7YX0nLlxcXCIsRTAyNTpcXFwiTWlzc2luZyAnOicgb24gYSBjYXNlIGNsYXVzZS5cXFwiLEUwMjY6XFxcIk1pc3NpbmcgJ30nIHRvIG1hdGNoICd7JyBmcm9tIGxpbmUge2F9LlxcXCIsRTAyNzpcXFwiTWlzc2luZyAnXScgdG8gbWF0Y2ggJ1snIGZyb20gbGluZSB7YX0uXFxcIixFMDI4OlxcXCJJbGxlZ2FsIGNvbW1hLlxcXCIsRTAyOTpcXFwiVW5jbG9zZWQgc3RyaW5nLlxcXCIsRTAzMDpcXFwiRXhwZWN0ZWQgYW4gaWRlbnRpZmllciBhbmQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDMxOlxcXCJCYWQgYXNzaWdubWVudC5cXFwiLEUwMzI6XFxcIkV4cGVjdGVkIGEgc21hbGwgaW50ZWdlciBvciAnZmFsc2UnIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLEUwMzM6XFxcIkV4cGVjdGVkIGFuIG9wZXJhdG9yIGFuZCBpbnN0ZWFkIHNhdyAne2F9Jy5cXFwiLEUwMzQ6XFxcImdldC9zZXQgYXJlIEVTNSBmZWF0dXJlcy5cXFwiLEUwMzU6XFxcIk1pc3NpbmcgcHJvcGVydHkgbmFtZS5cXFwiLEUwMzY6XFxcIkV4cGVjdGVkIHRvIHNlZSBhIHN0YXRlbWVudCBhbmQgaW5zdGVhZCBzYXcgYSBibG9jay5cXFwiLEUwMzc6bnVsbCxFMDM4Om51bGwsRTAzOTpcXFwiRnVuY3Rpb24gZGVjbGFyYXRpb25zIGFyZSBub3QgaW52b2NhYmxlLiBXcmFwIHRoZSB3aG9sZSBmdW5jdGlvbiBpbnZvY2F0aW9uIGluIHBhcmVucy5cXFwiLEUwNDA6XFxcIkVhY2ggdmFsdWUgc2hvdWxkIGhhdmUgaXRzIG93biBjYXNlIGxhYmVsLlxcXCIsRTA0MTpcXFwiVW5yZWNvdmVyYWJsZSBzeW50YXggZXJyb3IuXFxcIixFMDQyOlxcXCJTdG9wcGluZy5cXFwiLEUwNDM6XFxcIlRvbyBtYW55IGVycm9ycy5cXFwiLEUwNDQ6bnVsbCxFMDQ1OlxcXCJJbnZhbGlkIGZvciBlYWNoIGxvb3AuXFxcIixFMDQ2OlxcXCJBIHlpZWxkIHN0YXRlbWVudCBzaGFsbCBiZSB3aXRoaW4gYSBnZW5lcmF0b3IgZnVuY3Rpb24gKHdpdGggc3ludGF4OiBgZnVuY3Rpb24qYClcXFwiLEUwNDc6bnVsbCxFMDQ4OlxcXCJ7YX0gZGVjbGFyYXRpb24gbm90IGRpcmVjdGx5IHdpdGhpbiBibG9jay5cXFwiLEUwNDk6XFxcIkEge2F9IGNhbm5vdCBiZSBuYW1lZCAne2J9Jy5cXFwiLEUwNTA6XFxcIk1vemlsbGEgYWNlcXVpcmVzIHRoZSB5aWVsZCBleHByZXNzaW9uIHRvIGJlIHBhcmVudGhlc2l6ZWQgaGVyZS5cXFwiLEUwNTE6bnVsbCxFMDUyOlxcXCJVbmNsb3NlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxcXCIsRTA1MzpcXFwiRXhwb3J0IGRlY2xhcmF0aW9uIG11c3QgYmUgaW4gZ2xvYmFsIHNjb3BlLlxcXCIsRTA1NDpcXFwiQ2xhc3MgcHJvcGVydGllcyBtdXN0IGJlIG1ldGhvZHMuIEV4cGVjdGVkICcoJyBidXQgaW5zdGVhZCBzYXcgJ3thfScuXFxcIixFMDU1OlxcXCJUaGUgJ3thfScgb3B0aW9uIGNhbm5vdCBiZSBzZXQgYWZ0ZXIgYW55IGV4ZWN1dGFibGUgY29kZS5cXFwiLEUwNTY6XFxcIid7YX0nIHdhcyB1c2VkIGJlZm9yZSBpdCB3YXMgZGVjbGFyZWQsIHdoaWNoIGlzIGlsbGVnYWwgZm9yICd7Yn0nIHZhcmlhYmxlcy5cXFwiLEUwNTc6XFxcIkludmFsaWQgbWV0YSBwcm9wZXJ0eTogJ3thfS57Yn0nLlxcXCIsRTA1ODpcXFwiTWlzc2luZyBzZW1pY29sb24uXFxcIn0sd2FybmluZ3M9e1cwMDE6XFxcIidoYXNPd25Qcm9wZXJ0eScgaXMgYSByZWFsbHkgYmFkIG5hbWUuXFxcIixXMDAyOlxcXCJWYWx1ZSBvZiAne2F9JyBtYXkgYmUgb3ZlcndyaXR0ZW4gaW4gSUUgOCBhbmQgZWFybGllci5cXFwiLFcwMDM6XFxcIid7YX0nIHdhcyB1c2VkIGJlZm9yZSBpdCB3YXMgZGVmaW5lZC5cXFwiLFcwMDQ6XFxcIid7YX0nIGlzIGFscmVhZHkgZGVmaW5lZC5cXFwiLFcwMDU6XFxcIkEgZG90IGZvbGxvd2luZyBhIG51bWJlciBjYW4gYmUgY29uZnVzZWQgd2l0aCBhIGRlY2ltYWwgcG9pbnQuXFxcIixXMDA2OlxcXCJDb25mdXNpbmcgbWludXNlcy5cXFwiLFcwMDc6XFxcIkNvbmZ1c2luZyBwbHVzc2VzLlxcXCIsVzAwODpcXFwiQSBsZWFkaW5nIGRlY2ltYWwgcG9pbnQgY2FuIGJlIGNvbmZ1c2VkIHdpdGggYSBkb3Q6ICd7YX0nLlxcXCIsVzAwOTpcXFwiVGhlIGFycmF5IGxpdGVyYWwgbm90YXRpb24gW10gaXMgcHJlZmVyYWJsZS5cXFwiLFcwMTA6XFxcIlRoZSBvYmplY3QgbGl0ZXJhbCBub3RhdGlvbiB7fSBpcyBwcmVmZXJhYmxlLlxcXCIsVzAxMTpudWxsLFcwMTI6bnVsbCxXMDEzOm51bGwsVzAxNDpcXFwiQmFkIGxpbmUgYnJlYWtpbmcgYmVmb3JlICd7YX0nLlxcXCIsVzAxNTpudWxsLFcwMTY6XFxcIlVuZXhwZWN0ZWQgdXNlIG9mICd7YX0nLlxcXCIsVzAxNzpcXFwiQmFkIG9wZXJhbmQuXFxcIixXMDE4OlxcXCJDb25mdXNpbmcgdXNlIG9mICd7YX0nLlxcXCIsVzAxOTpcXFwiVXNlIHRoZSBpc05hTiBmdW5jdGlvbiB0byBjb21wYXJlIHdpdGggTmFOLlxcXCIsVzAyMDpcXFwiUmVhZCBvbmx5LlxcXCIsVzAyMTpcXFwiUmVhc3NpZ25tZW50IG9mICd7YX0nLCB3aGljaCBpcyBpcyBhIHtifS4gVXNlICd2YXInIG9yICdsZXQnIHRvIGRlY2xhcmUgYmluZGluZ3MgdGhhdCBtYXkgY2hhbmdlLlxcXCIsVzAyMjpcXFwiRG8gbm90IGFzc2lnbiB0byB0aGUgZXhjZXB0aW9uIHBhcmFtZXRlci5cXFwiLFcwMjM6XFxcIkV4cGVjdGVkIGFuIGlkZW50aWZpZXIgaW4gYW4gYXNzaWdubWVudCBhbmQgaW5zdGVhZCBzYXcgYSBmdW5jdGlvbiBpbnZvY2F0aW9uLlxcXCIsVzAyNDpcXFwiRXhwZWN0ZWQgYW4gaWRlbnRpZmllciBhbmQgaW5zdGVhZCBzYXcgJ3thfScgKGEgcmVzZXJ2ZWQgd29yZCkuXFxcIixXMDI1OlxcXCJNaXNzaW5nIG5hbWUgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb24uXFxcIixXMDI2OlxcXCJJbm5lciBmdW5jdGlvbnMgc2hvdWxkIGJlIGxpc3RlZCBhdCB0aGUgdG9wIG9mIHRoZSBvdXRlciBmdW5jdGlvbi5cXFwiLFcwMjc6XFxcIlVucmVhY2hhYmxlICd7YX0nIGFmdGVyICd7Yn0nLlxcXCIsVzAyODpcXFwiTGFiZWwgJ3thfScgb24ge2J9IHN0YXRlbWVudC5cXFwiLFcwMzA6XFxcIkV4cGVjdGVkIGFuIGFzc2lnbm1lbnQgb3IgZnVuY3Rpb24gY2FsbCBhbmQgaW5zdGVhZCBzYXcgYW4gZXhwcmVzc2lvbi5cXFwiLFcwMzE6XFxcIkRvIG5vdCB1c2UgJ25ldycgZm9yIHNpZGUgZWZmZWN0cy5cXFwiLFcwMzI6XFxcIlVubmVjZXNzYXJ5IHNlbWljb2xvbi5cXFwiLFcwMzM6XFxcIk1pc3Npbmcgc2VtaWNvbG9uLlxcXCIsVzAzNDonVW5uZWNlc3NhcnkgZGlyZWN0aXZlIFxcXCJ7YX1cXFwiLicsVzAzNTpcXFwiRW1wdHkgYmxvY2suXFxcIixXMDM2OlxcXCJVbmV4cGVjdGVkIC8qbWVtYmVyICd7YX0nLlxcXCIsVzAzNzpcXFwiJ3thfScgaXMgYSBzdGF0ZW1lbnQgbGFiZWwuXFxcIixXMDM4OlxcXCIne2F9JyB1c2VkIG91dCBvZiBzY29wZS5cXFwiLFcwMzk6XFxcIid7YX0nIGlzIG5vdCBhbGxvd2VkLlxcXCIsVzA0MDpcXFwiUG9zc2libGUgc3RyaWN0IHZpb2xhdGlvbi5cXFwiLFcwNDE6XFxcIlVzZSAne2F9JyB0byBjb21wYXJlIHdpdGggJ3tifScuXFxcIixXMDQyOlxcXCJBdm9pZCBFT0wgZXNjYXBpbmcuXFxcIixXMDQzOlxcXCJCYWQgZXNjYXBpbmcgb2YgRU9MLiBVc2Ugb3B0aW9uIG11bHRpc3RyIGlmIG5lZWRlZC5cXFwiLFcwNDQ6XFxcIkJhZCBvciB1bm5lY2Vzc2FyeSBlc2NhcGluZy5cXFwiLFcwNDU6XFxcIkJhZCBudW1iZXIgJ3thfScuXFxcIixXMDQ2OlxcXCJEb24ndCB1c2UgZXh0cmEgbGVhZGluZyB6ZXJvcyAne2F9Jy5cXFwiLFcwNDc6XFxcIkEgdHJhaWxpbmcgZGVjaW1hbCBwb2ludCBjYW4gYmUgY29uZnVzZWQgd2l0aCBhIGRvdDogJ3thfScuXFxcIixXMDQ4OlxcXCJVbmV4cGVjdGVkIGNvbnRyb2wgY2hhcmFjdGVyIGluIHJlZ3VsYXIgZXhwcmVzc2lvbi5cXFwiLFcwNDk6XFxcIlVuZXhwZWN0ZWQgZXNjYXBlZCBjaGFyYWN0ZXIgJ3thfScgaW4gcmVndWxhciBleHByZXNzaW9uLlxcXCIsVzA1MDpcXFwiSmF2YVNjcmlwdCBVUkwuXFxcIixXMDUxOlxcXCJWYXJpYWJsZXMgc2hvdWxkIG5vdCBiZSBkZWxldGVkLlxcXCIsVzA1MjpcXFwiVW5leHBlY3RlZCAne2F9Jy5cXFwiLFcwNTM6XFxcIkRvIG5vdCB1c2Uge2F9IGFzIGEgY29uc3RydWN0b3IuXFxcIixXMDU0OlxcXCJUaGUgRnVuY3Rpb24gY29uc3RydWN0b3IgaXMgYSBmb3JtIG9mIGV2YWwuXFxcIixXMDU1OlxcXCJBIGNvbnN0cnVjdG9yIG5hbWUgc2hvdWxkIHN0YXJ0IHdpdGggYW4gdXBwZXJjYXNlIGxldHRlci5cXFwiLFcwNTY6XFxcIkJhZCBjb25zdHJ1Y3Rvci5cXFwiLFcwNTc6XFxcIldlaXJkIGNvbnN0cnVjdGlvbi4gSXMgJ25ldycgbmVjZXNzYXJ5P1xcXCIsVzA1ODpcXFwiTWlzc2luZyAnKCknIGludm9raW5nIGEgY29uc3RydWN0b3IuXFxcIixXMDU5OlxcXCJBdm9pZCBhcmd1bWVudHMue2F9LlxcXCIsVzA2MDpcXFwiZG9jdW1lbnQud3JpdGUgY2FuIGJlIGEgZm9ybSBvZiBldmFsLlxcXCIsVzA2MTpcXFwiZXZhbCBjYW4gYmUgaGFybWZ1bC5cXFwiLFcwNjI6XFxcIldyYXAgYW4gaW1tZWRpYXRlIGZ1bmN0aW9uIGludm9jYXRpb24gaW4gcGFyZW5zIHRvIGFzc2lzdCB0aGUgcmVhZGVyIGluIHVuZGVyc3RhbmRpbmcgdGhhdCB0aGUgZXhwcmVzc2lvbiBpcyB0aGUgcmVzdWx0IG9mIGEgZnVuY3Rpb24sIGFuZCBub3QgdGhlIGZ1bmN0aW9uIGl0c2VsZi5cXFwiLFcwNjM6XFxcIk1hdGggaXMgbm90IGEgZnVuY3Rpb24uXFxcIixXMDY0OlxcXCJNaXNzaW5nICduZXcnIHByZWZpeCB3aGVuIGludm9raW5nIGEgY29uc3RydWN0b3IuXFxcIixXMDY1OlxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLFcwNjY6XFxcIkltcGxpZWQgZXZhbC4gQ29uc2lkZXIgcGFzc2luZyBhIGZ1bmN0aW9uIGluc3RlYWQgb2YgYSBzdHJpbmcuXFxcIixXMDY3OlxcXCJCYWQgaW52b2NhdGlvbi5cXFwiLFcwNjg6XFxcIldyYXBwaW5nIG5vbi1JSUZFIGZ1bmN0aW9uIGxpdGVyYWxzIGluIHBhcmVucyBpcyB1bm5lY2Vzc2FyeS5cXFwiLFcwNjk6XFxcIlsne2F9J10gaXMgYmV0dGVyIHdyaXR0ZW4gaW4gZG90IG5vdGF0aW9uLlxcXCIsVzA3MDpcXFwiRXh0cmEgY29tbWEuIChpdCBicmVha3Mgb2xkZXIgdmVyc2lvbnMgb2YgSUUpXFxcIixXMDcxOlxcXCJUaGlzIGZ1bmN0aW9uIGhhcyB0b28gbWFueSBzdGF0ZW1lbnRzLiAoe2F9KVxcXCIsVzA3MjpcXFwiVGhpcyBmdW5jdGlvbiBoYXMgdG9vIG1hbnkgcGFyYW1ldGVycy4gKHthfSlcXFwiLFcwNzM6XFxcIkJsb2NrcyBhcmUgbmVzdGVkIHRvbyBkZWVwbHkuICh7YX0pXFxcIixXMDc0OlxcXCJUaGlzIGZ1bmN0aW9uJ3MgY3ljbG9tYXRpYyBjb21wbGV4aXR5IGlzIHRvbyBoaWdoLiAoe2F9KVxcXCIsVzA3NTpcXFwiRHVwbGljYXRlIHthfSAne2J9Jy5cXFwiLFcwNzY6XFxcIlVuZXhwZWN0ZWQgcGFyYW1ldGVyICd7YX0nIGluIGdldCB7Yn0gZnVuY3Rpb24uXFxcIixXMDc3OlxcXCJFeHBlY3RlZCBhIHNpbmdsZSBwYXJhbWV0ZXIgaW4gc2V0IHthfSBmdW5jdGlvbi5cXFwiLFcwNzg6XFxcIlNldHRlciBpcyBkZWZpbmVkIHdpdGhvdXQgZ2V0dGVyLlxcXCIsVzA3OTpcXFwiUmVkZWZpbml0aW9uIG9mICd7YX0nLlxcXCIsVzA4MDpcXFwiSXQncyBub3QgbmVjZXNzYXJ5IHRvIGluaXRpYWxpemUgJ3thfScgdG8gJ3VuZGVmaW5lZCcuXFxcIixXMDgxOm51bGwsVzA4MjpcXFwiRnVuY3Rpb24gZGVjbGFyYXRpb25zIHNob3VsZCBub3QgYmUgcGxhY2VkIGluIGJsb2Nrcy4gVXNlIGEgZnVuY3Rpb24gZXhwcmVzc2lvbiBvciBtb3ZlIHRoZSBzdGF0ZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgb3V0ZXIgZnVuY3Rpb24uXFxcIixXMDgzOlxcXCJEb24ndCBtYWtlIGZ1bmN0aW9ucyB3aXRoaW4gYSBsb29wLlxcXCIsVzA4NDpcXFwiQXNzaWdubWVudCBpbiBjb25kaXRpb25hbCBleHByZXNzaW9uXFxcIixXMDg1OlxcXCJEb24ndCB1c2UgJ3dpdGgnLlxcXCIsVzA4NjpcXFwiRXhwZWN0ZWQgYSAnYnJlYWsnIHN0YXRlbWVudCBiZWZvcmUgJ3thfScuXFxcIixXMDg3OlxcXCJGb3Jnb3R0ZW4gJ2RlYnVnZ2VyJyBzdGF0ZW1lbnQ/XFxcIixXMDg4OlxcXCJDcmVhdGluZyBnbG9iYWwgJ2ZvcicgdmFyaWFibGUuIFNob3VsZCBiZSAnZm9yICh2YXIge2F9IC4uLicuXFxcIixXMDg5OlxcXCJUaGUgYm9keSBvZiBhIGZvciBpbiBzaG91bGQgYmUgd3JhcHBlZCBpbiBhbiBpZiBzdGF0ZW1lbnQgdG8gZmlsdGVyIHVud2FudGVkIHByb3BlcnRpZXMgZnJvbSB0aGUgcHJvdG90eXBlLlxcXCIsVzA5MDpcXFwiJ3thfScgaXMgbm90IGEgc3RhdGVtZW50IGxhYmVsLlxcXCIsVzA5MTpudWxsLFcwOTM6XFxcIkRpZCB5b3UgbWVhbiB0byByZXR1cm4gYSBjb25kaXRpb25hbCBpbnN0ZWFkIG9mIGFuIGFzc2lnbm1lbnQ/XFxcIixXMDk0OlxcXCJVbmV4cGVjdGVkIGNvbW1hLlxcXCIsVzA5NTpcXFwiRXhwZWN0ZWQgYSBzdHJpbmcgYW5kIGluc3RlYWQgc2F3IHthfS5cXFwiLFcwOTY6XFxcIlRoZSAne2F9JyBrZXkgbWF5IHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxcXCIsVzA5NzonVXNlIHRoZSBmdW5jdGlvbiBmb3JtIG9mIFxcXCJ1c2Ugc3RyaWN0XFxcIi4nLFcwOTg6XFxcIid7YX0nIGlzIGRlZmluZWQgYnV0IG5ldmVyIHVzZWQuXFxcIixXMDk5Om51bGwsVzEwMDpcXFwiVGhpcyBjaGFyYWN0ZXIgbWF5IGdldCBzaWxlbnRseSBkZWxldGVkIGJ5IG9uZSBvciBtb3JlIGJyb3dzZXJzLlxcXCIsVzEwMTpcXFwiTGluZSBpcyB0b28gbG9uZy5cXFwiLFcxMDI6bnVsbCxXMTAzOlxcXCJUaGUgJ3thfScgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC5cXFwiLFcxMDQ6XFxcIid7YX0nIGlzIGF2YWlsYWJsZSBpbiBFU3tifSAodXNlICdlc3ZlcnNpb246IHtifScpIG9yIE1vemlsbGEgSlMgZXh0ZW5zaW9ucyAodXNlIG1veikuXFxcIixXMTA1OlxcXCJVbmV4cGVjdGVkIHthfSBpbiAne2J9Jy5cXFwiLFcxMDY6XFxcIklkZW50aWZpZXIgJ3thfScgaXMgbm90IGluIGNhbWVsIGNhc2UuXFxcIixXMTA3OlxcXCJTY3JpcHQgVVJMLlxcXCIsVzEwODpcXFwiU3RyaW5ncyBtdXN0IHVzZSBkb3VibGVxdW90ZS5cXFwiLFcxMDk6XFxcIlN0cmluZ3MgbXVzdCB1c2Ugc2luZ2xlcXVvdGUuXFxcIixXMTEwOlxcXCJNaXhlZCBkb3VibGUgYW5kIHNpbmdsZSBxdW90ZXMuXFxcIixXMTEyOlxcXCJVbmNsb3NlZCBzdHJpbmcuXFxcIixXMTEzOlxcXCJDb250cm9sIGNoYXJhY3RlciBpbiBzdHJpbmc6IHthfS5cXFwiLFcxMTQ6XFxcIkF2b2lkIHthfS5cXFwiLFcxMTU6XFxcIk9jdGFsIGxpdGVyYWxzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS5cXFwiLFcxMTY6XFxcIkV4cGVjdGVkICd7YX0nIGFuZCBpbnN0ZWFkIHNhdyAne2J9Jy5cXFwiLFcxMTc6XFxcIid7YX0nIGlzIG5vdCBkZWZpbmVkLlxcXCIsVzExODpcXFwiJ3thfScgaXMgb25seSBhdmFpbGFibGUgaW4gTW96aWxsYSBKYXZhU2NyaXB0IGV4dGVuc2lvbnMgKHVzZSBtb3ogb3B0aW9uKS5cXFwiLFcxMTk6XFxcIid7YX0nIGlzIG9ubHkgYXZhaWxhYmxlIGluIEVTe2J9ICh1c2UgJ2VzdmVyc2lvbjoge2J9JykuXFxcIixXMTIwOlxcXCJZb3UgbWlnaHQgYmUgbGVha2luZyBhIHZhcmlhYmxlICh7YX0pIGhlcmUuXFxcIixXMTIxOlxcXCJFeHRlbmRpbmcgcHJvdG90eXBlIG9mIG5hdGl2ZSBvYmplY3Q6ICd7YX0nLlxcXCIsVzEyMjpcXFwiSW52YWxpZCB0eXBlb2YgdmFsdWUgJ3thfSdcXFwiLFcxMjM6XFxcIid7YX0nIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBvdXRlciBzY29wZS5cXFwiLFcxMjQ6XFxcIkEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNoYWxsIGNvbnRhaW4gYSB5aWVsZCBzdGF0ZW1lbnQuXFxcIixXMTI1OlxcXCJUaGlzIGxpbmUgY29udGFpbnMgbm9uLWJyZWFraW5nIHNwYWNlczogaHR0cDovL2pzaGludC5jb20vZG9jL29wdGlvbnMvI25vbmJzcFxcXCIsVzEyNjpcXFwiVW5uZWNlc3NhcnkgZ3JvdXBpbmcgb3BlcmF0b3IuXFxcIixXMTI3OlxcXCJVbmV4cGVjdGVkIHVzZSBvZiBhIGNvbW1hIG9wZXJhdG9yLlxcXCIsVzEyODpcXFwiRW1wdHkgYXJyYXkgZWxlbWVudHMgYWNlcXVpcmUgZWxpc2lvbj10cnVlLlxcXCIsVzEyOTpcXFwiJ3thfScgaXMgZGVmaW5lZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQuIFVzZSBhIGRpZmZlcmVudCB2YXJpYWJsZSBuYW1lIHRvIGF2b2lkIG1pZ3JhdGlvbiBpc3N1ZXMuXFxcIixXMTMwOlxcXCJJbnZhbGlkIGVsZW1lbnQgYWZ0ZXIgcmVzdCBlbGVtZW50LlxcXCIsVzEzMTpcXFwiSW52YWxpZCBwYXJhbWV0ZXIgYWZ0ZXIgcmVzdCBwYXJhbWV0ZXIuXFxcIixXMTMyOlxcXCJgdmFyYCBkZWNsYXJhdGlvbnMgYXJlIGZvcmJpZGRlbi4gVXNlIGBsZXRgIG9yIGBjb25zdGAgaW5zdGVhZC5cXFwiLFcxMzM6XFxcIkludmFsaWQgZm9yLXthfSBsb29wIGxlZnQtaGFuZC1zaWRlOiB7Yn0uXFxcIixXMTM0OlxcXCJUaGUgJ3thfScgb3B0aW9uIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gbGludGluZyBFQ01BU2NyaXB0IHtifSBjb2RlLlxcXCIsVzEzNTpcXFwie2F9IG1heSBub3QgYmUgc3VwcG9ydGVkIGJ5IG5vbi1icm93c2VyIGVudmlyb25tZW50cy5cXFwiLFcxMzY6XFxcIid7YX0nIG11c3QgYmUgaW4gZnVuY3Rpb24gc2NvcGUuXFxcIixXMTM3OlxcXCJFbXB0eSBkZXN0cnVjdHVyaW5nLlxcXCIsVzEzODpcXFwiUmVndWxhciBwYXJhbWV0ZXJzIHNob3VsZCBub3QgY29tZSBhZnRlciBkZWZhdWx0IHBhcmFtZXRlcnMuXFxcIn0saW5mbz17STAwMTpcXFwiQ29tbWEgd2FybmluZ3MgY2FuIGJlIHR1cm5lZCBvZmYgd2l0aCAnbGF4Y29tbWEnLlxcXCIsSTAwMjpudWxsLEkwMDM6XFxcIkVTNSBvcHRpb24gaXMgbm93IHNldCBwZXIgZGVmYXVsdFxcXCJ9O2V4cG9ydHMuZXJyb3JzPXt9LGV4cG9ydHMud2FybmluZ3M9e30sZXhwb3J0cy5pbmZvPXt9LF8uZWFjaChlcnJvcnMsZnVuY3Rpb24oZGVzYyxjb2RlKXtleHBvcnRzLmVycm9yc1tjb2RlXT17Y29kZTpjb2RlLGRlc2M6ZGVzY319KSxfLmVhY2god2FybmluZ3MsZnVuY3Rpb24oZGVzYyxjb2RlKXtleHBvcnRzLndhcm5pbmdzW2NvZGVdPXtjb2RlOmNvZGUsZGVzYzpkZXNjfX0pLF8uZWFjaChpbmZvLGZ1bmN0aW9uKGRlc2MsY29kZSl7ZXhwb3J0cy5pbmZvW2NvZGVdPXtjb2RlOmNvZGUsZGVzYzpkZXNjfX0pfSx7XFxcIi4uL2xvZGFzaFxcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L2xvZGFzaC5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL25hbWUtc3RhY2suanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIE5hbWVTdGFjaygpe3RoaXMuX3N0YWNrPVtdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lU3RhY2sucHJvdG90eXBlLFxcXCJsZW5ndGhcXFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RofX0pLE5hbWVTdGFjay5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3RoaXMuX3N0YWNrLnB1c2gobnVsbCl9LE5hbWVTdGFjay5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RhY2sucG9wKCl9LE5hbWVTdGFjay5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHRva2VuKXt0aGlzLl9zdGFja1t0aGlzLmxlbmd0aC0xXT10b2tlbn0sTmFtZVN0YWNrLnByb3RvdHlwZS5pbmZlcj1mdW5jdGlvbigpe3ZhciB0eXBlLG5hbWVUb2tlbj10aGlzLl9zdGFja1t0aGlzLmxlbmd0aC0xXSxwcmVmaXg9XFxcIlxcXCI7cmV0dXJuIG5hbWVUb2tlbiYmXFxcImNsYXNzXFxcIiE9PW5hbWVUb2tlbi50eXBlfHwobmFtZVRva2VuPXRoaXMuX3N0YWNrW3RoaXMubGVuZ3RoLTJdKSxuYW1lVG9rZW4/KHR5cGU9bmFtZVRva2VuLnR5cGUsXFxcIihzdHJpbmcpXFxcIiE9PXR5cGUmJlxcXCIobnVtYmVyKVxcXCIhPT10eXBlJiZcXFwiKGlkZW50aWZpZXIpXFxcIiE9PXR5cGUmJlxcXCJkZWZhdWx0XFxcIiE9PXR5cGU/XFxcIihleHByZXNzaW9uKVxcXCI6KG5hbWVUb2tlbi5hY2Nlc3NvclR5cGUmJihwcmVmaXg9bmFtZVRva2VuLmFjY2Vzc29yVHlwZStcXFwiIFxcXCIpLHByZWZpeCtuYW1lVG9rZW4udmFsdWUpKTpcXFwiKGVtcHR5KVxcXCJ9LG1vZHVsZS5leHBvcnRzPU5hbWVTdGFja30se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvb3B0aW9ucy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLmJvb2w9e2VuZm9yY2luZzp7Yml0d2lzZTohMCxmcmVlemU6ITAsY2FtZWxjYXNlOiEwLGN1cmx5OiEwLGVxZXFlcTohMCxmdXR1cmVob3N0aWxlOiEwLG5vdHlwZW9mOiEwLGVzMzohMCxlczU6ITAsZm9yaW46ITAsZnVuY3Njb3BlOiEwLGltbWVkOiEwLGl0ZXJhdG9yOiEwLG5ld2NhcDohMCxub2FyZzohMCxub2NvbW1hOiEwLG5vZW1wdHk6ITAsbm9uYnNwOiEwLG5vbmV3OiEwLHVuZGVmOiEwLHNpbmdsZUdyb3VwczohMSx2YXJzdG10OiExLGVuZm9yY2VhbGw6ITF9LHJlbGF4aW5nOnthc2k6ITAsbXVsdGlzdHI6ITAsZGVidWc6ITAsYm9zczohMCxldmlsOiEwLGdsb2JhbHN0cmljdDohMCxwbHVzcGx1czohMCxwcm90bzohMCxzY3JpcHR1cmw6ITAsc3ViOiEwLHN1cGVybmV3OiEwLGxheGJyZWFrOiEwLGxheGNvbW1hOiEwLHZhbGlkdGhpczohMCx3aXRoc3RtdDohMCxtb3o6ITAsbm95aWVsZDohMCxlcW51bGw6ITAsbGFzdHNlbWljOiEwLGxvb3BmdW5jOiEwLGV4cHI6ITAsZXNuZXh0OiEwLGVsaXNpb246ITB9LGVudmlyb25tZW50czp7bW9vdG9vbHM6ITAsY291Y2g6ITAsamFzbWluZTohMCxqcXVlcnk6ITAsbm9kZTohMCxxdW5pdDohMCxyaGlubzohMCxzaGVsbGpzOiEwLHByb3RvdHlwZWpzOiEwLHl1aTohMCxtb2NoYTohMCxtb2R1bGU6ITAsd3NoOiEwLHdvcmtlcjohMCxub25zdGFuZGFyZDohMCxicm93c2VyOiEwLGJyb3dzZXJpZnk6ITAsZGV2ZWw6ITAsZG9qbzohMCx0eXBlZDohMCxwaGFudG9tOiEwfSxvYnNvbGV0ZTp7b25lY2FzZTohMCxyZWdleHA6ITAscmVnZXhkYXNoOiEwfX0sZXhwb3J0cy52YWw9e21heGxlbjohMSxpbmRlbnQ6ITEsbWF4ZXJyOiExLHByZWRlZjohMSxnbG9iYWxzOiExLHF1b3RtYXJrOiExLHNjb3BlOiExLG1heHN0YXRlbWVudHM6ITEsbWF4ZGVwdGg6ITEsbWF4cGFyYW1zOiExLG1heGNvbXBsZXhpdHk6ITEsc2hhZG93OiExLHN0cmljdDohMCx1bnVzZWQ6ITAsbGF0ZWRlZjohMSxpZ25vcmU6ITEsaWdub3JlRGVsaW1pdGVyczohMSxlc3ZlcnNpb246NX0sZXhwb3J0cy5pbnZlcnRlZD17Yml0d2lzZTohMCxmb3JpbjohMCxuZXdjYXA6ITAscGx1c3BsdXM6ITAscmVnZXhwOiEwLHVuZGVmOiEwLGVxZXFlcTohMCxzdHJpY3Q6ITB9LGV4cG9ydHMudmFsaWROYW1lcz1PYmplY3Qua2V5cyhleHBvcnRzLnZhbCkuY29uY2F0KE9iamVjdC5rZXlzKGV4cG9ydHMuYm9vbC5yZWxheGluZykpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wuZW5mb3JjaW5nKSkuY29uY2F0KE9iamVjdC5rZXlzKGV4cG9ydHMuYm9vbC5vYnNvbGV0ZSkpLmNvbmNhdChPYmplY3Qua2V5cyhleHBvcnRzLmJvb2wuZW52aXJvbm1lbnRzKSksZXhwb3J0cy5yZW5hbWVkPXtlcWVxOlxcXCJlcWVxZXFcXFwiLHdpbmRvd3M6XFxcIndzaFxcXCIsc2xvcHB5OlxcXCJzdHJpY3RcXFwifSxleHBvcnRzLnJlbW92ZWQ9e25vbWVuOiEwLG9uZXZhcjohMCxwYXNzZmFpbDohMCx3aGl0ZTohMCxnY2w6ITAsc21hcnR0YWJzOiEwLHRyYWlsaW5nOiEwfSxleHBvcnRzLm5vZW5mb3JjZWFsbD17dmFyc3RtdDohMCxzdHJpY3Q6ITB9fSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9yZWcuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy51bnNhZmVTdHJpbmc9L0BjY3w8XFxcXC8/fHNjcmlwdHxcXFxcXVxcXFxzKlxcXFxdfDxcXFxccyohfCZsdC9pLGV4cG9ydHMudW5zYWZlQ2hhcnM9L1tcXFxcdTAwMDAtXFxcXHUwMDFmXFxcXHUwMDdmLVxcXFx1MDA5ZlxcXFx1MDBhZFxcXFx1MDYwMC1cXFxcdTA2MDRcXFxcdTA3MGZcXFxcdTE3YjRcXFxcdTE3YjVcXFxcdTIwMGMtXFxcXHUyMDBmXFxcXHUyMDI4LVxcXFx1MjAyZlxcXFx1MjA2MC1cXFxcdTIwNmZcXFxcdWZlZmZcXFxcdWZmZjAtXFxcXHVmZmZmXS8sZXhwb3J0cy5uZWVkRXNjPS9bXFxcXHUwMDAwLVxcXFx1MDAxZiY8XFxcIlxcXFwvXFxcXFxcXFxcXFxcdTAwN2YtXFxcXHUwMDlmXFxcXHUwMGFkXFxcXHUwNjAwLVxcXFx1MDYwNFxcXFx1MDcwZlxcXFx1MTdiNFxcXFx1MTdiNVxcXFx1MjAwYy1cXFxcdTIwMGZcXFxcdTIwMjgtXFxcXHUyMDJmXFxcXHUyMDYwLVxcXFx1MjA2ZlxcXFx1ZmVmZlxcXFx1ZmZmMC1cXFxcdWZmZmZdLyxleHBvcnRzLm5lZWRFc2NHbG9iYWw9L1tcXFxcdTAwMDAtXFxcXHUwMDFmJjxcXFwiXFxcXC9cXFxcXFxcXFxcXFx1MDA3Zi1cXFxcdTAwOWZcXFxcdTAwYWRcXFxcdTA2MDAtXFxcXHUwNjA0XFxcXHUwNzBmXFxcXHUxN2I0XFxcXHUxN2I1XFxcXHUyMDBjLVxcXFx1MjAwZlxcXFx1MjAyOC1cXFxcdTIwMmZcXFxcdTIwNjAtXFxcXHUyMDZmXFxcXHVmZWZmXFxcXHVmZmYwLVxcXFx1ZmZmZl0vZyxleHBvcnRzLnN0YXJTbGFzaD0vXFxcXCpcXFxcLy8sZXhwb3J0cy5pZGVudGlmaWVyPS9eKFthLXpBLVpfJF1bYS16QS1aMC05XyRdKikkLyxleHBvcnRzLmphdmFzY3JpcHRVUkw9L14oPzpqYXZhc2NyaXB0fGpzY3JpcHR8ZWNtYXNjcmlwdHx2YnNjcmlwdHxsaXZlc2NyaXB0KVxcXFxzKjovaSxleHBvcnRzLmZhbGxzVGhyb3VnaD0vXlxcXFxzKmZhbGxzP1xcXFxzdGhyb3VnaFxcXFxzKiQvLGV4cG9ydHMubWF4bGVuRXhjZXB0aW9uPS9eKD86KD86XFxcXC9cXFxcL3xcXFxcL1xcXFwqfFxcXFwqKSA/KT9bXiBdKyQvfSx7fV0sXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9zY29wZS1tYW5hZ2VyLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgXz1fZGVyZXFfKFxcXCIuLi9sb2Rhc2hcXFwiKSxldmVudHM9X2RlcmVxXyhcXFwiZXZlbnRzXFxcIiksbWFya2VyPXt9LHNjb3BlTWFuYWdlcj1mdW5jdGlvbihzdGF0ZSxwcmVkZWZpbmVkLGV4cG9ydGVkLGRlY2xhcmVkKXtmdW5jdGlvbiBfbmV3U2NvcGUodHlwZSl7X2N1cnJlbnQ9e1xcXCIobGFiZWxzKVxcXCI6T2JqZWN0LmNyZWF0ZShudWxsKSxcXFwiKHVzYWdlcylcXFwiOk9iamVjdC5jcmVhdGUobnVsbCksXFxcIihicmVha0xhYmVscylcXFwiOk9iamVjdC5jcmVhdGUobnVsbCksXFxcIihwYXJlbnQpXFxcIjpfY3VycmVudCxcXFwiKHR5cGUpXFxcIjp0eXBlLFxcXCIocGFyYW1zKVxcXCI6XFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PXR5cGV8fFxcXCJjYXRjaHBhcmFtc1xcXCI9PT10eXBlP1tdOm51bGx9LF9zY29wZVN0YWNrLnB1c2goX2N1cnJlbnQpfWZ1bmN0aW9uIHdhcm5pbmcoY29kZSx0b2tlbil7ZW1pdHRlci5lbWl0KFxcXCJ3YXJuaW5nXFxcIix7Y29kZTpjb2RlLHRva2VuOnRva2VuLGRhdGE6Xy5zbGljZShhcmd1bWVudHMsMil9KX1mdW5jdGlvbiBlcnJvcihjb2RlLHRva2VuKXtlbWl0dGVyLmVtaXQoXFxcIndhcm5pbmdcXFwiLHtjb2RlOmNvZGUsdG9rZW46dG9rZW4sZGF0YTpfLnNsaWNlKGFyZ3VtZW50cywyKX0pfWZ1bmN0aW9uIF9zZXR1cFVzYWdlcyhsYWJlbE5hbWUpe19jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdW2xhYmVsTmFtZV18fChfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdPXtcXFwiKG1vZGlmaWVkKVxcXCI6W10sXFxcIihyZWFzc2lnbmVkKVxcXCI6W10sXFxcIih0b2tlbnMpXFxcIjpbXX0pfWZ1bmN0aW9uIF9jaGVja0ZvclVudXNlZCgpe2lmKFxcXCJmdW5jdGlvbnBhcmFtc1xcXCI9PT1fY3VycmVudFtcXFwiKHR5cGUpXFxcIl0pcmV0dXJuIF9jaGVja1BhcmFtcygpLHZvaWQgMDt2YXIgY3VyZW50TGFiZWxzPV9jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdO2Zvcih2YXIgbGFiZWxOYW1lIGluIGN1cmVudExhYmVscyljdXJlbnRMYWJlbHNbbGFiZWxOYW1lXSYmXFxcImV4Y2VwdGlvblxcXCIhPT1jdXJlbnRMYWJlbHNbbGFiZWxOYW1lXVtcXFwiKHR5cGUpXFxcIl0mJmN1cmVudExhYmVsc1tsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdJiZfd2FyblVudXNlZChsYWJlbE5hbWUsY3VyZW50TGFiZWxzW2xhYmVsTmFtZV1bXFxcIih0b2tlbilcXFwiXSxcXFwidmFyXFxcIil9ZnVuY3Rpb24gX2NoZWNrUGFyYW1zKCl7dmFyIHBhcmFtcz1fY3VycmVudFtcXFwiKHBhcmFtcylcXFwiXTtpZihwYXJhbXMpZm9yKHZhciB1bnVzZWRfb3B0LHBhcmFtPXBhcmFtcy5wb3AoKTtwYXJhbTspe3ZhciBsYWJlbD1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtwYXJhbV07aWYodW51c2VkX29wdD1fZ2V0VW51c2VkT3B0aW9uKHN0YXRlLmZ1bmN0W1xcXCIodW51c2VkT3B0aW9uKVxcXCJdKSxcXFwidW5kZWZpbmVkXFxcIj09PXBhcmFtKXJldHVybjtpZihsYWJlbFtcXFwiKHVudXNlZClcXFwiXSlfd2FyblVudXNlZChwYXJhbSxsYWJlbFtcXFwiKHRva2VuKVxcXCJdLFxcXCJwYXJhbVxcXCIsc3RhdGUuZnVuY3RbXFxcIih1bnVzZWRPcHRpb24pXFxcIl0pO2Vsc2UgaWYoXFxcImxhc3QtcGFyYW1cXFwiPT09dW51c2VkX29wdClyZXR1cm47cGFyYW09cGFyYW1zLnBvcCgpfX1mdW5jdGlvbiBfZ2V0TGFiZWwobGFiZWxOYW1lKXtmb3IodmFyIGk9X3Njb3BlU3RhY2subGVuZ3RoLTE7aT49MDstLWkpe3ZhciBzY29wZUxhYmVscz1fc2NvcGVTdGFja1tpXVtcXFwiKGxhYmVscylcXFwiXTtpZihzY29wZUxhYmVsc1tsYWJlbE5hbWVdKXJldHVybiBzY29wZUxhYmVsc319ZnVuY3Rpb24gdXNlZFNvRmFySW5DdXJyZW50RnVuY3Rpb24obGFiZWxOYW1lKXtmb3IodmFyIGk9X3Njb3BlU3RhY2subGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBjdXJyZW50PV9zY29wZVN0YWNrW2ldO2lmKGN1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXSlyZXR1cm4gY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdO2lmKGN1cnJlbnQ9PT1fY3VycmVudEZ1bmN0Qm9keSlicmVha31yZXR1cm4hMX1mdW5jdGlvbiBfY2hlY2tPdXRlclNoYWRvdyhsYWJlbE5hbWUsdG9rZW4pe2lmKFxcXCJvdXRlclxcXCI9PT1zdGF0ZS5vcHRpb24uc2hhZG93KWZvcih2YXIgaXNHbG9iYWw9XFxcImdsb2JhbFxcXCI9PT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0saXNOZXdGdW5jdGlvbj1cXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLG91dHNpZGVDdXJyZW50RnVuY3Rpb249IWlzR2xvYmFsLGk9MDtfc2NvcGVTdGFjay5sZW5ndGg+aTtpKyspe3ZhciBzdGFja0l0ZW09X3Njb3BlU3RhY2tbaV07aXNOZXdGdW5jdGlvbnx8X3Njb3BlU3RhY2tbaSsxXSE9PV9jdXJyZW50RnVuY3RCb2R5fHwob3V0c2lkZUN1cnJlbnRGdW5jdGlvbj0hMSksb3V0c2lkZUN1cnJlbnRGdW5jdGlvbiYmc3RhY2tJdGVtW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJndhcm5pbmcoXFxcIlcxMjNcXFwiLHRva2VuLGxhYmVsTmFtZSksc3RhY2tJdGVtW1xcXCIoYnJlYWtMYWJlbHMpXFxcIl1bbGFiZWxOYW1lXSYmd2FybmluZyhcXFwiVzEyM1xcXCIsdG9rZW4sbGFiZWxOYW1lKX19ZnVuY3Rpb24gX2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKXtzdGF0ZS5vcHRpb24ubGF0ZWRlZiYmKHN0YXRlLm9wdGlvbi5sYXRlZGVmPT09ITAmJlxcXCJmdW5jdGlvblxcXCI9PT10eXBlfHxcXFwiZnVuY3Rpb25cXFwiIT09dHlwZSkmJndhcm5pbmcoXFxcIlcwMDNcXFwiLHRva2VuLGxhYmVsTmFtZSl9dmFyIF9jdXJyZW50LF9zY29wZVN0YWNrPVtdO19uZXdTY29wZShcXFwiZ2xvYmFsXFxcIiksX2N1cnJlbnRbXFxcIihwcmVkZWZpbmVkKVxcXCJdPXByZWRlZmluZWQ7dmFyIF9jdXJyZW50RnVuY3RCb2R5PV9jdXJyZW50LHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFscz1PYmplY3QuY3JlYXRlKG51bGwpLGltcGxpZWRHbG9iYWxzPU9iamVjdC5jcmVhdGUobnVsbCksdW51c2Vkcz1bXSxlbWl0dGVyPW5ldyBldmVudHMuRXZlbnRFbWl0dGVyLF9nZXRVbnVzZWRPcHRpb249ZnVuY3Rpb24odW51c2VkX29wdCl7cmV0dXJuIHZvaWQgMD09PXVudXNlZF9vcHQmJih1bnVzZWRfb3B0PXN0YXRlLm9wdGlvbi51bnVzZWQpLHVudXNlZF9vcHQ9PT0hMCYmKHVudXNlZF9vcHQ9XFxcImxhc3QtcGFyYW1cXFwiKSx1bnVzZWRfb3B0fSxfd2FyblVudXNlZD1mdW5jdGlvbihuYW1lLHRrbix0eXBlLHVudXNlZF9vcHQpe3ZhciBsaW5lPXRrbi5saW5lLGNocj10a24uZnJvbSxyYXdfbmFtZT10a24ucmF3X3RleHR8fG5hbWU7dW51c2VkX29wdD1fZ2V0VW51c2VkT3B0aW9uKHVudXNlZF9vcHQpO3ZhciB3YXJuYWJsZV90eXBlcz17dmFyczpbXFxcInZhclxcXCJdLFxcXCJsYXN0LXBhcmFtXFxcIjpbXFxcInZhclxcXCIsXFxcInBhcmFtXFxcIl0sc3RyaWN0OltcXFwidmFyXFxcIixcXFwicGFyYW1cXFwiLFxcXCJsYXN0LXBhcmFtXFxcIl19O3VudXNlZF9vcHQmJndhcm5hYmxlX3R5cGVzW3VudXNlZF9vcHRdJiYtMSE9PXdhcm5hYmxlX3R5cGVzW3VudXNlZF9vcHRdLmluZGV4T2YodHlwZSkmJndhcm5pbmcoXFxcIlcwOThcXFwiLHtsaW5lOmxpbmUsZnJvbTpjaHJ9LHJhd19uYW1lKSwodW51c2VkX29wdHx8XFxcInZhclxcXCI9PT10eXBlKSYmdW51c2Vkcy5wdXNoKHtuYW1lOm5hbWUsbGluZTpsaW5lLGNoYXJhY3RlcjpjaHJ9KX0sc2NvcGVNYW5hZ2VySW5zdD17b246ZnVuY3Rpb24obmFtZXMsbGlzdGVuZXIpe25hbWVzLnNwbGl0KFxcXCIgXFxcIikuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtlbWl0dGVyLm9uKG5hbWUsbGlzdGVuZXIpfSl9LGlzUHJlZGVmaW5lZDpmdW5jdGlvbihsYWJlbE5hbWUpe3JldHVybiF0aGlzLmhhcyhsYWJlbE5hbWUpJiZfLmhhcyhfc2NvcGVTdGFja1swXVtcXFwiKHByZWRlZmluZWQpXFxcIl0sbGFiZWxOYW1lKX0sc3RhY2s6ZnVuY3Rpb24odHlwZSl7dmFyIHByZXZpb3VzU2NvcGU9X2N1cnJlbnQ7X25ld1Njb3BlKHR5cGUpLHR5cGV8fFxcXCJmdW5jdGlvbnBhcmFtc1xcXCIhPT1wcmV2aW91c1Njb3BlW1xcXCIodHlwZSlcXFwiXXx8KF9jdXJyZW50W1xcXCIoaXNGdW5jQm9keSlcXFwiXT0hMCxfY3VycmVudFtcXFwiKGNvbnRleHQpXFxcIl09X2N1cnJlbnRGdW5jdEJvZHksX2N1cnJlbnRGdW5jdEJvZHk9X2N1cnJlbnQpfSx1bnN0YWNrOmZ1bmN0aW9uKCl7dmFyIGksaixzdWJTY29wZT1fc2NvcGVTdGFjay5sZW5ndGg+MT9fc2NvcGVTdGFja1tfc2NvcGVTdGFjay5sZW5ndGgtMl06bnVsbCxpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHk9X2N1cnJlbnQ9PT1fY3VycmVudEZ1bmN0Qm9keSxpc1Vuc3RhY2tpbmdGdW5jdGlvblBhcmFtcz1cXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLGlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXI9XFxcImZ1bmN0aW9ub3V0ZXJcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdLGN1cnJlbnRVc2FnZXM9X2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl0sY3VycmVudExhYmVscz1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXSx1c2VkTGFiZWxOYW1lTGlzdD1PYmplY3Qua2V5cyhjdXJyZW50VXNhZ2VzKTtmb3IoY3VycmVudFVzYWdlcy5fX3Byb3RvX18mJi0xPT09dXNlZExhYmVsTmFtZUxpc3QuaW5kZXhPZihcXFwiX19wcm90b19fXFxcIikmJnVzZWRMYWJlbE5hbWVMaXN0LnB1c2goXFxcIl9fcHJvdG9fX1xcXCIpLGk9MDt1c2VkTGFiZWxOYW1lTGlzdC5sZW5ndGg+aTtpKyspe3ZhciB1c2VkTGFiZWxOYW1lPXVzZWRMYWJlbE5hbWVMaXN0W2ldLHVzYWdlPWN1cnJlbnRVc2FnZXNbdXNlZExhYmVsTmFtZV0sdXNlZExhYmVsPWN1cnJlbnRMYWJlbHNbdXNlZExhYmVsTmFtZV07aWYodXNlZExhYmVsKXt2YXIgdXNlZExhYmVsVHlwZT11c2VkTGFiZWxbXFxcIih0eXBlKVxcXCJdO2lmKHVzZWRMYWJlbFtcXFwiKHVzZU91dHNpZGVPZlNjb3BlKVxcXCJdJiYhc3RhdGUub3B0aW9uLmZ1bmNzY29wZSl7dmFyIHVzZWRUb2tlbnM9dXNhZ2VbXFxcIih0b2tlbnMpXFxcIl07aWYodXNlZFRva2Vucylmb3Ioaj0wO3VzZWRUb2tlbnMubGVuZ3RoPmo7aisrKXVzZWRMYWJlbFtcXFwiKGZ1bmN0aW9uKVxcXCJdPT09dXNlZFRva2Vuc1tqXVtcXFwiKGZ1bmN0aW9uKVxcXCJdJiZlcnJvcihcXFwiVzAzOFxcXCIsdXNlZFRva2Vuc1tqXSx1c2VkTGFiZWxOYW1lKX1pZihfY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVt1c2VkTGFiZWxOYW1lXVtcXFwiKHVudXNlZClcXFwiXT0hMSxcXFwiY29uc3RcXFwiPT09dXNlZExhYmVsVHlwZSYmdXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXSlmb3Ioaj0wO3VzYWdlW1xcXCIobW9kaWZpZWQpXFxcIl0ubGVuZ3RoPmo7aisrKWVycm9yKFxcXCJFMDEzXFxcIix1c2FnZVtcXFwiKG1vZGlmaWVkKVxcXCJdW2pdLHVzZWRMYWJlbE5hbWUpO2lmKChcXFwiZnVuY3Rpb25cXFwiPT09dXNlZExhYmVsVHlwZXx8XFxcImNsYXNzXFxcIj09PXVzZWRMYWJlbFR5cGUpJiZ1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0pZm9yKGo9MDt1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0ubGVuZ3RoPmo7aisrKWVycm9yKFxcXCJXMDIxXFxcIix1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl1bal0sdXNlZExhYmVsTmFtZSx1c2VkTGFiZWxUeXBlKX1lbHNlIGlmKGlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXImJihzdGF0ZS5mdW5jdFtcXFwiKGlzQ2FwdHVyaW5nKVxcXCJdPSEwKSxzdWJTY29wZSlpZihzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXSl7dmFyIHN1YlNjb3BlVXNhZ2U9c3ViU2NvcGVbXFxcIih1c2FnZXMpXFxcIl1bdXNlZExhYmVsTmFtZV07c3ViU2NvcGVVc2FnZVtcXFwiKG1vZGlmaWVkKVxcXCJdPXN1YlNjb3BlVXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXS5jb25jYXQodXNhZ2VbXFxcIihtb2RpZmllZClcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKHRva2VucylcXFwiXT1zdWJTY29wZVVzYWdlW1xcXCIodG9rZW5zKVxcXCJdLmNvbmNhdCh1c2FnZVtcXFwiKHRva2VucylcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl09c3ViU2NvcGVVc2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl0uY29uY2F0KHVzYWdlW1xcXCIocmVhc3NpZ25lZClcXFwiXSksc3ViU2NvcGVVc2FnZVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl09ITF9ZWxzZSBzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXT11c2FnZSxpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHkmJihzdWJTY29wZVtcXFwiKHVzYWdlcylcXFwiXVt1c2VkTGFiZWxOYW1lXVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl09ITApO2Vsc2UgaWYoXFxcImJvb2xlYW5cXFwiPT10eXBlb2YgX2N1cnJlbnRbXFxcIihwcmVkZWZpbmVkKVxcXCJdW3VzZWRMYWJlbE5hbWVdKXtpZihkZWxldGUgZGVjbGFyZWRbdXNlZExhYmVsTmFtZV0sdXNlZFByZWRlZmluZWRBbmRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdPW1hcmtlcixfY3VycmVudFtcXFwiKHByZWRlZmluZWQpXFxcIl1bdXNlZExhYmVsTmFtZV09PT0hMSYmdXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdKWZvcihqPTA7dXNhZ2VbXFxcIihyZWFzc2lnbmVkKVxcXCJdLmxlbmd0aD5qO2orKyl3YXJuaW5nKFxcXCJXMDIwXFxcIix1c2FnZVtcXFwiKHJlYXNzaWduZWQpXFxcIl1bal0pfWVsc2UgaWYodXNhZ2VbXFxcIih0b2tlbnMpXFxcIl0pZm9yKGo9MDt1c2FnZVtcXFwiKHRva2VucylcXFwiXS5sZW5ndGg+ajtqKyspe3ZhciB1bmRlZmluZWRUb2tlbj11c2FnZVtcXFwiKHRva2VucylcXFwiXVtqXTt1bmRlZmluZWRUb2tlbi5mb3JnaXZlVW5kZWZ8fChzdGF0ZS5vcHRpb24udW5kZWYmJiF1bmRlZmluZWRUb2tlbi5pZ25vcmVVbmRlZiYmd2FybmluZyhcXFwiVzExN1xcXCIsdW5kZWZpbmVkVG9rZW4sdXNlZExhYmVsTmFtZSksaW1wbGllZEdsb2JhbHNbdXNlZExhYmVsTmFtZV0/aW1wbGllZEdsb2JhbHNbdXNlZExhYmVsTmFtZV0ubGluZS5wdXNoKHVuZGVmaW5lZFRva2VuLmxpbmUpOmltcGxpZWRHbG9iYWxzW3VzZWRMYWJlbE5hbWVdPXtuYW1lOnVzZWRMYWJlbE5hbWUsbGluZTpbdW5kZWZpbmVkVG9rZW4ubGluZV19KX19aWYoc3ViU2NvcGV8fE9iamVjdC5rZXlzKGRlY2xhcmVkKS5mb3JFYWNoKGZ1bmN0aW9uKGxhYmVsTm90VXNlZCl7X3dhcm5VbnVzZWQobGFiZWxOb3RVc2VkLGRlY2xhcmVkW2xhYmVsTm90VXNlZF0sXFxcInZhclxcXCIpfSksc3ViU2NvcGUmJiFpc1Vuc3RhY2tpbmdGdW5jdGlvbkJvZHkmJiFpc1Vuc3RhY2tpbmdGdW5jdGlvblBhcmFtcyYmIWlzVW5zdGFja2luZ0Z1bmN0aW9uT3V0ZXIpe3ZhciBsYWJlbE5hbWVzPU9iamVjdC5rZXlzKGN1cnJlbnRMYWJlbHMpO2ZvcihpPTA7bGFiZWxOYW1lcy5sZW5ndGg+aTtpKyspe3ZhciBkZWZMYWJlbE5hbWU9bGFiZWxOYW1lc1tpXTtjdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV1bXFxcIihibG9ja3Njb3BlZClcXFwiXXx8XFxcImV4Y2VwdGlvblxcXCI9PT1jdXJyZW50TGFiZWxzW2RlZkxhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdfHx0aGlzLmZ1bmN0LmhhcyhkZWZMYWJlbE5hbWUse2V4Y2x1ZGVDdXJyZW50OiEwfSl8fChzdWJTY29wZVtcXFwiKGxhYmVscylcXFwiXVtkZWZMYWJlbE5hbWVdPWN1cnJlbnRMYWJlbHNbZGVmTGFiZWxOYW1lXSxcXFwiZ2xvYmFsXFxcIiE9PV9jdXJyZW50RnVuY3RCb2R5W1xcXCIodHlwZSlcXFwiXSYmKHN1YlNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2RlZkxhYmVsTmFtZV1bXFxcIih1c2VPdXRzaWRlT2ZTY29wZSlcXFwiXT0hMCksZGVsZXRlIGN1cnJlbnRMYWJlbHNbZGVmTGFiZWxOYW1lXSl9fV9jaGVja0ZvclVudXNlZCgpLF9zY29wZVN0YWNrLnBvcCgpLGlzVW5zdGFja2luZ0Z1bmN0aW9uQm9keSYmKF9jdXJyZW50RnVuY3RCb2R5PV9zY29wZVN0YWNrW18uZmluZExhc3RJbmRleChfc2NvcGVTdGFjayxmdW5jdGlvbihzY29wZSl7cmV0dXJuIHNjb3BlW1xcXCIoaXNGdW5jQm9keSlcXFwiXXx8XFxcImdsb2JhbFxcXCI9PT1zY29wZVtcXFwiKHR5cGUpXFxcIl19KV0pLF9jdXJyZW50PXN1YlNjb3BlfSxhZGRQYXJhbTpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4sdHlwZSl7aWYodHlwZT10eXBlfHxcXFwicGFyYW1cXFwiLFxcXCJleGNlcHRpb25cXFwiPT09dHlwZSl7dmFyIHByZXZpb3VzbHlEZWZpbmVkTGFiZWxUeXBlPXRoaXMuZnVuY3QubGFiZWx0eXBlKGxhYmVsTmFtZSk7cHJldmlvdXNseURlZmluZWRMYWJlbFR5cGUmJlxcXCJleGNlcHRpb25cXFwiIT09cHJldmlvdXNseURlZmluZWRMYWJlbFR5cGUmJihzdGF0ZS5vcHRpb24ubm9kZXx8d2FybmluZyhcXFwiVzAwMlxcXCIsc3RhdGUudG9rZW5zLm5leHQsbGFiZWxOYW1lKSl9aWYoXy5oYXMoX2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl0sbGFiZWxOYW1lKT9fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdLmR1cGxpY2F0ZWQ9ITA6KF9jaGVja091dGVyU2hhZG93KGxhYmVsTmFtZSx0b2tlbix0eXBlKSxfY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdPXtcXFwiKHR5cGUpXFxcIjp0eXBlLFxcXCIodG9rZW4pXFxcIjp0b2tlbixcXFwiKHVudXNlZClcXFwiOiEwfSxfY3VycmVudFtcXFwiKHBhcmFtcylcXFwiXS5wdXNoKGxhYmVsTmFtZSkpLF8uaGFzKF9jdXJyZW50W1xcXCIodXNhZ2VzKVxcXCJdLGxhYmVsTmFtZSkpe3ZhciB1c2FnZT1fY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdO3VzYWdlW1xcXCIob25seVVzZWRTdWJGdW5jdGlvbilcXFwiXT9fbGF0ZWRlZldhcm5pbmcodHlwZSxsYWJlbE5hbWUsdG9rZW4pOndhcm5pbmcoXFxcIkUwNTZcXFwiLHRva2VuLGxhYmVsTmFtZSx0eXBlKX19LHZhbGlkYXRlUGFyYW1zOmZ1bmN0aW9uKCl7aWYoXFxcImdsb2JhbFxcXCIhPT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHR5cGUpXFxcIl0pe3ZhciBpc1N0cmljdD1zdGF0ZS5pc1N0cmljdCgpLGN1cnJlbnRGdW5jdFBhcmFtU2NvcGU9X2N1cnJlbnRGdW5jdEJvZHlbXFxcIihwYXJlbnQpXFxcIl07Y3VycmVudEZ1bmN0UGFyYW1TY29wZVtcXFwiKHBhcmFtcylcXFwiXSYmY3VycmVudEZ1bmN0UGFyYW1TY29wZVtcXFwiKHBhcmFtcylcXFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGxhYmVsTmFtZSl7dmFyIGxhYmVsPWN1cnJlbnRGdW5jdFBhcmFtU2NvcGVbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXTtsYWJlbCYmbGFiZWwuZHVwbGljYXRlZCYmKGlzU3RyaWN0P3dhcm5pbmcoXFxcIkUwMTFcXFwiLGxhYmVsW1xcXCIodG9rZW4pXFxcIl0sbGFiZWxOYW1lKTpzdGF0ZS5vcHRpb24uc2hhZG93IT09ITAmJndhcm5pbmcoXFxcIlcwMDRcXFwiLGxhYmVsW1xcXCIodG9rZW4pXFxcIl0sbGFiZWxOYW1lKSl9KX19LGdldFVzZWRPckRlZmluZWRHbG9iYWxzOmZ1bmN0aW9uKCl7dmFyIGxpc3Q9T2JqZWN0LmtleXModXNlZFByZWRlZmluZWRBbmRHbG9iYWxzKTtyZXR1cm4gdXNlZFByZWRlZmluZWRBbmRHbG9iYWxzLl9fcHJvdG9fXz09PW1hcmtlciYmLTE9PT1saXN0LmluZGV4T2YoXFxcIl9fcHJvdG9fX1xcXCIpJiZsaXN0LnB1c2goXFxcIl9fcHJvdG9fX1xcXCIpLGxpc3R9LGdldEltcGxpZWRHbG9iYWxzOmZ1bmN0aW9uKCl7dmFyIHZhbHVlcz1fLnZhbHVlcyhpbXBsaWVkR2xvYmFscyksaGFzUHJvdG89ITE7cmV0dXJuIGltcGxpZWRHbG9iYWxzLl9fcHJvdG9fXyYmKGhhc1Byb3RvPXZhbHVlcy5zb21lKGZ1bmN0aW9uKHZhbHVlKXtyZXR1cm5cXFwiX19wcm90b19fXFxcIj09PXZhbHVlLm5hbWV9KSxoYXNQcm90b3x8dmFsdWVzLnB1c2goaW1wbGllZEdsb2JhbHMuX19wcm90b19fKSksdmFsdWVzfSxnZXRVbnVzZWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHVudXNlZHN9LGhhczpmdW5jdGlvbihsYWJlbE5hbWUpe3JldHVybiBCb29sZWFuKF9nZXRMYWJlbChsYWJlbE5hbWUpKX0sbGFiZWx0eXBlOmZ1bmN0aW9uKGxhYmVsTmFtZSl7dmFyIHNjb3BlTGFiZWxzPV9nZXRMYWJlbChsYWJlbE5hbWUpO3JldHVybiBzY29wZUxhYmVscz9zY29wZUxhYmVsc1tsYWJlbE5hbWVdW1xcXCIodHlwZSlcXFwiXTpudWxsfSxhZGRFeHBvcnRlZDpmdW5jdGlvbihsYWJlbE5hbWUpe3ZhciBnbG9iYWxMYWJlbHM9X3Njb3BlU3RhY2tbMF1bXFxcIihsYWJlbHMpXFxcIl07aWYoXy5oYXMoZGVjbGFyZWQsbGFiZWxOYW1lKSlkZWxldGUgZGVjbGFyZWRbbGFiZWxOYW1lXTtlbHNlIGlmKF8uaGFzKGdsb2JhbExhYmVscyxsYWJlbE5hbWUpKWdsb2JhbExhYmVsc1tsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdPSExO2Vsc2V7Zm9yKHZhciBpPTE7X3Njb3BlU3RhY2subGVuZ3RoPmk7aSsrKXt2YXIgc2NvcGU9X3Njb3BlU3RhY2tbaV07aWYoc2NvcGVbXFxcIih0eXBlKVxcXCJdKWJyZWFrO2lmKF8uaGFzKHNjb3BlW1xcXCIobGFiZWxzKVxcXCJdLGxhYmVsTmFtZSkmJiFzY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIoYmxvY2tzY29wZWQpXFxcIl0pcmV0dXJuIHNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih1bnVzZWQpXFxcIl09ITEsdm9pZCAwfWV4cG9ydGVkW2xhYmVsTmFtZV09ITB9fSxzZXRFeHBvcnRlZDpmdW5jdGlvbihsYWJlbE5hbWUsdG9rZW4pe3RoaXMuYmxvY2sudXNlKGxhYmVsTmFtZSx0b2tlbilcXG59LGFkZGxhYmVsOmZ1bmN0aW9uKGxhYmVsTmFtZSxvcHRzKXt2YXIgdHlwZT1vcHRzLnR5cGUsdG9rZW49b3B0cy50b2tlbixpc2Jsb2Nrc2NvcGVkPVxcXCJsZXRcXFwiPT09dHlwZXx8XFxcImNvbnN0XFxcIj09PXR5cGV8fFxcXCJjbGFzc1xcXCI9PT10eXBlLGlzZXhwb3J0ZWQ9XFxcImdsb2JhbFxcXCI9PT0oaXNibG9ja3Njb3BlZD9fY3VycmVudDpfY3VycmVudEZ1bmN0Qm9keSlbXFxcIih0eXBlKVxcXCJdJiZfLmhhcyhleHBvcnRlZCxsYWJlbE5hbWUpO2lmKF9jaGVja091dGVyU2hhZG93KGxhYmVsTmFtZSx0b2tlbix0eXBlKSxpc2Jsb2Nrc2NvcGVkKXt2YXIgZGVjbGFyZWRJbkN1cnJlbnRTY29wZT1fY3VycmVudFtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdO2lmKGRlY2xhcmVkSW5DdXJyZW50U2NvcGV8fF9jdXJyZW50IT09X2N1cnJlbnRGdW5jdEJvZHl8fFxcXCJnbG9iYWxcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdfHwoZGVjbGFyZWRJbkN1cnJlbnRTY29wZT0hIV9jdXJyZW50RnVuY3RCb2R5W1xcXCIocGFyZW50KVxcXCJdW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0pLCFkZWNsYXJlZEluQ3VycmVudFNjb3BlJiZfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdKXt2YXIgdXNhZ2U9X2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXTt1c2FnZVtcXFwiKG9ubHlVc2VkU3ViRnVuY3Rpb24pXFxcIl0/X2xhdGVkZWZXYXJuaW5nKHR5cGUsbGFiZWxOYW1lLHRva2VuKTp3YXJuaW5nKFxcXCJFMDU2XFxcIix0b2tlbixsYWJlbE5hbWUsdHlwZSl9ZGVjbGFyZWRJbkN1cnJlbnRTY29wZT93YXJuaW5nKFxcXCJFMDExXFxcIix0b2tlbixsYWJlbE5hbWUpOlxcXCJvdXRlclxcXCI9PT1zdGF0ZS5vcHRpb24uc2hhZG93JiZzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmhhcyhsYWJlbE5hbWUpJiZ3YXJuaW5nKFxcXCJXMDA0XFxcIix0b2tlbixsYWJlbE5hbWUpLHNjb3BlTWFuYWdlckluc3QuYmxvY2suYWRkKGxhYmVsTmFtZSx0eXBlLHRva2VuLCFpc2V4cG9ydGVkKX1lbHNle3ZhciBkZWNsYXJlZEluQ3VycmVudEZ1bmN0aW9uU2NvcGU9c2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lKTshZGVjbGFyZWRJbkN1cnJlbnRGdW5jdGlvblNjb3BlJiZ1c2VkU29GYXJJbkN1cnJlbnRGdW5jdGlvbihsYWJlbE5hbWUpJiZfbGF0ZWRlZldhcm5pbmcodHlwZSxsYWJlbE5hbWUsdG9rZW4pLHNjb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzKGxhYmVsTmFtZSx7b25seUJsb2Nrc2NvcGVkOiEwfSk/d2FybmluZyhcXFwiRTAxMVxcXCIsdG9rZW4sbGFiZWxOYW1lKTpzdGF0ZS5vcHRpb24uc2hhZG93IT09ITAmJmRlY2xhcmVkSW5DdXJyZW50RnVuY3Rpb25TY29wZSYmXFxcIl9fcHJvdG9fX1xcXCIhPT1sYWJlbE5hbWUmJlxcXCJnbG9iYWxcXFwiIT09X2N1cnJlbnRGdW5jdEJvZHlbXFxcIih0eXBlKVxcXCJdJiZ3YXJuaW5nKFxcXCJXMDA0XFxcIix0b2tlbixsYWJlbE5hbWUpLHNjb3BlTWFuYWdlckluc3QuZnVuY3QuYWRkKGxhYmVsTmFtZSx0eXBlLHRva2VuLCFpc2V4cG9ydGVkKSxcXFwiZ2xvYmFsXFxcIj09PV9jdXJyZW50RnVuY3RCb2R5W1xcXCIodHlwZSlcXFwiXSYmKHVzZWRQcmVkZWZpbmVkQW5kR2xvYmFsc1tsYWJlbE5hbWVdPW1hcmtlcil9fSxmdW5jdDp7bGFiZWx0eXBlOmZ1bmN0aW9uKGxhYmVsTmFtZSxvcHRpb25zKXtmb3IodmFyIG9ubHlCbG9ja3Njb3BlZD1vcHRpb25zJiZvcHRpb25zLm9ubHlCbG9ja3Njb3BlZCxleGNsdWRlUGFyYW1zPW9wdGlvbnMmJm9wdGlvbnMuZXhjbHVkZVBhcmFtcyxjdXJyZW50U2NvcGVJbmRleD1fc2NvcGVTdGFjay5sZW5ndGgtKG9wdGlvbnMmJm9wdGlvbnMuZXhjbHVkZUN1cnJlbnQ/MjoxKSxpPWN1cnJlbnRTY29wZUluZGV4O2k+PTA7aS0tKXt2YXIgY3VycmVudD1fc2NvcGVTdGFja1tpXTtpZihjdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJighb25seUJsb2Nrc2NvcGVkfHxjdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIihibG9ja3Njb3BlZClcXFwiXSkpcmV0dXJuIGN1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHR5cGUpXFxcIl07dmFyIHNjb3BlQ2hlY2s9ZXhjbHVkZVBhcmFtcz9fc2NvcGVTdGFja1tpLTFdOmN1cnJlbnQ7aWYoc2NvcGVDaGVjayYmXFxcImZ1bmN0aW9ucGFyYW1zXFxcIj09PXNjb3BlQ2hlY2tbXFxcIih0eXBlKVxcXCJdKXJldHVybiBudWxsfXJldHVybiBudWxsfSxoYXNCcmVha0xhYmVsOmZ1bmN0aW9uKGxhYmVsTmFtZSl7Zm9yKHZhciBpPV9zY29wZVN0YWNrLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgY3VycmVudD1fc2NvcGVTdGFja1tpXTtpZihjdXJyZW50W1xcXCIoYnJlYWtMYWJlbHMpXFxcIl1bbGFiZWxOYW1lXSlyZXR1cm4hMDtpZihcXFwiZnVuY3Rpb25wYXJhbXNcXFwiPT09Y3VycmVudFtcXFwiKHR5cGUpXFxcIl0pcmV0dXJuITF9cmV0dXJuITF9LGhhczpmdW5jdGlvbihsYWJlbE5hbWUsb3B0aW9ucyl7cmV0dXJuIEJvb2xlYW4odGhpcy5sYWJlbHR5cGUobGFiZWxOYW1lLG9wdGlvbnMpKX0sYWRkOmZ1bmN0aW9uKGxhYmVsTmFtZSx0eXBlLHRvayx1bnVzZWQpe19jdXJyZW50W1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV09e1xcXCIodHlwZSlcXFwiOnR5cGUsXFxcIih0b2tlbilcXFwiOnRvayxcXFwiKGJsb2Nrc2NvcGVkKVxcXCI6ITEsXFxcIihmdW5jdGlvbilcXFwiOl9jdXJyZW50RnVuY3RCb2R5LFxcXCIodW51c2VkKVxcXCI6dW51c2VkfX19LGJsb2NrOntpc0dsb2JhbDpmdW5jdGlvbigpe3JldHVyblxcXCJnbG9iYWxcXFwiPT09X2N1cnJlbnRbXFxcIih0eXBlKVxcXCJdfSx1c2U6ZnVuY3Rpb24obGFiZWxOYW1lLHRva2VuKXt2YXIgcGFyYW1TY29wZT1fY3VycmVudEZ1bmN0Qm9keVtcXFwiKHBhcmVudClcXFwiXTtwYXJhbVNjb3BlJiZwYXJhbVNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV0mJlxcXCJwYXJhbVxcXCI9PT1wYXJhbVNjb3BlW1xcXCIobGFiZWxzKVxcXCJdW2xhYmVsTmFtZV1bXFxcIih0eXBlKVxcXCJdJiYoc2NvcGVNYW5hZ2VySW5zdC5mdW5jdC5oYXMobGFiZWxOYW1lLHtleGNsdWRlUGFyYW1zOiEwLG9ubHlCbG9ja3Njb3BlZDohMH0pfHwocGFyYW1TY29wZVtcXFwiKGxhYmVscylcXFwiXVtsYWJlbE5hbWVdW1xcXCIodW51c2VkKVxcXCJdPSExKSksdG9rZW4mJihzdGF0ZS5pZ25vcmVkLlcxMTd8fHN0YXRlLm9wdGlvbi51bmRlZj09PSExKSYmKHRva2VuLmlnbm9yZVVuZGVmPSEwKSxfc2V0dXBVc2FnZXMobGFiZWxOYW1lKSx0b2tlbiYmKHRva2VuW1xcXCIoZnVuY3Rpb24pXFxcIl09X2N1cnJlbnRGdW5jdEJvZHksX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKHRva2VucylcXFwiXS5wdXNoKHRva2VuKSl9LHJlYXNzaWduOmZ1bmN0aW9uKGxhYmVsTmFtZSx0b2tlbil7dGhpcy5tb2RpZnkobGFiZWxOYW1lLHRva2VuKSxfY3VycmVudFtcXFwiKHVzYWdlcylcXFwiXVtsYWJlbE5hbWVdW1xcXCIocmVhc3NpZ25lZClcXFwiXS5wdXNoKHRva2VuKX0sbW9kaWZ5OmZ1bmN0aW9uKGxhYmVsTmFtZSx0b2tlbil7X3NldHVwVXNhZ2VzKGxhYmVsTmFtZSksX2N1cnJlbnRbXFxcIih1c2FnZXMpXFxcIl1bbGFiZWxOYW1lXVtcXFwiKG1vZGlmaWVkKVxcXCJdLnB1c2godG9rZW4pfSxhZGQ6ZnVuY3Rpb24obGFiZWxOYW1lLHR5cGUsdG9rLHVudXNlZCl7X2N1cnJlbnRbXFxcIihsYWJlbHMpXFxcIl1bbGFiZWxOYW1lXT17XFxcIih0eXBlKVxcXCI6dHlwZSxcXFwiKHRva2VuKVxcXCI6dG9rLFxcXCIoYmxvY2tzY29wZWQpXFxcIjohMCxcXFwiKHVudXNlZClcXFwiOnVudXNlZH19LGFkZEJyZWFrTGFiZWw6ZnVuY3Rpb24obGFiZWxOYW1lLG9wdHMpe3ZhciB0b2tlbj1vcHRzLnRva2VuO3Njb3BlTWFuYWdlckluc3QuZnVuY3QuaGFzQnJlYWtMYWJlbChsYWJlbE5hbWUpP3dhcm5pbmcoXFxcIkUwMTFcXFwiLHRva2VuLGxhYmVsTmFtZSk6XFxcIm91dGVyXFxcIj09PXN0YXRlLm9wdGlvbi5zaGFkb3cmJihzY29wZU1hbmFnZXJJbnN0LmZ1bmN0LmhhcyhsYWJlbE5hbWUpP3dhcm5pbmcoXFxcIlcwMDRcXFwiLHRva2VuLGxhYmVsTmFtZSk6X2NoZWNrT3V0ZXJTaGFkb3cobGFiZWxOYW1lLHRva2VuKSksX2N1cnJlbnRbXFxcIihicmVha0xhYmVscylcXFwiXVtsYWJlbE5hbWVdPXRva2VufX19O3JldHVybiBzY29wZU1hbmFnZXJJbnN0fTttb2R1bGUuZXhwb3J0cz1zY29wZU1hbmFnZXJ9LHtcXFwiLi4vbG9kYXNoXFxcIjpcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvbG9kYXNoLmpzXFxcIixldmVudHM6XFxcIi9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xcXCJ9XSxcXFwiL25vZGVfbW9kdWxlcy9qc2hpbnQvc3JjL3N0YXRlLmpzXFxcIjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBOYW1lU3RhY2s9X2RlcmVxXyhcXFwiLi9uYW1lLXN0YWNrLmpzXFxcIiksc3RhdGU9e3N5bnRheDp7fSxpc1N0cmljdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGl2ZVtcXFwidXNlIHN0cmljdFxcXCJdfHx0aGlzLmluQ2xhc3NCb2R5fHx0aGlzLm9wdGlvbi5tb2R1bGV8fFxcXCJpbXBsaWVkXFxcIj09PXRoaXMub3B0aW9uLnN0cmljdH0saW5Nb3o6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb24ubW96fSxpbkVTNjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbi5tb3p8fHRoaXMub3B0aW9uLmVzdmVyc2lvbj49Nn0saW5FUzU6ZnVuY3Rpb24oc3RyaWN0KXtyZXR1cm4gc3RyaWN0PyEodGhpcy5vcHRpb24uZXN2ZXJzaW9uJiY1IT09dGhpcy5vcHRpb24uZXN2ZXJzaW9ufHx0aGlzLm9wdGlvbi5tb3opOiF0aGlzLm9wdGlvbi5lc3ZlcnNpb258fHRoaXMub3B0aW9uLmVzdmVyc2lvbj49NXx8dGhpcy5vcHRpb24ubW96fSxyZXNldDpmdW5jdGlvbigpe3RoaXMudG9rZW5zPXtwcmV2Om51bGwsbmV4dDpudWxsLGN1cnI6bnVsbH0sdGhpcy5vcHRpb249e30sdGhpcy5mdW5jdD1udWxsLHRoaXMuaWdub3JlZD17fSx0aGlzLmRpcmVjdGl2ZT17fSx0aGlzLmpzb25Nb2RlPSExLHRoaXMuanNvbldhcm5pbmdzPVtdLHRoaXMubGluZXM9W10sdGhpcy50YWI9XFxcIlxcXCIsdGhpcy5jYWNoZT17fSx0aGlzLmlnbm9yZWRMaW5lcz17fSx0aGlzLmZvcmluaWZjaGVja25lZWRlZD0hMSx0aGlzLm5hbWVTdGFjaz1uZXcgTmFtZVN0YWNrLHRoaXMuaW5DbGFzc0JvZHk9ITF9fTtleHBvcnRzLnN0YXRlPXN0YXRlfSx7XFxcIi4vbmFtZS1zdGFjay5qc1xcXCI6XFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9uYW1lLXN0YWNrLmpzXFxcIn1dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvc3R5bGUuanNcXFwiOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcXFwidXNlIHN0cmljdFxcXCI7ZXhwb3J0cy5yZWdpc3Rlcj1mdW5jdGlvbihsaW50ZXIpe2xpbnRlci5vbihcXFwiSWRlbnRpZmllclxcXCIsZnVuY3Rpb24oZGF0YSl7bGludGVyLmdldE9wdGlvbihcXFwicHJvdG9cXFwiKXx8XFxcIl9fcHJvdG9fX1xcXCI9PT1kYXRhLm5hbWUmJmxpbnRlci53YXJuKFxcXCJXMTAzXFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLm5hbWUsXFxcIjZcXFwiXX0pfSksbGludGVyLm9uKFxcXCJJZGVudGlmaWVyXFxcIixmdW5jdGlvbihkYXRhKXtsaW50ZXIuZ2V0T3B0aW9uKFxcXCJpdGVyYXRvclxcXCIpfHxcXFwiX19pdGVyYXRvcl9fXFxcIj09PWRhdGEubmFtZSYmbGludGVyLndhcm4oXFxcIlcxMDNcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyLGRhdGE6W2RhdGEubmFtZV19KX0pLGxpbnRlci5vbihcXFwiSWRlbnRpZmllclxcXCIsZnVuY3Rpb24oZGF0YSl7bGludGVyLmdldE9wdGlvbihcXFwiY2FtZWxjYXNlXFxcIikmJmRhdGEubmFtZS5yZXBsYWNlKC9eXyt8XyskL2csXFxcIlxcXCIpLmluZGV4T2YoXFxcIl9cXFwiKT4tMSYmIWRhdGEubmFtZS5tYXRjaCgvXltBLVowLTlfXSokLykmJmxpbnRlci53YXJuKFxcXCJXMTA2XFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuZnJvbSxkYXRhOltkYXRhLm5hbWVdfSl9KSxsaW50ZXIub24oXFxcIlN0cmluZ1xcXCIsZnVuY3Rpb24oZGF0YSl7dmFyIGNvZGUscXVvdG1hcms9bGludGVyLmdldE9wdGlvbihcXFwicXVvdG1hcmtcXFwiKTtxdW90bWFyayYmKFxcXCJzaW5nbGVcXFwiPT09cXVvdG1hcmsmJlxcXCInXFxcIiE9PWRhdGEucXVvdGUmJihjb2RlPVxcXCJXMTA5XFxcIiksXFxcImRvdWJsZVxcXCI9PT1xdW90bWFyayYmJ1xcXCInIT09ZGF0YS5xdW90ZSYmKGNvZGU9XFxcIlcxMDhcXFwiKSxxdW90bWFyaz09PSEwJiYobGludGVyLmdldENhY2hlKFxcXCJxdW90bWFya1xcXCIpfHxsaW50ZXIuc2V0Q2FjaGUoXFxcInF1b3RtYXJrXFxcIixkYXRhLnF1b3RlKSxsaW50ZXIuZ2V0Q2FjaGUoXFxcInF1b3RtYXJrXFxcIikhPT1kYXRhLnF1b3RlJiYoY29kZT1cXFwiVzExMFxcXCIpKSxjb2RlJiZsaW50ZXIud2Fybihjb2RlLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyfSkpfSksbGludGVyLm9uKFxcXCJOdW1iZXJcXFwiLGZ1bmN0aW9uKGRhdGEpe1xcXCIuXFxcIj09PWRhdGEudmFsdWUuY2hhckF0KDApJiZsaW50ZXIud2FybihcXFwiVzAwOFxcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXIsZGF0YTpbZGF0YS52YWx1ZV19KSxcXFwiLlxcXCI9PT1kYXRhLnZhbHVlLnN1YnN0cihkYXRhLnZhbHVlLmxlbmd0aC0xKSYmbGludGVyLndhcm4oXFxcIlcwNDdcXFwiLHtsaW5lOmRhdGEubGluZSxcXFwiY2hhclxcXCI6ZGF0YS5jaGFyLGRhdGE6W2RhdGEudmFsdWVdfSksL14wMCsvLnRlc3QoZGF0YS52YWx1ZSkmJmxpbnRlci53YXJuKFxcXCJXMDQ2XFxcIix7bGluZTpkYXRhLmxpbmUsXFxcImNoYXJcXFwiOmRhdGEuY2hhcixkYXRhOltkYXRhLnZhbHVlXX0pfSksbGludGVyLm9uKFxcXCJTdHJpbmdcXFwiLGZ1bmN0aW9uKGRhdGEpe3ZhciByZT0vXig/OmphdmFzY3JpcHR8anNjcmlwdHxlY21hc2NyaXB0fHZic2NyaXB0fGxpdmVzY3JpcHQpXFxcXHMqOi9pO2xpbnRlci5nZXRPcHRpb24oXFxcInNjcmlwdHVybFxcXCIpfHxyZS50ZXN0KGRhdGEudmFsdWUpJiZsaW50ZXIud2FybihcXFwiVzEwN1xcXCIse2xpbmU6ZGF0YS5saW5lLFxcXCJjaGFyXFxcIjpkYXRhLmNoYXJ9KX0pfX0se31dLFxcXCIvbm9kZV9tb2R1bGVzL2pzaGludC9zcmMvdmFycy5qc1xcXCI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtleHBvcnRzLnJlc2VydmVkVmFycz17YXJndW1lbnRzOiExLE5hTjohMX0sZXhwb3J0cy5lY21hSWRlbnRpZmllcnM9ezM6e0FycmF5OiExLEJvb2xlYW46ITEsRGF0ZTohMSxkZWNvZGVVUkk6ITEsZGVjb2RlVVJJQ29tcG9uZW50OiExLGVuY29kZVVSSTohMSxlbmNvZGVVUklDb21wb25lbnQ6ITEsRXJyb3I6ITEsZXZhbDohMSxFdmFsRXJyb3I6ITEsRnVuY3Rpb246ITEsaGFzT3duUHJvcGVydHk6ITEsaXNGaW5pdGU6ITEsaXNOYU46ITEsTWF0aDohMSxOdW1iZXI6ITEsT2JqZWN0OiExLHBhcnNlSW50OiExLHBhcnNlRmxvYXQ6ITEsUmFuZ2VFcnJvcjohMSxSZWZlcmVuY2VFcnJvcjohMSxSZWdFeHA6ITEsU3RyaW5nOiExLFN5bnRheEVycm9yOiExLFR5cGVFcnJvcjohMSxVUklFcnJvcjohMX0sNTp7SlNPTjohMX0sNjp7TWFwOiExLFByb21pc2U6ITEsUHJveHk6ITEsUmVmbGVjdDohMSxTZXQ6ITEsU3ltYm9sOiExLFdlYWtNYXA6ITEsV2Vha1NldDohMX19LGV4cG9ydHMuYnJvd3Nlcj17QXVkaW86ITEsQmxvYjohMSxhZGRFdmVudExpc3RlbmVyOiExLGFwcGxpY2F0aW9uQ2FjaGU6ITEsYXRvYjohMSxibHVyOiExLGJ0b2E6ITEsY2FuY2VsQW5pbWF0aW9uRnJhbWU6ITEsQ2FudmFzR3JhZGllbnQ6ITEsQ2FudmFzUGF0dGVybjohMSxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ6ITEsQ1NTOiExLGNsZWFySW50ZXJ2YWw6ITEsY2xlYXJUaW1lb3V0OiExLGNsb3NlOiExLGNsb3NlZDohMSxDb21tZW50OiExLEN1c3RvbUV2ZW50OiExLERPTVBhcnNlcjohMSxkZWZhdWx0U3RhdHVzOiExLERvY3VtZW50OiExLGRvY3VtZW50OiExLERvY3VtZW50RnJhZ21lbnQ6ITEsRWxlbWVudDohMSxFbGVtZW50VGltZUNvbnRyb2w6ITEsRXZlbnQ6ITEsZXZlbnQ6ITEsZmV0Y2g6ITEsRmlsZVJlYWRlcjohMSxGb3JtRGF0YTohMSxmb2N1czohMSxmcmFtZXM6ITEsZ2V0Q29tcHV0ZWRTdHlsZTohMSxIVE1MRWxlbWVudDohMSxIVE1MQW5jaG9yRWxlbWVudDohMSxIVE1MQmFzZUVsZW1lbnQ6ITEsSFRNTEJsb2NrcXVvdGVFbGVtZW50OiExLEhUTUxCb2R5RWxlbWVudDohMSxIVE1MQlJFbGVtZW50OiExLEhUTUxCdXR0b25FbGVtZW50OiExLEhUTUxDYW52YXNFbGVtZW50OiExLEhUTUxDb2xsZWN0aW9uOiExLEhUTUxEaXJlY3RvcnlFbGVtZW50OiExLEhUTUxEaXZFbGVtZW50OiExLEhUTUxETGlzdEVsZW1lbnQ6ITEsSFRNTEZpZWxkU2V0RWxlbWVudDohMSxIVE1MRm9udEVsZW1lbnQ6ITEsSFRNTEZvcm1FbGVtZW50OiExLEhUTUxGcmFtZUVsZW1lbnQ6ITEsSFRNTEZyYW1lU2V0RWxlbWVudDohMSxIVE1MSGVhZEVsZW1lbnQ6ITEsSFRNTEhlYWRpbmdFbGVtZW50OiExLEhUTUxIUkVsZW1lbnQ6ITEsSFRNTEh0bWxFbGVtZW50OiExLEhUTUxJRnJhbWVFbGVtZW50OiExLEhUTUxJbWFnZUVsZW1lbnQ6ITEsSFRNTElucHV0RWxlbWVudDohMSxIVE1MSXNJbmRleEVsZW1lbnQ6ITEsSFRNTExhYmVsRWxlbWVudDohMSxIVE1MTGF5ZXJFbGVtZW50OiExLEhUTUxMZWdlbmRFbGVtZW50OiExLEhUTUxMSUVsZW1lbnQ6ITEsSFRNTExpbmtFbGVtZW50OiExLEhUTUxNYXBFbGVtZW50OiExLEhUTUxNZW51RWxlbWVudDohMSxIVE1MTWV0YUVsZW1lbnQ6ITEsSFRNTE1vZEVsZW1lbnQ6ITEsSFRNTE9iamVjdEVsZW1lbnQ6ITEsSFRNTE9MaXN0RWxlbWVudDohMSxIVE1MT3B0R3JvdXBFbGVtZW50OiExLEhUTUxPcHRpb25FbGVtZW50OiExLEhUTUxQYXJhZ3JhcGhFbGVtZW50OiExLEhUTUxQYXJhbUVsZW1lbnQ6ITEsSFRNTFByZUVsZW1lbnQ6ITEsSFRNTFF1b3RlRWxlbWVudDohMSxIVE1MU2NyaXB0RWxlbWVudDohMSxIVE1MU2VsZWN0RWxlbWVudDohMSxIVE1MU3R5bGVFbGVtZW50OiExLEhUTUxUYWJsZUNhcHRpb25FbGVtZW50OiExLEhUTUxUYWJsZUNlbGxFbGVtZW50OiExLEhUTUxUYWJsZUNvbEVsZW1lbnQ6ITEsSFRNTFRhYmxlRWxlbWVudDohMSxIVE1MVGFibGVSb3dFbGVtZW50OiExLEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50OiExLEhUTUxUZW1wbGF0ZUVsZW1lbnQ6ITEsSFRNTFRleHRBcmVhRWxlbWVudDohMSxIVE1MVGl0bGVFbGVtZW50OiExLEhUTUxVTGlzdEVsZW1lbnQ6ITEsSFRNTFZpZGVvRWxlbWVudDohMSxoaXN0b3J5OiExLEltYWdlOiExLEludGw6ITEsbGVuZ3RoOiExLGxvY2FsU3RvcmFnZTohMSxsb2NhdGlvbjohMSxtYXRjaE1lZGlhOiExLE1lc3NhZ2VDaGFubmVsOiExLE1lc3NhZ2VFdmVudDohMSxNZXNzYWdlUG9ydDohMSxNb3VzZUV2ZW50OiExLG1vdmVCeTohMSxtb3ZlVG86ITEsTXV0YXRpb25PYnNlcnZlcjohMSxuYW1lOiExLE5vZGU6ITEsTm9kZUZpbHRlcjohMSxOb2RlTGlzdDohMSxOb3RpZmljYXRpb246ITEsbmF2aWdhdG9yOiExLG9uYmVmb3JldW5sb2FkOiEwLG9uYmx1cjohMCxvbmVycm9yOiEwLG9uZm9jdXM6ITAsb25sb2FkOiEwLG9ucmVzaXplOiEwLG9udW5sb2FkOiEwLG9wZW46ITEsb3BlbkRhdGFiYXNlOiExLG9wZW5lcjohMSxPcHRpb246ITEscGFyZW50OiExLHBlcmZvcm1hbmNlOiExLHByaW50OiExLFJhbmdlOiExLHJlcXVlc3RBbmltYXRpb25GcmFtZTohMSxyZW1vdmVFdmVudExpc3RlbmVyOiExLHJlc2l6ZUJ5OiExLHJlc2l6ZVRvOiExLHNjcmVlbjohMSxzY3JvbGw6ITEsc2Nyb2xsQnk6ITEsc2Nyb2xsVG86ITEsc2Vzc2lvblN0b3JhZ2U6ITEsc2V0SW50ZXJ2YWw6ITEsc2V0VGltZW91dDohMSxTaGFyZWRXb3JrZXI6ITEsc3RhdHVzOiExLFNWR0FFbGVtZW50OiExLFNWR0FsdEdseXBoRGVmRWxlbWVudDohMSxTVkdBbHRHbHlwaEVsZW1lbnQ6ITEsU1ZHQWx0R2x5cGhJdGVtRWxlbWVudDohMSxTVkdBbmdsZTohMSxTVkdBbmltYXRlQ29sb3JFbGVtZW50OiExLFNWR0FuaW1hdGVFbGVtZW50OiExLFNWR0FuaW1hdGVNb3Rpb25FbGVtZW50OiExLFNWR0FuaW1hdGVUcmFuc2Zvcm1FbGVtZW50OiExLFNWR0FuaW1hdGVkQW5nbGU6ITEsU1ZHQW5pbWF0ZWRCb29sZWFuOiExLFNWR0FuaW1hdGVkRW51bWVyYXRpb246ITEsU1ZHQW5pbWF0ZWRJbnRlZ2VyOiExLFNWR0FuaW1hdGVkTGVuZ3RoOiExLFNWR0FuaW1hdGVkTGVuZ3RoTGlzdDohMSxTVkdBbmltYXRlZE51bWJlcjohMSxTVkdBbmltYXRlZE51bWJlckxpc3Q6ITEsU1ZHQW5pbWF0ZWRQYXRoRGF0YTohMSxTVkdBbmltYXRlZFBvaW50czohMSxTVkdBbmltYXRlZFByZXNlcnZlQXNwZWN0UmF0aW86ITEsU1ZHQW5pbWF0ZWRSZWN0OiExLFNWR0FuaW1hdGVkU3RyaW5nOiExLFNWR0FuaW1hdGVkVHJhbnNmb3JtTGlzdDohMSxTVkdBbmltYXRpb25FbGVtZW50OiExLFNWR0NTU1J1bGU6ITEsU1ZHQ2lyY2xlRWxlbWVudDohMSxTVkdDbGlwUGF0aEVsZW1lbnQ6ITEsU1ZHQ29sb3I6ITEsU1ZHQ29sb3JQcm9maWxlRWxlbWVudDohMSxTVkdDb2xvclByb2ZpbGVSdWxlOiExLFNWR0NvbXBvbmVudFRyYW5zZmVyRnVuY3Rpb25FbGVtZW50OiExLFNWR0N1cnNvckVsZW1lbnQ6ITEsU1ZHRGVmc0VsZW1lbnQ6ITEsU1ZHRGVzY0VsZW1lbnQ6ITEsU1ZHRG9jdW1lbnQ6ITEsU1ZHRWxlbWVudDohMSxTVkdFbGVtZW50SW5zdGFuY2U6ITEsU1ZHRWxlbWVudEluc3RhbmNlTGlzdDohMSxTVkdFbGxpcHNlRWxlbWVudDohMSxTVkdFeHRlcm5hbFJlc291cmNlc1JlcXVpcmVkOiExLFNWR0ZFQmxlbmRFbGVtZW50OiExLFNWR0ZFQ29sb3JNYXRyaXhFbGVtZW50OiExLFNWR0ZFQ29tcG9uZW50VHJhbnNmZXJFbGVtZW50OiExLFNWR0ZFQ29tcG9zaXRlRWxlbWVudDohMSxTVkdGRUNvbnZvbHZlTWF0cml4RWxlbWVudDohMSxTVkdGRURpZmZ1c2VMaWdodGluZ0VsZW1lbnQ6ITEsU1ZHRkVEaXNwbGFjZW1lbnRNYXBFbGVtZW50OiExLFNWR0ZFRGlzdGFudExpZ2h0RWxlbWVudDohMSxTVkdGRUZsb29kRWxlbWVudDohMSxTVkdGRUZ1bmNBRWxlbWVudDohMSxTVkdGRUZ1bmNCRWxlbWVudDohMSxTVkdGRUZ1bmNHRWxlbWVudDohMSxTVkdGRUZ1bmNSRWxlbWVudDohMSxTVkdGRUdhdXNzaWFuQmx1ckVsZW1lbnQ6ITEsU1ZHRkVJbWFnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZU5vZGVFbGVtZW50OiExLFNWR0ZFTW9ycGhvbG9neUVsZW1lbnQ6ITEsU1ZHRkVPZmZzZXRFbGVtZW50OiExLFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQ6ITEsU1ZHRkVTcGVjdWxhckxpZ2h0aW5nRWxlbWVudDohMSxTVkdGRVNwb3RMaWdodEVsZW1lbnQ6ITEsU1ZHRkVUaWxlRWxlbWVudDohMSxTVkdGRVR1cmJ1bGVuY2VFbGVtZW50OiExLFNWR0ZpbHRlckVsZW1lbnQ6ITEsU1ZHRmlsdGVyUHJpbWl0aXZlU3RhbmRhcmRBdHRyaWJ1dGVzOiExLFNWR0ZpdFRvVmlld0JveDohMSxTVkdGb250RWxlbWVudDohMSxTVkdGb250RmFjZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VGb3JtYXRFbGVtZW50OiExLFNWR0ZvbnRGYWNlTmFtZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VTcmNFbGVtZW50OiExLFNWR0ZvbnRGYWNlVXJpRWxlbWVudDohMSxTVkdGb3JlaWduT2JqZWN0RWxlbWVudDohMSxTVkdHRWxlbWVudDohMSxTVkdHbHlwaEVsZW1lbnQ6ITEsU1ZHR2x5cGhSZWZFbGVtZW50OiExLFNWR0dyYWRpZW50RWxlbWVudDohMSxTVkdIS2VybkVsZW1lbnQ6ITEsU1ZHSUNDQ29sb3I6ITEsU1ZHSW1hZ2VFbGVtZW50OiExLFNWR0xhbmdTcGFjZTohMSxTVkdMZW5ndGg6ITEsU1ZHTGVuZ3RoTGlzdDohMSxTVkdMaW5lRWxlbWVudDohMSxTVkdMaW5lYXJHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHTG9jYXRhYmxlOiExLFNWR01QYXRoRWxlbWVudDohMSxTVkdNYXJrZXJFbGVtZW50OiExLFNWR01hc2tFbGVtZW50OiExLFNWR01hdHJpeDohMSxTVkdNZXRhZGF0YUVsZW1lbnQ6ITEsU1ZHTWlzc2luZ0dseXBoRWxlbWVudDohMSxTVkdOdW1iZXI6ITEsU1ZHTnVtYmVyTGlzdDohMSxTVkdQYWludDohMSxTVkdQYXRoRWxlbWVudDohMSxTVkdQYXRoU2VnOiExLFNWR1BhdGhTZWdBcmNBYnM6ITEsU1ZHUGF0aFNlZ0FyY1JlbDohMSxTVkdQYXRoU2VnQ2xvc2VQYXRoOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbDohMSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWw6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWw6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWw6ITEsU1ZHUGF0aFNlZ0xpbmV0b0FiczohMSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFiczohMSxTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbDohMSxTVkdQYXRoU2VnTGluZXRvUmVsOiExLFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFiczohMSxTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWw6ITEsU1ZHUGF0aFNlZ0xpc3Q6ITEsU1ZHUGF0aFNlZ01vdmV0b0FiczohMSxTVkdQYXRoU2VnTW92ZXRvUmVsOiExLFNWR1BhdHRlcm5FbGVtZW50OiExLFNWR1BvaW50OiExLFNWR1BvaW50TGlzdDohMSxTVkdQb2x5Z29uRWxlbWVudDohMSxTVkdQb2x5bGluZUVsZW1lbnQ6ITEsU1ZHUHJlc2VydmVBc3BlY3RSYXRpbzohMSxTVkdSYWRpYWxHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHUmVjdDohMSxTVkdSZWN0RWxlbWVudDohMSxTVkdSZW5kZXJpbmdJbnRlbnQ6ITEsU1ZHU1ZHRWxlbWVudDohMSxTVkdTY3JpcHRFbGVtZW50OiExLFNWR1NldEVsZW1lbnQ6ITEsU1ZHU3RvcEVsZW1lbnQ6ITEsU1ZHU3RyaW5nTGlzdDohMSxTVkdTdHlsYWJsZTohMSxTVkdTdHlsZUVsZW1lbnQ6ITEsU1ZHU3dpdGNoRWxlbWVudDohMSxTVkdTeW1ib2xFbGVtZW50OiExLFNWR1RSZWZFbGVtZW50OiExLFNWR1RTcGFuRWxlbWVudDohMSxTVkdUZXN0czohMSxTVkdUZXh0Q29udGVudEVsZW1lbnQ6ITEsU1ZHVGV4dEVsZW1lbnQ6ITEsU1ZHVGV4dFBhdGhFbGVtZW50OiExLFNWR1RleHRQb3NpdGlvbmluZ0VsZW1lbnQ6ITEsU1ZHVGl0bGVFbGVtZW50OiExLFNWR1RyYW5zZm9ybTohMSxTVkdUcmFuc2Zvcm1MaXN0OiExLFNWR1RyYW5zZm9ybWFibGU6ITEsU1ZHVVJJUmVmZXJlbmNlOiExLFNWR1VuaXRUeXBlczohMSxTVkdVc2VFbGVtZW50OiExLFNWR1ZLZXJuRWxlbWVudDohMSxTVkdWaWV3RWxlbWVudDohMSxTVkdWaWV3U3BlYzohMSxTVkdab29tQW5kUGFuOiExLFRleHQ6ITEsVGV4dERlY29kZXI6ITEsVGV4dEVuY29kZXI6ITEsVGltZUV2ZW50OiExLHRvcDohMSxVUkw6ITEsV2ViR0xBY3RpdmVJbmZvOiExLFdlYkdMQnVmZmVyOiExLFdlYkdMQ29udGV4dEV2ZW50OiExLFdlYkdMRnJhbWVidWZmZXI6ITEsV2ViR0xQcm9ncmFtOiExLFdlYkdMUmVuZGVyYnVmZmVyOiExLFdlYkdMUmVuZGVyaW5nQ29udGV4dDohMSxXZWJHTFNoYWRlcjohMSxXZWJHTFNoYWRlclByZWNpc2lvbkZvcm1hdDohMSxXZWJHTFRleHR1cmU6ITEsV2ViR0xVbmlmb3JtTG9jYXRpb246ITEsV2ViU29ja2V0OiExLHdpbmRvdzohMSxXaW5kb3c6ITEsV29ya2VyOiExLFhEb21haW5SZXF1ZXN0OiExLFhNTEh0dHBSZXF1ZXN0OiExLFhNTFNlcmlhbGl6ZXI6ITEsWFBhdGhFdmFsdWF0b3I6ITEsWFBhdGhFeGNlcHRpb246ITEsWFBhdGhFeHByZXNzaW9uOiExLFhQYXRoTmFtZXNwYWNlOiExLFhQYXRoTlNSZXNvbHZlcjohMSxYUGF0aFJlc3VsdDohMX0sZXhwb3J0cy5kZXZlbD17YWxlcnQ6ITEsY29uZmlybTohMSxjb25zb2xlOiExLERlYnVnOiExLG9wZXJhOiExLHByb21wdDohMX0sZXhwb3J0cy53b3JrZXI9e2ltcG9ydFNjcmlwdHM6ITAscG9zdE1lc3NhZ2U6ITAsc2VsZjohMCxGaWxlUmVhZGVyU3luYzohMH0sZXhwb3J0cy5ub25zdGFuZGFyZD17ZXNjYXBlOiExLHVuZXNjYXBlOiExfSxleHBvcnRzLmNvdWNoPXtyZXF1aXJlOiExLHJlc3BvbmQ6ITEsZ2V0Um93OiExLGVtaXQ6ITEsc2VuZDohMSxzdGFydDohMSxzdW06ITEsbG9nOiExLGV4cG9ydHM6ITEsbW9kdWxlOiExLHByb3ZpZGVzOiExfSxleHBvcnRzLm5vZGU9e19fZmlsZW5hbWU6ITEsX19kaXJuYW1lOiExLEdMT0JBTDohMSxnbG9iYWw6ITEsbW9kdWxlOiExLGFjZXF1aXJlOiExLEJ1ZmZlcjohMCxjb25zb2xlOiEwLGV4cG9ydHM6ITAscHJvY2VzczohMCxzZXRUaW1lb3V0OiEwLGNsZWFyVGltZW91dDohMCxzZXRJbnRlcnZhbDohMCxjbGVhckludGVydmFsOiEwLHNldEltbWVkaWF0ZTohMCxjbGVhckltbWVkaWF0ZTohMH0sZXhwb3J0cy5icm93c2VyaWZ5PXtfX2ZpbGVuYW1lOiExLF9fZGlybmFtZTohMSxnbG9iYWw6ITEsbW9kdWxlOiExLGFjZXF1aXJlOiExLEJ1ZmZlcjohMCxleHBvcnRzOiEwLHByb2Nlc3M6ITB9LGV4cG9ydHMucGhhbnRvbT17cGhhbnRvbTohMCxhY2VxdWlyZTohMCxXZWJQYWdlOiEwLGNvbnNvbGU6ITAsZXhwb3J0czohMH0sZXhwb3J0cy5xdW5pdD17YXN5bmNUZXN0OiExLGRlZXBFcXVhbDohMSxlcXVhbDohMSxleHBlY3Q6ITEsbW9kdWxlOiExLG5vdERlZXBFcXVhbDohMSxub3RFcXVhbDohMSxub3RQcm9wRXF1YWw6ITEsbm90U3RyaWN0RXF1YWw6ITEsb2s6ITEscHJvcEVxdWFsOiExLFFVbml0OiExLHJhaXNlczohMSxzdGFydDohMSxzdG9wOiExLHN0cmljdEVxdWFsOiExLHRlc3Q6ITEsXFxcInRocm93c1xcXCI6ITF9LGV4cG9ydHMucmhpbm89e2RlZmluZUNsYXNzOiExLGRlc2VyaWFsaXplOiExLGdjOiExLGhlbHA6ITEsaW1wb3J0Q2xhc3M6ITEsaW1wb3J0UGFja2FnZTohMSxqYXZhOiExLGxvYWQ6ITEsbG9hZENsYXNzOiExLFBhY2thZ2VzOiExLHByaW50OiExLHF1aXQ6ITEscmVhZEZpbGU6ITEscmVhZFVybDohMSxydW5Db21tYW5kOiExLHNlYWw6ITEsc2VyaWFsaXplOiExLHNwYXduOiExLHN5bmM6ITEsdG9pbnQzMjohMSx2ZXJzaW9uOiExfSxleHBvcnRzLnNoZWxsanM9e3RhcmdldDohMSxlY2hvOiExLGV4aXQ6ITEsY2Q6ITEscHdkOiExLGxzOiExLGZpbmQ6ITEsY3A6ITEscm06ITEsbXY6ITEsbWtkaXI6ITEsdGVzdDohMSxjYXQ6ITEsc2VkOiExLGdyZXA6ITEsd2hpY2g6ITEsZGlyczohMSxwdXNoZDohMSxwb3BkOiExLGVudjohMSxleGVjOiExLGNobW9kOiExLGNvbmZpZzohMSxlcnJvcjohMSx0ZW1wZGlyOiExfSxleHBvcnRzLnR5cGVkPXtBcnJheUJ1ZmZlcjohMSxBcnJheUJ1ZmZlclZpZXc6ITEsRGF0YVZpZXc6ITEsRmxvYXQzMkFycmF5OiExLEZsb2F0NjRBcnJheTohMSxJbnQxNkFycmF5OiExLEludDMyQXJyYXk6ITEsSW50OEFycmF5OiExLFVpbnQxNkFycmF5OiExLFVpbnQzMkFycmF5OiExLFVpbnQ4QXJyYXk6ITEsVWludDhDbGFtcGVkQXJyYXk6ITF9LGV4cG9ydHMud3NoPXtBY3RpdmVYT2JqZWN0OiEwLEVudW1lcmF0b3I6ITAsR2V0T2JqZWN0OiEwLFNjcmlwdEVuZ2luZTohMCxTY3JpcHRFbmdpbmVCdWlsZFZlcnNpb246ITAsU2NyaXB0RW5naW5lTWFqb3JWZXJzaW9uOiEwLFNjcmlwdEVuZ2luZU1pbm9yVmVyc2lvbjohMCxWQkFycmF5OiEwLFdTSDohMCxXU2NyaXB0OiEwLFhEb21haW5SZXF1ZXN0OiEwfSxleHBvcnRzLmRvam89e2Rvam86ITEsZGlqaXQ6ITEsZG9qb3g6ITEsZGVmaW5lOiExLHJlcXVpcmU6ITF9LGV4cG9ydHMuanF1ZXJ5PXskOiExLGpRdWVyeTohMX0sZXhwb3J0cy5tb290b29scz17JDohMSwkJDohMSxBc3NldDohMSxCcm93c2VyOiExLENoYWluOiExLENsYXNzOiExLENvbG9yOiExLENvb2tpZTohMSxDb3JlOiExLERvY3VtZW50OiExLERvbVJlYWR5OiExLERPTUV2ZW50OiExLERPTVJlYWR5OiExLERyYWc6ITEsRWxlbWVudDohMSxFbGVtZW50czohMSxFdmVudDohMSxFdmVudHM6ITEsRng6ITEsR3JvdXA6ITEsSGFzaDohMSxIdG1sVGFibGU6ITEsSUZyYW1lOiExLElmcmFtZVNoaW06ITEsSW5wdXRWYWxpZGF0b3I6ITEsaW5zdGFuY2VPZjohMSxLZXlib2FyZDohMSxMb2NhbGU6ITEsTWFzazohMSxNb29Ub29sczohMSxOYXRpdmU6ITEsT3B0aW9uczohMSxPdmVyVGV4dDohMSxSZXF1ZXN0OiExLFNjcm9sbGVyOiExLFNsaWNrOiExLFNsaWRlcjohMSxTb3J0YWJsZXM6ITEsU3Bpbm5lcjohMSxTd2lmZjohMSxUaXBzOiExLFR5cGU6ITEsdHlwZU9mOiExLFVSSTohMSxXaW5kb3c6ITF9LGV4cG9ydHMucHJvdG90eXBlanM9eyQ6ITEsJCQ6ITEsJEE6ITEsJEY6ITEsJEg6ITEsJFI6ITEsJGJyZWFrOiExLCRjb250aW51ZTohMSwkdzohMSxBYnN0cmFjdDohMSxBamF4OiExLENsYXNzOiExLEVudW1lcmFibGU6ITEsRWxlbWVudDohMSxFdmVudDohMSxGaWVsZDohMSxGb3JtOiExLEhhc2g6ITEsSW5zZXJ0aW9uOiExLE9iamVjdFJhbmdlOiExLFBlcmlvZGljYWxFeGVjdXRlcjohMSxQb3NpdGlvbjohMSxQcm90b3R5cGU6ITEsU2VsZWN0b3I6ITEsVGVtcGxhdGU6ITEsVG9nZ2xlOiExLFRyeTohMSxBdXRvY29tcGxldGVyOiExLEJ1aWxkZXI6ITEsQ29udHJvbDohMSxEcmFnZ2FibGU6ITEsRHJhZ2dhYmxlczohMSxEcm9wcGFibGVzOiExLEVmZmVjdDohMSxTb3J0YWJsZTohMSxTb3J0YWJsZU9ic2VydmVyOiExLFNvdW5kOiExLFNjcmlwdGFjdWxvdXM6ITF9LGV4cG9ydHMueXVpPXtZVUk6ITEsWTohMSxZVUlfY29uZmlnOiExfSxleHBvcnRzLm1vY2hhPXttb2NoYTohMSxkZXNjcmliZTohMSx4ZGVzY3JpYmU6ITEsaXQ6ITEseGl0OiExLGNvbnRleHQ6ITEseGNvbnRleHQ6ITEsYmVmb3JlOiExLGFmdGVyOiExLGJlZm9yZUVhY2g6ITEsYWZ0ZXJFYWNoOiExLHN1aXRlOiExLHRlc3Q6ITEsc2V0dXA6ITEsdGVhcmRvd246ITEsc3VpdGVTZXR1cDohMSxzdWl0ZVRlYXJkb3duOiExfSxleHBvcnRzLmphc21pbmU9e2phc21pbmU6ITEsZGVzY3JpYmU6ITEseGRlc2NyaWJlOiExLGl0OiExLHhpdDohMSxiZWZvcmVFYWNoOiExLGFmdGVyRWFjaDohMSxzZXRGaXh0dXJlczohMSxsb2FkRml4dHVyZXM6ITEsc3B5T246ITEsZXhwZWN0OiExLHJ1bnM6ITEsd2FpdHNGb3I6ITEsd2FpdHM6ITEsYmVmb3JlQWxsOiExLGFmdGVyQWxsOiExLGZhaWw6ITEsZmRlc2NyaWJlOiExLGZpdDohMSxwZW5kaW5nOiExfX0se31dfSx7fSxbXFxcIi9ub2RlX21vZHVsZXMvanNoaW50L3NyYy9qc2hpbnQuanNcXFwiXSl9KSxhY2UuZGVmaW5lKFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0X3dvcmtlclxcXCIsW1xcXCJyZXF1aXJlXFxcIixcXFwiZXhwb3J0c1xcXCIsXFxcIm1vZHVsZVxcXCIsXFxcImFjZS9saWIvb29wXFxcIixcXFwiYWNlL3dvcmtlci9taXJyb3JcXFwiLFxcXCJhY2UvbW9kZS9qYXZhc2NyaXB0L2pzaGludFxcXCJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMsbW9kdWxlKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gc3RhcnRSZWdleChhcnIpe3JldHVybiBSZWdFeHAoXFxcIl4oXFxcIithcnIuam9pbihcXFwifFxcXCIpK1xcXCIpXFxcIil9dmFyIG9vcD1hY2VxdWlyZShcXFwiLi4vbGliL29vcFxcXCIpLE1pcnJvcj1hY2VxdWlyZShcXFwiLi4vd29ya2VyL21pcnJvclxcXCIpLk1pcnJvcixsaW50PWFjZXF1aXJlKFxcXCIuL2phdmFzY3JpcHQvanNoaW50XFxcIikuSlNISU5ULGRpc2FibGVkV2FybmluZ3NSZT1zdGFydFJlZ2V4KFtcXFwiQmFkIGZvciBpbiB2YXJpYWJsZSAnKC4rKScuXFxcIiwnTWlzc2luZyBcXFwidXNlIHN0cmljdFxcXCInXSksZXJyb3JzUmU9c3RhcnRSZWdleChbXFxcIlVuZXhwZWN0ZWRcXFwiLFxcXCJFeHBlY3RlZCBcXFwiLFxcXCJDb25mdXNpbmcgKHBsdXN8bWludXMpXFxcIixcXFwiXFxcXFxcXFx7YVxcXFxcXFxcfSB1bnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uXFxcIixcXFwiVW5jbG9zZWQgXFxcIixcXFwiVW5tYXRjaGVkIFxcXCIsXFxcIlVuYmVndW4gY29tbWVudFxcXCIsXFxcIkJhZCBpbnZvY2F0aW9uXFxcIixcXFwiTWlzc2luZyBzcGFjZSBhZnRlclxcXCIsXFxcIk1pc3Npbmcgb3BlcmF0b3IgYXRcXFwiXSksaW5mb1JlPXN0YXJ0UmVnZXgoW1xcXCJFeHBlY3RlZCBhbiBhc3NpZ25tZW50XFxcIixcXFwiQmFkIGVzY2FwZW1lbnQgb2YgRU9MXFxcIixcXFwiVW5leHBlY3RlZCBjb21tYVxcXCIsXFxcIlVuZXhwZWN0ZWQgc3BhY2VcXFwiLFxcXCJNaXNzaW5nIHJhZGl4IHBhcmFtZXRlci5cXFwiLFxcXCJBIGxlYWRpbmcgZGVjaW1hbCBwb2ludCBjYW5cXFwiLFxcXCJcXFxcXFxcXFsne2F9J1xcXFxcXFxcXSBpcyBiZXR0ZXIgd3JpdHRlbiBpbiBkb3Qgbm90YXRpb24uXFxcIixcXFwiJ3thfScgdXNlZCBvdXQgb2Ygc2NvcGVcXFwiXSksSmF2YVNjcmlwdFdvcmtlcj1leHBvcnRzLkphdmFTY3JpcHRXb3JrZXI9ZnVuY3Rpb24oc2VuZGVyKXtNaXJyb3IuY2FsbCh0aGlzLHNlbmRlciksdGhpcy5zZXRUaW1lb3V0KDUwMCksdGhpcy5zZXRPcHRpb25zKCl9O29vcC5pbmhlcml0cyhKYXZhU2NyaXB0V29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnN8fHtlc25leHQ6ITAsbW96OiEwLGRldmVsOiEwLGJyb3dzZXI6ITAsbm9kZTohMCxsYXhjb21tYTohMCxsYXhicmVhazohMCxsYXN0c2VtaWM6ITAsb25ldmFyOiExLHBhc3NmYWlsOiExLG1heGVycjoxMDAsZXhwcjohMCxtdWx0aXN0cjohMCxnbG9iYWxzdHJpY3Q6ITB9LHRoaXMuZG9jLmdldFZhbHVlKCkmJnRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoMTAwKX0sdGhpcy5jaGFuZ2VPcHRpb25zPWZ1bmN0aW9uKG5ld09wdGlvbnMpe29vcC5taXhpbih0aGlzLm9wdGlvbnMsbmV3T3B0aW9ucyksdGhpcy5kb2MuZ2V0VmFsdWUoKSYmdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSgxMDApfSx0aGlzLmlzVmFsaWRKUz1mdW5jdGlvbihzdHIpe3RyeXtldmFsKFxcXCJ0aHJvdyAwO1xcXCIrc3RyKX1jYXRjaChlKXtpZigwPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLmRvYy5nZXRWYWx1ZSgpO2lmKHZhbHVlPXZhbHVlLnJlcGxhY2UoL14jIS4qXFxcXG4vLFxcXCJcXFxcblxcXCIpLCF2YWx1ZSlyZXR1cm4gdGhpcy5zZW5kZXIuZW1pdChcXFwiYW5ub3RhdGVcXFwiLFtdKTt2YXIgZXJyb3JzPVtdLG1heEVycm9yTGV2ZWw9dGhpcy5pc1ZhbGlkSlModmFsdWUpP1xcXCJ3YXJuaW5nXFxcIjpcXFwiZXJyb3JcXFwiO2xpbnQodmFsdWUsdGhpcy5vcHRpb25zKTtmb3IodmFyIHJlc3VsdHM9bGludC5lcnJvcnMsZXJyb3JBZGRlZD0hMSxpPTA7cmVzdWx0cy5sZW5ndGg+aTtpKyspe3ZhciBlcnJvcj1yZXN1bHRzW2ldO2lmKGVycm9yKXt2YXIgcmF3PWVycm9yLnJhdyx0eXBlPVxcXCJ3YXJuaW5nXFxcIjtpZihcXFwiTWlzc2luZyBzZW1pY29sb24uXFxcIj09cmF3KXt2YXIgc3RyPWVycm9yLmV2aWRlbmNlLnN1YnN0cihlcnJvci5jaGFyYWN0ZXIpO3N0cj1zdHIuY2hhckF0KHN0ci5zZWFyY2goL1xcXFxTLykpLFxcXCJlcnJvclxcXCI9PW1heEVycm9yTGV2ZWwmJnN0ciYmL1tcXFxcd1xcXFxkeyhbJ1xcXCJdLy50ZXN0KHN0cik/KGVycm9yLnJlYXNvbj0nTWlzc2luZyBcXFwiO1xcXCIgYmVmb3JlIHN0YXRlbWVudCcsdHlwZT1cXFwiZXJyb3JcXFwiKTp0eXBlPVxcXCJpbmZvXFxcIn1lbHNle2lmKGRpc2FibGVkV2FybmluZ3NSZS50ZXN0KHJhdykpY29udGludWU7aW5mb1JlLnRlc3QocmF3KT90eXBlPVxcXCJpbmZvXFxcIjplcnJvcnNSZS50ZXN0KHJhdyk/KGVycm9yQWRkZWQ9ITAsdHlwZT1tYXhFcnJvckxldmVsKTpcXFwiJ3thfScgaXMgbm90IGRlZmluZWQuXFxcIj09cmF3P3R5cGU9XFxcIndhcm5pbmdcXFwiOlxcXCIne2F9JyBpcyBkZWZpbmVkIGJ1dCBuZXZlciB1c2VkLlxcXCI9PXJhdyYmKHR5cGU9XFxcImluZm9cXFwiKX1lcnJvcnMucHVzaCh7cm93OmVycm9yLmxpbmUtMSxjb2x1bW46ZXJyb3IuY2hhcmFjdGVyLTEsdGV4dDplcnJvci5yZWFzb24sdHlwZTp0eXBlLHJhdzpyYXd9KX19dGhpcy5zZW5kZXIuZW1pdChcXFwiYW5ub3RhdGVcXFwiLGVycm9ycyl9fS5jYWxsKEphdmFTY3JpcHRXb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoXFxcImFjZS9saWIvZXM1LXNoaW1cXFwiLFtcXFwicmVxdWlyZVxcXCIsXFxcImV4cG9ydHNcXFwiLFxcXCJtb2R1bGVcXFwiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIEVtcHR5KCl7fWZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsXFxcInNlbnRpbmVsXFxcIix7fSksXFxcInNlbnRpbmVsXFxcImluIG9iamVjdH1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSBcXFwiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LFxcXCJfX2RlZmluZUdldHRlcl9fXFxcIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLFxcXCJYWFhcXFwiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwfSgpKXt2YXIgYXJyYXlfc3BsaWNlPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydCxkZWxldGVDb3VudCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsW3ZvaWQgMD09PXN0YXJ0PzA6c3RhcnQsdm9pZCAwPT09ZGVsZXRlQ291bnQ/dGhpcy5sZW5ndGgtc3RhcnQ6ZGVsZXRlQ291bnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpOltdfX1lbHNlIEFycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24ocG9zLHJlbW92ZUNvdW50KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO3Bvcz4wP3Bvcz5sZW5ndGgmJihwb3M9bGVuZ3RoKTp2b2lkIDA9PXBvcz9wb3M9MDowPnBvcyYmKHBvcz1NYXRoLm1heChsZW5ndGgrcG9zLDApKSxsZW5ndGg+cG9zK3JlbW92ZUNvdW50fHwocmVtb3ZlQ291bnQ9bGVuZ3RoLXBvcyk7dmFyIHJlbW92ZWQ9dGhpcy5zbGljZShwb3MscG9zK3JlbW92ZUNvdW50KSxpbnNlcnQ9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYWRkPWluc2VydC5sZW5ndGg7aWYocG9zPT09bGVuZ3RoKWFkZCYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNle3ZhciByZW1vdmU9TWF0aC5taW4ocmVtb3ZlQ291bnQsbGVuZ3RoLXBvcyksdGFpbE9sZFBvcz1wb3MrcmVtb3ZlLHRhaWxOZXdQb3M9dGFpbE9sZFBvcythZGQtcmVtb3ZlLHRhaWxDb3VudD1sZW5ndGgtdGFpbE9sZFBvcyxsZW5ndGhBZnRlclJlbW92ZT1sZW5ndGgtcmVtb3ZlO2lmKHRhaWxPbGRQb3M+dGFpbE5ld1Bvcylmb3IodmFyIGk9MDt0YWlsQ291bnQ+aTsrK2kpdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtlbHNlIGlmKHRhaWxOZXdQb3M+dGFpbE9sZFBvcylmb3IoaT10YWlsQ291bnQ7aS0tOyl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2lmKGFkZCYmcG9zPT09bGVuZ3RoQWZ0ZXJSZW1vdmUpdGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNlIGZvcih0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSthZGQsaT0wO2FkZD5pOysraSl0aGlzW3BvcytpXT1pbnNlcnRbaV19cmV0dXJuIHJlbW92ZWR9O0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuXFxcIltvYmplY3QgQXJyYXldXFxcIj09X3RvU3RyaW5nKG9iail9KTt2YXIgYm94ZWRTdHJpbmc9T2JqZWN0KFxcXCJhXFxcIiksc3BsaXRTdHJpbmc9XFxcImFcXFwiIT1ib3hlZFN0cmluZ1swXXx8ISgwIGluIGJveGVkU3RyaW5nKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCx0aGlzcD1hcmd1bWVudHNbMV0saT0tMSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDtsZW5ndGg+KytpOylpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCksdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0W2ldPWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZnVuKXt2YXIgdmFsdWUsb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PVtdLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHZhbHVlPXNlbGZbaV0sZnVuLmNhbGwodGhpc3AsdmFsdWUsaSxvYmplY3QpJiZyZXN1bHQucHVzaCh2YWx1ZSkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZXZlcnl8fChBcnJheS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJlxcXCJbb2JqZWN0IFN0cmluZ11cXFwiPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdChcXFwiXFxcIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITA7cmV0dXJuITF9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZihcXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bitcXFwiIGlzIG5vdCBhIGZ1bmN0aW9uXFxcIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXFxcIik7dmFyIHJlc3VsdCxpPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2krK107YnJlYWt9aWYoKytpPj1sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpfWZvcig7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKFxcXCJbb2JqZWN0IEZ1bmN0aW9uXVxcXCIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuK1xcXCIgaXMgbm90IGEgZnVuY3Rpb25cXFwiKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVxcXCIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigwPi0taSl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcXFwiKX1kbyBpIGluIHRoaXMmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7d2hpbGUoaS0tKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xPT1bMCwxXS5pbmRleE9mKDEsMil8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiZcXFwiW29iamVjdCBTdHJpbmddXFxcIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoXFxcIlxcXCIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxpPWk+PTA/aTpNYXRoLm1heCgwLGxlbmd0aCtpKTtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZzZWxmW2ldPT09c291Z2h0KXJldHVybiBpO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMT09WzAsMV0ubGFzdEluZGV4T2YoMCwtMyl8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmXFxcIltvYmplY3QgU3RyaW5nXVxcXCI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KFxcXCJcXFwiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9bGVuZ3RoLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9TWF0aC5taW4oaSx0b0ludGVnZXIoYXJndW1lbnRzWzFdKSkpLGk9aT49MD9pOmxlbmd0aC1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIHNlbGYmJnNvdWdodD09PXNlbGZbaV0pcmV0dXJuIGk7cmV0dXJuLTF9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX3x8KG9iamVjdC5jb25zdHJ1Y3Rvcj9vYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlOnByb3RvdHlwZU9mT2JqZWN0KX0pLCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgRVJSX05PTl9PQkpFQ1Q9XFxcIk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogXFxcIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKG93bnMob2JqZWN0LHByb3BlcnR5KSl7dmFyIGRlc2NyaXB0b3IsZ2V0dGVyLHNldHRlcjtpZihkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0sc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0O3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3J9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCl9KSwhT2JqZWN0LmNyZWF0ZSl7dmFyIGNyZWF0ZUVtcHR5O2NyZWF0ZUVtcHR5PW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGVtcHR5PXt9O2Zvcih2YXIgaSBpbiBlbXB0eSllbXB0eVtpXT1udWxsO3JldHVybiBlbXB0eS5jb25zdHJ1Y3Rvcj1lbXB0eS5oYXNPd25Qcm9wZXJ0eT1lbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lbXB0eS5pc1Byb3RvdHlwZU9mPWVtcHR5LnRvTG9jYWxlU3RyaW5nPWVtcHR5LnRvU3RyaW5nPWVtcHR5LnZhbHVlT2Y9ZW1wdHkuX19wcm90b19fPW51bGwsZW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciBvYmplY3Q7aWYobnVsbD09PXByb3RvdHlwZSlvYmplY3Q9Y3JlYXRlRW1wdHkoKTtlbHNle2lmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoXFxcInR5cGVvZiBwcm90b3R5cGVbXFxcIit0eXBlb2YgcHJvdG90eXBlK1xcXCJdICE9ICdvYmplY3QnXFxcIik7dmFyIFR5cGU9ZnVuY3Rpb24oKXt9O1R5cGUucHJvdG90eXBlPXByb3RvdHlwZSxvYmplY3Q9bmV3IFR5cGUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9cmV0dXJuIHZvaWQgMCE9PXByb3BlcnRpZXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCxwcm9wZXJ0aWVzKSxvYmplY3R9fWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIGRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdD1kb2VzRGVmaW5lUHJvcGVydHlXb3JrKHt9KSxkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb209XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkb2N1bWVudHx8ZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKSk7aWYoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdHx8IWRlZmluZVByb3BlcnR5V29ya3NPbkRvbSl2YXIgZGVmaW5lUHJvcGVydHlGYWxsYmFjaz1PYmplY3QuZGVmaW5lUHJvcGVydHl9aWYoIU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ZGVmaW5lUHJvcGVydHlGYWxsYmFjayl7dmFyIEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1I9XFxcIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiBcXFwiLEVSUl9OT05fT0JKRUNUX1RBUkdFVD1cXFwiT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0OiBcXFwiLEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRD1cXFwiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkIG9uIHRoaXMgamF2YXNjcmlwdCBlbmdpbmVcXFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBvYmplY3QmJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9UQVJHRVQrb2JqZWN0KTtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRlc2NyaXB0b3ImJlxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiBkZXNjcmlwdG9yfHxudWxsPT09ZGVzY3JpcHRvcil0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IrZGVzY3JpcHRvcik7aWYoZGVmaW5lUHJvcGVydHlGYWxsYmFjayl0cnl7cmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3Qsb2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IpfWNhdGNoKGV4Y2VwdGlvbil7fWlmKG93bnMoZGVzY3JpcHRvcixcXFwidmFsdWVcXFwiKSlpZihzdXBwb3J0c0FjY2Vzc29ycyYmKGxvb2t1cEdldHRlcihvYmplY3QscHJvcGVydHkpfHxsb29rdXBTZXR0ZXIob2JqZWN0LHByb3BlcnR5KSkpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0LGRlbGV0ZSBvYmplY3RbcHJvcGVydHldLG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1lbHNlIG9iamVjdFtwcm9wZXJ0eV09ZGVzY3JpcHRvci52YWx1ZTtlbHNle2lmKCFzdXBwb3J0c0FjY2Vzc29ycyl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7b3ducyhkZXNjcmlwdG9yLFxcXCJnZXRcXFwiKSYmZGVmaW5lR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLmdldCksb3ducyhkZXNjcmlwdG9yLFxcXCJzZXRcXFwiKSYmZGVmaW5lU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yLnNldCl9cmV0dXJuIG9iamVjdH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXN8fChPYmplY3QuZGVmaW5lUHJvcGVydGllcz1mdW5jdGlvbihvYmplY3QscHJvcGVydGllcyl7Zm9yKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKW93bnMocHJvcGVydGllcyxwcm9wZXJ0eSkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QscHJvcGVydHkscHJvcGVydGllc1twcm9wZXJ0eV0pO3JldHVybiBvYmplY3R9KSxPYmplY3Quc2VhbHx8KE9iamVjdC5zZWFsPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5mcmVlemV8fChPYmplY3QuZnJlZXplPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pO3RyeXtPYmplY3QuZnJlZXplKGZ1bmN0aW9uKCl7fSl9Y2F0Y2goZXhjZXB0aW9uKXtPYmplY3QuZnJlZXplPWZ1bmN0aW9uKGZyZWV6ZU9iamVjdCl7cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIG9iamVjdD9vYmplY3Q6ZnJlZXplT2JqZWN0KG9iamVjdCl9fShPYmplY3QuZnJlZXplKX1pZihPYmplY3QucHJldmVudEV4dGVuc2lvbnN8fChPYmplY3QucHJldmVudEV4dGVuc2lvbnM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmlzU2VhbGVkfHwoT2JqZWN0LmlzU2VhbGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNGcm96ZW58fChPYmplY3QuaXNGcm96ZW49ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0V4dGVuc2libGV8fChPYmplY3QuaXNFeHRlbnNpYmxlPWZ1bmN0aW9uKG9iamVjdCl7aWYoT2JqZWN0KG9iamVjdCk9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IodmFyIG5hbWU9XFxcIlxcXCI7b3ducyhvYmplY3QsbmFtZSk7KW5hbWUrPVxcXCI/XFxcIjtvYmplY3RbbmFtZV09ITA7dmFyIHJldHVyblZhbHVlPW93bnMob2JqZWN0LG5hbWUpO3JldHVybiBkZWxldGUgb2JqZWN0W25hbWVdLHJldHVyblZhbHVlfSksIU9iamVjdC5rZXlzKXt2YXIgaGFzRG9udEVudW1CdWc9ITAsZG9udEVudW1zPVtcXFwidG9TdHJpbmdcXFwiLFxcXCJ0b0xvY2FsZVN0cmluZ1xcXCIsXFxcInZhbHVlT2ZcXFwiLFxcXCJoYXNPd25Qcm9wZXJ0eVxcXCIsXFxcImlzUHJvdG90eXBlT2ZcXFwiLFxcXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVxcXCIsXFxcImNvbnN0cnVjdG9yXFxcIl0sZG9udEVudW1zTGVuZ3RoPWRvbnRFbnVtcy5sZW5ndGg7Zm9yKHZhciBrZXkgaW57dG9TdHJpbmc6bnVsbH0paGFzRG9udEVudW1CdWc9ITE7T2JqZWN0LmtleXM9ZnVuY3Rpb24ob2JqZWN0KXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG9iamVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKFxcXCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0XFxcIik7dmFyIGtleXM9W107Zm9yKHZhciBuYW1lIGluIG9iamVjdClvd25zKG9iamVjdCxuYW1lKSYma2V5cy5wdXNoKG5hbWUpO2lmKGhhc0RvbnRFbnVtQnVnKWZvcih2YXIgaT0wLGlpPWRvbnRFbnVtc0xlbmd0aDtpaT5pO2krKyl7dmFyIGRvbnRFbnVtPWRvbnRFbnVtc1tpXTtvd25zKG9iamVjdCxkb250RW51bSkmJmtleXMucHVzaChkb250RW51bSl9cmV0dXJuIGtleXN9fURhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pO3ZhciB3cz1cXFwiXFx0XFxcXG5cXHUwMDBiXFxcXGZcXFxcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcXFx1MjAyOFxcXFx1MjAyOe+7v1xcXCI7aWYoIVN0cmluZy5wcm90b3R5cGUudHJpbXx8d3MudHJpbSgpKXt3cz1cXFwiW1xcXCIrd3MrXFxcIl1cXFwiO3ZhciB0cmltQmVnaW5SZWdleHA9UmVnRXhwKFxcXCJeXFxcIit3cyt3cytcXFwiKlxcXCIpLHRyaW1FbmRSZWdleHA9UmVnRXhwKHdzK3dzK1xcXCIqJFxcXCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybih0aGlzK1xcXCJcXFwiKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCxcXFwiXFxcIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLFxcXCJcXFwiKX19dmFyIHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiY2FuJ3QgY29udmVydCBcXFwiK28rXFxcIiB0byBvYmplY3RcXFwiKTtyZXR1cm4gT2JqZWN0KG8pfX0pO1wiOyIsIlxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IG9yYnRDdHJscyBmcm9tICd0aHJlZS1vcmJpdC1jb250cm9scyc7XHJcbmltcG9ydCBUaHJlZVJlbmRlcmVyIGZyb20gJy4vVGhyZWVSZW5kZXJlci5qc3gnO1xyXG5jb25zdCBPcmJpdENvbnRyb2xzID0gb3JidEN0cmxzKFRIUkVFKTtcclxuXHJcbmNsYXNzIE9yYml0VGhyZWVWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgLy8gU2V0dXAgT3JiaXRDb250cm9scyBjYW1lcmFcclxuICAgIGxldCBjYW52YXNTaXplID0ge1xyXG4gICAgICB3aWR0aDogNTEyLFxyXG4gICAgICBoZWlnaHQ6IDUxMlxyXG4gICAgfTtcclxuICAgIGxldCBhc3BlY3QgPSBjYW52YXNTaXplLndpZHRoIC8gY2FudmFzU2l6ZS5oZWlnaHQ7XHJcbiAgICBsZXQgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDcwLjAvKmRlZyovLCBhc3BlY3QsIDAuMSwgMTAwMDAuMCk7XHJcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDEwKTtcclxuICAgIGNhbWVyYS51cGRhdGVNYXRyaXgoKTtcclxuICAgIGNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO1xyXG4gICAgdGhpcy5jdHJsc0NhbSA9IGNhbWVyYTtcclxuICAgIC8vIEluaXRpYWxpemUgc3RhdGVcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGNhbnZhc1NpemUsXHJcbiAgICAgIGNhbWVyYSxcclxuICAgICAgem9vbTogNzAuMFxyXG4gICAgfTtcclxuICAgIC8vIEluaXRpYWxpemUgYm91bmQgbWV0aG9kc1xyXG4gICAgdGhpcy51cGRhdGVTaXplU3RhdGUgPSB0aGlzLnVwZGF0ZVNpemVTdGF0ZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnVwZGF0ZVNpemVTdGF0ZSk7XHJcbiAgICB0aGlzLnVwZGF0ZVNpemVTdGF0ZSgpO1xyXG5cclxuICAgIGxldCBvcmJpdENvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jdHJsc0NhbSwgUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzW1wiYW5jaG9yXCJdKSk7XHJcbiAgICBvcmJpdENvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmN0cmxzQ2FtLnVwZGF0ZU1hdHJpeCgpO1xyXG4gICAgICB0aGlzLmN0cmxzQ2FtLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2NhbWVyYTogdGhpcy5jdHJsc0NhbS5jbG9uZSgpfSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMub3JiaXRDb250cm9scyA9IG9yYml0Q29udHJvbHM7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMudXBkYXRlU2l6ZVN0YXRlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNpemVTdGF0ZSgpIHtcclxuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHRoaXMucmVmc1tcImFuY2hvclwiXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHRoaXMuY3RybHNDYW0uYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICB0aGlzLmN0cmxzQ2FtLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjYW52YXNTaXplOiB7d2lkdGgsIGhlaWdodH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q3VycmVudENhbWVyYSgpIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLmNhbWVyYTtcclxuICB9XHJcbiAgXHJcbiAgdXBkYXRlWm9vbShkZWx0YSkge1xyXG4gICAgY29uc3Qge3pvb219ID0gdGhpcy5zdGF0ZTtcclxuICAgIGNvbnN0IGNhbWVyYSA9IHRoaXMuY3RybHNDYW07XHJcbiAgICBsZXQgbmV3Wm9vbSA9IHpvb20gKyBkZWx0YTtcclxuICAgIGlmIChuZXdab29tIDw9IDApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FtZXJhLmZvdiA9IG5ld1pvb207XHJcbiAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHpvb206IG5ld1pvb20sXHJcbiAgICAgICAgY2FtZXJhOiBjYW1lcmEuY2xvbmUoKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHpvb21QYWxldHRlU3R5bGUgPSB7XHJcbiAgICAgIHpJbmRleDogMTAsIFxyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBcclxuICAgICAgdG9wOiAwLCBcclxuICAgICAgbGVmdDogMFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xyXG4gICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiByZWY9XCJhbmNob3JcIiBzdHlsZT17Y29udGFpbmVyU3R5bGV9PlxyXG4gICAgICAgIDxUaHJlZVJlbmRlcmVyIFxyXG4gICAgICAgICAgd2lkdGg9e3RoaXMuc3RhdGUuY2FudmFzU2l6ZS53aWR0aH0gXHJcbiAgICAgICAgICBoZWlnaHQ9e3RoaXMuc3RhdGUuY2FudmFzU2l6ZS5oZWlnaHR9IFxyXG4gICAgICAgICAgc2NlbmU9e3RoaXMucHJvcHMuc2NlbmV9IFxyXG4gICAgICAgICAgY2FtZXJhPXt0aGlzLnN0YXRlLmNhbWVyYX0gLz5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt6b29tUGFsZXR0ZVN0eWxlfT5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnRoaXMudXBkYXRlWm9vbSgtNS4wKX0+KzwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+dGhpcy51cGRhdGVab29tKDUuMCl9Pi08L2J1dHRvbj5cclxuICAgICAgICAgIDxzcGFuPkZPVjoge3RoaXMuc3RhdGUuem9vbX0gZGVncmVlczwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgT3JiaXRUaHJlZVZpZXc7XHJcbiIsIlxyXG5pbXBvcnQge25vb3AsIHRpbWVzLCBjb25zdGFudCwgZGlmZmVyZW5jZX0gZnJvbSAnbG9kYXNoJztcclxuaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBicmFjZSBmcm9tICdicmFjZSc7XHJcbmltcG9ydCBBY2VFZGl0b3IgZnJvbSAncmVhY3QtYWNlJztcclxuY29uc3QgUmFuZ2UgPSBicmFjZS5hY2VxdWlyZSgnYWNlL3JhbmdlJykuUmFuZ2U7XHJcblxyXG5pbXBvcnQgJ2JyYWNlL21vZGUvamF2YXNjcmlwdCc7XHJcbmltcG9ydCAnYnJhY2UvdGhlbWUvbW9ub2thaSc7XHJcbmltcG9ydCAnYnJhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzJzsvLyB0aGlzIG1vZHVsZSBpcyBpbXBvcnRlZCB0byBnZXQgcmlkIG9mIFwibWlzcGVsbGVkIG9wdGlvbnNcIiB3YXJuaW5nIGZyb20gcmVhY3QtYWNlXHJcblxyXG5pbXBvcnQge3ZhbGlkU291cmNlLCBzb3VyY2VUb0FzdH0gZnJvbSAnLi4vUnVubmVyL1BhcnNpbmcvcHJvZ3JhbS5qcyc7XHJcbmltcG9ydCB7bm9kZXNDb250YWluaW5nQ29vcmRzLCBzaWduZWRMaXRlcmFsTm9kZXMsIG5vZGVBdFBhdGh9IGZyb20gJy4uL1J1bm5lci9QYXJzaW5nL3Byb2dyYW0tcXVlcmllcy5qcyc7XHJcbmltcG9ydCB7cmVjb2duaXplcnMgYXMgTm9kZVAsIGNvbnN0cnVjdG9ycyBhcyBOb2Rlc30gZnJvbSAnLi4vUnVubmVyL1BhcnNpbmcvYXN0LXV0aWxzLmpzJztcclxuaW1wb3J0ICogYXMgZHJhZ21hbmFnZXIgZnJvbSAnLi9kcmFnLW1hbmFnZXIuanMnO1xyXG5cclxuLypcclxuICBBY2UgZG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL2FqYXhvcmcvYWNlL3dpa2lcclxuKi9cclxuXHJcblxyXG4vKlxyXG5Qcm9ncmFtRWRpdG9yXHJcbiAgQSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIHRoZSBVSSBvZiBlZGl0aW5nIGEgcHJvZ3JhbS5cclxuICBJdCBoYXMgdG8gaGF2ZSBhIHdheSBvZiBjb21tdW5pY2F0aW5nL3NpZ25hbGluZyB0aGF0IGl0IHByb2R1Y2VkIGEgbmV3IHZlcnNpb24gb2YgdGhlIHByb2dyYW0uXHJcbiAgSXQgaXMganVzdCBhIHRvcC1sZXZlbC9hYnN0cmFjdCBjb21wb25lbnQgYXMgaXQgZG9lc24ndCBpbXBvc2UgYW55IHNwZWNpZmljIHdheSBvZiBlZGl0aW5nIHRoZSBwcm9ncmFtLlxyXG4gIENvbXBvc2l0ZUVkaXRvclxyXG4gICAgRWRpdHMgYSBwYXJ0IG9mIGEgcHJvZ3JhbSB1c2luZyBvdGhlciBlZGl0b3JzLlxyXG4gIFRleHRGcmFnbWVudEVkaXRvclxyXG4gICAgRWRpdHMgYSBwYXJ0IG9mIGEgcHJvZ3JhbSB1c2luZyB0aGUgbm9ybWFsIHRleHQgZWRpdG9yLlxyXG4gIExvY2tlZFZpZXdcclxuICAgIEEgcGFydCBvZiB0aGUgZWRpdG9yIHRoYXQgaXMgbm90IGJlaW5nIGVkaXRlZCByaWdodCBub3cuXHJcbkN1cnNvcnNcclxuICBEb2VzIGl0IGhhdmUgY3Vyc29ycyBjb250cm9sbGVkIGJ5IHRoZSBrZXlib2FyZD9cclxuICBEb2VzIGl0IGhhdmUgbW91c2UgaW50ZXJhY3Rpb24/XHJcbiAgSWYgdGhlcmUgYXJlIG11bHRpcGxlIHR5cGVzIG9mIGVkaXRvcnMsIGhvdyBkbyB3ZSBtYW5hZ2UgY3Vyc29ycyBhbmQgbW91c2UgaW50ZXJhY3Rpb24/XHJcbiovXHJcbi8vIFRPRE8gSGFuZGxlIHN5bnRhY3RpY2FsbHkgaW52YWxpZCB0ZXh0IHByb2dyYW1zLlxyXG4vLyBUT0RPIEhpZGUgYWNlIGVkaXRvciBkaXNvcmllbnRhdGlvbiB3aGVuIHRoZSBwcm9ncmFtIGlzIHVwZGF0ZWQuXHJcbi8vICAgQWRkaW5nIHRleHQgYnkgcGFzdGluZyBvciB0eXBpbmcgb24gdG9wIG9mIGEgc2VsZWN0aW9uIHdpbGwgY2F1c2UgXHJcbi8vICB0d28gY2hhbmdlIGV2ZW50cyBpbnN0ZWFkIG9mIG9uZS5cclxuLy8gVE9ETyBSZW1vdmUgbG9vcCBvZiBhY2UgZWRpdG9yIGNoYW5nZXMuXHJcbi8vICBBY2VFZGl0b3IgY2FsbHMgb25DaGFuZ2UgYm90aCB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIGVkaXRvciBhbmQgd2hlbiBSZWFjdCByZS1yZW5kZXJzXHJcbi8vICBJdCBlbWl0cyBhIFwiZGVsZXRlIGV2ZXJ5dGhpbmdcIiBjaGFuZ2UgZm9sbG93ZWQgYnkgYSBcInRoaXMgaXMgdGhlIG5ldyBjb250ZW50c1wiIGNoYW5nZS5cclxuLy8gIFRoaXMgYmVoYXZpb3IgYnJlYWtzIEFjZSdzIGphdmFzY3JpcHQgbGludGluZy5cclxuLy8gVE9ETyBDb252ZXJ0IGFjZSBlZGl0b3IgY2hhbmdlcyBpbnRvIHByb2dyYW0gY2hhbmdlcy5cclxuLy8gVE9ETyBGaWd1cmUgb3V0IGhvdyB0byBrZWVwIHRoZSBjaGFuZ2VzIG1hZGUgYnkgdXNpbmcgQWNlIEVkaXRvciB3aXRob3V0XHJcbi8vc2VuZGluZyBhIHN5bnRhdGljYWxseSBpbnZhbGlkIHByb2dyYW0gdG8gdGhlIG9uVmFsaWRQcm9ncmFtIGNhbGxiYWNrLlxyXG5cclxuY2xhc3MgUHJvZ3JhbUVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgLypcclxuICAgIFByb3BzOlxyXG4gICAgICAtIHByb2dyYW1cclxuICAgICAgLSBub2RlRGVjb3JhdGlvbnMge0FycmF5LjxOb2RlRGVjb3JhdGlvbj59XHJcbiAgICAgIC0gb25WYWxpZFByb2dyYW1cclxuICAgICAgLSBvbkhvdmVyZWROb2RlXHJcbiAgICAgIC0gb25DbGlja2VkTm9kZVxyXG4gICAgU3RhdGU6XHJcbiAgICAgIC0gYXN0XHJcbiAgICAgIC0gZHJhZ2dpbmdcclxuICAqL1xyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHthc3QsIGRyYWdnaW5nfSA9IHRoaXMuc3RhdGU7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgb25Nb3VzZU1vdmU9e2FzdCAhPT0gbnVsbCA/IHRoaXMuaGFuZGxlTW91c2VNb3ZlIDogbm9vcH1cclxuICAgICAgICBvbk1vdXNlRG93bj17YXN0ICE9PSBudWxsID8gdGhpcy5oYW5kbGVNb3VzZURvd24gOiBub29wfVxyXG4gICAgICAgIG9uQ2xpY2s9e2FzdCAhPT0gbnVsbCA/IHRoaXMuaGFuZGxlQ2xpY2sgOiBub29wfT5cclxuICAgICAgICA8QWNlRWRpdG9yXHJcbiAgICAgICAgICByZWY9XCJhY2VFZGl0b3JcIlxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMucHJvZ3JhbX1cclxuICAgICAgICAgIG1vZGU9XCJqYXZhc2NyaXB0XCJcclxuICAgICAgICAgIHRoZW1lPVwibW9ub2thaVwiXHJcbiAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXHJcbiAgICAgICAgICBmb250U2l6ZT17MTZ9XHJcbiAgICAgICAgICB0YWJTaXplPXsyfVxyXG4gICAgICAgICAgZWRpdG9yUHJvcHM9e3skYmxvY2tTY3JvbGxpbmc6IEluZmluaXR5fX1cclxuICAgICAgICAgIHNldE9wdGlvbnM9e3tkcmFnRW5hYmxlZDogZmFsc2UsIHNjcm9sbFBhc3RFbmQ6IDAuOS8qc2NyZWVuIHNpemUqL319XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2RyYWdnaW5nID8gJ3Byb2ctZWRpdG9yLW5vLXNlbGVjdGlvbicgOiAnJ30vPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXN0OiB2YWxpZFNvdXJjZShwcm9wcy5wcm9ncmFtKSBcclxuICAgICAgICA/IHNvdXJjZVRvQXN0KHByb3BzLnByb2dyYW0pXHJcbiAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIGRyYWdnaW5nOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIC8vIEluaXRpYWxpemUgc3RhdGUuXHJcbiAgICB0aGlzLmluaXRpYWxpemVEZWNvcmF0aW9ucygpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplU2xpZGVyTWFya2VycygpO1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBib3VuZCBtZXRob2RzLlxyXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUgPSB0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVNb3VzZURvd24gPSB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgdGhpcy5hY2VFZGl0b3IgPSB0aGlzLnJlZnNbXCJhY2VFZGl0b3JcIl0uZWRpdG9yO1xyXG4gICAgdGhpcy51cGRhdGVTbGlkZXJNYXJrZXJzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZURlY29yYXRpb25zKHRoaXMucHJvcHMubm9kZURlY29yYXRpb25zKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMpIHtcclxuICAgIGNvbnN0IHtwcm9ncmFtfSA9IG5ld1Byb3BzO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFzdDogdmFsaWRTb3VyY2UocHJvZ3JhbSlcclxuICAgICAgICA/IHNvdXJjZVRvQXN0KHByb2dyYW0pXHJcbiAgICAgICAgOiBudWxsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgIHRoaXMudXBkYXRlU2xpZGVyTWFya2VycygpO1xyXG4gICAgdGhpcy51cGRhdGVEZWNvcmF0aW9ucyh0aGlzLnByb3BzLm5vZGVEZWNvcmF0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVNb3VzZURvd24obW91c2VEb3duRXZlbnQpIHtcclxuICAgIC8vIEJlZ2luIHNsaWRlciBiZWhhdmlvciB3aGVuIG5lY2Vzc2FyeS5cclxuICAgIHRoaXMudHJ5U3RhcnRDb25zdGFudEFkanVzdG1lbnQobW91c2VEb3duRXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTW91c2VNb3ZlKG1vdXNlTW92ZUV2ZW50KSB7XHJcbiAgICBsZXQgcHJvZ3JhbUNvb3JkcyA9IHRoaXMubW91c2VFdmVudFRvRXNwcmltYUNvb3Jkcyhtb3VzZU1vdmVFdmVudCk7XHJcbiAgICBsZXQge2RlZXBlc3ROb2RlLCBib3R0b21VcE5vZGVzfSA9IG5vZGVzQ29udGFpbmluZ0Nvb3Jkcyh0aGlzLnN0YXRlLmFzdCwgcHJvZ3JhbUNvb3Jkcyk7XHJcbiAgICB0aGlzLnByb3BzLm9uSG92ZXJlZE5vZGUoe1xyXG4gICAgICBub2RlOiBkZWVwZXN0Tm9kZSxcclxuICAgICAgcGF0aDogYm90dG9tVXBOb2Rlc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDbGljayhjbGlja0V2ZW50KSB7XHJcbiAgICBsZXQgcHJvZ3JhbUNvb3JkcyA9IHRoaXMubW91c2VFdmVudFRvRXNwcmltYUNvb3JkcyhjbGlja0V2ZW50KTtcclxuICAgIGxldCB7ZGVlcGVzdE5vZGUsIGJvdHRvbVVwTm9kZXN9ID0gbm9kZXNDb250YWluaW5nQ29vcmRzKHRoaXMuc3RhdGUuYXN0LCBwcm9ncmFtQ29vcmRzKTtcclxuICAgIHRoaXMucHJvcHMub25DbGlja2VkTm9kZSh7XHJcbiAgICAgIG5vZGU6IGRlZXBlc3ROb2RlLFxyXG4gICAgICBwYXRoOiBib3R0b21VcE5vZGVzXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZShuZXdTb3VyY2UpIHtcclxuICAgIHRoaXMucHJvcHMub25Qcm9ncmFtQ2hhbmdlKG5ld1NvdXJjZSk7XHJcbiAgICBpZiAodmFsaWRTb3VyY2UobmV3U291cmNlKSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uVmFsaWRQcm9ncmFtKG5ld1NvdXJjZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplRGVjb3JhdGlvbnMoKSB7XHJcbiAgICB0aGlzLmRlY29yYXRpb25zVG9NYXJrZXJzID0gbmV3IE1hcCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRGVjb3JhdGlvbnMobmV3RGVjb3JhdGlvbnMpIHtcclxuICAgIGxldCBjdXJyZW50RGVjb3JhdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuZGVjb3JhdGlvbnNUb01hcmtlcnMua2V5cygpKTtcclxuICAgIGxldCBsZWF2aW5nRGVjb3JhdGlvbnMgPSBkaWZmZXJlbmNlKGN1cnJlbnREZWNvcmF0aW9ucywgbmV3RGVjb3JhdGlvbnMpO1xyXG4gICAgbGV0IGtlZXBpbmdEZWNvcmF0aW9ucyA9IGRpZmZlcmVuY2UoY3VycmVudERlY29yYXRpb25zLCBsZWF2aW5nRGVjb3JhdGlvbnMpO1xyXG4gICAgbGV0IGVudGVyaW5nRGVjb3JhdGlvbnMgPSBkaWZmZXJlbmNlKG5ld0RlY29yYXRpb25zLCBrZWVwaW5nRGVjb3JhdGlvbnMpO1xyXG4gICAgLy9SZW1vdmUgbGVhdmluZy5cclxuICAgIGxlYXZpbmdEZWNvcmF0aW9uc1xyXG4gICAgICAubWFwKGRlYyA9PiB0aGlzLmRlY29yYXRpb25zVG9NYXJrZXJzLmdldChkZWMpKVxyXG4gICAgICAuZm9yRWFjaChtYXJrZXIgPT4ge1xyXG4gICAgICAgIHRoaXMuYWNlRWRpdG9yLmdldFNlc3Npb24oKS5yZW1vdmVNYXJrZXIobWFya2VyKTtcclxuICAgICAgfSk7XHJcbiAgICBsZWF2aW5nRGVjb3JhdGlvbnMuZm9yRWFjaChkZWMgPT4ge1xyXG4gICAgICB0aGlzLmRlY29yYXRpb25zVG9NYXJrZXJzLmRlbGV0ZShkZWMpO1xyXG4gICAgfSk7XHJcbiAgICAvL0FkZCBlbnRlcmluZy5cclxuICAgIGVudGVyaW5nRGVjb3JhdGlvbnMuZm9yRWFjaChkZWMgPT4ge1xyXG4gICAgICBsZXQgbm9kZVJhbmdlID0gZ2V0Tm9kZVJhbmdlKGRlYy5ub2RlKTtcclxuICAgICAgbGV0IG1hcmtlciA9IGFkZENvbG9yZWRNYXJrZXIodGhpcy5hY2VFZGl0b3IsIG5vZGVSYW5nZSwgZGVjLmNvbG9yKTtcclxuICAgICAgdGhpcy5kZWNvcmF0aW9uc1RvTWFya2Vycy5zZXQoZGVjLCBtYXJrZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplU2xpZGVyTWFya2VycygpIHtcclxuICAgIHRoaXMuc2xpZGVyTWFya2VycyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2xpZGVyTWFya2VycygpIHtcclxuICAgIC8vIFJlbW92ZSBwcmV2aW91cyBtYXJrZXJzLlxyXG4gICAgdGhpcy5zbGlkZXJNYXJrZXJzLmZvckVhY2gobWFya2VyID0+IHtcclxuICAgICAgdGhpcy5hY2VFZGl0b3IuZ2V0U2Vzc2lvbigpLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNsaWRlck1hcmtlcnMgPSBbXTtcclxuICAgIC8vIEFkZCBjdXJyZW50IG1hcmtlcnMuXHJcbiAgICBsZXQgbnVtZXJpY0xpdGVyYWxzID0gdGhpcy5zdGF0ZS5hc3QgIT09IG51bGwgXHJcbiAgICAgID8gc2lnbmVkTGl0ZXJhbE5vZGVzKHRoaXMuc3RhdGUuYXN0KVxyXG4gICAgICA6IFtdO1xyXG4gICAgbnVtZXJpY0xpdGVyYWxzLmZvckVhY2gobGl0ZXJhbCA9PiB7XHJcbiAgICAgIGxldCByYW5nZSA9IGdldE5vZGVSYW5nZShsaXRlcmFsKTtcclxuICAgICAgbGV0IG1hcmtlciA9IHRoaXMuYWNlRWRpdG9yLmdldFNlc3Npb24oKS5hZGRNYXJrZXIocmFuZ2UsIFwiYWRqdXN0YWJsZS1oaW50XCIsIFwidGV4dFwiLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuc2xpZGVyTWFya2Vycy5wdXNoKG1hcmtlcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyeVN0YXJ0Q29uc3RhbnRBZGp1c3RtZW50KG1vdXNlRG93bkV2ZW50KSB7XHJcbiAgICBsZXQgcHJvZ3JhbUNvb3JkcyA9IHRoaXMubW91c2VFdmVudFRvRXNwcmltYUNvb3Jkcyhtb3VzZURvd25FdmVudCk7XHJcbiAgICBsZXQge2JvdHRvbVVwTm9kZXMsIHBhdGhUb0RlZXBlc3R9ID0gbm9kZXNDb250YWluaW5nQ29vcmRzKHRoaXMuc3RhdGUuYXN0LCBwcm9ncmFtQ29vcmRzKTtcclxuICAgIGxldCBzaG91bGRTdGFydCA9IE5vZGVQLmlzTnVtZXJpY0xpdGVyYWwoYm90dG9tVXBOb2Rlc1swXSk7XHJcbiAgICBpZiAoc2hvdWxkU3RhcnQpIHtcclxuICAgICAgLy8gVXBkYXRlIHN0YXRlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2RyYWdnaW5nOiB0cnVlfSk7XHJcbiAgICAgIC8vIFNldHVwIHRleHQgYWRqdXN0bWVudFxyXG4gICAgICBsZXQgcGF0aFRvTm9kZSA9IE5vZGVQLmlzU2lnbmVkTnVtZXJpY0xpdGVyYWwoYm90dG9tVXBOb2Rlc1sxXSkgXHJcbiAgICAgICAgPyBwYXRoVG9EZWVwZXN0LnNsaWNlKDAsIC0xKVxyXG4gICAgICAgIDogcGF0aFRvRGVlcGVzdDtcclxuICAgICAgbGV0IGluaXRpYWxUYXJnZXROb2RlID0gbm9kZUF0UGF0aCh0aGlzLnN0YXRlLmFzdCwgcGF0aFRvTm9kZSk7XHJcbiAgICAgIGxldCBsaXRlcmFsVGV4dCA9IGxpdGVyYWxTb3VyY2VDb2RlKGluaXRpYWxUYXJnZXROb2RlKTtcclxuICAgICAgbGV0IGNvbXBvbmVudEV4dHJhY3RvciA9IC9eKFxcK3xcXC0pPyhbMC05XSopKD86XFwuKFswLTldKykpPyQvOyAvLyBOb3QgaGFuZGxpbmcgMHggMG8gMGJcclxuICAgICAgbGV0IFssc2lnblN0cj1cIlwiLCBpbnRTdHIsIGZyYWNTdHI9XCJcIl0gPSBjb21wb25lbnRFeHRyYWN0b3IuZXhlYyhsaXRlcmFsVGV4dCk7XHJcbiAgICAgIGxldCBmcmFjRGlnaXRzTnVtID0gZnJhY1N0ci5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IHN0YXJ0aW5nSW50ID0gTnVtYmVyLnBhcnNlSW50KHNpZ25TdHIraW50U3RyK2ZyYWNTdHIpO1xyXG4gICAgICBjb25zdCBzdGFydFggPSBtb3VzZURvd25FdmVudC5jbGllbnRYO1xyXG4gICAgICBjb25zdCBvbk1vdmUgPSBtb3VzZU1vdmVFdmVudCA9PiB7XHJcbiAgICAgICAgbGV0IGRlbHRhWCA9IG1vdXNlTW92ZUV2ZW50LmNsaWVudFggLSBzdGFydFg7XHJcbiAgICAgICAgbGV0IGRlbHRhSW50ID0gTWF0aC5yb3VuZChkZWx0YVggLyA1KTtcclxuICAgICAgICBsZXQgbmV3SW50ID0gc3RhcnRpbmdJbnQgKyBkZWx0YUludDtcclxuXHJcbiAgICAgICAgbGV0IHRhcmdldE5vZGUgPSBub2RlQXRQYXRoKHRoaXMuc3RhdGUuYXN0LCBwYXRoVG9Ob2RlKTtcclxuICAgICAgICBsZXQgZG9jID0gdGhpcy5hY2VFZGl0b3IuZ2V0U2Vzc2lvbigpLmdldERvY3VtZW50KCk7XHJcbiAgICAgICAgZG9jLnJlcGxhY2UoXHJcbiAgICAgICAgICBnZXROb2RlUmFuZ2UodGFyZ2V0Tm9kZSksIFxyXG4gICAgICAgICAgbGl0ZXJhbFRleHRGcm9tSW50KG5ld0ludCwgZnJhY0RpZ2l0c051bSkpO1xyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBvblVwID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2RyYWdnaW5nOiBmYWxzZX0pO1xyXG4gICAgICB9O1xyXG4gICAgICBkcmFnbWFuYWdlci5zdGFydChtb3VzZURvd25FdmVudCwge29uTW92ZSwgb25VcH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW91c2VFdmVudFRvRXNwcmltYUNvb3Jkcyhtb3VzZUV2ZW50KSB7XHJcbiAgICAvL3RoaXMuYWNlRWRpdG9yXHJcbiAgICBsZXQge2NsaWVudFgsIGNsaWVudFl9ID0gbW91c2VFdmVudDtcclxuICAgIGxldCBzY3JlZW5Db29yZHMgPSB0aGlzLmFjZUVkaXRvci5yZW5kZXJlci5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMoY2xpZW50WCwgY2xpZW50WSk7XHJcbiAgICBsZXQgZG9jdW1lbnRDb29yZHMgPSB0aGlzLmFjZUVkaXRvci5nZXRTZXNzaW9uKCkuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlbkNvb3Jkcy5yb3csIHNjcmVlbkNvb3Jkcy5jb2x1bW4pO1xyXG4gICAgbGV0IHByb2dyYW1Db29yZHMgPSBkb2N1bWVudENvb3Jkc1RvRXNwcmltYUNvb3Jkcyhkb2N1bWVudENvb3Jkcyk7XHJcbiAgICByZXR1cm4gcHJvZ3JhbUNvb3JkcztcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIE5vZGVEZWNvcmF0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcihub2RlLCBjb2xvcikge1xyXG4gICAgdGhpcy5ub2RlID0gbm9kZTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VOb2RlRGVjb3JhdGlvbihub2RlLCBjb2xvcikge1xyXG4gIHJldHVybiBuZXcgTm9kZURlY29yYXRpb24obm9kZSwgY29sb3IpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtRWRpdG9yO1xyXG5leHBvcnQge21ha2VOb2RlRGVjb3JhdGlvbn07XHJcblxyXG5cclxuXHJcblByb2dyYW1FZGl0b3IucHJvcFR5cGVzID0ge1xyXG4gIHByb2dyYW06IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICBub2RlRGVjb3JhdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5pbnN0YW5jZU9mKE5vZGVEZWNvcmF0aW9uKSkuaXNSZXF1aXJlZCxcclxuICBvblByb2dyYW1DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uVmFsaWRQcm9ncmFtOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkhvdmVyZWROb2RlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkNsaWNrZWROb2RlOiBQcm9wVHlwZXMuZnVuY1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuLy8gQWRqdXN0YWJsZSBjb25zdGFudHMgaGVscGVyIGZ1bmN0aW9ucy5cclxuZnVuY3Rpb24gbGl0ZXJhbFNvdXJjZUNvZGUobm9kZSkge1xyXG4gIGlmIChOb2RlUC5pc1VuYXJ5RXhwcmVzc2lvbihub2RlKSkge1xyXG4gICAgcmV0dXJuIG5vZGUub3BlcmF0b3IgKyBub2RlLmFyZ3VtZW50LnJhdztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIG5vZGUucmF3O1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWJzb2x1dGVWYWx1ZVRleHRGcm9tSW50KGludCwgZnJhY0RpZ2l0c051bSkge1xyXG4gIGZ1bmN0aW9uIGdldERpZ2l0cyhpbnQpIHtcclxuICAgIGxldCBpbnREaWdpdHMgPSBbXTtcclxuICAgIGxldCBjdXJyZW50SW50ID0gTWF0aC5hYnMoaW50KTtcclxuICAgIHdoaWxlIChjdXJyZW50SW50ICE9PSAwKSB7XHJcbiAgICAgIGxldCBkaWdpdCA9IGN1cnJlbnRJbnQgJSAxMDtcclxuICAgICAgaW50RGlnaXRzLnVuc2hpZnQoZGlnaXQpO1xyXG4gICAgICBjdXJyZW50SW50ID0gTWF0aC5mbG9vcihjdXJyZW50SW50IC8gMTApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGludERpZ2l0cztcclxuICB9XHJcbiAgbGV0IGludERpZ2l0cyA9IGdldERpZ2l0cyhpbnQpO1xyXG4gIGxldCBuZWVkZWREaWdpdHMgPSBmcmFjRGlnaXRzTnVtICsgMTsgLy8gZS5nLiBYLlhYWCAoZnJhY0RpZ2l0c051bT0zKVxyXG4gIGxldCBhbGxEaWdpdHMgPSBbXHJcbiAgICAuLi50aW1lcyhNYXRoLm1heChuZWVkZWREaWdpdHMgLSBpbnREaWdpdHMubGVuZ3RoKSwgY29uc3RhbnQoXCIwXCIpKSxcclxuICAgIC4uLmludERpZ2l0c1xyXG4gIF07XHJcbiAgbGV0IG5lZWRzRGVjaW1hbFBvaW50ID0gZnJhY0RpZ2l0c051bSA+IDA7XHJcbiAgbGV0IGNvbXBsZXRlU3RyID0gbmVlZHNEZWNpbWFsUG9pbnRcclxuICAgID8gWy4uLmFsbERpZ2l0cy5zbGljZSgwLCAtZnJhY0RpZ2l0c051bSksIFwiLlwiLCAuLi5hbGxEaWdpdHMuc2xpY2UoLWZyYWNEaWdpdHNOdW0pXS5qb2luKFwiXCIpXHJcbiAgICA6IGFsbERpZ2l0cy5qb2luKFwiXCIpO1xyXG4gIHJldHVybiBjb21wbGV0ZVN0cjtcclxufVxyXG5cclxuZnVuY3Rpb24gbnVtZXJpY0xpdGVyYWxGcm9tSW50KGludCwgZnJhY0RpZ2l0c051bSkge1xyXG4gIGxldCBhYnNTdHIgPSBhYnNvbHV0ZVZhbHVlVGV4dEZyb21JbnQoaW50LCBmcmFjRGlnaXRzTnVtKTtcclxuICBsZXQgaXNOZWdhdGl2ZSA9IGludCA8IDA7XHJcbiAgcmV0dXJuIGlzTmVnYXRpdmVcclxuICAgID8gTm9kZXMudW5hcnlFeHByKFwiLVwiLCBcclxuICAgICAgICBOb2Rlcy5saXRlcmFsKE51bWJlci5wYXJzZUZsb2F0KGFic1N0ciksIGFic1N0cikpXHJcbiAgICA6IE5vZGVzLmxpdGVyYWwoTnVtYmVyLnBhcnNlRmxvYXQoYWJzU3RyKSwgYWJzU3RyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbGl0ZXJhbFRleHRGcm9tSW50KGludCwgZnJhY0RpZ2l0c051bSkge1xyXG4gIGxldCBhYnNTdHIgPSBhYnNvbHV0ZVZhbHVlVGV4dEZyb21JbnQoaW50LCBmcmFjRGlnaXRzTnVtKTtcclxuICBsZXQgc2lnblN0ciA9IGludCA8IDAgPyBcIi1cIiA6IFwiXCI7XHJcbiAgcmV0dXJuIHNpZ25TdHIgKyBhYnNTdHI7XHJcbn1cclxuXHJcblxyXG4vLyBkZXBlbmRlbmNpZXM6IFByb2dyYW0gKyBhY2VcclxuZnVuY3Rpb24gZ2V0Tm9kZVJhbmdlKGFzdE5vZGUpIHtcclxuICBjb25zdCB7c3RhcnQsIGVuZH0gPSBhc3ROb2RlLmxvYztcclxuICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LmxpbmUtMSwgc3RhcnQuY29sdW1uLCBlbmQubGluZS0xLCBlbmQuY29sdW1uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZG9jdW1lbnRDb29yZHNUb0VzcHJpbWFDb29yZHMoZG9jdW1lbnRDb29yZHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbGluZTogZG9jdW1lbnRDb29yZHMucm93ICsgMSxcclxuICAgIGNvbHVtbjogZG9jdW1lbnRDb29yZHMuY29sdW1uXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXNwcmltYUNvb3Jkc1RvRG9jdW1lbnRDb29yZHMoZXNwcmltYUNvb3Jkcykge1xyXG4gIHJldHVybiB7XHJcbiAgICByb3c6IGVzcHJpbWFDb29yZHMubGluZSAtIDEsXHJcbiAgICBjb2x1bW46IGVzcHJpbWFDb29yZHMuY29sdW1uXHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8vIGRlcGVuZGVuY2llczogYWNlICsgVEhSRUUuQ29sb3JcclxuZnVuY3Rpb24gYWRkQ29sb3JlZE1hcmtlcihhY2VFZGl0b3IsIHJhbmdlLCBjb2xvcikge1xyXG4gIGxldCBtYXJrZXIgPSBhY2VFZGl0b3IuZ2V0U2Vzc2lvbigpLmFkZER5bmFtaWNNYXJrZXIoe1xyXG4gICAgcmFuZ2U6IHJhbmdlLFxyXG4gICAgdXBkYXRlOiBub29wLFxyXG4gICAgcmVuZGVyZXI6IGRyYXdDb2xvcmVkTWFya2VyLFxyXG4gICAgY29sb3I6IGNvbG9yLmdldFN0eWxlKCksXHJcbiAgICBlZGl0b3I6IGFjZUVkaXRvclxyXG4gIH0sIHRydWUpO1xyXG4gIHJldHVybiBtYXJrZXIuaWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdDb2xvcmVkTWFya2VyKGh0bWxTdHJpbmdBcnJheSwgcmFuZ2UsIGxlZnQsIHRvcCwgY29uZmlnKSB7XHJcbiAgLy9CYXNlZCBvbjogYWNlL2xheWVyL21hcmtlciAtIGRyYXdUZXh0TWFya2VyKCkuXHJcbiAgLy9wdXNoIGh0bWwgc3RyaW5nIGludG8gaHRtbHN0cmluZ2FycmF5IHRoYXQgcmVwcmVzZW50cyB0aGUgbWFya2VyIGFzIERPTSBvYmplY3RzLlxyXG4gIGZ1bmN0aW9uIGRyYXdMaW5lKHJhbmdlLCBjbGF6eiwgZXh0cmFMZW5ndGgsIGV4dHJhU3R5bGUpIHtcclxuICAgIHZhciBoZWlnaHQgPSBsaW5lSGVpZ2h0O1xyXG4gICAgdmFyIHdpZHRoID0gKHJhbmdlLmVuZC5jb2x1bW4gKyAoZXh0cmFMZW5ndGggfHwgMCkgLSByYW5nZS5zdGFydC5jb2x1bW4pICogY29uZmlnLmNoYXJhY3RlcldpZHRoO1xyXG5cclxuICAgIHZhciB0b3AgPSBnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xyXG4gICAgdmFyIGxlZnQgPSBwYWRkaW5nICsgcmFuZ2Uuc3RhcnQuY29sdW1uICogY2hhcmFjdGVyV2lkdGg7XHJcblxyXG4gICAgaHRtbFN0cmluZ0FycmF5LnB1c2goXHJcbiAgICAgIFwiPGRpdiBjbGFzcz0nXCIsIGNsYXp6LCBcIicgc3R5bGU9J1wiLFxyXG4gICAgICBcImhlaWdodDpcIiwgaGVpZ2h0LCBcInB4O1wiLFxyXG4gICAgICBcIndpZHRoOlwiLCB3aWR0aCwgXCJweDtcIixcclxuICAgICAgXCJ0b3A6XCIsIHRvcCwgXCJweDtcIixcclxuICAgICAgXCJsZWZ0OlwiLCBsZWZ0LCBcInB4O1wiLCBleHRyYVN0eWxlIHx8IFwiXCIsIFwiJz48L2Rpdj5cIlxyXG4gICAgKTtcclxuICB9XHJcbiAgY29uc3Qge2NoYXJhY3RlcldpZHRoLCBsaW5lSGVpZ2h0fSA9IGNvbmZpZztcclxuICBjb25zdCBwYWRkaW5nID0gbGVmdCAtIHJhbmdlLnN0YXJ0LmNvbHVtbiAqIGNoYXJhY3RlcldpZHRoO1xyXG4gIGNvbnN0IHNlc3Npb24gPSB0aGlzLmVkaXRvci5nZXRTZXNzaW9uKCk7XHJcbiAgbGV0IHN0YXJ0ID0gcmFuZ2Uuc3RhcnQucm93O1xyXG4gIGxldCBlbmQgPSByYW5nZS5lbmQucm93O1xyXG4gIGxldCByb3cgPSBzdGFydDtcclxuICBsZXQgcHJldiA9IDA7IFxyXG4gIGxldCBjdXJyID0gMDtcclxuICBsZXQgbmV4dCA9IHN0YXJ0ICE9IGVuZCBcclxuICAgID8gc2Vzc2lvbi5nZXRTY3JlZW5MYXN0Um93Q29sdW1uKHJvdykgXHJcbiAgICA6IHJhbmdlLmVuZC5jb2x1bW47XHJcbiAgbGV0IGxpbmVSYW5nZSA9IG5ldyBSYW5nZShyb3csIHJhbmdlLnN0YXJ0LmNvbHVtbiwgcm93LCBjdXJyKTtcclxuICBmb3IgKDsgcm93IDw9IGVuZDsgcm93KyspIHtcclxuICAgIGxpbmVSYW5nZS5zdGFydC5yb3cgPSBsaW5lUmFuZ2UuZW5kLnJvdyA9IHJvdztcclxuICAgIGxpbmVSYW5nZS5zdGFydC5jb2x1bW4gPSByb3cgPT0gc3RhcnQgPyByYW5nZS5zdGFydC5jb2x1bW4gOiBzZXNzaW9uLmdldFJvd1dyYXBJbmRlbnQocm93KTtcclxuICAgIGxpbmVSYW5nZS5lbmQuY29sdW1uID0gbmV4dDtcclxuICAgIHByZXYgPSBjdXJyO1xyXG4gICAgY3VyciA9IG5leHQ7XHJcbiAgICBuZXh0ID0gcm93ICsgMSA8IGVuZCA/IHNlc3Npb24uZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbihyb3cgKyAxKSA6IHJvdyA9PSBlbmQgPyAwIDogcmFuZ2UuZW5kLmNvbHVtbjtcclxuICAgIGRyYXdMaW5lKFxyXG4gICAgICBsaW5lUmFuZ2UsIFxyXG4gICAgICAocm93ID09IHN0YXJ0ICA/IFwiIGFjZV9zdGFydFwiIDogXCJcIilcclxuICAgICAgICArIGdldEJvcmRlckNsYXNzKHJvdyA9PSBzdGFydCB8fCByb3cgPT0gc3RhcnQgKyAxICYmIHJhbmdlLnN0YXJ0LmNvbHVtbiwgcHJldiA8IGN1cnIsIGN1cnIgPiBuZXh0LCByb3cgPT0gZW5kKSxcclxuICAgICAgcm93ID09IGVuZCA/IDAgOiAxLCBcclxuICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yOlwiK3RoaXMuY29sb3IrXCI7XCIrXCJwb3NpdGlvbjogYWJzb2x1dGU7XCIrXCJvcGFjaXR5OiAwLjQ7XCIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Qm9yZGVyQ2xhc3ModGwsIHRyLCBiciwgYmwpIHtcclxuICByZXR1cm4gKFxyXG4gICAgXCJhY2VfYnJcIiArXHJcbiAgICAoKHRsID8gMSA6IDApIHwgKHRyID8gMiA6IDApIHwgKGJyID8gNCA6IDApIHwgKGJsID8gOCA6IDApKVxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRvcChyb3csIGxheWVyQ29uZmlnKSB7XHJcbiAgcmV0dXJuIChyb3cgLSBsYXllckNvbmZpZy5maXJzdFJvd1NjcmVlbikgKiBsYXllckNvbmZpZy5saW5lSGVpZ2h0O1xyXG59XHJcblxyXG5cclxuIiwiXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBPcmJpdFRocmVlVmlldyBmcm9tICcuL09yYml0VGhyZWVWaWV3LmpzeCc7XHJcbmltcG9ydCB7UHJvZ3JhbVJlc3VsdHN9IGZyb20gJy4uL1J1bm5lci9ydW4uanMnO1xyXG5pbXBvcnQgdG9UaHJlZSBmcm9tICcuLi9TY2VuZUdyYXBoL3RvLXRocmVlLmpzJztcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHtub29wLCBpc0VxdWFsLCBkaWZmZXJlbmNlV2l0aCwgaW50ZXJzZWN0aW9uV2l0aCwgXHJcblx0XHRcdFx0ZmxhdHRlbiwgbWFwLCBmb3JFYWNoLFxyXG5cdFx0XHRcdHRocm90dGxlLCBpc0VtcHR5fSBmcm9tICdsb2Rhc2gnO1xyXG5cclxuaW1wb3J0IHRpbWUgZnJvbSAnLi4vdXRpbHMvdGltZS5qcyc7XHJcblxyXG4vLzg4ODg4ODhiLiAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggODg4ICAgICAgICAgICAgODg4ICAgICA4ODggZDhiICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgWTg4YiAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCA4ODggICAgICAgICAgICA4ODggICAgIDg4OCBZOFAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4IDg4OCAgICAgICAgICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgIGQ4OFAgLmQ4OGIuICAuZDg4ODhiICA4ODggIDg4OCA4ODggODg4ODg4IC5kODg4OGIgWTg4YiAgIGQ4OFAgODg4ICAuZDg4Yi4gIDg4OCAgODg4ICA4ODggXHJcbi8vODg4ODg4OFBcIiBkOFAgIFk4YiA4OEsgICAgICA4ODggIDg4OCA4ODggODg4ICAgIDg4SyAgICAgIFk4OGIgZDg4UCAgODg4IGQ4UCAgWThiIDg4OCAgODg4ICA4ODggXHJcbi8vODg4IFQ4OGIgIDg4ODg4ODg4IFwiWTg4ODhiLiA4ODggIDg4OCA4ODggODg4ICAgIFwiWTg4ODhiLiAgWTg4bzg4UCAgIDg4OCA4ODg4ODg4OCA4ODggIDg4OCAgODg4IFxyXG4vLzg4OCAgVDg4YiBZOGIuICAgICAgICAgIFg4OCBZODhiIDg4OCA4ODggWTg4Yi4gICAgICAgWDg4ICAgWTg4OFAgICAgODg4IFk4Yi4gICAgIFk4OGIgODg4IGQ4OFAgXHJcbi8vODg4ICAgVDg4YiBcIlk4ODg4ICAgODg4ODhQJyAgXCJZODg4ODggODg4ICBcIlk4ODggIDg4ODg4UCcgICAgWThQICAgICA4ODggIFwiWTg4ODggICBcIlk4ODg4ODg4UFwiICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbmNsYXNzIFJlc3VsdHNWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHQvKlxyXG5cdFx0UmVzcG9uc2liaWxpdHk6IFxyXG5cdFx0XHREaXNwbGF5IGEgY29udHJvbGFibGUgM0QgdmlldyBjb250YWluaW5nIHByb2dyYW0gcmVzdWx0cyB0byB0aGUgdXNlcjsgXHJcblx0XHRcdFJlbmRlciAzRCBvYmplY3RzIHdoaWNoIG1heSBoYXZlIGRlY29yYXRpb25zIGFwcGxpZWQ7XHJcblx0XHRcdFByb3ZpZGUgaG9va3MgdG8gcmVhY3QgdG8gd2hhdCBpcyBwb2ludGVkLlxyXG5cdFx0UHJvcHM6XHJcblx0XHRcdC0gcmVzdWx0czogYSBsaXN0IG9mIHRoZSB0b3AgbGV2ZWwgcmVzdWx0cyBvZiBhIHByb2dyYW1cclxuXHRcdFx0LSByZXN1bHREZWNvcmF0aW9uczogYSBsaXN0IG9mIGRlY29yYXRpb25zIHRvIGNoYW5nZSBhcHBlYXJlbmNlIG9mIHNvbWUgcmVzdWx0IGluc3RhbmNlc1xyXG5cdFx0XHQtIG9uSG92ZXJlZFJlc3VsdEluc3RhbmNlOiBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBjdXJyZW50IGhvdmVyZWQgcmVzdWx0IGluc3RhbmNlIGNoYW5nZXNcclxuXHRcdFx0LSBvbkNsaWNrOiBhIGNhbGxiYWNrIHJlY2VpdmluZyBhbiBvYmplY3Qgd2l0aCBzdHJ1Y3R1cmUge3R5cGUsIHBhdGgsIHJlc3VsdEluc3RhbmNlfS4gXHJcblx0XHRcdFx0Q2FsbGVkIHdoZW4gUmVzdWx0c1ZpZXcgaXMgY2xpY2tlZFxyXG5cdFx0U3RhdGU6XHJcblx0XHRcdC0gdGhyZWVDb252ZXJ0ZWRSZXN1bHRzIHtUaHJlZUNvbnZlcnRlZFJlc3VsdHN9XHJcblx0XHRcdC0gaGFuZGxlTW91c2VNb3ZlIHtGdW5jdGlvbn0gZWl0aGVyIG5vb3Agb3IgZGV0ZWN0IHJlc3VsdCBpbnN0YW5jZSBiZWxvdyBtb3VzZVxyXG5cdCovXHJcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHRcdC8vSW5pdGlhbGl6ZSBib3VuZCBtZXRob2RzLlxyXG5cdFx0dGhpcy5oYW5kbGVNb3VzZU1vdmUgPSB0aHJvdHRsZSh0aGlzLmhhbmRsZU1vdXNlTW92ZS5iaW5kKHRoaXMpLCAxMDAvKm1zZWMqLyk7XHJcblx0XHR0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xyXG5cdFx0Ly9Jbml0aWFsaXplIHN0YXRlLlxyXG5cdFx0dGhpcy5pbml0aWFsaXplUmVzdWx0RGVjb3JhdGlvbnMoKTtcclxuXHRcdHRoaXMuc3RhdGUgPSB0aGlzLmNvbXB1dGVTdGF0ZSh7cmVzdWx0RGVjb3JhdGlvbnM6IFtdfSwgcHJvcHMpO1xyXG5cdH1cclxuXHJcblx0Y29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcykge1xyXG5cdFx0Y29uc3Qgb2xkUHJvcHMgPSB0aGlzLnByb3BzO1xyXG5cdFx0dGhpcy5zZXRTdGF0ZSh0aGlzLmNvbXB1dGVTdGF0ZShvbGRQcm9wcywgbmV3UHJvcHMpKTtcclxuXHR9XHJcblxyXG5cdC8vODg4ICAgICA4ODggICAgICAgICAgICAgICA4ODggICAgICAgICAgODg4ICAgICAgICAgICAgXHJcblx0Ly84ODggICAgIDg4OCAgICAgICAgICAgICAgIDg4OCAgICAgICAgICA4ODggICAgICAgICAgICBcclxuXHQvLzg4OCAgICAgODg4ICAgICAgICAgICAgICAgODg4ICAgICAgICAgIDg4OCAgICAgICAgICAgIFxyXG5cdC8vODg4ICAgICA4ODggODg4ODhiLiAgIC5kODg4ODggIDg4ODhiLiAgODg4ODg4IC5kODhiLiAgXHJcblx0Ly84ODggICAgIDg4OCA4ODggXCI4OGIgZDg4XCIgODg4ICAgICBcIjg4YiA4ODggICBkOFAgIFk4YiBcclxuXHQvLzg4OCAgICAgODg4IDg4OCAgODg4IDg4OCAgODg4IC5kODg4ODg4IDg4OCAgIDg4ODg4ODg4IFxyXG5cdC8vWTg4Yi4gLmQ4OFAgODg4IGQ4OFAgWTg4YiA4ODggODg4ICA4ODggWTg4Yi4gWThiLiAgICAgXHJcblx0Ly8gXCJZODg4ODhQXCIgIDg4ODg4UFwiICAgXCJZODg4ODggXCJZODg4ODg4ICBcIlk4ODggXCJZODg4OCAgXHJcblx0Ly8gICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHQvLyAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdC8vICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5cdGNvbXB1dGVTdGF0ZShvbGRQcm9wcywgbmV3UHJvcHMpIHtcclxuXHRcdC8vIENvbXB1dGUgdGhyZWVPYmplY3RzIGFuZCByZWxhdGlvbnMgYmV0d2VlbiB0aHJlZU9iamVjdHMgYW5kIHJlc3VsdHMuXHJcblx0XHRsZXQgc2hvdWxkQ29tcHV0ZU9iamVjdHMgPSBvbGRQcm9wcy5yZXN1bHRzICE9PSBuZXdQcm9wcy5yZXN1bHRzO1xyXG5cdFx0bGV0IHByb2dyYW1SZXN1bHRzID0gbmV3UHJvcHMucmVzdWx0cy5yZXN1bHRzLnRvcExldmVsRXhwclJlc3VsdHMudmFsdWVzKCk7XHJcblx0XHRsZXQgdGhyZWVDb252ZXJ0ZWRSZXN1bHRzID0gc2hvdWxkQ29tcHV0ZU9iamVjdHNcclxuXHRcdFx0PyB0aW1lKFwidGhyZWUgY29udmVydGlvblwiLCAoKSA9PiB0b1RocmVlLmNvbnZlcnQua2VlcGluZ0NvcnJlc3BvbmRlbmNlKHByb2dyYW1SZXN1bHRzKSlcclxuXHRcdFx0OiB0aGlzLnN0YXRlLnRocmVlQ29udmVydGVkUmVzdWx0cztcclxuXHJcblx0XHQvLyBBcHBseSByZXN1bHRJbnN0YW5jZSBkZWNvcmF0aW9ucy5cclxuXHRcdC8vIFVwZGF0ZSBpZiBwcmV2IGFuZCBjdXJyIGFyZSBub3QgZXF1YWxcclxuXHRcdC8vIG5leHREZWNzIC0gaW50ZXJzZWN0aW9uICE9PSBlbXB0eVxyXG5cdFx0bGV0IGxlbmd0aHNEaWZmZXIgPSBuZXdQcm9wcy5yZXN1bHREZWNvcmF0aW9ucy5sZW5ndGggIT09IG9sZFByb3BzLnJlc3VsdERlY29yYXRpb25zLmxlbmd0aDtcclxuXHRcdGxldCBpbnRlckRlY3MgPSBpbnRlcnNlY3Rpb25XaXRoKG5ld1Byb3BzLnJlc3VsdERlY29yYXRpb25zLCBvbGRQcm9wcy5yZXN1bHREZWNvcmF0aW9ucyxcclxuXHRcdFx0XHRpc0RlY29yYXRpb25FcXVhbCk7XHJcblx0XHRsZXQgc2hvdWxkVXBkYXRlRGVjb3JhdGlvbnMgPSBsZW5ndGhzRGlmZmVyIHx8ICFpc0VtcHR5KFxyXG5cdFx0XHRkaWZmZXJlbmNlV2l0aChuZXdQcm9wcy5yZXN1bHREZWNvcmF0aW9ucywgaW50ZXJEZWNzLCBpc0RlY29yYXRpb25FcXVhbCkpO1xyXG5cdFx0aWYoc2hvdWxkVXBkYXRlRGVjb3JhdGlvbnMpIHtcclxuXHRcdFx0dGhpcy51cGRhdGVSZXN1bHREZWNvcmF0aW9ucyh0aHJlZUNvbnZlcnRlZFJlc3VsdHMsIG5ld1Byb3BzLnJlc3VsdERlY29yYXRpb25zKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGhyZWVTY2VuZSA9IHNob3VsZENvbXB1dGVPYmplY3RzIHx8IHNob3VsZFVwZGF0ZURlY29yYXRpb25zXHJcblx0XHRcdD8gdGhpcy5jb21wdXRlVGhyZWVTY2VuZSh0aHJlZUNvbnZlcnRlZFJlc3VsdHMudGhyZWVPYmplY3RzKVxyXG5cdFx0XHQ6IHRoaXMuc3RhdGUudGhyZWVTY2VuZTtcclxuXHJcblx0XHQvLyBSZXR1cm4gdGhlIG5ldyBjb21wbGV0ZSBzdGF0ZS5cclxuXHRcdGxldCBzaG91bGRIYW5kbGVIb3ZlcnMgPSAhIW5ld1Byb3BzLm9uSG92ZXJlZFJlc3VsdEluc3RhbmNlO1xyXG5cdFx0bGV0IHNob3VsZEhhbmRsZUNsaWNrcyA9ICEhbmV3UHJvcHMub25DbGljaztcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRocmVlQ29udmVydGVkUmVzdWx0cyxcclxuXHRcdFx0dGhyZWVTY2VuZSxcclxuXHRcdFx0aGFuZGxlTW91c2VNb3ZlOiBzaG91bGRIYW5kbGVIb3ZlcnMgXHJcblx0XHRcdFx0PyB0aGlzLmhhbmRsZU1vdXNlTW92ZVxyXG5cdFx0XHRcdDogbm9vcCxcclxuXHRcdFx0aGFuZGxlQ2xpY2s6IHNob3VsZEhhbmRsZUNsaWNrc1xyXG5cdFx0XHRcdD8gdGhpcy5oYW5kbGVDbGlja1xyXG5cdFx0XHRcdDogbm9vcFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGNvbXB1dGVUaHJlZVNjZW5lKHRocmVlT2JqZWN0cykge1xyXG5cdFx0bGV0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcblx0XHRzY2VuZS5hZGQoXHJcblx0XHRcdHRoaXMuY29tcHV0ZVN0YXRpY1RocmVlT2JqZWN0cygpLCBcclxuXHRcdFx0dGhpcy5jb21wdXRlUmVzdWx0SW5zdGFuY2VUaHJlZU9iamVjdHModGhyZWVPYmplY3RzKSk7Ly8gb3IgdGhyZWVDb252ZXJ0ZWRSZXN1bHRzLmdldE9iamVjdHMoKVxyXG5cdFx0cmV0dXJuIHNjZW5lO1xyXG5cdH1cclxuXHJcblx0Y29tcHV0ZVJlc3VsdEluc3RhbmNlVGhyZWVPYmplY3RzKHRocmVlT2JqZWN0cykge1xyXG5cdFx0Ly8gVGhlIHByb2dyYW0ncyByZXN1bHRzIGFyZSBpbiBaIGlzIHVwIGNvb3JkaW5hdGVzLlxyXG5cdFx0Ly8gVGhleSBuZWVkIHRvIGJlIHJvdGF0ZWQgYmFjayBpbnRvIFkgaXMgdXAgY29vcmRpbmF0ZXMgdG8gZml0IE9wZW5HTCdzIHN0YW5kYXJkLlxyXG5cdFx0Ly8gV2UgZG8gdGhpcyBieSByb3RhdGluZyBhbGwgcmVzdWx0cyAtcGkvMiByYWRpYW5zIGFyb3VuZCB0aGUgeCBheGlzLlxyXG5cdFx0bGV0IG9iamVjdEdyb3VwID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XHJcblx0XHRvYmplY3RHcm91cC5hZGQobmV3IFRIUkVFLk9iamVjdDNEKCksIC4uLnRocmVlT2JqZWN0cyk7XHJcblx0XHRvYmplY3RHcm91cC5yb3RhdGVPbkF4aXMobmV3IFRIUkVFLlZlY3RvcjMoMS4wLCAwLjAsIDAuMCksIC1NYXRoLlBJLzIuMCk7XHJcblx0XHRyZXR1cm4gb2JqZWN0R3JvdXA7XHJcblx0fVxyXG5cclxuXHRjb21wdXRlU3RhdGljVGhyZWVPYmplY3RzKCkge1xyXG5cdFx0Ly8gY3JlYXRlIGxpZ2h0c1xyXG5cdFx0Y29uc3Qgc3VuTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZjYSwgMC41KTtcclxuXHRcdHN1bkxpZ2h0LnBvc2l0aW9uLnNldCgwLjIsIDEsIDAuMyk7XHJcblx0XHRjb25zdCBiZWxvd0xpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmY2EsIDAuMSk7XHJcblx0XHRiZWxvd0xpZ2h0LnBvc2l0aW9uLnNldCgtMC4xLCAtMSwgLTAuNClcclxuXHRcdGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhmZmZmYmIsIDB4MDgwODIwLCAwLjQpO1xyXG5cdFx0Ly8gY3JlYXRlIGdsb2JhbCBjb29yZGluYXRlcyBoZWxwZXJzXHJcblx0XHRjb25zdCBncmlkSGVscGVyID0gbmV3IFRIUkVFLkdyaWRIZWxwZXIoMTAwLCAxKTtcclxuXHRcdGdyaWRIZWxwZXIuc2V0Q29sb3JzKDB4ODg4ODg4LCAweDQ0NDQ0NCk7XHJcblx0XHRjb25zdCBheGlzSGVscGVyID0gbmV3IFRIUkVFLkF4aXNIZWxwZXIoNSk7XHJcblx0XHRheGlzSGVscGVyLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShuZXcgVEhSRUUuVmVjdG9yMygxLCAwLCAwKSwgLU1hdGguUEkvMi4wKTtcclxuXHRcdGNvbnN0IHN0YXRpY1Jvb3QgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcclxuXHRcdHN0YXRpY1Jvb3QuYWRkKHN1bkxpZ2h0LCBiZWxvd0xpZ2h0LCBoZW1pTGlnaHQsIGdyaWRIZWxwZXIsIGF4aXNIZWxwZXIpO1xyXG5cdFx0cmV0dXJuIHN0YXRpY1Jvb3Q7XHJcblx0fVxyXG5cclxuXHRpbml0aWFsaXplUmVzdWx0RGVjb3JhdGlvbnMoKSB7XHJcblx0XHR0aGlzLmRlY29yYXRpb25Ub09iamVjdHMgPSBuZXcgTWFwKCk7XHJcblx0XHR0aGlzLm9iamVjdFRvT2xkTWF0ZXJpYWwgPSBuZXcgV2Vha01hcCgpO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlUmVzdWx0RGVjb3JhdGlvbnModGhyZWVDb252ZXJ0ZWRSZXN1bHRzLCBkZWNvcmF0aW9ucykge1xyXG5cdFx0Ly90aHJlZUNvbnZlcnRlZFJlc3VsdHMuYWRkRGVjb3JhdGlvbigpXHJcblx0XHQvL3RocmVlQ29udmVydGVkUmVzdWx0cy5yZW1vdmVEZWNvcmF0aW9uKClcclxuXHJcblx0XHRjb25zdCBkZWNvcmF0aW9uVG9PYmplY3RzID0gdGhpcy5kZWNvcmF0aW9uVG9PYmplY3RzO1xyXG5cdFx0Y29uc3Qgb2JqZWN0VG9PbGRNYXRlcmlhbCA9IHRoaXMub2JqZWN0VG9PbGRNYXRlcmlhbDtcclxuXHJcblx0XHRsZXQgcHJldkRlY29yYXRpb25zID0gQXJyYXkuZnJvbShkZWNvcmF0aW9uVG9PYmplY3RzLmtleXMoKSk7XHJcblx0XHRsZXQgZW50ZXJpbmdEZWNvcmF0aW9ucyA9IGRpZmZlcmVuY2VXaXRoKGRlY29yYXRpb25zLCBwcmV2RGVjb3JhdGlvbnMsIGlzRGVjb3JhdGlvbkVxdWFsKTtcclxuXHRcdGxldCBsZWF2aW5nRGVjb3JhdGlvbnMgPSBkaWZmZXJlbmNlV2l0aChwcmV2RGVjb3JhdGlvbnMsIGRlY29yYXRpb25zLCBpc0RlY29yYXRpb25FcXVhbCk7XHJcblxyXG5cdFx0Zm9yRWFjaChsZWF2aW5nRGVjb3JhdGlvbnMsIGQ9PntcclxuXHRcdFx0Ly9SZXN0b3JlIGRlY29yYXRpb24ncyBvYmplY3RzIG1hdGVyaWFscy5cclxuXHRcdFx0Zm9yRWFjaChkZWNvcmF0aW9uVG9PYmplY3RzLmdldChkKSwgb2JqPT57XHJcblx0XHRcdFx0b2JqLm1hdGVyaWFsID0gb2JqZWN0VG9PbGRNYXRlcmlhbC5nZXQob2JqKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vQ2xlYXIgZGVjb3JhdGlvblRvT2JqZWN0cyBlbnRyeS5cclxuXHRcdFx0ZGVjb3JhdGlvblRvT2JqZWN0cy5kZWxldGUoZCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRmb3JFYWNoKGVudGVyaW5nRGVjb3JhdGlvbnMsIGQ9PntcclxuXHRcdFx0Ly9HZXQgb2JqZWN0cyBhZmZlY3RlZCBieSBkZWNvcmF0aW9uLlxyXG5cdFx0XHRsZXQgZGVjTWVzaGVzID0gZmxhdHRlbihcclxuXHRcdFx0XHRtYXAoXHJcblx0XHRcdFx0XHR0aHJlZU9iamVjdHNGb3JEZWNvcmF0aW9uKGQsIHRocmVlQ29udmVydGVkUmVzdWx0cyksIFxyXG5cdFx0XHRcdFx0Z2V0TWVzaGVzKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHQvL0FkZCBkZWNvcmF0aW9uVG9PYmplY3RzIGVudHJ5LlxyXG5cdFx0XHRkZWNvcmF0aW9uVG9PYmplY3RzLnNldChkLCBkZWNNZXNoZXMpO1xyXG5cdFx0XHQvL1NhdmUgZGVjb3JhdGlvbidzIG9iamVjdHMgb3JpZ2luYWwgbWF0ZXJpYWxzLlxyXG5cdFx0XHRmb3JFYWNoKGRlY01lc2hlcywgbWVzaD0+e1xyXG5cdFx0XHRcdGlmKCFvYmplY3RUb09sZE1hdGVyaWFsLmhhcyhtZXNoKSkge1xyXG5cdFx0XHRcdFx0b2JqZWN0VG9PbGRNYXRlcmlhbC5zZXQobWVzaCwgbWVzaC5tYXRlcmlhbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9TZXQgYWZmZWN0ZWQgb2JqZWN0cycgbWF0ZXJpYWxzIHRvIHRoZSBvbmUgZnJvbSB0aGUgZGVjb3JhdGlvbi5cclxuXHRcdFx0bGV0IGRlY01hdGVyaWFsID0gZGVjb3JhdGlvbk1hdGVyaWFsKGQpO1xyXG5cdFx0XHRmb3JFYWNoKGRlY01lc2hlcywgbWVzaD0+e1xyXG5cdFx0XHRcdG1lc2gubWF0ZXJpYWwgPSBkZWNNYXRlcmlhbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0XHJcblx0Ly84ODg4ODg4Yi4gIGQ4YiAgICAgICAgICA4ODggICAgICBkOGIgICAgICAgICAgICAgICAgICAgXHJcblx0Ly84ODggICBZODhiIFk4UCAgICAgICAgICA4ODggICAgICBZOFAgICAgICAgICAgICAgICAgICAgXHJcblx0Ly84ODggICAgODg4ICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0Ly84ODggICBkODhQIDg4OCAgLmQ4ODg4YiA4ODggIDg4OCA4ODggODg4ODhiLiAgIC5kODhiLiAgXHJcblx0Ly84ODg4ODg4UFwiICA4ODggZDg4UFwiICAgIDg4OCAuODhQIDg4OCA4ODggXCI4OGIgZDg4UFwiODhiIFxyXG5cdC8vODg4ICAgICAgICA4ODggODg4ICAgICAgODg4ODg4SyAgODg4IDg4OCAgODg4IDg4OCAgODg4IFxyXG5cdC8vODg4ICAgICAgICA4ODggWTg4Yi4gICAgODg4IFwiODhiIDg4OCA4ODggIDg4OCBZODhiIDg4OCBcclxuXHQvLzg4OCAgICAgICAgODg4ICBcIlk4ODg4UCA4ODggIDg4OCA4ODggODg4ICA4ODggIFwiWTg4ODg4IFxyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4IFxyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFk4YiBkODhQIFxyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlk4OFBcIiAgXHJcblxyXG5cdGhhbmRsZU1vdXNlTW92ZShtb3VzZU1vdmVFdmVudCkge1xyXG5cdFx0bGV0IGNvb3JkcyA9IG1vdXNlRXZlbnROb3JtYWxpemVkRGV2aWNlQ29vcmRzKG1vdXNlTW92ZUV2ZW50KTtcclxuXHRcdGxldCBwaWNrUmVzdWx0ID0gdGhpcy5waWNrKGNvb3Jkcyk7XHJcblx0XHR0aGlzLnByb3BzLm9uSG92ZXJlZFJlc3VsdEluc3RhbmNlKHBpY2tSZXN1bHQpO1xyXG5cdH1cclxuXHJcblx0aGFuZGxlQ2xpY2soY2xpY2tFdmVudCkge1xyXG5cdFx0bGV0IGNvb3JkcyA9IG1vdXNlRXZlbnROb3JtYWxpemVkRGV2aWNlQ29vcmRzKGNsaWNrRXZlbnQpO1xyXG5cdFx0bGV0IHBpY2tSZXN1bHQgPSB0aGlzLnBpY2soY29vcmRzKTtcclxuXHRcdHRoaXMucHJvcHMub25DbGljayh7XHJcblx0XHRcdHR5cGU6IHBpY2tSZXN1bHQucGF0aC5sZW5ndGggPT09IDBcclxuXHRcdFx0XHQ/IFJlc3VsdHNWaWV3LlZvaWRDbGlja1xyXG5cdFx0XHRcdDogUmVzdWx0c1ZpZXcuUmVzdWx0SW5zdGFuY2VDbGljayxcclxuXHRcdFx0cmVzdWx0SW5zdGFuY2U6IHBpY2tSZXN1bHQucmVzdWx0SW5zdGFuY2UsXHJcblx0XHRcdHBhdGg6IHBpY2tSZXN1bHQucGF0aFxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cdHBpY2sobm9ybURldkNvb3Jkcykge1xyXG5cdFx0bGV0IG9iamVjdEJlbG93TW91c2UgPSBwaWNrQ2xvc2VzdChub3JtRGV2Q29vcmRzLCB0aGlzLmdldENhbWVyYSgpLCB0aGlzLnN0YXRlLnRocmVlQ29udmVydGVkUmVzdWx0cy50aHJlZU9iamVjdHMpO1xyXG5cdFx0bGV0IHBhdGggPSBidWlsZFJlc3VsdEluc3RhbmNlUGF0aChvYmplY3RCZWxvd01vdXNlLCB0aGlzLnN0YXRlLnRocmVlQ29udmVydGVkUmVzdWx0cy50aHJlZU9iamVjdFRvUmVzdWx0KTtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3VsdEluc3RhbmNlOiBwYXRoWzBdLFxyXG5cdFx0XHRwYXRoXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0Ly84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICBcclxuXHQvLzg4OCAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgIFxyXG5cdC8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgXHJcblx0Ly84ODggICBkODhQIC5kODhiLiAgODg4ODhiLiAgIC5kODg4ODggIC5kODhiLiAgODg4ZDg4OCBcclxuXHQvLzg4ODg4ODhQXCIgZDhQICBZOGIgODg4IFwiODhiIGQ4OFwiIDg4OCBkOFAgIFk4YiA4ODhQXCIgICBcclxuXHQvLzg4OCBUODhiICA4ODg4ODg4OCA4ODggIDg4OCA4ODggIDg4OCA4ODg4ODg4OCA4ODggICAgIFxyXG5cdC8vODg4ICBUODhiIFk4Yi4gICAgIDg4OCAgODg4IFk4OGIgODg4IFk4Yi4gICAgIDg4OCAgICAgXHJcblx0Ly84ODggICBUODhiIFwiWTg4ODggIDg4OCAgODg4ICBcIlk4ODg4OCAgXCJZODg4OCAgODg4ICAgICBcclxuXHQvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcblx0Z2V0Q2FtZXJhKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVmc1tcInRocmVldmlld1wiXS5nZXRDdXJyZW50Q2FtZXJhKCk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2IG9uTW91c2VNb3ZlPXt0aGlzLnN0YXRlLmhhbmRsZU1vdXNlTW92ZX1cclxuXHRcdFx0XHRvbkNsaWNrPXt0aGlzLnN0YXRlLmhhbmRsZUNsaWNrfT5cclxuXHRcdFx0XHQ8T3JiaXRUaHJlZVZpZXcgXHJcblx0XHRcdFx0XHRyZWY9XCJ0aHJlZXZpZXdcIlxyXG5cdFx0XHRcdFx0c2NlbmU9e3RoaXMuc3RhdGUudGhyZWVTY2VuZX0vPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG59XHJcblxyXG4vLzg4ODg4ODg4ODg4IDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZDg4ODg4Yi4gIDg4OCAgICAgICBkOGIgICAgICAgICAgXHJcbi8vICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDg4UFwiIFwiWTg4YiA4ODggICAgICAgWThQICAgICAgICAgIFxyXG4vLyAgICA4ODggICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgODg4IDg4OCAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgIDg4OCAgICAgODg4ODhiLiAgODg4ZDg4OCAuZDg4Yi4gICAuZDg4Yi4gICAgICAgODg4ICAgICA4ODggODg4ODhiLiAgODg4OCAuZDg4ODhiICBcclxuLy8gICAgODg4ICAgICA4ODggXCI4OGIgODg4UFwiICBkOFAgIFk4YiBkOFAgIFk4YiAgICAgIDg4OCAgICAgODg4IDg4OCBcIjg4YiBcIjg4OCA4OEsgICAgICBcclxuLy8gICAgODg4ICAgICA4ODggIDg4OCA4ODggICAgODg4ODg4ODggODg4ODg4ODggICAgICA4ODggICAgIDg4OCA4ODggIDg4OCAgODg4IFwiWTg4ODhiLiBcclxuLy8gICAgODg4ICAgICA4ODggIDg4OCA4ODggICAgWThiLiAgICAgWThiLiAgICAgICAgICBZODhiLiAuZDg4UCA4ODggZDg4UCAgODg4ICAgICAgWDg4IFxyXG4vLyAgICA4ODggICAgIDg4OCAgODg4IDg4OCAgICAgXCJZODg4OCAgIFwiWTg4ODggICAgICAgIFwiWTg4ODg4UFwiICA4ODg4OFBcIiAgIDg4OCAgODg4ODhQJyBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ4OFAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OFBcIiAgICAgICAgICAgXHJcblxyXG5mdW5jdGlvbiBwYXJlbnRDaGFpbih0aHJlZU9iamVjdCkge1xyXG5cdGxldCByZXMgPSBbXTtcclxuXHRsZXQgY3VyVGhyZWVPYmogPSB0aHJlZU9iamVjdDtcclxuXHR3aGlsZShjdXJUaHJlZU9iaikge1xyXG5cdFx0cmVzLnB1c2goY3VyVGhyZWVPYmopO1xyXG5cdFx0Y3VyVGhyZWVPYmogPSBjdXJUaHJlZU9iai5wYXJlbnQ7XHJcblx0fVxyXG5cdHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWVzaGVzKHRocmVlT2JqZWN0KSB7XHJcblx0bGV0IHJlcyA9IFtdO1xyXG5cdHRocmVlT2JqZWN0LnRyYXZlcnNlKG9iaj0+e1xyXG5cdFx0aWYob2JqIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xyXG5cdFx0XHRyZXMucHVzaChvYmopO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHJldHVybiByZXM7XHJcbn1cclxuXHJcbi8vODg4ODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICBkODhQIDg4ODg4ODg4ODg4IDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgZDg4UCAgICAgIDg4OCAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgIGQ4OFAgICAgICAgODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgZDg4UCAuZDg4Yi4gIC5kODg4OGIgICAgICBkODhQICAgICAgICA4ODggICAgIDg4ODg4Yi4gIDg4OGQ4ODggLmQ4OGIuICAgLmQ4OGIuICBcclxuLy84ODg4ODg4UFwiIGQ4UCAgWThiIDg4SyAgICAgICAgIGQ4OFAgICAgICAgICA4ODggICAgIDg4OCBcIjg4YiA4ODhQXCIgIGQ4UCAgWThiIGQ4UCAgWThiIFxyXG4vLzg4OCBUODhiICA4ODg4ODg4OCBcIlk4ODg4Yi4gICBkODhQICAgICAgICAgIDg4OCAgICAgODg4ICA4ODggODg4ICAgIDg4ODg4ODg4IDg4ODg4ODg4IFxyXG4vLzg4OCAgVDg4YiBZOGIuICAgICAgICAgIFg4OCAgZDg4UCAgICAgICAgICAgODg4ICAgICA4ODggIDg4OCA4ODggICAgWThiLiAgICAgWThiLiAgICAgXHJcbi8vODg4ICAgVDg4YiBcIlk4ODg4ICAgODg4ODhQJyBkODhQICAgICAgICAgICAgODg4ICAgICA4ODggIDg4OCA4ODggICAgIFwiWTg4ODggICBcIlk4ODg4ICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbi8qKlxyXG5cdEB0eXBlZGVmIFRocmVlQ29udmVydGVkUmVzdWx0c1xyXG5cdEB0eXBlIHtvYmplY3R9XHJcblx0QHByb3BlcnR5IHtBcnJheS48UHJvZ3JhbVJlc3VsdD59IHJlc3VsdHNcclxuXHRAcHJvcGVydHkge0FycmF5LjxUSFJFRS5PYmplY3QzRD59IHRocmVlT2JqZWN0c1xyXG5cdEBwcm9wZXJ0eSB7TWFwPFByb2dyYW1SZXN1bHQsQXJyYXkuPFRIUkVFLk9iamVjdDNEPj59IHJlc3VsdFRvVGhyZWVPYmplY3RzXHJcblx0QHByb3BlcnR5IHtNYXA8VEhSRUUuT2JqZWN0M0QsUHJvZ3JhbVJlc3VsdD59IHRocmVlT2JqZWN0VG9SZXN1bHRcclxuKi9cclxuLypcclxuIFRocmVlQ29udmVydGVkUmVzdWx0czogSG9sZHMgYWxsIGRhdGEgZnJvbSBjb252ZXJ0aW5nIGEgc2V0IG9mIFByb2dyYW1SZXN1bHRzXHJcbiBcdHRvIGEgc2V0IG9mIFRIUkVFLk9iamVjdDNELlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuXHRAcGFyYW0ge1RIUkVFLk9iamVjdDNEfSB0aHJlZU9iamVjdFxyXG5cdEBwYXJhbSB7TWFwPFRIUkVFLk9iamVjdDNELFByb2dyYW1SZXN1bHQ+fSB0aHJlZU9ialRvUmVzdWx0XHJcblx0QHJldHVybnMge0FycmF5LjxQcm9ncmFtUmVzdWx0Pn1cclxuKi9cclxuZnVuY3Rpb24gYnVpbGRSZXN1bHRJbnN0YW5jZVBhdGgodGhyZWVPYmplY3QsIHRocmVlT2JqVG9SZXN1bHQpIHtcclxuXHQvL2J1aWxkIHRoZSBjaGFpbiBvZiByZXN1bHRzIHVwIHRvIHRoZSB0b3AgbGV2ZWwgcmVzdWx0LlxyXG5cdHJldHVybiBwYXJlbnRDaGFpbih0aHJlZU9iamVjdClcclxuXHRcdC5maWx0ZXIobz0+dGhyZWVPYmpUb1Jlc3VsdC5oYXMobykpXHJcblx0XHQubWFwKG89PnRocmVlT2JqVG9SZXN1bHQuZ2V0KG8pKTtcclxufVxyXG5cclxuLyoqXHJcblx0QHBhcmFtIHtUSFJFRS5WZWN0b3IyfSBjb29yZCBSYXkgb3JpZ2luIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGVzLlxyXG5cdEBwYXJhbSB7VEhSRUUuQ2FtZXJhfSBjYW1lcmFcclxuXHRAcGFyYW0ge0FycmF5PFRIUkVFLk9iamVjdDNEPn0gdGhyZWVPYmplY3RzXHJcblx0QHJldHVybnMgez9USFJFRS5PYmplY3QzRH1cclxuKi9cclxuZnVuY3Rpb24gcGlja0Nsb3Nlc3QoY29vcmRzLCBjYW1lcmEsIHRocmVlT2JqZWN0cykge1xyXG5cdGNvbnN0IHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcclxuXHRyYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShjb29yZHMsIGNhbWVyYSk7XHJcblx0Y29uc3QgaW50ZXJzZWN0aW9ucyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRocmVlT2JqZWN0cywgdHJ1ZS8qcmVjdXJzaXZlKi8pO1xyXG5cdHJldHVybiBpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDBcclxuXHRcdD8gaW50ZXJzZWN0aW9uc1swXS5vYmplY3RcclxuXHRcdDogbnVsbDtcclxufVxyXG5cclxuLyoqXHJcblx0QHBhcmFtIHtSZXN1bHREZWNvcmF0aW9ufSBkZWNcclxuXHRAcGFyYW0ge1RocmVlQ29udmVydGVkUmVzdWx0c30gdGhyZWVDb252ZXJ0ZWRSZXN1bHRzXHJcblx0QHJldHVybnMge0FycmF5LjxUSFJFRS5PYmplY3QzRD59XHJcbiAqL1xyXG5mdW5jdGlvbiB0aHJlZU9iamVjdHNGb3JEZWNvcmF0aW9uKGRlYywge3RocmVlT2JqZWN0cywgcmVzdWx0VG9USFJFRU9iamVjdHMsIHRocmVlT2JqZWN0VG9SZXN1bHR9KSB7XHJcblx0ZnVuY3Rpb24gdGhyZWVPYmplY3RzRnJvbVBhdGgocGF0aCkge1xyXG5cdFx0ZnVuY3Rpb24gaGFzQXNzb2NpYXRlZFJlc3VsdCh0aHJlZU9iamVjdCkge1xyXG5cdFx0XHRyZXR1cm4gdGhyZWVPYmplY3RUb1Jlc3VsdC5oYXModGhyZWVPYmplY3QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlc3VsdCh0aHJlZU9iamVjdCkge1xyXG5cdFx0XHRyZXR1cm4gdGhyZWVPYmplY3RUb1Jlc3VsdC5nZXQodGhyZWVPYmplY3QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGJlbG9uZ3NUb1BhdGggPSBwYXRoID0+IHRocmVlT2JqZWN0ID0+IHtcclxuXHRcdFx0Ly90aHJlZU9iamVjdCBwYXJlbnRzIG1hdGNoIGVhY2ggcGF0aCdzIGVsZW1lbnRzIHRocmVlIG9iamVjdHNcclxuXHRcdFx0Y29uc3QgcGFyZW50cyA9IHBhcmVudENoYWluKHRocmVlT2JqZWN0KS5maWx0ZXIoaGFzQXNzb2NpYXRlZFJlc3VsdCk7XHJcblx0XHRcdHJldHVybiBpc0VxdWFsKHBhcmVudHMubWFwKGdldFJlc3VsdCksIHBhdGgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRsZXQgbGVhZlJlc3VsdCA9IHBhdGhbMF07XHJcblx0XHRsZXQgbGVhZk9iamVjdHMgPSByZXN1bHRUb1RIUkVFT2JqZWN0cy5nZXQobGVhZlJlc3VsdCk7XHJcblx0XHRyZXR1cm4gbGVhZk9iamVjdHMuZmlsdGVyKGJlbG9uZ3NUb1BhdGgocGF0aCkpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdGhyZWVPYmplY3RzRnJvbVJlc3VsdChyZXN1bHQpIHtcclxuXHRcdHJldHVybiByZXN1bHRUb1RIUkVFT2JqZWN0cy5nZXQocmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdGlmIChkZWMgaW5zdGFuY2VvZiBSZXN1bHRJbnN0YW5jZURlY29yYXRpb24pIHtcclxuXHRcdHJldHVybiB0aHJlZU9iamVjdHNGcm9tUGF0aChkZWMucGF0aCk7XHJcblx0fSBlbHNlIGlmIChkZWMgaW5zdGFuY2VvZiBSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbikge1xyXG5cdFx0cmV0dXJuIHRocmVlT2JqZWN0c0Zyb21SZXN1bHQoZGVjLnJlc3VsdCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIlVua25vd24gUmVzdWx0RGVjb3JhdGlvbiB0eXBlLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbi8vODg4ODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgZDhiICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgXCJZODhiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBZOFAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggIC5kODhiLiAgIC5kODg4OGIgLmQ4OGIuICA4ODhkODg4IDg4ODhiLiAgODg4ODg4IDg4OCAgLmQ4OGIuICA4ODg4OGIuICAuZDg4ODhiICBcclxuLy84ODggICAgODg4IGQ4UCAgWThiIGQ4OFBcIiAgIGQ4OFwiXCI4OGIgODg4UFwiICAgICAgXCI4OGIgODg4ICAgIDg4OCBkODhcIlwiODhiIDg4OCBcIjg4YiA4OEsgICAgICBcclxuLy84ODggICAgODg4IDg4ODg4ODg4IDg4OCAgICAgODg4ICA4ODggODg4ICAgIC5kODg4ODg4IDg4OCAgICA4ODggODg4ICA4ODggODg4ICA4ODggXCJZODg4OGIuIFxyXG4vLzg4OCAgLmQ4OFAgWThiLiAgICAgWTg4Yi4gICBZODguLjg4UCA4ODggICAgODg4ICA4ODggWTg4Yi4gIDg4OCBZODguLjg4UCA4ODggIDg4OCAgICAgIFg4OCBcclxuLy84ODg4ODg4UFwiICAgXCJZODg4OCAgIFwiWTg4ODhQIFwiWTg4UFwiICA4ODggICAgXCJZODg4ODg4ICBcIlk4ODggODg4ICBcIlk4OFBcIiAgODg4ICA4ODggIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5cclxuY2xhc3MgUmVzdWx0RGVjb3JhdGlvbiB7fVxyXG5cclxuY2xhc3MgUmVzdWx0SW5zdGFuY2VEZWNvcmF0aW9uIGV4dGVuZHMgUmVzdWx0RGVjb3JhdGlvbiB7XHJcblx0Y29uc3RydWN0b3IocGF0aCwgY29sb3IpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xyXG5cdFx0dGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgUmVzdWx0T2NvcnJlbmNlc0RlY29yYXRpb24gZXh0ZW5kcyBSZXN1bHREZWNvcmF0aW9uIHtcclxuXHRjb25zdHJ1Y3RvcihyZXN1bHQsIGNvbG9yKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy5yZXN1bHQgPSByZXN1bHQ7XHJcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlUmVzdWx0SW5zdGFuY2VEZWNvcmF0aW9uKHBhdGgsIGNvbG9yKSB7XHJcbiAgcmV0dXJuIG5ldyBSZXN1bHRJbnN0YW5jZURlY29yYXRpb24ocGF0aCwgY29sb3IpO1xyXG59XHJcbmZ1bmN0aW9uIG1ha2VSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbihyZXN1bHQsIGNvbG9yKSB7XHJcbiAgcmV0dXJuIG5ldyBSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbihyZXN1bHQsIGNvbG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVjb3JhdGlvbk1hdGVyaWFsKGRlY29yYXRpb24pIHtcclxuXHRsZXQgbWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKCk7XHJcblx0bWF0LmVtaXNzaXZlLnNldChkZWNvcmF0aW9uLmNvbG9yKTtcclxuXHRtYXQudHJhbnNwYXJlbnQgPSB0cnVlO1xyXG5cdG1hdC5vcGFjaXR5ID0gMC42O1xyXG5cdG1hdC5kZXB0aFRlc3QgPSBmYWxzZTtcclxuXHRtYXQuZGVwdGhXcml0ZSA9IGZhbHNlO1xyXG5cdG1hdC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZTtcclxuXHRyZXR1cm4gbWF0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0RlY29yYXRpb25FcXVhbChkZWMxLCBkZWMyKSB7XHJcblx0bGV0IGFyZUluc3RhbmNlRGVjcyA9IGRlYzEgaW5zdGFuY2VvZiBSZXN1bHRJbnN0YW5jZURlY29yYXRpb25cclxuXHRcdCYmIGRlYzIgaW5zdGFuY2VvZiBSZXN1bHRJbnN0YW5jZURlY29yYXRpb247XHJcblx0bGV0IGFyZU9jb3JyZW5jZURlY3MgPSBkZWMxIGluc3RhbmNlb2YgUmVzdWx0T2NvcnJlbmNlc0RlY29yYXRpb25cclxuXHRcdCYmIGRlYzIgaW5zdGFuY2VvZiBSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbjtcclxuXHRpZiAoYXJlSW5zdGFuY2VEZWNzKSB7XHJcblx0XHRyZXR1cm4gaXNFcXVhbChkZWMxLnBhdGgsIGRlYzIucGF0aCkgJiYgZGVjMS5jb2xvci5lcXVhbHMoZGVjMi5jb2xvcik7XHJcblx0fVxyXG5cdGlmIChhcmVPY29ycmVuY2VEZWNzKSB7XHJcblx0XHRyZXR1cm4gZGVjMS5yZXN1bHQgPT09IGRlYzIucmVzdWx0ICYmIGRlYzEuY29sb3IuZXF1YWxzKGRlYzIuY29sb3IpO1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8vODg4YiAgICAgZDg4OCBkOGIgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4OGIgICBkODg4OCBZOFAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ODhiLmQ4ODg4OCAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4WTg4ODg4UDg4OCA4ODggLmQ4ODg4YiAgIC5kODg4OGIgXHJcbi8vODg4IFk4ODhQIDg4OCA4ODggODhLICAgICAgZDg4UFwiICAgIFxyXG4vLzg4OCAgWThQICA4ODggODg4IFwiWTg4ODhiLiA4ODggICAgICBcclxuLy84ODggICBcIiAgIDg4OCA4ODggICAgICBYODggWTg4Yi4gICAgXHJcbi8vODg4ICAgICAgIDg4OCA4ODggIDg4ODg4UCcgIFwiWTg4ODhQIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuZnVuY3Rpb24gbW91c2VFdmVudE5vcm1hbGl6ZWREZXZpY2VDb29yZHMobW91c2VFdmVudCkge1xyXG5cdGxldCB7b2Zmc2V0WCwgb2Zmc2V0WX0gPSBtb3VzZUV2ZW50Lm5hdGl2ZUV2ZW50O1xyXG5cdGxldCB7d2lkdGgsIGhlaWdodH0gPSBtb3VzZUV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRsZXQgcmVzID0gbmV3IFRIUkVFLlZlY3RvcjIoXHJcblx0XHQob2Zmc2V0WCAvIHdpZHRoKSAqIDIgLSAxLFxyXG5cdFx0LShvZmZzZXRZIC8gaGVpZ2h0KSAqIDIgKyAxKTtcclxuXHRyZXR1cm4gcmVzO1xyXG59XHJcblxyXG5cclxuLy84ODg4ODg4ODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgIFxyXG4vLzg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBcclxuLy84ODg4ODg4ICAgIDg4OCAgODg4IDg4ODg4Yi4gICAuZDg4Yi4gIDg4OGQ4ODggODg4ODg4IFxyXG4vLzg4OCAgICAgICAgYFk4YmQ4UCcgODg4IFwiODhiIGQ4OFwiXCI4OGIgODg4UFwiICAgODg4ICAgIFxyXG4vLzg4OCAgICAgICAgICBYODhLICAgODg4ICA4ODggODg4ICA4ODggODg4ICAgICA4ODggICAgXHJcbi8vODg4ICAgICAgICAuZDhcIlwiOGIuIDg4OCBkODhQIFk4OC4uODhQIDg4OCAgICAgWTg4Yi4gIFxyXG4vLzg4ODg4ODg4ODggODg4ICA4ODggODg4ODhQXCIgICBcIlk4OFBcIiAgODg4ICAgICAgXCJZODg4IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuZXhwb3J0IHttYWtlUmVzdWx0SW5zdGFuY2VEZWNvcmF0aW9uLCBtYWtlUmVzdWx0T2NvcnJlbmNlc0RlY29yYXRpb259O1xyXG5leHBvcnQgZGVmYXVsdCBSZXN1bHRzVmlldztcclxuXHJcblxyXG5cclxuUmVzdWx0c1ZpZXcucHJvcFR5cGVzID0ge1xyXG5cdG9uSG92ZXJlZFJlc3VsdEluc3RhbmNlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuXHRvbkNsaWNrOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcclxuXHRyZXN1bHRzOiBSZWFjdC5Qcm9wVHlwZXMuaW5zdGFuY2VPZihQcm9ncmFtUmVzdWx0cyksXHJcblx0cmVzdWx0RGVjb3JhdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5pbnN0YW5jZU9mKFJlc3VsdERlY29yYXRpb24pKVxyXG59O1xyXG5cclxuUmVzdWx0c1ZpZXcuVm9pZENsaWNrID0gU3ltYm9sKFwiVm9pZENsaWNrXCIpO1xyXG5SZXN1bHRzVmlldy5SZXN1bHRJbnN0YW5jZUNsaWNrID0gU3ltYm9sKFwiUmVzdWx0SW5zdGFuY2VDbGlja1wiKTtcclxuIiwiXHJcbmltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgXywge3BhcnRpYWwsIGRlYm91bmNlLCBub29wfSBmcm9tICdsb2Rhc2gnO1xyXG5cclxuaW1wb3J0IGNvbG9yIGZyb20gJy4uL1NjZW5lR3JhcGgvY29sb3IuanMnO1xyXG5pbXBvcnQge0NvbHVtblNwbGl0LCBSb3dTcGxpdCwgSG9yaXpvbnRhbEJhciwgQ2hlY2tib3h9IGZyb20gJy4vZ2VuZXJpYy5qc3gnO1xyXG5pbXBvcnQgUHJvZ3JhbUVkaXRvciwge21ha2VOb2RlRGVjb3JhdGlvbn0gZnJvbSAnLi9Qcm9ncmFtRWRpdG9yLmpzeCc7XHJcbmltcG9ydCBSZXN1bHRzVmlldywge21ha2VSZXN1bHRJbnN0YW5jZURlY29yYXRpb24sIG1ha2VSZXN1bHRPY29ycmVuY2VzRGVjb3JhdGlvbn0gZnJvbSAnLi9SZXN1bHRzVmlldy5qc3gnO1xyXG5cclxuaW1wb3J0IHtydW5XaXRoVHJhY2VhYmlsaXR5LCBydW5Ob3JtYWxseSwgZW1wdHlSZXN1bHRzfSBmcm9tICcuLi9SdW5uZXIvcnVuLmpzJztcclxuaW1wb3J0IHtnZXROb2RlUmVzdWx0cywgZ2V0UmVzdWx0Q3JlYXRvck5vZGV9IGZyb20gJy4uL1J1bm5lci9ydW4tcXVlcmllcy5qcyc7XHJcblxyXG5pbXBvcnQge3ZhbGlkU291cmNlfSBmcm9tICcuLi9SdW5uZXIvUGFyc2luZy9wcm9ncmFtLmpzJztcclxuXHJcbmltcG9ydCB0aW1lIGZyb20gJy4uL3V0aWxzL3RpbWUuanMnO1xyXG5cclxuXHJcbi8vICAgICAgIGQ4ODg4ICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcbi8vICAgICAgZDg4ODg4ICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcbi8vICAgICBkODhQODg4ICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcbi8vICAgIGQ4OFAgODg4ICAuZDg4ODhiIDg4ODg4OCA4ODggIDg4OCAgODg4OGIuICA4ODggXHJcbi8vICAgZDg4UCAgODg4IGQ4OFBcIiAgICA4ODggICAgODg4ICA4ODggICAgIFwiODhiIDg4OCBcclxuLy8gIGQ4OFAgICA4ODggODg4ICAgICAgODg4ICAgIDg4OCAgODg4IC5kODg4ODg4IDg4OCBcclxuLy8gZDg4ODg4ODg4ODggWTg4Yi4gICAgWTg4Yi4gIFk4OGIgODg4IDg4OCAgODg4IDg4OCBcclxuLy9kODhQICAgICA4ODggIFwiWTg4ODhQICBcIlk4ODggIFwiWTg4ODg4IFwiWTg4ODg4OCA4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5jb25zdCBSdW5uaW5nQ29udHJvbHNCYXIgPSAoe1xyXG4gIGF1dG9ydW4sIFxyXG4gIHRyYWNlYWJpbGl0eSwgXHJcbiAgb25BdXRvcnVuQ2xpY2ssIFxyXG4gIG9uVHJhY2VhYmlsaXR5Q2xpY2ssXHJcbiAgb25SdW5DbGlja1xyXG59KSA9PiAoXHJcbiAgPEhvcml6b250YWxCYXI+XHJcbiAgICA8Q2hlY2tib3ggbGFiZWw9J1J1biBBdXRvbWF0aWNhbGx5JyBjaGVja2VkPXthdXRvcnVufSBvbkNsaWNrPXtvbkF1dG9ydW5DbGlja30vPlxyXG4gICAgPENoZWNrYm94IGxhYmVsPSdDYXB0dXJlIFRyYWNlJyBjaGVja2VkPXt0cmFjZWFiaWxpdHl9IG9uQ2xpY2s9e29uVHJhY2VhYmlsaXR5Q2xpY2t9Lz5cclxuICAgIDxidXR0b24gb25DbGljaz17b25SdW5DbGlja30+UnVuIE5vdzwvYnV0dG9uPlxyXG4gIDwvSG9yaXpvbnRhbEJhcj5cclxuKTtcclxuXHJcbmNvbnN0IFN0YXR1c0JhciA9ICh7c3RhdHVzfSkgPT4gKFxyXG4gIDxIb3Jpem9udGFsQmFyPlxyXG4gICAgPHNwYW4+e3N0YXR1c308L3NwYW4+XHJcbiAgPC9Ib3Jpem9udGFsQmFyPlxyXG4pO1xyXG5cclxuXHJcbi8vIC5kODg4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4ODg4ODg4ODggICAgIDg4OCBkOGIgODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy9kODhQICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgODg4IFk4UCA4ODggICAgICAgICAgICAgICAgICAgIFxyXG4vL1k4OGIuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICA4ODggICAgIDg4OCAgICAgICAgICAgICAgICAgICAgXHJcbi8vIFwiWTg4OGIuICAgODg4ICA4ODggODg4ODhiLiAgIC5kODhiLiAgODg4ZDg4OCA4ODg4ODg4ICAgIC5kODg4ODggODg4IDg4ODg4OCAuZDg4Yi4gIDg4OGQ4ODggXHJcbi8vICAgIFwiWTg4Yi4gODg4ICA4ODggODg4IFwiODhiIGQ4UCAgWThiIDg4OFBcIiAgIDg4OCAgICAgICBkODhcIiA4ODggODg4IDg4OCAgIGQ4OFwiXCI4OGIgODg4UFwiICAgXHJcbi8vICAgICAgXCI4ODggODg4ICA4ODggODg4ICA4ODggODg4ODg4ODggODg4ICAgICA4ODggICAgICAgODg4ICA4ODggODg4IDg4OCAgIDg4OCAgODg4IDg4OCAgICAgXHJcbi8vWTg4YiAgZDg4UCBZODhiIDg4OCA4ODggZDg4UCBZOGIuICAgICA4ODggICAgIDg4OCAgICAgICBZODhiIDg4OCA4ODggWTg4Yi4gWTg4Li44OFAgODg4ICAgICBcclxuLy8gXCJZODg4OFBcIiAgIFwiWTg4ODg4IDg4ODg4UFwiICAgXCJZODg4OCAgODg4ICAgICA4ODg4ODg4ODg4IFwiWTg4ODg4IDg4OCAgXCJZODg4IFwiWTg4UFwiICA4ODggICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuLypcclxuICBSdW5uaW5nIGF1dG9tYXRpY2FsbHkgYW5kIGNhcHR1cmluZyB0cmFjZSB3ZXJlIGpvaW5lZCBpbiB0aGlzIGNvbXBvbmVudC4gXHJcbiAgV2hldGhlciB0byBydW4gYXV0b21hdGljYWxseSBhbmQvb3IgY2FwdHVyZSB0cmFjZSBjYW4gYmUgY29udHJvbGxlZCBcclxuYnkgdGhlIHVzZXIuXHJcbiovXHJcbmNsYXNzIFN1cGVyRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAvKlxyXG4gICAgUHJvcHM6XHJcbiAgICAgIC0gcHJvZ3JhbVxyXG4gICAgICAtIG9uUHJvZ3JhbUNoYW5nZVxyXG4gICAgU3RhdGU6XHJcbiAgICAgIC0gY3VycmVudFByb2dyYW06IHRoZSBjdXJyZW50LCBwb3NzaWJseSBtb2RpZmllZCwgdmVyc2lvbiBvZiBwcm9ncmFtXHJcbiAgICAgIC0gcmVzdWx0c1xyXG4gICAgICAtIHJ1bkF1dG9tYXRpY2FsbHlcclxuICAgICAgLSBjYXB0dXJlVHJhY2VcclxuICAgICAgICAtIHRyYWNlYWJpbGl0eUluZm9cclxuICAgICAgICAtIG5vZGVEZWNvcmF0aW9uc1xyXG4gICAgICAgIC0gcmVzdWx0RGVjb3JhdGlvbnNcclxuICAqL1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAvLyBJbml0aWFsaXplIGJvdW5kIG1ldGhvZHMuXHJcbiAgICB0aGlzLnRvZ2dsZVJ1bkF1dG9tYXRpY2FsbHkgPSB0aGlzLnRvZ2dsZVJ1bkF1dG9tYXRpY2FsbHkuYmluZCh0aGlzKTtcclxuICAgIHRoaXMudG9nZ2xlQ2FwdHVyZVRyYWNlID0gdGhpcy50b2dnbGVDYXB0dXJlVHJhY2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlUnVuID0gdGhpcy5oYW5kbGVSdW4uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlUHJvZ3JhbUNoYW5nZSA9IHRoaXMuaGFuZGxlUHJvZ3JhbUNoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5oYW5kbGVDbGlja2VkTm9kZSA9IHRoaXMuaGFuZGxlQ2xpY2tlZE5vZGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlSG92ZXJlZFJlc3VsdEluc3RhbmNlID0gdGhpcy5oYW5kbGVIb3ZlcmVkUmVzdWx0SW5zdGFuY2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaGFuZGxlUmVzdWx0c1ZpZXdDbGljayA9IHRoaXMuaGFuZGxlUmVzdWx0c1ZpZXdDbGljay5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5wZXJmb3JtUnVuID0gdGhpcy5wZXJmb3JtUnVuLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLnNjaGVkdWxlUnVuID0gZGVib3VuY2UodGhpcy5wZXJmb3JtUnVuLCAxMDAvKm1zZWMqLyk7XHJcbiAgICAvLyBJbml0aWFsaXplIHN0YXRlLlxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VycmVudFByb2dyYW06IHByb3BzLnByb2dyYW0sXHJcbiAgICAgIHJ1bkF1dG9tYXRpY2FsbHk6IHRydWUsXHJcbiAgICAgIGNhcHR1cmVUcmFjZTogdHJ1ZSxcclxuICAgICAgbm9kZURlY29yYXRpb25zOiBbXSxcclxuICAgICAgcmVzdWx0RGVjb3JhdGlvbnM6IFtdLFxyXG4gICAgICBwcm9ncmFtUmVzdWx0czogZW1wdHlSZXN1bHRzLFxyXG4gICAgICBzdGF0dXM6ICdpZGxlJ1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNjaGVkdWxlUnVuKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8Um93U3BsaXQ+XHJcbiAgICAgICAgPFJ1bm5pbmdDb250cm9sc0JhclxyXG4gICAgICAgICAgYXV0b3J1bj17dGhpcy5zdGF0ZS5ydW5BdXRvbWF0aWNhbGx5fVxyXG4gICAgICAgICAgdHJhY2VhYmlsaXR5PXt0aGlzLnN0YXRlLmNhcHR1cmVUcmFjZX1cclxuICAgICAgICAgIG9uQXV0b3J1bkNsaWNrPXt0aGlzLnRvZ2dsZVJ1bkF1dG9tYXRpY2FsbHl9XHJcbiAgICAgICAgICBvblRyYWNlYWJpbGl0eUNsaWNrPXt0aGlzLnRvZ2dsZUNhcHR1cmVUcmFjZX1cclxuICAgICAgICAgIG9uUnVuQ2xpY2s9e3RoaXMuaGFuZGxlUnVufS8+XHJcbiAgICAgICAgPENvbHVtblNwbGl0IGhlaWdodD0nY2FsYygxMDAlIC0gNmVtKSc+XHJcbiAgICAgICAgICA8UHJvZ3JhbUVkaXRvclxyXG4gICAgICAgICAgICBwcm9ncmFtPXt0aGlzLnN0YXRlLmN1cnJlbnRQcm9ncmFtfVxyXG4gICAgICAgICAgICBvblByb2dyYW1DaGFuZ2U9e3RoaXMuaGFuZGxlUHJvZ3JhbUNoYW5nZX1cclxuICAgICAgICAgICAgb25WYWxpZFByb2dyYW09e25vb3B9XHJcbiAgICAgICAgICAgIG5vZGVEZWNvcmF0aW9ucz17dGhpcy5zdGF0ZS5jYXB0dXJlVHJhY2UgPyB0aGlzLnN0YXRlLm5vZGVEZWNvcmF0aW9ucyA6IFtdfVxyXG4gICAgICAgICAgICBvbkhvdmVyZWROb2RlPXtub29wfVxyXG4gICAgICAgICAgICBvbkNsaWNrZWROb2RlPXt0aGlzLmhhbmRsZUNsaWNrZWROb2RlfS8+XHJcbiAgICAgICAgICA8UmVzdWx0c1ZpZXdcclxuICAgICAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5wcm9ncmFtUmVzdWx0c31cclxuICAgICAgICAgICAgcmVzdWx0RGVjb3JhdGlvbnM9e3RoaXMuc3RhdGUuY2FwdHVyZVRyYWNlID8gdGhpcy5zdGF0ZS5yZXN1bHREZWNvcmF0aW9ucyA6IFtdfVxyXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnN0YXRlLmNhcHR1cmVUcmFjZSA/IHRoaXMuaGFuZGxlUmVzdWx0c1ZpZXdDbGljayA6IG51bGx9Lz5cclxuICAgICAgICA8L0NvbHVtblNwbGl0PlxyXG4gICAgICAgIDxTdGF0dXNCYXIgc3RhdHVzPXt0aGlzLnN0YXRlLnN0YXR1c30vPlxyXG4gICAgICA8L1Jvd1NwbGl0PlxyXG4gICAgKTtcclxuICAgIC8vb25Ib3ZlcmVkUmVzdWx0SW5zdGFuY2U9e3RoaXMuc3RhdGUuY2FwdHVyZVRyYWNlID8gdGhpcy5oYW5kbGVIb3ZlcmVkUmVzdWx0SW5zdGFuY2UgOiBudWxsfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlUnVuQXV0b21hdGljYWxseSgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe3J1bkF1dG9tYXRpY2FsbHk6ICF0aGlzLnN0YXRlLnJ1bkF1dG9tYXRpY2FsbHl9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUNhcHR1cmVUcmFjZSgpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe2NhcHR1cmVUcmFjZTogIXRoaXMuc3RhdGUuY2FwdHVyZVRyYWNlfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSdW4oKSB7XHJcbiAgICB0aGlzLnNjaGVkdWxlUnVuKCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9ncmFtICE9PSBuZXdQcm9wcy5wcm9ncmFtKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2N1cnJlbnRQcm9ncmFtOiBuZXdQcm9wcy5wcm9ncmFtfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSkge1xyXG4gICAgY29uc3QgcHJvZ3JhbUNoYW5nZWQgPSB0aGlzLnN0YXRlLmN1cnJlbnRQcm9ncmFtICE9PSBuZXdTdGF0ZS5jdXJyZW50UHJvZ3JhbTtcclxuICAgIGNvbnN0IGNhcHR1cmVUcmFjZUNoYW5nZWQgPSB0aGlzLnN0YXRlLmNhcHR1cmVUcmFjZSAhPT0gbmV3U3RhdGUuY2FwdHVyZVRyYWNlO1xyXG4gICAgY29uc3QgY2FwdHVyZVRyYWNlTmVlZGVkID0gY2FwdHVyZVRyYWNlQ2hhbmdlZCAmJiBuZXdTdGF0ZS5jYXB0dXJlVHJhY2U7XHJcbiAgICBjb25zdCBwcm9ncmFtSXNWYWxpZCA9IHZhbGlkU291cmNlKG5ld1N0YXRlLmN1cnJlbnRQcm9ncmFtKTtcclxuICAgIGNvbnN0IHNob3VsZFNjaGVkdWxlUnVuID0gbmV3U3RhdGUucnVuQXV0b21hdGljYWxseSBcclxuICAgICAgJiYgcHJvZ3JhbUlzVmFsaWQgJiYgKHByb2dyYW1DaGFuZ2VkIHx8IGNhcHR1cmVUcmFjZU5lZWRlZCk7XHJcbiAgICBpZiAoc2hvdWxkU2NoZWR1bGVSdW4pIHtcclxuICAgICAgdGhpcy5zY2hlZHVsZVJ1bigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUHJvZ3JhbUNoYW5nZShwcm9ncmFtKSB7XHJcbiAgICBsZXQgc3RhdGVDaGFuZ2VzID0ge307XHJcbiAgICAvLyB1cGRhdGUgc3RhdHVzXHJcbiAgICBzdGF0ZUNoYW5nZXMgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZUNoYW5nZXMsIHsgXHJcbiAgICAgIHN0YXR1czogdmFsaWRTb3VyY2UocHJvZ3JhbSlcclxuICAgICAgICA/ICdjaGFuZ2VkJ1xyXG4gICAgICAgIDogJ2ludmFsaWQnXHJcbiAgICB9KTtcclxuICAgIC8vIHVwZGF0ZSB0aGUgY3VycmVudCBwcm9ncmFtXHJcbiAgICBzdGF0ZUNoYW5nZXMgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZUNoYW5nZXMsIHtjdXJyZW50UHJvZ3JhbTogcHJvZ3JhbX0pO1xyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZUNoYW5nZXMpO1xyXG4gICAgLy8gcHJvcGFnYXRlIGNoYW5nZSB0byBvd25lciBjb21wb25lbnRcclxuICAgIHRoaXMucHJvcHMub25Qcm9ncmFtQ2hhbmdlKHByb2dyYW0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2xpY2tlZE5vZGUoe25vZGUsIHBhdGh9KSB7XHJcbiAgICAvLyBpZmYgY2FwdHVyZVRyYWNlIC0+IGhpZ2hsaWdodCBub2RlIChvciBwYXJlbnQpIGFuZCBpdHMgcmVzdWx0c1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY2FwdHVyZVRyYWNlKSB7XHJcbiAgICAgIC8vIENvcGllZCBmcm9tOiBUcmFjZWFiaWxpdHlWaWV3LmpzeFxyXG4gICAgICBsZXQgaXNIb3ZlcmluZ1NvbWV0aGluZyA9IHBhdGgubGVuZ3RoID4gMTsvL1tQcm9ncmFtLCBTb21lTm9kZSwuLi5dXHJcbiAgICAgIGlmIChpc0hvdmVyaW5nU29tZXRoaW5nKSB7XHJcbiAgICAgICAgbGV0IG5vZGVDb2xvciA9IGNvbG9yLmhzbCgxMDAuMC8zNjAuMCwgMC41LCAwLjUpO1xyXG4gICAgICAgIGxldCBub2RlUmVzdWx0cyA9IGdldE5vZGVSZXN1bHRzKG5vZGUsIHBhdGgsIHRoaXMuc3RhdGUucHJvZ3JhbVJlc3VsdHMpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgbm9kZURlY29yYXRpb25zOiBbbWFrZU5vZGVEZWNvcmF0aW9uKG5vZGUsIG5vZGVDb2xvcildLFxyXG4gICAgICAgICAgcmVzdWx0RGVjb3JhdGlvbnM6IG5vZGVSZXN1bHRzLm1hcChcclxuICAgICAgICAgICAgcGFydGlhbChtYWtlUmVzdWx0T2NvcnJlbmNlc0RlY29yYXRpb24sIF8sIG5vZGVDb2xvcikpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBDbGlja2VkIHNvbWV3aGVyZSBpbiBQcm9ncmFtLlxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBub2RlRGVjb3JhdGlvbnM6IFtdLFxyXG4gICAgICAgICAgcmVzdWx0RGVjb3JhdGlvbnM6IFtdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUhvdmVyZWRSZXN1bHRJbnN0YW5jZSh7cmVzdWx0SW5zdGFuY2UsIHBhdGh9KSB7XHJcbiAgICAvLyBDb3BpZWQgZnJvbTogVHJhY2VhYmlsaXR5Vmlldy5qc3hcclxuICAgIGxldCBpc0hvdmVyaW5nU29tZXRoaW5nID0gcGF0aC5sZW5ndGggIT09IDA7XHJcbiAgICBpZiAoaXNIb3ZlcmluZ1NvbWV0aGluZykge1xyXG4gICAgICBsZXQgY3JlYXRvck5vZGUgPSBnZXRSZXN1bHRDcmVhdG9yTm9kZShyZXN1bHRJbnN0YW5jZSwgcGF0aCwgXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5wcm9ncmFtUmVzdWx0cywgdGhpcy5zdGF0ZS5jdXJyZW50UHJvZ3JhbSk7XHJcbiAgICAgIGxldCBkZWNDb2xvciA9IGNvbG9yLmhzbCg1MC4wLzM2MC4wLCAwLjUsIDAuNSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5vZGVEZWNvcmF0aW9uczogW21ha2VOb2RlRGVjb3JhdGlvbihjcmVhdG9yTm9kZSwgZGVjQ29sb3IpXSxcclxuICAgICAgICByZXN1bHREZWNvcmF0aW9uczogW21ha2VSZXN1bHRJbnN0YW5jZURlY29yYXRpb24ocGF0aCwgZGVjQ29sb3IpXVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5vZGVEZWNvcmF0aW9uczogW10sXHJcbiAgICAgICAgcmVzdWx0RGVjb3JhdGlvbnM6IFtdXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUmVzdWx0c1ZpZXdDbGljayhyZXNDbGlja0V2ZW50KSB7XHJcbiAgICBzd2l0Y2ggKHJlc0NsaWNrRXZlbnQudHlwZSkge1xyXG4gICAgICBjYXNlIFJlc3VsdHNWaWV3LlZvaWRDbGljazpcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIG5vZGVEZWNvcmF0aW9uczogW10sXHJcbiAgICAgICAgICByZXN1bHREZWNvcmF0aW9uczogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBSZXN1bHRzVmlldy5SZXN1bHRJbnN0YW5jZUNsaWNrOlxyXG4gICAgICAgIHRoaXMuaGFuZGxlSG92ZXJlZFJlc3VsdEluc3RhbmNlKHJlc0NsaWNrRXZlbnQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaGFuZGxlZCBSZXN1bHRzVmlldyBldmVudC5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHBlcmZvcm1SdW4oKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtzdGF0dXM6ICdydW5uaW5nJ30pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuY2FwdHVyZVRyYWNlKSB7XHJcbiAgICAgICAgbGV0IHByb2dyYW1SZXN1bHRzID0gdGltZShcIlRyYWNlYWJpbGl0eVwiLCAoKSA9PiBydW5XaXRoVHJhY2VhYmlsaXR5KHRoaXMuc3RhdGUuY3VycmVudFByb2dyYW0pKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHByb2dyYW1SZXN1bHRzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHByb2dyYW1SZXN1bHRzID0gdGltZShcIkJhcmUgcnVuXCIsICgpID0+IHJ1bk5vcm1hbGx5KHRoaXMuc3RhdGUuY3VycmVudFByb2dyYW0pKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHByb2dyYW1SZXN1bHRzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOiAnaWRsZSd9KTsgIFxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtzdGF0dXM6ICdlcnJvcjonICsgZS5tZXNzYWdlfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbm9kZURlY29yYXRpb25zOiBbXSxcclxuICAgICAgcmVzdWx0RGVjb3JhdGlvbnM6IFtdXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcblN1cGVyRWRpdG9yLnByb3BUeXBlcyA9IHtcclxuICBwcm9ncmFtOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbiAgb25Qcm9ncmFtQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdXBlckVkaXRvcjtcclxuIiwiXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5cclxuLypcclxuICBBIGNvbXBvbmVudCB0aGF0IHJlbmRlcnMgd2hhdGV2ZXIgY2FtZXJhIGFuZCBzY2VuZSB1c2luZyBhIFRIUkVFLldlYkdMUmVuZGVyZXIuXHJcbiovXHJcblxyXG5jbGFzcyBUaHJlZVJlbmRlcmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnNbXCJjYW52YXNcIl0pO1xyXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XHJcbiAgICAgIGNhbnZhczogY2FudmFzLCBhbnRpYWxpYXM6IHRydWUsIGFscGhhOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9kcmF3KCk7XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW1tb3VudCgpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHRoaXMucHJvcHM7XHJcbiAgICB0aGlzLl9yZW5kZXJlci5zZXRWaWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuX2RyYXcoKTtcclxuICB9XHJcblxyXG4gIF9kcmF3KCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMucHJvcHMuc2NlbmUsIHRoaXMucHJvcHMuY2FtZXJhKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoIFxyXG4gICAgICA8Y2FudmFzIFxyXG4gICAgICAgIHJlZj1cImNhbnZhc1wiXHJcbiAgICAgICAgd2lkdGg9e3RoaXMucHJvcHMud2lkdGh9XHJcbiAgICAgICAgaGVpZ2h0PXt0aGlzLnByb3BzLmhlaWdodH1cclxuICAgICAgICBzdHlsZT17c3R5bGVzLmNhbnZhc31cclxuICAgICAgLz4gXHJcbiAgICAgICk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJUb0ltYWdlKCkge1xyXG4gICAgdGhpcy5fZHJhdygpO1xyXG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLnNyYyA9IHRoaXMuX3JlbmRlcmVyLmRvbUVsZW1lbnQudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgcmV0dXJuIGltZztcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlcyA9IHtcclxuICBjYW52YXM6IHtcclxuICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgIGhlaWdodDogXCIxMDAlXCJcclxuICB9XHJcbn07XHJcblxyXG4gIGV4cG9ydCBkZWZhdWx0IFRocmVlUmVuZGVyZXI7IiwiXHJcbi8qKlxyXG4gIEBwYXJhbSB7TW91c2VEb3duRXZlbnR9IG1vdXNlRG93biBUaGUgbW91c2Vkb3duIGV2ZW50IHRoYXQgc3RhcnRzIHRoZSBkcmFnXHJcbiAgQHBhcmFtIHtPYmplY3R9IGRyYWdcclxuICBAcGFyYW0ge0Z1bmN0aW9ufSBkcmFnLm9uTW92ZVxyXG4gIEBwYXJhbSB7RnVuY3Rpb259IGRyYWcub25VcFxyXG4qL1xyXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQobW91c2VEb3duLCBkcmFnKSB7XHJcbiAgY3VycmVudERyYWcgPSBkcmFnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbk1vdXNlTW92ZShtb3VzZU1vdmUpIHtcclxuICBjdXJyZW50RHJhZyBcclxuICAgICYmIGN1cnJlbnREcmFnLm9uTW92ZSBcclxuICAgICYmIGN1cnJlbnREcmFnLm9uTW92ZShtb3VzZU1vdmUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbk1vdXNlVXAobW91c2VVcCkge1xyXG4gIGN1cnJlbnREcmFnXHJcbiAgICAmJiBjdXJyZW50RHJhZy5vblVwXHJcbiAgICAmJiBjdXJyZW50RHJhZy5vblVwKG1vdXNlVXApO1xyXG4gIGN1cnJlbnREcmFnID0gbnVsbDtcclxufVxyXG5cclxuLy8gSW5pdGlhbGl6YXRpb24uXHJcbmxldCBjdXJyZW50RHJhZyA9IG51bGw7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBvbk1vdXNlVXApO1xyXG4iLCJpbXBvcnQgUmVhY3QsIHtDaGlsZHJlbn0gZnJvbSAncmVhY3QnO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBDb2x1bW5TcGxpdCA9ICh7Y2hpbGRyZW4sIGhlaWdodCA9ICcxMDAlJ30pID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT0nY29sdW1uLXNwbGl0JyBzdHlsZT17e2hlaWdodH19PlxyXG4gICAge0NoaWxkcmVuLm1hcChjaGlsZHJlbiwgYyA9PiBcclxuICAgICAgPGRpdiBzdHlsZT17e3dpZHRoOiAxMDAvQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pICsgJyUnLCBoZWlnaHQ6ICcxMDAlJ319PlxyXG4gICAgICAgIHtjfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICl9XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgUm93U3BsaXQgPSAoe2NoaWxkcmVufSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPSdyb3ctc3BsaXQnPlxyXG4gICAge2NoaWxkcmVufVxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IEhvcml6b250YWxCYXIgPSAoe2NoaWxkcmVufSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPSdob3Jpem9udGFsLWJhcic+XHJcbiAgICA8ZGl2PntjaGlsZHJlbn08L2Rpdj5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja2JveCA9ICh7bGFiZWwsIGNoZWNrZWQsIG9uQ2xpY2t9KSA9PiAoXHJcbiAgPGxhYmVsIGNsYXNzTmFtZT0nY2hlY2tib3gnIG9uQ2hhbmdlPXtvbkNsaWNrfT5cclxuICAgIDxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZD17Y2hlY2tlZH0vPlxyXG4gICAgPHNwYW4+e2xhYmVsfTwvc3Bhbj5cclxuICA8L2xhYmVsPlxyXG4pO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBWZXJ0aWNhbEljb25CYXIgPSAoe2NoaWxkcmVufSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPVwidmVydGljYWwtaWNvbi1iYXJcIj5cclxuICAgIHtjaGlsZHJlbn1cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBTcGFjZXIgPSAoe3dpZHRoLCBoZWlnaHR9KSA9PiAoXHJcbiAgPGRpdiBzdHlsZT17e3dpZHRoLCBoZWlnaHR9fS8+XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgSWNvbkJ1dHRvbiA9ICh7aWNvbiwgb25DbGlja30pID0+IChcclxuICA8aW1nIGNsYXNzTmFtZT1cImljb24tYnV0dG9uXCIgb25DbGljaz17b25DbGlja30gc3JjPXtpY29ufS8+XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgRHJhd2VyID0gKHtvcGVuLCBjaGlsZHJlbn0pID0+IChcclxuICA8ZGl2IGNsYXNzTmFtZT1cImRyYXdlclwiIHN0eWxlPXt7ZGlzcGxheTogb3BlbiA/ICdibG9jaycgOiAnbm9uZSd9fT5cclxuICAgIHtjaGlsZHJlbn1cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcblxyXG4iLCJcclxuaW1wb3J0IHtjb25zdHJ1Y3RvcnMgYXMgTm9kZXMsIHJlY29nbml6ZXJzIGFzIE5vZGVQfSBmcm9tICcuLi9QYXJzaW5nL2FzdC11dGlscy5qcyc7XHJcbmltcG9ydCB7bm9kZUlkfSBmcm9tICcuLi9QYXJzaW5nL25vZGUtaWQuanMnO1xyXG5cclxuY29uc3Qgc2F2ZVRvcExldmVsRXhwcnNUcmFuc2Zvcm0gPSB7XHJcblx0c2VsZWN0OiBmdW5jdGlvbihub2RlLCBwYXJlbnQpIHtcclxuXHRcdHJldHVybiBOb2RlUC5pc0V4cHJlc3Npb25TdGF0ZW1lbnQobm9kZSkgJiYgTm9kZVAuaXNQcm9ncmFtKHBhcmVudCk7XHJcblx0fSxcclxuXHR0cmFuc2Zvcm06IGZ1bmN0aW9uKG5vZGUsIGN0eElkKSB7XHJcblx0XHRyZXR1cm4gTm9kZXMuZXhwclN0bXQoXHJcblx0XHRcdE5vZGVzLmNhbGxFeHByKFxyXG5cdFx0XHRcdE5vZGVzLm1lbWJlckV4cHIoXHJcblx0XHRcdFx0XHROb2Rlcy5pZChjdHhJZCksXHJcblx0XHRcdFx0XHROb2Rlcy5pZChcInNhdmVUb3BMZXZlbFJlc3VsdFwiKSxcclxuXHRcdFx0XHRcdGZhbHNlKSxcclxuXHRcdFx0XHRbTm9kZXMubGl0ZXJhbChub2RlSWQobm9kZSkpLCBub2RlLmV4cHJlc3Npb25dKSk7XHJcblx0fSxcclxuXHRtYWtlQ29udGV4dDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzYXZlVG9wTGV2ZWxSZXN1bHQ6IGZ1bmN0aW9uKG5vZGVJZCwgdmFsdWUpIHtcclxuXHRcdFx0XHR0aGlzLnRvcExldmVsRXhwclJlc3VsdHMuc2V0KG5vZGVJZCwgdmFsdWUpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHR0b3BMZXZlbEV4cHJSZXN1bHRzOiBuZXcgTWFwKClcclxuXHRcdH07XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IHtzYXZlVG9wTGV2ZWxFeHByc1RyYW5zZm9ybSBhcyB0cmFuc2Zvcm19O1xyXG4iLCJcclxuaW1wb3J0IHtjb25zdHJ1Y3RvcnMgYXMgTm9kZXMsIHJlY29nbml6ZXJzIGFzIE5vZGVQfSBmcm9tICcuLi9QYXJzaW5nL2FzdC11dGlscy5qcyc7XHJcbmltcG9ydCB7aWRHZW5lcmF0b3J9IGZyb20gJy4uL2lkLWdlbmVyYXRvci5qcyc7XHJcbmltcG9ydCB7bm9kZUlkfSBmcm9tICcuLi9QYXJzaW5nL25vZGUtaWQuanMnO1xyXG5cclxuY29uc3QgdHJhY2VDYWxsVHJhbnNmb3JtID0ge1xyXG5cdC8qXHJcblx0XHRmb28uYmFyKGEsIGIsIGMpIC0+IFxyXG5cdFx0KGZ1bmN0aW9uKCQxLCAkMiwgJDMpe1xyXG5cdFx0XHR2YXIgJCQgPSBmb28uYmFyKCQxLCAkMiwgJDMpO1xyXG5cdFx0XHR0cmFjZUNhbGwobm9kZUlkLCBbJDEsICQyLCAkM10sICQkKTtcclxuXHRcdFx0cmV0dXJuICQkO1xyXG5cdFx0fSkoYSwgYiwgYylcclxuXHQqL1xyXG5cdHNlbGVjdDogZnVuY3Rpb24obm9kZSwgcGFyZW50KSB7XHJcblx0XHRyZXR1cm4gTm9kZVAuaXNDYWxsRXhwcmVzc2lvbihub2RlKTtcclxuXHR9LFxyXG5cdHRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSwgY3R4SWQpIHtcclxuXHRcdHZhciB1dWlkID0gXCJcIitpZEdlbmVyYXRvci5uZXh0KCk7XHJcblx0XHR2YXIgYXJnSWRzID0gbm9kZS5hcmd1bWVudHMubWFwKGZ1bmN0aW9uKGEsIGkpe1xyXG5cdFx0XHRyZXR1cm4gXCIkXCIraStcIl9cIit1dWlkO1xyXG5cdFx0fSkubWFwKGZ1bmN0aW9uKG5hbWUpe1xyXG5cdFx0XHRyZXR1cm4gTm9kZXMuaWQobmFtZSk7XHJcblx0XHR9KTtcclxuXHRcdHZhciByZXNJZCA9IE5vZGVzLmlkKFwiJCRcIit1dWlkKTtcclxuXHRcdHJldHVybiBOb2Rlcy5jYWxsRXhwcihcclxuXHRcdFx0Tm9kZXMuZnVuY0V4cHIoXHJcblx0XHRcdFx0bnVsbCxcclxuXHRcdFx0XHRhcmdJZHMsXHJcblx0XHRcdFx0Tm9kZXMuYmxvY2soW1xyXG5cdFx0XHRcdFx0Tm9kZXMudmFyRGVjbGFyYXRpb24oW1xyXG5cdFx0XHRcdFx0XHROb2Rlcy52YXJEZWNsYXJhdG9yKFxyXG5cdFx0XHRcdFx0XHRcdHJlc0lkLFxyXG5cdFx0XHRcdFx0XHRcdE5vZGVzLmNhbGxFeHByKFxyXG5cdFx0XHRcdFx0XHRcdFx0bm9kZS5jYWxsZWUsXHJcblx0XHRcdFx0XHRcdFx0XHRhcmdJZHMpKV0sXHJcblx0XHRcdFx0XHRcdFwidmFyXCIpLFxyXG5cdFx0XHRcdFx0Tm9kZXMuY2FsbEV4cHIoXHJcblx0XHRcdFx0XHRcdE5vZGVzLm1lbWJlckV4cHIoXHJcblx0XHRcdFx0XHRcdFx0Tm9kZXMuaWQoY3R4SWQpLFxyXG5cdFx0XHRcdFx0XHRcdE5vZGVzLmlkKFwidHJhY2VDYWxsXCIpKSxcclxuXHRcdFx0XHRcdFx0W05vZGVzLmxpdGVyYWwobm9kZUlkKG5vZGUpKSwgTm9kZXMuYXJyRXhwcihhcmdJZHMpLCByZXNJZF0pLFxyXG5cdFx0XHRcdFx0Tm9kZXMucmV0U3RtdChyZXNJZCldKSksXHJcblx0XHRcdG5vZGUuYXJndW1lbnRzKTtcclxuXHR9LFxyXG5cdG1ha2VDb250ZXh0OiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRyYWNlQ2FsbDogZnVuY3Rpb24obm9kZUlkLCBjYWxsQXJncywgY2FsbFJlcykge1xyXG5cdFx0XHRcdGlmKCF0aGlzLmNhbGxUcmFjZXMuaGFzKG5vZGVJZCkpIHtcclxuXHRcdFx0XHRcdHRoaXMuY2FsbFRyYWNlcy5zZXQobm9kZUlkLCBbXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciB0cmFjZUVudHJ5ID0ge1xyXG5cdFx0XHRcdFx0bm9kZUlkOiBub2RlSWQsIFxyXG5cdFx0XHRcdFx0YXJndW1lbnRzOiBjYWxsQXJncywgXHJcblx0XHRcdFx0XHRyZXN1bHQ6IGNhbGxSZXNcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHRoaXMuY2FsbFRyYWNlcy5nZXQobm9kZUlkKS5wdXNoKHRyYWNlRW50cnkpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRjYWxsVHJhY2VzOiBuZXcgTWFwKClcclxuXHRcdH07XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IHt0cmFjZUNhbGxUcmFuc2Zvcm0gYXMgdHJhbnNmb3JtfTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBpc0V4cHJlc3Npb24gPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciBleHByVHlwZXMgPSBuZXcgU2V0KFtcclxuXHRcdFwiVGhpc0V4cHJlc3Npb25cIiwgXHJcblx0XHRcIkFycmF5RXhwcmVzc2lvblwiLFxyXG5cdFx0XCJPYmplY3RFeHByZXNzaW9uXCIsXHJcblx0XHRcIkZ1bmN0aW9uRXhwcmVzc2lvblwiLFxyXG5cdFx0XCJVbmFyeUV4cHJlc3Npb25cIixcclxuXHRcdFwiVXBkYXRlRXhwcmVzc2lvblwiLFxyXG5cdFx0XCJCaW5hcnlFeHByZXNzaW9uXCIsXHJcblx0XHRcIkFzc2lnbm1lbnRFeHByZXNzaW9uXCIsXHJcblx0XHRcIkxvZ2ljYWxFeHByZXNzaW9uXCIsXHJcblx0XHRcIk1lbWJlckV4cHJlc3Npb25cIixcclxuXHRcdFwiQ29uZGl0aW9uYWxFeHByZXNzaW9uXCIsXHJcblx0XHRcIkNhbGxFeHByZXNzaW9uXCIsXHJcblx0XHRcIk5ld0V4cHJlc3Npb25cIixcclxuXHRcdFwiU2VxdWVuY2VFeHByZXNzaW9uXCIsXHJcblx0XHRcIkxpdGVyYWxcIixcclxuXHRcdFwiSWRlbnRpZmllclwiXHJcblx0XHRdKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24gaXNFeHByZXNzaW9uKG5vZGUpIHtcclxuXHRcdHJldHVybiBleHByVHlwZXMuaGFzKG5vZGUudHlwZSk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGlzTWVtYmVyRXhwcmVzc2lvbihub2RlKSB7XHJcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJNZW1iZXJFeHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVmFyaWFibGVEZWNsYXJhdG9yKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIlZhcmlhYmxlRGVjbGFyYXRvclwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1VwZGF0ZUV4cHJlc3Npb24obm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiVXBkYXRlRXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0V4cHJlc3Npb25TdGF0ZW1lbnQobm9kZSkge1xyXG5cdHJldHVybiBub2RlLnR5cGUgPT09IFwiRXhwcmVzc2lvblN0YXRlbWVudFwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0NhbGxFeHByZXNzaW9uKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIkNhbGxFeHByZXNzaW9uXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUmV0dXJuKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIlJldHVyblN0YXRlbWVudFwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIkZ1bmN0aW9uRXhwcmVzc2lvblwiIHx8IG5vZGUudHlwZSA9PT0gXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUHJvZ3JhbShub2RlKSB7XHJcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJQcm9ncmFtXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTGl0ZXJhbChub2RlKSB7XHJcblx0cmV0dXJuIG5vZGUudHlwZSA9PT0gXCJMaXRlcmFsXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVW5hcnlFeHByZXNzaW9uKG5vZGUpIHtcclxuXHRyZXR1cm4gbm9kZS50eXBlID09PSBcIlVuYXJ5RXhwcmVzc2lvblwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NpZ25VbmFyeUV4cHJlc3Npb24obm9kZSkge1xyXG5cdHJldHVybiBpc1VuYXJ5RXhwcmVzc2lvbihub2RlKSBcclxuXHRcdCYmIChub2RlLm9wZXJhdG9yID09PSBcIi1cIiB8fCBub2RlLm9wZXJhdG9yID09PSBcIitcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTnVtZXJpY0xpdGVyYWwobm9kZSkge1xyXG5cdHJldHVybiBpc0xpdGVyYWwobm9kZSkgJiYgdHlwZW9mIG5vZGUudmFsdWUgPT09IFwibnVtYmVyXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU2lnbmVkTnVtZXJpY0xpdGVyYWwobm9kZSkge1xyXG5cdHJldHVybiBpc051bWVyaWNMaXRlcmFsKG5vZGUpIFxyXG5cdFx0fHwgKGlzU2lnblVuYXJ5RXhwcmVzc2lvbihub2RlKSAmJiBpc051bWVyaWNMaXRlcmFsKG5vZGUuYXJndW1lbnQpKTtcclxufVxyXG5cclxudmFyIHUgPSB7XHJcblx0aXNFeHByZXNzaW9uLFxyXG5cdGlzTWVtYmVyRXhwcmVzc2lvbixcclxuXHRpc1ZhcmlhYmxlRGVjbGFyYXRvcixcclxuXHRpc1VwZGF0ZUV4cHJlc3Npb24sXHJcblx0aXNFeHByZXNzaW9uU3RhdGVtZW50LFxyXG5cdGlzQ2FsbEV4cHJlc3Npb24sXHJcblx0aXNSZXR1cm4sXHJcblx0aXNGdW5jdGlvbixcclxuXHRpc1Byb2dyYW0sXHJcblx0aXNVbmFyeUV4cHJlc3Npb24sXHJcblx0aXNTaWduVW5hcnlFeHByZXNzaW9uLFxyXG5cdGlzTGl0ZXJhbCxcclxuXHRpc051bWVyaWNMaXRlcmFsLFxyXG5cdGlzU2lnbmVkTnVtZXJpY0xpdGVyYWxcclxufTtcclxuXHJcbnZhciBuID0ge1xyXG5cdGV4cHJTdG10OiBmdW5jdGlvbihleHByKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIixcclxuXHRcdFx0ZXhwcmVzc2lvbjogZXhwclxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGNhbGxFeHByOiBmdW5jdGlvbihjYWxsZWVFeHByLCBhcmdFeHBycykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJDYWxsRXhwcmVzc2lvblwiLFxyXG5cdFx0XHRjYWxsZWU6IGNhbGxlZUV4cHIsXHJcblx0XHRcdGFyZ3VtZW50czogYXJnRXhwcnNcclxuXHRcdH07XHJcblx0fSxcclxuXHRpZDogZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJJZGVudGlmaWVyXCIsXHJcblx0XHRcdG5hbWU6IG5hbWVcclxuXHRcdH07XHJcblx0fSxcclxuXHRsaXRlcmFsOiBmdW5jdGlvbih2YWx1ZSwgcmF3KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIkxpdGVyYWxcIixcclxuXHRcdFx0dmFsdWU6IHZhbHVlLFxyXG5cdFx0XHRyYXdcclxuXHRcdH07XHJcblx0fSxcclxuXHRibG9jazogZnVuY3Rpb24oc3Rtcykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJCbG9ja1N0YXRlbWVudFwiLFxyXG5cdFx0XHRib2R5OiBzdG1zXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0ZnVuY0V4cHI6IGZ1bmN0aW9uKGlkLCBwYXJhbXMsIGJvZHkpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIsXHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0cGFyYW1zOiBwYXJhbXMsXHJcblx0XHRcdGJvZHk6IGJvZHlcclxuXHRcdH07XHJcblx0fSxcclxuXHRzZXFFeHByOiBmdW5jdGlvbihleHBycykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJTZXF1ZW5jZUV4cHJlc3Npb25cIixcclxuXHRcdFx0ZXhwcmVzc2lvbnM6IGV4cHJzXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0YXNzaWduRXhwcjogZnVuY3Rpb24ob3AsIGxlZnQsIHJpZ2h0KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0eXBlOiBcIkFzc2lnbm1lbnRFeHByZXNzaW9uXCIsXHJcblx0XHRcdG9wZXJhdG9yOiBvcCxcclxuXHRcdFx0bGVmdDogbGVmdCxcclxuXHRcdFx0cmlnaHQ6IHJpZ2h0XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0dmFyRGVjbGFyYXRpb246IGZ1bmN0aW9uKGRlY2xhcmF0aW9ucywga2luZCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIsXHJcblx0XHRcdGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zLFxyXG5cdFx0XHRraW5kOiBraW5kXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0dmFyRGVjbGFyYXRvcjogZnVuY3Rpb24oaWQsIGluaXQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIsXHJcblx0XHRcdGlkOiBpZCxcclxuXHRcdFx0aW5pdDogaW5pdFxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdHJldFN0bXQ6IGZ1bmN0aW9uKGV4cHIpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiUmV0dXJuU3RhdGVtZW50XCIsXHJcblx0XHRcdGFyZ3VtZW50OiBleHByXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0YXJyRXhwcjogZnVuY3Rpb24oZWxlbXMpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiQXJyYXlFeHByZXNzaW9uXCIsXHJcblx0XHRcdGVsZW1lbnRzOiBlbGVtc1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdG1lbWJlckV4cHI6IGZ1bmN0aW9uKG9iaiwgcHJvcCwgY29tcHV0ZWQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHR5cGU6IFwiTWVtYmVyRXhwcmVzc2lvblwiLFxyXG5cdFx0XHRvYmplY3Q6IG9iaixcclxuXHRcdFx0cHJvcGVydHk6IHByb3AsXHJcblx0XHRcdGNvbXB1dGVkOiBjb21wdXRlZFxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdHVuYXJ5RXhwcjogZnVuY3Rpb24ob3BlcmF0b3IsIGFyZ3VtZW50LCBwcmVmaXg9dHJ1ZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dHlwZTogXCJVbmFyeUV4cHJlc3Npb25cIixcclxuXHRcdFx0b3BlcmF0b3IsXHJcblx0XHRcdGFyZ3VtZW50LFxyXG5cdFx0XHRwcmVmaXhcclxuXHRcdH07XHJcblx0fVxyXG59O1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdHJlY29nbml6ZXJzOiB1LFxyXG5cdGNvbnN0cnVjdG9yczogblxyXG59OyIsIlxyXG5pbXBvcnQge3RyYXZlcnNlLCBWaXNpdG9yT3B0aW9ufSBmcm9tICdlc3RyYXZlcnNlJztcclxuaW1wb3J0IHtub2RlSWQgYXMgZ2V0Tm9kZUlkfSBmcm9tICcuL25vZGUtaWQuanMnO1xyXG5pbXBvcnQge3NvdXJjZVRvQXN0fSBmcm9tICcuL3Byb2dyYW0uanMnO1xyXG5cclxuLypcclxuXHRTZWFyY2hlcyBmb3IgYSBFc3ByaW1hTm9kZSBpbiBQcm9ncmFtJ3MgQVNUIHRoYXQgaGFzIG5vZGVJZCBhcyBpdHMgaWQuXHJcblx0QHBhcmFtIHtQcm9ncmFtfSBwcm9ncmFtIFRoZSBwcm9ncmFtIHRvIHBlcmZvcm0gdGhlIHNlYXJjaC5cclxuXHRAcGFyYW0ge3N0cmluZ30gbm9kZUlkIFRoZSBpZCBvZiB0aGUgbm9kZS5cclxuXHRAcmV0dXJucyB7RXNwcmltYU5vZGV8bnVsbH1cclxuKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVCeUlkKHByb2dyYW0sIG5vZGVJZCkge1xyXG5cdGxldCBzZWFyY2hSZXN1bHQgPSBudWxsO1xyXG5cdHRyYXZlcnNlKHNvdXJjZVRvQXN0KHByb2dyYW0pLCB7XHJcblx0XHRlbnRlcihub2RlLCBwYXJlbnQpIHtcclxuXHRcdFx0aWYoZ2V0Tm9kZUlkKG5vZGUpID09PSBub2RlSWQpIHtcclxuXHRcdFx0XHRzZWFyY2hSZXN1bHQgPSBub2RlO1xyXG5cdFx0XHRcdHJldHVybiBWaXNpdG9yT3B0aW9uLkJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblx0cmV0dXJuIHNlYXJjaFJlc3VsdDtcclxufVxyXG4iLCJcclxuLy9UT0RPIE1ha2UgbW9kdWxlIGZvciBtYW5hZ2luZyhtYW5pcHVsYXRpbmcsIHF1ZXJ5aW5nKSBhc3Qgbm9kZXMgYW5kL29yIHByb2dyYW1zLlxyXG4vL1RPRE8gTWFrZSBtb2R1bGUgZm9yIG1hbmFnaW5nIHByb2dyYW1zIGFuZCB0aGVpciByZXN1bHRzLlxyXG5cclxuZnVuY3Rpb24gbm9kZUlkKG5vZGUpIHtcclxuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkobm9kZS5sb2MpO1xyXG59XHJcblxyXG5leHBvcnQge25vZGVJZH07XHJcbiIsIlxyXG5pbXBvcnQge3RyYXZlcnNlIGFzIGVzdHJhdmVyc2UsIFZpc2l0b3JPcHRpb259IGZyb20gJ2VzdHJhdmVyc2UnO1xyXG5pbXBvcnQge3Byb3BlcnR5fSBmcm9tICdsb2Rhc2gnO1xyXG5cclxuaW1wb3J0IHt0cmF2ZXJzZSBhcyBteVRyYXZlcnNlfSBmcm9tICcuL3RyYXZlcnNhbC5qcyc7XHJcbmltcG9ydCB7cmVjb2duaXplcnMgYXMgTm9kZVB9IGZyb20gJy4vYXN0LXV0aWxzLmpzJztcclxuaW1wb3J0IHtzb3VyY2VUb0FzdH0gZnJvbSAnLi9wcm9ncmFtLmpzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub2Rlc0NvbnRhaW5pbmdDb29yZHMoYXN0LCBlc3ByaW1hQ29vcmRzKSB7XHJcbiAgbGV0IGNvb3Jkc0luc2lkZSA9IG5vZGVDb250YWluc0Nvb3JkKGFzdCwgZXNwcmltYUNvb3Jkcyk7XHJcbiAgaWYgKGNvb3Jkc0luc2lkZSkge1xyXG4gICAgbGV0IGJvdHRvbVVwTm9kZXMgPSBbXTtcclxuICAgIGxldCBwYXRoVG9EZWVwZXN0ID0gbnVsbDtcclxuICAgIG15VHJhdmVyc2UoYXN0LCB7XHJcbiAgICAgIGVudGVyKG5vZGUsIHBhdGgpIHtcclxuICAgICAgICBpZiAobm9kZUNvbnRhaW5zQ29vcmQobm9kZSwgZXNwcmltYUNvb3JkcykpIHtcclxuICAgICAgICAgIGJvdHRvbVVwTm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgIHBhdGhUb0RlZXBlc3QgPSBwYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBib3R0b21VcE5vZGVzLnJldmVyc2UoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGJvdHRvbVVwTm9kZXMsXHJcbiAgICAgIHBhdGhUb0RlZXBlc3QsXHJcbiAgICAgIGRlZXBlc3ROb2RlOiBub2RlQXRQYXRoKGFzdCwgcGF0aFRvRGVlcGVzdClcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGJvdHRvbVVwTm9kZXM6IFthc3RdLFxyXG4gICAgICBwYXRoVG9EZWVwZXN0OiBbXSxcclxuICAgICAgZGVlcGVzdE5vZGU6IGFzdFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9lc3RyYXZlcnNlX25vZGVzQ29udGFpbmluZ0Nvb3Jkcyhhc3QsIGVzcHJpbWFDb29yZHMpIHtcclxuICBsZXQgcGF0aCA9IFtdO1xyXG4gIGVzdHJhdmVyc2UoYXN0LCB7XHJcbiAgICBlbnRlcihub2RlLCBwYXJlbnQpIHtcclxuICAgICAgaWYobm9kZUNvbnRhaW5zQ29vcmQobm9kZSwgZXNwcmltYUNvb3JkcykpIHtcclxuICAgICAgICBwYXRoLnB1c2gobm9kZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICBwYXRoLnJldmVyc2UoKTtcclxuICByZXR1cm4ge1xyXG4gICAgcGF0aDogcGF0aCwgXHJcbiAgICBkZWVwZXN0Tm9kZTogcGF0aFswXVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub2RlQ29udGFpbnNDb29yZChub2RlLCBlc3ByaW1hQ29vcmRzKSB7XHJcbiAgZnVuY3Rpb24gaWZUaGVuKHByZW1pc2UsIGNvbnNlcXVlbmNlKSB7XHJcbiAgICByZXR1cm4gIXByZW1pc2UgfHwgY29uc2VxdWVuY2U7XHJcbiAgfVxyXG4gIGNvbnN0IHtzdGFydCwgZW5kfSA9IG5vZGUubG9jO1xyXG4gIGxldCBiZXR3ZWVuTGluZXMgPSBlc3ByaW1hQ29vcmRzLmxpbmUgPj0gc3RhcnQubGluZSAmJiBlc3ByaW1hQ29vcmRzLmxpbmUgPD0gZW5kLmxpbmU7XHJcbiAgbGV0IG9uU3RhcnRMaW5lID0gZXNwcmltYUNvb3Jkcy5saW5lID09PSBzdGFydC5saW5lO1xyXG4gIGxldCBvbkVuZExpbmUgPSBlc3ByaW1hQ29vcmRzLmxpbmUgPT09IGVuZC5saW5lO1xyXG4gIHJldHVybiBiZXR3ZWVuTGluZXMgXHJcbiAgICAmJiBpZlRoZW4ob25TdGFydExpbmUsIGVzcHJpbWFDb29yZHMuY29sdW1uID49IHN0YXJ0LmNvbHVtbilcclxuICAgICYmIGlmVGhlbihvbkVuZExpbmUsIGVzcHJpbWFDb29yZHMuY29sdW1uIDw9IGVuZC5jb2x1bW4pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvZ3JhbU5vZGVzKGFzdCkge1xyXG4gIGNvbnN0IG5vZGVzID0gW107XHJcbiAgZXN0cmF2ZXJzZShhc3QsIHtcclxuICAgIGVudGVyKG5vZGUsIHBhcmVudCkge1xyXG4gICAgICBub2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBub2RlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25lZExpdGVyYWxOb2Rlcyhhc3QpIHtcclxuICBjb25zdCBub2RlcyA9IFtdO1xyXG4gIGVzdHJhdmVyc2UoYXN0LCB7XHJcbiAgICBlbnRlcihub2RlLCBwYXJlbnQpIHtcclxuICAgICAgaWYgKE5vZGVQLmlzU2lnbmVkTnVtZXJpY0xpdGVyYWwobm9kZSkpIHtcclxuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgIHJldHVybiBWaXNpdG9yT3B0aW9uLlNraXA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gbm9kZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub2RlQXRQYXRoKGFzdCwgcGF0aCkge1xyXG4gIGlmIChwYXRoLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgcmV0dXJuIHByb3BlcnR5KHBhdGgpKGFzdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhc3Q7XHJcbiAgfVxyXG59XHJcbiIsIlxyXG5pbXBvcnQgZXNwcmltYSBmcm9tICdlc3ByaW1hJztcclxuaW1wb3J0IGVzY29kZWdlbiBmcm9tICdlc2NvZGVnZW4nO1xyXG5cclxuLy8gVE9ETyBEZWZpbmUgdGhlIG1vZGVsIG9mIHRoZSBwcm9ncmFtcy5cclxuLypcclxuICBJbW11dGFibGUgZGF0YSBzdHJ1Y3R1cmVzP1xyXG4gICAgVGhpcyB3b3VsZCBiZSBjb29sIGFuZCBlbmZvcmNlIHRoYXQgcHJvZ3JhbXMgYXJlIHZhbHVlcy5cclxuICBVbmRlcnN0YW5kIGNvbW1lbnRzIGFuZCBpbnRlZ3JhdGUgdGhlbSBpbiB0aGUgcmVwcmVzZW50YXRpb25zLlxyXG4gIEhvdyB0byBzdXBwb3J0IHRleHQgYW5kIHN0cnVjdHVyYWwgZWRpdGluZz9cclxuICAgIEtlZXAgb25seSBvbmUgcmVwcmVzZW50YXRpb24/XHJcbiAgICBLZWVwIGJvdGggcmVwcmVzZW50YXRpb25zIGFuZCBrZWVwIHRoZW0gaW4gc3luYz9cclxuICAgIEluIHRoZSBlbmQgdGhlcmUgaXMgYWx3YXlzIGEgdmFsaWQgc3RydWN0dXJlLlxyXG4gICAgT25seSBzeW50YWN0aWNhbGx5IGNvcnJlY3QgcHJvZ3JhbXMgY2FuIGJlIG9iamVjdHMgb2YgdGhlc2UgY2xhc3Nlcz9cclxuICAgICAgSW50ZXJtZWRpYXRlIHZlcnNpb25zIGJlbG9uZyB0byBkaWZmZXJlbnQgY2xhc3Nlcz9cclxuICAgICAgSW50ZXJtZWRpYXRlIHZlcnNpb25zIGFyZSBoYW5kbGVkIGJ5IFVJP1xyXG4gICAgICAgIFRleHQgZnJhZ21lbnRzIC0+IHZhbGlkYXRlIC0+IFByb2dyYW0gZnJhZ21lbnRzXHJcbiAgSGF2ZSBhIHdyYXBwZXIsIGEgZmFjYWRlLCBmb3Igd29ya2luZyB3aXRoIHByb2dyYW1zP1xyXG4gIFByb2dyYW1cclxuICAgIFNjcmlwdFxyXG4gIEhvdyBkb2VzIHRoZSBydW5uaW5nIGFsZ29yaXRobSBhbmQgcHJvZ3JhbXMgY29tbXVuaWNhdGU/XHJcbiAgICBSdW5uaW5nIGFsZ29yaXRobSBxdWVyaWVzIHByb2dyYW0gYWJvdXQgYXN0XHJcbiAgICBSdW5uaW5nIGFsZ29yaXRobSBjcmVhdGVzIGEgbmV3IHByb2dyYW0gd2l0aCBzb21lIG1vZGlmaWNhdGlvbnMgZnJvbSB0aGUgb3JpZ2luYWxcclxuICAgICAgQmFzaWNhbGx5IGl0IHdvdWxkIGJlIGEgbWFwIG92ZXIgdGhlIHByb2dyYW0gd2hpY2ggY3JlYXRlcyBhIG5ldyBwcm9ncmFtIHRoYXQgaXMgdGhlIG9uZSB0aGF0IHdpbGwgYmUgZXZhbHVhdGVkLlxyXG4gICAgICBJbiBtb3N0IGNhc2VzLCBpdCBkb2VzIGhhdmUgdG8gY29sbGVjdCBzb21lIGluZm9ybWF0aW9uIGJlZm9yZSBhY3R1YWxseSBjcmVhdGluZyB0aGUgbmV3IHByb2dyYW0uXHJcbiAgSG93IGlzIHRoZSBydW5uaW5nIGFsZ29yaXRobSB1c2VkP1xyXG4gICAgSXQgaXMgdXNlZCB0byBrbm93IHRoaW5ncyBhYm91dCB0aGUgcHJvZ3JhbSB0aGF0IG9ubHkgYmVjb21lIGF2YWlsYWJsZSB3aGVuIGl0IHJ1bnMuXHJcbiAgICAgIFRoZSByZXN1bHRzIGl0IGdlbmVyYXRlcy5cclxuICAgICAgVGhlIGVudGlyZSBleGVjdXRpb24gY29udHJvbCBmbG93LlxyXG4gICAgICBUaGUgZW50aXJlIGV4ZWN1dGlvbiBkYXRhIGZsb3cuXHJcbiAgV2hhdCBjYW4gd2Uga25vdyBieSBsb29raW5nIGF0IGEgcHJvZ3JhbT9cclxuICAgIFRoZSB2YXJpYWJsZSBzY29waW5nIGluZm9ybWF0aW9uLlxyXG4gICAgVGhlIGZ1bmN0aW9ucyBpdCB1c2VzLCBib3RoIGluIGV4cHJlc3Npb24gYW5kIGRlY2xhcmF0aW9uIGZvcm0uXHJcbiAgICBQYXJ0aWFsIGluZm9ybWF0aW9uIGFib3V0IGNvbnRyb2wgZmxvdyBhbmQgZGF0YSBmbG93LlxyXG4gICAgSG93IGl0IHNob3VsZCBiZSBydW4uXHJcbiAgICBXZSBjYW4gaW5mZXIgdHlwZXMuXHJcbiovXHJcblxyXG5mdW5jdGlvbiBzb3VyY2VUb0FzdChzb3VyY2VDb2RlKSB7XHJcbiAgbGV0IGFzdCA9IGVzcHJpbWEucGFyc2Uoc291cmNlQ29kZSwge2xvYzogdHJ1ZSwgY29tbWVudDogdHJ1ZX0pO1xyXG4gIHJldHVybiBhc3Q7XHJcbn1cclxuXHJcblxyXG5jb25zdCBjb2RlVG9Bc3QgPSBuZXcgTWFwKCk7XHJcblxyXG5mdW5jdGlvbiBtZW1vaXplZFNvdXJjZVRvQXN0KHNvdXJjZUNvZGUpIHtcclxuICBpZiAoY29kZVRvQXN0Lmhhcyhzb3VyY2VDb2RlKSkge1xyXG4gICAgcmV0dXJuIGNvZGVUb0FzdC5nZXQoc291cmNlQ29kZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxldCBhc3QgPSBzb3VyY2VUb0FzdChzb3VyY2VDb2RlKTtcclxuICAgIGNvZGVUb0FzdC5zZXQoc291cmNlQ29kZSwgYXN0KTtcclxuICAgIHJldHVybiBhc3Q7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge21lbW9pemVkU291cmNlVG9Bc3QgYXMgc291cmNlVG9Bc3R9O1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZFNvdXJjZShzb3VyY2VDb2RlKSB7XHJcbiAgdHJ5IHtcclxuICAgIHNvdXJjZVRvQXN0KHNvdXJjZUNvZGUpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzdFRvU291cmNlKGFzdCkge1xyXG4gIHJldHVybiBlc2NvZGVnZW4uZ2VuZXJhdGUoYXN0KTtcclxufVxyXG4iLCJcclxuLy8gTXkgZXN0cmVlIHRyYXZlcnNlXHJcbi8vIFBhc3MgaW4gYSBwYXRoIHRvIHRoZSBub2RlIGluc3RlYWQgb2YgKG5vZGUsIHBhcmVudCkuXHJcbmltcG9ydCB7bm9vcCwgZm9yRWFjaH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbi8vIENvcGllZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vZXN0b29scy9lc3RyYXZlcnNlL2Jsb2IvbWFzdGVyL2VzdHJhdmVyc2UuanMjTDIxOFxyXG5jb25zdCBWaXNpdEtleXMgPSB7XHJcbiAgICBBc3NpZ25tZW50RXhwcmVzc2lvbjogWydsZWZ0JywgJ3JpZ2h0J10sXHJcbiAgICBBc3NpZ25tZW50UGF0dGVybjogWydsZWZ0JywgJ3JpZ2h0J10sXHJcbiAgICBBcnJheUV4cHJlc3Npb246IFsnZWxlbWVudHMnXSxcclxuICAgIEFycmF5UGF0dGVybjogWydlbGVtZW50cyddLFxyXG4gICAgQXJyb3dGdW5jdGlvbkV4cHJlc3Npb246IFsncGFyYW1zJywgJ2JvZHknXSxcclxuICAgIEF3YWl0RXhwcmVzc2lvbjogWydhcmd1bWVudCddLCAvLyBDQVVUSU9OOiBJdCdzIGRlZmVycmVkIHRvIEVTNy5cclxuICAgIEJsb2NrU3RhdGVtZW50OiBbJ2JvZHknXSxcclxuICAgIEJpbmFyeUV4cHJlc3Npb246IFsnbGVmdCcsICdyaWdodCddLFxyXG4gICAgQnJlYWtTdGF0ZW1lbnQ6IFsnbGFiZWwnXSxcclxuICAgIENhbGxFeHByZXNzaW9uOiBbJ2NhbGxlZScsICdhcmd1bWVudHMnXSxcclxuICAgIENhdGNoQ2xhdXNlOiBbJ3BhcmFtJywgJ2JvZHknXSxcclxuICAgIENsYXNzQm9keTogWydib2R5J10sXHJcbiAgICBDbGFzc0RlY2xhcmF0aW9uOiBbJ2lkJywgJ3N1cGVyQ2xhc3MnLCAnYm9keSddLFxyXG4gICAgQ2xhc3NFeHByZXNzaW9uOiBbJ2lkJywgJ3N1cGVyQ2xhc3MnLCAnYm9keSddLFxyXG4gICAgQ29tcHJlaGVuc2lvbkJsb2NrOiBbJ2xlZnQnLCAncmlnaHQnXSwgIC8vIENBVVRJT046IEl0J3MgZGVmZXJyZWQgdG8gRVM3LlxyXG4gICAgQ29tcHJlaGVuc2lvbkV4cHJlc3Npb246IFsnYmxvY2tzJywgJ2ZpbHRlcicsICdib2R5J10sICAvLyBDQVVUSU9OOiBJdCdzIGRlZmVycmVkIHRvIEVTNy5cclxuICAgIENvbmRpdGlvbmFsRXhwcmVzc2lvbjogWyd0ZXN0JywgJ2NvbnNlcXVlbnQnLCAnYWx0ZXJuYXRlJ10sXHJcbiAgICBDb250aW51ZVN0YXRlbWVudDogWydsYWJlbCddLFxyXG4gICAgRGVidWdnZXJTdGF0ZW1lbnQ6IFtdLFxyXG4gICAgRGlyZWN0aXZlU3RhdGVtZW50OiBbXSxcclxuICAgIERvV2hpbGVTdGF0ZW1lbnQ6IFsnYm9keScsICd0ZXN0J10sXHJcbiAgICBFbXB0eVN0YXRlbWVudDogW10sXHJcbiAgICBFeHBvcnRBbGxEZWNsYXJhdGlvbjogWydzb3VyY2UnXSxcclxuICAgIEV4cG9ydERlZmF1bHREZWNsYXJhdGlvbjogWydkZWNsYXJhdGlvbiddLFxyXG4gICAgRXhwb3J0TmFtZWREZWNsYXJhdGlvbjogWydkZWNsYXJhdGlvbicsICdzcGVjaWZpZXJzJywgJ3NvdXJjZSddLFxyXG4gICAgRXhwb3J0U3BlY2lmaWVyOiBbJ2V4cG9ydGVkJywgJ2xvY2FsJ10sXHJcbiAgICBFeHByZXNzaW9uU3RhdGVtZW50OiBbJ2V4cHJlc3Npb24nXSxcclxuICAgIEZvclN0YXRlbWVudDogWydpbml0JywgJ3Rlc3QnLCAndXBkYXRlJywgJ2JvZHknXSxcclxuICAgIEZvckluU3RhdGVtZW50OiBbJ2xlZnQnLCAncmlnaHQnLCAnYm9keSddLFxyXG4gICAgRm9yT2ZTdGF0ZW1lbnQ6IFsnbGVmdCcsICdyaWdodCcsICdib2R5J10sXHJcbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uOiBbJ2lkJywgJ3BhcmFtcycsICdib2R5J10sXHJcbiAgICBGdW5jdGlvbkV4cHJlc3Npb246IFsnaWQnLCAncGFyYW1zJywgJ2JvZHknXSxcclxuICAgIEdlbmVyYXRvckV4cHJlc3Npb246IFsnYmxvY2tzJywgJ2ZpbHRlcicsICdib2R5J10sICAvLyBDQVVUSU9OOiBJdCdzIGRlZmVycmVkIHRvIEVTNy5cclxuICAgIElkZW50aWZpZXI6IFtdLFxyXG4gICAgSWZTdGF0ZW1lbnQ6IFsndGVzdCcsICdjb25zZXF1ZW50JywgJ2FsdGVybmF0ZSddLFxyXG4gICAgSW1wb3J0RGVjbGFyYXRpb246IFsnc3BlY2lmaWVycycsICdzb3VyY2UnXSxcclxuICAgIEltcG9ydERlZmF1bHRTcGVjaWZpZXI6IFsnbG9jYWwnXSxcclxuICAgIEltcG9ydE5hbWVzcGFjZVNwZWNpZmllcjogWydsb2NhbCddLFxyXG4gICAgSW1wb3J0U3BlY2lmaWVyOiBbJ2ltcG9ydGVkJywgJ2xvY2FsJ10sXHJcbiAgICBMaXRlcmFsOiBbXSxcclxuICAgIExhYmVsZWRTdGF0ZW1lbnQ6IFsnbGFiZWwnLCAnYm9keSddLFxyXG4gICAgTG9naWNhbEV4cHJlc3Npb246IFsnbGVmdCcsICdyaWdodCddLFxyXG4gICAgTWVtYmVyRXhwcmVzc2lvbjogWydvYmplY3QnLCAncHJvcGVydHknXSxcclxuICAgIE1ldGFQcm9wZXJ0eTogWydtZXRhJywgJ3Byb3BlcnR5J10sXHJcbiAgICBNZXRob2REZWZpbml0aW9uOiBbJ2tleScsICd2YWx1ZSddLFxyXG4gICAgTW9kdWxlU3BlY2lmaWVyOiBbXSxcclxuICAgIE5ld0V4cHJlc3Npb246IFsnY2FsbGVlJywgJ2FyZ3VtZW50cyddLFxyXG4gICAgT2JqZWN0RXhwcmVzc2lvbjogWydwcm9wZXJ0aWVzJ10sXHJcbiAgICBPYmplY3RQYXR0ZXJuOiBbJ3Byb3BlcnRpZXMnXSxcclxuICAgIFByb2dyYW06IFsnYm9keSddLFxyXG4gICAgUHJvcGVydHk6IFsna2V5JywgJ3ZhbHVlJ10sXHJcbiAgICBSZXN0RWxlbWVudDogWyAnYXJndW1lbnQnIF0sXHJcbiAgICBSZXR1cm5TdGF0ZW1lbnQ6IFsnYXJndW1lbnQnXSxcclxuICAgIFNlcXVlbmNlRXhwcmVzc2lvbjogWydleHByZXNzaW9ucyddLFxyXG4gICAgU3ByZWFkRWxlbWVudDogWydhcmd1bWVudCddLFxyXG4gICAgU3VwZXI6IFtdLFxyXG4gICAgU3dpdGNoU3RhdGVtZW50OiBbJ2Rpc2NyaW1pbmFudCcsICdjYXNlcyddLFxyXG4gICAgU3dpdGNoQ2FzZTogWyd0ZXN0JywgJ2NvbnNlcXVlbnQnXSxcclxuICAgIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbjogWyd0YWcnLCAncXVhc2knXSxcclxuICAgIFRlbXBsYXRlRWxlbWVudDogW10sXHJcbiAgICBUZW1wbGF0ZUxpdGVyYWw6IFsncXVhc2lzJywgJ2V4cHJlc3Npb25zJ10sXHJcbiAgICBUaGlzRXhwcmVzc2lvbjogW10sXHJcbiAgICBUaHJvd1N0YXRlbWVudDogWydhcmd1bWVudCddLFxyXG4gICAgVHJ5U3RhdGVtZW50OiBbJ2Jsb2NrJywgJ2hhbmRsZXInLCAnZmluYWxpemVyJ10sXHJcbiAgICBVbmFyeUV4cHJlc3Npb246IFsnYXJndW1lbnQnXSxcclxuICAgIFVwZGF0ZUV4cHJlc3Npb246IFsnYXJndW1lbnQnXSxcclxuICAgIFZhcmlhYmxlRGVjbGFyYXRpb246IFsnZGVjbGFyYXRpb25zJ10sXHJcbiAgICBWYXJpYWJsZURlY2xhcmF0b3I6IFsnaWQnLCAnaW5pdCddLFxyXG4gICAgV2hpbGVTdGF0ZW1lbnQ6IFsndGVzdCcsICdib2R5J10sXHJcbiAgICBXaXRoU3RhdGVtZW50OiBbJ29iamVjdCcsICdib2R5J10sXHJcbiAgICBZaWVsZEV4cHJlc3Npb246IFsnYXJndW1lbnQnXVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYXZlcnNlKGFzdCwge2VudGVyPW5vb3AsIGxlYXZlPW5vb3B9KSB7XHJcbiAgZnVuY3Rpb24gdmlzaXQodGhpbmcsIHBhdGgpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaW5nKSkge1xyXG4gICAgICB2aXNpdEFycmF5KHRoaW5nLCBwYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZpc2l0Tm9kZSh0aGluZywgcGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB2aXNpdE5vZGUobm9kZSwgcGF0aCkge1xyXG4gICAgbGV0IGtleXMgPSBWaXNpdEtleXNbbm9kZS50eXBlXTtcclxuICAgIGVudGVyKG5vZGUsIHBhdGgpO1xyXG4gICAgZm9yRWFjaChrZXlzLCBrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobm9kZVtrZXldKSB7IC8vIFNvbWUgbm9kZSBhdHRyaWJ1dGVzIGNhbiBiZSBudWxsIG9uIGEgdmFsaWQgYXN0LlxyXG4gICAgICAgdmlzaXQobm9kZVtrZXldLCBbLi4ucGF0aCwga2V5XSk7ICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGVhdmUobm9kZSwgcGF0aCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB2aXNpdEFycmF5KGFycmF5LCBwYXRoKSB7XHJcbiAgICBmb3JFYWNoKGFycmF5LCAoZWwsIGkpID0+IHtcclxuICAgICAgdmlzaXQoZWwsIFsuLi5wYXRoLCBpXSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgdmlzaXQoYXN0LCBbXSk7XHJcbn1cclxuIiwiXHJcbnZhciBpZEluZGV4ID0gMDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGlkR2VuZXJhdG9yOiB7XHJcblx0XHRuZXh0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWRJbmRleCArPSAxO1xyXG5cdFx0XHRyZXR1cm4gXCIkXCIraWRJbmRleDtcclxuXHRcdH1cclxuXHR9XHJcbn07IiwiXHJcbmZ1bmN0aW9uIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QodXJsLCBwYXJhbXMsIG1ldGhvZD1cIlBPU1RcIikge1xyXG5cdC8vIHByZXBhcmUgcmVxdWVzdFxyXG5cdGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRyZXEub3BlbihtZXRob2QsIHVybCwgZmFsc2UpO1xyXG5cdHJlcS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTtcclxuXHRyZXEuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcclxuXHRyZXR1cm4gSlNPTi5wYXJzZShyZXEucmVzcG9uc2UpO1xyXG59XHJcblxyXG4vL1xyXG4vL2Z1bmN0aW9uIHByaW1pdGl2ZShhcmdzKVxyXG4vL1RoaXMgY29kZSBpcyBjYWxsZWQgaW4gYSB1c2VyJ3MgcHJvZ3JhbSB0byBtYWtlIGEgcHJpbWl0aXZlJ3MgaW5zdGFuY2UuXHJcbi8vXHJcbi8vZnVuY3Rpb24gcHJpbWl0aXZlLnJlYWxpemUoKVxyXG4vL1RoaXMgY29kZSBpcyBjYWxsZWQgdG8gbWFrZSBhbm90aGVyIHJlYWxpemF0aW9uIG9mIHRoZSBwcmltaXRpdmUncyBpbnN0YW5jZSBpbiB0aGUgQ0FELlxyXG4vL1dlIGRvIHRoaXMgYmVjYXVzZSBldmVyeXRoaW5nIHdlIGNhbGwgaW4gdGhlIENBRCB3aWxsIGJlIGRpc3BsYXllZC5cclxuXHJcblxyXG5pbXBvcnQge1ByaW1pdGl2ZVByb3B9IGZyb20gJy4uL1NjZW5lR3JhcGgvcHJpbWl0aXZlcy5qcyc7XHJcblxyXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShyZXN1bHQpIHtcclxuXHRyZXR1cm4gaXNTb21ldGhpbmcocmVzdWx0KSAmJiByZW5kZXJhYmxlRnVuY3Rpb25zW3Jlc3VsdFtQcmltaXRpdmVQcm9wXV0gIT09IHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBpc1NvbWV0aGluZyhyZXN1bHQpIHtcclxuXHRyZXR1cm4gcmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0ICE9PSBudWxsO1xyXG59XHJcbi8vdG8tdGhyZWUgLT4gdG8tY2FkXHJcbi8vdG8tY2FkKGFycmF5KSAtPiBhcnJheS5tYXAodG8tY2FkKVxyXG4vL3RvLWNhZChwcmltaXRpdmUpIC0+IHByaW1pdGl2ZS5yZWFsaXplKClcclxuZnVuY3Rpb24gcmVzdWx0c1RvQ0FEKHJlc3VsdHMpIHtcclxuXHRsZXQgY2FkUmVmcyA9IFtdO1xyXG5cdGZvciAobGV0IHJlc3VsdCBvZiByZXN1bHRzKSB7XHJcblx0XHRjYWRSZWZzLnB1c2godG9DQUQocmVzdWx0KSk7XHJcblx0fVxyXG5cdHJldHVybiB7Y2FkUmVmc307XHJcbn1cclxuZnVuY3Rpb24gdG9DQUQocmVzdWx0KSB7XHJcblx0bGV0IGNhZFJlZjsgXHJcblx0aWYoaXNQcmltaXRpdmUocmVzdWx0KSl7XHJcblx0XHRjYWRSZWYgPSByZW5kZXJhYmxlRnVuY3Rpb25zW3Jlc3VsdFtQcmltaXRpdmVQcm9wXV0ocmVzdWx0KTtcclxuXHR9IGVsc2UgaWYoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcblx0XHRjYWRSZWYgPSBhcnJheVRvQ0FEKHJlc3VsdCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNhZFJlZiA9IG51bGxDQURPYmooKTtcclxuXHR9XHJcblx0cmV0dXJuIGNhZFJlZjtcclxufVxyXG5mdW5jdGlvbiBudWxsQ0FET2JqKCkge1xyXG5cdHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGFycmF5VG9DQUQoYXJyYXkpIHtcclxuXHRyZXR1cm4gYXJyYXkubWFwKHI9PnRvQ0FEKHIpKTtcclxufVxyXG5cclxubGV0IHJlbmRlcmFibGVGdW5jdGlvbnMgPSB7XHJcblx0Y29ybmVyc0JveCxcclxuXHRjZW50ZXJTcGhlcmUsXHJcblx0Y2VudGVyc0N5bGluZGVyLFxyXG5cdHJpZ2h0Q3Vib2lkLFxyXG5cdGNvbmVGcnVzdHVtOiBjb25lRnJ1c3R1bVJlYWxpemVyLFxyXG5cdHBvbHlnb246IHBvbHlnb25SZWFsaXplcixcclxuXHRleHRydXNpb246IGV4dHJ1c2lvblJlYWxpemVyLFxyXG5cdG1vdmUsXHJcblx0cm90YXRlOiByb3RhdGVSZWFsaXplclxyXG59O1xyXG5cclxuZnVuY3Rpb24gcGFja1BvaW50KHApIHtcclxuXHRyZXR1cm4gW3AueCwgcC55LCBwLnpdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb3JuZXJzQm94KHtwMSwgcDJ9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJjb3JuZXJzLWJveFwiLCB7XHJcblx0XHRwMTogcGFja1BvaW50KHAxKSxcclxuXHRcdHAyOiBwYWNrUG9pbnQocDIpXHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gY2VudGVyU3BoZXJlKHtjZW50ZXIsIHJhZGl1c30pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcImNlbnRlci1zcGhlcmVcIiwge1xyXG5cdFx0Y2VudGVyOiBwYWNrUG9pbnQoY2VudGVyKSxcclxuXHRcdHJhZGl1c1xyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNlbnRlcnNDeWxpbmRlcih7cDEsIHAyLCByYWRpdXN9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJjZW50ZXJzLWN5bGluZGVyXCIsIHtcclxuXHRcdHAxOiBwYWNrUG9pbnQocDEpLFxyXG5cdFx0cDI6IHBhY2tQb2ludChwMiksXHJcblx0XHRyYWRpdXNcclxuXHR9KTtcclxufVxyXG5mdW5jdGlvbiByaWdodEN1Ym9pZCh7cDEsIHAyLCB3aWR0aCwgaGVpZ2h0fSkge1xyXG5cdHJldHVybiBzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwicmlnaHQtY3Vib2lkXCIsIHtcclxuXHRcdHAxOiBwYWNrUG9pbnQocDEpLFxyXG5cdFx0cDI6IHBhY2tQb2ludChwMiksXHJcblx0XHR3aWR0aCxcclxuXHRcdGhlaWdodFxyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNvbmVGcnVzdHVtUmVhbGl6ZXIoe3AxLCBwMiwgcmFkVG9wLCByYWRCb3R9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJjb25lLWZydXN0dW1cIiwge1xyXG5cdFx0cDE6IHBhY2tQb2ludChwMSksXHJcblx0XHRwMjogcGFja1BvaW50KHAyKSxcclxuXHRcdHJhZEJvdCxcclxuXHRcdHJhZFRvcFxyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIHBvbHlnb25SZWFsaXplcih7dmVydGljZXN9KSB7XHJcblx0cmV0dXJuIHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJwb2x5Z29uXCIsIHtcclxuXHRcdHZlcnRpY2VzOiB2ZXJ0aWNlcy5tYXAocGFja1BvaW50KVxyXG5cdH0pO1xyXG59XHJcbmZ1bmN0aW9uIGV4dHJ1c2lvblJlYWxpemVyKHtzaGFwZSwgdmVjfSkge1xyXG5cdHJldHVybiBzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwiZXh0cnVzaW9uXCIsIHtcclxuXHRcdHNoYXBlOiB0b0NBRChzaGFwZSksXHJcblx0XHR2ZWM6IHBhY2tQb2ludCh2ZWMpXHJcblx0fSk7XHJcbn1cclxuZnVuY3Rpb24gbW92ZSh7c2hhcGUsIHZlY30pIHtcclxuXHRyZXR1cm4gc3luY2hyb25vdXNIdHRwUmVxdWVzdChcIm1vdmVcIiwge1xyXG5cdFx0c2hhcGU6IHRvQ0FEKHNoYXBlKSxcclxuXHRcdHZlYzogcGFja1BvaW50KHZlYylcclxuXHR9KTtcclxufVxyXG5mdW5jdGlvbiByb3RhdGVSZWFsaXplcih7c2hhcGUsIGFuZywgcCwgdmVjfSkge1xyXG5cdHJldHVybiBzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwicm90YXRlXCIsIHtcclxuXHRcdHNoYXBlOiB0b0NBRChzaGFwZSksXHJcblx0XHRhbmcsXHJcblx0XHRwOiBwYWNrUG9pbnQocCksXHJcblx0XHR2ZWM6IHBhY2tQb2ludCh2ZWMpXHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7cmVzdWx0c1RvQ0FEfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5pbXBvcnQge3J1blByb2dyYW1QcmltZTJ9IGZyb20gJy4vcnVubmluZy1pZGVhLmpzJztcclxuaW1wb3J0IHt0cmFuc2Zvcm0gYXMgc2F2ZVRvcExldmVsVHJhbnNmb3JtfSBmcm9tICcuL0luc3RydW1lbnRhdGlvbi9zYXZlLXRvcC1sZXZlbC10cmFuc2Zvcm0uanMnO1xyXG5cclxuZnVuY3Rpb24gY2VudGVyc0N5bGluZGVyUHJpbWl0aXZlKHAxLCBwMiwgcmFkaXVzKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJjZW50ZXJzQ3lsaW5kZXJcIixcclxuXHRcdHAxLFxyXG5cdFx0cDIsXHJcblx0XHRyYWRpdXNcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIGNlbnRlclNwaGVyZVByaW1pdGl2ZShjZW50ZXIsIHJhZGl1cykge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwiY2VudGVyU3BoZXJlXCIsXHJcblx0XHRjZW50ZXIsXHJcblx0XHRyYWRpdXNcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIGNvcm5lcnNCb3hQcmltaXRpdmUocDEsIHAyKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJjb3JuZXJzQm94XCIsXHJcblx0XHRwMSxcclxuXHRcdHAyXHJcblx0fTtcclxufVxyXG5mdW5jdGlvbiByaWdodEN1Ym9pZFByaW1pdGl2ZShwMSwgd2lkdGgsIGhlaWdodCwgcDIpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcInJpZ2h0Q3Vib2lkXCIsXHJcblx0XHRwMSxcclxuXHRcdHdpZHRoLFxyXG5cdFx0aGVpZ2h0LFxyXG5cdFx0cDJcclxuXHR9O1xyXG59XHJcbmZ1bmN0aW9uIGNvbmVGcnVzdHVtUHJpbWl0aXZlKHAxLCByYWRCb3QsIHJhZFRvcCwgcDIpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcImNvbmVGcnVzdHVtXCIsXHJcblx0XHRwMSwgXHJcblx0XHRyYWRCb3QsXHJcblx0XHRyYWRUb3AsXHJcblx0XHRwMlxyXG5cdH07XHJcbn1cclxuZnVuY3Rpb24gcG9seWdvblByaW1pdGl2ZSh2ZXJ0cykge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwicG9seWdvblwiLFxyXG5cdFx0dmVydGljZXM6IHZlcnRzXHJcblx0fTtcclxufVxyXG5mdW5jdGlvbiBleHRydXNpb25QcmltaXRpdmUoc2hhcGUsIHZlYykge1xyXG5cdHJldHVybiB7XHJcblx0XHRbUHJpbWl0aXZlUHJvcF06IFwiZXh0cnVzaW9uXCIsXHJcblx0XHRzaGFwZSxcclxuXHRcdHZlY1xyXG5cdH07XHJcbn1cclxuZnVuY3Rpb24gdHJhbnNsYXRlUHJpbWl0aXZlKHNoYXBlLCB2ZWMpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0W1ByaW1pdGl2ZVByb3BdOiBcIm1vdmVcIixcclxuXHRcdHNoYXBlLFxyXG5cdFx0dmVjXHJcblx0fTtcclxufVxyXG5mdW5jdGlvbiByb3RhdGVQcmltaXRpdmUoc2hhcGUsIGFuZywgcCwgdmVjKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdFtQcmltaXRpdmVQcm9wXTogXCJyb3RhdGVcIixcclxuXHRcdHNoYXBlLFxyXG5cdFx0YW5nLFxyXG5cdFx0cCxcclxuXHRcdHZlY1xyXG5cdH07XHJcbn1cclxuXHJcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5pbXBvcnQgc2VxdWVuY2UgZnJvbSAnLi4vU2NlbmVHcmFwaC9QcmVkZWZzL3NlcXVlbmNlLmpzJztcclxuaW1wb3J0IHtwb2ludCwgdmVjdG9yfSBmcm9tICcuLi9TY2VuZUdyYXBoL1ByZWRlZnMvcG9pbnQtdmVjdG9yLW1hdHJpeC5qcyc7XHJcbmltcG9ydCByYW5kb20gZnJvbSAnLi4vU2NlbmVHcmFwaC9QcmVkZWZzL3JhbmRvbS5qcyc7XHJcbmltcG9ydCBtYXRoIGZyb20gJy4uL1NjZW5lR3JhcGgvUHJlZGVmcy9tYXRoLmpzJztcclxuaW1wb3J0IGZ1bmN0aW9uYWwgZnJvbSAnLi4vU2NlbmVHcmFwaC9QcmVkZWZzL2Z1bmN0aW9uYWwuanMnO1xyXG5cclxuY29uc3QgY3lsaW5kZXIgPSB7fTtcclxuY3lsaW5kZXIuYnlDZW50ZXJzUmFkaXVzID0gZnVuY3Rpb24oW2MxLCBjMl0sIHJhZGl1cykge1xyXG5cdHJldHVybiBjZW50ZXJzQ3lsaW5kZXJQcmltaXRpdmUoYzEsIGMyLCByYWRpdXMpO1xyXG59O1xyXG5jeWxpbmRlci5ieUJvdHRvbVJhZGl1c0hlaWdodCA9IGZ1bmN0aW9uIChib3R0b20sIHJhZGl1cywgaGVpZ2h0KSB7XHJcblx0bGV0IHRvcCA9IHZlY3Rvci5hZGQoYm90dG9tLCB2ZWN0b3IuYnlYWVooMCwgMCwgaGVpZ2h0KSk7XHJcblx0cmV0dXJuIGNlbnRlcnNDeWxpbmRlclByaW1pdGl2ZShib3R0b20sIHRvcCwgcmFkaXVzKTtcclxufTtcclxuXHJcbmNvbnN0IHNwaGVyZSA9IHt9O1xyXG5zcGhlcmUuYnlDZW50ZXJSYWRpdXMgPSBmdW5jdGlvbihjZW50ZXIsIHJhZGl1cykge1xyXG5cdHJldHVybiBjZW50ZXJTcGhlcmVQcmltaXRpdmUoY2VudGVyLCByYWRpdXMpO1xyXG59O1xyXG5cclxuY29uc3QgYm94ID0ge307XHJcbmJveC5ieUNvcm5lcnMgPSBmdW5jdGlvbihbYzEsIGMyXSkge1xyXG5cdHJldHVybiBjb3JuZXJzQm94UHJpbWl0aXZlKGMxLCBjMik7XHJcbn07XHJcbmJveC5ieUNvcm5lclhZWiA9IGZ1bmN0aW9uKGMsIFtkeCwgZHksIGR6XSkge1xyXG5cdHJldHVybiBjb3JuZXJzQm94UHJpbWl0aXZlKGMsIHZlY3Rvci5hZGQoYywgdmVjdG9yLmJ5WFlaKGR4LCBkeSwgZHopKSk7XHJcbn07XHJcbmJveC5ieUJvdHRvbVdpZHRoSGVpZ2h0WiA9IGZ1bmN0aW9uKHAsIFt3aWR0aCwgaGVpZ2h0XSwgeikge1xyXG5cdHJldHVybiByaWdodEN1Ym9pZFByaW1pdGl2ZShwLCB3aWR0aCwgaGVpZ2h0LCB2ZWN0b3IuYWRkKHAsIHZlY3Rvci5ieVooeikpKTtcclxufTtcclxuYm94LmJ5Q2VudGVyc1dpZHRoSGVpZ2h0ID0gZnVuY3Rpb24oW2MxLCBjMl0sIFt3aWR0aCwgaGVpZ2h0XSkge1xyXG5cdHJldHVybiByaWdodEN1Ym9pZFByaW1pdGl2ZShjMSwgd2lkdGgsIGhlaWdodCwgYzIpO1xyXG59O1xyXG5ib3guYnlXaWR0aEhlaWdodERlcHRoID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgZGVwdGgpIHtcclxuXHRyZXR1cm4gcmlnaHRDdWJvaWRQcmltaXRpdmUodmVjdG9yLmJ5WigtZGVwdGgvMi4wKSwgd2lkdGgsIGhlaWdodCwgdmVjdG9yLmJ5WihkZXB0aC8yLjApKTtcclxufTtcclxuXHJcbmNvbnN0IGNvbmVGcnVzdHVtID0ge307XHJcbmNvbmVGcnVzdHVtLmJ5Qm90dG9tVG9wUmFkaXVzZXNIZWlnaHQgPSBmdW5jdGlvbihwLCByYWRCb3QsIHJhZFRvcCwgaGVpZ2h0KSB7XHJcblx0cmV0dXJuIGNvbmVGcnVzdHVtUHJpbWl0aXZlKHAsIHJhZEJvdCwgcmFkVG9wLCBwb2ludC5hZGQocCwgdmVjdG9yLmJ5WihoZWlnaHQpKSk7XHJcbn07XHJcbmNvbmVGcnVzdHVtLmJ5Qm90dG9tUmFkaXVzVG9wUmFkaXVzID0gZnVuY3Rpb24ocDEsIHIxLCBwMiwgcjIpIHtcclxuXHRyZXR1cm4gY29uZUZydXN0dW1QcmltaXRpdmUocDEsIHIxLCByMiwgcDIpO1xyXG59O1xyXG5cclxuY29uc3QgcG9seWdvbiA9IHt9O1xyXG5wb2x5Z29uLnN1cmZhY2UgPSB7fTtcclxucG9seWdvbi5zdXJmYWNlLmJ5VmVydGljZXMgPSBmdW5jdGlvbih2ZXJ0cykge1xyXG5cdHJldHVybiBwb2x5Z29uUHJpbWl0aXZlKHZlcnRzKTtcclxufTtcclxuXHJcbmNvbnN0IGV4dHJ1c2lvbiA9IHt9O1xyXG5leHRydXNpb24uYnlTdXJmYWNlVmVjdG9yID0gZnVuY3Rpb24oc3VyZiwgdmVjKSB7XHJcblx0cmV0dXJuIGV4dHJ1c2lvblByaW1pdGl2ZShzdXJmLCB2ZWMpO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdHJldHVybiB7XHJcblx0XHRieVZlY3RvcjogKHZlYyk9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZVByaW1pdGl2ZShvYmplY3QsIHZlYyk7XHJcblx0XHR9LFxyXG5cdFx0YnlYWVo6ICh4LCB5LCB6KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlUHJpbWl0aXZlKG9iamVjdCwgdmVjdG9yLmJ5WFlaKHgsIHksIHopKTtcclxuXHRcdH0sXHJcblx0XHRieVg6ICh4KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlUHJpbWl0aXZlKG9iamVjdCwgdmVjdG9yLmJ5WCh4KSk7XHJcblx0XHR9LFxyXG5cdFx0YnlZOiAoeSk9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZVByaW1pdGl2ZShvYmplY3QsIHZlY3Rvci5ieVkoeSkpO1xyXG5cdFx0fSxcclxuXHRcdGJ5WjogKHopPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVQcmltaXRpdmUob2JqZWN0LCB2ZWN0b3IuYnlaKHopKTtcclxuXHRcdH1cclxuXHR9O1xyXG59O1xyXG50cmFuc2xhdGUuYnlWZWN0b3IgPSBmdW5jdGlvbih2ZWMpIHtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZVByaW1pdGl2ZSwgXywgdmVjKTtcclxufVxyXG50cmFuc2xhdGUuYnlYWVogPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVQcmltaXRpdmUsIF8sIHZlY3Rvci5ieVhZWih4LCB5LCB6KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVggPSBmdW5jdGlvbih4KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZVByaW1pdGl2ZSwgXywgdmVjdG9yLmJ5WCh4KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVkgPSBmdW5jdGlvbih5KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZVByaW1pdGl2ZSwgXywgdmVjdG9yLmJ5WSh5KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVogPSBmdW5jdGlvbih6KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZVByaW1pdGl2ZSwgXywgdmVjdG9yLmJ5Wih6KSk7XHJcbn07XHJcblxyXG5jb25zdCBvcmlnaW4gPSB2ZWN0b3IuYnlaKDApO1xyXG5jb25zdCByb3RhdGUgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0YXJvdW5kQXhpc0J5QW5nbGU6IGZ1bmN0aW9uKGF4aXMsIHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIGF4aXMuY2VudGVyLCBheGlzLnZlY3Rvcik7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGU6IGZ1bmN0aW9uKGF4aXNWZWN0b3IsIHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgYXhpc1ZlY3Rvcik7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kWEJ5QW5nbGU6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgdmVjdG9yLmJ5WCgxKSk7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kWUJ5QW5nbGU6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgdmVjdG9yLmJ5WSgxKSk7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kWkJ5QW5nbGU6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgdmVjdG9yLmJ5WigxKSk7XHJcblx0XHR9LFxyXG5cdFx0YWxpZ25pbmdBeGVzOiBmdW5jdGlvbihmcm9tQXhpcywgdG9BeGlzKSB7XHJcblx0XHRcdGxldCBkb3QgPSBmcm9tQXhpcy5kb3QodG9BeGlzKSxcclxuXHRcdFx0XHRjcm9zcyA9IChuZXcgVEhSRUUuVmVjdG9yMygpKS5jcm9zc1ZlY3RvcnMoZnJvbUF4aXMsIHRvQXhpcyksXHJcblx0XHRcdFx0Y3Jvc3NMZW5ndGggPSBjcm9zcy5sZW5ndGgoKTtcclxuXHRcdFx0aWYgKGRvdCA9PT0gMC4wKSB7XHJcblx0XHRcdFx0cmV0dXJuIG9iamVjdDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgTWF0aC5hY29zKGRvdCksIG9yaWdpbiwgY3Jvc3MubXVsdGlwbHlTY2FsYXIoMS9jcm9zc0xlbmd0aCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZEF4aXNWZWN0b3JCeUFuZ2xlID0gZnVuY3Rpb24oYXhpcywgcmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiByb3RhdGVQcmltaXRpdmUob2JqZWN0LCByYWRpYW5zLCBvcmlnaW4sIGF4aXMpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hcm91bmRYQnlBbmdsZSA9IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gcm90YXRlUHJpbWl0aXZlKG9iamVjdCwgcmFkaWFucywgb3JpZ2luLCB2ZWN0b3IuYnlYKDEpKTtcclxuXHR9O1xyXG59O1xyXG5yb3RhdGUuYXJvdW5kWUJ5QW5nbGUgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHJvdGF0ZVByaW1pdGl2ZShvYmplY3QsIHJhZGlhbnMsIG9yaWdpbiwgdmVjdG9yLmJ5WSgxKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZFpCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiByb3RhdGVQcmltaXRpdmUob2JqZWN0LCByYWRpYW5zLCBvcmlnaW4sIHZlY3Rvci5ieVooMSkpO1xyXG5cdH07XHJcbn07XHJcbnJvdGF0ZS5hbGlnbmluZ0F4ZXMgPSBmdW5jdGlvbihmcm9tQXhpcywgdG9BeGlzKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0bGV0IGRvdCA9IGZyb21BeGlzLmRvdCh0b0F4aXMpLFxyXG5cdFx0XHRjcm9zcyA9IChuZXcgVEhSRUUuVmVjdG9yMygpKS5jcm9zc1ZlY3RvcnMoZnJvbUF4aXMsIHRvQXhpcyksXHJcblx0XHRcdGNyb3NzTGVuZ3RoID0gY3Jvc3MubGVuZ3RoKCk7XHJcblx0XHRpZiAoZG90ID09PSAwLjApIHtcclxuXHRcdFx0cmV0dXJuIG9iamVjdDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiByb3RhdGVQcmltaXRpdmUob2JqZWN0LCBNYXRoLmFjb3MoZG90KSwgb3JpZ2luLCBjcm9zcy5tdWx0aXBseVNjYWxhcigxL2Nyb3NzTGVuZ3RoKSk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxubGV0IHByZWRlZmluZWRCaW5kaW5ncyA9IFtcclxuXHR7bmFtZTogXCJzZXF1ZW5jZVwiLCB2YWx1ZTogc2VxdWVuY2V9LFxyXG5cdHtuYW1lOiBcImJveFwiLCB2YWx1ZTogYm94fSxcclxuXHR7bmFtZTogXCJjeWxpbmRlclwiLCB2YWx1ZTogY3lsaW5kZXJ9LFxyXG5cdHtuYW1lOiBcInNwaGVyZVwiLCB2YWx1ZTogc3BoZXJlfSxcclxuXHR7bmFtZTogXCJjb25lRnJ1c3R1bVwiLCB2YWx1ZTogY29uZUZydXN0dW19LFxyXG5cdHtuYW1lOiBcInBvbHlnb25cIiwgdmFsdWU6IHBvbHlnb259LFxyXG5cdHtuYW1lOiBcImV4dHJ1c2lvblwiLCB2YWx1ZTogZXh0cnVzaW9ufSxcclxuXHR7bmFtZTogXCJwb2ludFwiLCB2YWx1ZTogcG9pbnR9LFxyXG5cdHtuYW1lOiBcInZlY3RvclwiLCB2YWx1ZTogdmVjdG9yfSxcclxuXHR7bmFtZTogXCJyYW5kb21cIiwgdmFsdWU6IHJhbmRvbX0sXHJcblx0e25hbWU6IFwibWF0aFwiLCB2YWx1ZTogbWF0aH0sXHJcblx0e25hbWU6IFwiZnVuY3Rpb25hbFwiLCB2YWx1ZTogZnVuY3Rpb25hbH0sXHJcblx0e25hbWU6IFwidHJhbnNsYXRlXCIsIHZhbHVlOiB0cmFuc2xhdGV9LFxyXG5cdHtuYW1lOiBcInJvdGF0ZVwiLCB2YWx1ZTogcm90YXRlfVxyXG5dO1xyXG5cclxuLy9cclxuLy8gUnVubmVyXHJcbi8vXHJcblxyXG5mdW5jdGlvbiBydW5JbkNhZChwcm9ncmFtKSB7XHJcblx0Ly8gdXNlIGRpZmZlcmVudCBwcmVkZWZpbmVkIGZ1bmN0aW9ucyBhbmQgcHJpbWl0aXZlcyAocHJpbWl0aXZlcylcclxuXHQvLyBydW4gdGhlIHByb2dyYW0gbG9jYWxseSAocnVubmluZy1pZGVhKVxyXG5cdGxldCBbc2F2ZVRvcExldmVsQ29udGV4dF0gPSBydW5Qcm9ncmFtUHJpbWUyKHByb2dyYW0sIFtzYXZlVG9wTGV2ZWxUcmFuc2Zvcm1dLCBwcmVkZWZpbmVkQmluZGluZ3MpO1xyXG5cdGxldCByZXN1bHRzID0gc2F2ZVRvcExldmVsQ29udGV4dC50b3BMZXZlbEV4cHJSZXN1bHRzLnZhbHVlcygpO1xyXG5cdC8vIGV4ZWN1dGUgdGhlIHRvcC1sZXZlbCByZXN1bHRzIHdpdGggdGhlIENBRCBBUEkgKHRvLXRocmVlKVxyXG5cdGxldCB7Y2FkUmVmc30gPSByZXN1bHRzVG9DQUQocmVzdWx0cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyQ2FkKCkge1xyXG5cdHN5bmNocm9ub3VzSHR0cFJlcXVlc3QoXCJlcmFzZS1hbGxcIiwge30sIFwiR0VUXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RDYWRzKGNhZHMpIHtcclxuXHRzeW5jaHJvbm91c0h0dHBSZXF1ZXN0KFwiYWN0aXZlLWJhY2tlbmRzXCIsIHtcclxuXHRcdGJhY2tlbmRzOiBjYWRzXHJcblx0fSwgXCJQVVRcIik7XHJcbn1cclxuXHJcbmV4cG9ydCB7cnVuSW5DYWQsIGNsZWFyQ2FkLCBzZWxlY3RDYWRzfTtcclxuXHJcbiIsIlxyXG5pbXBvcnQge25vZGVJZH0gZnJvbSAnLi9QYXJzaW5nL25vZGUtaWQuanMnO1xyXG5pbXBvcnQge2dldE5vZGVCeUlkfSBmcm9tICcuL1BhcnNpbmcvZ2V0Tm9kZUJ5SWQuanMnO1xyXG5pbXBvcnQge3NvdXJjZVRvQXN0fSBmcm9tICcuL1BhcnNpbmcvcHJvZ3JhbS5qcyc7XHJcblxyXG4vLyBkZXBlbmRlbmNpZXM6IHJ1bi53aXRoVHJhY2VhYmlsaXR5ICsgUHJvZ3JhbVxyXG5cclxuLypcclxuICA9PT09PT09PVJ1biBjYXB0dXJlZCBpbmZvcm1hdGlvbjo9PT09PT09PT09PT09XHJcbiAgdG9wbGV2ZWxyZXN1bHRzIDo6IEFzdE5vZGUgLT4gUHJvZ3JhbVJlc3VsdFxyXG4gIHRyYWNlY2FsbCA6OiBBc3ROb2RlIC0+IFtDYWxsVHJhY2VFbGVtZW50XVxyXG4gICAgQ2FsbFRyYWNlRWxlbWVudCA6OiAoQXN0Tm9kZSwgW1Byb2dyYW1SZXN1bHRdLCBQcm9ncmFtUmVzdWx0KVxyXG4qL1xyXG4vKlxyXG4gIEkgZ290IGEgcGF0aCB0byBhIHNwZWNpZmljIHVzZSBvZiBhIHJlc3VsdC4gXHJcbiAgcGF0aDogW2xlYWYsIGZhdGhlciwgZ3JhbmRmYXRoZXJdXHJcbiAgSSB3YW50IHRvIGtub3cgd2hpY2ggQXN0Tm9kZSB3YXMgdGhlIGNyZWF0b3Igb2YgdGhlIHJlc3VsdCBjbG9zZXN0IHRvIGxlYWYuXHJcbiAgXHJcbiAgSXQgaXMgZ2FyYW50aWVkIHRvIGhhdmUgYmVlbiByZXR1cm5lZCBieSBhIG5vZGUsIHVubGVzcyBpdCBpcyBhIFxyXG5wcmVkZWZpbmVkIG9yIHByaW1pdGl2ZSB2YWx1ZS5cclxuXHJcbiAgVGhlIHBhdGggbWF5IGNvbnRhaW4gcmVzdWx0cyB0aGF0IHdlcmUgbm90IHJldHVybmVkIGJ5IHRoZW1zZWx2ZXMgXHJcbmJ1dCB0aHJvdWdoIHRoZWlyIHBhcmVudHMuXHJcbiAgV2UgaGF2ZSB0byBmaW5kIHRoZSBmaXJzdCByZXN1bHQgb2YgcGF0aCB0aGF0IHdhcyByZXR1cm5lZCBieSBhIG5vZGUuXHJcbiAgVGhlcmUgbWF5IGJlIHNldmVyYWwgbm9kZXMgdGhhdCByZXR1cm5lZCB0aGUgcmVzdWx0LiBXZSB3YW50IHRvIHJldHVyblxyXG50aGUgZmlyc3Qgbm9kZSB0aGF0IHJldHVybmVkIGl0LlxyXG5cclxuICBKYXZhc2NyaXB0IE1hcCBpdGVyYXRpb24gZm9sbG93cyBpbnNlcnRpb24gb3JkZXIuIFRoaXMgbGVhZHMgdG86XHJcbiAgICAtIFdoZW4gaXRlcmF0aW5nIHRocm91Z2ggdHJhY2VhYmlsaXR5SW5mby5jYWxsVHJhY2VzLCB3ZSB2aXNpdCBub2RlcyBcclxuICBvcmRlcmVkIGJ5IHRoZSBmaXJzdCB0aW1lIHRoZXkgd2VyZSBleGVjdXRlZC4gXHJcbiAgICAgIC0gSW4gYSBmdW5jdGlvbiBjYWxsOiBhcmd1bWVudHMgLT4gYm9keSAtPiByZXR1cm5cclxuICAgIC0gRWFjaCBub2RlJ3MgY2FsbFRyYWNlcyBhcmUgdmlzaXRlZCBieSBjcmlhdGlvbi9leGVjdXRpb24gb3JkZXIuXHJcbiovXHJcbmZ1bmN0aW9uIGdldFJlc3VsdENyZWF0b3JOb2RlKHJlc3VsdEluc3RhbmNlLCBwYXRoLCB0cmFjZWFiaWxpdHlSZXN1bHRzLCBwcm9ncmFtKSB7XHJcbiAgZnVuY3Rpb24gcmV0dXJuZXJOb2RlcyhyZXN1bHQpIHtcclxuICAgIGNvbnN0IHJldHVybnNSZXN1bHQgPSAoW25vZGUsY2FsbFRyYWNlc10pID0+IGNhbGxUcmFjZXMuc29tZShjPT5jLnJlc3VsdD09PXJlc3VsdCk7XHJcbiAgICBsZXQgbm9kZXNDYWxsVHJhY2VzID0gQXJyYXkuZnJvbSh0cmFjZWFiaWxpdHlSZXN1bHRzLnRyYWNlYWJpbGl0eUluZm8uY2FsbFRyYWNlcy5lbnRyaWVzKCkpO1xyXG4gICAgcmV0dXJuIG5vZGVzQ2FsbFRyYWNlc1xyXG4gICAgICAuZmlsdGVyKHJldHVybnNSZXN1bHQpXHJcbiAgICAgIC5tYXAoKFtub2RlLGNhbGxUcmFjZV0pPT5nZXROb2RlQnlJZChwcm9ncmFtLCBub2RlKSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHdhc1JldHVybmVkQnlOb2RlKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIHJldHVybmVyTm9kZXMocmVzdWx0KS5sZW5ndGggIT09IDA7XHJcbiAgfVxyXG4gIC8vRmluZCB0aGUgZmlyc3QgcmVzdWx0IG9mIHBhdGggdGhhdCB3YXMgcmV0dXJuZWQgbm9kZXMuXHJcbiAgLy9SZXR1cm4gdGhlIGZpcnN0IG5vZGUgdGhhdCByZXR1cm5lZCB0aGF0IHJlc3VsdC5cclxuICAvL1RPRE8gRklYTUUgR2FyYW50eSB0aGF0IHRoZSByZXR1cm5lZCBub2RlIGlzIGFjdHVhbGx5IHRoZSBvbmUgdGhhdCBjcmVhdGVkIHRoZSByZXN1bHQuXHJcbiAgbGV0IGN1cnJlbnRSZXN1bHRJZHggPSAwO1xyXG4gIHdoaWxlKGN1cnJlbnRSZXN1bHRJZHggPCBwYXRoLmxlbmd0aCkge1xyXG4gICAgbGV0IGN1cnJlbnRSZXN1bHQgPSBwYXRoW2N1cnJlbnRSZXN1bHRJZHhdO1xyXG4gICAgbGV0IHJldHVybmVycyA9IHJldHVybmVyTm9kZXMoY3VycmVudFJlc3VsdCk7XHJcbiAgICBpZihyZXR1cm5lcnMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHJldHVybiByZXR1cm5lcnNbMF07XHJcbiAgICB9XHJcbiAgICBjdXJyZW50UmVzdWx0SWR4Kys7XHJcbiAgfVxyXG4gIC8vT3RoZXJ3aXNlLCBkZWZhdWx0IHRvIHRoZSBub2RlIHRoYXQgcmVwcmVzZW50IHRoZSB3aG9sZSBwcm9ncmFtLlxyXG4gIHJldHVybiBzb3VyY2VUb0FzdChwcm9ncmFtKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Tm9kZVJlc3VsdHMobm9kZSwgcGF0aCwgdHJhY2VhYmlsaXR5UmVzdWx0cykge1xyXG4gIC8vVE9ETyBnZXROb2RlUmVzdWx0cygpIC0+IEdldCByZXN1bHRzIG9mIG1vcmUgdGhhbiBjYWxsIGV4cHJlc3Npb25zLlxyXG4gIGNvbnN0IG5vZGVJZFRvQ2FsbFRyYWNlcyA9IHRyYWNlYWJpbGl0eVJlc3VsdHMudHJhY2VhYmlsaXR5SW5mby5jYWxsVHJhY2VzO1xyXG4gIGxldCBub2Rlc1dpdGhSZXN1bHRzID0gcGF0aC5maWx0ZXIoXHJcbiAgICBub2RlID0+IG5vZGVJZFRvQ2FsbFRyYWNlcy5oYXMobm9kZUlkKG5vZGUpKSk7XHJcbiAgaWYobm9kZXNXaXRoUmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICBsZXQgY2FsbFRyYWNlc09mRmlyc3QgPSBub2RlSWRUb0NhbGxUcmFjZXMuZ2V0KG5vZGVJZChub2Rlc1dpdGhSZXN1bHRzWzBdKSk7XHJcbiAgICBsZXQgcmVzdWx0c09mRmlyc3QgPSBjYWxsVHJhY2VzT2ZGaXJzdC5tYXAoY2FsbFRyYWNlID0+IGNhbGxUcmFjZS5yZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHNPZkZpcnN0O1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge2dldFJlc3VsdENyZWF0b3JOb2RlLCBnZXROb2RlUmVzdWx0c307XHJcbiIsIlxyXG5pbXBvcnQgcnVuUHJvZ3JhbSBmcm9tICcuL3J1bm5pbmctaWRlYS5qcyc7XHJcbmltcG9ydCB7dHJhbnNmb3JtIGFzIHRyYWNlQ2FsbH0gZnJvbSAnLi9JbnN0cnVtZW50YXRpb24vdHJhY2UtY2FsbC10cmFuc2Zvcm0uanMnO1xyXG5pbXBvcnQge3RyYW5zZm9ybSBhcyBzYXZlVG9wTGV2ZWx9IGZyb20gJy4vSW5zdHJ1bWVudGF0aW9uL3NhdmUtdG9wLWxldmVsLXRyYW5zZm9ybS5qcyc7XHJcblxyXG4vL1xyXG4vLyBUT0RPIEluY3JlYXNlIGNvaGVzaW9uIG9mIHJ1bm5pbmcgcHJvZ3JhbXMuIFxyXG4vL1x0RXg6IERvbid0IHJldHVybiBUcmFuc2Zvcm1SdW5uaW5nQ29udGV4dHMuIFJldHVybiBhbiBhZGFwdGVyLCBvciBzaW1pbGFyLCB0aGF0IGV4cG9zZXMgb25seSByZWxldmFudCBpbmZvcm1hdGlvbi5cclxuLy9cclxuXHJcbmZ1bmN0aW9uIHJ1bldpdGhUcmFjZWFiaWxpdHkocHJvZ3JhbSkge1xyXG5cdHZhciBbcmVzdWx0cywgdHJhY2VhYmlsaXR5SW5mb10gPSBydW5Qcm9ncmFtKFxyXG5cdFx0cHJvZ3JhbSwgW3NhdmVUb3BMZXZlbCwgdHJhY2VDYWxsXSk7XHJcblx0cmV0dXJuIG5ldyBQcm9ncmFtUmVzdWx0cyhyZXN1bHRzLCB0cmFjZWFiaWxpdHlJbmZvKTtcclxufVxyXG5cclxuLy9cclxuLy8gUnVuIGp1c3QgZm9yIHJlc3VsdHMuXHJcbi8vIFRoZSByZXN1bHRzIG9mIGEgcHJvZ3JhbSBhcmUgdGhlIHZhbHVlcyBvZiBpdHMgdG9wLWxldmVsIGV4cHJlc3Npb25zLlxyXG4vL1xyXG5mdW5jdGlvbiBydW4ocHJvZ3JhbSkge1xyXG5cdHZhciBbcmVzdWx0c10gPSBydW5Qcm9ncmFtKHByb2dyYW0sIFtzYXZlVG9wTGV2ZWxdKTtcclxuXHRyZXR1cm4gbmV3IFByb2dyYW1SZXN1bHRzKHJlc3VsdHMpO1xyXG59XHJcblxyXG4vKipcclxuXHRAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIFByb2dyYW1SZXN1bHRzKHJlc3VsdHMsIHRyYWNlYWJpbGl0eUluZm8pIHtcclxuXHR0aGlzLnJlc3VsdHMgPSByZXN1bHRzO1xyXG5cdHRoaXMudHJhY2VhYmlsaXR5SW5mbyA9IHRyYWNlYWJpbGl0eUluZm87XHJcbn1cclxuXHJcbmV4cG9ydCB7cnVuIGFzIHJ1bk5vcm1hbGx5fTtcclxuZXhwb3J0IHtydW5XaXRoVHJhY2VhYmlsaXR5fTtcclxuZXhwb3J0IHtQcm9ncmFtUmVzdWx0c307XHJcbmV4cG9ydCBjb25zdCBlbXB0eVJlc3VsdHMgPSBuZXcgUHJvZ3JhbVJlc3VsdHMoXHJcblx0e3RvcExldmVsRXhwclJlc3VsdHM6IG5ldyBNYXAoKX0sXHJcblx0e2NhbGxUcmFjZXM6IG5ldyBNYXAoKX1cclxuKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgZXNwcmltYSBmcm9tICdlc3ByaW1hJztcclxuaW1wb3J0IGVzdHJhdmVyc2UgZnJvbSAnZXN0cmF2ZXJzZSc7XHJcbmltcG9ydCBlc2NvZGVnZW4gZnJvbSAnZXNjb2RlZ2VuJztcclxuXHJcblxyXG5pbXBvcnQge2NvbnN0cnVjdG9ycyBhcyBOb2RlcywgcmVjb2duaXplcnMgYXMgTm9kZVB9IGZyb20gJy4vUGFyc2luZy9hc3QtdXRpbHMuanMnO1xyXG5pbXBvcnQge3NvdXJjZVRvQXN0fSBmcm9tICcuL1BhcnNpbmcvcHJvZ3JhbS5qcyc7XHJcbmltcG9ydCB7aWRHZW5lcmF0b3J9IGZyb20gJy4vaWQtZ2VuZXJhdG9yLmpzJztcclxuXHJcbmltcG9ydCBwcmltaXRpdmVzIGZyb20gJy4uL1NjZW5lR3JhcGgvcHJpbWl0aXZlcy5qcyc7XHJcblxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQcmltaXRpdmVJbXBvcnRDb2RlKHByaW1pdGl2ZXMpIHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0XCJ2YXIgXCIgXHJcblx0XHQrIHByaW1pdGl2ZXMubWFwKGZ1bmN0aW9uKHByaW1pdGl2ZSwgaSl7XHJcblx0XHRcdFx0cmV0dXJuIFwiXCIrcHJpbWl0aXZlLm5hbWUrXCI9XCIrXCJwcmltaXRpdmVzW1wiK2krXCJdLnZhbHVlXCI7XHJcblx0XHRcdH0pLmpvaW4oXCIsXCIpIFxyXG5cdFx0K1x0XCI7XFxuXCIpO1xyXG59XHJcblxyXG4vL1xyXG4vLyAqKioqKioqKioqKioqKipcclxuLy8gTWFpbiBmdW5jdGlvbiEhXHJcbi8vICoqKioqKioqKioqKioqKlxyXG4vL1xyXG5mdW5jdGlvbiBydW5Qcm9ncmFtUHJpbWUyKHByb2dyYW0sIHRyYW5zZm9ybXMsIHByZWRlZmluZWRCaW5kaW5ncz1wcmltaXRpdmVzKSB7XHJcblx0Ly9cclxuXHQvLyBUT0RPOiBNYXAgbm9kZUlkcyB0byBBc3ROb2Rlcy5cclxuXHQvLyAgICAgICAtIE9wdGlvbiAxOiBDb252ZXJ0IG5vZGVJZHMgdG8gQXN0Tm9kZXMgYWZ0ZXIgcnVubmluZy5cclxuXHQvLyAgICAgICAtIE9wdGlvbiAyOiBQcm92aWRlIGEgZnVuY3Rpb24gdG8gZ2V0IHRoZSBBc3ROb2RlIHdoZW4gcnVubmluZyB0aGUgcHJvZ3JhbS5cclxuXHQvLyAgICAgICAtIE9wdGlvbiAzOiBQcm92aWRlIGEgZnVuY3Rpb24gYW5kIGFuIGFycmF5IHdpdGggQXN0Tm9kZXMgaW4gcHJlb3JkZXIuXHJcblx0Ly8gVE9ETzogSGFuZGxlIHJ1bnRpbWUgZXhjZXB0aW9ucy5cclxuXHQvL1xyXG5cdHZhciBwcm9ncmFtQXN0ID0gXy5jbG9uZURlZXAoc291cmNlVG9Bc3QocHJvZ3JhbSkpO1xyXG5cclxuXHQvL2dhdGhlciBub2RlcyBhZmZlY3RlZCBieSBlYWNoIHRyYW5zZm9ybVxyXG5cdHZhciBub2Rlc1RvSW5zdHJ1bWVudCA9IG5ldyBNYXAodHJhbnNmb3Jtcy5tYXAodD0+W3QsbmV3IFNldCgpXSkpO1xyXG5cdHRyYW5zZm9ybXMuZm9yRWFjaChmdW5jdGlvbih0KXtcclxuXHRcdHZhciB0cmFuc2Zvcm1TZXQgPSBub2Rlc1RvSW5zdHJ1bWVudC5nZXQodCk7XHJcblx0XHRlc3RyYXZlcnNlLnRyYXZlcnNlKHByb2dyYW1Bc3QsIHtcclxuXHRcdFx0ZW50ZXI6IGZ1bmN0aW9uKG5vZGUsIHBhcmVudCkge1xyXG5cdFx0XHRcdGlmKHQuc2VsZWN0KG5vZGUsIHBhcmVudCkpIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybVNldC5hZGQobm9kZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHRcclxuXHR2YXIgY29udGV4dElkcyA9IG5ldyBNYXAodHJhbnNmb3Jtcy5tYXAodD0+W3QsIFwiY3R4X1wiK2lkR2VuZXJhdG9yLm5leHQoKV0pKTtcclxuXHQvL2FwcGx5IHRyYW5zZm9ybWF0aW9ucywgcGFzc2luZyBjb250ZXh0SWQgdG8gZWFjaCBmb3IgYWNjZXNzIHRvIHRoZWlyIGNvbnRleHRcclxuXHR0cmFuc2Zvcm1zLmZvckVhY2goZnVuY3Rpb24odCl7XHJcblx0XHR2YXIgdHJhbnNmb3JtU2V0ID0gbm9kZXNUb0luc3RydW1lbnQuZ2V0KHQpO1xyXG5cdFx0ZXN0cmF2ZXJzZS5yZXBsYWNlKHByb2dyYW1Bc3QsIHtcclxuXHRcdFx0bGVhdmU6IGZ1bmN0aW9uKG5vZGUpIHtcclxuXHRcdFx0XHRpZih0cmFuc2Zvcm1TZXQuaGFzKG5vZGUpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdC50cmFuc2Zvcm0obm9kZSwgY29udGV4dElkcy5nZXQodCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdC8vIGdlbmVyYXRlIHByb2dyYW0gY29kZVxyXG5cdHZhciBwcmltaXRpdmVJbXBvcnRDb2RlID0gZ2VuZXJhdGVQcmltaXRpdmVJbXBvcnRDb2RlKHByZWRlZmluZWRCaW5kaW5ncyk7XHJcblx0dmFyIGluc3RydW1lbnRlZFByb2dyYW0gPSBlc2NvZGVnZW4uZ2VuZXJhdGUocHJvZ3JhbUFzdCk7XHJcblx0XHJcblx0dmFyIGJvZHkgPSBwcmltaXRpdmVJbXBvcnRDb2RlK2luc3RydW1lbnRlZFByb2dyYW07XHJcblxyXG5cdC8vY3JlYXRlIGNvbnRleHRzXHJcblx0dmFyIGNvbnRleHRzID0gdHJhbnNmb3Jtcy5tYXAodD0+dC5tYWtlQ29udGV4dCgpKTtcclxuXHR2YXIgYXJncyA9IEFycmF5LmZyb20oY29udGV4dElkcy52YWx1ZXMoKSkuY29uY2F0KFwicHJpbWl0aXZlc1wiKTtcclxuXHR2YXIgcHJvZ3JhbUZ1bmN0aW9uID0gbmV3IEZ1bmN0aW9uKGFyZ3MsIGJvZHkpO1xyXG5cdHByb2dyYW1GdW5jdGlvbi5hcHBseShudWxsLCBjb250ZXh0cy5jb25jYXQoW3ByZWRlZmluZWRCaW5kaW5nc10pKTtcclxuXHRyZXR1cm4gY29udGV4dHM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJ1blByb2dyYW1QcmltZTI7XHJcbmV4cG9ydCB7cnVuUHJvZ3JhbVByaW1lMn07XHJcbiIsIlxyXG5jb25zdCBmdW5jdGlvbmFsID0ge307XHJcbmZ1bmN0aW9uYWwuY29tcG9zZSA9IGZ1bmN0aW9uKC4uLmZucykge1xyXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gZm5zLnJlZHVjZVJpZ2h0KChwcmV2LCBmbikgPT4gZm4uYXBwbHkobnVsbCwgW3ByZXZdKSwgYXJncyk7XHJcbiAgfTtcclxufTtcclxuXHJcbi8qXHJcbiAgQHBhcmFtIHtbYm9vbGVhbiwgdGh1bmtdfSBjb25kUGFpcnNcclxuKi9cclxuZnVuY3Rpb25hbC5jb25kID0gZnVuY3Rpb24gY29uZChjb25kUGFpcnMpIHtcclxuICBsZXQgaSA9IDA7XHJcbiAgd2hpbGUgKGkgPCBjb25kUGFpcnMubGVuZ3RoKSB7XHJcbiAgICBpZiAoY29uZFBhaXJzW2ldWzBdKSB7XHJcbiAgICAgIHJldHVybiBjb25kUGFpcnNbaV1bMV0oKTtcclxuICAgIH1cclxuICAgIGkrKztcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbmFsO1xyXG4iLCJcclxuY29uc3QgbWF0aCA9IHt9O1xyXG5tYXRoLmxlcnAgPSBmdW5jdGlvbiBsZXJwKGEsIGIsIHQpIHtcclxuICByZXR1cm4gYSArIChiLWEpKnQ7XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWF0aDtcclxuIiwiXHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5jb25zdCBtYXRyaXggPSB7fTtcclxubWF0cml4LmlkZW50aXR5ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcclxubWF0cml4LnRyYW5zbGF0aW9uID0gZnVuY3Rpb24oeCwgeSwgeikge1xyXG5cdHJldHVybiAobmV3IFRIUkVFLk1hdHJpeDQoKSkubWFrZVRyYW5zbGF0aW9uKHgsIHksIHopO1xyXG59O1xyXG5tYXRyaXgucm90YXRpb24gPSBmdW5jdGlvbihheGlzVmVjdG9yLCByYWRpYW5zKSB7XHJcblx0cmV0dXJuIChuZXcgVEhSRUUuTWF0cml4NCgpKS5tYWtlUm90YXRpb25BeGlzKGF4aXNWZWN0b3IsIHJhZGlhbnMpO1xyXG59O1xyXG5tYXRyaXguc2NhbGluZyA9IGZ1bmN0aW9uKHhGYWN0b3IsIHlGYWN0b3IsIHpGYWN0b3IpIHtcclxuXHRyZXR1cm4gKG5ldyBUSFJFRS5NYXRyaXg0KCkpLm1ha2VTY2FsZSh4RmFjdG9yLCB5RmFjdG9yLCB6RmFjdG9yKTtcclxufTtcclxubWF0cml4Lm11bHRpcGx5ID0gZnVuY3Rpb24obTEsIG0yKSB7XHJcblx0cmV0dXJuIG0xLmNsb25lKCkubXVsdGlwbHkobTIpO1xyXG59O1xyXG5tYXRyaXguYmFzaXMgPSBmdW5jdGlvbih4VmVjdG9yLCB5VmVjdG9yLCB6VmVjdG9yLCBvcmlnaW49cG9pbnQuYnlYWVooMCwwLDApKSB7XHJcblx0bGV0IHRtcCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XHJcblx0dG1wLm1ha2VCYXNpcyh4VmVjdG9yLCB5VmVjdG9yLCB6VmVjdG9yKTtcclxuXHR0bXAuc2V0UG9zaXRpb24ob3JpZ2luKTtcclxuXHRyZXR1cm4gdG1wO1xyXG59O1xyXG5tYXRyaXguYXhpc0Nvc1NpbkFuZ2xlID0gZnVuY3Rpb24oYXhpc1ZlY3RvciwgY29zQW5nbGUsIHNpbkFuZ2xlKSB7XHJcblx0Ly9CYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvYW5nbGVUb01hdHJpeC9pbmRleC5odG1cclxuXHRsZXQgYSA9IGF4aXNWZWN0b3IsIGMgPSBjb3NBbmdsZSwgcyA9IHNpbkFuZ2xlO1xyXG5cdGxldCB0ID0gMS4wIC0gYztcclxuXHJcblx0bGV0IHRtcDEgPSBhLngqYS55KnQsXHJcblx0XHR0bXAyID0gYS56KnMsXHJcblx0XHR0bXAzID0gYS54KmEueip0LFxyXG5cdFx0dG1wNCA9IGEueSpzLFxyXG5cdFx0dG1wNSA9IGEueSphLnoqdCxcclxuXHRcdHRtcDYgPSBhLngqcztcclxuXHJcblx0bGV0IG1hdHIgPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xyXG5cdG1hdHIuc2V0KFxyXG5cdFx0YyArIGEueCphLngqdCwgdG1wMSAtIHRtcDIsICAgdG1wMyArIHRtcDQsICAgMC4wLFxyXG5cdFx0dG1wMSArIHRtcDIsICAgYyArIGEueSphLnkqdCwgdG1wNSAtIHRtcDYsICAgMC4wLFxyXG5cdFx0dG1wMyAtIHRtcDQsICAgdG1wNSArIHRtcDYsICAgYyArIGEueiphLnoqdCwgMC4wLFxyXG5cdFx0MC4wLCAgICAgICAgICAgMC4wLCAgICAgICAgICAgMC4wLCAgICAgICAgICAgMS4wKTtcclxuXHJcblx0cmV0dXJuIG1hdHI7XHJcbn07XHJcbm1hdHJpeC5hbGlnbkZyb21BeGlzVG9BeGlzID0gZnVuY3Rpb24oZnJvbUF4aXMsIHRvQXhpcykge1xyXG5cdGxldCBkb3QgPSBmcm9tQXhpcy5kb3QodG9BeGlzKSxcclxuXHRcdGNyb3NzID0gKG5ldyBUSFJFRS5WZWN0b3IzKCkpLmNyb3NzVmVjdG9ycyhmcm9tQXhpcywgdG9BeGlzKSxcclxuXHRcdGNyb3NzTGVuZ3RoID0gY3Jvc3MubGVuZ3RoKCk7XHJcblx0Ly9UT0RPIEltcHJvdmUgdmVjdG9yIGNvbGluZWFyaXR5IGNoZWNrLiBVc2UgYXBwcm94aW1hdGUgZXF1YWxpdHkuXHJcblx0bGV0IGFyZUNvbGluZWFyID0gY3Jvc3NMZW5ndGggPT09IDAuMDtcclxuXHRpZihhcmVDb2xpbmVhcikge1xyXG5cdFx0bGV0IGF4aXMgPSBuZXcgVEhSRUUuVmVjdG9yNCgxLjAsIDAuMCwgMC4wLCAwLjApO1xyXG5cdFx0cmV0dXJuIGRvdCA8IDAuMFxyXG5cdFx0XHQ/XHRtYXRyaXguYXhpc0Nvc1NpbkFuZ2xlKGF4aXMsIC0xLjAsIDAuMClcclxuXHRcdFx0OiBtYXRyaXguYXhpc0Nvc1NpbkFuZ2xlKGF4aXMsIDEuMCwgMC4wKTtcclxuXHR9XHRlbHNlIHtcclxuXHRcdGxldCBheGlzID0gY3Jvc3MuY2xvbmUoKS5tdWx0aXBseVNjYWxhcigxLjAvY3Jvc3NMZW5ndGgpO1xyXG5cdFx0cmV0dXJuIG1hdHJpeC5heGlzQ29zU2luQW5nbGUoYXhpcywgZG90LCBjcm9zc0xlbmd0aCk7XHJcblx0fVxyXG59O1xyXG5cclxuXHJcbmNvbnN0IHZlY3RvciA9IHt9O1xyXG52ZWN0b3IuYnlYWVogPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcblx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KHgsIHksIHosIDAuMCk7XHJcbn07XHJcbnZlY3Rvci5ieVhZID0gZnVuY3Rpb24oeCwgeSkge1xyXG5cdHJldHVybiB2ZWN0b3IuYnlYWVooeCwgeSwgMCk7XHJcbn07XHJcbnZlY3Rvci5ieVlaID0gZnVuY3Rpb24oeSwgeikge1xyXG5cdHJldHVybiB2ZWN0b3IuYnlYWVooMCwgeSwgeik7XHJcbn07XHJcbnZlY3Rvci5ieVggPSBmdW5jdGlvbih4KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWih4LCAwLjAsIDAuMCk7XHJcbn07XHJcbnZlY3Rvci5ieVkgPSBmdW5jdGlvbih5KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWigwLjAsIHksIDAuMCk7XHJcbn07XHJcbnZlY3Rvci5ieVogPSBmdW5jdGlvbih6KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWigwLjAsIDAuMCwgeik7XHJcbn07XHJcbnZlY3Rvci5ieVBvbGFyID0gZnVuY3Rpb24ocmFkaXVzLCB0aGV0YSkge1xyXG5cdHJldHVybiB2ZWN0b3IuYnlYWVoocmFkaXVzKk1hdGguY29zKHRoZXRhKSwgcmFkaXVzKk1hdGguc2luKHRoZXRhKSwgMCk7XHJcbn07XHJcbnZlY3Rvci5ieUN5bGluZHJpY2FsID0gZnVuY3Rpb24ocmFkaXVzLCB0aGV0YSwgaGVpZ2h0KSB7XHJcblx0cmV0dXJuIHZlY3Rvci5ieVhZWihyYWRpdXMqTWF0aC5jb3ModGhldGEpLCByYWRpdXMqTWF0aC5zaW4odGhldGEpLCBoZWlnaHQpO1xyXG59O1xyXG52ZWN0b3IuYnlTcGhlcmljYWwgPSBmdW5jdGlvbihyYWRpdXMsIGF6aW11dGhBbmdsZSwgcG9sYXJBbmdsZSkge1xyXG5cdGxldCBzaW5Qb2xhciA9IE1hdGguc2luKHBvbGFyQW5nbGUpO1xyXG5cdHJldHVybiB2ZWN0b3IuYnlYWVooXHJcblx0XHRyYWRpdXMqTWF0aC5jb3MoYXppbXV0aEFuZ2xlKSpzaW5Qb2xhcixcclxuXHRcdHJhZGl1cypNYXRoLnNpbihhemltdXRoQW5nbGUpKnNpblBvbGFyLFxyXG5cdFx0cmFkaXVzKk1hdGguY29zKHBvbGFyQW5nbGUpKTtcclxufTtcclxuXHJcbnZlY3Rvci5hZGQgPSBmdW5jdGlvbih2MSwgdjIpIHtcclxuXHRyZXR1cm4gdjEuY2xvbmUoKS5hZGQodjIpO1xyXG59O1xyXG52ZWN0b3Iuc3ViID0gZnVuY3Rpb24odjEsIHYyKSB7XHJcblx0cmV0dXJuIHYxLmNsb25lKCkuc3ViKHYyKTtcclxufTtcclxudmVjdG9yLmRvdCA9IGZ1bmN0aW9uKHYxLCB2Mikge1xyXG5cdHJldHVybiB2MS5kb3QodjIpO1xyXG59O1xyXG52ZWN0b3IuY3Jvc3MgPSBmdW5jdGlvbih2MSwgdjIpIHtcclxuXHRsZXQgdmVjM1Jlc3VsdCA9IChuZXcgVEhSRUUuVmVjdG9yMygpKS5jcm9zc1ZlY3RvcnModjEsIHYyKTtcclxuXHRyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjQodmVjM1Jlc3VsdC54LCB2ZWMzUmVzdWx0LnksIHZlYzNSZXN1bHQueiwgMC4wKTtcclxufTtcclxudmVjdG9yLnNjYWxlID0gZnVuY3Rpb24odmVjLCBzY2FsYXIpIHtcclxuXHRyZXR1cm4gdmVjLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoc2NhbGFyKTtcclxufTtcclxudmVjdG9yLmxlbmd0aCA9IGZ1bmN0aW9uKHZlYykge1xyXG5cdHJldHVybiB2ZWMubGVuZ3RoKCk7XHJcbn1cclxudmVjdG9yLm5vcm1hbGl6ZWQgPSBmdW5jdGlvbih2ZWMpIHtcclxuXHRyZXR1cm4gdmVjLmNsb25lKCkubm9ybWFsaXplKCk7XHJcbn07XHJcbnZlY3Rvci5jb29yZHMgPSBmdW5jdGlvbih2ZWMpIHtcclxuXHRyZXR1cm4gW3ZlYy54LCB2ZWMueSwgdmVjLnpdO1xyXG59O1xyXG52ZWN0b3Iuc3BoQ29vcmRzID0gZnVuY3Rpb24odmVjKSB7XHJcblx0bGV0IHIgPSB2ZWMubGVuZ3RoKCk7XHJcblx0cmV0dXJuIFtyLCBNYXRoLmF0YW4yKHZlYy54LCB2ZWMueSksIE1hdGguYWNvcyh2ZWMuei9yKV07XHJcbn07XHJcblxyXG5cclxuY29uc3QgcG9pbnQgPSB7fTtcclxucG9pbnQuYnlYWVogPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcblx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KHgsIHksIHosIDEuMCk7XHJcbn07XHJcbnBvaW50LmJ5WFkgPSBmdW5jdGlvbih4LCB5KSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKHgsIHksIDApO1xyXG59O1xyXG5wb2ludC5ieVhaID0gZnVuY3Rpb24oeCwgeikge1xyXG5cdHJldHVybiBwb2ludC5ieVhZWih4LCAwLCB6KTtcclxufTtcclxucG9pbnQuYnlZWiA9IGZ1bmN0aW9uKHksIHopIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooMCwgeSwgeik7XHJcbn07XHJcbnBvaW50LmJ5WCA9IGZ1bmN0aW9uKHgpIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooeCwgMC4wLCAwLjApO1xyXG59O1xyXG5wb2ludC5ieVkgPSBmdW5jdGlvbih5KSB7XHJcblx0cmV0dXJuIHBvaW50LmJ5WFlaKDAuMCwgeSwgMC4wKTtcclxufTtcclxucG9pbnQuYnlaID0gZnVuY3Rpb24oeikge1xyXG5cdHJldHVybiBwb2ludC5ieVhZWigwLjAsIDAuMCwgeik7XHJcbn07XHJcbnBvaW50LmJ5Q3lsaW5kcmljYWwgPSBmdW5jdGlvbihyYWRpdXMsIHRoZXRhLCBoZWlnaHQpIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVoocmFkaXVzKk1hdGguY29zKHRoZXRhKSwgcmFkaXVzKk1hdGguc2luKHRoZXRhKSwgaGVpZ2h0KTtcclxufTtcclxucG9pbnQuYnlTcGhlcmljYWwgPSBmdW5jdGlvbihyYWRpdXMsIGF6aW11dGhBbmdsZSwgcG9sYXJBbmdsZSkge1xyXG5cdGxldCBzaW5Qb2xhciA9IE1hdGguc2luKHBvbGFyQW5nbGUpO1xyXG5cdHJldHVybiBwb2ludC5ieVhZWihcclxuXHRcdHJhZGl1cypNYXRoLmNvcyhhemltdXRoQW5nbGUpKnNpblBvbGFyLFxyXG5cdFx0cmFkaXVzKk1hdGguc2luKGF6aW11dGhBbmdsZSkqc2luUG9sYXIsXHJcblx0XHRyYWRpdXMqTWF0aC5jb3MocG9sYXJBbmdsZSkpO1xyXG59O1xyXG5wb2ludC54ID0gZnVuY3Rpb24ocHQpIHtcclxuXHRyZXR1cm4gcHQueDtcclxufTtcclxucG9pbnQueSA9IGZ1bmN0aW9uKHB0KSB7XHJcblx0cmV0dXJuIHB0Lnk7XHJcbn07XHJcbnBvaW50LnogPSBmdW5jdGlvbihwdCkge1xyXG5cdHJldHVybiBwdC56O1xyXG59O1xyXG5wb2ludC5vcmlnaW4gPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gcG9pbnQuYnlYWVooMCwgMCwgMCk7XHJcbn1cclxucG9pbnQuYWRkID0gZnVuY3Rpb24ocG9pbnQsIHZlYykge1xyXG5cdHJldHVybiBwb2ludC5jbG9uZSgpLmFkZCh2ZWMpO1xyXG59O1xyXG5wb2ludC5hZGRYID0gZnVuY3Rpb24ocHQsIHgpIHtcclxuXHRyZXR1cm4gcG9pbnQuYWRkKHB0LCB2ZWN0b3IuYnlYWVooeCwgMCwgMCkpO1xyXG59O1xyXG5wb2ludC5hZGRYWiA9IGZ1bmN0aW9uKHB0LCB4LCB6KSB7XHJcblx0cmV0dXJuIHBvaW50LmFkZChwdCwgdmVjdG9yLmJ5WFlaKHgsIDAsIHopKTtcclxufTtcclxucG9pbnQuYWRkWiA9IGZ1bmN0aW9uKHB0LCB6KSB7XHJcblx0cmV0dXJuIHBvaW50LmFkZChwdCwgdmVjdG9yLmJ5WFlaKDAsIDAsIHopKTtcclxufTtcclxucG9pbnQuc3ViID0gZnVuY3Rpb24ocDEsIHAyKSB7XHJcblx0cmV0dXJuIHAxLmNsb25lKCkuc3ViKHAyKTtcclxufTtcclxucG9pbnQuc3ViWiA9IGZ1bmN0aW9uKHB0LCB6KSB7XHJcblx0cmV0dXJuIHBvaW50LnN1YihwdCwgdmVjdG9yLmJ5WFlaKDAsIDAsIHopKTtcclxufTtcclxucG9pbnQucG9pbnRQbHVzVmVjdG9yID0gcG9pbnQuYWRkO1xyXG5wb2ludC5wb2ludE1pbnVzUG9pbnQgPSBwb2ludC5zdWI7XHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQge3ZlY3RvciwgcG9pbnQsIG1hdHJpeH07XHJcbiIsIlxyXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xyXG5cclxuY29uc3QgcmFuZG9tID0ge307XHJcbnJhbmRvbS5pblJhbmdlID0gZnVuY3Rpb24obG93ZXIsIHVwcGVyKSB7XHJcblx0cmV0dXJuIF8ucmFuZG9tKGxvd2VyLCB1cHBlcik7XHJcbn07XHJcbnJhbmRvbS5pbnRlZ2VyID0gZnVuY3Rpb24odXBwZXIpIHtcclxuXHRyZXR1cm4gXy5yYW5kb20oTWF0aC50cnVuYyh1cHBlcikpO1xyXG59O1xyXG5yYW5kb20uaW50ZWdlci5pblJhbmdlID0gZnVuY3Rpb24obG93ZXIsIHVwcGVyKSB7XHJcblx0cmV0dXJuIF8ucmFuZG9tKE1hdGgudHJ1bmMobG93ZXIpLCBNYXRoLnRydW5jKHVwcGVyKSk7XHJcbn07XHJcbnJhbmRvbS5yZWFsID0gZnVuY3Rpb24odXBwZXIpIHtcclxuXHRyZXR1cm4gXy5yYW5kb20odXBwZXIsIHRydWUpO1xyXG59O1xyXG5yYW5kb20ucmVhbC5pblJhbmdlID0gZnVuY3Rpb24obG93ZXIsIHVwcGVyKSB7XHJcblx0cmV0dXJuIF8ucmFuZG9tKGxvd2VyLCB1cHBlciwgdHJ1ZSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCByYW5kb207IiwiXHJcbmNvbnN0IHNlcXVlbmNlID0ge307XHJcbnNlcXVlbmNlLm1hcCA9IGZ1bmN0aW9uKGZuLCBzZXEpIHtcclxuXHRyZXR1cm4gc2VxLm1hcChmbik7XHJcbn07XHJcbnNlcXVlbmNlLnJlZHVjZSA9IGZ1bmN0aW9uKGZuLCBzZXEsIGluaXRpYWxWYWx1ZSkge1xyXG5cdHJldHVybiBzZXEucmVkdWNlKGZuLCBpbml0aWFsVmFsdWUpO1xyXG59O1xyXG4vKipcclxuXHRTcGxpdCB0aGUgW3N0YXJ0LCBlbmRdIGludGVydmFsIGludG8gX2RpdmlzaW9uc18gaW50ZXJ2YWxzLlxyXG5cdFRha2UgdGhlIHN0YXJ0aW5nIHZhbHVlcyBvZiBlYWNoIGludGVydmFsLlxyXG5cdElmIF9sYXN0XyB0aGVuIHRha2UgZW5kIHZhbHVlIG9mIGxhc3QgaW50ZXJ2YWwuXHJcblx0QHJldHVybnMge0FycmF5fSBBbiBhcnJheSBjb250YWluaW5nIG51bWJlcnMgc3BsaXRpbmcgdGhlIGludGVydmFsXHJcblx0XHRbc3RhcnQsZW5kXSBpbnRvIF9kaXZpc2lvbnNfIGVxdWFsbHkgc2l6ZWQgcGFydHMsIGluY2x1ZGluZyBfZW5kXyBpZiBcclxuXHRcdF9sYXN0XyBpcyB0cnVlLlxyXG4qL1xyXG5zZXF1ZW5jZS5kaXZpc2lvbiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIGRpdmlzaW9ucywgbGFzdD10cnVlKSB7XHJcblx0bGV0IHNwYWNlID0gKGVuZCAtIHN0YXJ0KS9kaXZpc2lvbnM7XHJcblx0cmV0dXJuIHNlcXVlbmNlLmNvdW50KGxhc3QgPyBkaXZpc2lvbnMrMSA6IGRpdmlzaW9ucylcclxuXHRcdC5tYXAoaSA9PiBzdGFydCArIHNwYWNlKmkpO1xyXG59O1xyXG4vKipcclxuXHRTYW1lIGFzIGRpdmlzaW9uKGEsIGIsIG4rMSwgdHJ1ZSkuXHJcblx0QHJldHVybnMge0FycmF5fSBBbiBhcnJheSBjb250YWluaW5nIFthLCBldmVubHlTcGFjZWRWYWxzKG4pLCBiXS5cclxuKi9cclxuc2VxdWVuY2UuY3V0SW50ZXJ2YWwgPSBmdW5jdGlvbihhLCBiLCBuKSB7XHJcblx0ZnVuY3Rpb24gY3V0cyh0aW1lcykge1xyXG5cdFx0bGV0IHNwYWNpbmcgPSAoYi1hKS8obisxKTtcclxuXHRcdHJldHVybiBzZXF1ZW5jZS5jb3VudCh0aW1lcykubWFwKGkgPT4gYSArIChpKzEpKnNwYWNpbmcpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIFthLCAuLi5jdXRzKG4pLCBiXTtcclxufTtcclxuLyoqXHJcblx0U2FtZSBhcyBjdXRJbnRlcnZhbCBidXQgbiBpbmNsdWRlcyBfYV8gYW5kIF9iXywgdGhhdCBpcywgY3V0SW50ZXJ2YWwoYSwgYiwgbi0yKS5cclxuXHRMZW5ndGggb2YgcmV0dXJuIGlzIF9uXy5cclxuXHRTYW1lIGFzIGRpdmlzaW9uKGEsIGIsIG4tMSwgdHJ1ZSkuXHJcbiovXHJcbnNlcXVlbmNlLmludGVydmFsRGl2aXNpb24gPSBmdW5jdGlvbihhLCBiLCBuKSB7XHJcblx0Ly9beF8xPXN0YXJ0LCAuLi4sIHhfbj1lbmRdXHJcblx0Ly8gYSA9IDAsIGIgPSAxMFxyXG5cdC8vICBuID0gMFxyXG5cdC8vIFtdXHJcblx0Ly8gIG4gPSAxXHJcblx0Ly8gW05hTl1cclxuXHQvLyAgbiA9IDJcclxuXHQvLyBbMCwgMTBdXHJcblx0Ly8gIG4gPSAzXHJcblx0Ly8gWzAsIDUsIDEwXVxyXG5cdHZhciBzcGFjaW5nID0gKGItYSkvKG4tMSk7XHJcblx0dmFyIHJlcyA9IFtdO1xyXG5cdGZvcih2YXIgaT0wOyBpPG47IGkrKykge1xyXG5cdFx0cmVzLnB1c2goYStpKnNwYWNpbmcpO1xyXG5cdH1cclxuXHRyZXR1cm4gcmVzO1xyXG59O1xyXG4vKipcclxuXHRTYW1lIGFzIGludGVydmFsRGl2aXNpb24gZXhjZXB0IHdpdGggbj0xIC0+IFsoYStiKSowLjVdLlxyXG4qL1xyXG5zZXF1ZW5jZS5ldmVuVmFsc0JldHdlZW4gPSBmdW5jdGlvbihhLCBiLCBuKSB7XHJcblx0aWYgKG4gPT0gMSkge1xyXG5cdFx0cmV0dXJuIFthICsgKGItYSkqMC41XTtcclxuXHR9IFxyXG5cclxuXHRyZXR1cm4gc2VxdWVuY2UuY291bnQobikubWFwKGkgPT4gYSArIGkqKGItYSkvKG4tMSkpO1xyXG59O1xyXG4vKipcclxuXHRAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG1pZGRsZSBvZiBhbGwgc2VnbWVudHMgXHJcblx0XHRmcm9tIGN1dHRpbmcgW2EsIGJdIGludG8gX3NlZ3NfIHNlZ21lbnRzLlxyXG4qL1xyXG5zZXF1ZW5jZS5pbnRlcnZhbE1pZGRsZXMgPSBmdW5jdGlvbihhLCBiLCBzZWdzKSB7XHJcblx0bGV0IHRvdGFsU3BhY2UgPSAoYiAtIGEpO1xyXG5cdGxldCBzZWdtZW50U3BhY2UgPSB0b3RhbFNwYWNlL3NlZ3M7XHJcblx0bGV0IGN1dFBvc2l0aW9uID0gc2VnbWVudFNwYWNlLzI7XHJcblx0cmV0dXJuIHNlcXVlbmNlLmNvdW50KHNlZ3MpLm1hcChpID0+IGEgKyBjdXRQb3NpdGlvbiArIGkqc2VnbWVudFNwYWNlKTtcclxufTtcclxuc2VxdWVuY2UuY291bnQgPSBmdW5jdGlvbihuKSB7XHJcblx0dmFyIGFyciA9IFtdO1xyXG5cdHZhciBpID0gMDtcclxuXHR3aGlsZShpPG4pIHtcclxuXHRcdGFyci5wdXNoKGkpO1xyXG5cdFx0aSsrO1xyXG5cdH1cclxuXHRyZXR1cm4gYXJyO1xyXG59O1xyXG5zZXF1ZW5jZS56aXAgPSBmdW5jdGlvbiguLi5saXN0cykge1xyXG5cdGNvbnN0IHNtYWxsZXJMZW5ndGggPSBNYXRoLm1pbiguLi5saXN0cy5tYXAobHN0ID0+IGxzdC5sZW5ndGgpKTtcclxuXHR2YXIgYXJyID0gW107XHJcblx0dmFyIGkgPSAwO1xyXG5cdHdoaWxlKGk8c21hbGxlckxlbmd0aCkge1xyXG5cdFx0YXJyLnB1c2gobGlzdHMubWFwKGxzdCA9PiBsc3RbaV0pKTtcclxuXHRcdGkrKztcclxuXHR9XHJcblx0cmV0dXJuIGFycjtcclxufTtcclxuLyoqXHJcblx0QHJldHVybnMge0FycmF5fSBBbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgdHVwbGVzIGZyb20gYXBwbHlpbmdcclxuXHRcdHRoZSBjYXJ0ZXNpYW4gcHJvZHVjdCB0byBfbGlzdHNfLlxyXG4qL1xyXG5zZXF1ZW5jZS5jYXJ0ZXNpYW5Qcm9kdWN0ID0gZnVuY3Rpb24oLi4ubHN0cykge1x0XHJcblx0ZnVuY3Rpb24gY2FydEF1eCguLi5saXN0cykge1xyXG5cdFx0aWYgKGxpc3RzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0bGV0IFtsc3QsIC4uLnJlc3RdID0gbGlzdHM7XHJcblx0XHRcdGxldCBzbWFsbGVyQ2FydFByb2QgPSBjYXJ0QXV4KC4uLnJlc3QpO1xyXG5cdFx0XHRyZXR1cm4gc21hbGxlckNhcnRQcm9kXHJcblx0XHRcdFx0Lm1hcCh0dXBsZSA9PiBsc3QubWFwKGVsID0+IFtlbCwgLi4udHVwbGVdKSlcclxuXHRcdFx0XHQucmVkdWNlKChwcmV2LCBjdXIpID0+IFsuLi5jdXIsIC4uLnByZXZdLCBbXSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbGlzdHNbMF0ubWFwKGVsID0+IFtlbF0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGNhcnRBdXgoLi4ubHN0cyk7XHJcblx0LypcclxuXHQvLyBUaGlzIGNvZGUgc2hvdWxkIGJlIGVxdWl2YWxlbnQgdG8gdGhlIGFib3ZlIHdoZW4gbHN0cy5sZW5ndGggPT09IDIuXHJcblx0dmFyIGFyciA9IFtdO1xyXG5cdGZvcihsZXQgaT0wOyBpPGwxLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRmb3IobGV0IGo9MDsgajxsMi5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRhcnIucHVzaChbbDFbaV0sIGwyW2pdXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBhcnI7XHJcblx0Ki9cclxufTtcclxuc2VxdWVuY2Uucm90YXRlID0gZnVuY3Rpb24obHN0LCBvZmZzZXQpIHtcclxuXHRmdW5jdGlvbiBwb3NNb2R1bG8oZGl2aWRlbmQsIGRpdmlzb3IpIHtcclxuXHRcdHJldHVybiAoKGRpdmlkZW5kJWRpdmlzb3IpK2Rpdmlzb3IpJWRpdmlzb3I7XHJcblx0fVxyXG5cdHZhciBhcnIgPSBbXTtcclxuXHRmb3IobGV0IGk9MDsgaTxsc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdGFyci5wdXNoKGxzdFtwb3NNb2R1bG8oaStvZmZzZXQsIGxzdC5sZW5ndGgpXSk7XHJcblx0fVxyXG5cdHJldHVybiBhcnI7XHJcbn07XHJcbnNlcXVlbmNlLnJvdGF0ZUxlZnQgPSBzZXF1ZW5jZS5yb3RhdGU7XHJcbnNlcXVlbmNlLnJlcGVhdFRpbWVzID0gZnVuY3Rpb24oZWxlbSwgbikge1xyXG5cdGxldCBpPTA7XHJcblx0bGV0IGFyciA9IFtdO1xyXG5cdHdoaWxlKGk8bikge1xyXG5cdFx0YXJyLnB1c2goZWxlbSk7XHJcblx0XHRpKys7XHJcblx0fVxyXG5cdHJldHVybiBhcnI7XHJcbn07XHJcbi8qKlxyXG5cdEByZXR1cm5zIHtBcnJheX0gQW4gQXJyYXkgY29udGFpbmluZyB0aGUgZWxlbWVudHMgb2YgYWxsIF9saXN0c19cclxuXHRcdGZvbGxvd2luZyB0aGUgb3JkZXIgbDFbMF0sIC4uLiwgbG5bMF0sIC4uLiwgbDFbbV0sIC4uLiwgbGtbbV0sXHJcblx0XHR3aGVyZSBsayBpcyB0aGUgbGlzdCBiZWZvcmUgZmlyc3QgbGlzdCB0aGF0IGxhY2tzIHRoZSBtdGggZWxlbWVudC5cclxuKi9cclxuc2VxdWVuY2UuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uIGludGVybGVhdmUoLi4ubGlzdHMpIHtcclxuXHRsZXQgcmVzID0gW107XHJcblx0bGV0IHNtYWxsZXN0TGVuZ3RoID0gTWF0aC5taW4uYXBwbHkobnVsbCwgbGlzdHMubWFwKGxzdCA9PiBsc3QubGVuZ3RoKSk7XHJcblx0Zm9yIChsZXQgaiA9IDA7IGogPCBzbWFsbGVzdExlbmd0aDsgaisrKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaTxsaXN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRyZXMucHVzaChsaXN0c1tpXVtqXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZvciAobGV0IGkgPSAwOyBsaXN0c1tpXS5sZW5ndGggIT09IHNtYWxsZXN0TGVuZ3RoOyBpKyspIHtcclxuXHRcdHJlcy5wdXNoKGxpc3RzW2ldW3NtYWxsZXN0TGVuZ3RoXSk7XHJcblx0fVxyXG5cdHJldHVybiByZXM7XHJcbn07XHJcbnNlcXVlbmNlLmNvbmNhdCA9IGZ1bmN0aW9uKC4uLmxpc3RzKSB7XHJcblx0cmV0dXJuIFtdLmNvbmNhdCguLi5saXN0cyk7XHJcbn07XHJcbnNlcXVlbmNlLmxlbmd0aCA9IGZ1bmN0aW9uKGxzdCkge1xyXG5cdHJldHVybiBsc3QubGVuZ3RoO1xyXG59O1xyXG5zZXF1ZW5jZS5kcm9wID0gZnVuY3Rpb24obHN0LCBuKSB7XHJcblx0cmV0dXJuIGxzdC5zbGljZShuKTtcclxufTtcclxuc2VxdWVuY2UuZHJvcFJpZ2h0ID0gZnVuY3Rpb24obHN0LCBuKSB7XHJcblx0cmV0dXJuIGxzdC5zbGljZSgwLCBsc3QubGVuZ3RoLW4pO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbmNlOyIsIlxyXG5pbXBvcnQge0NvbG9yfSBmcm9tICd0aHJlZSc7XHJcblxyXG5mdW5jdGlvbiByYW5kb21Db2xvcigpIHtcclxuICBjb25zdCBjID0gbmV3IENvbG9yKCk7XHJcbiAgYy5zZXRIU0woTWF0aC5yYW5kb20oKSwgMC44LCAwLjUpO1xyXG4gIHJldHVybiBjO1xyXG59XHJcbmZ1bmN0aW9uIGNvbG9yQnlIU0woaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MpIHtcclxuIGNvbnN0IGMgPSBuZXcgQ29sb3IoKTtcclxuICBjLnNldEhTTChodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcyk7XHJcbiAgcmV0dXJuIGM7IFxyXG59XHJcbmNvbnN0IGNvbG9yID0ge307XHJcbmNvbG9yLnJhbmRvbSA9IHJhbmRvbUNvbG9yO1xyXG5jb2xvci5oc2wgPSBjb2xvckJ5SFNMO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbG9yO1xyXG4iLCJcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBjb25zdCBzb2xpZE1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgpO1xyXG5leHBvcnQgY29uc3Qgc3VyZmFjZU1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgpO1xyXG5zdXJmYWNlTWF0LnNpZGUgPSBUSFJFRS5Eb3VibGVTaWRlO1xyXG4iLCJcclxuaW1wb3J0IHt6aXAsIGZsYXR0ZW59IGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7c29saWRNYXR9IGZyb20gJy4vZGVmYXVsdC1tYXRlcmlhbHMuanMnO1xyXG5cclxuLy8gbmFpdmUgdmVyc2lvbjpcclxuLy8gICBhc3N1bWVzIGV4dHJ1ZGFibGUgaGFzIHZlcnRpY2VzIHByb3BlcnR5XHJcbi8vICAgYXNzdW1lcyBzdXJmYWNlIGV4dHJ1ZGFibGUgKGFsd2F5cyBjbG9zZWQpXHJcbi8vICAgYXNzdW1lcyBzdGFuZGFyZCB3aW5kaW5nIChDQ1cpXHJcbi8vICAgYXNzdW1lcyBjb252ZXggZXh0cnVkYWJsZVxyXG5cclxuZnVuY3Rpb24gYm91bmRhcnlTZWN0aW9uKHZlcnRpY2VzKSB7XHJcbiAgcmV0dXJuIHsgdmVydGljZXMgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gYm91bmRhcnlTZWN0aW9uc0Zyb21Cb3VuZGFyeVZlcnRpY2VzKHZlcnRpY2VzKSB7XHJcbiAgLy8gZHVwbGljYXIgdmVydGljZXMgcGFyYSBjYWRhIHNtb290aCBncm91cFxyXG4gIC8vIGVtIGV4dHJ1c8OjbyBwb2xpZ29uYWwgdG9kb3Mgb3MgbGFkb3MgdMOqbSBzbW9vdGggZ3JvdXAgZGlmZXJlbnRlXHJcbiAgLy8gTm90ZTogQ3VycmVubHkgb25seSBmb3IgYSBwb2x5Z29uIHN1cmZhY2UuXHJcbiAgbGV0IHNlY3Rpb25zID0gW107XHJcbiAgZm9yIChsZXQgc2VjPTA7IHNlYyA8IHZlcnRpY2VzLmxlbmd0aDsgc2VjKyspIHtcclxuICAgIHNlY3Rpb25zLnB1c2goYm91bmRhcnlTZWN0aW9uKFtcclxuICAgICAgdmVydGljZXNbc2VjXSwgXHJcbiAgICAgIHZlcnRpY2VzWyhzZWMrMSkldmVydGljZXMubGVuZ3RoXVxyXG4gICAgXSkpO1xyXG4gIH1cclxuICByZXR1cm4gc2VjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJ1ZGFibGVCb3VuZGFyeShleHRydWRhYmxlKSB7XHJcbiAgY29uc3QgdmVydHMgPSBleHRydWRhYmxlLmFyZ3MudmVydGljZXM7XHJcbiAgcmV0dXJuIHtcclxuICAgIHZlcnRpY2VzOiB2ZXJ0cyxcclxuICAgIHNlY3Rpb25zOiBib3VuZGFyeVNlY3Rpb25zRnJvbUJvdW5kYXJ5VmVydGljZXModmVydHMpLFxyXG4gICAgYWRkVmVjdG9yKHZlY3Rvcikge1xyXG4gICAgICBsZXQgbmV3VmVydGljZXMgPSB0aGlzLnZlcnRpY2VzLm1hcCh2ID0+IHYuY2xvbmUoKS5hZGQodmVjdG9yKSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmVydGljZXM6IG5ld1ZlcnRpY2VzLFxyXG4gICAgICAgIHNlY3Rpb25zOiBib3VuZGFyeVNlY3Rpb25zRnJvbUJvdW5kYXJ5VmVydGljZXMobmV3VmVydGljZXMpLFxyXG4gICAgICAgIGFkZFZlY3RvcjogdGhpcy5hZGRWZWN0b3JcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBib3VuZGFyeVN1cmZhY2VOb3JtYWwoYm91bmRhcnkpIHtcclxuICBjb25zdCB2ZXJ0cyA9IGJvdW5kYXJ5LnZlcnRpY2VzO1xyXG4gIGxldCB2MF8xID0gdmVydHNbMV0uY2xvbmUoKS5zdWIodmVydHNbMF0pO1xyXG4gIGxldCB2MF8yID0gdmVydHNbMl0uY2xvbmUoKS5zdWIodmVydHNbMF0pO1xyXG4gIHJldHVybiAobmV3IFRIUkVFLlZlY3RvcjMoKSkuY3Jvc3NWZWN0b3JzKHYwXzEsIHYwXzIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmlhbmdsZUZhbkZhY2VzKHZlcnRleE51bSwgcmV2ZXJzZWQsIG9mZnNldCkge1xyXG4gIGxldCBmYWNlcyA9IFtdO1xyXG4gIGZvciAobGV0IHYwPTAsIHYxPXYwKzEsIHYyPXYwKzI7IHYyIDwgdmVydGV4TnVtOyB2MSsrLCB2MisrKSB7XHJcbiAgICBpZiAoIXJldmVyc2VkKSB7XHJcbiAgICAgIGZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYwK29mZnNldCwgdjErb2Zmc2V0LCB2MitvZmZzZXQpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYwK29mZnNldCwgdjIrb2Zmc2V0LCB2MStvZmZzZXQpKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGZhY2VzO1xyXG59XHJcblxyXG4vKlxyXG4gICAgR2VuZXJhdGVzIGFycmF5IG9mIFRIUkVFLkZhY2UzIGZvciBhIHF1YWQgc3RyaXAgY29ubmVjdGluZyB0d28gc2VwYXJhdGVcclxuICBsaW5lIHN0cmlwcy5cclxuKi9cclxuZnVuY3Rpb24gcXVhZFN0cmlwRmFjZXModmVydE51bSwgcmV2ZXJzZWQsIG9mZnNldDEsIG9mZnNldDIpIHtcclxuICBsZXQgZmFjZXMgPSBbXTtcclxuICBmb3IgKGxldCBxdWFkPTA7IHF1YWQgPCB2ZXJ0TnVtLTE7IHF1YWQrKykge1xyXG4gICAgbGV0IHYxID0gb2Zmc2V0MSArIHF1YWQsIFxyXG4gICAgICB2MiA9IG9mZnNldDEgKyBxdWFkICsgMSxcclxuICAgICAgdjMgPSBvZmZzZXQyICsgcXVhZCArIDEsXHJcbiAgICAgIHY0ID0gb2Zmc2V0MiArIHF1YWQ7XHJcbiAgICBpZiAoIXJldmVyc2VkKSB7XHJcbiAgICAgIGZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKHYxLCB2MiwgdjMpKTtcclxuICAgICAgZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTModjMsIHY0LCB2MSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTModjEsIHYzLCB2MikpO1xyXG4gICAgICBmYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh2MywgdjEsIHY0KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBmYWNlcztcclxufVxyXG5cclxuZnVuY3Rpb24gZXh0cnVzaW9uR2VvbWV0cnkoZXh0cnVkYWJsZSwgZGlzcGxhY2VtZW50KSB7XHJcbiAgbGV0IGdlb20gPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcclxuICAvLyBzZXQgdmVydGljZXNcclxuICBsZXQgc3RhcnRCb3VuZGFyeSA9IGV4dHJ1ZGFibGVCb3VuZGFyeShleHRydWRhYmxlKTtcclxuICBsZXQgZW5kQm91bmRhcnkgPSBzdGFydEJvdW5kYXJ5LmFkZFZlY3RvcihkaXNwbGFjZW1lbnQpO1xyXG4gIGxldCBzdGFydFZlcnRpY2VzID0gc3RhcnRCb3VuZGFyeS52ZXJ0aWNlcztcclxuICBsZXQgZW5kVmVydGljZXMgPSBlbmRCb3VuZGFyeS52ZXJ0aWNlcztcclxuICBsZXQgc3RhcnRTZWN0aW9ucyA9IHN0YXJ0Qm91bmRhcnkuc2VjdGlvbnM7XHJcbiAgbGV0IGVuZFNlY3Rpb25zID0gZW5kQm91bmRhcnkuc2VjdGlvbnM7XHJcbiAgbGV0IHNlY3Rpb25QYWlycyA9IHppcChzdGFydFNlY3Rpb25zLCBlbmRTZWN0aW9ucyk7XHJcbiAgbGV0IHNlY3Rpb25QYWlyVmVydGljZXMgPSBzZWN0aW9uUGFpcnMubWFwKFxyXG4gICAgKFtzMSwgczJdKSA9PiBbLi4uczEudmVydGljZXMsIC4uLnMyLnZlcnRpY2VzXVxyXG4gICk7XHJcbiAgbGV0IGFsbFNlY3Rpb25WZXJ0aWNlcyA9IGZsYXR0ZW4oc2VjdGlvblBhaXJWZXJ0aWNlcyk7XHJcblxyXG4gIGdlb20udmVydGljZXMgPSBbXHJcbiAgICAuLi5zdGFydFZlcnRpY2VzLFxyXG4gICAgLi4uZW5kVmVydGljZXMsXHJcbiAgICAuLi5hbGxTZWN0aW9uVmVydGljZXNcclxuICBdO1xyXG5cclxuICBsZXQgc3RhcnRDYXBOb3JtYWwgPSBib3VuZGFyeVN1cmZhY2VOb3JtYWwoc3RhcnRCb3VuZGFyeSk7XHJcbiAgbGV0IHN0YXJ0Q2FwUmV2ZXJzZWQgPSBzdGFydENhcE5vcm1hbC5kb3QoZGlzcGxhY2VtZW50KSA+IDA7XHJcbiAgbGV0IHN0YXJ0Q2FwRmFjZXMgPSB0cmlhbmdsZUZhbkZhY2VzKHN0YXJ0VmVydGljZXMubGVuZ3RoLCBzdGFydENhcFJldmVyc2VkLCAwKTtcclxuICBsZXQgZW5kQ2FwRmFjZXMgPSB0cmlhbmdsZUZhbkZhY2VzKGVuZFZlcnRpY2VzLmxlbmd0aCwgIXN0YXJ0Q2FwUmV2ZXJzZWQsIHN0YXJ0VmVydGljZXMubGVuZ3RoKTtcclxuXHJcbiAgbGV0IHNlY3Rpb25QYWlyU3RhcnRpbmdPZmZzZXQgPSBzdGFydFZlcnRpY2VzLmxlbmd0aCArIGVuZFZlcnRpY2VzLmxlbmd0aDtcclxuICBsZXQgc2VjdGlvblBhaXJWZXJ0aWNlT2Zmc2V0cyA9IHNlY3Rpb25QYWlyc1xyXG4gICAgLm1hcCgoW3MxLCBzMl0pID0+IHMxLnZlcnRpY2VzLmxlbmd0aCArIHMyLnZlcnRpY2VzLmxlbmd0aClcclxuICAgIC5yZWR1Y2UoXHJcbiAgICAgIChwcmV2LCBjdXJyKSA9PiBbLi4ucHJldiwgcHJldltwcmV2Lmxlbmd0aC0xXStjdXJyXSwgXHJcbiAgICAgIFtzZWN0aW9uUGFpclN0YXJ0aW5nT2Zmc2V0XVxyXG4gICAgKTsgLy8gdGhpcyBpcyBhIHNjYW5cclxuICBsZXQgc2VjdGlvblBhaXJGYWNlcyA9IHNlY3Rpb25QYWlycy5tYXAoKFtzMSwgczJdLCBpZHgpID0+IHtcclxuICAgIGxldCBiYXNlT2Zmc2V0ID0gc2VjdGlvblBhaXJWZXJ0aWNlT2Zmc2V0c1tpZHhdO1xyXG4gICAgcmV0dXJuIHF1YWRTdHJpcEZhY2VzKHMxLnZlcnRpY2VzLmxlbmd0aCwgIXN0YXJ0Q2FwUmV2ZXJzZWQsIGJhc2VPZmZzZXQsIGJhc2VPZmZzZXQrczEudmVydGljZXMubGVuZ3RoKTtcclxuICB9KTtcclxuICBsZXQgc2lkZUZhY2VzID0gZmxhdHRlbihzZWN0aW9uUGFpckZhY2VzKTtcclxuXHJcbiAgZ2VvbS5mYWNlcyA9IFtcclxuICAgIC4uLnN0YXJ0Q2FwRmFjZXMsXHJcbiAgICAuLi5lbmRDYXBGYWNlcyxcclxuICAgIC4uLnNpZGVGYWNlc1xyXG4gIF07XHJcblxyXG4gIC8vIGNvbXB1dGUgbm9ybWFsc1xyXG4gIGdlb20uY29tcHV0ZUZhY2VOb3JtYWxzKCk7XHJcbiAgZ2VvbS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xyXG4gIC8vIGNvbXB1dGUgYm91bmRpbmcgc3BoZXJlXHJcbiAgZ2VvbS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtcclxuICByZXR1cm4gZ2VvbTtcclxufVxyXG5cclxuLy8gZXh0cnVkZS5zdXJmYWNlXHJcbi8vIGV4dHJ1ZGUucGF0aFxyXG5mdW5jdGlvbiB0b1RocmVlRXh0cnVzaW9uKHJlc3VsdCkge1xyXG4gIGNvbnN0IGV4dHJ1ZGFibGUgPSByZXN1bHQuYXJncy5leHRydWRhYmxlO1xyXG4gIGNvbnN0IGRpc3BsYWNlbWVudCA9IHJlc3VsdC5hcmdzLmRpc3BsYWNlbWVudDtcclxuICBsZXQgZ2VvbSA9IGV4dHJ1c2lvbkdlb21ldHJ5KGV4dHJ1ZGFibGUsIGRpc3BsYWNlbWVudCk7XHJcbiAgbGV0IG9iaiA9IG5ldyBUSFJFRS5NZXNoKGdlb20sIHNvbGlkTWF0KTtcclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5leHBvcnQge3RvVGhyZWVFeHRydXNpb24gYXMgZXh0cnVzaW9ufTtcclxuIiwiXHJcbmltcG9ydCBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5mdW5jdGlvbiBtYWtlTWF0cml4VHJhbnNmb3JtZWRPYmplY3QzRChtYXRyaXgpIHtcclxuXHRsZXQgb2JqZWN0ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XHJcblx0b2JqZWN0Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZTtcclxuXHRvYmplY3QubWF0cml4ID0gbWF0cml4O1xyXG5cdHJldHVybiBvYmplY3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1ha2VNYXRyaXhUcmFuc2Zvcm1lZE9iamVjdDNEO1xyXG4iLCJcclxuaW1wb3J0IFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHtzdXJmYWNlTWF0fSBmcm9tICcuL2RlZmF1bHQtbWF0ZXJpYWxzLmpzJztcclxuXHJcbi8vIG5haXZlIHZlcnNpb246XHJcbi8vICBhc3N1bWVzIHRoYXQgYSBjb252ZXggcG9seWdvbiBpcyBwcm92aWRlZFxyXG4vLyAgYXNzdW1lcyB0aGF0IGFsbCB2ZXJ0aWNlcyBhcmUgY29wbGFuYXJcclxuXHJcbmZ1bmN0aW9uIHBvbHlnb25TdXJmYWNlR2VvbWV0cnkodmVydGljZXMpIHtcclxuICBsZXQgZ2VvbSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xyXG4gIC8vIHNldCB2ZXJ0aWNlc1xyXG4gIGdlb20udmVydGljZXMgPSB2ZXJ0aWNlcztcclxuICAvLyBzZXQgZmFjZXMgKEdMX1RSSUFOR0xFX0ZBTilcclxuICBjb25zdCB2MCA9IDA7XHJcbiAgZm9yIChsZXQgdjE9MSwgdjI9MjsgdjIgPCB2ZXJ0aWNlcy5sZW5ndGg7IHYxKyssIHYyKyspIHtcclxuICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTModjAsIHYxLCB2MikpO1xyXG4gIH1cclxuICAvLyBzZXQgbm9ybWFsc1xyXG4gIGdlb20uY29tcHV0ZUZhY2VOb3JtYWxzKCk7XHJcbiAgZ2VvbS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xyXG4gIC8vIHNldCBib3VuZGluZyBzcGhlcmVcclxuICBnZW9tLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO1xyXG4gIHJldHVybiBnZW9tO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b1RocmVlUG9seWdvblN1cmZhY2UocmVzdWx0KSB7XHJcbiAgY29uc3QgdmVydGljZXMgPSByZXN1bHQuYXJncy52ZXJ0aWNlcztcclxuICBsZXQgZ2VvbSA9IHBvbHlnb25TdXJmYWNlR2VvbWV0cnkodmVydGljZXMpO1xyXG4gIGxldCBvYmogPSBuZXcgVEhSRUUuTWVzaChnZW9tLCBzdXJmYWNlTWF0KTtcclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5leHBvcnQge3RvVGhyZWVQb2x5Z29uU3VyZmFjZSBhcyBwb2x5Z29uU3VyZmFjZX07XHJcbiIsIlxyXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xyXG5cclxuLy9UaGlzIGZpbGUgZGVmaW5lcyB0aGUgc2V0IG9mIHByaW1pdGl2ZXMgdGhhdCBwcm9ncmFtcyB3cml0dGVuIGluIHRoZSBJREUgY2FuIHVzZS5cclxuXHJcbi8vQVNDSUkgYXJ0IGZvbnQgaXMgQ29sb3NzYWxcclxuLy9HZW5lcmF0ZWQgdXNpbmcgaHR0cDovL3BhdG9yamsuY29tL3NvZnR3YXJlL3RhYWcvXHJcblxyXG4vLy0gUHJvdmlkZSBtZWNoYW5pc21cclxuLy8tIERlY2xhcmF0aW9uIG9mIHBsYWNlaG9sZGVycyBmb3Igb2JqZWN0cyB0aGF0IGFyZSBzcGF3bmVkIGxhdGVyIGluIHRvLXRocmVlIGFuZCB0by1jYWRcclxuLy8tIFVzZXIgcHJvZ3JhbSBBUEkgc3BlY2lmaWNhdGlvblxyXG4vLyAgIC0gcG9pbnRzLCB2ZWN0b3JzLCB0cmFuc2xhdGlvbiwgcm90YXRpb25cclxuLy8gICAtIEFQSXMgZm9yIGNyZWF0aW5nIG9iamVjdHNcclxuXHJcblxyXG4vLzg4ODg4ODhiLiAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ4YiAgICAgIDg4OCAgICAgICAgICBcclxuLy84ODggICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgICBZOFAgICAgICA4ODggICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgIFxyXG4vLzg4OCAgIGQ4OFAgODg4ZDg4OCAuZDg4Yi4gIDg4OCAgODg4IDg4OCAgLmQ4ODg4OCAgLmQ4OGIuICBcclxuLy84ODg4ODg4UFwiICA4ODhQXCIgIGQ4OFwiXCI4OGIgODg4ICA4ODggODg4IGQ4OFwiIDg4OCBkOFAgIFk4YiBcclxuLy84ODggICAgICAgIDg4OCAgICA4ODggIDg4OCBZODggIDg4UCA4ODggODg4ICA4ODggODg4ODg4ODggXHJcbi8vODg4ICAgICAgICA4ODggICAgWTg4Li44OFAgIFk4YmQ4UCAgODg4IFk4OGIgODg4IFk4Yi4gICAgIFxyXG4vLzg4OCAgICAgICAgODg4ICAgICBcIlk4OFBcIiAgICBZODhQICAgODg4ICBcIlk4ODg4OCAgXCJZODg4OCAgXHJcbi8vXHJcbi8vXHJcbi8vXHJcblxyXG5jb25zdCBQcmltaXRpdmVQcm9wID0gU3ltYm9sKFwiUHJpbWl0aXZlTmFtZVwiKTtcclxuXHJcbmNvbnN0IHJlZ2lzdHJ5ID0ge1xyXG5cdHByaW1pdGl2ZXM6IFtdLFxyXG5cdHByb3ZpZGU6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XHJcblx0XHR0aGlzLnByaW1pdGl2ZXMucHVzaCh7XHJcblx0XHRcdG5hbWUsXHJcblx0XHRcdHZhbHVlXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdGRlZlByaW1pdGl2ZTogZnVuY3Rpb24obmFtZSwgYXJncykge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgcmVhbEFyZ3VtZW50cyA9IGFyZ3VtZW50cztcclxuXHRcdFx0dmFyIGNhbGxBcmdzID0ge307XHJcblx0XHRcdGFyZ3MuZm9yRWFjaChmdW5jdGlvbihwYXJhbU5hbWUsIGkpe1xyXG5cdFx0XHRcdGNhbGxBcmdzW3BhcmFtTmFtZV0gPSBpPHJlYWxBcmd1bWVudHMubGVuZ3RoID8gcmVhbEFyZ3VtZW50c1tpXSA6IHVuZGVmaW5lZDtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0W1ByaW1pdGl2ZVByb3BdOiBuYW1lLFxyXG5cdFx0XHRcdGFyZ3M6IGNhbGxBcmdzXHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0ZGVmUHJpbWl0aXZlQW5kUHJvdmlkZTogZnVuY3Rpb24obmFtZSwgYXJncykge1xyXG5cdFx0bGV0IHByaW1pdGl2ZSA9IHRoaXMuZGVmUHJpbWl0aXZlKG5hbWUsIGFyZ3MpO1xyXG5cdFx0dGhpcy5wcm92aWRlKG5hbWUsIHByaW1pdGl2ZSk7XHJcblx0XHRyZXR1cm4gcHJpbWl0aXZlO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdHJ5LnByaW1pdGl2ZXM7XHJcbmV4cG9ydCB7UHJpbWl0aXZlUHJvcH07XHJcblxyXG4vL05vIHBvaW50cyB3aGVuIGNyZWF0aW5nIHRoaW5nc1xyXG4vL0Z1bmN0aW9uYWwgYmVoYXZpb3JcclxuXHJcblxyXG5cclxuLy84ODggICAgIDg4OCBkOGIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZDg4ODg4Yi4gIDg4OCAgICAgICBkOGIgICAgICAgICAgXHJcbi8vODg4ICAgICA4ODggWThQICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkODhQXCIgXCJZODhiIDg4OCAgICAgICBZOFAgICAgICAgICAgXHJcbi8vODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgIDg4OCA4ODggICAgICAgICAgICAgICAgICAgIFxyXG4vL1k4OGIgICBkODhQIDg4OCAgLmQ4OGIuICA4ODggIDg4OCAgODg4ICAgICAgODg4ICAgICA4ODggODg4ODhiLiAgODg4OCAuZDg4ODhiICBcclxuLy8gWTg4YiBkODhQICA4ODggZDhQICBZOGIgODg4ICA4ODggIDg4OCAgICAgIDg4OCAgICAgODg4IDg4OCBcIjg4YiBcIjg4OCA4OEsgICAgICBcclxuLy8gIFk4OG84OFAgICA4ODggODg4ODg4ODggODg4ICA4ODggIDg4OCAgICAgIDg4OCAgICAgODg4IDg4OCAgODg4ICA4ODggXCJZODg4OGIuIFxyXG4vLyAgIFk4ODhQICAgIDg4OCBZOGIuICAgICBZODhiIDg4OCBkODhQICAgICAgWTg4Yi4gLmQ4OFAgODg4IGQ4OFAgIDg4OCAgICAgIFg4OCBcclxuLy8gICAgWThQICAgICA4ODggIFwiWTg4ODggICBcIlk4ODg4ODg4UFwiICAgICAgICBcIlk4ODg4OFBcIiAgODg4ODhQXCIgICA4ODggIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDg4UCAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODhQXCIgICAgICAgICAgIFxyXG5cclxuXHJcbi8vVE9ETyBEZWZpbmUgbW9yZSBwcmltaXRpdmVzLlxyXG4vL3ByaW1pdGl2ZXNcclxuY29uc3QgYm94UHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwiYm94XCIsIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwiZGVwdGhcIl0pO1xyXG5jb25zdCBzcGhlcmVQcmltaXRpdmUgPSByZWdpc3RyeS5kZWZQcmltaXRpdmUoXCJzcGhlcmVcIiwgW1wicmFkaXVzXCJdKTtcclxuY29uc3QgY3lsaW5kZXJQcmltaXRpdmUgPSByZWdpc3RyeS5kZWZQcmltaXRpdmUoXCJjeWxpbmRlclwiLCBbXCJyYWRpdXNcIiwgXCJoZWlnaHRcIl0pO1xyXG5jb25zdCByZWN0YW5nbGVQcmltaXRpdmUgPSByZWdpc3RyeS5kZWZQcmltaXRpdmUoXCJyZWN0YW5nbGVcIiwgW1wid2lkdGhcIiwgXCJoZWlnaHRcIl0pO1xyXG5jb25zdCBwb2x5Z29uU3VyZmFjZVByaW1pdGl2ZSA9IHJlZ2lzdHJ5LmRlZlByaW1pdGl2ZShcInBvbHlnb25TdXJmYWNlXCIsIFtcInZlcnRpY2VzXCJdKTtcclxuY29uc3QgZXh0cnVzaW9uUHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwiZXh0cnVzaW9uXCIsIFtcImV4dHJ1ZGFibGVcIiwgXCJkaXNwbGFjZW1lbnRcIl0pO1xyXG5jb25zdCB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUgPSByZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwidHJhbnNmb3JtT2JqZWN0V2l0aFwiLCBbXCJvYmplY3RcIiwgXCJ0cmFuc2Zvcm1cIl0pO1xyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJjb25lXCIsIFtcInJhZGl1c1wiLCBcImhlaWdodFwiXSk7XHJcbmNvbnN0IGNvbmVGcnVzdHVtUHJpbWl0aXZlID0gcmVnaXN0cnkuZGVmUHJpbWl0aXZlKFwiY29uZUZydXN0dW1cIiwgW1wiYm90dG9tUmFkaXVzXCIsIFwidG9wUmFkaXVzXCIsIFwiaGVpZ2h0XCJdKTtcclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwicmVndWxhclB5cmFtaWRcIiwgW1wic2lkZXNcIiwgXCJoZWlnaHRcIl0pO1xyXG5cclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwibGluZVwiLCBbXCJvcmlnaW5cIiwgXCJkaXJlY3Rpb25cIl0pO1xyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJwb2x5bGluZVwiLCBbXCJjb29yZGluYXRlc1wiLCBcImNsb3NlZFwiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInNwbGluZVwiLCBbXCJjb29yZGluYXRlc1wiLCBcImNsb3NlZFwiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcImFyY1wiLCBbXCJyYWRpdXNcIiwgXCJhbmdsZVwiXSk7XHJcblxyXG4vL3JlZ2lzdHJ5LmRlZlByaW1pdGl2ZUFuZFByb3ZpZGUoXCJjaXJjbGVcIiwgW1wicmFkaXVzXCJdKTtcclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwicGxhbmVcIiwgW1wib3JpZ2luXCIsIFwibm9ybWFsXCJdKTtcclxuLy9yZWdpc3RyeS5kZWZQcmltaXRpdmVBbmRQcm92aWRlKFwicG9seWdvblwiLCBbXCJjb29yZGluYXRlc1wiXSk7XHJcbi8vcmVnaXN0cnkuZGVmUHJpbWl0aXZlQW5kUHJvdmlkZShcInJlZ3VsYXJQb2x5Z29uXCIsIFtcInJhZGl1c1wiLCBcInNpZGVzXCJdKTtcclxuXHJcblxyXG4vLzg4ODg4ODhiLiAgICAgICAgICBkOGIgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgIGQ4ODg4ICAgICAgICAgIGQ4YiAgICAgICAgICBcclxuLy84ODggICBZODhiICAgICAgICAgWThQICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgIGQ4ODg4OCAgICAgICAgICBZOFAgICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgIGQ4OFA4ODggICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgIGQ4OFAgLmQ4OGIuICA4ODggODg4ODhiLiAgODg4ODg4IC5kODg4OGIgICAgICAgICAgIGQ4OFAgODg4IDg4OCAgODg4IDg4OCAuZDg4ODhiICBcclxuLy84ODg4ODg4UFwiIGQ4OFwiXCI4OGIgODg4IDg4OCBcIjg4YiA4ODggICAgODhLICAgICAgICAgICAgICBkODhQICA4ODggYFk4YmQ4UCcgODg4IDg4SyAgICAgIFxyXG4vLzg4OCAgICAgICA4ODggIDg4OCA4ODggODg4ICA4ODggODg4ICAgIFwiWTg4ODhiLiAgICAgICAgZDg4UCAgIDg4OCAgIFg4OEsgICA4ODggXCJZODg4OGIuIFxyXG4vLzg4OCAgICAgICBZODguLjg4UCA4ODggODg4ICA4ODggWTg4Yi4gICAgICAgWDg4ICAgICAgIGQ4ODg4ODg4ODg4IC5kOFwiXCI4Yi4gODg4ICAgICAgWDg4IFxyXG4vLzg4OCAgICAgICAgXCJZODhQXCIgIDg4OCA4ODggIDg4OCAgXCJZODg4ICA4ODg4OFAnICAgICAgZDg4UCAgICAgODg4IDg4OCAgODg4IDg4OCAgODg4ODhQJyBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbmltcG9ydCB7cG9pbnQsIHZlY3RvciwgbWF0cml4fSBmcm9tICcuL1ByZWRlZnMvcG9pbnQtdmVjdG9yLW1hdHJpeC5qcyc7XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJ2ZWN0b3JcIiwgdmVjdG9yKTtcclxucmVnaXN0cnkucHJvdmlkZShcInBvaW50XCIsIHBvaW50KTtcclxuLy9UT0RPIENoZWNrIGlmIGFsbCB2ZWN0b3Igb3BlcmF0aW9ucyBhcmUgaW1wbGVtZW50ZWQgYW5kIGF2YWlsYWJsZS5cclxuXHJcblxyXG5cclxuY29uc3QgYXhpcyA9IHt9O1xyXG5heGlzLmJ5UG9pbnRWZWN0b3IgPSBmdW5jdGlvbihwb2ludCwgdmVjKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdG9yaWdpbjogcG9pbnQsXHJcblx0XHR2ZWN0b3I6IHZlYyxcclxuXHRcdGRpcmVjdGlvbjogdmVjdG9yLm5vcm1hbGl6ZWQodmVjKVxyXG5cdH07XHJcbn07XHJcbmF4aXMueCA9IGF4aXMuYnlQb2ludFZlY3Rvcihwb2ludC5ieVhZWigwLCAwLCAwKSwgdmVjdG9yLmJ5WFlaKDEsIDAsIDApKTtcclxuYXhpcy55ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMCwgMSwgMCkpO1xyXG5heGlzLnogPSBheGlzLmJ5UG9pbnRWZWN0b3IocG9pbnQuYnlYWVooMCwgMCwgMCksIHZlY3Rvci5ieVhZWigwLCAwLCAxKSk7XHJcbmF4aXMueHkgPSBheGlzLmJ5UG9pbnRWZWN0b3IocG9pbnQuYnlYWVooMCwgMCwgMCksIHZlY3Rvci5ieVhZWigxLCAxLCAwKSk7XHJcbmF4aXMueHogPSBheGlzLmJ5UG9pbnRWZWN0b3IocG9pbnQuYnlYWVooMCwgMCwgMCksIHZlY3Rvci5ieVhZWigxLCAwLCAxKSk7XHJcbmF4aXMueXogPSBheGlzLmJ5UG9pbnRWZWN0b3IocG9pbnQuYnlYWVooMCwgMCwgMCksIHZlY3Rvci5ieVhZWigwLCAxLCAxKSk7XHJcbmF4aXMueHl6ID0gYXhpcy5ieVBvaW50VmVjdG9yKHBvaW50LmJ5WFlaKDAsIDAsIDApLCB2ZWN0b3IuYnlYWVooMSwgMSwgMSkpO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwiYXhpc1wiLCBheGlzKTtcclxuXHJcblxyXG4vLyBzaGFwZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gLmQ4ODg4Yi4gIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vL2Q4OFAgIFk4OGIgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vWTg4Yi4gICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gXCJZODg4Yi4gICA4ODg4OGIuICAgODg4OGIuICA4ODg4OGIuICAgLmQ4OGIuICAuZDg4ODhiICBcclxuLy8gICAgXCJZODhiLiA4ODggXCI4OGIgICAgIFwiODhiIDg4OCBcIjg4YiBkOFAgIFk4YiA4OEsgICAgICBcclxuLy8gICAgICBcIjg4OCA4ODggIDg4OCAuZDg4ODg4OCA4ODggIDg4OCA4ODg4ODg4OCBcIlk4ODg4Yi4gXHJcbi8vWTg4YiAgZDg4UCA4ODggIDg4OCA4ODggIDg4OCA4ODggZDg4UCBZOGIuICAgICAgICAgIFg4OCBcclxuLy8gXCJZODg4OFBcIiAgODg4ICA4ODggXCJZODg4ODg4IDg4ODg4UFwiICAgXCJZODg4OCAgIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmNvbnN0IGJveCA9IHt9O1xyXG5ib3guYnlXaWR0aEhlaWdodERlcHRoID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgZGVwdGgpIHtcclxuXHRyZXR1cm4gYm94UHJpbWl0aXZlKHdpZHRoLCBoZWlnaHQsIGRlcHRoKTtcclxufTtcclxuYm94LmJ5Q2VudGVyc0F4ZXMgPSBmdW5jdGlvbihbYmFzZUNlbnRlciwgdG9wQ2VudGVyXSwgW3hWZWN0b3IsIHlWZWN0b3JdKSB7XHJcblx0bGV0IHRyYW5zbGF0ZUJhc2VUb09yaWdpbiA9IG1hdHJpeC50cmFuc2xhdGlvbigwLjAsIDAuMCwgMC41KTtcclxuXHJcblx0bGV0IHpWZWN0b3IgPSBwb2ludC5wb2ludE1pbnVzUG9pbnQodG9wQ2VudGVyLCBiYXNlQ2VudGVyKTtcclxuXHRsZXQgYmFzaXNUcmFuc2Zvcm0gPSBtYXRyaXguYmFzaXMoeFZlY3RvciwgeVZlY3RvciwgelZlY3Rvcik7XHJcblxyXG5cdGxldCB0cmFuc2xhdGVUb0Jhc2VDZW50ZXIgPSBtYXRyaXgudHJhbnNsYXRpb24oYmFzZUNlbnRlci54LCBiYXNlQ2VudGVyLnksIGJhc2VDZW50ZXIueik7XHJcblxyXG5cdGxldCBjb21wbGV0ZVRyYW5zZm9ybSA9IG1hdHJpeC5tdWx0aXBseShcclxuXHRcdHRyYW5zbGF0ZVRvQmFzZUNlbnRlciwgXHJcblx0XHRtYXRyaXgubXVsdGlwbHkoYmFzaXNUcmFuc2Zvcm0sIHRyYW5zbGF0ZUJhc2VUb09yaWdpbikpO1xyXG5cdC8vdHJhbnNmb3JtOiBtb3ZlIGJhc2UgdG8gd2FudGVkIGJhc2UgKiBhcHBseSBiYXNpcyAqIG1vdmUgYmFzZSB0byBvcmlnaW5cclxuXHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShib3hQcmltaXRpdmUoMS4wLCAxLjAsIDEuMCksIGNvbXBsZXRlVHJhbnNmb3JtKTtcclxufTtcclxuYm94LmJ5Q2VudGVyc1dpZHRoSGVpZ2h0ID0gZnVuY3Rpb24oW2Jhc2VDZW50ZXIsIHRvcENlbnRlcl0sIFt3aWR0aCwgaGVpZ2h0XSkge1xyXG5cdGZ1bmN0aW9uIHNwaFBoaSh2ZWMpIHtcclxuXHRcdGxldCB7eCwgeX0gPSB2ZWM7XHJcblx0XHRpZih4ID09IDAgJiYgeSA9PSAwKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIE1hdGguYXRhbjIoeSwgeCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRsZXQgYm94QXhpcyA9IHBvaW50LnBvaW50TWludXNQb2ludCh0b3BDZW50ZXIsIGJhc2VDZW50ZXIpO1xyXG5cdGxldCB3b3JsZFhBeGlzID0gdmVjdG9yLmJ5Q3lsaW5kcmljYWwoMSwgc3BoUGhpKGJveEF4aXMpICsgTWF0aC5QSS8yLCAwKTtcclxuXHRsZXQgd29ybGRZQXhpcyA9IHZlY3Rvci5ub3JtYWxpemVkKHZlY3Rvci5jcm9zcyhib3hBeGlzLCB3b3JsZFhBeGlzKSk7XHJcblx0Ly9sZXQgd29ybGRaQXhpcyA9IHZlY3Rvci5ub3JtYWxpemVkKGJveEF4aXMpO1xyXG5cdGxldCBtaWRQb2ludCA9IHBvaW50LnBvaW50UGx1c1ZlY3RvcihcclxuXHRcdGJhc2VDZW50ZXIsIFxyXG5cdFx0dmVjdG9yLnNjYWxlKFxyXG5cdFx0XHRwb2ludC5wb2ludE1pbnVzUG9pbnQodG9wQ2VudGVyLCBiYXNlQ2VudGVyKSxcclxuXHRcdFx0MC41KSk7XHJcblxyXG5cdGxldCB0cmFuc2Zvcm1hdGlvbiA9IG1hdHJpeC5iYXNpcyh3b3JsZFhBeGlzLCB3b3JsZFlBeGlzLCBib3hBeGlzLCBtaWRQb2ludCk7XHJcblxyXG5cdGxldCBib3ggPSBib3hQcmltaXRpdmUod2lkdGgsIGhlaWdodCwgMS4wKTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKGJveCwgdHJhbnNmb3JtYXRpb24pO1xyXG59O1xyXG5ib3guYnlCb3R0b21XaWR0aEhlaWdodFogPSBmdW5jdGlvbihiYXNlQ2VudGVyLCBbd2lkdGgsIGhlaWdodF0sIHopIHtcclxuXHRjb25zdCBwcmltID0gYm94UHJpbWl0aXZlKHdpZHRoLCBoZWlnaHQsIHopO1xyXG5cdGNvbnN0IHRyYW5zZm9ybSA9IG1hdHJpeC50cmFuc2xhdGlvbihcclxuXHRcdGJhc2VDZW50ZXIueCwgXHJcblx0XHRiYXNlQ2VudGVyLnksIFxyXG5cdFx0YmFzZUNlbnRlci56ICsgeiAvIDIuMCk7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShwcmltLCB0cmFuc2Zvcm0pO1xyXG59O1xyXG5ib3guYnlDb3JuZXJzID0gZnVuY3Rpb24oW3B0MSwgcHQyXSkge1xyXG5cdGNvbnN0IGRpbXNWZWMgPSBwb2ludC5zdWIocHQyLCBwdDEpO1xyXG5cdGNvbnN0IGJveCA9IGJveFByaW1pdGl2ZShNYXRoLmFicyhkaW1zVmVjLngpLCBNYXRoLmFicyhkaW1zVmVjLnkpLCBNYXRoLmFicyhkaW1zVmVjLnopKTtcclxuXHRjb25zdCBjZW50ZXJQdCA9IHBvaW50LmFkZChwdDEsIHZlY3Rvci5zY2FsZShkaW1zVmVjLCAwLjUpKTtcclxuXHRjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IG1hdHJpeC50cmFuc2xhdGlvbihjZW50ZXJQdC54LCBjZW50ZXJQdC55LCBjZW50ZXJQdC56KTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKGJveCwgdHJhbnNmb3JtYXRpb24pO1xyXG59O1xyXG5ib3guYnlDb3JuZXJYWVogPSBmdW5jdGlvbihwdCwgW3gsIHksIHpdKSB7XHJcblx0bGV0IHAyID0gcG9pbnQuYWRkKHB0LCB2ZWN0b3IuYnlYWVooeCwgeSwgeikpO1xyXG5cdHJldHVybiBib3guYnlDb3JuZXJzKFtwdCwgcDJdKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcImJveFwiLCBib3gpO1xyXG5cclxuXHJcbmNvbnN0IHNwaGVyZSA9IHt9O1xyXG5zcGhlcmUuYnlSYWRpdXMgPSBmdW5jdGlvbihyYWRpdXMpIHtcclxuXHRyZXR1cm4gc3BoZXJlUHJpbWl0aXZlKHJhZGl1cyk7XHJcbn07XHJcbnNwaGVyZS5ieUNlbnRlclJhZGl1cyA9IGZ1bmN0aW9uKHZlYywgcmFkaXVzKSB7XHJcblx0bGV0IHRyYW5zbGF0aW9uID0gbWF0cml4LnRyYW5zbGF0aW9uKHZlYy54LCB2ZWMueSwgdmVjLnopO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUoc3BoZXJlUHJpbWl0aXZlKHJhZGl1cyksIHRyYW5zbGF0aW9uKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcInNwaGVyZVwiLCBzcGhlcmUpO1xyXG5cclxuXHJcbmNvbnN0IGN5bGluZGVyID0ge307XHJcbmN5bGluZGVyLmJ5UmFkaXVzSGVpZ2h0ID0gZnVuY3Rpb24ocmFkaXVzLCBoZWlnaHQpIHtcclxuXHRyZXR1cm4gY3lsaW5kZXJQcmltaXRpdmUocmFkaXVzLCBoZWlnaHQpO1xyXG59O1xyXG5jeWxpbmRlci5ieUJvdHRvbVJhZGl1c0hlaWdodCA9IGZ1bmN0aW9uIChib3R0b20sIHJhZGl1cywgaGVpZ2h0KSB7XHJcblx0bGV0IGN5bGluZGVyID0gY3lsaW5kZXJQcmltaXRpdmUocmFkaXVzLCBoZWlnaHQpO1xyXG5cdGxldCB0cmFuc2Zvcm1hdGlvbiA9IG1hdHJpeC50cmFuc2xhdGlvbihib3R0b20ueCwgYm90dG9tLnksIGJvdHRvbS56ICsgaGVpZ2h0LzIuMCk7XHJcblx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShjeWxpbmRlciwgdHJhbnNmb3JtYXRpb24pO1xyXG59O1xyXG5jeWxpbmRlci5ieUNlbnRlcnNSYWRpdXMgPSBmdW5jdGlvbihbYmFzZUNlbnRlciwgdG9wQ2VudGVyXSwgcmFkaXVzKSB7XHJcblx0bGV0IGN5bGluZGVyQXhpcyA9IHBvaW50LnBvaW50TWludXNQb2ludCh0b3BDZW50ZXIsIGJhc2VDZW50ZXIpO1xyXG5cdGxldCB3b3JsZFpBeGlzID0gdmVjdG9yLmJ5WFlaKDAuMCwwLjAsMS4wKTtcclxuXHRsZXQgb3JpZW50QXhpc1RyYW5zZm9ybSA9IG1hdHJpeC5hbGlnbkZyb21BeGlzVG9BeGlzKHdvcmxkWkF4aXMsIHZlY3Rvci5ub3JtYWxpemVkKGN5bGluZGVyQXhpcykpO1xyXG5cclxuXHRsZXQgd29ybGRPcmlnaW4gPSBwb2ludC5ieVhZWigwLjAsMC4wLDAuMCk7XHJcblx0bGV0IG1pZFBvaW50ID0gcG9pbnQucG9pbnRQbHVzVmVjdG9yKFxyXG5cdFx0YmFzZUNlbnRlciwgXHJcblx0XHR2ZWN0b3Iuc2NhbGUoXHJcblx0XHRcdHBvaW50LnBvaW50TWludXNQb2ludCh0b3BDZW50ZXIsIGJhc2VDZW50ZXIpLFxyXG5cdFx0XHQwLjUpKTtcclxuXHRsZXQgdHJhbnNsYXRpb25WZWN0b3IgPSBwb2ludC5wb2ludE1pbnVzUG9pbnQobWlkUG9pbnQsIHdvcmxkT3JpZ2luKTtcclxuXHRsZXQgdHJhbnNsYXRpb25UcmFuc2Zvcm0gPSBtYXRyaXgudHJhbnNsYXRpb24oXHJcblx0XHR0cmFuc2xhdGlvblZlY3Rvci54LFxyXG5cdFx0dHJhbnNsYXRpb25WZWN0b3IueSxcclxuXHRcdHRyYW5zbGF0aW9uVmVjdG9yLnopO1xyXG5cclxuXHRsZXQgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgubXVsdGlwbHkodHJhbnNsYXRpb25UcmFuc2Zvcm0sIG9yaWVudEF4aXNUcmFuc2Zvcm0pXHJcblx0bGV0IGN5bGluZGVyID0gY3lsaW5kZXJQcmltaXRpdmUocmFkaXVzLCB2ZWN0b3IubGVuZ3RoKGN5bGluZGVyQXhpcykpO1xyXG5cdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUoY3lsaW5kZXIsIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcImN5bGluZGVyXCIsIGN5bGluZGVyKTtcclxuXHJcblxyXG5jb25zdCByZWN0YW5nbGUgPSB7fTtcclxucmVjdGFuZ2xlLnN1cmZhY2UgPSB7fTtcclxucmVjdGFuZ2xlLnN1cmZhY2UuYnlDb3JuZXJXaWR0aEhlaWdodCA9IGZ1bmN0aW9uKGNvcm5lciwgW3dpZHRoLCBoZWlnaHRdKSB7XHJcblx0Y29uc3QgcmVjdCA9IHJlY3RhbmdsZVByaW1pdGl2ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHRjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IG1hdHJpeC50cmFuc2xhdGlvbih3aWR0aCowLjUrY29ybmVyLngsIGhlaWdodCowLjUrY29ybmVyLnksIGNvcm5lci56KTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKHJlY3QsIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcInJlY3RhbmdsZVwiLCByZWN0YW5nbGUpO1xyXG5cclxuXHJcbmNvbnN0IHBvbHlnb24gPSB7fTtcclxucG9seWdvbi5zdXJmYWNlID0ge307XHJcbnBvbHlnb24uc3VyZmFjZS5ieVZlcnRpY2VzID0gZnVuY3Rpb24odmVydGljZXMpIHtcclxuXHRyZXR1cm4gcG9seWdvblN1cmZhY2VQcmltaXRpdmUodmVydGljZXMpO1xyXG59O1xyXG5yZWdpc3RyeS5wcm92aWRlKFwicG9seWdvblwiLCBwb2x5Z29uKTtcclxuXHJcblxyXG5jb25zdCBleHRydXNpb24gPSB7fTtcclxuZXh0cnVzaW9uLmJ5U3VyZmFjZVZlY3RvciA9IGZ1bmN0aW9uKHN1cmZhY2UsIGRpc3BsYWNlbWVudFZlY3Rvcikge1xyXG5cdHJldHVybiBleHRydXNpb25QcmltaXRpdmUoc3VyZmFjZSwgZGlzcGxhY2VtZW50VmVjdG9yKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcImV4dHJ1c2lvblwiLCBleHRydXNpb24pO1xyXG5cclxuXHJcbmNvbnN0IGNvbmVGcnVzdHVtID0ge307XHJcbmNvbmVGcnVzdHVtLmJ5Qm90dG9tUmFkaXVzVG9wUmFkaXVzID0gZnVuY3Rpb24oYm90dG9tLCBib3RSYWRpdXMsIHRvcCwgdG9wUmFkaXVzKSB7XHJcblx0bGV0IGJvdHRvbVRvVG9wID0gdmVjdG9yLnN1Yih0b3AsIGJvdHRvbSk7XHJcblx0bGV0IHdvcmxkWkF4aXMgPSB2ZWN0b3IuYnlYWVooMC4wLDAuMCwxLjApO1xyXG5cdGxldCBvcmllbnRBeGlzVHJhbnNmb3JtID0gbWF0cml4LmFsaWduRnJvbUF4aXNUb0F4aXMod29ybGRaQXhpcywgdmVjdG9yLm5vcm1hbGl6ZWQoYm90dG9tVG9Ub3ApKTtcclxuXHJcblx0bGV0IHdvcmxkT3JpZ2luID0gcG9pbnQuYnlYWVooMC4wLDAuMCwwLjApO1xyXG5cdGxldCBtaWRQb2ludCA9IHBvaW50LnBvaW50UGx1c1ZlY3RvcihcclxuXHRcdGJvdHRvbSwgXHJcblx0XHR2ZWN0b3Iuc2NhbGUoYm90dG9tVG9Ub3AsIDAuNSkpO1xyXG5cdGxldCB0cmFuc2xhdGlvblZlY3RvciA9IHBvaW50LnBvaW50TWludXNQb2ludChtaWRQb2ludCwgd29ybGRPcmlnaW4pO1xyXG5cdGxldCB0cmFuc2xhdGlvblRyYW5zZm9ybSA9IG1hdHJpeC50cmFuc2xhdGlvbihcclxuXHRcdHRyYW5zbGF0aW9uVmVjdG9yLngsXHJcblx0XHR0cmFuc2xhdGlvblZlY3Rvci55LFxyXG5cdFx0dHJhbnNsYXRpb25WZWN0b3Iueik7XHJcblxyXG5cdGxldCB0cmFuc2Zvcm1hdGlvbiA9IG1hdHJpeC5tdWx0aXBseSh0cmFuc2xhdGlvblRyYW5zZm9ybSwgb3JpZW50QXhpc1RyYW5zZm9ybSk7XHJcblxyXG5cdGxldCBoZWlnaHQgPSB2ZWN0b3IubGVuZ3RoKGJvdHRvbVRvVG9wKTtcclxuXHRsZXQgZnJ1c3R1bSA9IGNvbmVGcnVzdHVtUHJpbWl0aXZlKGJvdFJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHQpO1xyXG5cclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKGZydXN0dW0sIHRyYW5zZm9ybWF0aW9uKTtcclxufTtcclxuY29uZUZydXN0dW0uYnlSYWRpdXNlc0hlaWdodCA9IGZ1bmN0aW9uKGJvdFJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHQpIHtcclxuXHRyZXR1cm4gY29uZUZydXN0dW1QcmltaXRpdmUoYm90UmFkaXVzLCB0b3BSYWRpdXMsIGhlaWdodCk7XHJcbn07XHJcbmNvbmVGcnVzdHVtLmJ5Qm90dG9tVG9wUmFkaXVzZXNIZWlnaHQgPSBmdW5jdGlvbihib3R0b20sIGJvdFJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHQpIHtcclxuXHRsZXQgdHJhbnNmb3JtYXRpb24gPSBtYXRyaXgudHJhbnNsYXRpb24oXHJcblx0XHRib3R0b20ueCxcclxuXHRcdGJvdHRvbS55LFxyXG5cdFx0Ym90dG9tLnogKyBoZWlnaHQqMC41KTtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKFxyXG5cdFx0Y29uZUZydXN0dW1QcmltaXRpdmUoYm90UmFkaXVzLCB0b3BSYWRpdXMsIGhlaWdodCksXHJcblx0XHR0cmFuc2Zvcm1hdGlvbik7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJjb25lRnJ1c3R1bVwiLCBjb25lRnJ1c3R1bSk7XHJcblxyXG4vLzg4ODg4ODg4ODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmQ4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ4OFBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgODg4ICA4ODhkODg4IDg4ODhiLiAgODg4ODhiLiAgLmQ4ODg4YiAgODg4ODg4IC5kODhiLiAgODg4ZDg4OCA4ODg4OGIuZDg4Yi4gIC5kODg4OGIgIFxyXG4vLyAgICA4ODggIDg4OFBcIiAgICAgIFwiODhiIDg4OCBcIjg4YiA4OEsgICAgICA4ODggICBkODhcIlwiODhiIDg4OFBcIiAgIDg4OCBcIjg4OCBcIjg4YiA4OEsgICAgICBcclxuLy8gICAgODg4ICA4ODggICAgLmQ4ODg4ODggODg4ICA4ODggXCJZODg4OGIuIDg4OCAgIDg4OCAgODg4IDg4OCAgICAgODg4ICA4ODggIDg4OCBcIlk4ODg4Yi4gXHJcbi8vICAgIDg4OCAgODg4ICAgIDg4OCAgODg4IDg4OCAgODg4ICAgICAgWDg4IDg4OCAgIFk4OC4uODhQIDg4OCAgICAgODg4ICA4ODggIDg4OCAgICAgIFg4OCBcclxuLy8gICAgODg4ICA4ODggICAgXCJZODg4ODg4IDg4OCAgODg4ICA4ODg4OFAnIDg4OCAgICBcIlk4OFBcIiAgODg4ICAgICA4ODggIDg4OCAgODg4ICA4ODg4OFAnIFxyXG4vL1xyXG4vL1xyXG4vL1xyXG5cclxuLy9UT0RPIE1ha2Ugc2hhcGVzIG9iamVjdHMgdGhhdCBjYW4gaGF2ZSBtZXRob2RzLlxyXG4vL1RPRE8gQ29uc2lkZXIgd2hldGhlciB0byBleHRlbmQgc2hhcGUgb2JqZWN0cyB3aXRoIG1ldGhvZHMgdG8gdHJhbnNmb3JtIHRoZW0uXHJcbi8qXHJcbnNoYXBlLnNjYWxlLnVuaWZvcm0oc2NhbGUpXHJcbnNoYXBlLm1pcnJvci5ieVBsYW5lXHJcbiovXHJcblxyXG5cclxuLy9UT0RPIEFkZCB0cmFuc2Zvcm0gdG8gcm90YXRlIGZyb20gb25lIGF4aXMgdG8gb3RoZXIgYXhpcy5cclxuLy9UT0RPIE1ha2UgdHJhbnNmb3JtcyBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgYXBwbGllZCB0byBvYmplY3RzLlxyXG5jb25zdCB0cmFuc2Zvcm0gPSB7fTtcclxudHJhbnNmb3JtLnRyYW5zbGF0aW9uID0ge307XHJcbnRyYW5zZm9ybS50cmFuc2xhdGlvbi5ieVZlY3RvciA9IGZ1bmN0aW9uKHZlY3Rvcikge1xyXG5cdHJldHVybiBtYXRyaXgudHJhbnNsYXRpb24odmVjdG9yLngsIHZlY3Rvci55LCB2ZWN0b3Iueik7XHJcbn07XHJcbnRyYW5zZm9ybS5yb3RhdGlvbiA9IHt9O1xyXG50cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kQXhpc0J5QW5nbGUgPSBmdW5jdGlvbihheGlzLCByYWRpYW5zKSB7XHJcblx0bGV0IGF4aXNPcmlnID0gYXhpcy5vcmlnaW47XHJcblx0bGV0IGF4aXNUb1dvcmxkT3JpZ2luTWF0cml4ID0gbWF0cml4LnRyYW5zbGF0aW9uKC1heGlzT3JpZy54LCAtYXhpc09yaWcueSwgLWF4aXNPcmlnLnopO1xyXG5cdGxldCByb3RhdGlvbk1hdHJpeCA9IG1hdHJpeC5yb3RhdGlvbihheGlzLnZlY3RvciwgcmFkaWFucyk7XHJcblx0bGV0IHJlcG9zaXRpb25BeGlzTWF0cml4ID0gbWF0cml4LnRyYW5zbGF0aW9uKGF4aXNPcmlnLngsIGF4aXNPcmlnLnksIGF4aXNPcmlnLnopO1xyXG5cdHJldHVybiBtYXRyaXgubXVsdGlwbHkocmVwb3NpdGlvbkF4aXNNYXRyaXgsIFxyXG5cdFx0bWF0cml4Lm11bHRpcGx5KHJvdGF0aW9uTWF0cml4LCBheGlzVG9Xb3JsZE9yaWdpbk1hdHJpeCkpO1xyXG59O1xyXG50cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGUgPSBmdW5jdGlvbihheGlzVmVjdG9yLCByYWRpYW5zKSB7XHJcblx0bGV0IG5vcm1hbGl6ZWRBeGlzID0gYXhpc1ZlY3Rvci5jbG9uZSgpLm5vcm1hbGl6ZSgpO1xyXG5cdHJldHVybiBtYXRyaXgucm90YXRpb24obm9ybWFsaXplZEF4aXMsIHJhZGlhbnMpO1xyXG59O1xyXG50cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWEJ5QW5nbGUgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0cmV0dXJuIG1hdHJpeC5yb3RhdGlvbih2ZWN0b3IuYnlYKDEuMCksIHJhZGlhbnMpO1xyXG59O1xyXG50cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWUJ5QW5nbGUgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0cmV0dXJuIG1hdHJpeC5yb3RhdGlvbih2ZWN0b3IuYnlZKDEuMCksIHJhZGlhbnMpO1xyXG59O1xyXG50cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWkJ5QW5nbGUgPSBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0cmV0dXJuIG1hdHJpeC5yb3RhdGlvbih2ZWN0b3IuYnlaKDEuMCksIHJhZGlhbnMpO1xyXG59O1xyXG50cmFuc2Zvcm0uc2NhbGluZyA9IHt9O1xyXG50cmFuc2Zvcm0uc2NhbGluZy5ieUZhY3RvciA9IGZ1bmN0aW9uKHNjYWxlRmFjdG9yKSB7XHJcblx0cmV0dXJuIG1hdHJpeC5zY2FsaW5nKHNjYWxlRmFjdG9yLCBzY2FsZUZhY3Rvciwgc2NhbGVGYWN0b3IpO1xyXG59O1xyXG50cmFuc2Zvcm0uY29tcG9zZSA9IGZ1bmN0aW9uKHQxLCB0Mikge1xyXG5cdHJldHVybiBtYXRyaXgubXVsdGlwbHkodDEsIHQyKTtcclxufTtcclxucmVnaXN0cnkucHJvdmlkZShcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0pO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiB0cmFuc2xhdGVBdXgob2JqZWN0LCB2ZWMpIHtcclxuXHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCwgXHJcblx0XHRcdFx0dHJhbnNmb3JtLnRyYW5zbGF0aW9uLmJ5VmVjdG9yKHZlYykpO1xyXG59XHJcbmNvbnN0IHRyYW5zbGF0ZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdHJldHVybiB7XHJcblx0XHRieVZlY3RvcjogKHZlYyk9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZUF1eChvYmplY3QsIHZlYyk7XHJcblx0XHR9LFxyXG5cdFx0YnlYWVo6ICh4LCB5LCB6KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlQXV4KG9iamVjdCwgdmVjdG9yLmJ5WFlaKHgsIHksIHopKTtcclxuXHRcdH0sXHJcblx0XHRieVg6ICh4KT0+e1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNsYXRlQXV4KG9iamVjdCwgdmVjdG9yLmJ5WCh4KSk7XHJcblx0XHR9LFxyXG5cdFx0YnlZOiAoeSk9PntcclxuXHRcdFx0cmV0dXJuIHRyYW5zbGF0ZUF1eChvYmplY3QsIHZlY3Rvci5ieVkoeSkpO1xyXG5cdFx0fSxcclxuXHRcdGJ5WjogKHopPT57XHJcblx0XHRcdHJldHVybiB0cmFuc2xhdGVBdXgob2JqZWN0LCB2ZWN0b3IuYnlaKHopKTtcclxuXHRcdH1cclxuXHR9O1xyXG59O1xyXG50cmFuc2xhdGUuYnlWZWN0b3IgPSBmdW5jdGlvbih2ZWMpIHtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZUF1eCwgXywgdmVjKTtcclxufVxyXG50cmFuc2xhdGUuYnlYWVogPSBmdW5jdGlvbih4LCB5LCB6KSB7XHJcblx0cmV0dXJuIF8ucGFydGlhbCh0cmFuc2xhdGVBdXgsIF8sIHZlY3Rvci5ieVhZWih4LCB5LCB6KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVggPSBmdW5jdGlvbih4KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZUF1eCwgXywgdmVjdG9yLmJ5WCh4KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVkgPSBmdW5jdGlvbih5KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZUF1eCwgXywgdmVjdG9yLmJ5WSh5KSk7XHJcbn07XHJcbnRyYW5zbGF0ZS5ieVogPSBmdW5jdGlvbih6KXtcclxuXHRyZXR1cm4gXy5wYXJ0aWFsKHRyYW5zbGF0ZUF1eCwgXywgdmVjdG9yLmJ5Wih6KSk7XHJcbn07XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJ0cmFuc2xhdGVcIiwgdHJhbnNsYXRlKTtcclxuXHJcblxyXG5jb25zdCByb3RhdGUgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0YXJvdW5kQXhpc0J5QW5nbGU6IGZ1bmN0aW9uKGF4aXMsIHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdFx0dHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZEF4aXNCeUFuZ2xlKGF4aXMsIHJhZGlhbnMpKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRBeGlzVmVjdG9yQnlBbmdsZTogZnVuY3Rpb24oYXhpcywgcmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGUoYXhpcywgcmFkaWFucykpO1xyXG5cdFx0fSxcclxuXHRcdGFyb3VuZFhCeUFuZ2xlOiBmdW5jdGlvbihyYWRpYW5zKSB7XHJcblx0XHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRYQnlBbmdsZShyYWRpYW5zKSk7XHJcblx0XHR9LFxyXG5cdFx0YXJvdW5kWUJ5QW5nbGU6IGZ1bmN0aW9uKHJhZGlhbnMpIHtcclxuXHRcdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdFx0dHJhbnNmb3JtLnJvdGF0aW9uLmFyb3VuZFlCeUFuZ2xlKHJhZGlhbnMpKTtcclxuXHRcdH0sXHJcblx0XHRhcm91bmRaQnlBbmdsZTogZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHR0cmFuc2Zvcm0ucm90YXRpb24uYXJvdW5kWkJ5QW5nbGUocmFkaWFucykpO1xyXG5cdFx0fSxcclxuXHRcdGFsaWduaW5nQXhlczogZnVuY3Rpb24oZnJvbUF4aXMsIHRvQXhpcykge1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0XHRtYXRyaXguYWxpZ25Gcm9tQXhpc1RvQXhpcyhmcm9tQXhpcy5kaXJlY3Rpb24sIHRvQXhpcy5kaXJlY3Rpb24pKTtcclxuXHRcdH1cclxuXHR9O1xyXG59O1xyXG5yb3RhdGUuYXJvdW5kQXhpc1ZlY3RvckJ5QW5nbGUgPSBmdW5jdGlvbihheGlzLCByYWRpYW5zKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xyXG5cdFx0cmV0dXJuIHRyYW5zZm9ybU9iamVjdFByaW1pdGl2ZShvYmplY3QsXHJcblx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRBeGlzVmVjdG9yQnlBbmdsZShheGlzLCByYWRpYW5zKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZFhCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRYQnlBbmdsZShyYWRpYW5zKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZFlCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRZQnlBbmdsZShyYWRpYW5zKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFyb3VuZFpCeUFuZ2xlID0gZnVuY3Rpb24ocmFkaWFucykge1xyXG5cdHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcclxuXHRcdHJldHVybiB0cmFuc2Zvcm1PYmplY3RQcmltaXRpdmUob2JqZWN0LFxyXG5cdFx0XHRcdHRyYW5zZm9ybS5yb3RhdGlvbi5hcm91bmRaQnlBbmdsZShyYWRpYW5zKSk7XHJcblx0fTtcclxufTtcclxucm90YXRlLmFsaWduaW5nQXhlcyA9IGZ1bmN0aW9uKGZyb21BeGlzLCB0b0F4aXMpIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gdHJhbnNmb3JtT2JqZWN0UHJpbWl0aXZlKG9iamVjdCxcclxuXHRcdFx0bWF0cml4LmFsaWduRnJvbUF4aXNUb0F4aXMoZnJvbUF4aXMuZGlyZWN0aW9uLCB0b0F4aXMuZGlyZWN0aW9uKSk7XHJcblx0fVxyXG59O1xyXG5yZWdpc3RyeS5wcm92aWRlKFwicm90YXRlXCIsIHJvdGF0ZSk7XHJcblxyXG5cclxuLy84ODhiICAgICBkODg4IGQ4YiAgICAgICAgICAgICAgICAgICBcclxuLy84ODg4YiAgIGQ4ODg4IFk4UCAgICAgICAgICAgICAgICAgICBcclxuLy84ODg4OGIuZDg4ODg4ICAgICAgICAgICAgICAgICAgICAgICBcclxuLy84ODhZODg4ODhQODg4IDg4OCAuZDg4ODhiICAgLmQ4ODg4YiBcclxuLy84ODggWTg4OFAgODg4IDg4OCA4OEsgICAgICBkODhQXCIgICAgXHJcbi8vODg4ICBZOFAgIDg4OCA4ODggXCJZODg4OGIuIDg4OCAgICAgIFxyXG4vLzg4OCAgIFwiICAgODg4IDg4OCAgICAgIFg4OCBZODhiLiAgICBcclxuLy84ODggICAgICAgODg4IDg4OCAgODg4ODhQJyAgXCJZODg4OFAgXHJcbi8vXHJcbi8vXHJcbi8vXHJcblxyXG5cclxuaW1wb3J0IHNlcXVlbmNlIGZyb20gJy4vUHJlZGVmcy9zZXF1ZW5jZS5qcyc7XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJzZXF1ZW5jZVwiLCBzZXF1ZW5jZSk7XHJcblxyXG5pbXBvcnQgcmFuZG9tIGZyb20gJy4vUHJlZGVmcy9yYW5kb20uanMnO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwicmFuZG9tXCIsIHJhbmRvbSk7XHJcblxyXG5pbXBvcnQgZnVuY3Rpb25hbCBmcm9tICcuL1ByZWRlZnMvZnVuY3Rpb25hbC5qcyc7XHJcbnJlZ2lzdHJ5LnByb3ZpZGUoXCJmdW5jdGlvbmFsXCIsIGZ1bmN0aW9uYWwpO1xyXG5cclxuaW1wb3J0IG1hdGggZnJvbSAnLi9QcmVkZWZzL21hdGguanMnO1xyXG5yZWdpc3RyeS5wcm92aWRlKFwibWF0aFwiLCBtYXRoKTtcclxuXHJcbiIsIlxyXG5pbXBvcnQgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQge1ByaW1pdGl2ZVByb3B9IGZyb20gJy4vcHJpbWl0aXZlcy5qcyc7XHJcbmltcG9ydCBtYWtlTWF0cml4VHJhbnNmb3JtZWRPYmplY3QzRCBmcm9tICcuL21ha2VNYXRyaXhUcmFuc2Zvcm1lZE9iamVjdDNELmpzJztcclxuaW1wb3J0IHtzdXJmYWNlTWF0LCBzb2xpZE1hdH0gZnJvbSAnLi9kZWZhdWx0LW1hdGVyaWFscy5qcyc7XHJcbmltcG9ydCB7cG9seWdvblN1cmZhY2V9IGZyb20gJy4vcG9seWdvbi1zdXJmYWNlLmpzJztcclxuaW1wb3J0IHtleHRydXNpb259IGZyb20gJy4vZXh0cnVzaW9uLmpzJztcclxuXHJcbi8qXHJcblx0VEhSRUUgcmVwcmVzZW50YXRpb24gZ2VuZXJhdGlvbiBjb2RlLlxyXG4qL1xyXG5mdW5jdGlvbiBpc1JlbmRlcmFibGUocmVzdWx0KSB7XHJcblx0cmV0dXJuIGlzUHJpbWl0aXZlKHJlc3VsdCkgfHwgaXNBcnJheU9mUmVuZGVyYWJsZXMocmVzdWx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNQcmltaXRpdmUocmVzdWx0KSB7XHJcblx0cmV0dXJuIGlzU29tZXRoaW5nKHJlc3VsdCkgJiYgcmVuZGVyYWJsZUZ1bmN0aW9uc1tyZXN1bHRbUHJpbWl0aXZlUHJvcF1dICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU29tZXRoaW5nKHJlc3VsdCkge1xyXG5cdHJldHVybiByZXN1bHQgIT09IHVuZGVmaW5lZCAmJiByZXN1bHQgIT09IG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXJyYXlPZlJlbmRlcmFibGVzKHJlc3VsdCkge1xyXG5cdHJldHVybiBBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgcmVzdWx0LmV2ZXJ5KGlzUmVuZGVyYWJsZSk7XHJcbn1cclxuXHJcbi8vIFRoZSBUSFJFRU9iamVjdCBnZW5lcmF0ZWQgZm9yIG5vbi1yZW5kZXJhYmxlIHJlc3VsdHMuXHJcbmZ1bmN0aW9uIG51bGxUaHJlZU9iaigpIHtcclxuXHRyZXR1cm4gbmV3IFRIUkVFLk9iamVjdDNEKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc3VsdFRvVGhyZWUocmVzdWx0LCBjYWxsYmFjaykge1xyXG5cdHZhciB0aHJlZU9iajsgXHJcblx0aWYoaXNQcmltaXRpdmUocmVzdWx0KSl7XHJcblx0XHR0aHJlZU9iaiA9IHJlbmRlcmFibGVGdW5jdGlvbnNbcmVzdWx0W1ByaW1pdGl2ZVByb3BdXShyZXN1bHQsIGNhbGxiYWNrKTtcclxuXHR9IGVsc2UgaWYoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcblx0XHR0aHJlZU9iaiA9IGFycmF5VG9UaHJlZShyZXN1bHQsIGNhbGxiYWNrKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhyZWVPYmogPSBudWxsVGhyZWVPYmooKTtcclxuXHR9XHJcblx0Y2FsbGJhY2soe3Jlc3VsdCwgdGhyZWVPYmp9KTtcclxuXHRyZXR1cm4gdGhyZWVPYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFycmF5VG9UaHJlZShhcnJheSwgY2FsbGJhY2spIHtcclxuXHR2YXIgb2JqcyA9IGFycmF5Lm1hcChyPT5yZXN1bHRUb1RocmVlKHIsIGNhbGxiYWNrKSk7XHJcblx0dmFyIHBhcmVudCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xyXG5cdGlmIChvYmpzLmxlbmd0aCAhPT0gMCkge1xyXG5cdFx0cGFyZW50LmFkZC5hcHBseShwYXJlbnQsIG9ianMpO1xyXG5cdH1cclxuXHRyZXR1cm4gcGFyZW50O1xyXG59XHJcblxyXG52YXIgcmVuZGVyYWJsZUZ1bmN0aW9ucyA9IHtcclxuXHRzcGhlcmUsXHJcblx0Y3lsaW5kZXIsXHJcblx0Ym94LFxyXG5cdHJlY3RhbmdsZSxcclxuXHR0cmFuc2Zvcm1PYmplY3RXaXRoLFxyXG5cdHBvbHlnb25TdXJmYWNlLFxyXG5cdGV4dHJ1c2lvbixcclxuXHRjb25lRnJ1c3R1bVxyXG59O1xyXG5cclxuLy8gQWxsIGdlb21ldHJpZXMgbmVlZCB0byBiZSByb3RhdGVkIHNvIHRoYXQgWiBpcyB0aGVpciB1cCBheGlzLlxyXG4vLyBUaGV5IGFyZSBkZWZpbmVkIHdpdGggWSBhcyB0aGVpciB1cCBheGlzIHNvIHRoZXkgbmVlZCB0byBiZSByb3RhdGVkIC1waS8yIGFyb3VuZCBYLlxyXG4vLyBUaGlzIHdheSBaIGJlY29tZXMgdGhlaXIgdXAgYXhpcy5cclxudmFyIHlVcFRvWlVwUm90YXRpb24gPSAobmV3IFRIUkVFLk1hdHJpeDQoKSlcclxuXHQubWFrZVJvdGF0aW9uQXhpcyhuZXcgVEhSRUUuVmVjdG9yMygxLjAsIDAuMCwgMC4wKSwgLU1hdGguUEkvMi4wKTtcclxuXHJcbnZhciBzcGhlcmVHZW9tID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEsIDMyLCAzMik7XHJcbnNwaGVyZUdlb20uYXBwbHlNYXRyaXgoeVVwVG9aVXBSb3RhdGlvbik7XHJcbmZ1bmN0aW9uIHNwaGVyZShyZXN1bHQsIGNhbGxiYWNrKSB7XHJcblx0dmFyIHJhZGl1cyA9IHJlc3VsdC5hcmdzLnJhZGl1cztcclxuXHR2YXIgb2JqID0gbmV3IFRIUkVFLk1lc2goc3BoZXJlR2VvbSwgc29saWRNYXQpO1xyXG5cdG9iai5zY2FsZS5zZXQocmFkaXVzLCByYWRpdXMsIHJhZGl1cyk7XHJcblx0cmV0dXJuIG9iajtcclxufVxyXG52YXIgY3lsaW5kZXJHZW9tID0gbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMSwgMSwgMSwgMzIpO1xyXG5jeWxpbmRlckdlb20uYXBwbHlNYXRyaXgoeVVwVG9aVXBSb3RhdGlvbik7XHJcbmZ1bmN0aW9uIGN5bGluZGVyKHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIgcmFkaXVzID0gcmVzdWx0LmFyZ3MucmFkaXVzO1xyXG5cdHZhciBoZWlnaHQgPSByZXN1bHQuYXJncy5oZWlnaHQ7XHJcblx0dmFyIG9iaiA9IG5ldyBUSFJFRS5NZXNoKGN5bGluZGVyR2VvbSwgc29saWRNYXQpO1xyXG5cdG9iai5zY2FsZS5zZXQocmFkaXVzLCByYWRpdXMsIGhlaWdodCk7XHJcblx0cmV0dXJuIG9iajtcclxufVxyXG52YXIgYm94R2VvbSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKTtcclxuYm94R2VvbS5hcHBseU1hdHJpeCh5VXBUb1pVcFJvdGF0aW9uKTtcclxuZnVuY3Rpb24gYm94KHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIgd2lkdGggPSByZXN1bHQuYXJncy53aWR0aCxcclxuXHRcdGhlaWdodCA9IHJlc3VsdC5hcmdzLmhlaWdodCxcclxuXHRcdGRlcHRoID0gcmVzdWx0LmFyZ3MuZGVwdGg7XHJcblx0dmFyIG9iaiA9IG5ldyBUSFJFRS5NZXNoKGJveEdlb20sIHNvbGlkTWF0KTtcclxuXHRvYmouc2NhbGUuc2V0KHdpZHRoLCBoZWlnaHQsIGRlcHRoKTtcclxuXHRyZXR1cm4gb2JqO1xyXG59XHJcbnZhciByZWN0YW5nbGVHZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSk7XHJcbi8vcmVjdGFuZ2xlR2VvbS5hcHBseU1hdHJpeCh5VXBUb1pVcFJvdGF0aW9uKTtcclxuZnVuY3Rpb24gcmVjdGFuZ2xlKHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIgd2lkdGggPSByZXN1bHQuYXJncy53aWR0aCxcclxuXHRcdGhlaWdodCA9IHJlc3VsdC5hcmdzLmhlaWdodDtcclxuXHR2YXIgb2JqID0gbmV3IFRIUkVFLk1lc2gocmVjdGFuZ2xlR2VvbSwgc3VyZmFjZU1hdCk7XHJcblx0b2JqLnNjYWxlLnNldCh3aWR0aCwgaGVpZ2h0LCAxKTtcclxuXHRyZXR1cm4gb2JqO1xyXG59XHJcbmZ1bmN0aW9uIHRyYW5zZm9ybU9iamVjdFdpdGgocmVzdWx0LCBjYWxsYmFjaykge1xyXG5cdHZhciBvYmpUb1RyYW5zZm9ybSA9IHJlc3VsdFRvVGhyZWUocmVzdWx0LmFyZ3Mub2JqZWN0LCBjYWxsYmFjayk7XHJcblx0dmFyIG1hdHJpeCA9IHJlc3VsdC5hcmdzLnRyYW5zZm9ybTtcclxuXHR2YXIgb2JqID0gbWFrZU1hdHJpeFRyYW5zZm9ybWVkT2JqZWN0M0QobWF0cml4KTtcclxuXHRvYmouYWRkKG9ialRvVHJhbnNmb3JtKTtcclxuXHRyZXR1cm4gb2JqO1xyXG59XHJcbmZ1bmN0aW9uIGNvbmVGcnVzdHVtKHJlc3VsdCwgY2FsbGJhY2spIHtcclxuXHR2YXIge2JvdHRvbVJhZGl1cywgdG9wUmFkaXVzLCBoZWlnaHR9ID0gcmVzdWx0LmFyZ3M7XHJcblx0dmFyIGdlb20gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShib3R0b21SYWRpdXMsIHRvcFJhZGl1cywgaGVpZ2h0LCAzMik7XHJcblx0dmFyIG9iaiA9IG5ldyBUSFJFRS5NZXNoKGdlb20sIHNvbGlkTWF0KTtcclxuXHRnZW9tLmFwcGx5TWF0cml4KHlVcFRvWlVwUm90YXRpb24pO1xyXG5cdHJldHVybiBvYmo7XHJcbn1cclxuXHJcblxyXG5cclxuLy9cclxuLy8gXHJcbi8vXHJcbmZ1bmN0aW9uIGNvbnZlcnRLZWVwaW5nQ29ycmVzcG9uZGVuY2UocmVzdWx0c0l0ZXJhYmxlKSB7XHJcblxyXG5cdGxldCByZXN1bHRUb1RIUkVFT2JqZWN0cyA9IG5ldyBNYXAoKTtcclxuXHRsZXQgdGhyZWVPYmplY3RUb1Jlc3VsdCA9IG5ldyBNYXAoKTtcclxuXHRmdW5jdGlvbiBrZWVwQ29ycmVzcG9uZGVuY2Uoe3Jlc3VsdCwgdGhyZWVPYmp9KSB7XHJcblx0XHRpZighcmVzdWx0VG9USFJFRU9iamVjdHMuaGFzKHJlc3VsdCkpIHtcclxuXHRcdFx0cmVzdWx0VG9USFJFRU9iamVjdHMuc2V0KHJlc3VsdCwgW10pO1xyXG5cdFx0fVxyXG5cdFx0cmVzdWx0VG9USFJFRU9iamVjdHMuZ2V0KHJlc3VsdCkucHVzaCh0aHJlZU9iaik7XHJcblx0XHR0aHJlZU9iamVjdFRvUmVzdWx0LnNldCh0aHJlZU9iaiwgcmVzdWx0KTtcclxuXHR9XHJcblxyXG5cdHZhciB0aHJlZU9iamVjdHMgPSBbXTtcclxuXHRmb3IobGV0IHJlc3VsdCBvZiByZXN1bHRzSXRlcmFibGUpIHtcclxuXHRcdGxldCB0aHJlZU9iaiA9IHJlc3VsdFRvVGhyZWUocmVzdWx0LCBrZWVwQ29ycmVzcG9uZGVuY2UpO1xyXG5cdFx0dGhyZWVPYmplY3RzLnB1c2godGhyZWVPYmopO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHRocmVlT2JqZWN0cyxcclxuXHRcdHJlc3VsdFRvVEhSRUVPYmplY3RzLFxyXG5cdFx0dGhyZWVPYmplY3RUb1Jlc3VsdFxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnZlcnROb3JtYWxseShyZXN1bHRzSXRlcmFibGUpIHtcclxuXHR2YXIgdGhyZWVPYmplY3RzID0gW107XHJcblx0Zm9yKGxldCByZXN1bHQgb2YgcmVzdWx0c0l0ZXJhYmxlKSB7XHJcblx0XHR0aHJlZU9iamVjdHMucHVzaChyZXN1bHRUb1RocmVlKHJlc3VsdCwgZnVuY3Rpb24oe3Jlc3VsdCwgdGhyZWVPYmp9KXt9KSk7XHJcblx0fVxyXG5cdHJldHVybiB7dGhyZWVPYmplY3RzfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0aXNSZW5kZXJhYmxlOiBpc1JlbmRlcmFibGUsXHJcblx0Y29udmVydDoge1xyXG5cdFx0a2VlcGluZ0NvcnJlc3BvbmRlbmNlOiBjb252ZXJ0S2VlcGluZ0NvcnJlc3BvbmRlbmNlLFxyXG5cdFx0bm9ybWFsbHk6IGNvbnZlcnROb3JtYWxseVxyXG5cdH1cclxufTtcclxuIiwiXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5cclxuaW1wb3J0IHtIb3Jpem9udGFsQmFyfSBmcm9tICcuLi9SZWFjdENvbXBvbmVudHMvZ2VuZXJpYy5qc3gnO1xyXG5cclxuaW1wb3J0IFN1cGVyRWRpdG9yIGZyb20gJy4uL1JlYWN0Q29tcG9uZW50cy9TdXBlckVkaXRvci5qc3gnO1xyXG5pbXBvcnQge2NoYW5nZVByb2dyYW19IGZyb20gJy4vYWN0aW9ucy1yZWR1Y2Vycy5qcyc7XHJcblxyXG5cclxuY29uc3QgUHJvZ3JhbU5hbWUgPSAoe25hbWV9KSA9PiAoXHJcbiAgPEhvcml6b250YWxCYXI+XHJcbiAgICA8aDE+e25hbWV9PC9oMT5cclxuICA8L0hvcml6b250YWxCYXI+XHJcbik7XHJcblxyXG5jb25zdCBQcm9ncmFtTmFtZUNvbnRhaW5lciA9IGNvbm5lY3QoXHJcbiAgc3RhdGUgPT4gKHtuYW1lOiBzdGF0ZS5hY3RpdmVQcm9ncmFtLm5hbWV9KVxyXG4pKFByb2dyYW1OYW1lKTtcclxuXHJcblxyXG5cclxuY29uc3QgU3VwZXJFZGl0b3JDb250YWluZXIgPSBjb25uZWN0KFxyXG4gIHN0YXRlID0+ICh7XHJcbiAgICBwcm9ncmFtOiBzdGF0ZS5hY3RpdmVQcm9ncmFtLnByb2dyYW1cclxuICB9KSxcclxuICBkaXNwYXRjaCA9PiAoe1xyXG4gICAgb25Qcm9ncmFtQ2hhbmdlOiAocHJvZ3JhbSkgPT4gZGlzcGF0Y2goY2hhbmdlUHJvZ3JhbShwcm9ncmFtKSlcclxuICB9KVxyXG4pKFN1cGVyRWRpdG9yKTtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEN1cnJlbnRQcm9ncmFtRWRpdG9yID0gKCkgPT4gKFxyXG4gIDxkaXY+XHJcbiAgICA8ZGl2IHN0eWxlPXt7fX0+XHJcbiAgICAgIDxQcm9ncmFtTmFtZUNvbnRhaW5lci8+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgc3R5bGU9e3t3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdjYWxjKDEwMCUgLSAzZW0pJ319PlxyXG4gICAgICA8U3VwZXJFZGl0b3JDb250YWluZXIvPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDdXJyZW50UHJvZ3JhbUVkaXRvcjtcclxuIiwiXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgU2lkZVBhbmVscyBmcm9tICcuL2NvbXBvbmVudHMuanN4JztcclxuaW1wb3J0IEN1cnJlbnRQcm9ncmFtRWRpdG9yIGZyb20gJy4vQ3VycmVudFByb2dyYW1FZGl0b3IuanN4JztcclxuXHJcblxyXG5jb25zdCBFZGl0b3JQYWdlID0gKCkgPT4gKFxyXG4gIDxkaXY+XHJcbiAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICB3aWR0aDogJzgwcHgnLFxyXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgekluZGV4OiAnMid9fT5cclxuICAgICAgPFNpZGVQYW5lbHMvPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBcclxuICAgICAgbGVmdDogJzgwcHgnLCBcclxuICAgICAgd2lkdGg6ICdjYWxjKDEwMCUgLSA4MHB4KScsIFxyXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgekluZGV4OiAnMSd9fT5cclxuICAgICAgPEN1cnJlbnRQcm9ncmFtRWRpdG9yLz5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yUGFnZTtcclxuIiwiXHJcbmltcG9ydCB7Y29tYmluZVJlZHVjZXJzfSBmcm9tICdyZWR1eCc7XHJcblxyXG5pbXBvcnQgdGltZSBmcm9tICcuLi91dGlscy90aW1lLmpzJztcclxuXHJcbmNvbnN0IG51bGxQcm9ncmFtID0ge25hbWU6ICd1bnRpdGxlZCcsIHByb2dyYW06ICcnfTtcclxuXHJcbmltcG9ydCB7ZXhhbXBsZXMgYXMgZXhhbXBsZVByb2dyYW1zfSBmcm9tICcuLi9leGFtcGxlLXByb2dyYW1zL2V4YW1wbGVzLmpzJztcclxuXHJcbmltcG9ydCB7cnVuSW5DYWQsIGNsZWFyQ2FkLCBzZWxlY3RDYWRzfSBmcm9tICcuLi9SdW5uZXIvcnVuLWluLWNhZC5qcyc7XHJcblxyXG4vLyAuZDg4ODhiLiAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vZDg4UCAgWTg4YiAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy9ZODhiLiAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyBcIlk4ODhiLiAgICAuZDg4Yi4gIDg4OCAgLmQ4OGIuICAgLmQ4ODg4YiA4ODg4ODggLmQ4OGIuICA4ODhkODg4IC5kODg4OGIgIFxyXG4vLyAgICBcIlk4OGIuIGQ4UCAgWThiIDg4OCBkOFAgIFk4YiBkODhQXCIgICAgODg4ICAgZDg4XCJcIjg4YiA4ODhQXCIgICA4OEsgICAgICBcclxuLy8gICAgICBcIjg4OCA4ODg4ODg4OCA4ODggODg4ODg4ODggODg4ICAgICAgODg4ICAgODg4ICA4ODggODg4ICAgICBcIlk4ODg4Yi4gXHJcbi8vWTg4YiAgZDg4UCBZOGIuICAgICA4ODggWThiLiAgICAgWTg4Yi4gICAgWTg4Yi4gWTg4Li44OFAgODg4ICAgICAgICAgIFg4OCBcclxuLy8gXCJZODg4OFBcIiAgIFwiWTg4ODggIDg4OCAgXCJZODg4OCAgIFwiWTg4ODhQICBcIlk4ODggXCJZODhQXCIgIDg4OCAgICAgIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmZ1bmN0aW9uIGFjdGl2ZUNhZHMoc3RhdGUpIHtcclxuICByZXR1cm4gc3RhdGUuZXhwb3J0Q2FkcztcclxufVxyXG5cclxuXHJcbi8vODg4ODg4ODg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICBcclxuLy84ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgIFxyXG4vLzg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgXHJcbi8vODg4ODg4OCAgICA4ODggIDg4OCA4ODg4OGIuICAgLmQ4OGIuICA4ODhkODg4IDg4ODg4OCBcclxuLy84ODggICAgICAgIGBZOGJkOFAnIDg4OCBcIjg4YiBkODhcIlwiODhiIDg4OFBcIiAgIDg4OCAgICBcclxuLy84ODggICAgICAgICAgWDg4SyAgIDg4OCAgODg4IDg4OCAgODg4IDg4OCAgICAgODg4ICAgIFxyXG4vLzg4OCAgICAgICAgLmQ4XCJcIjhiLiA4ODggZDg4UCBZODguLjg4UCA4ODggICAgIFk4OGIuICBcclxuLy84ODg4ODg4ODg4IDg4OCAgODg4IDg4ODg4UFwiICAgXCJZODhQXCIgIDg4OCAgICAgIFwiWTg4OCBcclxuLy8gICAgICAgICAgICAgICAgICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbi8qKlxyXG4gIEFjdGlvbnNcclxuICovXHJcbmNvbnN0IFNFVF9FWFBPUlRfQ0FEUyA9ICdTRVRfRVhQT1JUX0NBRFMnO1xyXG5jb25zdCBFWFBPUlRfVE9fQ0FEUyA9ICdFWFBPUlRfVE9fQ0FEUyc7XHJcbmNvbnN0IENMRUFSX0VYUE9SVF9DQURTID0gJ0NMRUFSX0VYUE9SVF9DQURTJztcclxuXHJcbmNvbnN0IEVYUE9SVF9ET05FID0gJ0VYUE9SVF9ET05FJzsgLy8gTm90IGZvbGxvd2luZyB0aGUgaW1wZXJhdGl2ZSBtb29kLi4uXHJcbmNvbnN0IEVYUE9SVF9GQUlMRUQgPSAnRVhQT1JUX0ZBSUxFRCc7XHJcblxyXG4vKipcclxuICBBY3Rpb24gY3JlYXRvcnNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRFeHBvcnRDYWRzKGV4cG9ydENhZHMpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogU0VUX0VYUE9SVF9DQURTLFxyXG4gICAgZXhwb3J0Q2Fkc1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4cG9ydFRvQ2FkcygpIHtcclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogRVhQT1JUX1RPX0NBRFNcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckNhZHMoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IENMRUFSX0VYUE9SVF9DQURTXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvRXhwb3J0VG9DYWRzKCkge1xyXG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XHJcbiAgICBkaXNwYXRjaChleHBvcnRUb0NhZHMoKSk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZWxlY3RDYWRzKGdldFN0YXRlKCkuZXhwb3J0Q2Fkcyk7XHJcbiAgICAgICAgdGltZShcIkNBRCBleHBvcnRcIiwgKCk9PnJ1bkluQ2FkKGdldFN0YXRlKCkuYWN0aXZlUHJvZ3JhbS5wcm9ncmFtKSk7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgdHlwZTogRVhQT1JUX0RPTkVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgIHR5cGU6IEVYUE9SVF9GQUlMRUQsXHJcbiAgICAgICAgICBlcnJvcjogZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG9DbGVhckNhZHMoKSB7XHJcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcclxuICAgIGRpc3BhdGNoKGNsZWFyQ2FkcygpKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNlbGVjdENhZHMoZ2V0U3RhdGUoKS5leHBvcnRDYWRzKTtcclxuICAgICAgICBjbGVhckNhZCgpO1xyXG4gICAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICAgIHR5cGU6IEVYUE9SVF9ET05FXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgICB0eXBlOiBFWFBPUlRfRkFJTEVELFxyXG4gICAgICAgICAgZXJyb3I6IGVcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiBSZWR1Y2VycyBcclxuICovXHJcbmZ1bmN0aW9uIGF2YWlsYWJsZUNhZHMoc3RhdGUgPSBbJ2F1dG9jYWQnLCAnc2tldGNodXAnXSwgYWN0aW9uID0ge30pIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRDYWRzKHN0YXRlID0gW10sIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBTRVRfRVhQT1JUX0NBRFM6XHJcbiAgICAgIHJldHVybiBhY3Rpb24uZXhwb3J0Q2FkcztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4cG9ydGluZ1RvQ0FEKHN0YXRlID0gZmFsc2UsIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgY2FzZSBFWFBPUlRfVE9fQ0FEUzpcclxuICAgIGNhc2UgQ0xFQVJfRVhQT1JUX0NBRFM6XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgY2FzZSBFWFBPUlRfRE9ORTpcclxuICAgIGNhc2UgRVhQT1JUX0ZBSUxFRDpcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG4vLzg4ODg4ODhiLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4OCAgIGQ4OFAgODg4ZDg4OCAuZDg4Yi4gICAuZDg4Yi4gIDg4OGQ4ODggODg4OGIuICA4ODg4OGIuZDg4Yi4gIC5kODg4OGIgIFxyXG4vLzg4ODg4ODhQXCIgIDg4OFBcIiAgZDg4XCJcIjg4YiBkODhQXCI4OGIgODg4UFwiICAgICAgXCI4OGIgODg4IFwiODg4IFwiODhiIDg4SyAgICAgIFxyXG4vLzg4OCAgICAgICAgODg4ICAgIDg4OCAgODg4IDg4OCAgODg4IDg4OCAgICAuZDg4ODg4OCA4ODggIDg4OCAgODg4IFwiWTg4ODhiLiBcclxuLy84ODggICAgICAgIDg4OCAgICBZODguLjg4UCBZODhiIDg4OCA4ODggICAgODg4ICA4ODggODg4ICA4ODggIDg4OCAgICAgIFg4OCBcclxuLy84ODggICAgICAgIDg4OCAgICAgXCJZODhQXCIgICBcIlk4ODg4OCA4ODggICAgXCJZODg4ODg4IDg4OCAgODg4ICA4ODggIDg4ODg4UCcgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgWThiIGQ4OFAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiWTg4UFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbi8qKlxyXG4gIFByb2dyYW0gbWFuYWdlbWVudCBsb2dpYyBtb2R1bGUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAgQWN0aW9uc1xyXG4gKi9cclxuY29uc3QgQ1JFQVRFX1BST0dSQU0gPSAnQ1JFQVRFX1BST0dSQU0nO1xyXG5jb25zdCBTQVZFX1BST0dSQU0gPSAnU0FWRV9QUk9HUkFNJztcclxuXHJcbmNvbnN0IFNFTEVDVF9QUk9HUkFNID0gJ1NFTEVDVF9QUk9HUkFNJzsgLy8gQ2hhbmdlIHRoZSBhY3RpdmUgcHJvZ3JhbVxyXG5jb25zdCBDSEFOR0VfUFJPR1JBTSA9ICdDSEFOR0VfUFJPR1JBTSc7IC8vIE1ha2UgYSBjaGFuZ2UgdG8gdGhlIHByb2dyYW0ncyBzb3VyY2UgY29kZVxyXG5cclxuLyoqXHJcbiAgQWN0aW9uIGNyZWF0b3JzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShuYW1lLCBzb3VyY2UgPSAnJykge1xyXG4gIHJldHVybiB7XHJcbiAgICB0eXBlOiBDUkVBVEVfUFJPR1JBTSxcclxuICAgIG5hbWUsXHJcbiAgICBzb3VyY2VcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0UHJvZ3JhbShuYW1lLCBwcm9ncmFtKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IFNFTEVDVF9QUk9HUkFNLFxyXG4gICAgbmFtZSxcclxuICAgIHByb2dyYW1cclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUHJvZ3JhbShwcm9ncmFtKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHR5cGU6IENIQU5HRV9QUk9HUkFNLFxyXG4gICAgcHJvZ3JhbVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gUmVkdWNlcnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9ncmFtcyhzdGF0ZSA9IGV4YW1wbGVQcm9ncmFtcywgYWN0aW9uID0ge30pIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgIC8vIERvIHByb2dyYW0gc3RvcmFnZSBzdHVmZi5cclxuICAgIGNhc2UgQ1JFQVRFX1BST0dSQU06XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAge25hbWU6IGFjdGlvbi5uYW1lLCBwcm9ncmFtOiBhY3Rpb24uc291cmNlfSxcclxuICAgICAgICAuLi5leGFtcGxlUHJvZ3JhbXNcclxuICAgICAgXTtcclxuICAgIGNhc2UgU0FWRV9QUk9HUkFNOlxyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHtuYW1lOiBhY3Rpb24ubmFtZSwgcHJvZ3JhbTogYWN0aW9uLnByb2dyYW19LFxyXG4gICAgICAgIC4uLnN0YXRlLmZpbHRlcigoe25hbWV9KSA9PiBuYW1lICE9PSBhY3Rpb24ubmFtZSlcclxuICAgICAgXTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGl2ZVByb2dyYW0oc3RhdGUgPSBudWxsUHJvZ3JhbSwgYWN0aW9uID0ge30pIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICBjYXNlIFNFTEVDVF9QUk9HUkFNOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxyXG4gICAgICAgIHByb2dyYW06IGFjdGlvbi5wcm9ncmFtXHJcbiAgICAgIH07XHJcbiAgICBjYXNlIENIQU5HRV9QUk9HUkFNOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IHN0YXRlLm5hbWUsIFxyXG4gICAgICAgIHByb2dyYW06IGFjdGlvbi5wcm9ncmFtXHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4vLzg4ODg4ODg4ODggICAgIDg4OCBkOGIgODg4ICAgICAgICAgICAgICAgICAgICBcclxuLy84ODggICAgICAgICAgICA4ODggWThQIDg4OCAgICAgICAgICAgICAgICAgICAgXHJcbi8vODg4ICAgICAgICAgICAgODg4ICAgICA4ODggICAgICAgICAgICAgICAgICAgIFxyXG4vLzg4ODg4ODggICAgLmQ4ODg4OCA4ODggODg4ODg4IC5kODhiLiAgODg4ZDg4OCBcclxuLy84ODggICAgICAgZDg4XCIgODg4IDg4OCA4ODggICBkODhcIlwiODhiIDg4OFBcIiAgIFxyXG4vLzg4OCAgICAgICA4ODggIDg4OCA4ODggODg4ICAgODg4ICA4ODggODg4ICAgICBcclxuLy84ODggICAgICAgWTg4YiA4ODggODg4IFk4OGIuIFk4OC4uODhQIDg4OCAgICAgXHJcbi8vODg4ODg4ODg4OCBcIlk4ODg4OCA4ODggIFwiWTg4OCBcIlk4OFBcIiAgODg4ICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAvKipcclxuICBQcm9ncmFtIGVkaXRpbmcgbG9naWMuXHJcbiAgKi9cclxuICBcclxuY29uc3QgUkVRVUVTVF9QUk9HUkFNX1JVTiA9ICdSRVFVRVNUX1BST0dSQU1fUlVOJztcclxuY29uc3QgUFJPR1JBTV9SVU5fU1VDQ0VTUyA9ICdQUk9HUkFNX1JVTl9TVUNDRVNTJztcclxuY29uc3QgUFJPR1JBTV9SVU5fRVJST1IgPSAnUFJPR1JBTV9SVU5fRVJST1InO1xyXG5jb25zdCBQUk9HUkFNX1JVTl9USU1FT1VUID0gJ1BST0dSQU1fUlVOX1RJTUVPVVQnO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHJ1bm5pbmdTdGF0dXMoc3RhdGUgPSAnaWRsZScsIGFjdGlvbiA9IHt9KSB7XHJcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAvLyBcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBzdGF0ZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFjdGl2ZVByb2dyYW1SZXN1bHRzKHN0YXRlID0gbnVsbCwgYWN0aW9uID0ge30pIHtcclxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8gLmQ4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgODg4ICAgICAgODg4ODg4OGIuICAgICAgICAgICAgICAgODg4ICAgICAgICAgIFxyXG4vL2Q4OFAgIFk4OGIgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICA4ODggICBZODhiICAgICAgICAgICAgICA4ODggICAgICAgICAgXHJcbi8vODg4ICAgIDg4OCAgICAgICAgICAgICAgICAgICAgICAgIDg4OCAgICAgIDg4OCAgICA4ODggICAgICAgICAgICAgIDg4OCAgICAgICAgICBcclxuLy84ODggICAgICAgICAuZDg4Yi4gIDg4ODg4Yi5kODhiLiAgODg4ODhiLiAgODg4ICAgZDg4UCAuZDg4Yi4gICAuZDg4ODg4IDg4OCAgODg4IFxyXG4vLzg4OCAgICAgICAgZDg4XCJcIjg4YiA4ODggXCI4ODggXCI4OGIgODg4IFwiODhiIDg4ODg4ODhQXCIgZDhQICBZOGIgZDg4XCIgODg4IDg4OCAgODg4IFxyXG4vLzg4OCAgICA4ODggODg4ICA4ODggODg4ICA4ODggIDg4OCA4ODggIDg4OCA4ODggVDg4YiAgODg4ODg4ODggODg4ICA4ODggODg4ICA4ODggXHJcbi8vWTg4YiAgZDg4UCBZODguLjg4UCA4ODggIDg4OCAgODg4IDg4OCBkODhQIDg4OCAgVDg4YiBZOGIuICAgICBZODhiIDg4OCBZODhiIDg4OCBcclxuLy8gXCJZODg4OFBcIiAgIFwiWTg4UFwiICA4ODggIDg4OCAgODg4IDg4ODg4UFwiICA4ODggICBUODhiIFwiWTg4ODggICBcIlk4ODg4OCAgXCJZODg4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb21iaW5lUmVkdWNlcnMoe1xyXG4gIGF2YWlsYWJsZUNhZHMsXHJcbiAgZXhwb3J0Q2FkcyxcclxuICBleHBvcnRpbmdUb0NBRCxcclxuICBwcm9ncmFtcyxcclxuICBhY3RpdmVQcm9ncmFtLFxyXG4gIGFjdGl2ZVByb2dyYW1SZXN1bHRzLFxyXG4gIHJ1bm5pbmdTdGF0dXMsXHJcbn0pO1xyXG5cclxuIiwiXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7cmVuZGVyfSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQge2NyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmV9IGZyb20gJ3JlZHV4JztcclxuaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgdGh1bmtNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXRodW5rJztcclxuaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInO1xyXG5cclxuaW1wb3J0IGVkaXRvclN0YXRlIGZyb20gJy4vYWN0aW9ucy1yZWR1Y2Vycy5qcyc7XHJcbmltcG9ydCBFZGl0b3JQYWdlIGZyb20gJy4vRWRpdG9yUGFnZS5qc3gnO1xyXG5cclxuY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9IGNyZWF0ZUxvZ2dlcigpO1xyXG5cclxuY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShcclxuICBlZGl0b3JTdGF0ZSwgXHJcbiAgYXBwbHlNaWRkbGV3YXJlKFxyXG4gICAgdGh1bmtNaWRkbGV3YXJlLFxyXG4gICAgbG9nZ2VyTWlkZGxld2FyZVxyXG4gIClcclxuKTtcclxuXHJcblxyXG5yZW5kZXIoXHJcbiAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICA8RWRpdG9yUGFnZS8+XHJcbiAgPC9Qcm92aWRlcj4sXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXHJcbik7XHJcbiIsIlxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuXHJcbmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JztcclxuaW1wb3J0IHtWZXJ0aWNhbEljb25CYXIsIFNwYWNlciwgSWNvbkJ1dHRvbiwgRHJhd2VyfSBmcm9tICcuLi9SZWFjdENvbXBvbmVudHMvZ2VuZXJpYy5qc3gnO1xyXG5cclxuaW1wb3J0IHtzZWxlY3RQcm9ncmFtLCBzZXRFeHBvcnRDYWRzLCBkb0V4cG9ydFRvQ2FkcywgZG9DbGVhckNhZHN9IGZyb20gJy4vYWN0aW9ucy1yZWR1Y2Vycy5qcyc7XHJcblxyXG5cclxuLy84ODg4ODg4Yi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmQ4ODg4Yi4gICAgICAgICAgIDg4OCBcclxuLy84ODggICBZODhiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkODhQICBZODhiICAgICAgICAgIDg4OCBcclxuLy84ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZODhiLiAgICAgICAgICAgICAgIDg4OCBcclxuLy84ODggICBkODhQIDg4OGQ4ODggLmQ4OGIuICAgLmQ4OGIuICA4ODhkODg4IDg4ODhiLiAgODg4ODhiLmQ4OGIuICAgXCJZODg4Yi4gICAgLmQ4OGIuICA4ODggXHJcbi8vODg4ODg4OFBcIiAgODg4UFwiICBkODhcIlwiODhiIGQ4OFBcIjg4YiA4ODhQXCIgICAgICBcIjg4YiA4ODggXCI4ODggXCI4OGIgICAgIFwiWTg4Yi4gZDhQICBZOGIgODg4IFxyXG4vLzg4OCAgICAgICAgODg4ICAgIDg4OCAgODg4IDg4OCAgODg4IDg4OCAgICAuZDg4ODg4OCA4ODggIDg4OCAgODg4ICAgICAgIFwiODg4IDg4ODg4ODg4IDg4OCBcclxuLy84ODggICAgICAgIDg4OCAgICBZODguLjg4UCBZODhiIDg4OCA4ODggICAgODg4ICA4ODggODg4ICA4ODggIDg4OCBZODhiICBkODhQIFk4Yi4gICAgIDg4OCBcclxuLy84ODggICAgICAgIDg4OCAgICAgXCJZODhQXCIgICBcIlk4ODg4OCA4ODggICAgXCJZODg4ODg4IDg4OCAgODg4ICA4ODggIFwiWTg4ODhQXCIgICBcIlk4ODg4ICA4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgWThiIGQ4OFAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiWTg4UFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcblxyXG5jb25zdCBQcm9ncmFtU2VsZWN0aW9uSXRlbSA9ICh7cHJvZ3JhbSwgb25DbGlja30pID0+IChcclxuICA8cCBvbkNsaWNrPXtvbkNsaWNrfT57cHJvZ3JhbS5uYW1lfTwvcD5cclxuKTtcclxuXHJcbmNvbnN0IFByb2dyYW1TZWxlY3Rpb25QYW5lbCA9ICh7cHJvZ3JhbXMsIG9uUHJvZ3JhbUNsaWNrfSkgPT4gKFxyXG4gIDxkaXY+XHJcbiAgICA8aDM+QWxsIFByb2dyYW1zPC9oMz5cclxuICAgIHtwcm9ncmFtcy5tYXAocHJvZ3JhbSA9PiBcclxuICAgICAgPFByb2dyYW1TZWxlY3Rpb25JdGVtXHJcbiAgICAgICAga2V5PXtwcm9ncmFtLm5hbWV9XHJcbiAgICAgICAgcHJvZ3JhbT17cHJvZ3JhbX0gXHJcbiAgICAgICAgb25DbGljaz17KCkgPT4gb25Qcm9ncmFtQ2xpY2socHJvZ3JhbSl9Lz5cclxuICAgICl9XHJcblxyXG4gICAgPGgzPlNlYXJjaDwvaDM+XHJcblxyXG4gICAgPGgzPlJlY2VudDwvaDM+XHJcblxyXG4gICAgPGgzPkV4YW1wbGVzPC9oMz5cclxuXHJcbiAgPC9kaXY+XHJcbik7XHJcblxyXG5jb25zdCBQcm9ncmFtU2VsZWN0aW9uQ29udGFpbmVyID0gY29ubmVjdChcclxuICBzdGF0ZSA9PiAoe3Byb2dyYW1zOiBzdGF0ZS5wcm9ncmFtc30pLFxyXG4gIGRpc3BhdGNoID0+ICh7b25Qcm9ncmFtQ2xpY2s6IHByb2dyYW0gPT4gZGlzcGF0Y2goc2VsZWN0UHJvZ3JhbShwcm9ncmFtLm5hbWUsIHByb2dyYW0ucHJvZ3JhbSkpfSlcclxuKShQcm9ncmFtU2VsZWN0aW9uUGFuZWwpO1xyXG5cclxuXHJcbi8vIC5kODg4OGIuICAgICAgICBkODg4OCA4ODg4ODg4Yi4gICAuZDg4ODhiLiAgICAgICAgICAgODg4IFxyXG4vL2Q4OFAgIFk4OGIgICAgICBkODg4ODggODg4ICBcIlk4OGIgZDg4UCAgWTg4YiAgICAgICAgICA4ODggXHJcbi8vODg4ICAgIDg4OCAgICAgZDg4UDg4OCA4ODggICAgODg4IFk4OGIuICAgICAgICAgICAgICAgODg4IFxyXG4vLzg4OCAgICAgICAgICAgZDg4UCA4ODggODg4ICAgIDg4OCAgXCJZODg4Yi4gICAgLmQ4OGIuICA4ODggXHJcbi8vODg4ICAgICAgICAgIGQ4OFAgIDg4OCA4ODggICAgODg4ICAgICBcIlk4OGIuIGQ4UCAgWThiIDg4OCBcclxuLy84ODggICAgODg4ICBkODhQICAgODg4IDg4OCAgICA4ODggICAgICAgXCI4ODggODg4ODg4ODggODg4IFxyXG4vL1k4OGIgIGQ4OFAgZDg4ODg4ODg4ODggODg4ICAuZDg4UCBZODhiICBkODhQIFk4Yi4gICAgIDg4OCBcclxuLy8gXCJZODg4OFBcIiBkODhQICAgICA4ODggODg4ODg4OFBcIiAgIFwiWTg4ODhQXCIgICBcIlk4ODg4ICA4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5jb25zdCBBY3RpdmVDYWRzU2VsZWN0b3IgPSAoe2F2YWlsYWJsZUNhZHMsIGFjdGl2ZUNhZHMsIG9uQWN0aXZlQ2Fkc0NoYW5nZX0pID0+IChcclxuICA8U2VsZWN0IFxyXG4gICAgICBtdWx0aT17dHJ1ZX1cclxuICAgICAgb3B0aW9ucz17YXZhaWxhYmxlQ2Fkcy5tYXAoY2FkTmFtZSA9PiAoe2xhYmVsOiBjYWROYW1lLCB2YWx1ZTogY2FkTmFtZX0pKX1cclxuICAgICAgdmFsdWU9e2FjdGl2ZUNhZHN9XHJcbiAgICAgIG9uQ2hhbmdlPXsodmFscykgPT4gb25BY3RpdmVDYWRzQ2hhbmdlKHZhbHMgPyB2YWxzLm1hcCgoKHt2YWx1ZX0pID0+IHZhbHVlKSkgOiBbXSl9XHJcbiAgICAgIHBsYWNlaG9sZGVyPVwiZGVzdGluYXRpb24gQ0FEc1wiXHJcbiAgICAvPlxyXG4pO1xyXG5cclxuY29uc3QgUnVuSW5DYWRQYW5lbCA9ICh7XHJcbiAgYXZhaWxhYmxlQ2FkcywgXHJcbiAgYWN0aXZlQ2FkcywgXHJcbiAgb25BY3RpdmVDYWRzQ2hhbmdlLFxyXG4gIG9uUnVuSW5DYWRDbGlja2VkLFxyXG4gIG9uQ2xlYXJDYWRDbGlja2VkXHJcbn0pID0+IChcclxuICA8ZGl2PlxyXG4gICAgPGgzPkV4cG9ydCB0byBDQUQ8L2gzPlxyXG4gICAgPEFjdGl2ZUNhZHNTZWxlY3RvciBcclxuICAgICAgYWN0aXZlQ2Fkcz17YWN0aXZlQ2Fkc30gXHJcbiAgICAgIGF2YWlsYWJsZUNhZHM9e2F2YWlsYWJsZUNhZHN9XHJcbiAgICAgIG9uQWN0aXZlQ2Fkc0NoYW5nZT17b25BY3RpdmVDYWRzQ2hhbmdlfS8+XHJcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uUnVuSW5DYWRDbGlja2VkfT5SdW4gaW4gQ0FEPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xlYXJDYWRDbGlja2VkfT5DbGVhciBDQUQ8L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmNvbnN0IFJ1bkluQ2FkQ29udGFpbmVyID0gY29ubmVjdChcclxuICBzdGF0ZSA9PiAoe1xyXG4gICAgYXZhaWxhYmxlQ2Fkczogc3RhdGUuYXZhaWxhYmxlQ2FkcywgXHJcbiAgICBhY3RpdmVDYWRzOiBzdGF0ZS5leHBvcnRDYWRzXHJcbiAgfSksXHJcbiAgZGlzcGF0Y2ggPT4gKHtcclxuICAgIG9uQWN0aXZlQ2Fkc0NoYW5nZTogKGFjdGl2ZUNhZHMpID0+IGRpc3BhdGNoKHNldEV4cG9ydENhZHMoYWN0aXZlQ2FkcykpLFxyXG4gICAgb25SdW5JbkNhZENsaWNrZWQ6ICgpID0+IGRpc3BhdGNoKGRvRXhwb3J0VG9DYWRzKCkpLFxyXG4gICAgb25DbGVhckNhZENsaWNrZWQ6ICgpID0+IGRpc3BhdGNoKGRvQ2xlYXJDYWRzKCkpXHJcbiAgfSlcclxuKShSdW5JbkNhZFBhbmVsKTtcclxuXHJcblxyXG4vLyAuZDg4ODhiLiAgZDhiICAgICAgODg4ICAgICAgICAgIDg4ODg4ODhiLiAgICAgICAgICAgICAgICAgICAgICAgICAgICA4ODggXHJcbi8vZDg4UCAgWTg4YiBZOFAgICAgICA4ODggICAgICAgICAgODg4ICAgWTg4YiAgICAgICAgICAgICAgICAgICAgICAgICAgIDg4OCBcclxuLy9ZODhiLiAgICAgICAgICAgICAgIDg4OCAgICAgICAgICA4ODggICAgODg4ICAgICAgICAgICAgICAgICAgICAgICAgICAgODg4IFxyXG4vLyBcIlk4ODhiLiAgIDg4OCAgLmQ4ODg4OCAgLmQ4OGIuICA4ODggICBkODhQIDg4ODhiLiAgODg4ODhiLiAgIC5kODhiLiAgODg4IFxyXG4vLyAgICBcIlk4OGIuIDg4OCBkODhcIiA4ODggZDhQICBZOGIgODg4ODg4OFBcIiAgICAgXCI4OGIgODg4IFwiODhiIGQ4UCAgWThiIDg4OCBcclxuLy8gICAgICBcIjg4OCA4ODggODg4ICA4ODggODg4ODg4ODggODg4ICAgICAgIC5kODg4ODg4IDg4OCAgODg4IDg4ODg4ODg4IDg4OCBcclxuLy9ZODhiICBkODhQIDg4OCBZODhiIDg4OCBZOGIuICAgICA4ODggICAgICAgODg4ICA4ODggODg4ICA4ODggWThiLiAgICAgODg4IFxyXG4vLyBcIlk4ODg4UFwiICA4ODggIFwiWTg4ODg4ICBcIlk4ODg4ICA4ODggICAgICAgXCJZODg4ODg4IDg4OCAgODg4ICBcIlk4ODg4ICA4ODggXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG5jb25zdCB0b3BCYXJIZWlnaHQgPSAnODBweCc7XHJcbmNvbnN0IHByb2dyYW1TZWxlY3Rpb25JY29uID0gJ2ljb25zL3Byb2dyYW0tc2VsZWN0aW9uLnN2Zyc7XHJcbmNvbnN0IHJ1bkluQ2FkSWNvbiA9ICdpY29ucy9ydW4taW4tY2FkLnN2Zyc7XHJcblxyXG5jb25zdCBTaWRlUGFuZWwgPSAoe29uUHJvZ3JhbVNlbGVjdGlvbkljb25DbGlja2VkLCBvblJ1bkluQ2FkSWNvbkNsaWNrZWR9KSA9PiAoXHJcbiAgPFZlcnRpY2FsSWNvbkJhcj5cclxuICAgIDxTcGFjZXIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PXt0b3BCYXJIZWlnaHR9Lz5cclxuICAgIDxJY29uQnV0dG9uIGljb249e3Byb2dyYW1TZWxlY3Rpb25JY29ufSBvbkNsaWNrPXtvblByb2dyYW1TZWxlY3Rpb25JY29uQ2xpY2tlZH0vPlxyXG4gICAgPEljb25CdXR0b24gaWNvbj17cnVuSW5DYWRJY29ufSBvbkNsaWNrPXtvblJ1bkluQ2FkSWNvbkNsaWNrZWR9Lz5cclxuICA8L1ZlcnRpY2FsSWNvbkJhcj5cclxuKTtcclxuXHJcbmNvbnN0IFNpZGVQYW5lbERyYXdlcnMgPSAoe2FjdGl2ZVBhbmVsfSkgPT4gKFxyXG4gIDxkaXYgY2xhc3NOYW1lPSdkcmF3ZXItY29udGFpbmVyJz5cclxuICAgIDxEcmF3ZXIgb3Blbj17YWN0aXZlUGFuZWwgPT09ICdwcm9ncmFtU2VsZWN0aW9uJ30+XHJcbiAgICAgIDxQcm9ncmFtU2VsZWN0aW9uQ29udGFpbmVyLz5cclxuICAgIDwvRHJhd2VyPlxyXG4gICAgPERyYXdlciBvcGVuPXthY3RpdmVQYW5lbCA9PT0gJ3J1bkluQ2FkJ30+XHJcbiAgICAgIDxSdW5JbkNhZENvbnRhaW5lci8+XHJcbiAgICA8L0RyYXdlcj5cclxuICA8L2Rpdj5cclxuKTtcclxuXHJcbmNsYXNzIFNpZGVQYW5lbHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhY3RpdmVQYW5lbDogbnVsbFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZU9yTWFrZUFjdGl2ZShwYW5lbCkge1xyXG4gICAgbGV0IHthY3RpdmVQYW5lbH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVBhbmVsOiBhY3RpdmVQYW5lbCA9PT0gcGFuZWwgPyBudWxsIDogcGFuZWxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgY29uc3Qge2FjdGl2ZVBhbmVsfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCBhY3RpdmF0ZVByb2dTZWxlY3RQYW5lbCA9ICgpID0+IHRoaXMudG9nZ2xlT3JNYWtlQWN0aXZlKCdwcm9ncmFtU2VsZWN0aW9uJyk7XHJcbiAgICBjb25zdCBhY3RpdmF0ZVJ1bkluQ2FkUGFuZWwgPSAoKSA9PiB0aGlzLnRvZ2dsZU9yTWFrZUFjdGl2ZSgncnVuSW5DYWQnKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPFNpZGVQYW5lbCBcclxuICAgICAgICAgIG9uUHJvZ3JhbVNlbGVjdGlvbkljb25DbGlja2VkPXthY3RpdmF0ZVByb2dTZWxlY3RQYW5lbH1cclxuICAgICAgICAgIG9uUnVuSW5DYWRJY29uQ2xpY2tlZD17YWN0aXZhdGVSdW5JbkNhZFBhbmVsfS8+XHJcbiAgICAgICAgPFNpZGVQYW5lbERyYXdlcnMgYWN0aXZlUGFuZWw9e2FjdGl2ZVBhbmVsfS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWRlUGFuZWxzO1xyXG4iLCJcclxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xyXG5cclxuY29uc3QgZXhhbXBsZURhdGEgPSBbXHJcblx0W1wiYXRvbWl1bS5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImF0b21pdW0uanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJlZGlmaWNpb19jYXJtby5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImVkaWZpY2lvX2Nhcm1vLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiZXg2X3RyZWxpY2FfbW9iaXVzLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwiZXg2X3RyZWxpY2FfbW9iaXVzLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiaW5pdGlhbFByb2dyYW0uanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJpbml0aWFsUHJvZ3JhbS5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImluZXMtd2FsbC5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImluZXMtd2FsbC5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcIm5vbGFuLWZhY2FkZS5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcIm5vbGFuLWZhY2FkZS5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcInNoZXVuZy13YW4taG90ZWwtdjMuanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJzaGV1bmctd2FuLWhvdGVsLXYzLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiZG9tLWluby1mcmFtZS5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImRvbS1pbm8tZnJhbWUuanNcIiwgXCJ1dGY4XCIpXSxcclxuXHRbXCJjcnV6ZXRhLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwiY3J1emV0YS5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImNvbHVtbi5qc1wiLCBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgXCIvXCIgKyBcImNvbHVtbi5qc1wiLCBcInV0ZjhcIildLFxyXG5cdFtcImNvbmVTcGhlcmUuanNcIiwgZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArIFwiL1wiICsgXCJjb25lU3BoZXJlLmpzXCIsIFwidXRmOFwiKV0sXHJcblx0W1wiY2l0aWVzLmpzXCIsIGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyBcIi9cIiArIFwiY2l0aWVzLmpzXCIsIFwidXRmOFwiKV1cclxuXTtcclxuXHJcbmNvbnN0IGV4YW1wbGVzID0gZXhhbXBsZURhdGEubWFwKFxyXG5cdChbbmFtZSwgc291cmNlQ29kZV0pPT4oe1xyXG5cdFx0bmFtZTogbmFtZSxcclxuXHRcdHByb2dyYW06IHNvdXJjZUNvZGVcclxuXHR9KSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5leGFtcGxlcyA9IGV4YW1wbGVzO1xyXG4iLCJcclxuLy9yZXF1aXJlKCcuL3BhZ2UnKTtcclxuXHJcbnJlcXVpcmUoJy4vYWN0aW9ucy1yZWR1Y2Vycy9jb21wb25lbnRzLXRlc3QuanN4Jyk7XHJcbiIsIlxyXG5mdW5jdGlvbiB0aW1lKGxhYmVsLCB0aHVuaykge1xyXG5cdGxldCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdGxldCByZXMgPSB0aHVuaygpO1xyXG5cdGxldCB0MSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdGNvbnNvbGUubG9nKGxhYmVsLCB0MS10MCk7XHJcblx0cmV0dXJuIHJlcztcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGltZTtcclxuIl19
